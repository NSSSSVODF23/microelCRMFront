var LF=Object.defineProperty,RF=Object.defineProperties,NF=Object.getOwnPropertyDescriptors,ZA=Object.getOwnPropertySymbols,FF=Object.prototype.hasOwnProperty,BF=Object.prototype.propertyIsEnumerable,jx=(dn,pt,C)=>pt in dn?LF(dn,pt,{enumerable:!0,configurable:!0,writable:!0,value:C}):dn[pt]=C,lb=(dn,pt)=>{for(var C in pt||(pt={}))FF.call(pt,C)&&jx(dn,C,pt[C]);if(ZA)for(var C of ZA(pt))BF.call(pt,C)&&jx(dn,C,pt[C]);return dn},cb=(dn,pt)=>RF(dn,NF(pt)),gi=(dn,pt,C)=>(jx(dn,"symbol"!=typeof pt?pt+"":pt,C),C);(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{4e3:(dn,pt,C)=>{"use strict";C.d(pt,{Ji:()=>R,PJ:()=>b,S9:()=>d,U1:()=>x,aq:()=>O,ls:()=>u,mo:()=>s,x$:()=>F,zW:()=>p});var e=C(1777);const d=(0,e.X$)("flowInChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateY(-2rem)"}),(0,e.EY)(30,(0,e.jt)(".3s",(0,e.oB)({opacity:1,transform:"translateY(0)"})))],{optional:!0})])]),u=(0,e.X$)("flow",[(0,e.eR)(":enter",[(0,e.oB)({opacity:.6,transform:"translateY(.6rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateY(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateY(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateY(.6rem)"}))])]),p=(0,e.X$)("flowLeft",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(10rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateX(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateX(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateX(10rem)",height:0}))])]),x=(0,e.X$)("fade",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0}))])]),R=(0,e.X$)("fadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))])]),b=(0,e.X$)("fadeAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:.2})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),s=(0,e.X$)("fadeFullAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:1})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),F=(0,e.X$)("swipeChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(-2rem)"}),(0,e.EY)(85,[(0,e.jt)("250ms",(0,e.oB)({opacity:1,transform:"none"}))])],{optional:!0})])]),O=(0,e.X$)("swipe",[(0,e.SB)("default",(0,e.oB)({opacity:1,transform:"translateX(0)"})),(0,e.SB)("right",(0,e.oB)({opacity:0,transform:"translateX(10%) scale(0.9)",transformOrigin:"center right"})),(0,e.SB)("left",(0,e.oB)({opacity:0,transform:"translateX(-10%) scale(0.9)",transformOrigin:"center left"})),(0,e.eR)("default <=> right",(0,e.jt)("200ms ease-out")),(0,e.eR)("default <=> left",(0,e.jt)("200ms ease-out")),(0,e.eR)("right <=> left",(0,e.jt)("0s"))])},158:(dn,pt,C)=>{"use strict";C.d(pt,{_:()=>x,q:()=>R});var e=C(3470),d=C(5107),u=C(383),p=C(5e3);const x=[{path:"",loadChildren:()=>u.Ke.loadOrDefault("isOffsite",!1)?C.e(31).then(C.bind(C,8031)).then(b=>b.InstallersModule):Promise.resolve().then(C.bind(C,9763)).then(b=>b.MainModule),canActivate:[d.a],canActivateChild:[d.a]},{path:"login",loadChildren:()=>Promise.resolve().then(C.bind(C,975)).then(b=>b.LoginModule)}];let R=(()=>{class b{}return b.\u0275fac=function(F){return new(F||b)},b.\u0275mod=p.oAB({type:b}),b.\u0275inj=p.cJS({imports:[e.Bz.forRoot(x,{}),e.Bz]}),b})()},2587:(dn,pt,C)=>{"use strict";C.d(pt,{s:()=>d});const e={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","]":"\u044a",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",";":"\u0436","'":"\u044d",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",",":"\u0431",".":"\u044e",Q:"\u0419",W:"\u0426",E:"\u0423",R:"\u041a",T:"\u0415",Y:"\u041d",U:"\u0413",I:"\u0428",O:"\u0429",P:"\u0417","{":"\u0425","}":"\u042a",A:"\u0424",S:"\u042b",D:"\u0412",F:"\u0410",G:"\u041f",H:"\u0420",J:"\u041e",K:"\u041b",L:"\u0414",":":"\u0416",'"':"\u042d",Z:"\u042f",X:"\u0427",C:"\u0421",V:"\u041c",B:"\u0418",N:"\u0422",M:"\u042c","<":"\u0411",">":"\u042e"};class d{static translate(p){let x="";for(let R=0;R<p.length;R++)x+=e[p[R]]||p[R];return x}}},6081:(dn,pt,C)=>{"use strict";C.d(pt,{G:()=>Ot});var e=C(655),d=C(5677),u=C(7579),p=C(9841),x=C(9300),R=C(8372),b=C(1135),s=C(8675),F=C(4004),O=C(3900),Q=C(8505),N=C(7384),T=C(2382),y=C(5e3),w=C(8738),k=C(8007),V=C(6768),U=C(9783);function oe(Oe,et){1&Oe&&(y.ynx(0),y.TgZ(1,"th",28),y._uU(2,"\u041f\u043e\u0440\u0442\u044b "),y._UZ(3,"p-sortIcon",29),y.qZA(),y.BQk())}function K(Oe,et){1&Oe&&(y.ynx(0),y.TgZ(1,"th"),y._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),y.qZA(),y.TgZ(3,"th",30),y._uU(4,"\u041b\u043e\u0433\u0438\u043d "),y._UZ(5,"p-sortIcon",31),y.qZA(),y.BQk())}function H(Oe,et){1&Oe&&(y.ynx(0),y.TgZ(1,"th"),y._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),y.qZA(),y.BQk())}function D(Oe,et){1&Oe&&(y.TgZ(0,"th"),y._uU(1,"Ping"),y.qZA())}function P(Oe,et){if(1&Oe&&(y.TgZ(0,"tr"),y.YNc(1,oe,4,0,"ng-container",15),y.YNc(2,K,6,0,"ng-container",15),y.YNc(3,H,3,0,"ng-container",15),y.TgZ(4,"th",16),y._uU(5,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),y._UZ(6,"p-sortIcon",17),y.qZA(),y.TgZ(7,"th",18),y._uU(8,"\u0412 \u0441\u0435\u0442\u0438 "),y._UZ(9,"p-sortIcon",19),y.qZA(),y.TgZ(10,"th"),y._uU(11,"\u0410\u0434\u0440\u0435\u0441"),y.qZA(),y.TgZ(12,"th",20),y._uU(13,"IP \u0410\u0434\u0440\u0435\u0441 "),y._UZ(14,"p-sortIcon",21),y.qZA(),y.TgZ(15,"th",22),y._uU(16,"MAC \u0410\u0434\u0440\u0435\u0441 "),y._UZ(17,"p-sortIcon",23),y.qZA(),y.TgZ(18,"th",24),y._uU(19,"VLAN "),y._UZ(20,"p-sortIcon",25),y.qZA(),y.TgZ(21,"th",26),y._uU(22,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),y._UZ(23,"p-sortIcon",27),y.qZA(),y.YNc(24,D,2,0,"th",15),y.qZA()),2&Oe){const Ne=y.oxw();y.xp6(1),y.Q6J("ngIf","commutator"===Ne.filterMode),y.xp6(1),y.Q6J("ngIf","login"!==Ne.filterMode),y.xp6(1),y.Q6J("ngIf","login"===Ne.filterMode),y.xp6(21),y.Q6J("ngIf",Ne.ping)}}function Y(Oe,et){if(1&Oe&&(y.ynx(0),y.TgZ(1,"td")(2,"span"),y._uU(3),y.qZA()(),y.BQk()),2&Oe){const Ne=y.oxw().$implicit;y.xp6(3),y.Oqu(Ne.portList)}}function re(Oe,et){if(1&Oe&&y._UZ(0,"app-colored-tag",41),2&Oe){const Ne=et.ngIf;y.Q6J("caption",Ne.statusName)("color",Ne.statusColor)}}function j(Oe,et){1&Oe&&y.GkF(0)}const G=function(){return{width:"65px"}};function ie(Oe,et){if(1&Oe&&(y.ynx(0),y.YNc(1,j,1,0,"ng-container",42),y.BQk()),2&Oe){y.oxw(4);const Ne=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Ne)("ngTemplateOutletContext",y.DdM(2,G))}}function Te(Oe,et){if(1&Oe&&(y.ynx(0),y.YNc(1,re,1,2,"app-colored-tag",40),y.YNc(2,ie,2,3,"ng-container",15),y.BQk()),2&Oe){const Ne=y.oxw(2).$implicit,yt=y.oxw();y.xp6(1),y.Q6J("ngIf",yt.bindingsUserBriefs[Ne.authName]),y.xp6(1),y.Q6J("ngIf",!yt.bindingsUserBriefs[Ne.authName])}}const Me=function(Oe){return["/clients","billing","user",Oe]};function de(Oe,et){if(1&Oe&&(y.TgZ(0,"span",43),y._uU(1),y.qZA()),2&Oe){const Ne=y.oxw(2).$implicit;y.Q6J("routerLink",y.VKq(2,Me,Ne.authName)),y.xp6(1),y.hij(" ",Ne.authName," ")}}function te(Oe,et){if(1&Oe&&(y.ynx(0),y.TgZ(1,"td"),y.YNc(2,Te,3,2,"ng-container",36),y.qZA(),y.TgZ(3,"td",38),y.NdJ("click",function(yt){return yt.stopPropagation()}),y.YNc(4,de,2,4,"span",39),y.qZA(),y.BQk()),2&Oe){const Ne=y.oxw().$implicit;y.oxw();const yt=y.MAs(17);y.xp6(2),y.Q6J("ngIf",Ne.authName)("ngIfElse",yt),y.xp6(2),y.Q6J("ngIf",Ne.authName)("ngIfElse",yt)}}function ce(Oe,et){1&Oe&&(y.TgZ(0,"span",44),y._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d"),y.qZA())}function J(Oe,et){1&Oe&&(y.TgZ(0,"span",45),y._uU(1,"\u041e\u0444\u043b\u0430\u0439\u043d"),y.qZA())}function ve(Oe,et){if(1&Oe&&(y.ynx(0),y.TgZ(1,"td"),y.YNc(2,ce,2,0,"span",33),y.YNc(3,J,2,0,"span",34),y.qZA(),y.BQk()),2&Oe){const Ne=y.oxw().$implicit;y.xp6(2),y.Q6J("ngIf","ONLINE"===Ne.onlineStatus),y.xp6(1),y.Q6J("ngIf","ONLINE"!==Ne.onlineStatus)}}function be(Oe,et){1&Oe&&(y.TgZ(0,"span",44),y._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),y.qZA())}function Be(Oe,et){1&Oe&&(y.TgZ(0,"span",45),y._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),y.qZA())}function we(Oe,et){if(1&Oe&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&Oe){const Ne=et.ngIf;y.xp6(1),y.hij(" ",Ne.address," ")}}function ke(Oe,et){1&Oe&&y.GkF(0)}const X=function(){return{width:"105px"}};function q(Oe,et){if(1&Oe&&(y.ynx(0),y.YNc(1,ke,1,0,"ng-container",42),y.BQk()),2&Oe){y.oxw(3);const Ne=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Ne)("ngTemplateOutletContext",y.DdM(2,X))}}function pe(Oe,et){if(1&Oe&&(y.ynx(0),y.YNc(1,we,2,1,"span",15),y.YNc(2,q,2,3,"ng-container",15),y.BQk()),2&Oe){const Ne=y.oxw().$implicit,yt=y.oxw();y.xp6(1),y.Q6J("ngIf",yt.bindingsUserBriefs[Ne.authName]),y.xp6(1),y.Q6J("ngIf",!yt.bindingsUserBriefs[Ne.authName])}}function _e(Oe,et){if(1&Oe&&(y.TgZ(0,"td"),y._uU(1),y.qZA()),2&Oe){const Ne=y.oxw().$implicit;y.xp6(1),y.Oqu(Ne.macaddr)}}function Xe(Oe,et){if(1&Oe&&(y.TgZ(0,"td"),y._UZ(1,"app-binding-connection-location-view",46),y.qZA()),2&Oe){const Ne=y.oxw().$implicit;y.xp6(1),y.Q6J("binding",Ne)}}function ct(Oe,et){if(1&Oe&&(y.ynx(0),y.TgZ(1,"span",0)(2,"span"),y._uU(3),y.ALo(4,"number"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.ALo(7,"number"),y.qZA()(),y.BQk()),2&Oe){const Ne=et.ngIf;y.xp6(1),y.Q6J("ngClass",Ne.styleClass),y.xp6(2),y.hij(" ",999===Ne.latency?"- ":y.xi3(4,3,Ne.latency,"1.2-2"),"\u043c\u0441 "),y.xp6(3),y.hij(" ",y.xi3(7,6,Ne.loss,"1.2-2"),"% ")}}function ot(Oe,et){1&Oe&&y.GkF(0)}const Zt=function(){return{width:"85px"}};function Dt(Oe,et){if(1&Oe&&(y.ynx(0),y.YNc(1,ot,1,0,"ng-container",42),y.BQk()),2&Oe){y.oxw(4);const Ne=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Ne)("ngTemplateOutletContext",y.DdM(2,Zt))}}function Cn(Oe,et){if(1&Oe&&(y.ynx(0),y.YNc(1,ct,8,9,"ng-container",15),y.ALo(2,"async"),y.YNc(3,Dt,2,3,"ng-container",15),y.ALo(4,"async"),y.BQk()),2&Oe){const Ne=y.oxw(2).$implicit,yt=y.oxw();y.xp6(1),y.Q6J("ngIf",y.lcZ(2,2,yt.bindingsPings[Ne.ipaddr])),y.xp6(2),y.Q6J("ngIf",!y.lcZ(4,4,yt.bindingsPings[Ne.ipaddr]))}}function Xt(Oe,et){if(1&Oe&&(y.TgZ(0,"td"),y.YNc(1,Cn,5,6,"ng-container",36),y.qZA()),2&Oe){const Ne=y.oxw().$implicit;y.oxw();const yt=y.MAs(17);y.xp6(1),y.Q6J("ngIf",Ne.ipaddr)("ngIfElse",yt)}}function jt(Oe,et){if(1&Oe){const Ne=y.EpF();y.TgZ(0,"tr",32),y.NdJ("click",function(ee){const Ce=y.CHM(Ne).$implicit,ft=y.oxw(),an=y.MAs(6);return y.KtG(ft.selectBinding(ee,Ce,an))}),y.YNc(1,Y,4,1,"ng-container",15),y.YNc(2,te,5,4,"ng-container",15),y.YNc(3,ve,4,2,"ng-container",15),y.TgZ(4,"td"),y.YNc(5,be,2,0,"span",33),y.YNc(6,Be,2,0,"span",34),y.qZA(),y.TgZ(7,"td"),y._UZ(8,"app-time-elapsed",35),y.qZA(),y.TgZ(9,"td"),y.YNc(10,pe,3,2,"ng-container",36),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.YNc(13,_e,2,1,"td",15),y.YNc(14,Xe,2,1,"td",15),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td")(18,"div",37),y._uU(19),y.qZA()(),y.YNc(20,Xt,2,2,"td",15),y.qZA()}if(2&Oe){const Ne=et.$implicit,yt=y.oxw(),ee=y.MAs(17);y.xp6(1),y.Q6J("ngIf","commutator"===yt.filterMode),y.xp6(1),y.Q6J("ngIf","login"!==yt.filterMode),y.xp6(1),y.Q6J("ngIf","login"===yt.filterMode),y.xp6(2),y.Q6J("ngIf",Ne.isAuth),y.xp6(1),y.Q6J("ngIf",!Ne.isAuth),y.xp6(2),y.Q6J("startTime",Ne.leaseStart),y.xp6(2),y.Q6J("ngIf",Ne.authName)("ngIfElse",ee),y.xp6(2),y.Oqu(Ne.ipaddr),y.xp6(1),y.Q6J("ngIf","commutator"===yt.filterMode),y.xp6(1),y.Q6J("ngIf","commutator"!==yt.filterMode),y.xp6(2),y.Oqu(Ne.vlanid),y.xp6(3),y.hij(" ",Ne.dhcpHostname," "),y.xp6(1),y.Q6J("ngIf",yt.ping)}}function ht(Oe,et){if(1&Oe){const Ne=y.EpF();y.TgZ(0,"p-button",47),y.NdJ("onClick",function(){y.CHM(Ne);const ee=y.oxw();return y.KtG(ee.bindingsUpdator$.next(!0))}),y.qZA()}if(2&Oe){const Ne=y.oxw();y.Q6J("disabled",Ne.bindingsLoadingState!==Ne.LoadingState.READY)}}function ut(Oe,et){1&Oe&&y._UZ(0,"p-skeleton",48),2&Oe&&y.Q6J("width",et.width)}function xe(Oe,et){1&Oe&&(y.TgZ(0,"span",49),y._uU(1," - "),y.qZA())}const De=function(Oe){return{"flex flex-grow-1 overflow-hidden border-round border-1 border-bluegray-100":Oe}},We=function(){return[]},gt=function(Oe){return{field:"leaseStart",order:Oe}},Tt=function(Oe){return[Oe]},Ft=function(){return[10,25,50,100]};let Ot=class{constructor(et,Ne,yt,ee){this.api=et,this.rt=Ne,this.blockService=yt,this.toast=ee,this.LoadingState=N.Gu,this.inline=!1,this.ping=!0,this.filterId$=new u.x,this.filterMode$=new u.x,this.bindingsStatus$=new u.x,this.filterOptionsChanged$=(0,p.a)([this.filterId$.pipe((0,x.h)(Ze=>!!Ze)),this.filterMode$.pipe((0,x.h)(Ze=>!!Ze))]).pipe((0,R.b)(1)),this.bindingsLoadingState=N.Gu.LOADING,this.bindingsTableOffset=0,this.bindingsPings={},this.bindingsUserBriefs={},this.bindingContextOptions=[],this.userAuthDialogVisible=!1,this.selectBindingForAuth=null,this.authUserForm=new T.cw({login:new T.NI("",[T.kI.required]),macaddr:new T.NI("",[T.kI.required])}),this.bindingsLazyLoad$=new u.x,this.bindingsUpdator$=new b.X(!0),this.filterData$=(0,p.a)([this.bindingsLazyLoad$,this.bindingsStatus$.pipe((0,s.O)(void 0))]).pipe((0,R.b)(1),(0,F.U)(([{first:Ze,rows:Ce,multiSortMeta:ft},an])=>({page:Ze/Ce,filter:{size:Ce,status:an,sort:ft}}))),this.bindingRTUpdate$=this.filterOptionsChanged$.pipe((0,O.w)(([Ze,Ce])=>this.rt.acpDhcpBindingUpdated().pipe((0,x.h)(ft=>"login"===Ce?ft.authName===Ze:"vlan"===Ce&&ft.vlanid===Number.parseInt(Ze)))),(0,s.O)(null)),this.bindings$=(0,p.a)([this.filterOptionsChanged$,this.filterData$,this.bindingsUpdator$,this.bindingRTUpdate$]).pipe((0,Q.b)(()=>this.bindingsLoadingState=N.Gu.LOADING),(0,O.w)(([[Ze,Ce],{page:ft,filter:an}])=>"login"===Ce?this.api.getBindingsByLogin(Ze,ft,an):"vlan"===Ce?this.api.getBindingsByVlan(Number.parseInt(Ze),ft,an):"building-by-login"===Ce?this.api.getBindingsFromBuildingByLogin(Ze,ft,an):"commutator"===Ce?this.api.getBindingsByCommutator(Ze,ft,an):this.api.getBindingsByBuildingId(Number.parseInt(Ze),ft,an)),(0,Q.b)({next:Ze=>{this.bindingsLoadingState=N.Gu.READY,this.bindingsPings={},this.bindingsUserBriefs={};for(const{ipaddr:Ce}of Ze.content)Ce&&(this.bindingsPings[Ce]=this.pingObserver(Ce));this.api.getBulkUserBriefInfo(Ze.content.filter(Ce=>Ce.authName).map(Ce=>Ce.authName)).subscribe(Ce=>this.bindingsUserBriefs=Ce)},error:()=>this.bindingsLoadingState=N.Gu.ERROR})),this.bindingsPage=null,this.bindingsPageSub=this.bindings$.subscribe(Ze=>this.bindingsPage=Ze)}ngOnInit(){}selectBinding(et,Ne,yt){const{clientX:ee,clientY:Ze}=et,Ce=document.createElement("div");Ce.className="fixed w-1rem h-1rem pointer-events-none",Ce.style.left=ee+"px",Ce.style.top=Ze+"px",document.body.appendChild(Ce),this.bindingContextOptions=[{icon:"mdi-web",label:"\u0423\u0434\u0430\u043b\u0435\u043d\u043a\u0430",disabled:!Ne.ipaddr,command:()=>{this.openWeb(Ne.ipaddr)}},{icon:"mdi-password",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",command:()=>{this.selectBindingForAuth=Ne,this.userAuthDialogVisible=!0,this.authUserForm.reset({login:this.preparedAuthLogin?this.preparedAuthLogin:"",macaddr:Ne.macaddr})}}],yt.show(et),setTimeout(()=>{yt.target=Ce,yt.alignOverlay(),document.body.removeChild(Ce)})}authUser(){const{login:et,macaddr:Ne}=this.authUserForm.value;!et||!Ne||(this.blockService.wait({message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),this.api.authDhcpBinding(et,Ne).subscribe({next:()=>{this.blockService.unblock(),this.userAuthDialogVisible=!1},error:()=>this.blockService.unblock()}))}openWeb(et){this.blockService.wait({message:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),this.api.checkRemoteControl(et).subscribe({next:Ne=>{this.blockService.unblock(),Ne.hasAccess&&Ne.webPort?window.open(`http://${et}:${Ne.webPort}`,"_blank"):this.toast.add({detail:"\u041d\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430",severity:"dark",key:"darktoast",icon:"mdi-web",closable:!1})},error:()=>{this.blockService.unblock()}})}pingObserver(et){return this.rt.pingMonitoring(et).pipe((0,F.U)(Ne=>{const yt=100-Ne.reachablePercentage;return{online:Ne.isReachable,latency:Ne.delayAvg,loss:yt,styleClass:yt>0?"text-red-400":"text-green-400"}}))}};Ot.\u0275fac=function(et){return new(et||Ot)(y.Y36(w.s),y.Y36(k.U),y.Y36(V.A),y.Y36(U.ez))},Ot.\u0275cmp=y.Xpm({type:Ot,selectors:[["app-bindings-table"]],inputs:{filterId:"filterId",filterMode:"filterMode",bindingsStatus:"bindingsStatus",inline:"inline",preparedAuthLogin:"preparedAuthLogin",ping:"ping"},decls:18,vars:30,consts:[[3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1","dataKey","id","paginatorDropdownAppendTo","body","currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0441\u0435\u0441\u0441\u0438\u0439","sortMode","multiple",1,"flex-grow-1",3,"value","totalRecords","showCurrentPageReport","multiSortMeta","rowsPerPageOptions","paginator","first","lazy","rows","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorright"],["appendTo","body",3,"popup","model"],["bindingContextPanel",""],["header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c","appendTo","body","contentStyleClass","flex flex-column gap-3",3,"visible","modal","draggable","dismissableMask","visibleChange"],["userAuthDialog",""],[1,"font-bold","text-bluegray-500"],[1,"flex","gap-3",3,"formGroup"],["pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","login",1,"flex-grow-1",3,"autofocus"],["pButton","","type","button","label","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",1,"p-button-success",3,"disabled","click"],["loadingCellTemplate",""],["emptyCellTemplate",""],[4,"ngIf"],["pSortableColumn","authExpire"],["field","authExpire"],["pSortableColumn","leaseStart"],["field","leaseStart"],["pSortableColumn","ipaddr"],["field","ipaddr"],["pSortableColumn","macaddr"],["field","macaddr"],["pSortableColumn","vlanid"],["field","vlanid"],["pSortableColumn","dhcpHostname"],["field","dhcpHostname"],["pSortableColumn","ports"],["field","ports"],["pSortableColumn","authName"],["field","authName"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],["class","font-bold text-green-400",4,"ngIf"],["class","font-bold text-gray-400",4,"ngIf"],["type","short",3,"startTime"],[4,"ngIf","ngIfElse"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"font-bold","text-primary","hover:text-primary-700","cursor-pointer",3,"click"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"caption","color",4,"ngIf"],[3,"caption","color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink"],[1,"font-bold","text-green-400"],[1,"font-bold","text-gray-400"],[3,"binding"],["type","button","icon","mdi-update","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],[3,"width"],[1,"text-bluegray-300","text-xl","font-bold"]],template:function(et,Ne){if(1&et&&(y.TgZ(0,"div",0)(1,"p-table",1),y.NdJ("firstChange",function(ee){return Ne.bindingsTableOffset=ee})("onLazyLoad",function(ee){return Ne.bindingsLazyLoad$.next(ee)}),y.YNc(2,P,25,4,"ng-template",2),y.YNc(3,jt,21,14,"ng-template",3),y.YNc(4,ht,1,1,"ng-template",4),y.qZA()(),y._UZ(5,"p-menu",5,6),y.TgZ(7,"p-dialog",7,8),y.NdJ("visibleChange",function(ee){return Ne.userAuthDialogVisible=ee}),y.TgZ(9,"span",9),y._uU(10),y.qZA(),y.TgZ(11,"div",10),y._UZ(12,"input",11),y.TgZ(13,"button",12),y.NdJ("click",function(){return Ne.authUser()}),y.qZA()()(),y.YNc(14,ut,1,1,"ng-template",null,13,y.W1O),y.YNc(16,xe,2,0,"ng-template",null,14,y.W1O)),2&et){let yt,ee;y.Q6J("ngClass",y.VKq(22,De,!Ne.inline)),y.xp6(1),y.Q6J("value",null!==(yt=null==Ne.bindingsPage?null:Ne.bindingsPage.content)&&void 0!==yt?yt:y.DdM(24,We))("totalRecords",null!==(ee=null==Ne.bindingsPage?null:Ne.bindingsPage.totalElements)&&void 0!==ee?ee:0)("showCurrentPageReport",!0)("multiSortMeta",y.VKq(27,Tt,y.VKq(25,gt,-1)))("rowsPerPageOptions",y.DdM(29,Ft))("paginator",!0)("first",Ne.bindingsTableOffset)("lazy",!0)("rows",10),y.xp6(4),y.Q6J("popup",!0)("model",Ne.bindingContextOptions),y.xp6(2),y.Q6J("visible",Ne.userAuthDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),y.xp6(3),y.lnq("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 ",null==Ne.selectBindingForAuth?null:Ne.selectBindingForAuth.dhcpHostname," ",null==Ne.selectBindingForAuth?null:Ne.selectBindingForAuth.ipaddr," ",null==Ne.selectBindingForAuth?null:Ne.selectBindingForAuth.macaddr,""),y.xp6(1),y.Q6J("formGroup",Ne.authUserForm),y.xp6(1),y.Q6J("autofocus",!0),y.xp6(1),y.Q6J("disabled",Ne.authUserForm.invalid)}}}),(0,e.gn)([(0,d.bQ)("filterId")],Ot.prototype,"filterId$",void 0),(0,e.gn)([(0,d.bQ)("filterMode")],Ot.prototype,"filterMode$",void 0),(0,e.gn)([(0,d.bQ)("bindingsStatus")],Ot.prototype,"bindingsStatus$",void 0),Ot=(0,e.gn)([(0,d.kG)()],Ot)},9706:(dn,pt,C)=>{"use strict";C.d(pt,{J:()=>K});var e=C(4004),d=C(2382),u=C(5e3),p=C(8028),x=C(3470),R=C(8738),b=C(9744);const s=["menu"];function F(H,D){1&H&&u.GkF(0)}function O(H,D){if(1&H){const P=u.EpF();u.ynx(0),u.TgZ(1,"p-button",26),u.NdJ("onClick",function(re){u.CHM(P),u.oxw(2);const j=u.MAs(19);return u.KtG(j.toggle(re))}),u.qZA(),u.YNc(2,F,1,0,"ng-container",27),u.BQk()}if(2&H){const P=u.oxw(2),Y=u.MAs(23),re=u.MAs(21);u.xp6(2),u.Q6J("ngIf",P.notifyService.isHasUnread)("ngIfThen",Y)("ngIfElse",re)}}function Q(H,D){if(1&H&&(u.ynx(0),u._UZ(1,"app-avatar",21),u.TgZ(2,"div",22)(3,"span",23),u._uU(4),u.qZA(),u.TgZ(5,"span",24),u._uU(6),u.qZA()(),u.YNc(7,O,3,3,"ng-container",25),u.BQk()),2&H){const P=D.ngIf;u.oxw();const Y=u.MAs(25);u.xp6(1),u.Q6J("name",P.fullName)("size",3)("src",P.avatar),u.xp6(3),u.Oqu(P.fullName),u.xp6(2),u.Oqu(null==P.position?null:P.position.name),u.xp6(1),u.Q6J("ngIf",!P.offsite)("ngIfElse",Y)}}function N(H,D){1&H&&(u.TgZ(0,"div",28),u._UZ(1,"i",29),u.qZA())}function T(H,D){if(1&H&&u._UZ(0,"img",30),2&H){const P=u.oxw();u.Q6J("src",P.croppedImage,u.LSH)}}const y=function(){return[]};function w(H,D){if(1&H){const P=u.EpF();u._UZ(0,"p-dropdown",31),u.ALo(1,"async"),u.TgZ(2,"p-button",32),u.NdJ("onClick",function(){u.CHM(P);const re=u.oxw();return u.KtG(re.bindPhone())}),u.qZA()}if(2&H){const P=u.oxw();let Y;u.Q6J("options",null!==(Y=u.lcZ(1,4,P.phones$))&&void 0!==Y?Y:u.DdM(6,y))("formControl",P.phyPhoneControl)("disabled",P.isPhyPhoneIsBinding),u.xp6(2),u.Q6J("loading",P.isPhyPhoneIsBinding)}}function k(H,D){if(1&H){const P=u.EpF();u.TgZ(0,"p-button",33),u.NdJ("onClick",function(){u.CHM(P);const re=u.oxw();return u.KtG(re.notifyService.showSideBar())}),u.qZA()}}function V(H,D){if(1&H){const P=u.EpF();u.TgZ(0,"span",34)(1,"p-button",35),u.NdJ("onClick",function(){u.CHM(P);const re=u.oxw();return u.KtG(re.notifyService.showSideBar())}),u.qZA()()}if(2&H){const P=u.oxw();u.Q6J("value",P.notifyService.unreadCount.toString())}}function U(H,D){if(1&H){const P=u.EpF();u.TgZ(0,"p-button",36),u.NdJ("onClick",function(){u.CHM(P);const re=u.oxw();return u.KtG(re.exitFromAccount())}),u.qZA()}}const oe=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let K=(()=>{class H{constructor(P,Y,re,j){this.personality=P,this.router=Y,this.api=re,this.notifyService=j,this.avatarChangeDialogVisible=!1,this.phyPhoneSelectionDialogVisible=!1,this.phyPhoneControl=new d.NI(null),this.isPhyPhoneIsBinding=!1,this.controls=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d",command:()=>this.openPhyPhoneSelectionDialog()},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1,this.phones$=this.api.getPhyPhoneList().pipe((0,e.U)(G=>[{label:"\u0411\u0435\u0437 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:null},...G]))}ngOnInit(){}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}openPhyPhoneSelectionDialog(){var P,Y;this.personality.me&&this.phyPhoneControl.setValue(null!==(Y=null===(P=this.personality.me.phyPhoneInfo)||void 0===P?void 0:P.phyPhoneInfoId)&&void 0!==Y?Y:null),this.phyPhoneSelectionDialogVisible=!0}imageCropped(P){this.croppedImage=P.base64}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(P){P.click()}bindPhone(){this.isPhyPhoneIsBinding=!0,this.api.setPhyPhoneBind(this.phyPhoneControl.value).subscribe({next:()=>{this.isPhyPhoneIsBinding=!1,this.phyPhoneSelectionDialogVisible=!1},error:()=>{this.isPhyPhoneIsBinding=!1}})}ngOnDestroy(){}}return H.\u0275fac=function(P){return new(P||H)(u.Y36(p.F),u.Y36(x.F0),u.Y36(R.s),u.Y36(b.T))},H.\u0275cmp=u.Xpm({type:H,selectors:[["app-account-panel"]],viewQuery:function(P,Y){if(1&P&&u.Gf(s,5),2&P){let re;u.iGM(re=u.CRH())&&(Y.accountPanelMenu=re.first)}},decls:26,vars:31,consts:[[1,"flexed","hcenter","gap5","wrapper"],[4,"ngIf"],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],[1,"avatar-change-content"],[1,"flexed","gap10","p5","hcenter","vcenter"],[1,"preview-wrapper"],["class","preview unselect",4,"ngIf"],["class","preview","alt","",3,"src",4,"ngIf"],[1,"flexed","column","gap5"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","imageCropped"],["appendTo","body","header","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d","contentStyleClass","flex gap-3 align-items-center pt-1",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["appendTo","body","appCloseIfScroll","",3,"model","popup","baseZIndex","isVisible","alignFn"],["menu",""],["emptyNoti",""],["fullNoti",""],["logoutButtonTemp",""],[3,"name","size","src"],[1,"flexed","column","account"],[1,"account-name"],[1,"account-position"],[4,"ngIf","ngIfElse"],["icon","mdi-more_vert","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"preview","unselect"],[1,"mdi-image"],["alt","",1,"preview",3,"src"],["appendTo","body",3,"options","formControl","disabled"],["label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-notifications_none","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["pBadge","","severity","warning",3,"value"],["icon","mdi-notifications_active","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["label","\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430","icon","mdi-logout","styleClass","p-button-text p-button-secondary",3,"onClick"]],template:function(P,Y){if(1&P){const re=u.EpF();u.TgZ(0,"div",0),u.YNc(1,Q,8,7,"ng-container",1),u.qZA(),u.TgZ(2,"p-dialog",2),u.NdJ("visibleChange",function(G){return Y.avatarChangeDialogVisible=G}),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u.YNc(6,N,2,0,"div",6),u.YNc(7,T,1,1,"img",7),u.TgZ(8,"span"),u._uU(9," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),u.qZA()(),u.TgZ(10,"div",8)(11,"p-button",9),u.NdJ("onClick",function(){u.CHM(re);const G=u.MAs(14);return u.KtG(Y.selectFile(G))}),u.qZA(),u.TgZ(12,"p-button",10),u.NdJ("onClick",function(){return Y.saveAvatar()}),u.qZA()(),u.TgZ(13,"input",11,12),u.NdJ("change",function(G){return Y.imageChangedEvent=G}),u.qZA()(),u.TgZ(15,"image-cropper",13),u.NdJ("imageCropped",function(G){return Y.imageCropped(G)}),u.qZA()()(),u.TgZ(16,"p-dialog",14),u.NdJ("visibleChange",function(G){return Y.phyPhoneSelectionDialogVisible=G}),u.YNc(17,w,3,7,"ng-template",15),u.qZA(),u._UZ(18,"p-menu",16,17),u.YNc(20,k,1,0,"ng-template",null,18,u.W1O),u.YNc(22,V,2,1,"ng-template",null,19,u.W1O),u.YNc(24,U,1,0,"ng-template",null,20,u.W1O)}if(2&P){const re=u.MAs(19);u.xp6(1),u.Q6J("ngIf",Y.personality.me),u.xp6(1),u.Q6J("visible",Y.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),u.xp6(4),u.Q6J("ngIf",!Y.croppedImage),u.xp6(1),u.Q6J("ngIf",Y.croppedImage),u.xp6(4),u.Q6J("disabled",Y.avatarUpload),u.xp6(1),u.Q6J("loading",Y.avatarUpload)("disabled",!Y.croppedImage),u.xp6(1),u.Udp("display","none"),u.xp6(2),u.Akn(u.DdM(30,oe)),u.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",Y.imageChangedEvent)("maintainAspectRatio",!0),u.xp6(1),u.Q6J("visible",Y.phyPhoneSelectionDialogVisible)("draggable",!0)("modal",!0)("resizable",!1)("dismissableMask",!0),u.xp6(2),u.Q6J("model",Y.controls)("popup",!0)("baseZIndex",2e3)("isVisible",re.visible)("alignFn",re.alignOverlay.bind(re))}},styles:[".avatar-change-content[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.preview-wrapper[_ngcontent-%COMP%]{display:grid;gap:.5rem;background-color:var(--bgc-100);border-radius:1rem;color:var(--tc-600);justify-items:center;padding:1rem;font-weight:700}.preview-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:6rem;height:6rem;border-radius:50%;object-fit:cover;object-position:center}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]{background-color:var(--bgc-400);border:1px solid var(--bgc-500);color:#fff;font-size:1.5rem;position:relative}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;transform-origin:center;top:50%;left:50%;transform:translate(-50%,-50%)}.account-name[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1.1rem;white-space:nowrap}.account-position[_ngcontent-%COMP%]{color:var(--tc-500);font-size:.9rem}.cropper-style[_ngcontent-%COMP%]{min-width:20rem;min-height:20rem;max-width:50vw;max-height:50vh;border:1px solid var(--bgc-300);border-radius:.5rem;overflow:hidden}.avatar-preview[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-top:.5rem;overflow:hidden;border-radius:50%;display:grid;grid:1fr/1fr;outline:var(--bgc-300) solid 2px;outline-offset:1px}.avatar-preview[_ngcontent-%COMP%] > .ph[_ngcontent-%COMP%]{background-color:var(--bgc-500);color:#fff;font-weight:500}.avatar-preview[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:inherit;height:inherit}.avatar-preview-image[_ngcontent-%COMP%]{width:inherit;height:inherit;z-index:1}.noti[_ngcontent-%COMP%]{margin:0}"]}),H})()},9138:(dn,pt,C)=>{"use strict";C.d(pt,{N:()=>T});var e=C(5e3),d=C(2382),u=C(7579),p=C(8372),x=C(3900),R=C(599),b=C(4782),s=C(383),F=C(8738),O=C(2145),Q=C(9808);const N=function(){return[]};let T=(()=>{class y{constructor(k){this.api=k,this.control=new d.NI(null),this.queryInput=new u.x,this.suggestions$=this.queryInput.pipe((0,p.b)(500),(0,x.w)(V=>this.api.getBuildings(V)),(0,R.r)(),(0,b.d)(1)),this.subscriptions=new s.xf,this.onChange=V=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(k=>{this.onChange(k)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(k){this.onChange=k}registerOnTouched(k){this.onTouched=k}setDisabledState(k){k?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(k){this.control.patchValue(k)}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(F.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-acp-house-input"]],features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0}])],decls:2,vars:9,consts:[["emptyMessage","\u0410\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","field","fullName","placeholder","\u0410\u0434\u0440\u0435\u0441...","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","onClear","onBlur","completeMethod"]],template:function(k,V){if(1&k&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onClear",function(){return V.control.patchValue(null)})("onBlur",function(){return V.onTouched()})("completeMethod",function(oe){return V.queryInput.next(oe.query)}),e.ALo(1,"async"),e.qZA()),2&k){let U;e.Q6J("formControl",V.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",null!==(U=e.lcZ(1,6,V.suggestions$))&&void 0!==U?U:e.DdM(8,N))("forceSelection",!1)("completeOnFocus",!0)}},dependencies:[d.JJ,d.oH,O.Qc,Q.Ov]}),y})()},1179:(dn,pt,C)=>{"use strict";C.d(pt,{r:()=>be});var oe,e=C(655),d=C(4707),u=C(3900),p=C(4326),x=C(1135),R=C(8372),b=C(9841),s=C(4004),F=C(8675),O=C(8505),Q=C(7579),N=C(9646),T=C(2382),y=C(5677),w=C(5e3),k=C(8738),V=C(9783),U=C(6768);const K=["houseControl"],H=["houseNotFoundPanel"],D=["isApartmentHousePanel"];function P(Be,we){if(1&Be){const ke=w.EpF();w.TgZ(0,"input",22,23),w.NdJ("focus",function(){w.CHM(ke);const q=w.oxw();return w.KtG(q.isHouseControlFocused$.next(!0))})("blur",function(){w.CHM(ke);const q=w.oxw();return w.KtG(q.isHouseControlFocused$.next(!1))})("input",function(){w.CHM(ke);const q=w.MAs(1),pe=w.oxw();return w.KtG(pe.houseInputChange$.next(q.value))})("ngModelChange",function(q){w.CHM(ke);const pe=w.oxw();return w.KtG(pe.selectedHouse=q)}),w.ALo(2,"async"),w.qZA()}if(2&Be){const ke=w.oxw();w.Q6J("ngClass",w.lcZ(2,3,ke.houseInputClasses$))("size",16)("ngModel",ke.selectedHouse)}}function Y(Be,we){if(1&Be){const ke=w.EpF();w.TgZ(0,"span",28),w.NdJ("click",function(){const pe=w.CHM(ke).$implicit,_e=w.oxw(3);return w.KtG(_e.forcedAddress$.next(pe))}),w._uU(1),w.qZA()}if(2&Be){const ke=we.$implicit;w.xp6(1),w.hij(" ",ke.tailPart," ")}}function re(Be,we){if(1&Be&&(w.TgZ(0,"div",25)(1,"span",26),w._uU(2,"\u0418\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445:"),w.qZA(),w.TgZ(3,"div",25),w.YNc(4,Y,2,1,"span",27),w.qZA()()),2&Be){const ke=w.oxw().ngIf;w.xp6(4),w.Q6J("ngForOf",ke.foundAddresses)}}function j(Be,we){if(1&Be&&(w.ynx(0),w.YNc(1,re,5,1,"div",24),w.BQk()),2&Be){const ke=we.ngIf;let X;w.xp6(1),w.Q6J("ngIf",(null!==(X=null==ke.foundAddresses?null:ke.foundAddresses.length)&&void 0!==X?X:0)>0)}}function G(Be,we){if(1&Be){const ke=w.EpF();w.ynx(0),w.TgZ(1,"div",5)(2,"span",6),w._uU(3,"\u0414\u043e\u043c \u043d\u0435 \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439"),w.qZA(),w.TgZ(4,"p-button",29),w.NdJ("onClick",function(){const pe=w.CHM(ke).ngIf,_e=w.oxw();return w.KtG(_e.confirmMakeTheHouseAnApartmentBuilding(pe))}),w.qZA()(),w.BQk()}}const ie=function(){return[]},Te="^(?<houseNum>\\d{1,6})(\\/(?<fraction>\\d{1,3}))?(?<letter>[\u0430-\u044f]{1})?((_| \u0441\u0442?\u0440?\\.?)(?<build>\\d{1,2}))?",Me=["(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u043f\\.?|\u043f\u043e\u0434\\.?|\u043f\u043e\u0434\u044a\u0435\u0437\u0434) ?(?<entrance>\\d{1,3}))( (\u044d\\.?|\u044d\u0442\\.?|\u044d\u0442\u0430\u0436) ?(?<floor>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u044d\\.?|\u044d\u0442\\.?|\u044d\u0442\u0430\u0436) ?(?<floor>\\d{1,3}))( (\u043f.?|\u043f\u043e\u0434\\.?|\u043f\u043e\u0434\u044a\u0435\u0437\u0434) ?(?<entrance>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u043f\\.?|\u043f\u043e\u0434\\.?|\u043f\u043e\u0434\u044a\u0435\u0437\u0434) ?(?<entrance>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u044d\\.?|\u044d\u0442\\.?|\u044d\u0442\u0430\u0436) ?(?<floor>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?"];var de=(()=>{return(Be=de||(de={}))[Be.NotFound=0]="NotFound",Be[Be.NotApartment=1]="NotApartment",Be[Be.NotParsed=2]="NotParsed",de;var Be})();function te(Be){return{city:{cityId:Be.cityId},street:{streetId:Be.streetId},houseNum:null,fraction:null,letter:null,build:null,entrance:null,floor:null,apartmentNum:null,apartmentMod:null}}function ce(Be,we){return!(Be.entrance==we.entrance&&Be.floor==we.floor&&Be.apartmentNum==we.apartmentNum&&Be.apartmentMod==we.apartmentMod)}function ve(Be){var we,ke;for(let q of Me){const _e=null===(we=new RegExp(Te+q).exec(Be))||void 0===we?void 0:we.groups;if(_e)return _e}return null===(ke=new RegExp(Te).exec(Be))||void 0===ke?void 0:ke.groups}let be=oe=class{constructor(we,ke,X){this.api=we,this.confirmation=ke,this.blockService=X,this.isAcpConnected=null,this.isHouseOnly=!1,this.inputClasses={},this.inputClassesChange=new d.t(1),this.selectedStreet=null,this.selectedHouse="",this.streetInputChange$=new d.t(1),this.streetSuggestions$=this.streetInputChange$.pipe((0,u.w)(q=>this.api.getStreetSuggestions(q))),this.streetSelect$=new d.t(1),this.focusHouseControlSub=this.streetSelect$.pipe((0,p.g)(100)).subscribe(q=>{var pe;q?null===(pe=this.houseControl)||void 0===pe||pe.nativeElement.focus():(this.selectedStreet=null,this.selectedHouse="")}),this.houseInputChange$=new d.t(1),this.isHouseControlFocused$=new x.X(!1),this.houseChangeDebounce$=this.houseInputChange$.pipe((0,R.b)(500)),this.houseError$=new d.t(1),this.houseInputClasses$=(0,b.a)([this.inputClassesChange,this.houseError$]).pipe((0,s.U)(([q,pe])=>Object.assign(Object.assign({},q),{"text-red-500":null!==pe})),(0,F.O)(this.inputClasses)),this.notFoundPanelSub=(0,b.a)([this.houseError$,this.isHouseControlFocused$]).pipe((0,R.b)(100),(0,O.b)(([q,pe])=>{if(null!==q&&q.type===de.NotFound){let _e={isApartmentHouse:!1},Xe=ve(q.houseInput);Xe&&(_e=Object.assign(Object.assign({},Xe),{isApartmentHouse:!1})),this.createHouseForm.reset(_e)}})).subscribe(([q,pe])=>{if(q&&pe)switch(q.type){case de.NotFound:this.houseNotFoundPanel.show(null,this.houseControl.nativeElement);break;case de.NotApartment:this.isApartmentHousePanel.show(null,this.houseControl.nativeElement)}else this.houseNotFoundPanel.hide(),this.isApartmentHousePanel.hide()}),this.forcedAddress$=new x.X(null),this.address$=new Q.x,this.addressSub=this.address$.subscribe(q=>{this.onChange&&this.onChange(q)}),this.inputAddressSub=(0,b.a)([this.streetSelect$,this.houseChangeDebounce$]).pipe((0,R.b)(100),(0,O.b)(()=>{this.houseError$.next(null)}),(0,u.w)(([q,pe])=>q&&pe?this.api.getAddressSuggestionsAlt(q.streetId,pe,this.isAcpConnected,this.isHouseOnly).pipe((0,s.U)(_e=>{var Xe,ct;if(0===_e.length)return this.houseError$.next({type:de.NotFound,houseInput:pe,houseId:null,foundAddresses:null}),te(q);if(1===_e.length){const ot=ve(pe);return ot?ce(_e[0],ot)?(this.houseError$.next({type:de.NotApartment,houseInput:pe,houseId:null!==(Xe=_e[0].houseId)&&void 0!==Xe?Xe:null,foundAddresses:_e}),te(q)):_e[0]:te(q)}{const ot=ve(pe);if(!ot)return te(q);let Zt=_e.find(Dt=>function J(Be,we){return Be.houseNum==(null==we?void 0:we.houseNum)&&Be.fraction==(null==we?void 0:we.fraction)&&Be.letter==(null==we?void 0:we.letter)&&Be.build==(null==we?void 0:we.build)}(Dt,ot));return Zt?ce(Zt,ot)?(this.houseError$.next({type:de.NotApartment,houseInput:pe,houseId:null!==(ct=Zt.houseId)&&void 0!==ct?ct:null,foundAddresses:_e}),te(q)):Zt:(this.houseError$.next({type:de.NotFound,houseInput:pe,houseId:null,foundAddresses:_e}),te(q))}})):(0,N.of)(q?te(q):null))).subscribe(this.address$),this.setAddressSub=this.forcedAddress$.pipe((0,O.b)(q=>{var pe,_e;this.houseError$.next(null),q&&q.street&&q.city&&(console.log("Forced address",q),this.selectedStreet={cityId:q.city.cityId,streetId:q.street.streetId,name:null!==(pe=q.streetNamePart)&&void 0!==pe?pe:"\u041f\u043b\u043e\u0445\u043e"},this.streetSelect$.next({cityId:q.city.cityId,streetId:q.street.streetId,name:null!==(_e=q.streetNamePart)&&void 0!==_e?_e:"\u041f\u043b\u043e\u0445\u043e"}),q.tailPart&&(this.selectedHouse=q.tailPart,this.houseInputChange$.next(q.tailPart)))})).subscribe(this.address$),this.isDisabled=!1,this.createHouseVisible=!1,this.isHouseCreating=!1,this.createHouseForm=new T.cw({houseNum:new T.NI(null,[T.kI.required,T.kI.min(1),T.kI.max(999999)]),letter:new T.NI(null,[T.kI.maxLength(1)]),fraction:new T.NI(null,[T.kI.min(1),T.kI.max(999)]),build:new T.NI(null,[T.kI.min(1),T.kI.max(99)]),isApartmentHouse:new T.NI(!1),acpHouseBind:new T.NI(null)}),this.createHouseResponseHandler={next:q=>{this.createHouseVisible=!1,this.isHouseCreating=!1,this.houseInputChange$.next(this.selectedHouse)},error:()=>{this.isHouseCreating=!1}},this.onChange=q=>{},this.onTouched=()=>{}}writeValue(we){this.forcedAddress$.next(we)}registerOnChange(we){this.onChange=we}registerOnTouched(we){this.onTouched=we}setDisabledState(we){this.isDisabled=we}ngOnInit(){}showCreateHouseDialog(){this.createHouseVisible=!0}createHouse(){this.selectedStreet&&(this.isHouseCreating=!0,this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).subscribe(this.createHouseResponseHandler))}confirmMakeTheHouseAnApartmentBuilding(we){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u043c \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u043c?",accept:()=>{!we.houseId||(this.blockService.wait({message:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}),this.api.makeHouseAnApartmentsBuilding(we.houseId).subscribe({next:()=>{this.blockService.unblock(),this.houseInputChange$.next(this.selectedHouse)},error:()=>{this.blockService.unblock()}}))}})}};be.\u0275fac=function(we){return new(we||be)(w.Y36(k.s),w.Y36(V.YP),w.Y36(U.A))},be.\u0275cmp=w.Xpm({type:be,selectors:[["app-address-input-alt"]],viewQuery:function(we,ke){if(1&we&&(w.Gf(K,5),w.Gf(H,5),w.Gf(D,5)),2&we){let X;w.iGM(X=w.CRH())&&(ke.houseControl=X.first),w.iGM(X=w.CRH())&&(ke.houseNotFoundPanel=X.first),w.iGM(X=w.CRH())&&(ke.isApartmentHousePanel=X.first)}},inputs:{isAcpConnected:"isAcpConnected",isHouseOnly:"isHouseOnly",inputClasses:"inputClasses"},features:[w._Bn([{provide:T.JU,useExisting:oe,multi:!0}])],decls:43,vars:30,consts:[[1,"flex","align-items-center","gap-1",3,"focusin"],["appendTo","body","placeholder","\u0423\u043b\u0438\u0446\u0430","field","name","emptyMessage","\u0423\u043b\u0438\u0446 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",3,"ngClass","size","delay","showClear","showEmptyMessage","ngModel","forceSelection","autoHighlight","suggestions","ngModelChange","completeMethod","onSelect","onClear"],["pInputText","","class","flipleft animation-duration-150","placeholder","\u0414\u043e\u043c \u041a\u0432.",3,"ngClass","size","ngModel","focus","blur","input","ngModelChange",4,"ngIf"],["appendTo","body"],["houseNotFoundPanel",""],[1,"flex","flex-column","gap-2"],[1,"text-orange-500","font-bold"],["pButton","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043c",1,"p-button-success","p-button-sm",3,"click"],[4,"ngIf"],["isApartmentHousePanel",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["pInputText","","placeholder","\u0414\u043e\u043c \u041a\u0432.",1,"flipleft","animation-duration-150",3,"ngClass","size","ngModel","focus","blur","input","ngModelChange"],["houseControl",""],["class","flex flex-column gap-1",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"font-bold","text-bluegray-400"],["class","px-2 py-1 bg-bluegray-50 text-bluegray-400 cursor-pointer select-none hover:text-primary hover:bg-primary-50 border-round",3,"click",4,"ngFor","ngForOf"],[1,"px-2","py-1","bg-bluegray-50","text-bluegray-400","cursor-pointer","select-none","hover:text-primary","hover:bg-primary-50","border-round",3,"click"],["label","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u043c","styleClass","p-button-success p-button-sm",3,"onClick"]],template:function(we,ke){if(1&we&&(w.TgZ(0,"div",0),w.NdJ("focusin",function(){return ke.onTouched()}),w.TgZ(1,"p-autoComplete",1),w.NdJ("ngModelChange",function(q){return ke.selectedStreet=q})("completeMethod",function(q){return ke.streetInputChange$.next(q.query)})("onSelect",function(q){return ke.streetSelect$.next(q)})("onClear",function(){return ke.streetSelect$.next(null)}),w.ALo(2,"async"),w.qZA(),w.YNc(3,P,3,5,"input",2),w.qZA(),w.TgZ(4,"p-overlayPanel",3,4)(6,"div",5)(7,"span",6),w._uU(8,"\u0414\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),w.qZA(),w.TgZ(9,"button",7),w.NdJ("click",function(){return ke.showCreateHouseDialog()}),w.qZA(),w.YNc(10,j,2,1,"ng-container",8),w.ALo(11,"async"),w.qZA()(),w.TgZ(12,"p-overlayPanel",3,9),w.YNc(14,G,5,0,"ng-container",8),w.ALo(15,"async"),w.qZA(),w.TgZ(16,"p-dialog",10),w.NdJ("visibleChange",function(q){return ke.createHouseVisible=q}),w.TgZ(17,"div",11)(18,"div",12)(19,"label",13),w._uU(20,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),w.qZA(),w._UZ(21,"p-inputNumber",14),w.qZA(),w.TgZ(22,"div",12)(23,"label",13),w._uU(24,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),w.qZA(),w._UZ(25,"p-inputNumber",15),w.qZA(),w.TgZ(26,"div",12)(27,"label",13),w._uU(28,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),w.qZA(),w._UZ(29,"p-inputMask",16),w.qZA(),w.TgZ(30,"div",12)(31,"label",13),w._uU(32,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),w.qZA(),w._UZ(33,"p-inputNumber",17),w.qZA(),w.TgZ(34,"div",12)(35,"label",13),w._uU(36,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),w.qZA(),w._UZ(37,"p-inputSwitch",18),w.qZA(),w.TgZ(38,"div",19)(39,"label",13),w._uU(40,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),w.qZA(),w._UZ(41,"app-acp-house-input",20),w.qZA(),w.TgZ(42,"p-button",21),w.NdJ("onClick",function(){return ke.createHouse()}),w.qZA()()()),2&we){let X;w.xp6(1),w.Q6J("ngClass",ke.inputClasses)("size",30)("delay",500)("showClear",!0)("showEmptyMessage",!0)("ngModel",ke.selectedStreet)("forceSelection",!1)("autoHighlight",!0)("suggestions",null!==(X=w.lcZ(2,23,ke.streetSuggestions$))&&void 0!==X?X:w.DdM(29,ie)),w.xp6(2),w.Q6J("ngIf",!!ke.selectedStreet),w.xp6(7),w.Q6J("ngIf",w.lcZ(11,25,ke.houseError$)),w.xp6(4),w.Q6J("ngIf",w.lcZ(15,27,ke.houseError$)),w.xp6(2),w.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",ke.createHouseVisible),w.xp6(1),w.Q6J("formGroup",ke.createHouseForm),w.xp6(8),w.Q6J("min",1)("max",999),w.xp6(8),w.Q6J("min",1)("max",99),w.xp6(9),w.Q6J("disabled",!ke.createHouseForm.valid)}}}),(0,e.gn)([(0,y.bQ)("inputClasses")],be.prototype,"inputClassesChange",void 0),be=oe=(0,e.gn)([(0,y.kG)()],be)},7092:(dn,pt,C)=>{"use strict";C.d(pt,{_:()=>p});var e=C(5e3),d=C(8738);function u(x,R){1&x&&e._UZ(0,"app-employee-label",1),2&x&&e.Q6J("employee",R.$implicit)("inline",!0)}let p=(()=>{class x{constructor(b){this.api=b,this.workLog={}}set logId(b){this.api.getWorkLog(b,!0).subscribe(s=>{this.workLog=s})}ngOnInit(){}static createElement(b){const s=document.createElement("appointed-installers-element");return s.logId=b,s}}return x.\u0275fac=function(b){return new(b||x)(e.Y36(d.s))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-appointed-installers"]],inputs:{logId:"logId"},decls:1,vars:1,consts:[[3,"employee","inline",4,"ngFor","ngForOf"],[3,"employee","inline"]],template:function(b,s){1&b&&e.YNc(0,u,1,2,"app-employee-label",0),2&b&&e.Q6J("ngForOf",s.workLog.employees)},styles:["[_nghost-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.5rem}"]}),x})()},7231:(dn,pt,C)=>{"use strict";C.d(pt,{D:()=>w});var e=C(1135),d=C(8372),u=C(383),p=C(5e3),x=C(3064),R=C(9808),b=C(3640),s=C(7514);const F=["overlayPanelEl"];function O(k,V){1&k&&p.GkF(0)}function Q(k,V){if(1&k&&(p.TgZ(0,"a",6),p.YNc(1,O,1,0,"ng-container",7),p.qZA()),2&k){const U=p.oxw(),oe=p.MAs(3);p.Q6J("download",U.download())("href",U.url(),p.LSH),p.xp6(1),p.Q6J("ngTemplateOutlet",oe)}}function N(k,V){1&k&&p.GkF(0)}function T(k,V){if(1&k){const U=p.EpF();p.TgZ(0,"div",8),p.NdJ("click",function(){p.CHM(U);const K=p.oxw();return p.KtG(K.attachmentOpen())})("mouseenter",function(K){p.CHM(U);const H=p.oxw();return p.KtG(H.showPreview(K))})("mouseleave",function(){p.CHM(U);const K=p.oxw();return p.KtG(K.hidePreview())}),p.YNc(1,N,1,0,"ng-container",7),p.qZA()}if(2&k){p.oxw();const U=p.MAs(3);p.xp6(1),p.Q6J("ngTemplateOutlet",U)}}function y(k,V){if(1&k&&(p.TgZ(0,"span",9),p._uU(1),p.qZA(),p.TgZ(2,"span",10),p._uU(3),p.qZA(),p.TgZ(4,"span",11),p._uU(5),p.qZA()),2&k){const U=p.oxw();let oe;p.Udp("font-size","1.4rem"),p.xp6(1),p.hij(" ",U.attachmentIconName()," "),p.xp6(2),p.hij(" ",null==U.attachment?null:U.attachment.name," "),p.xp6(2),p.hij(" ",((null!==(oe=null==U.attachment?null:U.attachment.size)&&void 0!==oe?oe:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442 ")}}let w=(()=>{class k{constructor(U){this.mediaViewer=U,this.previewVisibleSubject=new e.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,d.b)(300)),this.previewLoading=!1,this.subscriptions=new u.xf}get previewSrcUrl(){return this.attachment?"workLogTargetFileId"in this.attachment?"/api/private/work-log/thumbnail/"+this.attachment.workLogTargetFileId:"/api/private/thumbnail/"+this.attachment.name:""}ngOnInit(){this.subscriptions.addSubscription("previewVisible",this.previewVisible$.subscribe(U=>{var oe,K;U?null===(K=this.overlayPanelEl)||void 0===K||K.show(U):(this.previewLoading=!1,null===(oe=this.overlayPanelEl)||void 0===oe||oe.hide())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}attachmentIconName(){var U;switch(null===(U=this.attachment)||void 0===U?void 0:U.type){case"PHOTO":return"image";case"VIDEO":return"movie";case"AUDIO":return"music_note";case"DOCUMENT":return"picture_as_pdf";case"FILE":return"description";default:return"question_mark"}}url(){var U;return"FILE"==(null===(U=this.attachment)||void 0===U?void 0:U.type)?"/api/private/attachment/":""}download(){var U;return"FILE"==(null===(U=this.attachment)||void 0===U?void 0:U.type)?this.attachment.name:""}attachmentOpen(){var U;switch(null===(U=this.attachment)||void 0===U?void 0:U.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewer.showMedia(this.attachment);break;case"DOCUMENT":window.open("/api/private/attachment/"+this.attachment.name,"_blank")}this.previewLoading=!1}showPreview(U){var oe,K;("PHOTO"===(null===(oe=this.attachment)||void 0===oe?void 0:oe.type)||"VIDEO"===(null===(K=this.attachment)||void 0===K?void 0:K.type))&&this.previewVisibleSubject.next(U)}hidePreview(){this.previewVisibleSubject.next(null)}align(U){setTimeout(()=>{U.overlayVisible&&U.align()},100)}}return k.\u0275fac=function(U){return new(U||k)(p.Y36(x.E))},k.\u0275cmp=p.Xpm({type:k,selectors:[["app-attachment-link"]],viewQuery:function(U,oe){if(1&U&&p.Gf(F,5),2&U){let K;p.iGM(K=p.CRH())&&(oe.overlayPanelEl=K.first)}},inputs:{attachment:"attachment"},decls:7,vars:3,consts:[["class","attachment-wrapper",3,"download","href",4,"ngIf"],["class","attachment-wrapper",3,"click","mouseenter","mouseleave",4,"ngIf"],["content",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["overlayPanelEl",""],[1,"preview-image",3,"src","load"],[1,"attachment-wrapper",3,"download","href"],[4,"ngTemplateOutlet"],[1,"attachment-wrapper",3,"click","mouseenter","mouseleave"],[1,"material-icons-round"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(U,oe){if(1&U){const K=p.EpF();p.YNc(0,Q,2,3,"a",0),p.YNc(1,T,2,1,"div",1),p.YNc(2,y,6,5,"ng-template",null,2,p.W1O),p.TgZ(4,"p-overlayPanel",3,4)(6,"img",5),p.NdJ("load",function(){p.CHM(K);const D=p.MAs(5);return p.KtG(oe.align(D))}),p.qZA()()}2&U&&(p.Q6J("ngIf","FILE"===(null==oe.attachment?null:oe.attachment.type)),p.xp6(1),p.Q6J("ngIf","FILE"!==(null==oe.attachment?null:oe.attachment.type)),p.xp6(5),p.Q6J("src",oe.previewSrcUrl,p.LSH))},dependencies:[R.O5,R.tP,b.T,s.x],styles:[".attachment-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;color:var(--tc-600);font-weight:500;font-size:.9rem;cursor:pointer;transition:color .2s ease-out;text-decoration:none!important;width:max-content}.attachment-wrapper[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.photo-preview-panel[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr/1fr;padding:.7rem;border-radius:.5rem;background-color:#fff;box-shadow:0 0 2px #0003,0 4px 8px #0000000d;width:max-content;height:max-content;max-width:21rem;min-width:8rem;min-height:8rem;align-items:center;justify-content:center;z-index:3;overflow:hidden;transform:translate(100%,-50%)}.preview-image[_ngcontent-%COMP%]{border-radius:.4rem;width:100%;height:100%;min-width:5rem;min-height:5rem;max-height:21rem}.preview-loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-area:1/1/2/2;width:100%;height:100%}"]}),k})()},5072:(dn,pt,C)=>{"use strict";C.d(pt,{A:()=>Q});var e=C(383),d=C(7384),u=C(5e3),p=C(9808);const x=["wrapperEl"],R=["captionEl"];function b(N,T){1&N&&u._UZ(0,"i",8)}function s(N,T){if(1&N&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&N){const y=u.oxw();u.xp6(1),u.Oqu(y.getInitials())}}function F(N,T){if(1&N){const y=u.EpF();u.TgZ(0,"img",9),u.NdJ("load",function(){u.CHM(y);const k=u.oxw();return u.KtG(k.isLoad=!0)}),u.qZA()}if(2&N){const y=u.oxw();u.Q6J("src","api/private/avatar/"+y.src,u.LSH)}}function O(N,T){if(1&N&&u._UZ(0,"div",10),2&N){const y=u.oxw();u.Akn(y.indicatorStyle)}}let Q=(()=>{class N{constructor(){this.size=3.5,this.deleted=!1,this.shape="circle",this.isLoad=!1}get captionStyle(){return{}}get wrapperStyle(){return{borderRadius:"circle"===this.shape?"999px":"25%",width:this.size+"rem",height:this.size+"rem",fontSize:this.size+"rem",background:this.isLoad?"transparent":this.deleted?"var(--bgc-500)":this.colorize()}}get indicatorStyle(){const y={};switch("square"===this.shape&&(y.transform="translate(25%, -25%)"),this.status){case d.LE.ONLINE:y.backgroundColor="#36ff3b";break;case d.LE.AWAY:y.backgroundColor="#ffc107";break;case d.LE.OFFLINE:y.backgroundColor="#d5dde1"}return y}ngOnInit(){}getInitials(){if(this.name){const y=this.name.trim();return(y.charAt(0)+(y.indexOf(" ")>=0?y.charAt(y.indexOf(" ")+1):"")).toUpperCase()}return"?"}colorize(){var y;return e.cQ.stringToGradient(null!==(y=this.name)&&void 0!==y?y:"?")}ngOnChanges(y){this.isLoad=!1}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275cmp=u.Xpm({type:N,selectors:[["app-avatar"]],viewQuery:function(y,w){if(1&y&&(u.Gf(x,5),u.Gf(R,5)),2&y){let k;u.iGM(k=u.CRH())&&(w.wrapperEl=k.first),u.iGM(k=u.CRH())&&(w.captionEl=k.first)}},inputs:{size:"size",deleted:"deleted",src:"src",name:"name",status:"status",shape:"shape"},features:[u.TTD],decls:8,vars:8,consts:[[1,"avatar","select-none"],["wrapperEl",""],[1,"avatar-caption"],["captionEl",""],["class","mdi-person_off",4,"ngIf"],[4,"ngIf"],["alt","avatar","class","avatar-image",3,"src","load",4,"ngIf"],["class","status-indicator",3,"style",4,"ngIf"],[1,"mdi-person_off"],["alt","avatar",1,"avatar-image",3,"src","load"],[1,"status-indicator"]],template:function(y,w){1&y&&(u.TgZ(0,"div",0,1)(2,"div",2,3),u.YNc(4,b,1,0,"i",4),u.YNc(5,s,2,1,"span",5),u.qZA(),u.YNc(6,F,1,1,"img",6),u.YNc(7,O,1,2,"div",7),u.qZA()),2&y&&(u.Akn(w.wrapperStyle),u.xp6(2),u.Akn(w.captionStyle),u.xp6(2),u.Q6J("ngIf",w.deleted),u.xp6(1),u.Q6J("ngIf",!w.deleted),u.xp6(1),u.Q6J("ngIf",null!=w.src),u.xp6(1),u.Q6J("ngIf",w.status))},dependencies:[p.O5],styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.avatar[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:50%;overflow:hidden}.avatar-caption[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-47%,-47%);transform-origin:center;text-transform:uppercase;color:#fff;font-size:.38em}.avatar-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.status-indicator[_ngcontent-%COMP%]{width:30%;aspect-ratio:1;border-radius:999px;background-color:#1aff12;box-shadow:0 0 1px 1px #00000040,0 1px 10px #00000020;position:absolute;top:0;right:0}"]}),N})()},446:(dn,pt,C)=>{"use strict";C.d(pt,{r:()=>O});var e=C(5e3),d=C(9808),u=C(845),p=C(9783);function x(Q,N){if(1&Q&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&Q){const T=e.oxw(3);e.xp6(1),e.Oqu(T.icon)}}function R(Q,N){if(1&Q&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&Q){const T=e.oxw(3);e.xp6(1),e.Oqu(T.icon)}}function b(Q,N){if(1&Q&&(e.TgZ(0,"div",5),e.YNc(1,x,2,1,"span",6),e._uU(2),e.YNc(3,R,2,1,"span",7),e.qZA()),2&Q){const T=e.oxw(2);e.xp6(1),e.Q6J("ngIf",T.icon&&"left"===T.iconPos),e.xp6(1),e.hij(" ",T.label," "),e.xp6(1),e.Q6J("ngIf",T.icon&&"right"===T.iconPos)}}function s(Q,N){if(1&Q&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"div"),e.qZA()()),2&Q){const T=e.oxw(2);e.xp6(2),e.Tol("loading-indicator__spinner "+T.model)}}function F(Q,N){if(1&Q&&(e.YNc(0,b,4,3,"div",3),e.YNc(1,s,3,2,"div",4)),2&Q){const T=e.oxw();e.Q6J("ngIf",!T.loading),e.xp6(1),e.Q6J("ngIf",T.loading)}}let O=(()=>{class Q{constructor(){this.disabled=!1,this.iconPos="left",this.onClick=new e.vpe,this.loading=!1}ngOnInit(){}}return Q.\u0275fac=function(T){return new(T||Q)},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-button"]],inputs:{model:"model",icon:"icon",label:"label",disabled:"disabled",iconPos:"iconPos",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[[3,"styleClass","disabled","onClick"],["button",""],["pTemplate","content"],["class","flexed hcenter gap1 button-content",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"flexed","hcenter","gap1","button-content"],["class","material-icons-round left",4,"ngIf"],["class","material-icons-round right",4,"ngIf"],[1,"material-icons-round","left"],[1,"material-icons-round","right"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(T,y){1&T&&(e.TgZ(0,"p-button",0,1),e.NdJ("onClick",function(k){return!y.loading&&y.onClick.emit(k)}),e.YNc(2,F,2,2,"ng-template",2),e.qZA()),2&T&&e.Q6J("styleClass","button "+y.model)("disabled",y.disabled)},dependencies:[d.O5,u.zx,p.jx],styles:[".button-content[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.button-content[_ngcontent-%COMP%] > span.left[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(-.3rem)}.button-content[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(.3rem)}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.p-button-text.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.p-button-text.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.p-button-text.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.p-button-text.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.p-button-text.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.p-button-text.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.p-button-text.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),Q})()},6890:(dn,pt,C)=>{"use strict";C.d(pt,{K:()=>F});var e=C(7384),d=C(5e3),u=C(8738),p=C(9014),x=C(9808);function R(O,Q){if(1&O){const N=d.EpF();d.TgZ(0,"span",4),d.NdJ("click",function(){d.CHM(N);const y=d.oxw();return d.KtG(y.openChat())}),d._uU(1),d.qZA()}if(2&O){const N=d.oxw();d.xp6(1),d.Oqu(null==N.chat?null:N.chat.title)}}function b(O,Q){1&O&&(d.TgZ(0,"span",5),d._uU(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),d.qZA())}function s(O,Q){1&O&&(d.TgZ(0,"span",6),d._uU(1,"\u041e\u0448\u0438\u0431\u043a\u0430"),d.qZA())}let F=(()=>{class O{constructor(N,T){this.api=N,this.chatService=T,this.loadingState=e.Gu.LOADING}set chatId(N){this.loadingState=e.Gu.LOADING,this.api.getChat(N).subscribe({next:T=>{this._chat=T,this.loadingState=e.Gu.READY},error:()=>this.loadingState=e.Gu.ERROR})}get chat(){return this._chat}ngOnInit(){}static createElement(N){const T=document.createElement("chat-link-element");return T.chatId=N,T}openChat(){this.chat&&this.chatService.open.emit(this.chat.chatId)}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(u.s),d.Y36(p.a))},O.\u0275cmp=d.Xpm({type:O,selectors:[["app-chat-link"]],inputs:{chatId:"chatId"},decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-primary cursor-pointer hover:text-primary-600",3,"click",4,"ngSwitchCase"],["class","text-primary",4,"ngSwitchCase"],["class","text-red-400",4,"ngSwitchCase"],[1,"text-primary","cursor-pointer","hover:text-primary-600",3,"click"],[1,"text-primary"],[1,"text-red-400"]],template:function(N,T){1&N&&(d.ynx(0,0),d.YNc(1,R,2,1,"span",1),d.YNc(2,b,2,0,"span",2),d.YNc(3,s,2,0,"span",3),d.BQk()),2&N&&(d.Q6J("ngSwitch",T.loadingState),d.xp6(1),d.Q6J("ngSwitchCase","READY"),d.xp6(1),d.Q6J("ngSwitchCase","LOADING"),d.xp6(1),d.Q6J("ngSwitchCase","ERROR"))},dependencies:[x.RF,x.n9]}),O})()},1828:(dn,pt,C)=>{"use strict";C.d(pt,{C:()=>p});var e=C(383),d=C(5e3);const u=["wrapper"];let p=(()=>{class x{constructor(){}ngAfterViewInit(){this.colorize()}ngOnInit(){}colorize(){!this.wrapper||(this.color?this.wrapper.nativeElement.style.background=this.color:this.captionForColor?this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.captionForColor):this.caption&&(this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.caption)))}ngOnChanges(b){this.colorize()}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=d.Xpm({type:x,selectors:[["app-colored-tag"]],viewQuery:function(b,s){if(1&b&&d.Gf(u,5),2&b){let F;d.iGM(F=d.CRH())&&(s.wrapper=F.first)}},inputs:{caption:"caption",captionForColor:"captionForColor",color:"color"},features:[d.TTD],decls:3,vars:1,consts:[[1,"tag"],["wrapper",""]],template:function(b,s){1&b&&(d.TgZ(0,"span",0,1),d._uU(2),d.qZA()),2&b&&(d.xp6(2),d.hij(" ",s.caption,"\n"))},styles:[".tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;min-width:2rem;font-size:.85rem;font-weight:700;padding:.15rem .4rem;border-radius:999px;line-height:normal}"]}),x})()},5197:(dn,pt,C)=>{"use strict";C.d(pt,{L:()=>O});var e=C(2382),d=C(9300),u=C(8505),p=C(383),x=C(7384),R=C(5e3),b=C(4036),s=C(8050),F=C(5652);let O=(()=>{class Q{constructor(){this.control=new e.NI(null),this.dropDownControl=new e.NI(null),this.calendarControl=new e.NI(null),this.calendarVisible=!1,this.rangeOptions=[{label:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",value:x.nv.TODAY},{label:"\u0412\u0447\u0435\u0440\u0430",value:x.nv.YESTERDAY},{label:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f",value:x.nv.THIS_WEEK},{label:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:x.nv.LAST_WEEK},{label:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",value:x.nv.THIS_MONTH},{label:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",value:x.nv.LAST_MONTH},{label:"\u0412\u0440\u0443\u0447\u043d\u0443\u044e",value:"manual"}],this.mainControlChange$=this.control.valueChanges,this.selectTimeFrame$=this.dropDownControl.valueChanges.pipe((0,d.h)(T=>"manual"!==T)),this.selectManual$=this.dropDownControl.valueChanges.pipe((0,d.h)(T=>"manual"===T)),this.calendarChange$=this.calendarControl.valueChanges,this.subscription=new p.xf,this.onChange=T=>{},this.onTouched=()=>{}}static formatDate(T){return"string"==typeof T&&(T=new Date(T)),`${T.getDate().toString().padStart(2,"0")}/${(T.getMonth()+1).toString().padStart(2,"0")}/${T.getFullYear()}`}setDisabledState(T){T?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.subscription.addSubscription("change",this.mainControlChange$.pipe((0,u.b)(this.setManualLabel.bind(this))).subscribe(T=>this.onChange(T))),this.subscription.addSubscription("timeFrameSelected",this.selectTimeFrame$.subscribe(T=>{if(this.calendarVisible=!1,null===T)return this.control.setValue(null),void this.calendarControl.setValue(null);this.control.setValue({timeFrame:T,start:null,end:null})})),this.subscription.addSubscription("manualSelected",this.selectManual$.subscribe(()=>{this.calendarVisible=!0})),this.subscription.addSubscription("calendarChange",this.calendarChange$.subscribe(T=>{T&&T[0]&&T[1]&&(this.control.setValue({timeFrame:null,start:T[0],end:T[1]}),this.calendarVisible=!1)}))}setManualLabel(T){if(T&&T.start&&T.end){const y=this.rangeOptions.find(w=>"manual"===w.value);y&&(y.label=Q.formatDate(T.start)+" - "+Q.formatDate(T.end),this.rangeOptions=[...this.rangeOptions])}else{const y=this.rangeOptions.find(w=>"manual"===w.value);y&&(y.label="\u0412\u0440\u0443\u0447\u043d\u0443\u044e",this.rangeOptions=[...this.rangeOptions])}}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}writeValue(T){this.setupDropdown(T)}setupDropdown(T){return T?T.timeFrame?(this.dropDownControl.setValue(T.timeFrame),void this.calendarControl.setValue(null)):T.start&&T.end?(this.dropDownControl.setValue("manual"),void this.calendarControl.setValue([T.start,T.end])):void 0:(this.dropDownControl.setValue(null),void this.calendarControl.setValue(null))}clearIsUnselect(){if(!this.control.value)return;const{start:T,end:y}=this.control.value;(!T||!y)&&(this.dropDownControl.setValue(null),this.calendarControl.setValue(null))}}return Q.\u0275fac=function(T){return new(T||Q)},Q.\u0275cmp=R.Xpm({type:Q,selectors:[["app-data-range-input"]],features:[R._Bn([{provide:e.JU,useExisting:Q,multi:!0}])],decls:4,vars:9,consts:[[1,"flex","w-fit",3,"focusin"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options","showClear","formControl"],["appendTo","body","styleClass","w-30rem",3,"visible","visibleChange","onHide"],["styleClass","full-width",3,"inline","formControl","selectOtherMonths","selectionMode","firstDayOfWeek"]],template:function(T,y){1&T&&(R.TgZ(0,"div",0),R.NdJ("focusin",function(){return y.onTouched()}),R._UZ(1,"p-dropdown",1),R.qZA(),R.TgZ(2,"p-overlay",2),R.NdJ("visibleChange",function(k){return y.calendarVisible=k})("onHide",function(){return y.clearIsUnselect()}),R._UZ(3,"p-calendar",3),R.qZA()),2&T&&(R.xp6(1),R.Q6J("options",y.rangeOptions)("showClear",!0)("formControl",y.dropDownControl),R.xp6(1),R.Q6J("visible",y.calendarVisible),R.xp6(1),R.Q6J("inline",!0)("formControl",y.calendarControl)("selectOtherMonths",!0)("selectionMode","range")("firstDayOfWeek",1))},dependencies:[e.JJ,b.Lt,s.aV,e.oH,F.f]}),Q})()},7805:(dn,pt,C)=>{"use strict";C.d(pt,{y:()=>w});var e=C(5e3),d=C(8738);const u=["preview"];function p(k,V){1&k&&e.GkF(0)}function x(k,V){1&k&&e.GkF(0)}function R(k,V){if(1&k&&(e.ynx(0),e._uU(1),e.BQk()),2&k){const U=e.oxw(2);e.xp6(1),e.hij("$",U._departmentId,"")}}function b(k,V){if(1&k&&(e.TgZ(0,"span",7),e.YNc(1,p,1,0,"ng-container",8),e.YNc(2,x,1,0,"ng-container",8),e.YNc(3,R,2,1,"ng-container",1),e.qZA()),2&k){const U=e.oxw(),oe=e.MAs(5),K=e.MAs(3);e.xp6(1),e.Q6J("ngIf",U.department&&(null==U.department?null:U.department.departmentId))("ngIfThen",oe),e.xp6(1),e.Q6J("ngIf",!(U.department&&null!=U.department&&U.department.departmentId||U.failed))("ngIfThen",K),e.xp6(1),e.Q6J("ngIf",U.failed)}}function s(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"span",11),e.NdJ("mouseenter",function(K){e.CHM(U);const H=e.oxw(2);return e.KtG(H.showPreview(K))})("mouseleave",function(){e.CHM(U);const K=e.oxw(2);return e.KtG(K.hidePreview())}),e._uU(1),e.qZA()}if(2&k){const U=e.oxw(2);e.xp6(1),e.Oqu(U.department.name)}}function F(k,V){if(1&k&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&k){const U=e.oxw(2);e.xp6(1),e.hij(" ",U._departmentId," ")}}function O(k,V){1&k&&e._UZ(0,"p-skeleton",12)}function Q(k,V){if(1&k&&(e.ynx(0),e.YNc(1,s,2,1,"span",9),e.YNc(2,F,2,1,"span",1),e.YNc(3,O,1,0,"p-skeleton",10),e.BQk()),2&k){const U=e.oxw();e.xp6(1),e.Q6J("ngIf",U.department&&(null==U.department?null:U.department.name)),e.xp6(1),e.Q6J("ngIf",U.failed),e.xp6(1),e.Q6J("ngIf",!(U.department&&null!=U.department&&U.department.name||U.failed))}}function N(k,V){if(1&k&&e._UZ(0,"p-skeleton",13)(1,"p-skeleton",14),2&k){const U=e.oxw();e.Q6J("shape",U.inline?"square":"circle")}}function T(k,V){if(1&k&&(e._UZ(0,"app-avatar",15),e.TgZ(1,"span",16),e._uU(2),e.qZA()),2&k){const U=e.oxw();e.Q6J("name",null==U.department?null:U.department.name)("size",U.size)("shape",U.inline?"square":"circle"),e.xp6(2),e.hij(" ",null==U.department?null:U.department.name," ")}}function y(k,V){if(1&k&&(e.TgZ(0,"div",17),e._UZ(1,"app-avatar",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.qZA()()),2&k){const U=e.oxw();e.xp6(1),e.Q6J("size",6)("deleted",null==U.department?null:U.department.deleted)("name",null==U.department?null:U.department.name),e.xp6(2),e.hij(" ",null==U.department?null:U.department.name," "),e.xp6(2),e.Oqu(null==U.department?null:U.department.description)}}let w=(()=>{class k{constructor(U){this.api=U,this.department={},this.size=1.7,this.inline=!1,this.failed=!1}set departmentId(U){this._departmentId=U,this.api.getDepartment(U,!0).subscribe({next:oe=>this.department=oe,error:()=>this.failed=!0})}static createElement(U,oe){const K=document.createElement("department-label-element");return K.departmentId=U,K.inline=oe,K}ngOnInit(){}showPreview(U){this.preview&&this.preview.show(U)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}}return k.\u0275fac=function(U){return new(U||k)(e.Y36(d.s))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-department-label"]],viewQuery:function(U,oe){if(1&U&&e.Gf(u,5),2&U){let K;e.iGM(K=e.CRH())&&(oe.preview=K.first)}},inputs:{department:"department",size:"size",inline:"inline",departmentId:"departmentId"},decls:9,vars:2,consts:[["class","flexed gap2 one-line hcenter",4,"ngIf"],[4,"ngIf"],["loading",""],["info",""],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap2","one-line","hcenter"],[4,"ngIf","ngIfThen"],["class","like-link",3,"mouseenter","mouseleave",4,"ngIf"],["height",".9rem","width","5rem",4,"ngIf"],[1,"like-link",3,"mouseenter","mouseleave"],["height",".9rem","width","5rem"],["size","1.7rem",3,"shape"],["width","8rem","height",".8rem"],[3,"name","size","shape"],[1,"caption","size-small"],[1,"department-preview"],["shape","square",1,"avatar",3,"size","deleted","name"],[1,"name","caption","size-big"],[1,"description","caption","size-small","f-color-500"]],template:function(U,oe){1&U&&(e.YNc(0,b,4,5,"span",0),e.YNc(1,Q,4,3,"ng-container",1),e.YNc(2,N,2,1,"ng-template",null,2,e.W1O),e.YNc(4,T,3,4,"ng-template",null,3,e.W1O),e.TgZ(6,"p-overlayPanel",4,5),e.YNc(8,y,6,5,"ng-template",6),e.qZA()),2&U&&(e.Q6J("ngIf",!oe.inline),e.xp6(1),e.Q6J("ngIf",oe.inline))},styles:['.department-preview[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar description";column-gap:1rem}.department-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.department-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.department-preview[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;max-width:20rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical}']}),k})()},4304:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>R});var e=C(5e3);function d(b,s){if(1&b&&(e.ynx(0),e._uU(1),e.BQk()),2&b){const F=e.oxw();e.xp6(1),e.Oqu(F.caption)}}function u(b,s){if(1&b){const F=e.EpF();e.TgZ(0,"input",5),e.NdJ("blur",function(){e.CHM(F);const Q=e.oxw();return e.KtG(Q.stopEditing())})("keyup",function(Q){e.CHM(F);const N=e.oxw();return e.KtG(N.stopEditing(Q))})("ngModelChange",function(Q){e.CHM(F);const N=e.oxw();return e.KtG(N.captionChange.emit(Q))})("ngModelChange",function(Q){e.CHM(F);const N=e.oxw();return e.KtG(N.caption=Q)}),e.qZA()}if(2&b){const F=e.oxw();e.Q6J("ngModel",F.caption)("autofocus",!0)}}function p(b,s){if(1&b){const F=e.EpF();e.TgZ(0,"app-icon-button",6),e.NdJ("click",function(){e.CHM(F);const Q=e.oxw();return e.KtG(Q.editing=!0)}),e.qZA()}2&b&&e.Q6J("size",1.2)}function x(b,s){if(1&b){const F=e.EpF();e.TgZ(0,"app-icon-button",7),e.NdJ("click",function(){e.CHM(F);const Q=e.oxw();return e.KtG(Q.stopEditing())}),e.qZA()}2&b&&e.Q6J("size",1.2)}let R=(()=>{class b{constructor(){this.editing=!1,this.caption="",this.captionChange=new e.vpe,this.onStopEditing=new e.vpe}ngOnInit(){}stopEditing(F){if(!F)return this.editing=!1,void this.onStopEditing.emit(this.caption);("Enter"===F.key||"Escape"===F.key)&&(this.editing=!1,this.onStopEditing.emit(this.caption))}}return b.\u0275fac=function(F){return new(F||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-editing-caption"]],inputs:{caption:"caption"},outputs:{captionChange:"captionChange",onStopEditing:"onStopEditing"},decls:6,vars:4,consts:[[1,"flexed","hcenter","gap2"],[4,"ngIf"],["class","caption-input","pAutoFocus","","type","text",3,"ngModel","autofocus","blur","keyup","ngModelChange",4,"ngIf"],["icon","edit",3,"size","click",4,"ngIf"],["icon","check",3,"size","click",4,"ngIf"],["pAutoFocus","","type","text",1,"caption-input",3,"ngModel","autofocus","blur","keyup","ngModelChange"],["icon","edit",3,"size","click"],["icon","check",3,"size","click"]],template:function(F,O){1&F&&(e.TgZ(0,"div",0)(1,"span"),e.YNc(2,d,2,1,"ng-container",1),e.YNc(3,u,1,2,"input",2),e.qZA(),e.YNc(4,p,1,1,"app-icon-button",3),e.YNc(5,x,1,1,"app-icon-button",4),e.qZA()),2&F&&(e.xp6(2),e.Q6J("ngIf",!O.editing),e.xp6(1),e.Q6J("ngIf",O.editing),e.xp6(1),e.Q6J("ngIf",!O.editing),e.xp6(1),e.Q6J("ngIf",O.editing))},styles:[".caption-input[_ngcontent-%COMP%]{outline:0;border:0}"]}),b})()},1110:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>D});var e=C(7384),d=C(417),u=C(5e3),p=C(8738),x=C(8007);const R=["preview"];function b(P,Y){if(1&P&&u._UZ(0,"app-avatar",11),2&P){const re=u.oxw(3);let j;u.Q6J("deleted",null==re._employee?null:re._employee.deleted)("name",null!==(j=null==re._employee?null:re._employee.fullName)&&void 0!==j?j:"")("shape","circle")("size",re.size)("src",null==re._employee?null:re._employee.avatar)("status",null==re._employee?null:re._employee.status)}}function s(P,Y){if(1&P&&u._UZ(0,"app-avatar",12),2&P){const re=u.oxw(3);let j;u.Q6J("deleted",null==re._employee?null:re._employee.deleted)("name",null!==(j=null==re._employee?null:re._employee.fullName)&&void 0!==j?j:"")("shape","circle")("size",re.size)("src",null==re._employee?null:re._employee.avatar)}}function F(P,Y){if(1&P&&(u.ynx(0),u.YNc(1,b,1,6,"app-avatar",8),u.YNc(2,s,1,5,"app-avatar",9),u.TgZ(3,"span",10),u._uU(4),u.qZA(),u.BQk()),2&P){const re=u.oxw(2);u.xp6(1),u.Q6J("ngIf",re.showStatus),u.xp6(1),u.Q6J("ngIf",!re.showStatus),u.xp6(2),u.hij(" ",null==re._employee?null:re._employee.fullName," ")}}function O(P,Y){if(1&P&&(u.ynx(0),u._UZ(1,"p-skeleton",13)(2,"p-skeleton",14),u.BQk()),2&P){const re=u.oxw(2);u.xp6(1),u.Q6J("shape","circle")("size",re.size+"rem")}}function Q(P,Y){1&P&&(u.ynx(0),u.TgZ(1,"span",15),u._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),u.qZA(),u.BQk())}function N(P,Y){1&P&&u.GkF(0)}function T(P,Y){if(1&P&&(u.TgZ(0,"span",5),u.ynx(1,6),u.YNc(2,F,5,3,"ng-container",7),u.YNc(3,O,3,2,"ng-container",7),u.YNc(4,Q,3,0,"ng-container",7),u.YNc(5,N,1,0,"ng-container",7),u.BQk(),u.qZA()),2&P){const re=u.oxw();u.xp6(1),u.Q6J("ngSwitch",re.loadStatus),u.xp6(1),u.Q6J("ngSwitchCase","ready"),u.xp6(1),u.Q6J("ngSwitchCase","loading"),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","empty")}}function y(P,Y){if(1&P){const re=u.EpF();u.ynx(0),u.TgZ(1,"span",16),u.NdJ("mouseenter",function(G){u.CHM(re);const ie=u.oxw(2);return u.KtG(ie.showPreview(G))})("mouseleave",function(){u.CHM(re);const G=u.oxw(2);return u.KtG(G.hidePreview())}),u._uU(2),u.qZA(),u.BQk()}if(2&P){const re=u.oxw(2);u.xp6(2),u.Oqu(null==re._employee?null:re._employee.fullName)}}function w(P,Y){1&P&&(u.ynx(0),u._UZ(1,"p-skeleton",17),u.BQk()),2&P&&(u.xp6(1),u.Udp("display","inline-block"))}function k(P,Y){1&P&&(u.ynx(0),u.TgZ(1,"span",15),u._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),u.qZA(),u.BQk())}function V(P,Y){1&P&&u.GkF(0)}function U(P,Y){if(1&P&&(u.ynx(0)(1,6),u.YNc(2,y,3,1,"ng-container",7),u.YNc(3,w,2,2,"ng-container",7),u.YNc(4,k,3,0,"ng-container",7),u.YNc(5,V,1,0,"ng-container",7),u.BQk()()),2&P){const re=u.oxw();u.xp6(1),u.Q6J("ngSwitch",re.loadStatus),u.xp6(1),u.Q6J("ngSwitchCase","ready"),u.xp6(1),u.Q6J("ngSwitchCase","loading"),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","empty")}}function oe(P,Y){if(1&P&&(u.TgZ(0,"span",26),u._uU(1),u.qZA()),2&P){const re=u.oxw(2);u.Akn(re.statusStyle),u.xp6(1),u.Oqu(re.status)}}function K(P,Y){1&P&&(u.TgZ(0,"span",27),u._uU(1,"(\u0443\u0434\u0430\u043b\u0435\u043d)"),u.qZA())}function H(P,Y){if(1&P&&(u.TgZ(0,"div",18),u._UZ(1,"app-avatar",19),u.TgZ(2,"div",20),u._uU(3),u.qZA(),u.TgZ(4,"div",21),u.YNc(5,oe,2,3,"span",22),u.YNc(6,K,2,0,"span",23),u.qZA(),u.TgZ(7,"div",24),u._uU(8),u.qZA(),u.TgZ(9,"div",25),u._uU(10),u.qZA()()),2&P){const re=u.oxw();let j;u.xp6(1),u.Q6J("size",6)("deleted",null==re._employee?null:re._employee.deleted)("src",null==re._employee?null:re._employee.avatar)("name",null!==(j=null==re._employee?null:re._employee.fullName)&&void 0!==j?j:"")("status",null==re._employee?null:re._employee.status),u.xp6(2),u.hij(" ",null==re._employee?null:re._employee.fullName," "),u.xp6(2),u.Q6J("ngIf",re.status),u.xp6(1),u.Q6J("ngIf",null==re._employee?null:re._employee.deleted),u.xp6(2),u.Oqu(null==re._employee||null==re._employee.department?null:re._employee.department.name),u.xp6(2),u.Oqu(null==re._employee||null==re._employee.position?null:re._employee.position.name)}}let D=(()=>{class P{constructor(re,j){this.api=re,this.rt=j,this.size=1.7,this.inline=!1,this.showStatus=!1,this.loadStatus="loading"}get statusStyle(){var re;const j={};switch(null===(re=this._employee)||void 0===re?void 0:re.status){case e.LE.ONLINE:j.color="#36ff3b";break;case e.LE.AWAY:j.color="#ffc107";break;case e.LE.OFFLINE:j.color="#d5dde1"}return j}get status(){var re,j;switch(null===(re=this._employee)||void 0===re?void 0:re.status){case e.LE.ONLINE:return"\u0412 \u0441\u0435\u0442\u0438";case e.LE.AWAY:return"\u041e\u0442\u043e\u0448\u0435\u043b";case e.LE.OFFLINE:return(new d.t).transform(null===(j=this._employee)||void 0===j?void 0:j.lastSeen,"\u0411\u044b\u043b(\u0430) \u0432 \u0441\u0435\u0442\u0438 "," \u043d\u0430\u0437\u0430\u0434");default:return""}}static createElement(re,j){const G=document.createElement("employee-label-element");return G.employee=re,G.inline=j,G}ngOnInit(){this.loadingEmployee()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}showPreview(re){this.preview&&this.preview.show(re)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}ngOnChanges(re){const j=re.employee;j&&j.currentValue&&this.loadingEmployee()}loadingEmployee(){this.employee?"string"==typeof this.employee?this.api.getEmployee(this.employee,!0).subscribe({next:re=>{this._employee=re,this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(j=>{this._employee=j}),this.loadStatus="ready"},error:()=>{this.loadStatus="error"}}):(this._employee=this.employee,this.loadStatus="ready",this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(re=>{this._employee=re})):this.loadStatus="empty"}}return P.\u0275fac=function(re){return new(re||P)(u.Y36(p.s),u.Y36(x.U))},P.\u0275cmp=u.Xpm({type:P,selectors:[["app-employee-label"]],viewQuery:function(re,j){if(1&re&&u.Gf(R,5),2&re){let G;u.iGM(G=u.CRH())&&(j.preview=G.first)}},inputs:{size:"size",inline:"inline",showStatus:"showStatus",employee:"employee"},features:[u.TTD],decls:5,vars:2,consts:[["class","flexed gap4 hcenter",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap4","hcenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"deleted","name","shape","size","src","status",4,"ngIf"],[3,"deleted","name","shape","size","src",4,"ngIf"],[1,"caption","size-small","one-line"],[3,"deleted","name","shape","size","src","status"],[3,"deleted","name","shape","size","src"],[3,"shape","size"],["height",".8rem","width","8rem"],[1,""],[1,"like-link",3,"mouseenter","mouseleave"],["height",".8rem","width","5rem"],[1,"employee-preview"],["shape","square",1,"avatar",3,"size","deleted","src","name","status"],[1,"name","caption","size-big"],[1,"status"],["class","caption size-small wt-bold f-color-500",3,"style",4,"ngIf"],["class","caption size-small",4,"ngIf"],[1,"department","caption","size-small","f-color-500"],[1,"position","caption","size-small","f-color-500"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small"]],template:function(re,j){1&re&&(u.YNc(0,T,6,5,"span",0),u.YNc(1,U,6,5,"ng-container",1),u.TgZ(2,"p-overlayPanel",2,3),u.YNc(4,H,11,10,"ng-template",4),u.qZA()),2&re&&(u.Q6J("ngIf",!j.inline),u.xp6(1),u.Q6J("ngIf",j.inline))},styles:['.employee-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar status" "avatar department" "avatar position";column-gap:1rem}.employee-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.employee-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.employee-preview[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{grid-area:status}.employee-preview[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{grid-area:department}.employee-preview[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{grid-area:position}']}),P})()},7190:(dn,pt,C)=>{"use strict";C.d(pt,{i:()=>F});var e=C(2382),d=C(5e3),u=C(8738),p=C(4036),x=C(9783),R=C(1110);function b(O,Q){if(1&O&&d._UZ(0,"app-employee-label",3),2&O){const N=Q.$implicit;d.Q6J("size",1.4)("employee",N)}}function s(O,Q){if(1&O&&d._UZ(0,"app-employee-label",3),2&O){const N=Q.$implicit;d.Q6J("size",1.4)("employee",N)}}let F=(()=>{class O{constructor(N){this.api=N,this.employees=[],this.control=new e.NI(null),this.onChange=T=>{},this.onTouched=()=>{}}ngOnInit(){this.api.getEmployees().subscribe(N=>{this.employees=N}),this.control.valueChanges.subscribe(N=>{this.onChange(N)})}ngOnDestroy(){}setDisabledState(N){N?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}writeValue(N){this.control.setValue(N||null)}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(u.s))},O.\u0275cmp=d.Xpm({type:O,selectors:[["app-employee-selector"]],features:[d._Bn([{provide:e.JU,useExisting:O,multi:!0}])],decls:3,vars:3,consts:[["styleClass","full-width","optionValue","login","appendTo","body","placeholder","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",3,"options","formControl","showClear","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"size","employee"]],template:function(N,T){1&N&&(d.TgZ(0,"p-dropdown",0),d.NdJ("onBlur",function(){return T.onTouched()}),d.YNc(1,b,1,2,"ng-template",1),d.YNc(2,s,1,2,"ng-template",2),d.qZA()),2&N&&d.Q6J("options",T.employees)("formControl",T.control)("showClear",!0)},dependencies:[e.JJ,p.Lt,x.jx,e.oH,R.x]}),O})()},6288:(dn,pt,C)=>{"use strict";C.d(pt,{Y:()=>s});var e=C(5e3),d=C(2382),u=C(9783);const p=["fileManager"],x=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function R(F,O){if(1&F&&e._UZ(0,"p-badge",7),2&F){const Q=e.oxw();e.Akn(e.DdM(3,x)),e.Q6J("value",Q.filesLoaded.toString())}}let s=(()=>{class F{constructor(Q){this.toast=Q,this.files=[],this.short=!1,this.filesChange=new e.vpe,this.filesCatching=0,this.filesLoaded=0,this.loading=!1,this.disabled=!1,this.menuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.openFileManager.bind(this)},{label:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",icon:"mdi-highlight_off",command:this.clear.bind(this)}],this.onChange=N=>{},this.onTouched=()=>{}}get hasFiles(){return this.files.length>0}get style(){return this.short?"p-button-text p-button-icon p-button-rounded"+(this.hasFiles?" p-button-info":" p-button-secondary"):"p-button-text"+(this.hasFiles?" p-button-info":" p-button-secondary")}get label(){return this.short?"":"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}ngOnInit(){}openFileManager(){this.clear(),this.fileManager.nativeElement.click()}clear(){this.filesCatching=0,this.filesLoaded=0,this.files=[],this.filesChange.emit([]),this.onChange([]),this.fileManager.nativeElement.value=""}catchFiles(Q){var N;if(0===Q.target.files.length)return;this.loading=!0,this.filesCatching=0,this.filesLoaded=0;const T=Object.values(null!==(N=this.fileManager.nativeElement.files)&&void 0!==N?N:{});this.loadFiles(T)}appendFiles(Q){if(!Q.clipboardData)return;this.loading=!0,this.filesCatching+=Q.clipboardData.files.length;const N=[];for(let T=0;T<Q.clipboardData.files.length;T++)N.push(Q.clipboardData.files[T]);this.loadFiles(N)}loadFiles(Q){this.filesCatching=Q.length+this.files.length;for(const N of Q){if(N.size>20971520){this.toast.add({severity:"warn",summary:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430",detail:`\u0424\u0430\u0439\u043b ${N.name} \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${(N.size/1048576).toFixed(2)} \u041c\u0431\u0430\u0439\u0442 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u043b\u0438\u043c\u0438\u0442 \u0432 ${20..toFixed(2)} \u041c\u0431\u0430\u0439\u0442`}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1);continue}const T=new FileReader;T.onload=y=>{var w;const k=null===(w=y.target)||void 0===w?void 0:w.result;k instanceof ArrayBuffer&&(Array.isArray(this.files)||(this.files=[]),this.files.push({name:N.name,modified:N.lastModified,data:Object.values(new Uint8Array(k)),type:N.type}),this.lastFileName=N.name,this.filesLoaded=this.files.length,this.filesChange.emit(this.files),this.onChange(this.files),this.filesLoaded===this.filesCatching&&(this.loading=!1))},T.onerror=y=>{this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430",detail:y.type}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1)},T.readAsArrayBuffer(N)}}ngOnDestroy(){}registerOnChange(Q){this.onChange=Q}registerOnTouched(Q){this.onTouched=Q}setDisabledState(Q){this.disabled=Q}writeValue(Q){this.files=Q,this.filesChange.emit(this.files)}}return F.\u0275fac=function(Q){return new(Q||F)(e.Y36(u.ez))},F.\u0275cmp=e.Xpm({type:F,selectors:[["app-file-input"]],viewQuery:function(Q,N){if(1&Q&&e.Gf(p,5),2&Q){let T;e.iGM(T=e.CRH())&&(N.fileManager=T.first)}},inputs:{files:"files",short:"short",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e._Bn([{provide:d.JU,useExisting:F,multi:!0}])],decls:7,vars:11,consts:[["tooltipPosition","left",1,"button-wrapper",3,"pTooltip","tooltipDisabled"],["icon","mdi-attach_file",3,"disabled","label","styleClass","onClick"],["class","ur-badge",3,"style","value",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],["type","file",3,"multiple","change"],["fileManager",""],[1,"ur-badge",3,"value"]],template:function(Q,N){if(1&Q){const T=e.EpF();e.TgZ(0,"div",0)(1,"p-button",1),e.NdJ("onClick",function(w){e.CHM(T);const k=e.MAs(4);return e.KtG(N.hasFiles?k.toggle(w):N.openFileManager())}),e.qZA(),e.YNc(2,R,1,4,"p-badge",2),e._UZ(3,"p-menu",3,4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function(w){return N.catchFiles(w)}),e.qZA()}2&Q&&(e.Q6J("pTooltip","\u0424\u0430\u0439\u043b\u043e\u0432 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e "+N.filesLoaded+"/"+N.filesCatching+"\n\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439: \n"+N.lastFileName)("tooltipDisabled",!N.hasFiles),e.xp6(1),e.Q6J("disabled",N.disabled||N.loading)("label",N.label)("styleClass",N.style),e.xp6(1),e.Q6J("ngIf",N.hasFiles),e.xp6(1),e.Q6J("model",N.menuItems)("popup",!0),e.xp6(2),e.Udp("display","none"),e.Q6J("multiple",!0))},styles:[".button-wrapper[_ngcontent-%COMP%]{position:relative}"]}),F})()},5651:(dn,pt,C)=>{"use strict";C.d(pt,{r:()=>R});var e=C(5e3),d=C(9808);function u(b,s){if(1&b&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&b){const F=e.oxw();e.Udp("font-size",F.size+"rem"),e.xp6(1),e.Oqu(F.icon)}}function p(b,s){if(1&b&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()()),2&b){const F=e.oxw();e.xp6(2),e.Tol("loading-indicator__spinner "+F.model)}}const x=function(b){return{disabled:b}};let R=(()=>{class b{constructor(){this.icon="",this.size=1.9,this.disabled=!1,this.onClick=new e.vpe,this.model="primary",this.loading=!1}ngOnInit(){}clickHandler(F){this.disabled||this.onClick.emit(F)}}return b.\u0275fac=function(F){return new(F||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-icon-button"]],inputs:{icon:"icon",size:"size",disabled:"disabled",model:"model",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[[3,"ngClass","click"],["class","material-icons-round",3,"font-size",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"material-icons-round"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(F,O){1&F&&(e.TgZ(0,"div",0),e.NdJ("click",function(N){return O.clickHandler(N)}),e.YNc(1,u,2,3,"span",1),e.YNc(2,p,3,2,"div",2),e.qZA()),2&F&&(e.Tol("button "+O.model),e.Q6J("ngClass",e.VKq(5,x,O.disabled)),e.xp6(1),e.Q6J("ngIf",!O.loading),e.xp6(1),e.Q6J("ngIf",O.loading))},dependencies:[d.mk,d.O5],styles:[".button[_ngcontent-%COMP%]{display:flex;padding:.2rem;-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:.4rem;transition:color .2s ease-out}.button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{line-height:normal!important}.button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.button.primary[_ngcontent-%COMP%]:hover{color:#2542a4}.button.danger[_ngcontent-%COMP%]{color:#ef4444}.button.danger[_ngcontent-%COMP%]:hover{color:#b73030}.button.success[_ngcontent-%COMP%]{color:#22c55e}.button.success[_ngcontent-%COMP%]:hover{color:#1ba94f}.button.secondary[_ngcontent-%COMP%]{color:#64748b}.button.secondary[_ngcontent-%COMP%]:hover{color:#4d5a6c}.button.info[_ngcontent-%COMP%]{color:#3b82f6}.button.info[_ngcontent-%COMP%]:hover{color:#2c61b7}.button.warning[_ngcontent-%COMP%]{color:#f59e0b}.button.warning[_ngcontent-%COMP%]:hover{color:#c07d09}.button.help[_ngcontent-%COMP%]{color:#a855f7}.button.help[_ngcontent-%COMP%]:hover{color:#7b3db6}.button.light[_ngcontent-%COMP%]{color:var(--tc-100)}.button.light[_ngcontent-%COMP%]:hover{color:var(--tc-300)}.disabled[_ngcontent-%COMP%]{color:var(--bgc-300)!important;cursor:default}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),b})()},1560:(dn,pt,C)=>{"use strict";C.d(pt,{_:()=>p});var e=C(5e3),d=C(9808);const u=["*"];let p=(()=>{class x{constructor(){this.label=""}ngOnInit(){}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-label"]],inputs:{label:"label",styleClass:"styleClass"},ngContentSelectors:u,decls:4,vars:2,consts:[[1,"input-label-wrapper"],[3,"ngClass"]],template:function(b,s){1&b&&(e.F$t(),e.TgZ(0,"span",0)(1,"label",1),e._uU(2),e.qZA(),e.Hsn(3),e.qZA()),2&b&&(e.xp6(1),e.Q6J("ngClass",s.styleClass),e.xp6(1),e.Oqu(s.label))},dependencies:[d.mk]}),x})()},1921:(dn,pt,C)=>{"use strict";C.d(pt,{Z:()=>p});var e=C(5e3),d=C(2382),u=C(4004);let p=(()=>{class x{constructor(){this.inputClasses={},this.onBlur=new e.vpe,this.control1=new d.NI(0),this.control2=new d.NI(0),this.control3=new d.NI(0),this.control4=new d.NI(0),this.formGroup=new d.cw({octets:new d.Oe([this.control1,this.control2,this.control3,this.control4])}),this.updateValue="",this.onChange=b=>{},this.onTouch=()=>{}}setDisabledState(b){b?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1})}parseString(b){return b?b.trim().split(".").map(s=>{let F=parseInt(s.replace(/\D/g,""));return isNaN(F)?0:F}).slice(0,4):[0,0,0,0]}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouch=b}writeValue(b){b&&("string"==typeof b&&(b=this.parseString(b)),4!==b.length&&(b=[0,0,0,0]),this.formGroup.patchValue({octets:this.mapOctets(b)}),this.updateValue=b.join("."))}mapOctets(b){return b.map(s=>"number"!=typeof(s=parseInt(s))||isNaN(s)?0:Math.min(Math.max(0,s),255))}octetFocus(b){b.target.select()}ngOnInit(){this.subscription=this.formGroup.valueChanges.pipe((0,u.U)(b=>{let s=b.octets;return void 0===s?(this.formGroup.patchValue({octets:[0,0,0,0]},{emitEvent:!1}),"0.0.0.0"):(s=this.mapOctets(s),this.formGroup.patchValue({octets:s},{emitEvent:!1,onlySelf:!0}),s.join("."))})).subscribe(b=>{this.onChange("0.0.0.0"===b?null:b)})}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}focusNext(b,s){3===b.target.value.length&&s.focus()}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-ip-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0}])],decls:15,vars:12,consts:[[1,"flex","gap-1","p-component","p-inputtext","p-element","error-border",3,"ngClass","formGroup","click"],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur","input"],["octOne",""],["octTwo",""],["octThree",""],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur"],["octFour",""]],template:function(b,s){if(1&b){const F=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(F);const Q=e.MAs(2);return e.KtG(Q.focus())}),e.TgZ(1,"input",1,2),e.NdJ("click",function(Q){return Q.stopPropagation()})("focus",function(Q){return s.octetFocus(Q)})("blur",function(){return s.onBlur.emit(),s.onTouch()})("input",function(Q){e.CHM(F);const N=e.MAs(6);return e.KtG(s.focusNext(Q,N))}),e.qZA(),e.TgZ(3,"span"),e._uU(4,"."),e.qZA(),e.TgZ(5,"input",1,3),e.NdJ("click",function(Q){return Q.stopPropagation()})("focus",function(Q){return s.octetFocus(Q)})("blur",function(){return s.onBlur.emit(),s.onTouch()})("input",function(Q){e.CHM(F);const N=e.MAs(10);return e.KtG(s.focusNext(Q,N))}),e.qZA(),e.TgZ(7,"span"),e._uU(8,"."),e.qZA(),e.TgZ(9,"input",1,4),e.NdJ("click",function(Q){return Q.stopPropagation()})("focus",function(Q){return s.octetFocus(Q)})("blur",function(){return s.onBlur.emit(),s.onTouch()})("input",function(Q){e.CHM(F);const N=e.MAs(14);return e.KtG(s.focusNext(Q,N))}),e.qZA(),e.TgZ(11,"span"),e._uU(12,"."),e.qZA(),e.TgZ(13,"input",5,6),e.NdJ("click",function(Q){return Q.stopPropagation()})("focus",function(Q){return s.octetFocus(Q)})("blur",function(){return s.onBlur.emit(),s.onTouch()}),e.qZA()()}2&b&&(e.Udp("cursor","text"),e.Q6J("ngClass",s.inputClasses)("formGroup",s.formGroup),e.xp6(1),e.Q6J("formControl",s.control1)("update",s.updateValue),e.xp6(4),e.Q6J("formControl",s.control2)("update",s.updateValue),e.xp6(4),e.Q6J("formControl",s.control3)("update",s.updateValue),e.xp6(4),e.Q6J("formControl",s.control4)("update",s.updateValue))},styles:[".octet-input[_ngcontent-%COMP%]{padding:0;border:none;outline:none;width:3rem;text-align:center;font-size:1.1rem}"]}),x})()},2777:(dn,pt,C)=>{"use strict";C.d(pt,{U:()=>T});var e=C(1135),d=C(8372),u=C(5e3),p=C(8738);const x=["previewConnectedTask"],R=function(y){return["/task",y]};function b(y,w){if(1&y){const k=u.EpF();u.TgZ(0,"span",6),u.NdJ("click",function(){u.CHM(k);const U=u.oxw();return u.KtG(U.panelShowSubject.next(null))})("mouseenter",function(U){u.CHM(k);const oe=u.oxw();return u.KtG(oe.panelShowSubject.next(U))})("mouseleave",function(){u.CHM(k);const U=u.oxw();return u.KtG(U.panelShowSubject.next(null))}),u._uU(1),u.qZA()}if(2&y){const k=u.oxw();u.Q6J("routerLink",u.VKq(2,R,null==k.task?null:k.task.taskId)),u.xp6(1),u.hij("#",null==k.task?null:k.task.taskId,"")}}function s(y,w){1&y&&u._UZ(0,"p-skeleton",7),2&y&&u.Udp("display","inline-block")}function F(y,w){if(1&y&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&y){const k=u.oxw();u.xp6(1),u.hij("#",k._taskId,"")}}const O=function(){return{width:"40vw",minWidth:"min-content"}};function Q(y,w){if(1&y&&u._UZ(0,"app-task-list-element",9),2&y){const k=u.oxw(2);u.Akn(u.DdM(5,O)),u.Q6J("isHover",!1)("item",k.task)("inlined",!0)}}function N(y,w){if(1&y&&u.YNc(0,Q,1,6,"app-task-list-element",8),2&y){const k=u.oxw();u.Q6J("ngIf",null==k.task?null:k.task.taskId)}}let T=(()=>{class y{constructor(k){this.api=k,this.failed=!1,this.panelShowSubject=new e.X(null),this.panelShow$=this.panelShowSubject.pipe((0,d.b)(500))}set taskId(k){0!==k&&(this._taskId=k,this.api.getTask(this._taskId,!0).subscribe({next:V=>this.task=V,error:()=>this.failed=!0}))}static createElement(k){const V=document.createElement("task-link-element");return V.taskId=k,V}ngOnInit(){this.panelShowSub=this.panelShow$.subscribe(k=>{k?this.showPreview(k):this.hidePreview()})}ngOnDestroy(){var k;null===(k=this.panelShowSub)||void 0===k||k.unsubscribe()}showPreview(k){this.previewConnectedTask&&this.previewConnectedTask.show(k)}hidePreview(){setTimeout(()=>{this.previewConnectedTask&&this.previewConnectedTask.hide()})}}return y.\u0275fac=function(k){return new(k||y)(u.Y36(p.s))},y.\u0275cmp=u.Xpm({type:y,selectors:[["app-task-link"]],viewQuery:function(k,V){if(1&k&&u.Gf(x,5),2&k){let U;u.iGM(U=u.CRH())&&(V.previewConnectedTask=U.first)}},inputs:{task:"task",taskId:"taskId"},decls:6,vars:3,consts:[["class","like-link",3,"routerLink","click","mouseenter","mouseleave",4,"ngIf"],["width","4rem","height",".8rem",3,"display",4,"ngIf"],[4,"ngIf"],["appendTo","body"],["previewConnectedTask",""],["pTemplate","content"],[1,"like-link",3,"routerLink","click","mouseenter","mouseleave"],["width","4rem","height",".8rem"],[3,"isHover","item","inlined","style",4,"ngIf"],[3,"isHover","item","inlined"]],template:function(k,V){1&k&&(u.YNc(0,b,2,4,"span",0),u.YNc(1,s,1,2,"p-skeleton",1),u.YNc(2,F,2,1,"span",2),u.TgZ(3,"p-overlayPanel",3,4),u.YNc(5,N,1,1,"ng-template",5),u.qZA()),2&k&&(u.Q6J("ngIf",0!==(null==V.task?null:V.task.taskId)),u.xp6(1),u.Q6J("ngIf",0===(null==V.task?null:V.task.taskId)&&!V.failed),u.xp6(1),u.Q6J("ngIf",V.failed))}}),y})()},8506:(dn,pt,C)=>{"use strict";C.d(pt,{p:()=>x});var e=C(2382),d=C(7384),u=C(5e3),p=C(7102);let x=(()=>{class R{constructor(){this.chooserControl=new e.NI([]),this.options=[{name:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:d.hY.ACTIVE},{name:"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",value:d.hY.PROCESSING},{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:d.hY.CLOSE}],this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.chooserControl.valueChanges.subscribe(s=>{this.onChange(s||[])})}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){s?this.chooserControl.disable({emitEvent:!1}):this.chooserControl.enable({emitEvent:!1})}writeValue(s){this.chooserControl.setValue(s||[])}}return R.\u0275fac=function(s){return new(s||R)},R.\u0275cmp=u.Xpm({type:R,selectors:[["app-task-status-chooser"]],features:[u._Bn([{provide:e.JU,multi:!0,useExisting:R}])],decls:1,vars:3,consts:[["optionLabel","name","optionValue","value",3,"options","formControl","multiple"]],template:function(s,F){1&s&&u._UZ(0,"p-selectButton",0),2&s&&u.Q6J("options",F.options)("formControl",F.chooserControl)("multiple",!0)},dependencies:[e.JJ,e.oH,p.UN]}),R})()},2062:(dn,pt,C)=>{"use strict";C.d(pt,{F:()=>k});var e=C(2382),d=C(383),u=C(4004),p=C(5e3),x=C(8738),R=C(9808),b=C(9783),s=C(3640),F=C(6526);function O(V,U){1&V&&(p.TgZ(0,"div",10),p._uU(1,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438"),p.qZA())}function Q(V,U){if(1&V&&(p.TgZ(0,"div",11),p._uU(1),p.qZA()),2&V){const oe=U.$implicit;p.Udp("background-color",oe.color),p.xp6(1),p.hij(" ",oe.name," ")}}function N(V,U){if(1&V){const oe=p.EpF();p.TgZ(0,"div",12),p.NdJ("mouseenter",function(H){p.CHM(oe),p.oxw(2);const D=p.MAs(4);return p.KtG(D.show(H))})("mouseleave",function(){p.CHM(oe),p.oxw(2);const H=p.MAs(4);return p.KtG(H.hide())}),p._uU(1),p.qZA()}if(2&V){const oe=p.oxw(2);p.xp6(1),p.hij(" \u0418 \u0435\u0449\u0435 ",oe.selectedTags.length-2," ")}}function T(V,U){if(1&V&&(p.YNc(0,O,2,0,"div",7),p.TgZ(1,"div",8),p.YNc(2,Q,2,3,"div",6),p.ALo(3,"slice"),p.YNc(4,N,2,1,"div",9),p.qZA()),2&V){const oe=p.oxw();p.Q6J("ngIf",!oe.selectedTags||0===oe.selectedTags.length),p.xp6(2),p.Q6J("ngForOf",p.Dn7(3,4,oe.selectedTags,0,2))("ngForTrackBy",oe.trackByTaskTag),p.xp6(2),p.Q6J("ngIf",oe.control.value&&oe.control.value.length>2)}}function y(V,U){if(1&V&&(p.TgZ(0,"div",11),p._uU(1),p.qZA()),2&V){const oe=U.$implicit;p.Udp("background-color",oe.color),p.xp6(1),p.hij(" ",oe.name," ")}}function w(V,U){if(1&V&&(p.TgZ(0,"div",11),p._uU(1),p.qZA()),2&V){const oe=U.$implicit;p.Udp("background-color",oe.color),p.xp6(1),p.hij(" ",oe.name," ")}}let k=(()=>{class V{constructor(oe){this.api=oe,this.availableTags=[],this.control=new e.NI(null),this.subscription=new d.xf,this.onChange=()=>{},this.onTouched=()=>{}}get selectedTags(){return this.availableTags.filter(oe=>{var K;return null===(K=this.control.value)||void 0===K?void 0:K.includes(oe.taskTagId)})}trackByTaskTag(oe,K){return K.taskTagId}setDisabledState(oe){oe?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.api.getTaskTags(null,!0).subscribe(oe=>{this.availableTags=oe}),this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,u.U)(oe=>null!=oe?oe:[])).subscribe(oe=>{this.onChange(oe)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(oe){this.onChange=oe}registerOnTouched(oe){this.onTouched=oe}writeValue(oe){this.control.setValue(oe||null)}}return V.\u0275fac=function(oe){return new(oe||V)(p.Y36(x.s))},V.\u0275cmp=p.Xpm({type:V,selectors:[["app-task-tag-filter-input"]],features:[p._Bn([{provide:e.JU,multi:!0,useExisting:V}])],decls:8,vars:9,consts:[["filterBy","name","appendTo","body","defaultLabel","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438","optionValue","taskTagId","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438",3,"formControl","filter","options","showClear","onBlur"],["pTemplate","selectedItems"],["pTemplate","item"],["showTransitionOptions","0ms","hideTransitionOptions","0ms"],["extraPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-placeholder",4,"ngIf"],[1,"tags-view"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-placeholder"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"]],template:function(oe,K){1&oe&&(p.TgZ(0,"p-multiSelect",0),p.NdJ("onBlur",function(){return K.onTouched()}),p.YNc(1,T,5,8,"ng-template",1),p.YNc(2,y,2,3,"ng-template",2),p.qZA(),p.TgZ(3,"p-overlayPanel",3,4)(5,"div",5),p.YNc(6,w,2,3,"div",6),p.ALo(7,"slice"),p.qZA()()),2&oe&&(p.Q6J("formControl",K.control)("filter",!0)("options",K.availableTags)("showClear",!0),p.xp6(6),p.Q6J("ngForOf",p.xi3(7,6,K.selectedTags,2))("ngForTrackBy",K.trackByTaskTag))},dependencies:[R.sg,R.O5,e.JJ,b.jx,s.T,F.NU,e.oH,R.OU]}),V})()},1403:(dn,pt,C)=>{"use strict";C.d(pt,{a:()=>P});var e=C(5e3),d=C(2382),u=C(1135),p=C(9841),x=C(4004),R=C(8738),b=C(9808),s=C(9783),F=C(3640),O=C(5055),Q=C(7433);function N(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){e.CHM(j);const ie=e.oxw().$implicit,Te=e.oxw(2);return e.KtG(Te.removeTag(ie))}),e.qZA()}}function T(Y,re){if(1&Y&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.qZA(),e.YNc(3,N,1,0,"span",12),e.qZA()),2&Y){const j=re.$implicit,G=e.oxw(2);e.Udp("background-color",j.color),e.xp6(2),e.hij(" ",j.name," "),e.xp6(1),e.Q6J("ngIf",G.isEdit)}}function y(Y,re){1&Y&&(e.TgZ(0,"div",14),e._uU(1," \u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432 "),e.qZA())}function w(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(ie){e.CHM(j);const Te=e.oxw(2),Me=e.MAs(4);return e.KtG(Te.editTags(ie,Me,Te.element.nativeElement))}),e.TgZ(1,"span",16),e._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),e.qZA()()}}const k=function(){return{"z-index":2101}};function V(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(ie){return ie.stopPropagation()})("mouseenter",function(){e.CHM(j);const ie=e.oxw();return e.KtG(ie.isWrapperHovered=!0)})("mouseleave",function(){e.CHM(j);const ie=e.oxw();return e.KtG(ie.isWrapperHovered=!1)}),e.YNc(1,T,4,4,"div",7),e.YNc(2,y,2,0,"div",8),e.YNc(3,w,3,0,"div",9),e.qZA()}if(2&Y){const j=e.oxw();e.Akn(j.isEdit?e.DdM(5,k):null),e.xp6(1),e.Q6J("ngForOf",j.tags),e.xp6(1),e.Q6J("ngIf",0===j.tags.length),e.xp6(1),e.Q6J("ngIf",!j.isEdit&&j.isWrapperHovered)}}function U(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(ie){e.CHM(j);const Te=e.oxw(),Me=e.MAs(4);return e.KtG(Te.editTags(ie,Me,Te.element.nativeElement))}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 "),e.qZA()}}function oe(Y,re){if(1&Y&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Y){const j=re.$implicit;e.Udp("color",j.value.color),e.xp6(1),e.Oqu(j.label)}}const K=function(){return[]},H=function(){return{"max-height":"35vh"}};function D(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.appendTag(ie.value))}),e.ALo(1,"async"),e.YNc(2,oe,2,3,"ng-template",19),e.qZA()}if(2&Y){const j=e.oxw();let G;e.Q6J("options",null!==(G=e.lcZ(1,3,j.loadedTags$))&&void 0!==G?G:e.DdM(5,K))("filter",!0)("listStyle",e.DdM(6,H))}}let P=(()=>{class Y{constructor(j,G){this.api=j,this.element=G,this.isEdit=!1,this.isDisabled=!1,this.isWrapperHovered=!1,this.tags=[],this.selectedTagsSubject=new u.X(this.tags),this.alreadySelected$=this.selectedTagsSubject.asObservable(),this.loadedTags$=(0,p.a)([this.api.getTaskTags(null,!1),this.alreadySelected$]).pipe((0,x.U)(([ie,Te])=>ie.filter(Me=>!Te.find(de=>de.taskTagId===Me.taskTagId)).map(Me=>({label:Me.name,value:Me})))),this.initialTags=[],this.onShow=new e.vpe,this.onHide=new e.vpe,this.onChange=ie=>{},this.onTouched=()=>{}}ngOnInit(){}ngOnDestroy(){}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.isDisabled=j}writeValue(j){if(!j)return this.tags=[],void this.selectedTagsSubject.next(this.tags);this.tags=j,this.selectedTagsSubject.next(this.tags)}appendTag(j){!j||(this.tags.push(j),this.selectedTagsSubject.next(this.tags))}removeTag(j){this.tags.splice(this.tags.indexOf(j),1),this.selectedTagsSubject.next(this.tags)}initializeTags(){this.initialTags=[...this.tags]}isHasChanges(){return!(this.tags.length===this.initialTags.length&&!this.tags.some(j=>this.initialTags.every(G=>G.taskTagId!==j.taskTagId))&&!this.initialTags.some(j=>this.tags.every(G=>j.taskTagId!==G.taskTagId)))}changeTags(){this.isEdit=!1,this.onHide.emit(),this.isHasChanges()&&this.onChange(this.tags)}editTags(j,G,ie){j.stopPropagation(),this.isEdit=!0,this.initializeTags(),G.toggle(j,ie),this.onShow.emit()}}return Y.\u0275fac=function(j){return new(j||Y)(e.Y36(R.s),e.Y36(e.SBq))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-task-tag-inline-selector"]],outputs:{onShow:"onShow",onHide:"onHide"},features:[e._Bn([{provide:d.JU,multi:!0,useExisting:Y}])],decls:7,vars:5,consts:[["class","flex gap-2 align-items-center flex-wrap user-select-none relative w-fit",3,"style","click","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["emptyTagsTemplate",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onHide"],["appendTagPanel",""],["pTemplate","content"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","gap-2","align-items-center","flex-wrap","user-select-none","relative","w-fit",3,"click","mouseenter","mouseleave"],["class","flex align-items-center px-3 py-2 text-white flex border-round-3xl gap-1 cursor-default",3,"background-color",4,"ngFor","ngForOf"],["class","text-bluegray-300 font-bold px-2 py-1",4,"ngIf"],["class","absolute flex min-w-max w-full h-full align-items-center justify-content-center cursor-pointer\n          border-round-xl py-2 px-4 back-blured border-1 border-orange-500",3,"click",4,"ngIf"],[1,"flex","align-items-center","px-3","py-2","text-white","flex","border-round-3xl","gap-1","cursor-default"],[1,"white-space-nowrap"],["class","mdi-cancel cursor-pointer hover:text-red-100",3,"click",4,"ngIf"],[1,"mdi-cancel","cursor-pointer","hover:text-red-100",3,"click"],[1,"text-bluegray-300","font-bold","px-2","py-1"],[1,"absolute","flex","min-w-max","w-full","h-full","align-items-center","justify-content-center","cursor-pointer","border-round-xl","py-2","px-4","back-blured","border-1","border-orange-500",3,"click"],[1,"text-orange-500"],[1,"text-primary","px-3","py-2","border-round-3xl","border-1","border-primary","w-fit","hover:bg-primary","hover:text-white","cursor-pointer",3,"click"],["filterBy","name",3,"options","filter","listStyle","onChange"],["pTemplate","item"]],template:function(j,G){if(1&j&&(e.YNc(0,V,4,6,"div",0),e.YNc(1,U,2,0,"ng-template",null,1,e.W1O),e.TgZ(3,"p-overlayPanel",2,3),e.NdJ("onHide",function(){return G.changeTags()}),e.YNc(5,D,3,7,"ng-template",4),e.qZA(),e._UZ(6,"p-blockUI",5)),2&j){const ie=e.MAs(2);e.Q6J("ngIf",G.tags.length>0||G.isEdit)("ngIfElse",ie),e.xp6(6),e.Q6J("blocked",G.isEdit)("autoZIndex",!1)("baseZIndex",1101)}},dependencies:[b.sg,b.O5,s.jx,F.T,O.Ri,Q.b,b.Ov]}),Y})()},5834:(dn,pt,C)=>{"use strict";C.d(pt,{E:()=>pe});var e=C(5e3),d=C(2382),u=C(8738);function p(_e,Xe){1&_e&&e.GkF(0)}const x=function(){return{label:"\u0414\u0430",value:!0}},R=function(){return{label:"\u041d\u0435\u0442",value:!1}},b=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},s=function(_e,Xe,ct){return[_e,Xe,ct]};function F(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,p,1,0,"ng-container",6),e._UZ(2,"p-dropdown",7),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct),e.xp6(1),e.Q6J("options",e.kEZ(5,s,e.DdM(2,x),e.DdM(3,R),e.DdM(4,b)))}}function O(_e,Xe){1&_e&&e.GkF(0)}function Q(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,O,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function N(_e,Xe){1&_e&&e.GkF(0)}function T(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,N,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function y(_e,Xe){1&_e&&e.GkF(0)}function w(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,y,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",9),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function k(_e,Xe){1&_e&&e.GkF(0)}function V(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,k,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",10),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct),e.xp6(1),e.Q6J("minFractionDigits",1)}}function U(_e,Xe){1&_e&&e.GkF(0)}function oe(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"div",5),e.YNc(1,U,1,0,"ng-container",6),e.TgZ(2,"app-address-input-alt",11),e.NdJ("onBlur",function(){e.CHM(ct);const Zt=e.oxw(2);return e.KtG(Zt.onTouched())}),e.qZA()()}if(2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function K(_e,Xe){1&_e&&e.GkF(0)}function H(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,K,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function D(_e,Xe){1&_e&&e.GkF(0)}const P=function(){return[]};function Y(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"div",5),e.YNc(1,D,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",13),e.NdJ("onBlur",function(){e.CHM(ct);const Zt=e.oxw(2);return e.KtG(Zt.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&_e){const ct=e.oxw(2),ot=e.MAs(2);let Zt;e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("options",null!==(Zt=e.lcZ(3,3,ct.adSources$))&&void 0!==Zt?Zt:e.DdM(5,P))("showClear",!0)}}function re(_e,Xe){1&_e&&e.GkF(0)}function j(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,re,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function G(_e,Xe){1&_e&&e.GkF(0)}function ie(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,G,1,0,"ng-container",6),e._UZ(2,"input",14),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function Te(_e,Xe){1&_e&&e.GkF(0)}function Me(_e,Xe){if(1&_e&&(e.TgZ(0,"div",5),e.YNc(1,Te,1,0,"ng-container",6),e._UZ(2,"app-equipments-field-filter",9),e.qZA()),2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function de(_e,Xe){1&_e&&e.GkF(0)}function te(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"div",5),e.YNc(1,de,1,0,"ng-container",6),e.TgZ(2,"app-connection-services-input",11),e.NdJ("onBlur",function(){e.CHM(ct);const Zt=e.oxw(2);return e.KtG(Zt.onTouched())}),e.qZA()()}if(2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function ce(_e,Xe){1&_e&&e.GkF(0)}function J(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"div",5),e.YNc(1,ce,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",15),e.NdJ("onBlur",function(){e.CHM(ct);const Zt=e.oxw(2);return e.KtG(Zt.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&_e){const ct=e.oxw(2),ot=e.MAs(2);let Zt;e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("options",null!==(Zt=e.lcZ(3,3,ct.connectionTypes$))&&void 0!==Zt?Zt:e.DdM(5,P))("showClear",!0)}}function ve(_e,Xe){1&_e&&e.GkF(0)}function be(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"div",5),e.YNc(1,ve,1,0,"ng-container",6),e.TgZ(2,"input",16),e.NdJ("blur",function(){e.CHM(ct);const Zt=e.oxw(2);return e.KtG(Zt.onTouched())}),e.qZA()()}if(2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function Be(_e,Xe){1&_e&&e.GkF(0)}function we(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"div",5),e.YNc(1,Be,1,0,"ng-container",6),e.TgZ(2,"input",17),e.NdJ("blur",function(){e.CHM(ct);const Zt=e.oxw(2);return e.KtG(Zt.onTouched())}),e.qZA()()}if(2&_e){e.oxw(2);const ct=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ct)}}function ke(_e,Xe){1&_e&&e._UZ(0,"div"),2&_e&&e.Udp("background-color","red")}function X(_e,Xe){if(1&_e&&(e.ynx(0,2),e.YNc(1,F,3,9,"div",3),e.YNc(2,Q,3,1,"div",3),e.YNc(3,T,3,1,"div",3),e.YNc(4,w,3,1,"div",3),e.YNc(5,V,3,2,"div",3),e.YNc(6,oe,3,1,"div",3),e.YNc(7,H,3,1,"div",3),e.YNc(8,Y,4,6,"div",3),e.YNc(9,j,3,1,"div",3),e.YNc(10,ie,3,1,"div",3),e.YNc(11,Me,3,1,"div",3),e.YNc(12,te,3,1,"div",3),e.YNc(13,J,4,6,"div",3),e.YNc(14,be,3,1,"div",3),e.YNc(15,we,3,1,"div",3),e.YNc(16,ke,1,2,"div",4),e.BQk()),2&_e){const ct=e.oxw();e.Q6J("ngSwitch",ct.field.value.wireframeFieldType)("formGroup",ct.field),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES")}}function q(_e,Xe){if(1&_e&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&_e){const ct=e.oxw();e.xp6(1),e.hij(" ",null==ct.field?null:ct.field.value.name," ")}}let pe=(()=>{class _e{constructor(ct){this.api=ct,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.onChange=ot=>{},this.onTouched=()=>{}}ngOnInit(){}registerOnChange(ct){this.onChange=ct}registerOnTouched(ct){this.onTouched=ct}writeValue(ct){this.controlValue=ct}}return _e.\u0275fac=function(ct){return new(ct||_e)(e.Y36(u.s))},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["app-task-template-filter-input"]],inputs:{field:"field"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>_e),multi:!0}])],decls:3,vars:1,consts:[[3,"ngSwitch","formGroup",4,"ngIf"],["label",""],[3,"ngSwitch","formGroup"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],["formControlName","value",3,"options"],["formControlName","value","pInputText",""],["formControlName","value"],["formControlName","value",3,"minFractionDigits"],["formControlName","value",3,"onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body","formControlName","value",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\d\\.]+$"],["formControlName","value","placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[1-9]\\d{0,10}$",3,"blur"],["formControlName","value","pInputText","",3,"blur"]],template:function(ct,ot){1&ct&&(e.YNc(0,X,17,17,"ng-container",0),e.YNc(1,q,2,1,"ng-template",null,1,e.W1O)),2&ct&&e.Q6J("ngIf",ot.field)}}),_e})()},6502:(dn,pt,C)=>{"use strict";C.d(pt,{o:()=>Cn});var e=C(5e3),d=C(7384),u=C(2382),p=C(8738);function x(Xt,jt){1&Xt&&e.GkF(0)}const R=function(){return{label:"\u0414\u0430",value:!0}},b=function(){return{label:"\u041d\u0435\u0442",value:!1}},s=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},F=function(Xt,jt,ht){return[Xt,jt,ht]};function O(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,x,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",8),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("ngClass",ht.classes)("options",e.kEZ(8,F,e.DdM(5,R),e.DdM(6,b),e.DdM(7,s)))("disabled",ht.disable)}}function Q(Xt,jt){1&Xt&&e.GkF(0)}function N(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Q,1,0,"ng-container",7),e.TgZ(2,"input",9),e.NdJ("blur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("disabled",ht.disable)("ngClass",ht.classes)("ngModel",ht.controlValue)}}function T(Xt,jt){1&Xt&&e.GkF(0)}function y(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,T,1,0,"ng-container",7),e.TgZ(2,"textarea",10),e.NdJ("blur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("autoResize",!0)("disabled",ht.disable)("ngClass",ht.classes)("rows",7)}}function w(Xt,jt){1&Xt&&e.GkF(0)}function k(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,w,1,0,"ng-container",7),e.TgZ(2,"app-counting-lives-input",11),e.NdJ("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("inputClasses",ht.classes)("ngModel",ht.controlValue)("disabled",ht.disable)}}function V(Xt,jt){1&Xt&&e.GkF(0)}function U(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,V,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",12),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("disabled",ht.disable)("ngClass",ht.classes)("ngModel",ht.controlValue)}}function oe(Xt,jt){1&Xt&&e.GkF(0)}function K(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,oe,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",13),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("ngClass",ht.classes)("disabled",ht.disable)("minFractionDigits",1)}}function H(Xt,jt){1&Xt&&e.GkF(0)}function D(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,H,1,0,"ng-container",7),e.TgZ(2,"app-address-input-alt",14),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("focusin",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("inputClasses",ht.classes)("disabled",ht.disable)("ngModel",ht.controlValue)}}function P(Xt,jt){1&Xt&&e.GkF(0)}function Y(Xt,jt){if(1&Xt&&e._UZ(0,"p-contextMenu",18),2&Xt){e.oxw();const ht=e.MAs(3),ut=e.oxw();e.Q6J("target",ht)("model",ut.loginInputContextMenuModel)}}function re(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,P,1,0,"ng-container",7),e.TgZ(2,"input",15,16),e.NdJ("blur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA(),e.YNc(4,Y,1,2,"p-contextMenu",17),e.qZA()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("disabled",ht.disable)("ngClass",ht.classes),e.xp6(2),e.Q6J("ngIf",ht.isHasModelItemId&&!ht.controlValue)}}function j(Xt,jt){1&Xt&&e.GkF(0)}const G=function(){return[]};function ie(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,j,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",19),e.NdJ("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.ALo(3,"async"),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);let xe;e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("disabled",ht.disable)("options",null!==(xe=e.lcZ(3,5,ht.adSources$))&&void 0!==xe?xe:e.DdM(7,G))("ngClass",ht.classes)}}function Te(Xt,jt){1&Xt&&e.GkF(0)}function Me(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Te,1,0,"ng-container",7),e.TgZ(2,"input",15),e.NdJ("blur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("disabled",ht.disable)("ngClass",ht.classes)}}function de(Xt,jt){1&Xt&&e.GkF(0)}function te(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,de,1,0,"ng-container",7),e.TgZ(2,"app-ip-input",20),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("inputClasses",ht.classes)("disabled",ht.disable)("ngModel",ht.controlValue)}}function ce(Xt,jt){1&Xt&&e.GkF(0)}function J(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ce,1,0,"ng-container",7),e.TgZ(2,"app-client-equipment-list-input",21),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("disabled",ht.disable)("ngModel",ht.controlValue)("inputClasses",ht.classes)}}function ve(Xt,jt){1&Xt&&e.GkF(0)}function be(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ve,1,0,"ng-container",7),e.TgZ(2,"app-connection-services-input",22),e.NdJ("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("isDisabled",ht.disable)("ngModel",ht.controlValue)("inputClasses",ht.classes)}}function Be(Xt,jt){1&Xt&&e.GkF(0)}function we(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Be,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",23),e.NdJ("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.ALo(3,"async"),e.qZA()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);let xe;e.xp6(1),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)("disabled",ht.disable)("options",null!==(xe=e.lcZ(3,5,ht.connectionTypes$))&&void 0!==xe?xe:e.DdM(7,G))("ngClass",ht.classes)}}function ke(Xt,jt){1&Xt&&e.GkF(0)}function X(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,ke,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-phone-list-input",25),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)}),e.qZA()()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngClass",ht.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("disabled",ht.disable)("ngModel",ht.controlValue)}}function q(Xt,jt){1&Xt&&e.GkF(0)}function pe(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,q,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-passport-details-input",26),e.NdJ("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.onChange(xe))})("ngModelChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.controlValue=xe)})("onBlur",function(){e.CHM(ht);const xe=e.oxw();return e.KtG(xe.onTouched())}),e.qZA()()()}if(2&Xt){const ht=e.oxw(),ut=e.MAs(23);e.xp6(1),e.Q6J("ngClass",ht.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",ut),e.xp6(1),e.Q6J("ngModel",ht.controlValue)}}function _e(Xt,jt){1&Xt&&e._UZ(0,"div"),2&Xt&&e.Udp("background-color","red")}function Xe(Xt,jt){if(1&Xt){const ht=e.EpF();e.TgZ(0,"label",27)(1,"app-editing-caption",28),e.NdJ("captionChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.setName(xe))}),e.qZA(),e.TgZ(2,"app-input-variation-selector",29),e.NdJ("valueChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.currentVariation=xe)}),e.qZA(),e.TgZ(3,"app-input-variation-selector",29),e.NdJ("valueChange",function(xe){e.CHM(ht);const De=e.oxw();return e.KtG(De.currentDisplayType=xe)}),e.ALo(4,"async"),e.qZA()()}if(2&Xt){const ht=e.oxw();let ut;e.xp6(1),e.Q6J("caption",null==ht.field?null:ht.field.name),e.xp6(1),e.Q6J("variationList",ht.currentVariationsList)("value",ht.currentVariation),e.xp6(1),e.Q6J("variationList",null!==(ut=e.lcZ(4,5,ht.displayTypeOptions$))&&void 0!==ut?ut:e.DdM(7,G))("value",ht.currentDisplayType)}}function ct(Xt,jt){1&Xt&&(e.TgZ(0,"span",31),e._uU(1,"*"),e.qZA())}function ot(Xt,jt){if(1&Xt&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,ct,2,0,"span",30),e.qZA()),2&Xt){const ht=e.oxw();e.xp6(1),e.hij(" ",null==ht.field?null:ht.field.name," "),e.xp6(1),e.Q6J("ngIf","OPTIONAL"!==ht.currentVariation)}}function Zt(Xt,jt){1&Xt&&e.GkF(0)}function Dt(Xt,jt){if(1&Xt&&e.YNc(0,Zt,1,0,"ng-container",32),2&Xt){const ht=e.oxw(),ut=e.MAs(19),xe=e.MAs(21);e.Q6J("ngIf",ht.isExample)("ngIfThen",ut)("ngIfElse",xe)}}let Cn=(()=>{class Xt{constructor(ht,ut){this.api=ht,this.el=ut,this.isExample=!1,this.disable=!1,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.displayTypeOptions$=this.api.getFieldDisplayTypes(),this.onChange=xe=>{},this.onTouched=()=>{},this.loginInputContextMenuModel=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId).subscribe()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c BIZ \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId,!0).subscribe()}}]}get classes(){const ht=this.el.nativeElement;return{"ng-dirty":ht.classList.contains("ng-touched"),"ng-invalid":ht.classList.contains("ng-invalid")}}get type(){return this.field?"type"in this.field?this.field.type:"wireframeFieldType"in this.field?this.field.wireframeFieldType:"":""}get currentVariationsList(){if(!this.field)return[];if("type"in this.field)switch(this.field.type){case d._r.SMALL_TEXT:case d._r.LARGE_TEXT:case d._r.BOOLEAN:case d._r.INTEGER:case d._r.FLOAT:case d._r.LOGIN:case d._r.IP:case d._r.CONNECTION_TYPE:case d._r.CONNECTION_SERVICES:case d._r.EQUIPMENTS:case d._r.PHONE_ARRAY:case d._r.AD_SOURCE:case d._r.REQUEST_INITIATOR:case d._r.COUNTING_LIVES:case d._r.PASSPORT_DETAILS:return[{value:"MANDATORY",label:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];case d._r.ADDRESS:return[{value:"ALL",label:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{value:"APARTMENT_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"},{value:"HOUSE_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];default:return[]}return[]}get currentVariation(){var ht;return this.field&&"variation"in this.field&&null!==(ht=this.field.variation)&&void 0!==ht?ht:""}set currentVariation(ht){!this.field||"type"in this.field&&(this.field.variation=ht)}get currentDisplayType(){var ht;return this.field?"displayType"in this.field?null!==(ht=this.field.displayType)&&void 0!==ht?ht:"LIST_AND_TELEGRAM":"":"LIST_AND_TELEGRAM"}set currentDisplayType(ht){!this.field||"displayType"in this.field&&(this.field.displayType=ht)}get isHasModelItemId(){return this.field&&"modelItemId"in this.field&&this.field.modelItemId}registerOnChange(ht){this.onChange=ht}registerOnTouched(ht){this.onTouched=ht}writeValue(ht){this.controlValue=ht}setDisabledState(ht){this.disable=ht}ngOnInit(){}isName(ht){return"name"in ht}setName(ht){this.field&&"name"in this.field&&(this.field.name=ht)}}return Xt.\u0275fac=function(ht){return new(ht||Xt)(e.Y36(p.s),e.Y36(e.SBq))},Xt.\u0275cmp=e.Xpm({type:Xt,selectors:[["app-task-template-input"]],inputs:{field:"field",isExample:"isExample"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>Xt),multi:!0}])],decls:24,vars:17,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["editedLabel",""],["staticLabel",""],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","ngClass","options","disabled","ngModelChange","onBlur"],["pInputText","",3,"disabled","ngClass","ngModel","blur","ngModelChange"],["pInputTextarea","",3,"ngModel","autoResize","disabled","ngClass","rows","blur","ngModelChange"],[3,"inputClasses","ngModel","disabled","onBlur","ngModelChange"],[3,"disabled","ngClass","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngClass","disabled","minFractionDigits","ngModelChange","onBlur"],[3,"inputClasses","disabled","ngModel","ngModelChange","focusin"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","disabled","ngClass","blur","ngModelChange"],["loginInput",""],["appendTo","body",3,"target","model",4,"ngIf"],["appendTo","body",3,"target","model"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[3,"inputClasses","disabled","ngModel","ngModelChange","onBlur"],[3,"disabled","ngModel","inputClasses","ngModelChange","onBlur"],[3,"isDisabled","ngModel","inputClasses","onBlur","ngModelChange"],["placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[1,"node","flexed","gap5","column",3,"ngClass"],[3,"disabled","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngModelChange","onBlur"],[1,"flexed","hcenter","gap5"],[3,"caption","captionChange"],[3,"variationList","value","valueChange"],["class","text-red-400 text-xs",4,"ngIf"],[1,"text-red-400","text-xs"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(ht,ut){1&ht&&(e.ynx(0,0),e.YNc(1,O,3,12,"div",1),e.YNc(2,N,3,4,"div",1),e.YNc(3,y,3,6,"div",1),e.YNc(4,k,3,4,"div",1),e.YNc(5,U,3,4,"div",1),e.YNc(6,K,3,5,"div",1),e.YNc(7,D,3,4,"div",1),e.YNc(8,re,5,5,"div",1),e.YNc(9,ie,4,8,"div",1),e.YNc(10,Me,3,4,"div",1),e.YNc(11,te,3,4,"div",1),e.YNc(12,J,3,4,"div",1),e.YNc(13,be,3,4,"div",1),e.YNc(14,we,4,8,"div",1),e.YNc(15,X,5,4,"div",1),e.YNc(16,pe,5,3,"div",1),e.YNc(17,_e,1,2,"div",2),e.BQk(),e.YNc(18,Xe,5,8,"ng-template",null,3,e.W1O),e.YNc(20,ot,3,2,"ng-template",null,4,e.W1O),e.YNc(22,Dt,1,3,"ng-template",null,5,e.W1O)),2&ht&&(e.Q6J("ngSwitch",ut.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","PASSPORT_DETAILS"))}}),Xt})()},6847:(dn,pt,C)=>{"use strict";C.d(pt,{j:()=>p});var e=C(383),d=C(7445),u=C(5e3);let p=(()=>{class x{constructor(){this.type="long",this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434",this.subscriptions=new e.xf}set timePeriod(b){this.startTime=b?Date.now()-1e3*b:void 0}ngOnInit(){this.subscriptions.addSubscription("time",(0,d.F)(100).subscribe(this.updateTime.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}updateTime(){if(!this.startTime)return void(this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434");let b=0;b=this.startTime instanceof Date?this.startTime.getTime():"string"==typeof this.startTime?new Date(this.startTime).getTime():this.startTime;const s=(new Date).getTime()-b,F=Math.floor(s/1e3)%60,O=e.cQ.declineOfNumber(F,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]),Q=Math.floor(s/6e4)%60,N=e.cQ.declineOfNumber(Q,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),T=Math.floor(s/36e5)%24,y=e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),w=Math.floor(s/864e5),k=e.cQ.declineOfNumber(w,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);if(w||T||Q||F)switch(this.type){case"short":w>0?this.value=`${w} ${k}`:T>0?this.value=`${T} ${y}`:Q>0?this.value=`${Q} ${N}`:F>0&&(this.value=`${F} ${O}`);break;case"long":this.value="",w>0&&(this.value+=`${w} ${k}`),T>0&&(w>0&&(this.value+=" "),this.value+=`${T} ${y}`),Q>0&&((T>0||w>0)&&(this.value+=" "),this.value+=`${Q} ${N}`),F>0&&0===w&&0===T&&0===Q&&((Q>0||T>0||w>0)&&(this.value+=" "),this.value+=`${F} ${O}`)}else this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434"}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=u.Xpm({type:x,selectors:[["app-time-elapsed"]],inputs:{type:"type",startTime:"startTime",timePeriod:"timePeriod"},decls:2,vars:1,template:function(b,s){1&b&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&b&&(u.xp6(1),u.hij(" ",s.value,"\n"))}}),x})()},3078:(dn,pt,C)=>{"use strict";C.d(pt,{g:()=>R});var e=C(5e3),d=C(9808);function u(b,s){if(1&b&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&b){const F=e.oxw();e.xp6(1),e.Oqu(F.icon)}}function p(b,s){if(1&b&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&b){const F=e.oxw();e.xp6(1),e.Oqu(F.label)}}const x=function(b,s){return{disabled:b,iconed:s}};let R=(()=>{class b{constructor(){this.disabled=!1,this.size=1,this.model="primary",this.onClick=new e.vpe}ngOnInit(){}clickHandler(F){this.disabled||this.onClick.emit(F)}}return b.\u0275fac=function(F){return new(F||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-tiny-button"]],inputs:{icon:"icon",label:"label",disabled:"disabled",size:"size",model:"model"},outputs:{onClick:"onClick"},decls:3,vars:10,consts:[[3,"ngClass","click"],["class","material-icons-round t-button-icon",4,"ngIf"],["class","t-button-label",4,"ngIf"],[1,"material-icons-round","t-button-icon"],[1,"t-button-label"]],template:function(F,O){1&F&&(e.TgZ(0,"div",0),e.NdJ("click",function(N){return O.clickHandler(N)}),e.YNc(1,u,2,1,"span",1),e.YNc(2,p,2,1,"span",2),e.qZA()),2&F&&(e.Tol("t-button "+O.model),e.Udp("font-size",O.size+"rem"),e.Q6J("ngClass",e.WLB(7,x,O.disabled,O.icon&&O.label)),e.xp6(1),e.Q6J("ngIf",O.icon),e.xp6(1),e.Q6J("ngIf",O.label))},dependencies:[d.mk,d.O5],styles:[".t-button[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.3rem;transition:background-color .2s ease-in;cursor:pointer;color:var(--mc-500);font-weight:700;border-radius:.3rem}.t-button.disabled[_ngcontent-%COMP%]{cursor:default;background-color:var(--bgc-200)!important;color:var(--tc-400)!important}.t-button.iconed[_ngcontent-%COMP%]{padding-right:.6rem}.t-button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.t-button.primary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.secondary[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.t-button.secondary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.success[_ngcontent-%COMP%]{color:var(--green-500)}.t-button.success[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--green-100)}.t-button.danger[_ngcontent-%COMP%]{color:#ef4444}.t-button.danger[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--red-100)}.t-button.warn[_ngcontent-%COMP%]{color:#f59e0b}.t-button.warn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--yellow-100)}.t-button.info[_ngcontent-%COMP%]{color:var(--blue-500)}.t-button.info[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--blue-100)}.t-button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button-icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3em}.t-button-label[_ngcontent-%COMP%]{color:inherit;font-size:inherit;line-height:normal;white-space:nowrap}"]}),b})()},9182:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>de});var e=C(5e3),d=C(2382),u=C(9783),p=C(383),x=C(1588),R=C(2587),b=C(8738),s=C(8007);function F(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(J);const be=e.oxw(2);return e.KtG(be.workingTableBack())}),e.TgZ(1,"td",25),e._UZ(2,"span",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()(),e._UZ(5,"td"),e.qZA()}}function O(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(J);const be=e.oxw().$implicit,Be=e.oxw();return e.KtG(Be.loadWorksByGroup(be.key))}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e._UZ(5,"td"),e.qZA()}if(2&te){const J=e.oxw().$implicit;e.xp6(2),e.Tol(J.icon),e.xp6(2),e.Oqu(J.label)}}function Q(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"tr",27),e.NdJ("onDragStart",function(){e.CHM(J);const be=e.oxw().$implicit,Be=e.oxw();return e.KtG(Be.workDragging(be.data))})("dblclick",function(){e.CHM(J);const be=e.oxw().$implicit,Be=e.oxw();return Be.workDragging(be.data),e.KtG(Be.dropped())}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"td",28),e._uU(6),e.qZA()()}if(2&te){const J=e.oxw().$implicit,ve=e.oxw();e.Q6J("pDraggableDisabled",ve.isDisabled),e.xp6(2),e.Tol(J.icon),e.xp6(2),e.Oqu(J.label),e.xp6(2),e.hij(" ",ve.workCost(J.data)," \u0440\u0443\u0431. ")}}function N(te,ce){1&te&&(e.ynx(0,21),e.YNc(1,F,6,0,"tr",22),e.YNc(2,O,6,3,"tr",22),e.YNc(3,Q,7,5,"tr",23),e.BQk()),2&te&&(e.Q6J("ngSwitch",ce.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function T(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"tr",29),e.NdJ("onDragStart",function(){const Be=e.CHM(J).$implicit,we=e.oxw();return e.KtG(we.actionDragging(Be))})("dblclick",function(){const Be=e.CHM(J).$implicit,we=e.oxw();return we.actionDragging(Be),e.KtG(we.dropped())}),e.TgZ(1,"td",30),e._UZ(2,"span",31),e.TgZ(3,"span",32),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"unitName"),e.qZA()()}if(2&te){const J=ce.$implicit;e.xp6(2),e.Udp("font-size","1em"),e.xp6(1),e.Udp("max-width","20rem"),e.xp6(1),e.Oqu(J.name),e.xp6(2),e.AsE(" ",J.cost," \u0440\u0443\u0431/",e.lcZ(7,7,J.unit)," ")}}function y(te,ce){1&te&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0420\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u044d\u0444."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u0434.?"),e.qZA()())}function w(te,ce){if(1&te&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&te){const J=e.oxw(2),be=J.$implicit;e.uIk("rowspan",J.rowspan),e.xp6(1),e.Oqu(be.workName)}}function k(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(be){e.CHM(J);const Be=e.oxw(2).$implicit,we=e.oxw();return e.KtG(we.updateActionCount(be,Be))})("onFocus",function(be){e.CHM(J);const Be=e.oxw(3);return e.KtG(Be.selectAllValue(be))})("ngModelChange",function(be){e.CHM(J);const Be=e.oxw(2).$implicit;return e.KtG(Be.count=be)}),e.qZA()}if(2&te){const J=e.oxw(2).$implicit;e.Q6J("ngModel",J.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function V(te,ce){if(1&te&&(e._uU(0),e.ALo(1,"unitName")),2&te){const J=e.oxw(2).$implicit;e.AsE(" ",J.count," ",e.lcZ(1,2,J.unit)," ")}}function U(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"td")(1,"p-button",38),e.NdJ("onClick",function(be){e.CHM(J);const Be=e.oxw(2).$implicit,we=e.oxw(),ke=e.MAs(27);return we.selectWorkActions(Be.workId,Be.workName),e.KtG(ke.toggle(be))}),e.qZA()()}if(2&te){const J=e.oxw(2).rowspan;e.uIk("rowspan",J)}}function oe(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"td")(1,"p-button",39),e.NdJ("click",function(){e.CHM(J);const be=e.oxw(2).$implicit,Be=e.oxw();return e.KtG(Be.removeWork(be.workId))}),e.qZA()()}if(2&te){const J=e.oxw(2).rowspan;e.uIk("rowspan",J)}}function K(te,ce){if(1&te&&(e.TgZ(0,"tr"),e.YNc(1,w,2,2,"td",33),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,k,1,5,"ng-template",35),e.YNc(7,V,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,U,2,1,"td",33),e.YNc(11,oe,2,1,"td",33),e.qZA()),2&te){const J=e.oxw(),ve=J.rowgroup,be=J.$implicit;e.xp6(1),e.Q6J("ngIf",ve),e.xp6(2),e.Oqu(be.actionName),e.xp6(6),e.hij("",be.cost," \u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",ve),e.xp6(1),e.Q6J("ngIf",ve)}}function H(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(be){e.CHM(J);const Be=e.oxw(2).$implicit,we=e.oxw();return e.KtG(we.updateActionCount(be,Be))})("onFocus",function(be){e.CHM(J);const Be=e.oxw(3);return e.KtG(Be.selectAllValue(be))})("ngModelChange",function(be){e.CHM(J);const Be=e.oxw(2).$implicit;return e.KtG(Be.count=be)}),e.qZA()}if(2&te){const J=e.oxw(2).$implicit;e.Q6J("ngModel",J.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function D(te,ce){if(1&te&&(e._uU(0),e.ALo(1,"unitName")),2&te){const J=e.oxw(2).$implicit;e.AsE(" ",J.count," ",e.lcZ(1,2,J.unit)," ")}}function P(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,H,1,5,"ng-template",35),e.YNc(7,D,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",38),e.NdJ("onClick",function(be){e.CHM(J);const Be=e.oxw().$implicit,we=e.oxw(),ke=e.MAs(27);return we.selectAction(Be.uuid,Be.actionName),e.KtG(ke.toggle(be))}),e.qZA()(),e.TgZ(12,"td")(13,"p-button",39),e.NdJ("click",function(){e.CHM(J);const be=e.oxw().$implicit,Be=e.oxw();return e.KtG(Be.removeAction(be.uuid))}),e.qZA()()()}if(2&te){const J=e.oxw().$implicit;e.xp6(3),e.Oqu(J.actionName),e.xp6(6),e.hij("",J.cost," \u0440\u0443\u0431.")}}function Y(te,ce){if(1&te&&(e.YNc(0,K,12,5,"tr",33),e.YNc(1,P,14,2,"tr",33)),2&te){const J=ce.$implicit;e.Q6J("ngIf",J.workId),e.xp6(1),e.Q6J("ngIf",!J.workId)}}const re=function(){return{grid:"min-content 1fr / max-content max-content 1fr"}},j=function(){return{minHeight:"500px",minWidth:"300px"}},G=function(te){return{"cover-element":te}},ie=function(){return["name"]},Te=function(te,ce){return{"drop-zone":te,"cover-element":ce}},Me=function(){return{width:"max-content"}};let de=(()=>{class te{constructor(J,ve){this.api=J,this.rt=ve,this.treeMenuWorksItems=[],this.worksTablePath=[],this.worksTableLoading=!1,this.actionsTaken=[],this.isDragging=!1,this.dragEnterCounter=0,this.tableMenuActionsItems=[],this.actionsTableLoading=!1,this.workActionsRatioMenu=[],this.factorsActions=[],this.subscriptions=new p.xf,this.isDisabled=!1,this._employees=[],this.onChange=be=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(J){null!=J?(this._employees=J,this.workActionsRatioMenu=this.employees.map(ve=>({label:ve.fullName,items:[{label:"x0",command:()=>this.addActionRatio(1e-4,ve.login)},{label:"x0.1",command:()=>this.addActionRatio(.1,ve.login)},{label:"x0.25",command:()=>this.addActionRatio(.2,ve.login)},{label:"x0.5",command:()=>this.addActionRatio(.5,ve.login)},{label:"x0.75",command:()=>this.addActionRatio(.75,ve.login)},{label:"x1.25",command:()=>this.addActionRatio(1.25,ve.login)},{label:"x1.5",command:()=>this.addActionRatio(1.5,ve.login)},{label:"x2",command:()=>this.addActionRatio(2,ve.login)},{label:"x3",command:()=>this.addActionRatio(3,ve.login)}]}))):this._employees=[]}get totalCostOfWork(){return this.actionsTaken.reduce((J,ve)=>J+ve.cost,0)}trackByActionItems(J,ve){return ve.paidActionId+ve.cost+ve.name+ve.description+ve.unit+ve.deleted}registerOnChange(J){this.onChange=J}registerOnTouched(J){this.onTouched=J}setDisabledState(J){this.isDisabled=J}writeValue(J){J?(this.actionsTaken=J.actionsTaken,J.factorsActions&&(this.factorsActions=J.factorsActions)):(this.actionsTaken=[],this.factorsActions=[])}trackByField(J,ve){return ve.name+ve.textRepresentation+ve.modelItemId}trackByEmployee(J,ve){return ve.login+ve.fullName+ve.avatar}deselectFactor(){this.selectedUuidActions=void 0}trackByWorkLog(J,ve){return ve.workLogId}ngOnInit(){this.loadWorks(),this.loadActions()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadActions(){this.actionsTableLoading=!0,this.api.getListAvailablePaidActions().subscribe({next:J=>{this.tableMenuActionsItems=J,this.actionsTableLoading=!1},error:J=>{this.actionsTableLoading=!1}}),this.subscriptions.addSubscription("actUpdate",this.rt.paidActionUpdated().subscribe(J=>{const ve=this.tableMenuActionsItems.findIndex(be=>be.identifier===J.identifier);ve>-1&&(this.tableMenuActionsItems[ve]=J)})),this.subscriptions.addSubscription("actDelete",this.rt.paidActionDeleted().subscribe(J=>{const ve=this.tableMenuActionsItems.findIndex(be=>be.identifier===J.identifier);ve>-1&&this.tableMenuActionsItems.splice(ve,1)})),this.subscriptions.addSubscription("actAdd",this.rt.paidActionCreated().subscribe(J=>{this.tableMenuActionsItems.unshift(J)}))}foundNodeByPath(J){var ve;if(!J||0===J.length)return null;let be=null,Be=this.treeMenuWorksItems;for(let we of J){if(!Be)return null;if(be=null!==(ve=Be.find(ke=>ke.key==="g"+we))&&void 0!==ve?ve:null,!be)return null;Be=be.children}return be}loadWorks(){this.worksTableLoading=!0,this.api.getRootTreeOfWorks(!0).subscribe({next:J=>{this.treeMenuWorksItems=J,this.worksTableLoading=!1}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(J=>{const ve=this.foundNodeByPath(J.sourcePath),be=this.foundNodeByPath(J.targetPath);if(ve){if(ve.children){const Be=ve.children.findIndex(we=>we.key===J.object.key&&we.type===J.object.type);Be>-1&&ve.children.splice(Be,1),0===ve.children.length&&(ve.leaf=!0)}}else{const Be=this.treeMenuWorksItems.findIndex(we=>we.key===J.object.key&&we.type===J.object.type);Be>-1&&this.treeMenuWorksItems.splice(Be,1)}be?(be.children?-1===be.children.findIndex(we=>we.key===J.object.key&&we.type===J.object.type)&&be.children.push(J.object):(be.children=[],be.children.push(J.object)),be.leaf=!1):-1===this.treeMenuWorksItems.findIndex(we=>we.key===J.object.key&&we.type===J.object.type)&&this.treeMenuWorksItems.push(J.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(J=>{var ve;const be=this.foundNodeByPath(J.path);if(be&&be.children){const Be=null===(ve=be.children)||void 0===ve?void 0:ve.findIndex(we=>we.key===J.object.key&&we.type===J.object.type);Be>-1&&(be.children[Be]=J.object)}else if(!be){const Be=this.treeMenuWorksItems.findIndex(we=>we.key===J.object.key&&we.type===J.object.type);Be>-1&&(this.treeMenuWorksItems[Be]=J.object)}})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(J=>{const ve=this.foundNodeByPath(J.path);ve?(ve.children||(ve.children=[]),ve.children.push(J.object),ve.children.sort((be,Be)=>be.position-Be.position),ve.leaf=!1):(this.treeMenuWorksItems.push(J.object),this.treeMenuWorksItems.sort((be,Be)=>be.position-Be.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(J=>{var ve;const be=this.foundNodeByPath(J.path);if(be&&be.children){const Be=be.children.findIndex(we=>we.key===J.object.key);Be>-1&&(null===(ve=be.children)||void 0===ve||ve.splice(Be,1))}else if(!be){const Be=this.treeMenuWorksItems.findIndex(we=>we.key===J.object.key);Be>-1&&this.treeMenuWorksItems.splice(Be,1)}}))}loadWorksByGroup(J){this.worksTableLoading=!0,this.api.getWorksOfGroup(J.substring(1),!0).subscribe({next:ve=>{this.treeMenuWorksItems=ve,this.worksTablePath.push(J),this.treeMenuWorksItems.unshift({type:"back",key:J}),this.worksTableLoading=!1}})}workingTableBack(){this.worksTablePath.pop();const J=this.worksTablePath.pop();this.worksTableLoading=!0,J?this.api.getWorksOfGroup(J.substring(1),!0).subscribe({next:ve=>{this.treeMenuWorksItems=ve,this.treeMenuWorksItems.unshift({type:"back"}),this.worksTableLoading=!1}}):this.api.getRootTreeOfWorks(!0).subscribe({next:ve=>{this.treeMenuWorksItems=ve,this.worksTableLoading=!1}})}dropped(){if(this.draggablePaidWork){const J=this.actionsTaken.filter(ve=>{var be;return ve.workId===(null===(be=this.draggablePaidWork)||void 0===be?void 0:be.paidWorkId)});if(0===J.length)for(let ve of this.draggablePaidWork.actions)this.actionsTaken.push({workName:this.draggablePaidWork.name,workId:this.draggablePaidWork.paidWorkId,actionName:ve.action.name,count:ve.count,unit:ve.action.unit,price:ve.action.cost,cost:ve.action.cost*ve.count,actionId:ve.action.paidActionId,uuid:(0,x.Z)()});else J.forEach(ve=>{var be;const Be=null===(be=this.draggablePaidWork)||void 0===be?void 0:be.actions.find(we=>we.action.paidActionId===ve.actionId);Be&&(ve.count+=Be.count,ve.cost=ve.price*ve.count)});this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}if(this.draggableAction){const J=this.actionsTaken.find(ve=>{var be;return!ve.workId&&ve.actionId===(null===(be=this.draggableAction)||void 0===be?void 0:be.paidActionId)});J?(J.count+=1,J.cost=J.price*J.count):this.actionsTaken.push({workName:void 0,workId:void 0,actionName:this.draggableAction.name,count:1,unit:this.draggableAction.unit,price:this.draggableAction.cost,cost:this.draggableAction.cost,actionId:this.draggableAction.paidActionId,uuid:(0,x.Z)()}),this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}this.draggablePaidWork=void 0,this.draggableAction=void 0,this.isDragging=!1,this.dragEnterCounter=0}workDragging(J){this.draggablePaidWork=J}actionDragging(J){this.draggableAction=J}workCost(J){let ve=0;for(let be of J.actions)ve+=be.action.cost*be.count;return ve}removeWork(J){const ve=this.actionsTaken.filter(be=>be.workId===J);this.factorsActions=this.factorsActions.filter(be=>!be.actionUuids.some(Be=>Be===ve[0].uuid)),this.actionsTaken=this.actionsTaken.filter(be=>!ve.some(Be=>Be.uuid==be.uuid)),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}updateActionCount(J,ve){ve.cost=J*ve.price,setTimeout(()=>{this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})})}dragEnter(){this.dragEnterCounter++,this.isDragging=!0}dragLeave(){this.dragEnterCounter--,0===this.dragEnterCounter&&(this.isDragging=!1)}removeAction(J){this.factorsActions=this.factorsActions.filter(ve=>!ve.actionUuids.some(be=>be===J)),this.actionsTaken=this.actionsTaken.filter(ve=>ve.uuid!==J),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}selectAllValue(J){const ve=J.target;ve.setSelectionRange(0,ve.value.length)}addActionRatio(J,ve){!this.selectedUuidActions||!this.selectedWorkName||(this.factorsActions.push({factor:J,login:ve,name:this.selectedWorkName,actionUuids:this.selectedUuidActions,uuid:(0,x.Z)()}),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions}))}selectWorkActions(J,ve){this.selectedUuidActions=this.actionsTaken.filter(be=>be.workId===J).map(be=>be.uuid),this.selectedWorkName=ve}selectAction(J,ve){this.selectedUuidActions=[J],this.selectedWorkName=ve}filterTable(J,ve){ve.filterGlobal(R.s.translate(J.target.value),"contains")}}return te.\u0275fac=function(J){return new(J||te)(e.Y36(b.s),e.Y36(s.U))},te.\u0275cmp=e.Xpm({type:te,selectors:[["app-works-picker"]],inputs:{employees:"employees"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>te),multi:!0},u.Y])],decls:28,vars:30,consts:[[1,"grided","gap5"],[1,"caption","size-big","wt-bold","f-color-500"],[1,"border-1","border-bluegray-100","border-round-md","overflow-hidden","h-fit",3,"ngClass"],["styleClass","tab-content-unpadding"],["header","\u0420\u0430\u0431\u043e\u0442\u044b"],["scrollHeight","500px",3,"loading","rowHover","value"],["pTemplate","body"],["header","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],[1,"flex","flex-column"],[1,"p-input-icon-left","m-3"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439...","type","text",1,"w-full",3,"input"],["scrollHeight","500px","styleClass","p-datatable-sm",3,"globalFilterFields","loading","rowHover","value","rowTrackBy"],["actionTableRef",""],[1,"mds-sync_alt","caption","size-huge","self-center"],["pDroppable","dd",1,"flex-grow-1","flex","flex-column","border-1","border-bluegray-100","border-round-md","overflow-hidden",3,"ngClass","pDroppableDisabled","onDragEnter","onDragLeave","onDrop"],["groupRowsBy","workId","rowGroupMode","rowspan","sortField","workName","sortMode","single",1,"flex-grow-1",3,"value"],["pTemplate","header"],[1,"flexed","hcenter","vend","caption","f-color-400","wt-tiny","size-huge","p5"],["appendTo","body",3,"model","popup","onHide"],["ratioMenu",""],[3,"ngSwitch"],["class","not-selectable",3,"dblclick",4,"ngSwitchCase"],["class","not-selectable cursor-move","dragEffect","move","pDraggable","dd",3,"pDraggableDisabled","onDragStart","dblclick",4,"ngSwitchCase"],[1,"not-selectable",3,"dblclick"],[1,"text-bluegray-400","gap-1","flex","align-items-center"],[1,"mdi-subdirectory_arrow_left"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"pDraggableDisabled","onDragStart","dblclick"],[1,"text-bluegray-400"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"onDragStart","dblclick"],[1,"caption","size-small","with-icon"],[1,"mdi-directions_run"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[4,"ngIf"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[3,"ngModel","allowEmpty","max","min","size","ngModelChange","onFocus"],["icon","mdi-percent","styleClass","p-button-text p-button-icon p-button-success",3,"onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-icon p-button-danger",3,"click"]],template:function(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e._UZ(3,"span"),e.TgZ(4,"div",1),e._uU(5," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(6,"div",2)(7,"p-tabView",3)(8,"p-tabPanel",4)(9,"p-table",5),e.YNc(10,N,4,4,"ng-template",6),e.qZA()(),e.TgZ(11,"p-tabPanel",7)(12,"div",8)(13,"span",9),e._UZ(14,"i",10),e.TgZ(15,"input",11),e.NdJ("input",function(we){e.CHM(be);const ke=e.MAs(17);return e.KtG(ve.filterTable(we,ke))}),e.qZA()(),e.TgZ(16,"p-table",12,13),e.YNc(18,T,8,9,"ng-template",6),e.qZA()()()()(),e._UZ(19,"span",14),e.TgZ(20,"div",15),e.NdJ("onDragEnter",function(){return ve.dragEnter()})("onDragLeave",function(){return ve.dragLeave()})("onDrop",function(){return ve.dropped()}),e.TgZ(21,"p-table",16),e.YNc(22,y,13,0,"ng-template",17),e.YNc(23,Y,2,2,"ng-template",6),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA()()(),e.TgZ(26,"p-slideMenu",19,20),e.NdJ("onHide",function(){return ve.deselectFactor()}),e.qZA()}2&J&&(e.Akn(e.DdM(21,re)),e.xp6(6),e.Akn(e.DdM(22,j)),e.Q6J("ngClass",e.VKq(23,G,ve.isDisabled)),e.xp6(3),e.Q6J("loading",ve.worksTableLoading)("rowHover",!0)("value",ve.treeMenuWorksItems),e.xp6(7),e.Q6J("globalFilterFields",e.DdM(25,ie))("loading",ve.actionsTableLoading)("rowHover",!0)("value",ve.tableMenuActionsItems)("rowTrackBy",ve.trackByActionItems),e.xp6(4),e.Q6J("ngClass",e.WLB(26,Te,ve.isDragging,ve.isDisabled))("pDroppableDisabled",ve.isDisabled),e.xp6(1),e.Q6J("value",ve.actionsTaken),e.xp6(4),e.hij(" \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442: ",ve.totalCostOfWork," \u0440\u0443\u0431. "),e.xp6(1),e.Akn(e.DdM(29,Me)),e.Q6J("model",ve.workActionsRatioMenu)("popup",!0))}}),te})()},1787:(dn,pt,C)=>{"use strict";C.d(pt,{k:()=>y});var e=C(383),d=C(1135),u=C(8372),p=C(5e3),x=C(9808),R=C(8050),b=C(9783),s=C(5072),F=C(1110);function O(w,k){if(1&w&&p._UZ(0,"app-avatar",5),2&w){const V=k.$implicit,U=k.index,oe=p.oxw();p.Akn(oe.avatarStyle(U)),p.Q6J("deleted",V.deleted)("name",V.fullName)("size",oe.size)("src",V.avatar)}}function Q(w,k){if(1&w&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&w){const V=p.oxw();p.xp6(1),p.hij(" +",V.numberOfOverflowed," ")}}function N(w,k){1&w&&p._UZ(0,"app-employee-label",8),2&w&&p.Q6J("employee",k.$implicit)}function T(w,k){if(1&w&&(p.TgZ(0,"div",6),p.YNc(1,N,1,1,"app-employee-label",7),p.qZA()),2&w){const V=p.oxw();p.xp6(1),p.Q6J("ngForOf",V.employees)("ngForTrackBy",V.trackByEmployee)}}let y=(()=>{class w{constructor(){this.employees=[],this.size=2,this.vertical=!1,this.visibleSubject=new d.X(!1),this.visible$=this.visibleSubject.pipe((0,u.b)(300)),this.subscriptions=new e.xf}avatarStyle(V){const U={mask:V<this.sliced.length-1?this.mask:"",webkitMask:V<this.sliced.length-1?this.mask:""};return this.vertical?U.marginBottom=V>0?this.margin+"rem":"":U.marginRight=this.margin+"rem",U}get margin(){return-2*(.2+this.shift())}get mask(){return this.vertical?`radial-gradient(circle at 50% ${this.size-(this.size+this.size/2+this.margin)}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`:`radial-gradient(circle at ${this.size+this.size/2+this.margin}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`}get sliced(){return this.employees.slice(0,6)}get numberOfOverflowed(){let V=this.employees.length-6;return V<0&&(V=0),V}trackByEmployee(V,U){return U.login}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}shift(){let V=.05*this.sliced.length;return V>.3&&(V=.3),V}}return w.\u0275fac=function(V){return new(V||w)},w.\u0275cmp=p.Xpm({type:w,selectors:[["app-avatar-list"]],inputs:{employees:"employees",size:"size",vertical:"vertical"},decls:6,vars:9,consts:[[1,"avatars",3,"ngClass","mouseenter","mouseleave"],[3,"deleted","name","size","src","style",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["appendTo","body",3,"visible","autoZIndex","baseZIndex"],["pTemplate","content"],[3,"deleted","name","size","src"],[1,"employees-overlay-list"],[3,"employee",4,"ngFor","ngForOf","ngForTrackBy"],[3,"employee"]],template:function(V,U){if(1&V&&(p.TgZ(0,"div",0),p.NdJ("mouseenter",function(){return U.visibleSubject.next(!0)})("mouseleave",function(){return U.visibleSubject.next(!1)}),p.YNc(1,O,1,6,"app-avatar",1),p.YNc(2,Q,2,1,"span",2),p.qZA(),p.TgZ(3,"p-overlay",3),p.ALo(4,"async"),p.YNc(5,T,2,2,"ng-template",4),p.qZA()),2&V){let oe;p.Q6J("ngClass",U.vertical?"flex-column-reverse":""),p.xp6(1),p.Q6J("ngForOf",U.sliced)("ngForTrackBy",U.trackByEmployee),p.xp6(1),p.Q6J("ngIf",U.numberOfOverflowed>0),p.xp6(1),p.Q6J("visible",null!==(oe=p.lcZ(4,7,U.visible$))&&void 0!==oe&&oe)("autoZIndex",!1)("baseZIndex",3500)}},dependencies:[x.mk,x.sg,x.O5,R.aV,b.jx,s.A,F.x,x.Ov],styles:[".avatars[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:default;-webkit-user-select:none;user-select:none;padding:.1rem}.avatars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);margin-left:.2rem}.employees-overlay-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;background-color:#fff;padding:.7rem;height:max-content;width:-moz-fit-content;width:fit-content;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}"]}),w})()},4383:(dn,pt,C)=>{"use strict";C.d(pt,{O:()=>k});var e=C(1135),d=C(8372),u=C(5e3),p=C(8738),x=C(9808),R=C(4119),b=C(8050),s=C(6198),F=C(6847);function O(V,U){if(1&V&&u._UZ(0,"span",10),2&V){const oe=u.oxw();u.Q6J("ngClass",oe.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400")}}function Q(V,U){if(1&V){const oe=u.EpF();u.TgZ(0,"span",11),u.NdJ("click",function(H){u.CHM(oe);const D=u.oxw();return u.KtG(D.refreshConnectionLocation(H,null==D.binding?null:D.binding.vlanid))}),u.qZA()}}function N(V,U){1&V&&u._UZ(0,"p-progressSpinner",12)}function T(V,U){if(1&V&&(u.TgZ(0,"div",13)(1,"div",14)(2,"span",15),u._uU(3),u.qZA(),u.TgZ(4,"span",15),u._uU(5),u.qZA(),u.TgZ(6,"span",16),u._uU(7),u.qZA()(),u.TgZ(8,"div",14)(9,"span"),u._uU(10),u.qZA(),u.TgZ(11,"span"),u._uU(12),u.qZA()(),u.TgZ(13,"div",17)(14,"span"),u._uU(15,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:"),u.qZA(),u._UZ(16,"app-time-elapsed",18),u.TgZ(17,"span"),u._uU(18,"\u043d\u0430\u0437\u0430\u0434"),u.qZA()()()),2&V){const oe=u.oxw();let K;u.xp6(3),u.Oqu(oe.binding.lastConnectionLocation.commutatorName),u.xp6(2),u.hij("",oe.binding.lastConnectionLocation.portName," \u043f\u043e\u0440\u0442"),u.xp6(1),u.Q6J("ngClass",oe.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400"),u.xp6(1),u.Oqu(oe.binding.lastConnectionLocation.isHasLink?"\u0415\u0441\u0442\u044c \u043b\u0438\u043d\u043a":"\u041d\u0435\u0442 \u043b\u0438\u043d\u043a\u0430"),u.xp6(3),u.hij("IP: ",oe.binding.lastConnectionLocation.commutatorIp,""),u.xp6(2),u.hij("\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",null!==(K=oe.binding.lastConnectionLocation.portSpeed)&&void 0!==K?K:"-",""),u.xp6(4),u.Q6J("startTime",oe.binding.lastConnectionLocation.lastPortCheck)}}function y(V,U){1&V&&u._UZ(0,"span",19)}function w(V,U){1&V&&(u.TgZ(0,"div",20),u._UZ(1,"span",21),u.TgZ(2,"span",22),u._uU(3," \u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043c\u0435\u0441\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c "),u.qZA()()),2&V&&(u.xp6(1),u.Udp("font-size","3rem"))}let k=(()=>{class V{constructor(oe){this.api=oe,this.overlayVisibleChange=new e.X(!1),this.overlayVisible=this.overlayVisibleChange.pipe((0,d.b)(200)),this.isLocationRefreshing=!1}ngOnInit(){}refreshConnectionLocation(oe,K){oe.stopPropagation(),K&&(this.isLocationRefreshing=!0,this.api.commutatorRemoteUpdateByVlan(K).subscribe({next:()=>this.isLocationRefreshing=!1,error:()=>this.isLocationRefreshing=!1}))}}return V.\u0275fac=function(oe){return new(oe||V)(u.Y36(p.s))},V.\u0275cmp=u.Xpm({type:V,selectors:[["app-binding-connection-location-view"]],inputs:{binding:"binding"},decls:14,vars:13,consts:[[1,"flex","align-items-center","font-bold","text-bluegray-400","w-fit","border-1","border-bluegray-100","bg-white","border-round-md",3,"mouseenter","mouseleave"],["class","mdi-dns text-sm p-2 terminator-right",3,"ngClass",4,"ngIf","ngIfElse"],[1,"px-2","border-right-1","border-bluegray-100","text-sm"],[3,"ngSwitch"],["class","mdi-refresh text-sm p-2 cursor-pointer text-primary-400 hover:text-primary","pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",3,"click",4,"ngSwitchCase"],["class","custom-spinner custom-spinner-primary custom-spinner-sm m-2","strokeWidth","2",4,"ngSwitchCase"],["appendTo","body","contentStyleClass","overlay",3,"visible"],["class","p-3 flex flex-column gap-2 text-sm text-bluegray-400 fit-content",4,"ngIf","ngIfElse"],["notFinded",""],["notFindedOverlay",""],[1,"mdi-dns","text-sm","p-2","terminator-right",3,"ngClass"],["pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"mdi-refresh","text-sm","p-2","cursor-pointer","text-primary-400","hover:text-primary",3,"click"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-sm","m-2"],[1,"p-3","flex","flex-column","gap-2","text-sm","text-bluegray-400","fit-content"],[1,"flex","align-items-center","gap-2"],[1,"font-bold"],[1,"font-bold",3,"ngClass"],[1,"flex","align-items-center","gap-1","justify-content-end","text-xs","text-bluegray-300"],["type","short",3,"startTime"],[1,"mdi-check_box_outline_blank","text-sm","p-2","terminator-right"],[1,"text-sm","text-bluegray-300","font-bold","flex","flex-column","align-items-center","justify-content-center","p-3"],[1,"mds-dns"],[1,"text-center","max-w-20rem"]],template:function(oe,K){if(1&oe&&(u.TgZ(0,"div",0),u.NdJ("mouseenter",function(){return K.overlayVisibleChange.next(!0)})("mouseleave",function(){return K.overlayVisibleChange.next(!1)}),u.YNc(1,O,1,1,"span",1),u.TgZ(2,"span",2),u._uU(3),u.qZA(),u.ynx(4,3),u.YNc(5,Q,1,0,"span",4),u.YNc(6,N,1,0,"p-progressSpinner",5),u.BQk(),u.qZA(),u.TgZ(7,"p-overlay",6),u.ALo(8,"async"),u.YNc(9,T,19,7,"div",7),u.qZA(),u.YNc(10,y,1,0,"ng-template",null,8,u.W1O),u.YNc(12,w,4,2,"ng-template",null,9,u.W1O)),2&oe){const H=u.MAs(11),D=u.MAs(13);let P;u.Udp("cursor","default"),u.xp6(1),u.Q6J("ngIf",K.binding&&K.binding.lastConnectionLocation)("ngIfElse",H),u.xp6(2),u.hij(" ",null==K.binding?null:K.binding.macaddr," "),u.xp6(1),u.Q6J("ngSwitch",K.isLocationRefreshing),u.xp6(1),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("visible",null!==(P=u.lcZ(8,11,K.overlayVisible))&&void 0!==P&&P),u.xp6(2),u.Q6J("ngIf",K.binding&&K.binding.lastConnectionLocation)("ngIfElse",D)}},dependencies:[x.mk,x.O5,x.RF,x.n9,R.u,b.aV,s.G,F.j,x.Ov]}),V})()},8322:(dn,pt,C)=>{"use strict";C.d(pt,{S:()=>ke});var e=C(7384),d=C(1135),u=C(8505),p=C(3900),x=C(9646),R=C(5625),b=C(5e3),s=C(8738);const F=["macPanel"],O=function(X){return{"border-2 border-primary-400":X}};function Q(X,q){if(1&X){const pe=b.EpF();b.TgZ(0,"div",25),b.NdJ("click",function(){const ct=b.CHM(pe).$implicit,ot=b.oxw(5);return b.KtG(ot.selectPort(ct))}),b.ALo(1,"async"),b.TgZ(2,"span",26),b._uU(3),b.qZA(),b.TgZ(4,"span",26),b._uU(5),b.qZA()()}if(2&X){const pe=q.$implicit,_e=b.oxw(5);let Xe;b.Tol("w-3rem h-2rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+_e.portStatusStyle(pe)),b.Q6J("ngClass",b.VKq(7,O,(null==(Xe=b.lcZ(1,5,_e.selectPortChange$))?null:Xe.portInfoId)===pe.portInfoId)),b.xp6(3),b.Oqu(pe.name),b.xp6(2),b.Oqu(_e.portSpeedName(pe))}}const N=function(){return[]};function T(X,q){if(1&X&&(b.TgZ(0,"div",23),b.YNc(1,Q,6,9,"div",24),b.qZA()),2&X){const pe=b.oxw(4);let _e;b.xp6(1),b.Q6J("ngForOf",null!==(_e=pe.commutator.additionalInfo.ports)&&void 0!==_e?_e:b.DdM(1,N))}}function y(X,q){1&X&&(b.TgZ(0,"tr")(1,"th"),b._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),b.qZA(),b.TgZ(3,"th"),b._uU(4,"VID"),b.qZA(),b.TgZ(5,"th"),b._uU(6,"\u0418\u043c\u044f vlan"),b.qZA(),b.TgZ(7,"th"),b._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),b.qZA(),b.TgZ(9,"th"),b._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),b.qZA()())}function w(X,q){if(1&X&&(b.TgZ(0,"tr")(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.qZA(),b.TgZ(7,"td"),b._uU(8),b.qZA(),b.TgZ(9,"td"),b._uU(10),b.qZA()()),2&X){const pe=q.$implicit;b.xp6(2),b.Oqu(pe.mac),b.xp6(2),b.Oqu(pe.vid),b.xp6(2),b.Oqu(pe.vlanName),b.xp6(2),b.Oqu(pe.dynamic),b.xp6(2),b.Oqu(null==pe.dhcpBinding?null:pe.dhcpBinding.authName)}}function k(X,q){1&X&&(b.TgZ(0,"div",33),b._UZ(1,"span",34),b.TgZ(2,"span"),b._uU(3,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),b.qZA()())}function V(X,q){1&X&&(b.TgZ(0,"div",35),b._UZ(1,"span",36),b.TgZ(2,"span"),b._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),b.qZA()())}function U(X,q){if(1&X&&(b.TgZ(0,"div")(1,"p-table",27),b.ALo(2,"async"),b.YNc(3,y,11,0,"ng-template",28),b.YNc(4,w,11,5,"ng-template",29),b.qZA(),b.ynx(5,30),b.YNc(6,k,4,0,"div",31),b.YNc(7,V,4,0,"div",32),b.BQk(),b.qZA()),2&X){const pe=b.oxw(4);let _e;b.xp6(1),b.Q6J("hidden","EMPTY"==pe.fdbTableLoadingState||"ERROR"==pe.fdbTableLoadingState)("loading","LOADING"===pe.fdbTableLoadingState)("scrollable",!0)("value",null!==(_e=b.lcZ(2,7,pe.fdbTable$))&&void 0!==_e?_e:b.DdM(9,N)),b.xp6(4),b.Q6J("ngSwitch",pe.fdbTableLoadingState),b.xp6(1),b.Q6J("ngSwitchCase","EMPTY"),b.xp6(1),b.Q6J("ngSwitchCase","ERROR")}}function oe(X,q){if(1&X){const pe=b.EpF();b.ynx(0),b.TgZ(1,"div",14)(2,"span"),b._uU(3," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d: "),b.qZA(),b._UZ(4,"app-time-elapsed",15),b.TgZ(5,"app-tiny-button",16),b.NdJ("onClick",function(){b.CHM(pe);const Xe=b.oxw(3);return b.KtG(Xe.refresh())}),b.qZA()(),b.TgZ(6,"div",17)(7,"div",18)(8,"span"),b._uU(9),b.qZA(),b.TgZ(10,"span",19),b._uU(11),b.qZA(),b.TgZ(12,"span",20)(13,"span"),b._uU(14,"\u0410\u043f\u0442\u0430\u0439\u043c"),b.qZA(),b._UZ(15,"app-time-elapsed",15),b.qZA()(),b.YNc(16,T,2,2,"div",21),b.qZA(),b.YNc(17,U,8,10,"div",13),b.ALo(18,"async"),b._UZ(19,"app-bindings-table",22),b.BQk()}if(2&X){const pe=b.oxw(3);b.xp6(4),b.Q6J("startTime",pe.commutator.additionalInfo.systemInfo.lastUpdate),b.xp6(1),b.Q6J("disabled",pe.isUpdating),b.xp6(4),b.AsE(" ",pe.commutator.additionalInfo.systemInfo.device," ",pe.commutator.additionalInfo.systemInfo.hwVersion," "),b.xp6(2),b.hij(" FW: ",pe.commutator.additionalInfo.systemInfo.fwVersion," "),b.xp6(4),b.Q6J("startTime",pe.uptime),b.xp6(1),b.Q6J("ngIf",pe.commutator.additionalInfo),b.xp6(1),b.Q6J("ngIf",b.lcZ(18,10,pe.selectPortChange$)),b.xp6(2),b.Q6J("filterId",pe.commutator.id)("ping",!1)}}function K(X,q){if(1&X&&(b.TgZ(0,"div",12),b.YNc(1,oe,20,12,"ng-container",13),b.qZA()),2&X){const pe=b.oxw(2);b.xp6(1),b.Q6J("ngIf",pe.commutator.additionalInfo)}}function H(X,q){if(1&X&&(b.TgZ(0,"div",39)(1,"span",40),b._uU(2),b.qZA(),b.TgZ(3,"span",41),b._uU(4),b.ALo(5,"date"),b.qZA()()),2&X){const pe=q.$implicit;b.xp6(1),b.Q6J("ngClass",pe.isError?"text-red-400":"text-green-400"),b.xp6(1),b.hij(" ",pe.message," "),b.xp6(2),b.hij(" ",b.xi3(5,3,pe.timestamp,"dd.MM.yyyy HH:mm:ss")," ")}}function D(X,q){if(1&X&&(b.TgZ(0,"div",37),b.YNc(1,H,6,6,"div",38),b.qZA()),2&X){const pe=b.oxw(2);b.Udp("overscroll-behavior","contain"),b.xp6(1),b.Q6J("ngForOf",null==pe.commutator||null==pe.commutator.additionalInfo?null:pe.commutator.additionalInfo.remoteUpdateLogs)("ngForTrackBy",pe.trackByLog)}}function P(X,q){if(1&X&&(b.TgZ(0,"p-tabView",7)(1,"p-tabPanel",8),b.YNc(2,K,2,1,"div",9),b.qZA(),b.TgZ(3,"p-tabPanel",10),b.YNc(4,D,2,4,"div",11),b.qZA()()),2&X){const pe=b.oxw(),_e=b.MAs(8),Xe=b.MAs(6);b.xp6(2),b.Q6J("ngIf",pe.commutator&&pe.commutator.additionalInfo&&pe.commutator.additionalInfo.systemInfo)("ngIfElse",_e),b.xp6(2),b.Q6J("ngIf",null==pe.commutator||null==pe.commutator.additionalInfo||null==pe.commutator.additionalInfo.remoteUpdateLogs?null:pe.commutator.additionalInfo.remoteUpdateLogs.length)("ngIfElse",Xe)}}const Y=function(X){return[X,"","",!1,!0]};function re(X,q){if(1&X&&(b._UZ(0,"span",51),b.ALo(1,"elapsedTime")),2&X){const pe=b.oxw(2);b.Q6J("pTooltip",b.G7q(1,1,b.VKq(7,Y,pe.uptime)))}}const j=function(){return{fontSize:"0.5rem"}};function G(X,q){if(1&X){const pe=b.EpF();b.TgZ(0,"div",25),b.NdJ("click",function(Xe){const ot=b.CHM(pe).$implicit,Zt=b.oxw(3),Dt=b.MAs(3);return Zt.selectPortChange$.next(ot),b.KtG(Dt.show(Xe))}),b.ALo(1,"async"),b.TgZ(2,"span",53),b._uU(3),b.qZA()()}if(2&X){const pe=q.$implicit,_e=b.oxw(3);let Xe;b.Tol("w-2rem h-1rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+_e.portStatusStyle(pe)),b.Q6J("ngClass",b.VKq(8,O,(null==(Xe=b.lcZ(1,6,_e.selectPortChange$))?null:Xe.portInfoId)===pe.portInfoId)),b.xp6(2),b.Akn(b.DdM(10,j)),b.xp6(1),b.Oqu(pe.name)}}function ie(X,q){if(1&X&&(b.TgZ(0,"div",52),b.YNc(1,G,4,11,"div",24),b.qZA()),2&X){const pe=b.oxw(2);let _e;b.xp6(1),b.Q6J("ngForOf",null!==(_e=null==pe.commutator||null==pe.commutator.additionalInfo?null:pe.commutator.additionalInfo.ports)&&void 0!==_e?_e:b.DdM(1,N))}}function Te(X,q){if(1&X&&b._UZ(0,"span",54),2&X){const pe=b.oxw(2);let _e;b.Q6J("pTooltip",null!==(_e=null==pe.commutator||null==pe.commutator.additionalInfo?null:pe.commutator.additionalInfo.lastErrorMessage)&&void 0!==_e?_e:"")}}function Me(X,q){if(1&X){const pe=b.EpF();b.TgZ(0,"div",42)(1,"div",18)(2,"span",19),b._uU(3),b.qZA(),b.TgZ(4,"div",43),b.YNc(5,re,2,9,"span",44),b.TgZ(6,"span",45),b._uU(7),b.qZA(),b.TgZ(8,"span",46),b._uU(9),b.qZA()()(),b.YNc(10,ie,2,2,"div",47),b._UZ(11,"div",48),b.YNc(12,Te,1,1,"span",49),b.TgZ(13,"app-tiny-button",50),b.NdJ("onClick",function(){b.CHM(pe);const Xe=b.oxw();return b.KtG(Xe.refresh())}),b.ALo(14,"titlecase"),b.ALo(15,"date"),b.qZA()()}if(2&X){const pe=b.oxw();let _e;b.xp6(3),b.hij(" ",null==pe.commutator?null:pe.commutator.name," "),b.xp6(2),b.Q6J("ngIf",(null==pe.commutator||null==pe.commutator.additionalInfo?null:pe.commutator.additionalInfo.available)&&(null==pe.commutator||null==pe.commutator.additionalInfo||null==pe.commutator.additionalInfo.systemInfo?null:pe.commutator.additionalInfo.systemInfo.uptime)),b.xp6(1),b.Q6J("ngClass",null!=pe.commutator&&null!=pe.commutator.additionalInfo&&pe.commutator.additionalInfo.available?"text-green-400":"text-red-400"),b.xp6(1),b.hij(" ",null!=pe.commutator&&null!=pe.commutator.additionalInfo&&pe.commutator.additionalInfo.available?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"," "),b.xp6(2),b.hij(" ",null==pe.commutator?null:pe.commutator.ipaddr," "),b.xp6(1),b.Q6J("ngIf",null==pe.commutator?null:pe.commutator.additionalInfo),b.xp6(2),b.Q6J("ngIf",null==pe.commutator||null==pe.commutator.additionalInfo?null:pe.commutator.additionalInfo.isLastUpdateError),b.xp6(1),b.Q6J("disabled",pe.isUpdating)("pTooltip",null!==(_e=b.lcZ(14,9,b.xi3(15,11,null==pe.commutator||null==pe.commutator.additionalInfo||null==pe.commutator.additionalInfo.systemInfo?null:pe.commutator.additionalInfo.systemInfo.lastUpdate,"dd MMMM yyyy HH:mm")))&&void 0!==_e?_e:"")}}function de(X,q){1&X&&(b.TgZ(0,"tr")(1,"th"),b._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),b.qZA(),b.TgZ(3,"th"),b._uU(4,"VID"),b.qZA(),b.TgZ(5,"th"),b._uU(6,"\u0418\u043c\u044f vlan"),b.qZA(),b.TgZ(7,"th"),b._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),b.qZA(),b.TgZ(9,"th"),b._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),b.qZA()())}function te(X,q){if(1&X&&(b.TgZ(0,"tr")(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.qZA(),b.TgZ(7,"td"),b._uU(8),b.qZA(),b.TgZ(9,"td"),b._uU(10),b.qZA()()),2&X){const pe=q.$implicit;b.xp6(2),b.Oqu(pe.mac),b.xp6(2),b.Oqu(pe.vid),b.xp6(2),b.Oqu(pe.vlanName),b.xp6(2),b.Oqu(pe.dynamic),b.xp6(2),b.Oqu(null==pe.dhcpBinding?null:pe.dhcpBinding.authName)}}function ce(X,q){1&X&&(b.TgZ(0,"tr")(1,"td",58),b._uU(2,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),b.qZA()()),2&X&&(b.xp6(1),b.uIk("colspan",5))}function J(X,q){if(1&X&&(b.TgZ(0,"p-table",56),b.YNc(1,de,11,0,"ng-template",28),b.YNc(2,te,11,5,"ng-template",29),b.YNc(3,ce,3,1,"ng-template",57),b.qZA()),2&X){const pe=b.oxw().ngIf,_e=b.oxw(2);b.Q6J("loading","LOADING"===_e.fdbTableLoadingState)("scrollable",!0)("value",pe)}}function ve(X,q){if(1&X&&(b.ynx(0),b.YNc(1,J,4,3,"p-table",55),b.BQk()),2&X){const pe=b.oxw(2);b.xp6(1),b.Q6J("ngIf","ERROR"!==pe.fdbTableLoadingState)}}function be(X,q){if(1&X&&(b.YNc(0,ve,2,1,"ng-container",13),b.ALo(1,"async")),2&X){const pe=b.oxw();b.Q6J("ngIf",b.lcZ(1,1,pe.fdbTable$))}}function Be(X,q){1&X&&(b.TgZ(0,"div",59),b._UZ(1,"span",60),b.TgZ(2,"span"),b._uU(3,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),b.qZA()())}function we(X,q){if(1&X){const pe=b.EpF();b.TgZ(0,"div",61),b._UZ(1,"span",62),b.TgZ(2,"span"),b._uU(3,"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),b.qZA(),b.TgZ(4,"p-button",63),b.NdJ("onClick",function(){b.CHM(pe);const Xe=b.oxw();return b.KtG(Xe.refresh())}),b.qZA()()}if(2&X){const pe=b.oxw();b.xp6(4),b.Q6J("disabled",pe.isUpdating)}}let ke=(()=>{class X{constructor(pe){this.api=pe,this.tiny=!1,this.isUpdating=!1,this.lastSelectedPortId=null,this.selectPortChange$=new d.X(null),this.fdbTableLoadingState=e.Gu.LOADING,this.fdbTable$=this.selectPortChange$.pipe((0,u.b)(()=>this.fdbTableLoadingState=e.Gu.LOADING),(0,p.w)(_e=>_e?this.api.fdbTableByPort(_e.portInfoId):(0,x.of)(null)),(0,u.b)({next:_e=>{this.fdbTableLoadingState=_e&&_e.length>0?e.Gu.READY:e.Gu.EMPTY},error:_e=>{var Xe;this.fdbTableLoadingState=e.Gu.ERROR,null===(Xe=this.macPanel)||void 0===Xe||Xe.hide()}}),(0,R.X)()),this.changeMacPanelVisible$=new d.X([null,null]),this.overlayPanelPort=null,this.trackByLog=(_e,Xe)=>Xe.remoteUpdateLogId}get uptime(){return this.commutator&&this.commutator.additionalInfo&&this.commutator.additionalInfo.systemInfo&&this.commutator.additionalInfo.systemInfo.uptime?new Date(this.commutator.additionalInfo.systemInfo.lastUpdate).getTime()-1e3*this.commutator.additionalInfo.systemInfo.uptime:0}ngOnInit(){this.fdbTable$.subscribe(()=>{setTimeout(()=>{var pe;null!==(pe=this.macPanel)&&void 0!==pe&&pe.overlayVisible&&this.macPanel.align()},100)})}portSpeedName(pe){switch(null==pe?void 0:pe.speed){case"HALF10":return"10H";case"FULL10":return"10F";case"HALF100":return"100H";case"FULL100":return"100F";case"HALF1000":return"1000H";case"FULL1000":return"1000F"}return""}portStatusStyle(pe){if(!pe)return"";switch(pe.status){case"UP":return"bg-green-400";case"DOWN":return"bg-bluegray-100";case"ADMIN_DOWN":return"bg-red-400";case"PREPARE":return"bg-yellow-400"}return""}refresh(){!this.commutator||(this.isUpdating=!0,this.api.commutatorRemoteUpdate(this.commutator.id).subscribe({next:()=>this.isUpdating=!1,error:()=>this.isUpdating=!1}))}selectPort(pe){if(pe.portInfoId===this.lastSelectedPortId)return this.lastSelectedPortId=null,void this.selectPortChange$.next(null);this.lastSelectedPortId=pe.portInfoId,this.selectPortChange$.next(pe)}loadingFdbTable(){this.selectPortChange$.next(this.overlayPanelPort)}}return X.\u0275fac=function(pe){return new(pe||X)(b.Y36(s.s))},X.\u0275cmp=b.Xpm({type:X,selectors:[["app-commutator-view"]],viewQuery:function(pe,_e){if(1&pe&&b.Gf(F,5),2&pe){let Xe;b.iGM(Xe=b.CRH())&&(_e.macPanel=Xe.first)}},inputs:{commutator:"commutator",tiny:"tiny"},decls:9,vars:2,consts:[["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden",4,"ngIf"],["class","flex align-items-center gap-2 p-2 border-1 border-bluegray-100 border-round-md",4,"ngIf"],["appendTo","body",3,"onHide"],["macPanel",""],["pTemplate","content"],["notags",""],["noinfo",""],["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],["class","flex flex-column gap-2",4,"ngIf","ngIfElse"],["header","\u041b\u043e\u0433\u0438"],["class","flex flex-column-reverse overflow-y-auto max-h-20rem",3,"overscroll-behavior",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","gap-1","align-items-center","text-xs","text-bluegray-300","font-bold","justify-content-end"],[3,"startTime"],["icon","refresh",3,"disabled","onClick"],[1,"flex","gap-3"],[1,"flex","flex-column","text-bluegray-400"],[1,"text-sm"],[1,"text-xs","font-bold","text-bluegray-300"],["class","port-grille",4,"ngIf"],["filterMode","commutator",3,"filterId","ping"],[1,"port-grille"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"text-white","text-xs","font-bold"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"hidden","loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"ngSwitch"],["class","flex flex-column align-items-center justify-content-center p-3 text-bluegray-300 font-bold",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center p-3 text-red-400 font-bold",4,"ngSwitchCase"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-bluegray-300","font-bold"],[1,"mds-dns"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-red-400","font-bold"],[1,"mds-error"],[1,"flex","flex-column-reverse","overflow-y-auto","max-h-20rem"],["class","flex flex-column p-2 text-xs split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","p-2","text-xs","split-line"],[1,"font-bold",3,"ngClass"],[1,"align-self-end","text-bluegray-300"],[1,"flex","align-items-center","gap-2","p-2","border-1","border-bluegray-100","border-round-md"],[1,"flex","align-items-center","gap-1"],["class","mdi-schedule text-green-400 text-sm",3,"pTooltip",4,"ngIf"],[1,"text-xs","font-bold",3,"ngClass"],[1,"text-xs","font-bold","text-bluegray-400"],["class","port-grille-tiny",4,"ngIf"],[1,"flex-grow-1"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","refresh",3,"disabled","pTooltip","onClick"],[1,"mdi-schedule","text-green-400","text-sm",3,"pTooltip"],[1,"port-grille-tiny"],[1,"text-white","font-bold"],[1,"mdi-warning","text-red-400",3,"pTooltip"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value",4,"ngIf"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value"],["pTemplate","emptymessage"],[1,"text-center","font-bold","text-bluegray-300"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-list"],[1,"flex","flex-column","align-items-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-visibility_off"],["icon","mdi-refresh","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-outlined p-button-warning mt-3",3,"disabled","onClick"]],template:function(pe,_e){1&pe&&(b.YNc(0,P,5,4,"p-tabView",0),b.YNc(1,Me,16,14,"div",1),b.TgZ(2,"p-overlayPanel",2,3),b.NdJ("onHide",function(){return _e.selectPortChange$.next(null)}),b.YNc(4,be,2,3,"ng-template",4),b.qZA(),b.YNc(5,Be,4,0,"ng-template",null,5,b.W1O),b.YNc(7,we,5,1,"ng-template",null,6,b.W1O)),2&pe&&(b.Q6J("ngIf",!_e.tiny),b.xp6(1),b.Q6J("ngIf",_e.tiny))},styles:[".port-grille[_ngcontent-%COMP%]{display:grid;grid:2rem 2rem/auto-flow 3rem;gap:.5rem}.port-grille-tiny[_ngcontent-%COMP%]{display:grid;grid:1rem 1rem/auto-flow 2rem;gap:.2rem}"]}),X})()},7570:(dn,pt,C)=>{"use strict";C.d(pt,{M:()=>we});var e=C(383),d=C(2382),u=C(4968),p=C(5e3),x=C(8738),R=C(8007),b=C(9783),s=C(3064);const F=["fileManager"],O=function(){return[]};function Q(ke,X){if(1&ke){const q=p.EpF();p.TgZ(0,"div",26),p._UZ(1,"p-dropdown",27),p.ALo(2,"async"),p.TgZ(3,"div",28)(4,"input",29),p.NdJ("keydown.enter",function(){p.CHM(q);const _e=p.oxw();return p.KtG(_e.searchFiles())}),p.qZA(),p.TgZ(5,"button",30),p.NdJ("click",function(){p.CHM(q);const _e=p.oxw();return p.KtG(_e.searchFiles())}),p.qZA()()()}if(2&ke){const q=p.oxw();let pe;p.xp6(1),p.Q6J("options",null!==(pe=p.lcZ(2,3,q.filesSortingTypeItems$))&&void 0!==pe?pe:p.DdM(5,O))("formControl",q.filesSortingControl),p.xp6(3),p.Q6J("formControl",q.searchFilesQueryControl)}}function N(ke,X){if(1&ke&&p._UZ(0,"p-breadcrumb",31),2&ke){const q=p.oxw();p.Q6J("home",q.breadcrumbRoot)("model",q.breadcrumbItems)}}function T(ke,X){1&ke&&(p.TgZ(0,"tr")(1,"th"),p._uU(2,"\u0418\u043c\u044f"),p.qZA(),p.TgZ(3,"th"),p._uU(4,"\u0421\u043e\u0437\u0434\u0430\u043d"),p.qZA(),p.TgZ(5,"th"),p._uU(6,"\u0420\u0430\u0437\u043c\u0435\u0440"),p.qZA()())}function y(ke,X){1&ke&&p.GkF(0)}function w(ke,X){if(1&ke&&(p.ynx(0),p.YNc(1,y,1,0,"ng-container",35),p.BQk()),2&ke){p.oxw(2);const q=p.MAs(16);p.xp6(1),p.Q6J("ngTemplateOutlet",q)}}function k(ke,X){1&ke&&p.GkF(0)}const V=function(ke){return{$implicit:ke}};function U(ke,X){if(1&ke&&(p.ynx(0),p.YNc(1,k,1,0,"ng-container",36),p.BQk()),2&ke){const q=p.oxw().$implicit;p.oxw();const pe=p.MAs(12);p.xp6(1),p.Q6J("ngTemplateOutlet",pe)("ngTemplateOutletContext",p.VKq(2,V,q))}}function oe(ke,X){1&ke&&p.GkF(0)}function K(ke,X){if(1&ke&&(p.ynx(0),p.YNc(1,oe,1,0,"ng-container",36),p.BQk()),2&ke){const q=p.oxw().$implicit;p.oxw();const pe=p.MAs(14);p.xp6(1),p.Q6J("ngTemplateOutlet",pe)("ngTemplateOutletContext",p.VKq(2,V,q))}}function H(ke,X){if(1&ke){const q=p.EpF();p.TgZ(0,"tr",32),p.NdJ("dblclick",function(){const Xe=p.CHM(q).$implicit,ct=p.oxw();return p.KtG(ct.doubleClick(Xe))})("onDragStart",function(){p.CHM(q);const _e=p.oxw();return p.KtG(_e.insideDragDrop=!0)})("onDragEnd",function(){p.CHM(q);const _e=p.oxw();return p.KtG(_e.insideDragDrop=!1)})("onDrop",function(){const Xe=p.CHM(q).$implicit,ct=p.oxw();return p.KtG(ct.filesDropped(Xe))}),p.ynx(1,33),p.YNc(2,w,2,1,"ng-container",34),p.YNc(3,U,2,4,"ng-container",34),p.YNc(4,K,2,4,"ng-container",34),p.BQk(),p.qZA()}if(2&ke){const q=X.$implicit,pe=p.oxw();p.Q6J("pSelectableRow",q)("pSelectableRowDisabled",pe.isBackButton(q))("pDroppableDisabled",pe.isNotADirectory(q))("pDraggableDisabled",!pe.selectedItems.includes(q)),p.xp6(1),p.Q6J("ngSwitch",q.discriminator),p.xp6(1),p.Q6J("ngSwitchCase","back"),p.xp6(1),p.Q6J("ngSwitchCase","directory"),p.xp6(1),p.Q6J("ngSwitchCase","file")}}function D(ke,X){1&ke&&(p.TgZ(0,"tr")(1,"td",37),p._uU(2," \u0424\u0430\u0438\u0306\u043b\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e "),p.qZA()())}function P(ke,X){1&ke&&(p.TgZ(0,"div",38)(1,"span"),p._uU(2," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0432 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e "),p.qZA()())}function Y(ke,X){1&ke&&(p.TgZ(0,"div",39),p._UZ(1,"p-progressSpinner"),p.TgZ(2,"span"),p._uU(3," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 "),p.qZA()())}function re(ke,X){1&ke&&p.GkF(0)}function j(ke,X){if(1&ke&&(p.TgZ(0,"td",40),p.YNc(1,re,1,0,"ng-container",35),p.TgZ(2,"span"),p._uU(3),p.qZA()(),p.TgZ(4,"td"),p._uU(5),p.ALo(6,"date"),p.qZA(),p._UZ(7,"td")),2&ke){const q=X.$implicit,pe=p.oxw(),_e=p.MAs(18);p.Q6J("ngClass",pe.itemSelectionStyleClasses(q)),p.xp6(1),p.Q6J("ngTemplateOutlet",_e),p.xp6(2),p.hij(" ",q.name," "),p.xp6(2),p.hij(" ",p.xi3(6,4,q.createdAt,"dd-MM-yyyy HH:mm")," ")}}function G(ke,X){1&ke&&p.GkF(0)}function ie(ke,X){if(1&ke&&(p.TgZ(0,"td",40),p.YNc(1,G,1,0,"ng-container",36),p.TgZ(2,"span"),p._uU(3),p.qZA()(),p.TgZ(4,"td"),p._uU(5),p.ALo(6,"date"),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.ALo(9,"number"),p.qZA()),2&ke){const q=X.$implicit,pe=p.oxw(),_e=p.MAs(20);p.Q6J("ngClass",pe.itemSelectionStyleClasses(q)),p.xp6(1),p.Q6J("ngTemplateOutlet",_e)("ngTemplateOutletContext",p.VKq(12,V,q.type)),p.xp6(2),p.hij(" ",q.name," "),p.xp6(2),p.hij(" ",p.xi3(6,6,q.createdAt,"dd-MM-yyyy HH:mm")," "),p.xp6(3),p.hij(" ",p.xi3(9,9,q.sizeMbyte,"1.1-2")," Mb ")}}function Te(ke,X){if(1&ke){const q=p.EpF();p.TgZ(0,"td",41),p.NdJ("dblclick",function(){p.CHM(q);const _e=p.oxw();return p.KtG(_e.back())}),p._UZ(1,"span",42),p.TgZ(2,"span"),p._uU(3," \u041d\u0430\u0437\u0430\u0434 "),p.qZA()(),p._UZ(4,"td")(5,"td")}}function Me(ke,X){1&ke&&p._UZ(0,"span",43)}function de(ke,X){1&ke&&p._UZ(0,"span",49)}function te(ke,X){1&ke&&p._UZ(0,"span",50)}function ce(ke,X){1&ke&&p._UZ(0,"span",51)}function J(ke,X){1&ke&&p._UZ(0,"span",52)}function ve(ke,X){1&ke&&p._UZ(0,"span",53)}function be(ke,X){1&ke&&(p.ynx(0,33),p.YNc(1,de,1,0,"span",44),p.YNc(2,te,1,0,"span",45),p.YNc(3,ce,1,0,"span",46),p.YNc(4,J,1,0,"span",47),p.YNc(5,ve,1,0,"span",48),p.BQk()),2&ke&&(p.Q6J("ngSwitch",X.$implicit),p.xp6(1),p.Q6J("ngSwitchCase","PHOTO"),p.xp6(1),p.Q6J("ngSwitchCase","VIDEO"),p.xp6(1),p.Q6J("ngSwitchCase","AUDIO"),p.xp6(1),p.Q6J("ngSwitchCase","DOCUMENT"))}function Be(ke,X){if(1&ke){const q=p.EpF();p.TgZ(0,"div",54)(1,"span",55),p._uU(2," \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430: "),p.qZA(),p.TgZ(3,"span",56),p._uU(4),p.qZA(),p.TgZ(5,"p-button",57),p.NdJ("onClick",function(){p.CHM(q);const _e=p.oxw();return p.KtG(_e.cancelSearch())}),p.qZA()()}if(2&ke){const q=p.oxw();p.xp6(4),p.hij(" ",q.searchFilesQueryControl.value," ")}}let we=(()=>{class ke{constructor(q,pe,_e,Xe){this.api=q,this.rt=pe,this.confirmService=_e,this.mediaViewerService=Xe,this.fileItems=[],this.isLoading=!1,this.selectedItems=[],this.itemsForCopy=[],this.itemsForMove=[],this.currentPath=[],this.currentDirectory=null,this.filesSortingTypeItems$=this.api.getFilesSortingTypes(),this.filesSortingControl=new d.NI(e.Ke.loadOrDefault("filesSortingType","NAME_ASC")),this.subscriptions=new e.xf,this.createDirectoryDialogVisible=!1,this.createDirectoryNameControl=new d.NI("",[d.kI.required,d.kI.minLength(3)]),this.renameItemDialogVisible=!1,this.renameItemForm=new d.cw({id:new d.NI(null,[d.kI.required]),name:new d.NI("",[d.kI.required,d.kI.minLength(3)])}),this.itemBeingRename=!1,this.directoryCreating=!1,this.insideDragDrop=!1,this.dropMessageVisible=0,this.menuItems=[],this.dropFilesUploadingVisible=!1,this.breadcrumbItems=[],this.searchFilesQueryControl=new d.NI(""),this.searchMode=!1}get breadcrumbRoot(){return{icon:"mdi-home",command:()=>{this.isLoading=!0,this.currentPath=[],this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}}updateMenuItems(){this.menuItems=[{label:"\u0424\u0430\u0439\u043b\u044b",items:[{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441 \u0434\u0438\u0441\u043a\u0430",command:()=>{var q;return null===(q=this.fileManager)||void 0===q?void 0:q.nativeElement.click()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443",command:()=>this.openCreateFolderDialog()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",items:[{label:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setMoveItems()},{label:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setCopyItems()},{label:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",disabled:0===this.itemsForCopy.length&&0===this.itemsForMove.length,command:()=>this.pasteItems()},{label:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",disabled:1!==this.selectedItems.length,command:()=>this.openRenameItemDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.deleteItems()}]}]}updateBreadcrumbs(){var q;this.breadcrumbItems=[...this.currentPath.filter(pe=>null!==pe).map((pe,_e)=>({label:null==pe?void 0:pe.name,command:()=>{pe&&(this.currentPath=this.currentPath.slice(0,_e+1),this.currentDirectory=pe,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(pe.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))}})),{label:null===(q=this.currentDirectory)||void 0===q?void 0:q.name,disabled:!0}]}get isBack(){return this.currentPath.length>0}rootDirectoryLoadHandler(){return{next:q=>{this.fileItems=q,this.selectedItems=[],this.currentPath=[],this.currentDirectory=null,this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue(""),this.updateBreadcrumbs(),this.updateMenuItems()},error:()=>this.isLoading=!1}}directoryLoadHandler(q){return{next:pe=>{this.fileItems=[{fileSystemItemId:0,name:"\u041d\u0430\u0437\u0430\u0434",discriminator:"back",parent:null},...pe.files],this.selectedItems=[],this.currentPath=pe.path,this.currentDirectory=q,this.updateBreadcrumbs(),this.updateMenuItems(),this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue("")},error:()=>this.isLoading=!1}}ngOnInit(){this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler()),this.updateMenuItems(),this.subscriptions.addSubscription("stUpd",this.filesSortingControl.valueChanges.subscribe(q=>{e.Ke.save("filesSortingType",q),this.isLoading=!0,this.currentDirectory?this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,q).subscribe(this.directoryLoadHandler(this.currentDirectory)):this.api.getFilesRoot(q).subscribe(this.rootDirectoryLoadHandler())})),this.subscriptions.addSubscription("dirUpd",this.rt.updateFilesDirectory().subscribe(q=>{var pe;0===q&&null===this.currentDirectory?(this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())):q===(null===(pe=this.currentDirectory)||void 0===pe?void 0:pe.fileSystemItemId)&&(this.isLoading=!0,this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))})),this.subscriptions.addSubscription("drgEntDetect",(0,u.R)(document,"dragenter").subscribe(q=>{this.dropMessageVisible++})),this.subscriptions.addSubscription("drgLvDetect",(0,u.R)(document,"dragleave").subscribe(q=>{this.dropMessageVisible--})),this.subscriptions.addSubscription("drpDetect",(0,u.R)(document,"drop").subscribe(()=>{this.dropMessageVisible=0})),this.subscriptions.addSubscription("drgDropover",(0,u.R)(document,"dragover").subscribe(q=>{this.insideDragDrop||q.preventDefault()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}dropFilesHandler(q){var pe,_e;if(this.insideDragDrop)return;q.preventDefault();const Xe=[];if(null!==(pe=q.dataTransfer)&&void 0!==pe&&pe.items){for(let ct=0;ct<q.dataTransfer.items.length;ct++)if("file"===q.dataTransfer.items[ct].kind){const ot=q.dataTransfer.items[ct].getAsFile();ot&&Xe.push(ot)}}else if(null!==(_e=q.dataTransfer)&&void 0!==_e&&_e.files)for(let ct=0;ct<q.dataTransfer.files.length;ct++)Xe.push(q.dataTransfer.files[ct]);this.uploadFiles(Xe)}filesManagerChange(q){if(0===q.target.files.length)return;const pe=q.target.files,_e=[];for(let Xe=0;Xe<pe.length;Xe++)_e.push(pe[Xe]);this.uploadFiles(_e),q.target.value=null}uploadFiles(q){this.dropFilesUploadingVisible=!0,Promise.all(q.map(pe=>this.fileReader(pe))).then(pe=>{this.api.filesUpload(pe).subscribe({next:()=>this.dropFilesUploadingVisible=!1,error:()=>this.dropFilesUploadingVisible=!1})})}fileReader(q){return new Promise((pe,_e)=>{const Xe=new FileReader;Xe.onload=ct=>{var ot,Zt;const Dt=null===(ot=ct.target)||void 0===ot?void 0:ot.result;Dt instanceof ArrayBuffer&&pe({name:q.name,data:Object.values(new Uint8Array(Dt)),targetDirectoryId:null===(Zt=this.currentDirectory)||void 0===Zt?void 0:Zt.fileSystemItemId})},Xe.onerror=_e,Xe.readAsArrayBuffer(q)})}loadDirectory(q){this.isLoading=!0,this.api.getFilesDirectory(q.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(q))}back(){if(this.currentPath.length>0){const q=this.currentPath.pop();if(void 0===q)return;this.currentDirectory=q,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(q.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(q))}else this.currentDirectory=null,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}doubleClick(q){switch(q.discriminator){case"directory":this.loadDirectory(q);break;case"file":const pe=q;switch(pe.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewerService.showMedia(pe);break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+pe.fileSystemItemId,"_blank")}}}isBackButton(q){return"back"===q.discriminator}isNotADirectory(q){return"directory"!==q.discriminator}isSelected(q){return this.selectedItems.map(pe=>pe.fileSystemItemId).includes(q.fileSystemItemId)}filesDropped(q){if(this.isSelected(q))return;const pe=q.fileSystemItemId,_e=this.selectedItems.map(Xe=>Xe.fileSystemItemId);this.api.filesMoveTo(pe,_e).subscribe()}setCopyItems(){this.itemsForMove=[],this.itemsForCopy=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}setMoveItems(){this.itemsForCopy=[],this.itemsForMove=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}isFilesCopied(q){return this.itemsForCopy.map(pe=>pe.fileSystemItemId).includes(q.fileSystemItemId)}isFilesMoved(q){return this.itemsForMove.map(pe=>pe.fileSystemItemId).includes(q.fileSystemItemId)}itemSelectionStyleClasses(q){return!this.isSelected(q)&&this.isFilesMoved(q)?"opacity-50":!this.isSelected(q)&&this.isFilesCopied(q)?"text-orange-400":null}pasteItems(){var q,pe,_e,Xe;this.itemsForMove.length>0?this.api.filesMoveTo(null!==(pe=null===(q=this.currentDirectory)||void 0===q?void 0:q.fileSystemItemId)&&void 0!==pe?pe:null,this.itemsForMove.map(ct=>ct.fileSystemItemId)).subscribe():this.itemsForCopy.length>0&&this.api.filesCopyTo(null!==(Xe=null===(_e=this.currentDirectory)||void 0===_e?void 0:_e.fileSystemItemId)&&void 0!==Xe?Xe:null,this.itemsForCopy.map(ct=>ct.fileSystemItemId)).subscribe(),this.itemsForCopy=[],this.itemsForMove=[],this.updateMenuItems()}deleteItems(){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b?",accept:()=>{this.itemsForMove=[],this.itemsForCopy=[],this.isLoading=!0,this.selectedItems.length>0&&(this.selectedItems.forEach(q=>{this.api.filesDelete(q.fileSystemItemId).subscribe()}),this.selectedItems=[]),this.updateMenuItems()}})}createDirectory(){var q;const pe=this.createDirectoryNameControl.value;pe&&this.api.filesCreateDirectory(pe,null===(q=this.currentDirectory)||void 0===q?void 0:q.fileSystemItemId).subscribe({next:()=>{this.createDirectoryDialogVisible=!1,this.directoryCreating=!1},error:()=>{this.directoryCreating=!1}})}openCreateFolderDialog(){this.createDirectoryNameControl.setValue(""),this.directoryCreating=!1,this.createDirectoryDialogVisible=!0}renameItem(){if(this.renameItemForm.valid){const{id:q,name:pe}=this.renameItemForm.value;if(!q||!pe)return;this.itemBeingRename=!0,this.selectedItems=[],this.api.filesRename(q,pe).subscribe({next:()=>{this.renameItemDialogVisible=!1,this.itemBeingRename=!1},error:()=>{this.itemBeingRename=!1}}),this.updateMenuItems()}}openRenameItemDialog(){1===this.selectedItems.length&&(this.renameItemForm.setValue({id:this.selectedItems[0].fileSystemItemId,name:this.selectedItems[0].name}),this.renameItemDialogVisible=!0,this.itemBeingRename=!1)}searchFiles(){this.searchFilesQueryControl.value&&(this.searchMode=!0,this.currentPath=[],this.currentDirectory=null,this.isLoading=!0,this.api.searchFiles(this.searchFilesQueryControl.value,this.filesSortingControl.value).subscribe({next:q=>{this.isLoading=!1,this.fileItems=q},error:()=>{this.isLoading=!1}}))}cancelSearch(){this.isLoading=!0,this.currentPath=[],this.searchFilesQueryControl.setValue(""),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}return ke.\u0275fac=function(q){return new(q||ke)(p.Y36(x.s),p.Y36(R.U),p.Y36(b.YP),p.Y36(s.E))},ke.\u0275cmp=p.Xpm({type:ke,selectors:[["app-files-viewer"]],viewQuery:function(q,pe){if(1&q&&p.Gf(F,5),2&q){let _e;p.iGM(_e=p.CRH())&&(pe.fileManager=_e.first)}},decls:32,vars:26,consts:[[1,"flex","flex-column","border-round-lg","border-1","border-bluegray-100","overflow-hidden","relative","bg-bluegray-50",3,"keydown.control.c","keydown.control.x","drop","dragover","keydown.delete","paste"],["styleClass","border-0",3,"model"],["pTemplate","end"],[1,"flex","flex-column","flex-grow-1","border-top-1","border-bluegray-100","overflow-hidden"],["class","flex-grow-1","styleClass","border-0 bg-transparent",3,"home","model",4,"ngIf","ngIfElse"],["selectionMode","multiple",3,"value","loading","selection","metaKeySelection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40 pointer-events-none",4,"ngIf"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40",4,"ngIf"],["directory",""],["file",""],["backButton",""],["directoryIcon",""],["fileIcon",""],["searchTitle",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",3,"formControl","keydown.enter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["appendTo","body","header","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],[3,"formGroup"],["pInputText","","placeholder","\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","formControlName","name",3,"keydown.enter"],["label","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["type","file",3,"multiple","change"],["fileManager",""],[1,"flex","gap-2"],["appendTo","body",3,"options","formControl"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["styleClass","border-0 bg-transparent",1,"flex-grow-1",3,"home","model"],["pDraggable","fileScope","pDroppable","fileScope",1,"select-none","text-bluegray-600",3,"pSelectableRow","pSelectableRowDisabled","pDroppableDisabled","pDraggableDisabled","dblclick","onDragStart","onDragEnd","onDrop"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","3"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40","pointer-events-none"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40"],[1,"flex","gap-2","align-items-center",3,"ngClass"],[1,"flex","gap-2","align-items-center","text-bluegray-300",3,"dblclick"],[1,"mdi-turn_left"],[1,"mdi-folder"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"],[1,"flex","gap-2","align-items-center","py-2","px-3"],[1,"text-xl","text-bluegray-500"],[1,"text-xl","text-bluegray-600","font-bold"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0430","styleClass","p-button-sm p-button-secondary p-button-text",3,"onClick"]],template:function(q,pe){if(1&q&&(p.TgZ(0,"div",0),p.NdJ("keydown.control.c",function(Xe){return Xe.preventDefault(),pe.setCopyItems()})("keydown.control.x",function(Xe){return Xe.preventDefault(),pe.setMoveItems()})("drop",function(Xe){return pe.dropFilesHandler(Xe)})("dragover",function(Xe){return Xe.preventDefault()})("keydown.delete",function(){return pe.deleteItems()})("paste",function(Xe){return Xe.preventDefault(),pe.pasteItems()}),p.TgZ(1,"p-menubar",1),p.YNc(2,Q,6,6,"ng-template",2),p.qZA(),p.TgZ(3,"div",3),p.YNc(4,N,1,2,"p-breadcrumb",4),p.TgZ(5,"p-table",5),p.NdJ("selectionChange",function(Xe){return pe.selectedItems=Xe})("selectionChange",function(){return pe.updateMenuItems()}),p.YNc(6,T,7,0,"ng-template",6),p.YNc(7,H,5,8,"ng-template",7),p.YNc(8,D,3,0,"ng-template",8),p.qZA()(),p.YNc(9,P,3,0,"div",9),p.YNc(10,Y,4,0,"div",10),p.qZA(),p.YNc(11,j,8,7,"ng-template",null,11,p.W1O),p.YNc(13,ie,10,14,"ng-template",null,12,p.W1O),p.YNc(15,Te,6,0,"ng-template",null,13,p.W1O),p.YNc(17,Me,1,0,"ng-template",null,14,p.W1O),p.YNc(19,be,6,5,"ng-template",null,15,p.W1O),p.YNc(21,Be,6,1,"ng-template",null,16,p.W1O),p.TgZ(23,"p-dialog",17),p.NdJ("visibleChange",function(Xe){return pe.createDirectoryDialogVisible=Xe}),p.TgZ(24,"input",18),p.NdJ("keydown.enter",function(){return pe.createDirectoryNameControl.valid&&pe.createDirectory()}),p.qZA(),p.TgZ(25,"p-button",19),p.NdJ("onClick",function(){return pe.createDirectory()}),p.qZA()(),p.TgZ(26,"p-dialog",20),p.NdJ("visibleChange",function(Xe){return pe.renameItemDialogVisible=Xe}),p.ynx(27,21),p.TgZ(28,"input",22),p.NdJ("keydown.enter",function(){return pe.renameItemForm.valid&&pe.renameItem()}),p.qZA(),p.TgZ(29,"p-button",23),p.NdJ("onClick",function(){return pe.renameItem()}),p.qZA(),p.BQk(),p.qZA(),p.TgZ(30,"input",24,25),p.NdJ("change",function(Xe){return pe.filesManagerChange(Xe)}),p.qZA()),2&q){const _e=p.MAs(22);p.xp6(1),p.Q6J("model",pe.menuItems),p.xp6(3),p.Q6J("ngIf",!pe.searchMode)("ngIfElse",_e),p.xp6(1),p.Q6J("value",pe.fileItems)("loading",pe.isLoading)("selection",pe.selectedItems)("metaKeySelection",!0),p.xp6(4),p.Q6J("ngIf",pe.dropMessageVisible&&!pe.insideDragDrop),p.xp6(1),p.Q6J("ngIf",pe.dropFilesUploadingVisible),p.xp6(13),p.Q6J("visible",pe.createDirectoryDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),p.xp6(1),p.Q6J("formControl",pe.createDirectoryNameControl),p.xp6(1),p.Q6J("disabled",pe.createDirectoryNameControl.invalid)("loading",pe.directoryCreating),p.xp6(1),p.Q6J("visible",pe.renameItemDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),p.xp6(1),p.Q6J("formGroup",pe.renameItemForm),p.xp6(2),p.Q6J("disabled",pe.renameItemForm.invalid)("loading",pe.itemBeingRename),p.xp6(1),p.Udp("display","none"),p.Q6J("multiple",!0)}}}),ke})()},1e3:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>ce});var e=C(5e3),d=C(7384),u=C(8372),p=C(1884),x=C(4004),R=C(4782),b=C(4464),s=C(590),F=C(2382),O=C(4280),Q=C(383),N=C(8738),T=C(9783);function y(J,ve){1&J&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function w(J,ve){1&J&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function k(J,ve){1&J&&e.GkF(0)}function V(J,ve){if(1&J&&(e.ynx(0),e.YNc(1,k,1,0,"ng-container",16),e.BQk()),2&J){const be=e.oxw(2),Be=e.MAs(3),we=e.MAs(5);e.xp6(1),e.Q6J("ngIf","single"===be.linkingMode)("ngIfThen",Be)("ngIfElse",we)}}function U(J,ve){1&J&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()(),e.BQk())}function oe(J,ve){1&J&&e.GkF(0)}function K(J,ve){1&J&&e.GkF(0)}function H(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"p-button",19),e.NdJ("onClick",function(){e.CHM(be);const we=e.oxw(2);return e.KtG(we.selectChild())}),e.qZA()}if(2&J){const be=e.oxw(2);e.Q6J("disabled",0===be.selectedChildTask.length)}}function D(J,ve){1&J&&(e.TgZ(0,"div",20),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function P(J,ve){if(1&J&&(e.ynx(0,6),e.YNc(1,y,3,0,"ng-container",7),e.YNc(2,w,6,0,"ng-container",7),e.YNc(3,V,2,3,"ng-container",7),e.YNc(4,U,6,0,"ng-container",7),e.BQk(),e.YNc(5,oe,1,0,"ng-container",8),e.YNc(6,K,1,0,"ng-container",8),e.YNc(7,H,1,1,"p-button",9),e.YNc(8,D,2,0,"div",10)),2&J){const be=e.oxw(),Be=e.MAs(7),we=e.MAs(9);e.Q6J("ngSwitch",be.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngTemplateOutlet",Be),e.xp6(1),e.Q6J("ngTemplateOutlet",we),e.xp6(1),e.Q6J("ngIf","multiply"===be.linkingMode),e.xp6(1),e.Q6J("ngIf",be.linkingInProgress)}}function Y(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"app-task-list-element",23),e.NdJ("onClick",function(){const ke=e.CHM(be).$implicit,X=e.oxw(2);return e.KtG(X.selectParent(ke.taskId))}),e.qZA()}2&J&&e.Q6J("item",ve.$implicit)("customClickHandler",!0)("inlined",!0)}function re(J,ve){if(1&J&&(e.TgZ(0,"div",21),e.YNc(1,Y,1,3,"app-task-list-element",22),e.qZA()),2&J){const be=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==be.pageOfTasks?null:be.pageOfTasks.content)}}function j(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"app-task-list-element",25),e.NdJ("checkChange",function(we){e.CHM(be);const ke=e.oxw(2);return e.KtG(ke.selectedChildTask=we)}),e.qZA()}if(2&J){const be=ve.$implicit,Be=e.oxw(2);e.Q6J("check",Be.selectedChildTask)("item",be)("customClickHandler",!0)("inlined",!0)("isHover",!1)}}function G(J,ve){if(1&J&&(e.TgZ(0,"div",21),e.YNc(1,j,1,5,"app-task-list-element",24),e.qZA()),2&J){const be=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==be.pageOfTasks?null:be.pageOfTasks.content)}}function ie(J,ve){1&J&&e._UZ(0,"app-task-status-chooser",33)}function Te(J,ve){if(1&J&&(e.TgZ(0,"div",26),e._UZ(1,"app-task-template-multi-selector",27),e.YNc(2,ie,1,0,"app-task-status-chooser",28),e._UZ(3,"input",29)(4,"app-employee-selector",30)(5,"app-data-range-input",31)(6,"app-task-tag-filter-input",32),e.qZA()),2&J){const be=e.oxw();e.Q6J("formGroup",be.mainFilterForm),e.xp6(1),e.Q6J("inline",!0),e.xp6(1),e.Q6J("ngIf",!be.onlyMy)}}function Me(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"p-paginator",34),e.NdJ("onPageChange",function(we){e.CHM(be);const ke=e.oxw();return e.KtG(ke.changePage(we))}),e.qZA()}if(2&J){const be=e.oxw();let Be;e.Q6J("alwaysShow",!0)("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(Be=null==be.pageOfTasks?null:be.pageOfTasks.totalElements)&&void 0!==Be?Be:0)}}const de=function(){return{width:"80vw"}},te=function(){return{"960px":"90vw","640px":"100vw"}};let ce=(()=>{class J{constructor(be,Be){this.api=be,this.confirm=Be,this.excludedTasks=[],this.header="",this.onlyMy=!1,this.onSelected=new e.vpe,this.onMultiplySelected=new e.vpe,this.isShow=!1,this.linkingMode="single",this.selectedChildTask=[],this.currentPage=0,this.loadingState=d.Gu.LOADING,this.linkingInProgress=!1,this.lastAppliedMainFilter={},this.dialogContentStyle={padding:"0 1rem 0 1rem",display:"grid",grid:"1fr min-content/ 1fr max-content",gridTemplateAreas:"'list filter''paginator paginator'",columnGap:"1rem"},this.mainFilterForm=new F.cw({searchPhrase:new F.NI(null),template:new F.NI([],[O.d.notEmpty]),status:new F.NI([d.hY.ACTIVE,d.hY.PROCESSING,d.hY.CLOSE],[O.d.notEmpty]),author:new F.NI(null),dateOfCreation:new F.NI(null),tags:new F.NI([])}),this.filters$=this.mainFilterForm.valueChanges.pipe((0,u.b)(1e3),(0,p.x)(),(0,x.U)(({searchPhrase:we,template:ke,status:X,author:q,dateOfCreation:pe,tags:_e})=>({searchPhrase:we,template:ke,status:X,author:q,dateOfCreation:pe,tags:_e})),(0,R.d)(1)),this.subscriptions=new Q.xf}ngOnInit(){this.subscriptions.addSubscription("filter",this.filters$.subscribe(be=>{this.loadingState=d.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(0,Object.assign(Object.assign({},be),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}open(be){this.isShow=!0,this.linkingMode=be}changePage(be){this.loadingState=d.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),(0,b.n)(this.filters$.pipe((0,s.P)())).then(Be=>this.api.getPageOfTasks(be.page,Object.assign(Object.assign({},Be),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler()))}loadHandler(){return{next:be=>{this.pageOfTasks=be,this.loadingState=be.totalElements>0?d.Gu.READY:d.Gu.EMPTY,this.mainFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=d.Gu.ERROR,this.mainFilterForm.enable({emitEvent:!1})}}}selectParent(be){this.onSelected.emit(be),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}selectChild(){this.onMultiplySelected.emit(this.selectedChildTask),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}closeHandler(){this.mainFilterForm.setValue({template:[],status:[d.hY.ACTIVE,d.hY.PROCESSING,d.hY.CLOSE],dateOfCreation:null,tags:[],author:"",searchPhrase:""}),this.pageOfTasks=void 0}}return J.\u0275fac=function(be){return new(be||J)(e.Y36(N.s),e.Y36(T.YP))},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-task-selecting-dialog"]],inputs:{excludedTasks:"excludedTasks",header:"header",onlyMy:"onlyMy"},outputs:{onSelected:"onSelected",onMultiplySelected:"onMultiplySelected"},decls:10,vars:12,consts:[[3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","contentStyle","header","visibleChange","onHide"],["pTemplate","content"],["parentTaskList",""],["childTaskList",""],["filter",""],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["styleClass","p-button-success","class","float-button","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",3,"disabled","onClick",4,"ngIf"],["class","loading-shader",4,"ngIf"],[1,"list","flexed","hcenter","vcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"list","flexed","hcenter","vcenter","flexed","hcenter","gap3"],[1,"caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],["styleClass","p-button-success","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",1,"float-button",3,"disabled","onClick"],[1,"loading-shader"],[1,"list"],[3,"item","customClickHandler","inlined","onClick",4,"ngFor","ngForOf"],[3,"item","customClickHandler","inlined","onClick"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange",4,"ngFor","ngForOf"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange"],[1,"filters",3,"formGroup"],["formControlName","template",3,"inline"],["formControlName","status",4,"ngIf"],["pInputText","","formControlName","searchPhrase","placeholder","\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"],["formControlName","author"],["formControlName","dateOfCreation"],["formControlName","tags",1,"full-width"],["formControlName","status"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447",1,"paginator",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"]],template:function(be,Be){1&be&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(ke){return Be.isShow=ke})("onHide",function(){return Be.closeHandler()}),e.YNc(1,P,9,9,"ng-template",1),e.qZA(),e.YNc(2,re,2,1,"ng-template",null,2,e.W1O),e.YNc(4,G,2,1,"ng-template",null,3,e.W1O),e.YNc(6,Te,7,3,"ng-template",null,4,e.W1O),e.YNc(8,Me,1,4,"ng-template",null,5,e.W1O)),2&be&&(e.Akn(e.DdM(10,de)),e.Q6J("visible",Be.isShow)("breakpoints",e.DdM(11,te))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("contentStyle",Be.dialogContentStyle)("header",Be.header))},styles:[".filters[_ngcontent-%COMP%]{grid-area:filter;display:flex;flex-direction:column;gap:.5rem;position:sticky;top:0;height:max-content;padding-bottom:1rem}.list[_ngcontent-%COMP%]{grid-area:list;display:flex;flex-direction:column}.paginator[_ngcontent-%COMP%]{grid-area:paginator;position:sticky;bottom:0}.loading-shader[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:1;background-color:#fff9;top:0;left:0;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);border-radius:1rem}.float-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}"]}),J})()},4881:(dn,pt,C)=>{"use strict";C.d(pt,{E:()=>Tn});var e=C(5e3),d=C(7384),u=C(383),p=C(2382),x=C(4004),R=C(4488),b=C(8738),s=C(8007),F=C(963);const O=["tagsPreview"],Q=["typeChangePanel"],N=["categoryChangePanel"],T=["contextMenuPanel"];function y(qt,xt){if(1&qt){const Ct=e.EpF();e.TgZ(0,"p-checkbox",43),e.NdJ("click",function(lt){return lt.stopPropagation()})("ngModelChange",function(lt){e.CHM(Ct);const $e=e.oxw();return e.KtG($e.checkChange.emit(lt))})("ngModelChange",function(lt){e.CHM(Ct);const $e=e.oxw();return e.KtG($e.check=lt)}),e.qZA()}if(2&qt){const Ct=e.oxw();e.Q6J("ngModel",Ct.check)("name",Ct.checkGroup)("value",null==Ct.item?null:Ct.item.taskId)}}function w(qt,xt){1&qt&&e.GkF(0)}function k(qt,xt){1&qt&&e.GkF(0)}function V(qt,xt){1&qt&&e.GkF(0)}const U=function(qt){return{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:qt}};function oe(qt,xt){if(1&qt){const Ct=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(lt){e.CHM(Ct),e.oxw();const $e=e.MAs(48),Lt=e.MAs(45);return lt.stopPropagation(),$e.toggle(lt),e.KtG(Lt.hide())}),e.YNc(1,V,1,0,"ng-container",5),e.qZA()}if(2&qt){const Ct=e.oxw(),me=e.MAs(39);let lt;e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.VKq(2,U,null!==(lt=null==Ct.item||null==Ct.item.currentDirectory?null:Ct.item.currentDirectory.name)&&void 0!==lt?lt:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"))}}function K(qt,xt){1&qt&&e.GkF(0)}const H=function(qt){return{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430",value:qt}};function D(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,K,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&qt){const Ct=e.oxw(2),me=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.VKq(5,H,e.xi3(2,2,null==Ct.item?null:Ct.item.actualFrom,"dd/MM/yyyy HH:mm")))}}function P(qt,xt){1&qt&&e.GkF(0)}const Y=function(qt,xt){return{label:qt,value:xt}};function re(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,P,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&qt){const Ct=e.oxw(2),me=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.WLB(5,Y,Ct.isExpired?"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u0430":"\u0421\u0440\u043e\u043a",e.xi3(2,2,null==Ct.item?null:Ct.item.actualTo,"dd/MM/yyyy HH:mm")))}}function j(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,D,3,7,"ng-container",8),e.YNc(2,re,3,8,"ng-container",8),e.BQk()),2&qt){const Ct=e.oxw();e.xp6(1),e.Q6J("ngIf",null==Ct.item?null:Ct.item.actualFrom),e.xp6(1),e.Q6J("ngIf",(null==Ct.item?null:Ct.item.actualTo)&&!(null!=Ct.item&&Ct.item.actualFrom))}}function G(qt,xt){if(1&qt){const Ct=e.EpF();e.TgZ(0,"app-task-tag-inline-selector",45),e.NdJ("onShow",function(){e.CHM(Ct);const lt=e.oxw();return e.KtG(lt.onStartEdit.emit(lt.item))})("onHide",function(){e.CHM(Ct);const lt=e.oxw();return e.KtG(lt.onStopEdit.emit(lt.item))}),e.qZA()}if(2&qt){const Ct=e.oxw();e.Q6J("formControl",Ct.tagsControl)}}function ie(qt,xt){1&qt&&e.GkF(0)}function Te(qt,xt){1&qt&&e.GkF(0)}const Me=function(qt){return{$implicit:qt}};function de(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,Te,1,0,"ng-container",5),e.BQk()),2&qt){const Ct=xt.$implicit;e.oxw(2);const me=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.VKq(2,Me,Ct))}}function te(qt,xt){if(1&qt&&(e.TgZ(0,"div",46),e.YNc(1,de,2,4,"ng-container",47),e.qZA()),2&qt){const Ct=e.oxw();e.xp6(1),e.Q6J("ngForOf",Ct.item.lastComments)}}function ce(qt,xt){if(1&qt){const Ct=e.EpF();e.TgZ(0,"div",48),e.NdJ("dragstart",function(lt){return lt.stopPropagation(),lt.preventDefault()}),e.TgZ(1,"textarea",49),e.NdJ("keydown.control.enter",function(){e.CHM(Ct);const lt=e.oxw();return e.KtG(lt.sendComment())})("focus",function(){e.CHM(Ct);const lt=e.oxw();return e.KtG(lt.onStartEdit.emit(lt.item))})("blur",function(){e.CHM(Ct);const lt=e.oxw();return e.KtG(lt.onStopEdit.emit(lt.item))})("click",function(lt){return lt.stopPropagation()}),e.qZA(),e.TgZ(2,"p-button",50),e.NdJ("onClick",function(lt){e.CHM(Ct);const $e=e.oxw();return lt.stopPropagation(),e.KtG($e.sendComment())}),e.qZA()()}if(2&qt){const Ct=e.oxw();e.Q6J("draggable",!0),e.xp6(1),e.Q6J("autoResize",!0)("rows",1)("formControl",Ct.commentInputControl)("readonly",Ct.commentSending),e.xp6(1),e.Q6J("loading",Ct.commentSending)}}function J(qt,xt){if(1&qt){const Ct=e.EpF();e.TgZ(0,"div",51),e.NdJ("click",function(lt){e.CHM(Ct);const $e=e.oxw();return lt.stopPropagation(),e.KtG($e.openTaskInOldTracker(null==$e.item?null:$e.item.oldTrackerTaskId))}),e._UZ(1,"span",52),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&qt){const Ct=e.oxw();e.xp6(3),e.Oqu(null==Ct.item?null:Ct.item.oldTrackerTaskId)}}const ve=function(){return{whiteSpace:"pre-wrap",wordWrap:"break-word",textAlign:"left"}};function be(qt,xt){if(1&qt&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",55),e._uU(5),e.qZA(),e.TgZ(6,"div",56),e._uU(7),e.qZA()()),2&qt){const Ct=xt.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,5,Ct.created,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",null==Ct.creator?null:Ct.creator.fullName,": "),e.xp6(1),e.Akn(e.DdM(8,ve)),e.xp6(1),e.hij(" ",Ct.simpleText," ")}}function Be(qt,xt){if(1&qt&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&qt){const Ct=xt.$implicit;e.Udp("background-color",Ct.color),e.xp6(1),e.Oqu(Ct.name)}}function we(qt,xt){if(1&qt){const Ct=e.EpF();e.TgZ(0,"div",61),e.NdJ("mouseenter",function(lt){e.CHM(Ct);const $e=e.oxw(2);return e.KtG($e.tagsPreviewShow(lt))})("mouseleave",function(){e.CHM(Ct);const lt=e.oxw(2);return e.KtG(lt.tagsPreviewHide())}),e._uU(1),e.qZA()}if(2&qt){const Ct=e.oxw(2);e.xp6(1),e.hij("",Ct.remainingNumberOfTags,"+ ")}}function ke(qt,xt){if(1&qt&&(e.TgZ(0,"div",57),e.YNc(1,Be,2,3,"div",58),e.ALo(2,"slice"),e.YNc(3,we,2,1,"div",59),e.qZA()),2&qt){const Ct=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,null==Ct.item?null:Ct.item.tags,0,4))("ngForTrackBy",Ct.trackByTag),e.xp6(2),e.Q6J("ngIf",Ct.isMoreTags)}}function X(qt,xt){if(1&qt&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&qt){const Ct=xt.$implicit;e.Udp("background-color",Ct.color),e.xp6(1),e.Oqu(Ct.name)}}function q(qt,xt){if(1&qt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&qt){const Ct=e.oxw().$implicit;e.xp6(1),e.Oqu(null==Ct?null:Ct.textRepresentation)}}function pe(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,q,2,1,"span",8),e.BQk()),2&qt){const Ct=xt.index,me=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ct<me.fieldCountArray.length)}}function _e(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,pe,2,1,"ng-container",64),e.BQk()),2&qt){const Ct=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==Ct.item?null:Ct.item.listItemFields)("ngForTrackBy",Ct.trackByField)}}function Xe(qt,xt){if(1&qt){const Ct=e.EpF();e.ynx(0),e.TgZ(1,"app-select-field-to-view-button",65),e.NdJ("selectView",function(lt){e.CHM(Ct);const $e=e.oxw(3);return e.KtG($e.selectFieldToView.emit(lt))}),e.qZA(),e.BQk()}if(2&qt){const Ct=xt.$implicit,me=e.oxw(3);e.xp6(1),e.Q6J("fields",me.wireframeFieldsList)("index",Ct)}}function ct(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,Xe,2,2,"ng-container",64),e.BQk()),2&qt){const Ct=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",Ct.fieldCountArray)("ngForTrackBy",Ct.trackByIndex)}}function ot(qt,xt){if(1&qt&&(e.TgZ(0,"div",63),e.YNc(1,_e,2,2,"ng-container",8),e.YNc(2,ct,2,2,"ng-container",8),e.qZA()),2&qt){const Ct=e.oxw();e.Q6J("ngClass",null==Ct.item||null==Ct.item.modelWireframe?null:Ct.item.modelWireframe.listViewType),e.xp6(1),e.Q6J("ngIf",!Ct.viewExample),e.xp6(1),e.Q6J("ngIf",Ct.viewExample)}}function Zt(qt,xt){if(1&qt&&(e.TgZ(0,"span",66)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",67),e._uU(4),e.qZA()()),2&qt){const Ct=xt.label,me=xt.value,lt=e.oxw();e.xp6(2),e.Oqu(Ct),e.xp6(1),e.Q6J("ngClass",lt.statusColor),e.xp6(1),e.Oqu(me)}}function Dt(qt,xt){1&qt&&e.GkF(0)}const Cn=function(qt){return{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",value:qt}};function Xt(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,Dt,1,0,"ng-container",5),e.BQk()),2&qt){const Ct=e.oxw(2),me=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.VKq(2,Cn,null==Ct.item||null==Ct.item.responsible?null:Ct.item.responsible.fullName))}}function jt(qt,xt){if(1&qt&&e.YNc(0,Xt,2,4,"ng-container",8),2&qt){const Ct=e.oxw();e.Q6J("ngIf",null==Ct.item?null:Ct.item.responsible)}}function ht(qt,xt){1&qt&&e.GkF(0)}const ut=function(qt){return{label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",value:qt}};function xe(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,ht,1,0,"ng-container",5),e.BQk()),2&qt){const Ct=e.oxw(2),me=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.VKq(2,ut,Ct.actualWorkLogWorkers))}}function De(qt,xt){if(1&qt&&e.YNc(0,xe,2,4,"ng-container",8),2&qt){const Ct=e.oxw();e.Q6J("ngIf",Ct.actualWorkLogWorkers)}}function We(qt,xt){if(1&qt&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&qt){const Ct=e.oxw().ngIf;e.xp6(1),e.Q6J("model",Ct)}}function gt(qt,xt){1&qt&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432"),e.qZA(),e.BQk())}function Tt(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,We,2,1,"ng-container",8),e.YNc(2,gt,3,0,"ng-container",8),e.BQk()),2&qt){const Ct=xt.ngIf;e.xp6(1),e.Q6J("ngIf",Ct&&Ct.length>0),e.xp6(1),e.Q6J("ngIf",Ct&&0===Ct.length)}}function Ft(qt,xt){if(1&qt&&(e.YNc(0,Tt,3,2,"ng-container",68),e.ALo(1,"async")),2&qt){const Ct=e.oxw(),me=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,Ct.typesMenuModel$))("ngIfElse",me)}}function Ot(qt,xt){if(1&qt&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&qt){const Ct=e.oxw().ngIf;e.xp6(1),e.Q6J("model",Ct)}}function Oe(qt,xt){1&qt&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"),e.qZA(),e.BQk())}function et(qt,xt){if(1&qt&&(e.ynx(0),e.YNc(1,Ot,2,1,"ng-container",8),e.YNc(2,Oe,3,0,"ng-container",8),e.BQk()),2&qt){const Ct=xt.ngIf;e.xp6(1),e.Q6J("ngIf",Ct&&Ct.length>0),e.xp6(1),e.Q6J("ngIf",Ct&&0===Ct.length)}}function Ne(qt,xt){if(1&qt&&(e.YNc(0,et,3,2,"ng-container",68),e.ALo(1,"async")),2&qt){const Ct=e.oxw(),me=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,Ct.categoryMenuModel$))("ngIfElse",me)}}function yt(qt,xt){if(1&qt&&e._UZ(0,"p-menu",69),2&qt){const Ct=e.oxw();e.Q6J("model",Ct.contextMenuModel)}}function ee(qt,xt){1&qt&&e._UZ(0,"p-progressSpinner",71)}const Ze=function(qt,xt,Ct){return{processing:qt,inlined:xt,hovered:Ct}},Ce=function(qt){return["/task",qt]},ft=function(qt){return{label:"\u041a\u043b\u0430\u0441\u0441",value:qt}},an=function(qt){return{label:"\u0422\u0438\u043f",value:qt}};let Tn=(()=>{class qt{constructor(Ct,me,lt,$e){this.taskService=Ct,this.api=me,this.rt=lt,this.commentCachingService=$e,this.viewExample=!1,this.wireframeFieldsList=[],this.checkChange=new e.vpe,this.checkGroup="task",this.selectFieldToView=new e.vpe,this.isHover=!0,this.inlined=!1,this.onClick=new e.vpe,this.customClickHandler=!1,this.isCommentInput=!1,this.onStartEdit=new e.vpe,this.onStopEdit=new e.vpe,this.isWide$=(0,u.cy)("(min-width: 1024px)"),this.statusClass={},this.itemClass={},this.commentInputControl=new p.NI(""),this.commentSending=!1,this.dotAnimation=u.xn,this.tagsControl=new p.NI([]),this.isBlockBackground=!1,this.contextMenuModel=[],this.contextMenuTargetX=0,this.contextMenuTargetY=0,this.isAppointInstallersDialogVisible=!1,this.isShowEditTaskDialogVisible=!1,this.isShowTaskSchedulingDialogVisible=!1,this.taskSchedulingType="from",this.subscription=new u.xf}get contextMenuTargetStyle(){return{top:this.contextMenuTargetY+"px",left:this.contextMenuTargetX+"px"}}get fieldCountArray(){var Ct,me;switch(null===(me=null===(Ct=this.item)||void 0===Ct?void 0:Ct.modelWireframe)||void 0===me?void 0:me.listViewType){case"SIMPLE":return[1];case"COMPOSITE":return[1,2];case"DETAILED":return[1,2,3];default:return[]}}get statusColor(){var Ct,me,lt;return{"text-primary":(null===(Ct=this.item)||void 0===Ct?void 0:Ct.taskStatus)===d.hY.ACTIVE,"text-orange-400":(null===(me=this.item)||void 0===me?void 0:me.taskStatus)===d.hY.PROCESSING,"text-bluegray-200":(null===(lt=this.item)||void 0===lt?void 0:lt.taskStatus)===d.hY.CLOSE}}get isExpired(){let Ct=!1;return this.item&&this.item.actualTo&&(Ct=new Date(this.item.actualTo).getTime()<(new Date).getTime()),Ct}get statusBgColor(){if(this.item){const{taskStatus:Ct}=this.item;return{"bg-red-500":Ct===d.hY.ACTIVE&&this.isExpired,"bg-primary":Ct===d.hY.ACTIVE&&!this.isExpired,"bg-orange-500":Ct===d.hY.PROCESSING,"bg-bluegray-200":Ct===d.hY.CLOSE}}return null}get taskFields(){var Ct,me,lt,$e,Lt,je;const sn=["LARGE_TEXT","COUNTING_LIVES"];return{inline:null!==(lt=null===(me=null===(Ct=this.item)||void 0===Ct?void 0:Ct.fields)||void 0===me?void 0:me.filter(fn=>!sn.includes(fn.wireframeFieldType)))&&void 0!==lt?lt:[],block:null!==(je=null===(Lt=null===($e=this.item)||void 0===$e?void 0:$e.fields)||void 0===Lt?void 0:Lt.filter(fn=>sn.includes(fn.wireframeFieldType)))&&void 0!==je?je:[]}}get isMoreTags(){var Ct;return!(null===(Ct=this.item)||void 0===Ct||!Ct.tags)&&this.item.tags.length>4}get remainingNumberOfTags(){var Ct;return null!==(Ct=this.item)&&void 0!==Ct&&Ct.tags?this.item.tags.length-2:0}get bodyClass(){var Ct,me,lt,$e,Lt,je;return{simple:"SIMPLE"===(null===(me=null===(Ct=this.item)||void 0===Ct?void 0:Ct.modelWireframe)||void 0===me?void 0:me.listViewType),composite:"COMPOSITE"===(null===($e=null===(lt=this.item)||void 0===lt?void 0:lt.modelWireframe)||void 0===$e?void 0:$e.listViewType),detailed:"DETAILED"===(null===(je=null===(Lt=this.item)||void 0===Lt?void 0:Lt.modelWireframe)||void 0===je?void 0:je.listViewType)}}get actualWorkLogWorkers(){var Ct,me;return null!==(me=null===(Ct=this.actualWorkLog)||void 0===Ct?void 0:Ct.employees.map(lt=>lt.fullName).join(", "))&&void 0!==me?me:""}trackByIndex(Ct,me){return Ct}trackByTag(Ct,me){return me.taskTagId+me.name+me.color}trackByField(Ct,me){return me?me.id+me.name+me.textRepresentation:""}ngOnInit(){var Ct,me,lt;!(null===(Ct=this.item)||void 0===Ct)&&Ct.taskStatus&&(this.statusClass={active:this.item.taskStatus===d.hY.ACTIVE,processed:this.item.taskStatus===d.hY.PROCESSING,close:this.item.taskStatus===d.hY.CLOSE}),this.updateActualWorkLog(),this.itemClass=Object.assign({"view-example":this.viewExample,hovered:this.isHover,selected:this.check},this.statusClass),!(null===(me=this.item)||void 0===me)&&me.taskId&&this.commentInputControl.setValue(this.commentCachingService.read(null===(lt=this.item)||void 0===lt?void 0:lt.taskId)),this.subscription.addSubscription("comInp",this.commentInputControl.valueChanges.subscribe($e=>{var Lt;null!==(Lt=this.item)&&void 0!==Lt&&Lt.taskId&&this.commentCachingService.write(this.item.taskId,null!=$e?$e:"")}))}tagsPreviewShow(Ct){var me;null===(me=this.tagsPreview)||void 0===me||me.show(Ct)}tagsPreviewHide(){setTimeout(()=>{var Ct;null===(Ct=this.tagsPreview)||void 0===Ct||Ct.hide()})}getFieldValue(Ct){return this.item&&null!=this.item.listItemFields[Ct]?this.item.listItemFields[Ct].textRepresentation:""}ngOnChanges(Ct){const{item:me,externalUpdater:lt}=Ct;me&&me.currentValue&&(this.tagsControl.setValue(me.currentValue.tags,{emitEvent:!1}),this.typesMenuModel$=this.api.getAvailableTaskTypesToChange(me.currentValue.taskId).pipe((0,x.U)($e=>$e.map(Lt=>({label:Lt.label,command:()=>{var je;this.api.changeTaskStage(me.currentValue.taskId,Lt.stageId).subscribe(),null===(je=this.typeChangePanel)||void 0===je||je.hide()}})))),this.categoryMenuModel$=this.api.getAvailableDirectoriesToChange(me.currentValue.taskId).pipe((0,x.U)($e=>$e.map(Lt=>({label:Lt.name,command:()=>{var je;this.api.moveTaskToDirectory([me.currentValue.taskId],Lt.taskTypeDirectoryId).subscribe(),null===(je=this.categoryChangePanel)||void 0===je||je.hide()}})))),this.contextMenuModel=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",disabled:me.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var $e;this.isShowEditTaskDialogVisible=!0,null===($e=this.contextMenuPanel)||void 0===$e||$e.hide()}},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-event_available",disabled:me.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var $e;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="from",null===($e=this.contextMenuPanel)||void 0===$e||$e.hide()}},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-event_available",disabled:me.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var $e;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="to",null===($e=this.contextMenuPanel)||void 0===$e||$e.hide()}},{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",disabled:me.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var $e;this.isAppointInstallersDialogVisible=!0,null===($e=this.contextMenuPanel)||void 0===$e||$e.hide()}}],this.updateActualWorkLog(),this.subscription.addSubscription("updateObs",lt&&lt.currentValue?lt.currentValue.subscribe(Lt=>this.item=Lt):this.rt.taskUpdated(me.currentValue.taskId).subscribe($e=>this.item=$e)),this.subscription.addSubscription("chTags",this.tagsControl.valueChanges.subscribe($e=>this.api.setTaskTags(me.currentValue.taskId,null!=$e?$e:[]).subscribe())))}ngOnDestroy(){this.subscription.unsubscribeAll()}sendComment(){var Ct,me;null===(Ct=this.item)||void 0===Ct||!Ct.taskId||""===this.commentInputControl.value||(this.commentSending=!0,this.api.createComment(this.commentInputControl.value,null===(me=this.item)||void 0===me?void 0:me.taskId,null).subscribe({next:()=>{var lt,$e;this.commentSending=!1,this.commentInputControl.setValue(""),null!==(lt=this.item)&&void 0!==lt&&lt.taskId&&this.commentCachingService.flush(null===($e=this.item)||void 0===$e?void 0:$e.taskId)},error:()=>this.commentSending=!1}))}callToPhone(Ct){this.api.callToPhone(Ct.value).subscribe({})}openTaskInOldTracker(Ct){Ct&&window.open(`http://tracker.vdonsk.ru/main.php?mode=show_obji&obji=${Ct}&from_cat=1`,"_blank")}positioningContextMenuTarget(Ct){Ct.preventDefault(),this.contextMenuTargetX=Ct.clientX,this.contextMenuTargetY=Ct.clientY}startEdit(){this.isBlockBackground=!0,this.onStartEdit.emit(this.item)}stopEdit(){this.isBlockBackground=!1,!this.isAppointInstallersDialogVisible&&!this.isShowEditTaskDialogVisible&&!this.isShowTaskSchedulingDialogVisible&&this.onStopEdit.emit(this.item)}updateActualWorkLog(){var Ct;(null===(Ct=this.item)||void 0===Ct?void 0:Ct.taskStatus)===d.hY.PROCESSING&&this.api.getActiveWorkLogByTaskId(this.item.taskId).subscribe({next:me=>{this.actualWorkLog=me}})}}return qt.\u0275fac=function(Ct){return new(Ct||qt)(e.Y36(R.U),e.Y36(b.s),e.Y36(s.U),e.Y36(F.f))},qt.\u0275cmp=e.Xpm({type:qt,selectors:[["app-task-list-element"]],viewQuery:function(Ct,me){if(1&Ct&&(e.Gf(O,5),e.Gf(Q,5),e.Gf(N,5),e.Gf(T,5)),2&Ct){let lt;e.iGM(lt=e.CRH())&&(me.tagsPreview=lt.first),e.iGM(lt=e.CRH())&&(me.typeChangePanel=lt.first),e.iGM(lt=e.CRH())&&(me.categoryChangePanel=lt.first),e.iGM(lt=e.CRH())&&(me.contextMenuPanel=lt.first)}},inputs:{item:"item",viewExample:"viewExample",wireframeFieldsList:"wireframeFieldsList",check:"check",checkGroup:"checkGroup",isHover:"isHover",inlined:"inlined",customClickHandler:"customClickHandler",isCommentInput:"isCommentInput",externalUpdater:"externalUpdater"},outputs:{checkChange:"checkChange",selectFieldToView:"selectFieldToView",onClick:"onClick",onStartEdit:"onStartEdit",onStopEdit:"onStopEdit"},features:[e.TTD],decls:62,vars:60,consts:[[1,"flex","flex-column","bg-white","outline-none","cursor-pointer","hover:bg-gray-50","relative","pl-1",3,"ngClass","routerLink","click","contextmenu"],["taskWrapper",""],[1,"absolute","top-0","left-0","h-full","opacity-50",3,"ngClass"],[1,"flex","gap-3","p-3","border-bottom-1","border-bluegray-50","align-items-center"],[3,"ngModel","name","value","click","ngModelChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["class","hover:text-orange-500",3,"click",4,"ngIf"],[4,"ngIf"],[3,"formControl","onShow","onHide",4,"ngIf"],[1,"stretched"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"task","isTaskBody"],["class","border-top-1 border-bottom-1 border-bluegray-100 p-3 gap-1 flex flex-column",4,"ngIf"],["class","flex relative",3,"draggable","dragstart",4,"ngIf"],[1,"flex","p-3","gap-2"],["class","flex align-items-center gap-1 text-bluegray-400 hover:text-primary text-sm",3,"click",4,"ngIf"],[1,"flex-grow-1"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"font-semibold","text-sm",3,"ngClass"],["lastCommentTemplate",""],["statusTags",""],["hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"appendTo"],["tagsPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["bodyView",""],["headerItem",""],["responsibleEmployee",""],["workersEmployee",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onShow","onHide"],["typeChangePanel",""],["pTemplate","content"],["categoryChangePanel",""],[1,"fixed","max-w-0","max-h-0","pointer-events-none"],["contextMenuTarget",""],[3,"visible","taskId","visibleChange"],[3,"visible","task","visibleChange"],[3,"visible","schedulingType","taskId","visibleChange"],["contextMenuPanel",""],["loadingTemplate",""],[3,"blocked","baseZIndex","autoZIndex"],[1,"w-full","h-full",3,"contextmenu"],[3,"ngModel","name","value","click","ngModelChange"],[1,"hover:text-orange-500",3,"click"],[3,"formControl","onShow","onHide"],[1,"border-top-1","border-bottom-1","border-bluegray-100","p-3","gap-1","flex","flex-column"],[4,"ngFor","ngForOf"],[1,"flex","relative",3,"draggable","dragstart"],["pInputTextarea","","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",1,"mt-2","mx-3","flex-grow-1",3,"autoResize","rows","formControl","readonly","keydown.control.enter","focus","blur","click"],["icon","mdi-send","styleClass","p-button-text p-button-icon",1,"absolute","bottom-0","right-0","mr-3",3,"loading","onClick"],[1,"flex","align-items-center","gap-1","text-bluegray-400","hover:text-primary","text-sm",3,"click"],[1,"mdi-sync"],[1,"flex","gap-2"],[1,"text-sm","white-space-nowrap","text-bluegray-400","line-height-4"],[1,"text-sm","white-space-nowrap","text-primary-600","line-height-4"],[1,"text-bluegray-500"],[1,"tags-view"],["class","tags-view-item small",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item small",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-item","small"],[1,"tags-view-item","small",3,"mouseenter","mouseleave"],[1,"tags-view-item"],[1,"task-item-body",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"fields","index","selectView"],[1,"flex","flex-column","text-sm"],[1,"font-semibold",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"model"],[1,"p-4","text-bluegray-300","font-bold"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"]],template:function(Ct,me){if(1&Ct){const lt=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("click",function(){return me.onClick.emit(me.item)})("contextmenu",function(Lt){e.CHM(lt);const je=e.MAs(51),sn=e.MAs(56);return me.positioningContextMenuTarget(Lt),e.KtG(sn.toggle(Lt,je))}),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,y,1,3,"p-checkbox",4),e.YNc(5,w,1,0,"ng-container",5),e.TgZ(6,"div",6),e.NdJ("click",function(Lt){e.CHM(lt);const je=e.MAs(45),sn=e.MAs(48);return Lt.stopPropagation(),"CLOSE"!==(null==me.item?null:me.item.taskStatus)&&je.toggle(Lt),e.KtG(sn.hide())}),e.YNc(7,k,1,0,"ng-container",5),e.qZA(),e.YNc(8,oe,2,4,"div",7),e.YNc(9,j,3,2,"ng-container",8),e.YNc(10,G,1,1,"app-task-tag-inline-selector",9),e._UZ(11,"div",10),e.YNc(12,ie,1,0,"ng-container",11),e.qZA(),e._UZ(13,"app-task-fields-table-view",12),e.YNc(14,te,2,1,"div",13),e.YNc(15,ce,3,6,"div",14),e.TgZ(16,"div",15),e.YNc(17,J,4,1,"div",16),e._UZ(18,"div",17),e.TgZ(19,"span",18),e._uU(20),e.qZA(),e.TgZ(21,"span",19),e._uU(22),e.ALo(23,"taskStatus"),e.qZA(),e.TgZ(24,"span",18),e._uU(25),e.ALo(26,"date"),e.qZA()()(),e.YNc(27,be,8,9,"ng-template",null,20,e.W1O),e.YNc(29,ke,4,7,"ng-template",null,21,e.W1O),e.TgZ(31,"p-overlayPanel",22,23)(33,"div",24),e.YNc(34,X,2,3,"div",25),e.ALo(35,"slice"),e.qZA()(),e.YNc(36,ot,3,3,"ng-template",null,26,e.W1O),e.YNc(38,Zt,5,3,"ng-template",null,27,e.W1O),e.YNc(40,jt,1,1,"ng-template",null,28,e.W1O),e.YNc(42,De,1,1,"ng-template",null,29,e.W1O),e.TgZ(44,"p-overlayPanel",30,31),e.NdJ("onShow",function(){return me.startEdit()})("onHide",function(){return me.stopEdit()}),e.YNc(46,Ft,2,4,"ng-template",32),e.qZA(),e.TgZ(47,"p-overlayPanel",30,33),e.NdJ("onShow",function(){return me.startEdit()})("onHide",function(){return me.stopEdit()}),e.YNc(49,Ne,2,4,"ng-template",32),e.qZA(),e._UZ(50,"div",34,35),e.TgZ(52,"app-appoint-installers-dialog",36),e.NdJ("visibleChange",function(Lt){return me.isAppointInstallersDialogVisible=Lt})("visibleChange",function(Lt){return!Lt&&me.stopEdit()}),e.qZA(),e.TgZ(53,"app-edit-task-dialog",37),e.NdJ("visibleChange",function(Lt){return me.isShowEditTaskDialogVisible=Lt})("visibleChange",function(Lt){return!Lt&&me.stopEdit()}),e.qZA(),e.TgZ(54,"app-task-scheduling-dialog",38),e.NdJ("visibleChange",function(Lt){return me.isShowTaskSchedulingDialogVisible=Lt})("visibleChange",function(Lt){return!Lt&&me.stopEdit()}),e.qZA(),e.TgZ(55,"p-overlayPanel",30,39),e.NdJ("onShow",function(){return me.startEdit()})("onHide",function(){return me.stopEdit()}),e.YNc(57,yt,1,1,"ng-template",32),e.qZA(),e.YNc(58,ee,1,0,"ng-template",null,40,e.W1O),e.TgZ(60,"p-blockUI",41)(61,"div",42),e.NdJ("contextmenu",function(Lt){return Lt.stopPropagation(),Lt.preventDefault()}),e.qZA()()}if(2&Ct){const lt=e.MAs(39),$e=e.MAs(41),Lt=e.MAs(43);e.Q6J("ngClass",e.kEZ(50,Ze,"PROCESSING"===(null==me.item?null:me.item.taskStatus),me.inlined,me.isHover))("routerLink",me.viewExample||me.customClickHandler?null:e.VKq(54,Ce,null==me.item?null:me.item.taskId)),e.xp6(2),e.Udp("width",".3rem"),e.Q6J("ngClass",me.statusBgColor),e.xp6(2),e.Q6J("ngIf",me.check),e.xp6(1),e.Q6J("ngTemplateOutlet",lt)("ngTemplateOutletContext",e.VKq(56,ft,null==me.item||null==me.item.modelWireframe?null:me.item.modelWireframe.name)),e.xp6(1),e.Tol("CLOSE"!==(null==me.item?null:me.item.taskStatus)?"hover:text-orange-500":null),e.xp6(1),e.Q6J("ngTemplateOutlet",lt)("ngTemplateOutletContext",e.VKq(58,an,null==me.item||null==me.item.currentStage?null:me.item.currentStage.label)),e.xp6(1),e.Q6J("ngIf","ACTIVE"===(null==me.item?null:me.item.taskStatus)),e.xp6(1),e.Q6J("ngIf",(null==me.item?null:me.item.actualFrom)||(null==me.item?null:me.item.actualTo)),e.xp6(1),e.Q6J("ngIf",!me.inlined),e.xp6(2),e.Q6J("ngIf","PROCESSING"===(null==me.item?null:me.item.taskStatus))("ngIfThen",Lt)("ngIfElse",$e),e.xp6(1),e.Q6J("task",me.item)("isTaskBody",!1),e.xp6(1),e.Q6J("ngIf",me.item&&me.item.lastComments&&me.item.lastComments.length>0&&!me.inlined),e.xp6(1),e.Q6J("ngIf",me.isCommentInput&&"CLOSE"!==(null==me.item?null:me.item.taskStatus)),e.xp6(2),e.Q6J("ngIf",null==me.item?null:me.item.oldTrackerTaskId),e.xp6(3),e.hij("\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null==me.item||null==me.item.creator?null:me.item.creator.fullName,""),e.xp6(1),e.Q6J("ngClass",me.statusColor),e.xp6(1),e.Oqu(e.lcZ(23,42,me.item)),e.xp6(3),e.Oqu(e.xi3(26,44,null==me.item?null:me.item.created,"dd-MM-yyyy HH:mm")),e.xp6(6),e.Q6J("appendTo","body"),e.xp6(3),e.Q6J("ngForOf",e.xi3(35,47,null==me.item?null:me.item.tags,2))("ngForTrackBy",me.trackByTag),e.xp6(16),e.Akn(me.contextMenuTargetStyle),e.xp6(2),e.Q6J("visible",me.isAppointInstallersDialogVisible)("taskId",null==me.item?null:me.item.taskId),e.xp6(1),e.Q6J("visible",me.isShowEditTaskDialogVisible)("task",me.item),e.xp6(1),e.Q6J("visible",me.isShowTaskSchedulingDialogVisible)("schedulingType",me.taskSchedulingType)("taskId",null==me.item?null:me.item.taskId),e.xp6(6),e.Q6J("blocked",me.isBlockBackground)("baseZIndex",1101)("autoZIndex",!1)}},styles:["[_nghost-%COMP%]{width:100%;display:block;text-align:initial}.task-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:1rem;gap:.5rem;transition:box-shadow .1s ease-in-out;cursor:pointer;background-color:#fff;outline-offset:-1px}.task-item[_ngcontent-%COMP%]:not(.inlined){border:1px solid var(--bgc-300);border-radius:var(--br-200)}.task-item.inlined[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-300)}.task-item.checking[_ngcontent-%COMP%]{grid:auto-flow/min-content 1fr}.task-item.hovered[_ngcontent-%COMP%]:not(.inlined):hover{box-shadow:0 0 .3rem var(--mc-200)}.task-item.hovered.inlined[_ngcontent-%COMP%]:hover{outline:1px solid var(--mc-200)}.task-item[_ngcontent-%COMP%]:active{background-color:var(--bgc-001)}.task-item.processing[_ngcontent-%COMP%]{border:1px solid var(--warm-400)}.task-item-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.task-item-header[_ngcontent-%COMP%]   .status-caption[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.task-item-header[_ngcontent-%COMP%]   .status-caption.active[_ngcontent-%COMP%]{color:var(--mc-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.processing[_ngcontent-%COMP%]{color:var(--warm-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.close[_ngcontent-%COMP%]{color:var(--tc-400)}.task-item-body[_ngcontent-%COMP%]{row-gap:.3rem;column-gap:.8rem;font-size:.9rem;color:var(--tc-700);margin:0 1rem}.task-item-body.SIMPLE[_ngcontent-%COMP%]{display:flex}.task-item-body.COMPOSITE[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr}.task-item-body.COMPOSITE[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.task-item-body.DETAILED[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/fit-content(50%) 1fr}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;grid-area:2/1/3/3}.task-item-last-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.4rem .8rem;gap:.5rem;font-size:.9rem;color:var(--tc-600);margin:0 1rem;border-radius:.8rem;background-color:var(--bgc-200)}.task-item-last-comment[_ngcontent-%COMP%] > .autor[_ngcontent-%COMP%]{color:var(--tc-500);white-space:nowrap}.task-item-last-comment[_ngcontent-%COMP%] > .comment[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:min-content;font-size:.9rem;font-weight:600;color:var(--tc-600)}.with-label[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.with-label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin-left:1.5rem;color:var(--tc-700)}"]}),qt})()},1412:(dn,pt,C)=>{"use strict";C.d(pt,{t:()=>Me});var e=C(2382),d=C(2076),u=C(5577),p=C(4004),x=C(9300),R=C(383),b=C(5e3),s=C(8738),F=C(8007),O=C(8028),Q=C(9808),N=C(4119),T=C(6198),y=C(5787),w=C(1828);const k=function(de){return{disabled:de}};function V(de,te){if(1&de){const ce=b.EpF();b.TgZ(0,"span",8),b.NdJ("click",function(){b.CHM(ce);const ve=b.oxw();return b.KtG(ve.selectAll())}),b._UZ(1,"i",9),b.qZA()}if(2&de){const ce=b.oxw();b.Q6J("ngClass",b.VKq(1,k,ce.disabled))}}function U(de,te){1&de&&b.GkF(0)}const oe=function(de){return{$implicit:de}};function K(de,te){if(1&de&&(b.ynx(0),b.YNc(1,U,1,0,"ng-container",11),b.BQk()),2&de){const ce=te.$implicit;b.oxw(2);const J=b.MAs(12);b.xp6(1),b.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",b.VKq(2,oe,ce))}}function H(de,te){if(1&de&&(b.ynx(0),b.YNc(1,K,2,4,"ng-container",10),b.BQk()),2&de){const ce=b.oxw();b.xp6(1),b.Q6J("ngForOf",ce.templates)("ngForTrackBy",ce.templateTrack)}}function D(de,te){1&de&&(b.ynx(0),b.TgZ(1,"div",12),b._UZ(2,"p-progressSpinner",13),b.qZA(),b.BQk())}function P(de,te){1&de&&(b.ynx(0),b.TgZ(1,"div",12)(2,"div",14),b._UZ(3,"i",15),b.TgZ(4,"span"),b._uU(5," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),b.qZA()()(),b.BQk())}function Y(de,te){1&de&&(b.ynx(0),b.TgZ(1,"div",12)(2,"div",16),b._UZ(3,"i",17),b.TgZ(4,"span"),b._uU(5," \u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442 "),b.qZA()()(),b.BQk())}function re(de,te){if(1&de&&b._UZ(0,"app-colored-tag",23),2&de){const ce=b.oxw().$implicit;b.Q6J("caption",ce.countTask.toString())}}const j=function(de,te,ce){return{selected:de,"un-target":te,disabled:ce}},G=function(de,te,ce){return{"mdi-radio_button_unchecked":de,"mdi-check_circle_outline":te,"mdi-close":ce}};function ie(de,te){if(1&de){const ce=b.EpF();b.TgZ(0,"div",18),b.NdJ("click",function(){const be=b.CHM(ce).$implicit,Be=b.oxw();return b.KtG(Be.uniselect(be.wireframeId))}),b.TgZ(1,"i",19),b.NdJ("click",function(ve){const Be=b.CHM(ce).$implicit,we=b.oxw();return ve.stopPropagation(),b.KtG(we.toggle(Be.wireframeId))}),b.qZA(),b.TgZ(2,"span",20),b.NdJ("mouseenter",function(){const be=b.CHM(ce).$implicit,Be=b.oxw();return Be.uniTargetMode=!0,b.KtG(Be.uniTargetId=be.wireframeId)})("mouseleave",function(){b.CHM(ce);const ve=b.oxw();return b.KtG(ve.uniTargetMode=!1)}),b.TgZ(3,"span",21),b._uU(4),b.qZA(),b.YNc(5,re,1,1,"app-colored-tag",22),b.qZA()()}if(2&de){const ce=te.$implicit,J=b.oxw();b.Q6J("ngClass",b.kEZ(4,j,J.isSelect(ce.wireframeId),J.isUntarget(ce.wireframeId),J.disabled)),b.xp6(1),b.Q6J("ngClass",b.kEZ(8,G,!J.isSelect(ce.wireframeId),J.isSelect(ce.wireframeId),J.isSelect(ce.wireframeId)&&J.isUntarget(ce.wireframeId))),b.xp6(3),b.hij(" ",ce.name," "),b.xp6(1),b.Q6J("ngIf",ce.countTask)}}const Te=function(de){return{"shadow-1 p-2 border-round-md flex flex-column bg-white":de}};let Me=(()=>{class de{constructor(ce,J,ve){this.api=ce,this.rt=J,this.personality=ve,this.templates=[],this.deletedTemplates=[],this.selected=[],this.countersType="incoming",this.inline=!1,this.status="loading",this.uniTargetMode=!1,this.uniTargetId=0,this.disabled=!1,this.closed=!0,this.subscriptions=new R.xf,this.onChange=be=>{},this.onTouched=()=>{}}isUntarget(ce){return this.uniTargetMode&&this.uniTargetId!==ce}setDisabledState(ce){this.disabled=ce}uniselect(ce){this.selected=[ce],this.onChange(this.selected)}select(ce){this.selected.push(ce),this.onChange(this.selected)}unselect(ce){this.selected.length>1&&(this.selected=this.selected.filter(J=>J!==ce),this.onChange(this.selected))}isSelect(ce){return this.selected.includes(ce)}templateTrack(ce,J){var ve;return J.wireframeId+(null!==(ve=J.countTask)&&void 0!==ve?ve:"").toString()}ngOnInit(){this.status="loading",this.api.getWireframes(!0).subscribe({next:ce=>{this.templates=ce.filter(J=>!J.deleted),this.deletedTemplates=ce.filter(J=>J.deleted),0===this.templates.length?this.status="empty":(0===this.selected.length&&(this.selected=[this.templates[0].wireframeId],this.onChange(this.selected)),"none"!==this.countersType&&(0,d.D)(this.templates).pipe((0,u.z)(J=>"incoming"===this.countersType?this.api.getCountIncomingTasksByWireframeId(J.wireframeId).pipe((0,p.U)(ve=>({id:J.wireframeId,num:ve}))):this.api.getCountAllTasksByWireframeId(J.wireframeId).pipe((0,p.U)(ve=>({id:J.wireframeId,num:ve}))))).subscribe(J=>{const ve=this.templates.find(be=>be.wireframeId===J.id);ve&&(ve.countTask=J.num)}),this.status="ready")},error:()=>{this.status="error"}}),"incoming"===this.countersType?this.personality.userLogin$.subscribe(ce=>{this.subscriptions.addSubscription("countUpdater",this.rt.incomingTaskCountChange(ce).pipe((0,x.h)(()=>"incoming"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}):"all"===this.countersType&&this.subscriptions.addSubscription("countUpdater",this.rt.taskCountChange().pipe((0,x.h)(()=>"all"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}counterUpdateHandler(ce){const J=this.templates.find(ve=>ve.wireframeId===ce.id);J&&(J.countTask=ce.num)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(ce){this.onChange=ce}registerOnTouched(ce){this.onTouched=ce}writeValue(ce){this.selected=ce}toggle(ce){this.isSelect(ce)?this.unselect(ce):this.select(ce)}selectAll(){this.selected=this.templates.map(ce=>ce.wireframeId),this.onChange(this.selected)}toggleExpand(){this.closed=!this.closed}}return de.\u0275fac=function(ce){return new(ce||de)(b.Y36(s.s),b.Y36(F.U),b.Y36(O.F))},de.\u0275cmp=b.Xpm({type:de,selectors:[["app-task-template-multi-selector"]],inputs:{countersType:"countersType",inline:"inline"},features:[b._Bn([{provide:e.JU,useExisting:de,multi:!0}])],decls:13,vars:9,consts:[[1,"template-selector",3,"ngClass"],[1,"template-selector-title"],[1,"mdi-checklist"],[1,"stretched"],["class","select-all-button","pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",3,"ngClass","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["templateItem",""],["pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",1,"select-all-button",3,"ngClass","click"],[1,"mdi-select_all"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"template-selector-message"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","flexed","hcenter","gap3"],[1,"mdi-warning"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],[1,"template-selector-item",3,"ngClass","click"],[3,"ngClass","click"],[1,"flexed","hcenter",3,"mouseenter","mouseleave"],[1,"one-line"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["color","var(--mc-500)",3,"caption"]],template:function(ce,J){1&ce&&(b.TgZ(0,"div",0)(1,"div",1),b._UZ(2,"i",2),b.TgZ(3,"span",3),b._uU(4," \u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447 "),b.qZA(),b.YNc(5,V,2,3,"span",4),b.qZA(),b.ynx(6,5),b.YNc(7,H,2,2,"ng-container",6),b.YNc(8,D,3,0,"ng-container",6),b.YNc(9,P,6,0,"ng-container",6),b.YNc(10,Y,6,0,"ng-container",6),b.BQk(),b.qZA(),b.YNc(11,ie,6,12,"ng-template",null,7,b.W1O)),2&ce&&(b.Q6J("ngClass",b.VKq(7,Te,!J.inline)),b.xp6(5),b.Q6J("ngIf",J.selected.length<J.templates.length),b.xp6(1),b.Q6J("ngSwitch",J.status),b.xp6(1),b.Q6J("ngSwitchCase","ready"),b.xp6(1),b.Q6J("ngSwitchCase","loading"),b.xp6(1),b.Q6J("ngSwitchCase","error"),b.xp6(1),b.Q6J("ngSwitchCase","empty"))},dependencies:[Q.mk,Q.sg,Q.O5,Q.tP,Q.RF,Q.n9,N.u,T.G,y.H,w.C],styles:["[_nghost-%COMP%]{height:-moz-fit-content;height:fit-content}.select-all-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;border-radius:var(--br-100);background-color:transparent;transition:color .1s ease-in-out,background-color .1s ease-in-out}.select-all-button[_ngcontent-%COMP%]:hover{color:var(--mc-400);background-color:var(--bgc-100)}.select-all-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.template-selector[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:.5rem}.template-selector-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;font-weight:500;color:var(--tc-700);gap:.4rem;padding:.4rem;margin:0 .3rem .3rem;border-bottom:1px solid var(--bgc-100)}.template-selector-message[_ngcontent-%COMP%]{display:flex;padding:2rem;align-items:center;justify-content:center}.template-selector-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;transition:all .1s ease-in-out;color:var(--tc-700)}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .8rem}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 0;flex:1}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item.selected[_ngcontent-%COMP%]{color:var(--mc-500)}.template-selector-item.un-target[_ngcontent-%COMP%]{color:var(--tc-200)}.template-selector-item.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.expand-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem .5rem .3rem .7rem;border-top:1px solid var(--bgc-100);cursor:pointer;color:var(--tc-600);font-size:.85rem;margin:.3rem 0;transition:color .1s ease-in-out;-webkit-user-select:none;user-select:none}.expand-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.expand-button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transition:all .1s ease-in-out;transform-origin:50% 40%;transform:rotate(180deg) translateY(-.2rem)}.expand-button.closed[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(0) translateY(.1rem)}.expand-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;transition:height .1s ease-in-out}"]}),de})()},1819:(dn,pt,C)=>{"use strict";C.d(pt,{g:()=>b});var e=C(5e3),d=C(9808),u=C(1874);const p=["menu"];function x(s,F){if(1&s){const O=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(N){e.CHM(O);const T=e.oxw();return e.KtG(T.openContextMenu(N))}),e._uU(1," \u0412\u044b\u0431\u0440\u0430\u0442\u044c\n"),e.qZA()}}function R(s,F){if(1&s){const O=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(N){e.CHM(O);const T=e.oxw();return e.KtG(T.openContextMenu(N))}),e._uU(1),e.qZA()}if(2&s){const O=e.oxw();e.Tol(O.classes+" highlight"),e.xp6(1),e.hij(" ",O.selectedField.label,"\n")}}let b=(()=>{class s{constructor(){this.selectView=new e.vpe}openContextMenu(O){this.fields=this.fields.map(Q=>(Q.command=()=>{this.selectedField=Q,Q.listViewIndex=this.index,this.selectView.emit({id:Q.id,index:this.index})},Q)),this.selectingField(),this.menu.toggle(O)}ngOnInit(){this.selectingField()}ngAfterViewInit(){}selectingField(){var O;null===(O=this.fields)||void 0===O||O.forEach(Q=>{Q.listViewIndex&&Q.listViewIndex===this.index&&(this.selectedField=Q)})}}return s.\u0275fac=function(O){return new(O||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-select-field-to-view-button"]],viewQuery:function(O,Q){if(1&O&&e.Gf(p,5),2&O){let N;e.iGM(N=e.CRH())&&(Q.menu=N.first)}},inputs:{classes:"classes",index:"index",fields:"fields"},outputs:{selectView:"selectView"},decls:4,vars:4,consts:[["class","caption highlight",3,"click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"model","popup"],["menu",""],[1,"caption","highlight",3,"click"],[3,"click"]],template:function(O,Q){1&O&&(e.YNc(0,x,2,0,"span",0),e.YNc(1,R,2,3,"span",1),e._UZ(2,"p-menu",2,3)),2&O&&(e.Q6J("ngIf",!Q.selectedField),e.xp6(1),e.Q6J("ngIf",Q.selectedField),e.xp6(1),e.Q6J("model",Q.fields)("popup",!0))},dependencies:[d.O5,u.v2],styles:[".highlight[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease-out}.highlight[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"]}),s})()},6501:(dn,pt,C)=>{"use strict";C.d(pt,{g:()=>ut});var e=C(655),d=C(5e3),u=C(5677),p=C(4707),x=C(3900),R=C(4782),b=C(8738),s=C(845),F=C(2382),O=C(4036),Q=C(9783),N=C(3407),T=C(5315),y=C(1208),w=C(5055),k=C(5132),V=C(446),U=C(6288),oe=C(1110),K=C(7579),H=C(8372),D=C(1135),P=C(9808),Y=C(3640),re=C(2145);const j=["photoPreviewPanel"];function G(xe,De){1&xe&&d.GkF(0)}const ie=function(xe){return{$implicit:xe}};function Te(xe,De){if(1&xe&&d.YNc(0,G,1,0,"ng-container",9),2&xe){const We=De.$implicit;d.oxw();const gt=d.MAs(5);d.Q6J("ngTemplateOutlet",gt)("ngTemplateOutletContext",d.VKq(2,ie,We))}}function Me(xe,De){1&xe&&d.GkF(0)}function de(xe,De){if(1&xe&&d.YNc(0,Me,1,0,"ng-container",9),2&xe){const We=De.$implicit;d.oxw();const gt=d.MAs(7);d.Q6J("ngTemplateOutlet",gt)("ngTemplateOutletContext",d.VKq(2,ie,We))}}function te(xe,De){1&xe&&d.GkF(0)}function ce(xe,De){if(1&xe){const We=d.EpF();d.TgZ(0,"div",10),d.NdJ("mouseenter",function(Tt){const Ot=d.CHM(We).$implicit,Oe=d.oxw();return d.KtG(Oe.preview(Ot,Tt))})("mouseleave",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.hidePreview())}),d.YNc(1,te,1,0,"ng-container",9),d.TgZ(2,"span",11),d._uU(3),d.qZA()()}if(2&xe){const We=De.$implicit;d.oxw();const gt=d.MAs(9);d.xp6(1),d.Q6J("ngTemplateOutlet",gt)("ngTemplateOutletContext",d.VKq(3,ie,We.type)),d.xp6(2),d.hij(" ",We.name," ")}}function J(xe,De){1&xe&&d.GkF(0)}function ve(xe,De){if(1&xe&&(d.TgZ(0,"span",11),d._uU(1),d.qZA()),2&xe){const We=d.oxw().$implicit;d.xp6(1),d.hij(" ",We.path," ")}}function be(xe,De){if(1&xe){const We=d.EpF();d.TgZ(0,"div",10),d.NdJ("mouseenter",function(Tt){const Ot=d.CHM(We).$implicit,Oe=d.oxw();return d.KtG(Oe.preview(Ot,Tt))})("mouseleave",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.hidePreview())}),d.YNc(1,J,1,0,"ng-container",9),d.TgZ(2,"div",12),d.YNc(3,ve,2,1,"span",13),d.TgZ(4,"span",11),d._uU(5),d.qZA()()()}if(2&xe){const We=De.$implicit;d.oxw();const gt=d.MAs(9);d.xp6(1),d.Q6J("ngTemplateOutlet",gt)("ngTemplateOutletContext",d.VKq(4,ie,We.type)),d.xp6(2),d.Q6J("ngIf",We.path),d.xp6(2),d.hij(" ",We.name," ")}}function Be(xe,De){1&xe&&d._UZ(0,"span",20)}function we(xe,De){1&xe&&d._UZ(0,"span",21)}function ke(xe,De){1&xe&&d._UZ(0,"span",22)}function X(xe,De){1&xe&&d._UZ(0,"span",23)}function q(xe,De){1&xe&&d._UZ(0,"span",24)}function pe(xe,De){1&xe&&(d.ynx(0,14),d.YNc(1,Be,1,0,"span",15),d.YNc(2,we,1,0,"span",16),d.YNc(3,ke,1,0,"span",17),d.YNc(4,X,1,0,"span",18),d.YNc(5,q,1,0,"span",19),d.BQk()),2&xe&&(d.Q6J("ngSwitch",De.$implicit),d.xp6(1),d.Q6J("ngSwitchCase","PHOTO"),d.xp6(1),d.Q6J("ngSwitchCase","VIDEO"),d.xp6(1),d.Q6J("ngSwitchCase","AUDIO"),d.xp6(1),d.Q6J("ngSwitchCase","DOCUMENT"))}const _e=function(){return[]};let Xe=(()=>{class xe{constructor(We){this.api=We,this.control=new F.NI([]),this.controlChange$=this.control.valueChanges,this.onChange=gt=>{},this.onTouched=()=>{},this.isDisabled=!1,this.querySubject=new K.x,this.queryChange$=this.querySubject.pipe((0,H.b)(1e3)),this.suggestions$=this.queryChange$.pipe((0,x.w)(gt=>this.api.getFilesSuggestions(gt)),(0,R.d)(1)),this.previewVisibleSubject=new D.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,H.b)(300)),this.previewUrl="",this.imageLoaded=!1}writeValue(We){this.control.setValue(We||[])}registerOnChange(We){this.onChange=We}registerOnTouched(We){this.onTouched=We}setDisabledState(We){this.isDisabled=We}ngOnInit(){this.previewSubscription=this.previewVisible$.subscribe(We=>{We?this.photoPreviewPanel.overlayVisible?(this.photoPreviewPanel.target=We.target,this.photoPreviewPanel.align()):this.photoPreviewPanel.show(We):this.photoPreviewPanel.hide()}),this.controlChangeSubscription=this.controlChange$.subscribe(We=>{this.onChange(null!=We?We:[])})}ngOnDestroy(){var We,gt;null===(We=this.previewSubscription)||void 0===We||We.unsubscribe(),null===(gt=this.controlChangeSubscription)||void 0===gt||gt.unsubscribe()}preview(We,gt){"PHOTO"===We.type?(this.previewUrl="/api/private/file-thumbnail/"+We.id,this.imageLoaded=!1,this.previewVisibleSubject.next(gt)):(this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null))}hidePreview(){this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null)}}return xe.\u0275fac=function(We){return new(We||xe)(d.Y36(b.s))},xe.\u0275cmp=d.Xpm({type:xe,selectors:[["app-server-documents-input"]],viewQuery:function(We,gt){if(1&We&&d.Gf(j,5),2&We){let Tt;d.iGM(Tt=d.CRH())&&(gt.photoPreviewPanel=Tt.first)}},features:[d._Bn([{provide:F.JU,useExisting:xe,multi:!0}])],decls:13,vars:7,consts:[["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430...","appendTo","body",3,"formControl","multiple","suggestions","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],["documentTemplate",""],["suggestionTemplate",""],["fileIcon",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["photoPreviewPanel",""],["alt","",1,"max-w-20rem","border-round","absolute",3,"src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-1","align-items-center","text-bluegray-500",3,"mouseenter","mouseleave"],[1,"text-sm"],[1,"flex"],["class","text-sm",4,"ngIf"],[3,"ngSwitch"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"]],template:function(We,gt){if(1&We&&(d.TgZ(0,"p-autoComplete",0),d.NdJ("completeMethod",function(Ft){return gt.querySubject.next(Ft.query)}),d.ALo(1,"async"),d.YNc(2,Te,1,4,"ng-template",1),d.YNc(3,de,1,4,"ng-template",2),d.qZA(),d.YNc(4,ce,4,5,"ng-template",2,3,d.W1O),d.YNc(6,be,6,6,"ng-template",2,4,d.W1O),d.YNc(8,pe,6,5,"ng-template",null,5,d.W1O),d.TgZ(10,"p-overlayPanel",6,7),d._UZ(12,"img",8),d.qZA()),2&We){let Tt;d.Q6J("formControl",gt.control)("multiple",!0)("suggestions",null!==(Tt=d.lcZ(1,4,gt.suggestions$))&&void 0!==Tt?Tt:d.DdM(6,_e)),d.xp6(12),d.Q6J("src",gt.previewUrl,d.LSH)}},dependencies:[P.O5,P.tP,P.RF,P.n9,P.ED,F.JJ,Q.jx,Y.T,F.oH,re.Qc,P.Ov]}),xe})();function ct(xe,De){if(1&xe&&(d.TgZ(0,"div",21),d._UZ(1,"app-employee-label",22),d.qZA()),2&xe){const We=De.$implicit;d.xp6(1),d.Q6J("employee",We)("size",1.9)}}const ot=function(){return{height:"40vh",maxHeight:"15rem"}},Zt=function(){return{minHeight:"8rem"}};function Dt(xe,De){if(1&xe){const We=d.EpF();d.TgZ(0,"p-pickList",3),d.NdJ("onMoveAllToSource",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.updateGangLeaders())})("onMoveAllToTarget",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.updateGangLeaders())})("onMoveToSource",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.updateGangLeaders())})("onMoveToTarget",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.updateGangLeaders())}),d.YNc(1,ct,2,2,"ng-template",4),d.qZA(),d.TgZ(2,"div",5)(3,"div",6)(4,"div",7),d._uU(5,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),d.qZA(),d.TgZ(6,"textarea",8),d.NdJ("ngModelChange",function(Tt){d.CHM(We);const Ft=d.oxw();return d.KtG(Ft.targetDescription=Tt)})("paste",function(Tt){d.CHM(We);const Ft=d.MAs(11);return d.KtG(Ft.appendFiles(Tt))}),d.qZA()(),d.TgZ(7,"div",9)(8,"p-button",10),d.NdJ("click",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.commentsSelectDialogVisible=!0)}),d.qZA(),d.TgZ(9,"app-server-documents-input",11),d.NdJ("ngModelChange",function(Tt){d.CHM(We);const Ft=d.oxw();return d.KtG(Ft.serverFiles=Tt)}),d.qZA(),d.TgZ(10,"app-file-input",12,13),d.NdJ("filesChange",function(Tt){d.CHM(We);const Ft=d.oxw();return d.KtG(Ft.loadingFiles=Tt)}),d.qZA()()(),d.TgZ(12,"div",14)(13,"div",15)(14,"label"),d._uU(15,"\u0411\u0440\u0438\u0433\u0430\u0434\u0438\u0440"),d.qZA(),d.TgZ(16,"p-dropdown",16),d.NdJ("ngModelChange",function(Tt){d.CHM(We);const Ft=d.oxw();return d.KtG(Ft.gangLeader=Tt)}),d.qZA()(),d.TgZ(17,"div",17)(18,"span"),d._uU(19,"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442"),d.qZA(),d.TgZ(20,"p-checkbox",18),d.NdJ("ngModelChange",function(Tt){d.CHM(We);const Ft=d.oxw();return d.KtG(Ft.deferredReport=Tt)}),d.qZA()(),d.TgZ(21,"app-button",19),d.NdJ("onClick",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.resetListAppointedInstallers())}),d.qZA(),d.TgZ(22,"app-button",20),d.NdJ("onClick",function(){d.CHM(We);const Tt=d.oxw();return d.KtG(Tt.sendListAppointedInstallers())}),d.qZA()()}if(2&xe){const We=d.oxw();d.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("sourceStyle",d.DdM(22,ot))("source",We.sourceInstallers)("targetStyle",d.DdM(23,ot))("target",We.targetInstallers),d.xp6(2),d.Akn(d.DdM(24,Zt)),d.xp6(4),d.Q6J("ngModel",We.targetDescription)("autoResize",!0)("rows",3),d.xp6(2),d.Q6J("badge",We.selectedTaskComments.length.toString()),d.xp6(1),d.Q6J("ngModel",We.serverFiles),d.xp6(1),d.Q6J("files",We.loadingFiles),d.xp6(6),d.Q6J("ngModel",We.gangLeader)("options",We.gangLeaders),d.xp6(4),d.Q6J("ngModel",We.deferredReport)("binary",!0),d.xp6(1),d.Q6J("disabled",0===We.targetInstallers.length||We.appointmentRequested),d.xp6(1),d.Q6J("disabled",0===We.targetInstallers.length)("loading",We.appointmentRequested)}}function Cn(xe,De){if(1&xe&&(d.TgZ(0,"div",21)(1,"span"),d._uU(2),d.qZA()()),2&xe){const We=De.$implicit;d.xp6(2),d.hij(" ",We.simpleText," ")}}function Xt(xe,De){if(1&xe){const We=d.EpF();d.TgZ(0,"p-listbox",23),d.NdJ("ngModelChange",function(Tt){d.CHM(We);const Ft=d.oxw();return d.KtG(Ft.selectedTaskComments=Tt)}),d.YNc(1,Cn,3,1,"ng-template",4),d.qZA()}if(2&xe){const We=d.oxw();d.Q6J("options",We.taskComments)("ngModel",We.selectedTaskComments)("multiple",!0)("checkbox",!0)}}const jt=function(){return{width:"50vw"}},ht=function(){return{"960px":"75vw","640px":"100vw"}};let ut=class{constructor(De){this.api=De,this.onTaskIdChange=new p.t(1),this.visible=!1,this.visibleChange=new d.vpe,this.sourceInstallers=[],this.targetInstallers=[],this.targetDescription="",this.deferredReport=!1,this.gangLeaders=[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}],this.appointmentRequested=!1,this.loadingFiles=[],this.serverFiles=[],this.commentsSelectDialogVisible=!1,this.selectedTaskComments=[],this.taskComments=[],this.taskCommentsSub=this.onTaskIdChange.pipe((0,x.w)(We=>this.api.getComments(We,0,100)),(0,R.d)(1)).subscribe(We=>{this.selectedTaskComments=We.content.map(gt=>gt.commentId),this.taskComments=We.content})}ngOnInit(){}setVisible(De=!1){this.visible=De,this.visibleChange.emit(De)}loadAppointInstallers(){this.api.getInstallersEmployees().subscribe(De=>{this.sourceInstallers=De,this.targetInstallers=[]})}updateGangLeaders(){setTimeout(()=>{this.gangLeaders=this.targetInstallers.length>1?[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null},...this.targetInstallers.map(De=>{var We;return{label:null!==(We=De.fullName)&&void 0!==We?We:De.login,value:De.login}})]:[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}]})}resetListAppointedInstallers(){this.sourceInstallers=[...this.sourceInstallers,...this.targetInstallers],this.targetInstallers=[]}clearAppointInstallers(){this.targetDescription="",this.targetInstallers=[],this.gangLeader=void 0,this.deferredReport=!1}sendListAppointedInstallers(){!this.taskId||(this.appointmentRequested=!0,this.api.assignInstallersToTask(this.taskId,{installers:this.targetInstallers,description:this.targetDescription,gangLeader:this.gangLeader,deferredReport:this.deferredReport,files:this.loadingFiles,serverFiles:this.serverFiles,comments:this.selectedTaskComments}).subscribe({next:()=>{this.appointmentRequested=!1,this.setVisible(!1)},error:()=>this.appointmentRequested=!1}))}};ut.\u0275fac=function(De){return new(De||ut)(d.Y36(b.s))},ut.\u0275cmp=d.Xpm({type:ut,selectors:[["app-appoint-installers-dialog"]],inputs:{taskId:"taskId",visible:"visible"},outputs:{visibleChange:"visibleChange"},decls:4,vars:22,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3","header","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","autoZIndex","baseZIndex","onHide","visibleChange","onShow"],["pTemplate","content"],["appendTo","body","contentStyleClass","flex flex-column gap-3","header","\u0412\u044b\u0431\u043e\u0440 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435","targetHeader","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435",3,"dragdrop","showSourceControls","showTargetControls","sourceStyle","source","targetStyle","target","onMoveAllToSource","onMoveAllToTarget","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500","text-sm"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange","paste"],[1,"flex","gap-2","align-items-center","justify-content-end"],["label","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438","styleClass","p-button-info p-button-outlined",3,"badge","click"],[3,"ngModel","ngModelChange"],[3,"files","filesChange"],["fileInputComponent",""],[1,"flex","gap-3","align-items-end","justify-content-end"],[1,"input-label-wrapper"],["appendTo","body",3,"ngModel","options","ngModelChange"],[1,"flex","gap-2","text-bluegray-500","font-bold","align-items-center","h-3rem"],[3,"ngModel","binary","ngModelChange"],["icon","delete","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"disabled","onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","align-items-center","gap-2"],[3,"employee","size"],["optionValue","commentId",3,"options","ngModel","multiple","checkbox","ngModelChange"]],template:function(De,We){1&De&&(d.TgZ(0,"p-dialog",0),d.NdJ("onHide",function(){return We.clearAppointInstallers()})("visibleChange",function(Tt){return We.visible=Tt})("visibleChange",function(Tt){return We.visibleChange.emit(Tt)})("onShow",function(){return We.loadAppointInstallers()}),d.YNc(1,Dt,23,25,"ng-template",1),d.qZA(),d.TgZ(2,"p-dialog",2),d.NdJ("visibleChange",function(Tt){return We.commentsSelectDialogVisible=Tt}),d.YNc(3,Xt,2,4,"ng-template",1),d.qZA()),2&De&&(d.Akn(d.DdM(18,jt)),d.Q6J("visible",We.visible)("breakpoints",d.DdM(19,ht))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("autoZIndex",!1)("baseZIndex",2101),d.xp6(2),d.Akn(d.DdM(20,jt)),d.Q6J("visible",We.commentsSelectDialogVisible)("breakpoints",d.DdM(21,ht))("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1))},dependencies:[s.zx,F.Fj,F.JJ,F.On,O.Lt,Q.jx,N.g,T.V,y.XZ,w.Ri,k.G,V.r,U.Y,oe.x,Xe]}),(0,e.gn)([(0,u.bQ)("taskId")],ut.prototype,"onTaskIdChange",void 0),ut=(0,e.gn)([(0,u.kG)()],ut)},1318:(dn,pt,C)=>{"use strict";C.d(pt,{s:()=>T});var e=C(5e3),d=C(2382),u=C(383),p=C(4280),x=C(8738),R=C(9808),b=C(5315),s=C(446),F=C(6502);function O(y,w){if(1&y&&e._UZ(0,"app-task-template-input",7),2&y){const k=w.$implicit;e.Q6J("field",k)("formControlName",k.modelItemId)}}const Q=function(){return{width:"50vw",maxHeight:"70vh"}},N=function(){return{"960px":"75vw","640px":"100vw"}};let T=(()=>{class y{constructor(k){this.api=k,this.visible=!1,this.visibleChange=new e.vpe,this.editTaskForm=new d.cw({}),this.editBlocked=!1}setVisible(k){this.visible=k,this.visibleChange.emit(k)}get taskFields(){var k,V;return this.visible&&null!==(V=null===(k=this.task)||void 0===k?void 0:k.fields)&&void 0!==V?V:[]}ngOnInit(){}ngOnChanges(k){const V=k.task;V&&V.currentValue&&this.showEditTaskDialog()}doEditTask(){var k,V;if(null!==(k=this.task)&&void 0!==k&&k.modelWireframe){if(!this.editTaskForm.valid)return void this.editTaskForm.markAllAsTouched();this.editBlocked=!0,this.api.editTask(this.task.taskId,u.PU.editExisting(this.editTaskForm.getRawValue(),null!==(V=this.task.fields)&&void 0!==V?V:[])).subscribe({next:()=>{this.editBlocked=!1,this.setVisible(!1)},error:()=>{this.editBlocked=!1}})}}showEditTaskDialog(){var k;this.editTaskForm=new d.cw(null!==(k=this.task)&&void 0!==k&&k.fields?this.task.fields.reduce((V,U)=>Object.assign(Object.assign({},V),{[U.modelItemId]:new d.NI(u.cQ.getValueFromModelItem(U),p.d.taskInput(U.wireframeFieldType,U.variation))}),{}):{})}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(x.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-edit-task-dialog"]],inputs:{task:"task",visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[e.TTD],decls:7,vars:15,consts:[["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","autoZIndex","baseZIndex","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3"],[1,"flex","flex-column","gap-2",3,"formGroup"],["class","flex-grow-1",3,"field","formControlName",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"flexed","vend","hcenter","sticky","bottom0"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],[1,"flex-grow-1",3,"field","formControlName"]],template:function(k,V){1&k&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(oe){return V.visible=oe})("visibleChange",function(oe){return V.visibleChange.emit(oe)}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,O,1,2,"app-task-template-input",3),e.qZA(),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"app-button",6),e.NdJ("onClick",function(){return V.doEditTask()}),e.qZA()()()()),2&k&&(e.Akn(e.DdM(13,Q)),e.Q6J("visible",V.visible)("breakpoints",e.DdM(14,N))("autoZIndex",!1)("baseZIndex",2101)("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("formGroup",V.editTaskForm),e.xp6(1),e.Q6J("ngForOf",V.taskFields),e.xp6(3),e.Q6J("loading",V.editBlocked))},dependencies:[R.sg,d.JJ,d.JL,b.V,d.sg,d.u,s.r,F.o]}),y})()},6083:(dn,pt,C)=>{"use strict";C.d(pt,{j:()=>O});var e=C(5e3),d=C(8738),u=C(845),p=C(2382),x=C(9783),R=C(3407),b=C(5315);function s(Q,N){if(1&Q){const T=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e.TgZ(4,"textarea",4),e.NdJ("ngModelChange",function(w){e.CHM(T);const k=e.oxw();return e.KtG(k.reason=w)}),e.qZA()(),e.TgZ(5,"div",5)(6,"p-button",6),e.NdJ("onClick",function(){e.CHM(T);const w=e.oxw();return w.setVisible(!1),e.KtG(w.reason="")}),e.qZA(),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){e.CHM(T);const w=e.oxw();return e.KtG(w.forceCloseWorkLog())}),e.qZA()()()}if(2&Q){const T=e.oxw();e.xp6(4),e.Q6J("ngModel",T.reason)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",T.requestRunning),e.xp6(1),e.Q6J("disabled",!T.reason)("loading",T.requestRunning)}}const F=function(){return{width:"50vw",minWidth:"fit-content"}};let O=(()=>{class Q{constructor(T){this.api=T,this.visible=!1,this.visibleChange=new e.vpe,this.reason="",this.requestRunning=!1}ngOnInit(){}setVisible(T){this.visible=T,this.visibleChange.emit(T)}forceCloseWorkLog(){!this.taskId||this.api.forceCloseWorkLog(this.taskId,this.reason).subscribe({next:()=>{this.setVisible(!1),this.reason="",this.requestRunning=!1},error:()=>this.requestRunning=!1})}}return Q.\u0275fac=function(T){return new(T||Q)(e.Y36(d.s))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-force-close-dialog"]],inputs:{visible:"visible",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:8,consts:[["header","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442?","appendTo","body",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"]],template:function(T,y){1&T&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(k){return y.visibleChange.emit(k)}),e.YNc(1,s,8,6,"ng-template",1),e.qZA()),2&T&&(e.Akn(e.DdM(7,F)),e.Q6J("visible",y.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[u.zx,p.Fj,p.JJ,p.On,x.jx,R.g,b.V]}),Q})()},3435:(dn,pt,C)=>{"use strict";C.d(pt,{M:()=>F});var e=C(655),d=C(5e3),u=C(2382),p=C(5677),x=C(8675),R=C(8505),b=C(8738);function s(O,Q){if(1&O){const N=d.EpF();d._UZ(0,"span")(1,"p-calendar",2)(2,"app-time-picker",3),d.TgZ(3,"app-button",4),d.NdJ("onClick",function(){d.CHM(N);const y=d.oxw();return d.KtG(y.setDateTimeOfTaskRelevance())}),d.ALo(4,"date"),d.qZA()}if(2&O){const N=d.oxw();d.xp6(1),d.Q6J("firstDayOfWeek",1)("formControl",N.dateControl)("inline",!0)("selectOtherMonths",!0),d.xp6(1),d.Q6J("formControl",N.dateTimeControl),d.xp6(1),d.Q6J("loading",N.changingTaskDateTime)("label",N.buttonLabel+d.xi3(4,7,N.dateTimeControl.value,"dd-MM-yyyy HH:mm"))}}let F=class{constructor(Q){this.api=Q,this.visible=!1,this.visibleChange=new d.vpe,this.schedulingType="from",this.dateControl=new u.NI(new Date),this.dateTimeControl=new u.NI(new Date),this.dateTimeUpdateSub=this.dateControl.valueChanges.pipe((0,x.O)(new Date),(0,R.b)(N=>{if(0===(null==N?void 0:N.getHours()))null==N||N.setHours(8,0,0,0);else{const T=((null==N?void 0:N.getMinutes())||0)%10;let y=(null==N?void 0:N.getHours())||0,w=(null==N?void 0:N.getMinutes())||0;T>0&&(w+=10-T),null==N||N.setHours(y+1,w,0,0)}})).subscribe(N=>this.dateTimeControl.setValue(N)),this.changingTaskDateTime=!1}get title(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"}get buttonLabel(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c c ":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0434\u043e "}ngOnInit(){}setVisible(Q){this.visible=Q,this.visibleChange.emit(Q)}setDateTimeOfTaskRelevance(){!this.taskId||null==this.dateControl.value||(this.changingTaskDateTime=!0,"from"===this.schedulingType?this.changeTaskActualFrom():"to"===this.schedulingType&&this.changeTaskActualTo())}resetDate(){this.dateControl.reset(new Date)}changeTaskActualFrom(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualFrom(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}changeTaskActualTo(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualTo(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}};F.\u0275fac=function(Q){return new(Q||F)(d.Y36(b.s))},F.\u0275cmp=d.Xpm({type:F,selectors:[["app-task-scheduling-dialog"]],inputs:{visible:"visible",schedulingType:"schedulingType",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:6,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","dismissableMask","draggable","modal","resizable","header","visibleChange","onHide"],["pTemplate","content"],[1,"w-fit","align-self-center",3,"firstDayOfWeek","formControl","inline","selectOtherMonths"],[3,"formControl"],[3,"loading","label","onClick"]],template:function(Q,N){1&Q&&(d.TgZ(0,"p-dialog",0),d.NdJ("visibleChange",function(y){return N.visible=y})("visibleChange",function(y){return N.visibleChange.emit(y)})("onHide",function(){return N.resetDate()}),d.YNc(1,s,5,10,"ng-template",1),d.qZA()),2&Q&&d.Q6J("visible",N.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("header",N.title)}}),F=(0,e.gn)([(0,p.kG)()],F)},9850:(dn,pt,C)=>{"use strict";C.d(pt,{p:()=>j});var e=C(655),d=C(5677),u=C(4707),p=C(6451),x=C(4004),R=C(8372),b=C(9300),s=C(3900),F=C(4782),O=C(5e3),Q=C(8738),N=C(9808),T=C(3470),y=C(9783),w=C(4500),k=C(3640);const V=["popupPanel"];function U(G,ie){1&G&&(O.TgZ(0,"div")(1,"div",6)(2,"span",7),O._uU(3,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),O.qZA()()())}function oe(G,ie){if(1&G&&(O.TgZ(0,"div",6)(1,"span",9),O._uU(2),O.qZA(),O.TgZ(3,"span"),O._uU(4),O.qZA(),O.TgZ(5,"span"),O._uU(6),O.qZA(),O.TgZ(7,"span"),O._uU(8),O.qZA(),O.TgZ(9,"span"),O._uU(10),O.ALo(11,"date"),O.qZA()()),2&G){const Te=ie.ngIf;O.xp6(1),O.Q6J("ngClass",Te.statusColor),O.xp6(1),O.Oqu(Te.statusName),O.xp6(2),O.Oqu(Te.name),O.xp6(2),O.Oqu(Te.ip),O.xp6(2),O.Oqu(Te.mac),O.xp6(2),O.Oqu(O.xi3(11,6,Te.elapsedTime,"dd-MM-yyyy HH:mm"))}}function K(G,ie){if(1&G&&(O.ynx(0),O.YNc(1,oe,12,9,"div",8),O.ALo(2,"async"),O.BQk()),2&G){const Te=O.oxw(3),Me=O.MAs(4);O.xp6(1),O.Q6J("ngIf",O.lcZ(2,2,Te.loginBinding$))("ngIfElse",Me)}}function H(G,ie){if(1&G&&(O.ynx(0,0),O.YNc(1,U,4,0,"div",1),O.YNc(2,K,3,4,"ng-container",1),O.BQk()),2&G){const Te=O.oxw(2);O.Q6J("ngSwitch",Te.isNotFound),O.xp6(1),O.Q6J("ngSwitchCase",!0),O.xp6(1),O.Q6J("ngSwitchCase",!1)}}const D=function(G){return["/clients","billing","user",G]};function P(G,ie){if(1&G){const Te=O.EpF();O.ynx(0),O.TgZ(1,"a",3),O.NdJ("contextmenu",function(de){return de.stopPropagation()})("mouseenter",function(de){O.CHM(Te);const te=O.oxw();return O.KtG(te.mouseEnter$.next(de))})("mouseleave",function(de){O.CHM(Te);const te=O.oxw();return O.KtG(te.mouseLeave$.next(de))})("click",function(de){return de.stopPropagation()}),O._uU(2),O.qZA(),O.TgZ(3,"p-overlayPanel",null,4),O.YNc(5,H,3,3,"ng-template",5),O.qZA(),O.BQk()}if(2&G){const Te=O.oxw();O.xp6(1),O.Q6J("routerLink",O.VKq(2,D,Te.loginData)),O.xp6(1),O.Oqu(Te.loginData)}}function Y(G,ie){if(1&G&&(O.ynx(0),O.TgZ(1,"a",10),O.NdJ("contextmenu",function(Me){return Me.stopPropagation()})("click",function(Me){return Me.stopPropagation()}),O.ALo(2,"async"),O._uU(3),O.qZA(),O.BQk()),2&G){const Te=O.oxw();O.xp6(1),O.Q6J("ngClass",O.lcZ(2,3,Te.loginColor$))("routerLink",O.VKq(5,D,Te.loginData)),O.xp6(2),O.Oqu(Te.loginData)}}function re(G,ie){1&G&&(O.TgZ(0,"div",6),O._UZ(1,"p-skeleton",11)(2,"p-skeleton",12)(3,"p-skeleton",13)(4,"p-skeleton",14)(5,"p-skeleton",15),O.qZA())}let j=class{constructor(ie){this.api=ie,this.popup=!1,this.loginChange$=new u.t(1),this.popupChange$=new u.t(1),this.mouseEnter$=new u.t(1),this.mouseLeave$=new u.t(1),this.isNotFound=!1,this.popupVisibleSub=(0,p.T)(this.mouseEnter$,(0,p.T)(this.mouseEnter$,this.mouseLeave$.pipe((0,x.U)(()=>null))).pipe((0,R.b)(500),(0,b.h)(Te=>!Te))).subscribe(Te=>{var Me,de;Te?null===(Me=this.popupPanel)||void 0===Me||Me.show(Te):null===(de=this.popupPanel)||void 0===de||de.hide()}),this.loginColor$=this.loginChange$.pipe((0,s.w)(Te=>this.api.getActiveBindingByLogin(Te)),(0,x.U)(Te=>null===Te?"text-gray-400":"ONLINE"===Te.onlineStatus?"text-green-400":"text-red-400")),this.loginBinding$=this.loginChange$.pipe((0,s.w)(Te=>this.api.getActiveBindingByLogin(Te)),(0,x.U)(Te=>null===Te?(this.isNotFound=!0,null):{name:Te.dhcpHostname,ip:Te.ipaddr,mac:Te.macaddr,statusName:"ONLINE"===Te.onlineStatus?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",statusColor:"ONLINE"===Te.onlineStatus?"text-green-400":"text-red-400",elapsedTime:new Date(Te.leaseStart)}),(0,F.d)(1))}ngOnInit(){}};j.\u0275fac=function(ie){return new(ie||j)(O.Y36(Q.s))},j.\u0275cmp=O.Xpm({type:j,selectors:[["app-billing-login"]],viewQuery:function(ie,Te){if(1&ie&&O.Gf(V,5),2&ie){let Me;O.iGM(Me=O.CRH())&&(Te.popupPanel=Me.first)}},inputs:{loginData:"loginData",popup:"popup"},decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["loadingTemplate",""],[1,"select-none","cursor-pointer","hover:text-primary-700","no-underline",3,"routerLink","contextmenu","mouseenter","mouseleave","click"],["popupPanel",""],["pTemplate","content"],[1,"text-bluegray-500","flex","flex-column","gap-2"],[1,"font-bold"],["class","text-bluegray-500 flex flex-column gap-2",4,"ngIf","ngIfElse"],[1,"font-bold",3,"ngClass"],[1,"select-none","cursor-pointer","hover:text-primary-700","no-underline",3,"ngClass","routerLink","contextmenu","click"],["width","4rem","height","1.2rem"],["width","5rem","height","1.2rem"],["width","6rem","height","1.2rem"],["width","7.5rem","height","1.2rem"],["width","8rem","height","1.2rem"]],template:function(ie,Te){1&ie&&(O.ynx(0,0),O.YNc(1,P,6,4,"ng-container",1),O.YNc(2,Y,4,7,"ng-container",1),O.BQk(),O.YNc(3,re,6,0,"ng-template",null,2,O.W1O)),2&ie&&(O.Q6J("ngSwitch",Te.popup),O.xp6(1),O.Q6J("ngSwitchCase",!0),O.xp6(1),O.Q6J("ngSwitchCase",!1))},dependencies:[N.mk,N.O5,N.RF,N.n9,T.yS,y.jx,w.O,k.T,N.Ov,N.uU]}),(0,e.gn)([(0,d.bQ)("loginData")],j.prototype,"loginChange$",void 0),(0,e.gn)([(0,d.bQ)("popup")],j.prototype,"popupChange$",void 0),j=(0,e.gn)([(0,d.kG)()],j)},2553:(dn,pt,C)=>{"use strict";C.d(pt,{O:()=>T});var e=C(5e3),d=C(9808),u=C(383),p=C(8738);function x(y,w){1&y&&e.GkF(0)}function R(y,w){1&y&&e.GkF(0)}function b(y,w){if(1&y&&e.YNc(0,R,1,0,"ng-container",0),2&y){const k=e.oxw(),V=e.MAs(4),U=e.MAs(6);e.Q6J("ngIf",k.phone)("ngIfThen",V)("ngIfElse",U)}}function s(y,w){if(1&y){const k=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(U){e.CHM(k);const oe=e.oxw();return U.stopPropagation(),e.KtG(oe.callToPhone())}),e._uU(1),e.qZA()}if(2&y){const k=e.oxw();e.xp6(1),e.hij(" ",k.phone," ")}}function F(y,w){1&y&&(e.TgZ(0,"span",6),e._uU(1," \u041d\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 "),e.qZA())}function O(y,w){1&y&&(e.TgZ(0,"span",7),e._UZ(1,"span",8),e.TgZ(2,"span"),e._uU(3,"\u041d\u0430\u0431\u043e\u0440"),e.qZA()())}let Q=(()=>{class y{constructor(k){this.api=k,this.isCalling=!1,this.dotAnimation=u.xn}ngOnInit(){}callToPhone(){this.phone&&(this.isCalling=!0,this.api.callToPhone(this.phone).subscribe({next:()=>{setTimeout(()=>{this.isCalling=!1},2e3)},error:()=>{this.isCalling=!1}}))}}return y.\u0275fac=function(k){return new(k||y)(e.Y36(p.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-dial-button"]],inputs:{phone:"phone"},decls:9,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["phoneTemp",""],["fullNumber",""],["emptyNumber",""],["callingTemp",""],[1,"text-primary","font-semibold","cursor-pointer","hover:text-primary-700","white-space-nowrap",3,"click"],[1,"text-bluegray-300","font-semibold","white-space-nowrap"],[1,"text-green-500","font-semibold","flex","align-items-center","gap-1","white-space-nowrap"],[1,"mdi-phone","phone"]],template:function(k,V){if(1&k&&(e.YNc(0,x,1,0,"ng-container",0),e.YNc(1,b,1,3,"ng-template",null,1,e.W1O),e.YNc(3,s,2,1,"ng-template",null,2,e.W1O),e.YNc(5,F,2,0,"ng-template",null,3,e.W1O),e.YNc(7,O,4,0,"ng-template",null,4,e.W1O)),2&k){const U=e.MAs(2),oe=e.MAs(8);e.Q6J("ngIf",V.isCalling)("ngIfThen",oe)("ngIfElse",U)}},dependencies:[d.O5],styles:[".phone[_ngcontent-%COMP%]{animation:callAnimate 2s ease 0s infinite normal forwards}@keyframes callAnimate{0%,to{transform:rotate(0);transform-origin:50% 50%}10%{transform:rotate(8deg)}20%,40%,60%{transform:rotate(-10deg)}30%,50%,70%{transform:rotate(10deg)}80%{transform:rotate(-8deg)}90%{transform:rotate(8deg)}}"]}),y})();function N(y,w){1&y&&e._UZ(0,"app-dial-button",2),2&y&&e.Q6J("phone",w.$implicit)}let T=(()=>{class y{constructor(){}get phones(){return this.phoneData?Object.values(this.phoneData):[]}ngOnInit(){}}return y.\u0275fac=function(k){return new(k||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-dial-buttons-list"]],inputs:{phoneData:"phoneData"},decls:2,vars:1,consts:[[1,"flex","flex-column"],[3,"phone",4,"ngFor","ngForOf"],[3,"phone"]],template:function(k,V){1&k&&(e.TgZ(0,"div",0),e.YNc(1,N,1,1,"app-dial-button",1),e.qZA()),2&k&&(e.xp6(1),e.Q6J("ngForOf",V.phones))},dependencies:[d.sg,Q]}),y})()},6759:(dn,pt,C)=>{"use strict";C.d(pt,{C:()=>N});var e=C(383),d=C(5e3),u=C(9783);function p(T,y){if(1&T&&d._UZ(0,"app-billing-login",12),2&T){const w=d.oxw().$implicit;d.Q6J("loginData",w.stringData)}}function x(T,y){if(1&T&&(d.TgZ(0,"span",13),d._UZ(1,"app-dial-buttons-list",14),d.qZA()),2&T){const w=d.oxw().$implicit;d.xp6(1),d.Q6J("phoneData",w.phoneData)}}function R(T,y){if(1&T&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&T){const w=d.oxw().$implicit;d.xp6(1),d.hij(" ",w.textRepresentation," ")}}function b(T,y){if(1&T&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&T){const w=d.oxw().$implicit;d.xp6(1),d.Oqu(w.textRepresentation)}}function s(T,y){if(1&T){const w=d.EpF();d.TgZ(0,"div",4)(1,"span",5),d.NdJ("click",function(V){const oe=d.CHM(w).$implicit,K=d.oxw(2);return V.stopPropagation(),d.KtG(K.copyField(oe))}),d._uU(2),d.qZA(),d.TgZ(3,"span",6),d.ynx(4,7),d.YNc(5,p,1,1,"app-billing-login",8),d.YNc(6,x,2,1,"span",9),d.YNc(7,R,2,1,"span",10),d.YNc(8,b,2,1,"span",11),d.BQk(),d.qZA()()}if(2&T){const w=y.$implicit;d.xp6(1),d.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+w.name),d.xp6(1),d.Oqu(w.name),d.xp6(2),d.Q6J("ngSwitch",w.wireframeFieldType),d.xp6(1),d.Q6J("ngSwitchCase","LOGIN"),d.xp6(1),d.Q6J("ngSwitchCase","PHONE_ARRAY"),d.xp6(1),d.Q6J("ngSwitchCase","ADDRESS")}}function F(T,y){if(1&T&&(d.ynx(0),d.TgZ(1,"div",2),d.YNc(2,s,9,6,"div",3),d.qZA(),d.BQk()),2&T){const w=d.oxw();d.xp6(2),d.Q6J("ngForOf",w.taskFields.inline)("ngForTrackBy",w.trackByField)}}function O(T,y){if(1&T){const w=d.EpF();d.TgZ(0,"div",4)(1,"span",5),d.NdJ("click",function(V){const oe=d.CHM(w).$implicit,K=d.oxw(2);return V.stopPropagation(),d.KtG(K.copyField(oe))}),d._uU(2),d.qZA(),d.TgZ(3,"span",6)(4,"span"),d._uU(5),d.qZA()()()}if(2&T){const w=y.$implicit;d.xp6(1),d.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+w.name),d.xp6(1),d.Oqu(w.name),d.xp6(3),d.Oqu(null==w?null:w.textRepresentation)}}function Q(T,y){if(1&T&&(d.ynx(0),d.TgZ(1,"div",16),d.YNc(2,O,6,3,"div",3),d.qZA(),d.BQk()),2&T){const w=d.oxw();d.xp6(2),d.Q6J("ngForOf",w.taskFields.block)("ngForTrackBy",w.trackByField)}}let N=(()=>{class T{constructor(w){this.toast=w,this.isTaskBody=!0}get taskFields(){var w,k,V,U,oe;const{fields:K,modelWireframe:H}=null!==(w=this.task)&&void 0!==w?w:{};if(!K||!H)return{inline:[],block:[]};const D=["LARGE_TEXT","COUNTING_LIVES"],P=["LIST_ONLY","LIST_AND_TELEGRAM","EXCEPT_THE_REGISTRY",null,void 0];return this.isTaskBody?{inline:null!==(k=K.filter(Y=>!D.includes(Y.wireframeFieldType)))&&void 0!==k?k:[],block:null!==(V=K.filter(Y=>D.includes(Y.wireframeFieldType)))&&void 0!==V?V:[]}:{inline:null!==(U=K.filter(Y=>P.includes(this.getDisplayType(Y.id))).filter(Y=>!D.includes(Y.wireframeFieldType)))&&void 0!==U?U:[],block:null!==(oe=K.filter(Y=>P.includes(this.getDisplayType(Y.id))).filter(Y=>D.includes(Y.wireframeFieldType)))&&void 0!==oe?oe:[]}}getDisplayType(w){var k,V,U,oe,K;return null!==(K=null===(oe=null===(U=null===(V=null===(k=this.task)||void 0===k?void 0:k.modelWireframe)||void 0===V?void 0:V.allFields)||void 0===U?void 0:U.find(H=>H.id===w))||void 0===oe?void 0:oe.displayType)&&void 0!==K?K:null}trackByField(w,k){return k?k.id+k.name+k.textRepresentation:""}ngOnInit(){}copyField(w){var k;e.cQ.copyToClipboard(null!==(k=w.textRepresentation)&&void 0!==k?k:"",this.toast,"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+w.name)}}return T.\u0275fac=function(w){return new(w||T)(d.Y36(u.ez))},T.\u0275cmp=d.Xpm({type:T,selectors:[["app-task-fields-table-view"]],inputs:{task:"task",isTaskBody:"isTaskBody"},decls:3,vars:2,consts:[[1,"p-3","flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-4"],["class","flex flex-column gap-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","gap-1"],["tooltipPosition","bottom",1,"text-bluegray-500","font-bold","hover:text-primary","w-fit",3,"pTooltip","click"],[1,"text-bluegray-600","text-xl"],[3,"ngSwitch"],[3,"loginData",4,"ngSwitchCase"],["class","flex flex-column",4,"ngSwitchCase"],["class","font-bold",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loginData"],[1,"flex","flex-column"],[3,"phoneData"],[1,"font-bold"],[1,"flex","flex-column","gap-2"]],template:function(w,k){1&w&&(d.TgZ(0,"div",0),d.YNc(1,F,3,2,"ng-container",1),d.YNc(2,Q,3,2,"ng-container",1),d.qZA()),2&w&&(d.xp6(1),d.Q6J("ngIf",k.taskFields.inline.length>0),d.xp6(1),d.Q6J("ngIf",k.taskFields.block.length>0))}}),T})()},4280:(dn,pt,C)=>{"use strict";C.d(pt,{d:()=>d});var e=C(7384);class d{static taskInput(p,x){if("OPTIONAL"===x)return null;switch(p){case e._r.BOOLEAN:return R=>d.isValueEmpty(R.value)?{required:!0}:!0===R.value||!1===R.value?null:{required:!0};case e._r.IP:return R=>d.isValueEmpty(R.value)||"0.0.0.0"===R.value?{required:!0}:null;case e._r.AD_SOURCE:case e._r.FLOAT:case e._r.INTEGER:case e._r.LOGIN:case e._r.LARGE_TEXT:case e._r.CONNECTION_TYPE:case e._r.COUNTING_LIVES:case e._r.REQUEST_INITIATOR:case e._r.SMALL_TEXT:return R=>d.isValueEmpty(R.value)?{required:!0}:null;case e._r.CONNECTION_SERVICES:case e._r.EQUIPMENTS:return R=>d.isValueEmpty(R.value)?{required:!0}:Array.isArray(R.value)&&0!==R.value.length?null:{required:!0};case e._r.PHONE_ARRAY:return R=>d.isValueEmpty(R.value)||Array.isArray(R.value)&&0===R.value.length||Object.keys(R.value).some(b=>!d.isValidUUID(b))||Object.values(R.value).some(b=>!d.isValidPhone(b))?{required:!0}:null;case e._r.ADDRESS:return R=>{var b,s,F,O,Q,N;const T=R.value;if(d.isValueEmpty(T))return{required:!0};switch(x){case"APARTMENT_ONLY":if(d.isValueEmpty(null===(b=T.city)||void 0===b?void 0:b.cityId)||d.isValueEmpty(null===(s=T.street)||void 0===s?void 0:s.streetId)||d.isValueEmpty(T.houseNum)||d.isValueEmpty(T.apartmentNum))return{required:!0};break;case"HOUSE_ONLY":if(d.isValueEmpty(null===(F=T.city)||void 0===F?void 0:F.cityId)||d.isValueEmpty(null===(O=T.street)||void 0===O?void 0:O.streetId)||d.isValueEmpty(T.houseNum))return{required:!0};break;case"ALL":if(d.isValueEmpty(null===(Q=T.city)||void 0===Q?void 0:Q.cityId)||d.isValueEmpty(null===(N=T.street)||void 0===N?void 0:N.streetId)||d.isValueEmpty(T.houseNum)||d.isValueEmpty(T.entrance)||d.isValueEmpty(T.floor)||d.isValueEmpty(T.apartmentNum))return{required:!0};break;default:return null}return null};case e._r.PASSPORT_DETAILS:return R=>{const b=R.value;return b?d.isValueEmpty(b.passportSeries)||d.isValueEmpty(b.passportNumber)||d.isValueEmpty(b.passportIssuedBy)||d.isValueEmpty(b.passportIssuedDate)?{required:!0}:null:{required:!0}};default:return R=>d.isValueEmpty(R.value)?{required:!0}:null}}static notEmpty(p){return d.isValueEmpty(p.value)||Array.isArray(p.value)&&0===p.value.length?{required:!0}:null}static isValueEmpty(p){return null==p||""===p}static isValidUUID(p){return"string"==typeof p&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(p)}static isValidPhone(p){return"string"==typeof p&&/^8 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(p)}static typeIsSwitchWithAddress(){return p=>!p||"commutator"in p.value&&p.value.commutator?null:{typized:!0}}}},5677:(dn,pt,C)=>{"use strict";C.d(pt,{GU:()=>F,Hw:()=>s,_P:()=>b,bQ:()=>O,kG:()=>Q,v4:()=>R});var e=C(4968),d=C(9300),u=C(4004),p=C(1884),x=C(727);function R(N,T){return function(y,w){const k=y.ngAfterViewInit?y.ngAfterViewInit:()=>{},V=y.ngOnDestroy?y.ngOnDestroy:()=>{};let U;y.ngAfterViewInit=function(){const oe=document.getElementById(N);if(!oe)throw new Error(`Element with id ${N} not found`);U=(0,e.R)(oe,T).subscribe(this[w]),k.apply(this,arguments)},y.ngOnDestroy=function(){null==U||U.unsubscribe(),V.apply(this,arguments)}}}function b(N){return function(T,y,w){const k=T.ngAfterViewInit?T.ngAfterViewInit:()=>{};T.ngAfterViewInit=function(){const V=document.getElementById(N);V&&w.value.call(this,V),k.apply(this,arguments)}}}function s(N){return function(T,y){const w=T.ngAfterViewInit?T.ngAfterViewInit:()=>{};T.ngAfterViewInit=function(){this.route.params.pipe((0,d.h)(k=>void 0!==k[N||y]),(0,u.U)(k=>k[N||y]),(0,p.x)()).subscribe(this[y]),w.apply(this,arguments)}}}function F(N){return function(T,y,w){const k=T.ngOnChanges?T.ngOnChanges:()=>{};T.ngOnChanges=function(V){V[N]&&w.value.call(this,V[N].currentValue),k.apply(this,arguments)}}}function O(N){return function(T,y){const w=T.ngOnChanges?T.ngOnChanges:()=>{};T.ngOnChanges=function(k){k[N]&&this[y].next(k[N].currentValue),w.apply(this,arguments)}}}function Q(){return function(N){const T=N.prototype.ngOnDestroy?N.prototype.ngOnDestroy:()=>{};N.prototype.ngOnDestroy=function(){for(let y in this)this[y]instanceof x.w0&&this[y].unsubscribe();T.apply(this,arguments)}}}},3460:(dn,pt,C)=>{"use strict";C.d(pt,{j:()=>d});var e=C(5e3);let d=(()=>{class u{constructor(){this.isVisible=!1}onScrollEvent(x){this.isVisible&&this.alignFn&&this.alignFn()}}return u.\u0275fac=function(x){return new(x||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","appCloseIfScroll",""]],hostBindings:function(x,R){1&x&&e.NdJ("scroll",function(s){return R.onScrollEvent(s)},!1,e.Jf7)},inputs:{isVisible:"isVisible",alignFn:"alignFn"}}),u})()},4028:(dn,pt,C)=>{"use strict";C.d(pt,{M:()=>F});var e=C(655),d=C(5e3),u=C(4707),p=C(3900),x=C(4968),R=C(8372),b=C(4004),s=C(5677);let F=class{constructor(Q){this.el=Q,this.delay=500,this.delayInput=new d.vpe,this.delayChange$=new u.t(1),this.sub=this.delayChange$.pipe((0,p.w)(N=>(0,x.R)(this.el.nativeElement,"input").pipe((0,R.b)(N))),(0,b.U)(N=>N.target.value)).subscribe(this.delayInput)}};F.\u0275fac=function(Q){return new(Q||F)(d.Y36(d.SBq))},F.\u0275dir=d.lG2({type:F,selectors:[["input"]],inputs:{delay:"delay"},outputs:{delayInput:"delayInput"}}),(0,e.gn)([(0,s.bQ)("delay")],F.prototype,"delayChange$",void 0),F=(0,e.gn)([(0,s.kG)()],F)},1886:(dn,pt,C)=>{"use strict";C.d(pt,{k:()=>d});var e=C(5e3);let d=(()=>{class u{constructor(){}letterChange(x){!x.ctrlKey&&this.patternRx&&!new RegExp(this.patternRx).test(x.target.value+x.key)&&!["Enter","Space","Tab","Backspace"].some(s=>s===x.key)&&x.preventDefault()}}return u.\u0275fac=function(x){return new(x||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","appRegexPatternChecker",""]],hostBindings:function(x,R){1&x&&e.NdJ("keydown",function(s){return R.letterChange(s)})},inputs:{patternRx:"patternRx"}}),u})()},2716:(dn,pt,C)=>{"use strict";C.d(pt,{J:()=>b});var e=C(2777),d=C(1110),u=C(7805),p=C(7092),x=C(6890),R=C(5e3);let b=(()=>{class s{constructor(O,Q,N){this.element=O,this.viewContainerRef=Q,this.componentFactoryResolver=N,this.arrayOfSubstitutions=[],this.loaded=!1}set value(O){!this.loaded||(this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents())}ngAfterViewInit(){this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents(),this.loaded=!0}ngOnInit(){}findTagsAndReplaceToPlaceholders(){const O=this.element.nativeElement;O.innerHTML=O.innerHTML.replaceAll(/\B#(\d+)/g,(k,V)=>(this.arrayOfSubstitutions.push({data:parseInt(V),type:"task"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),O.innerHTML=O.innerHTML.replaceAll(/\B@([A-z\d.\-_]+)/g,(k,V)=>(this.arrayOfSubstitutions.push({data:V,type:"employee"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),O.innerHTML=O.innerHTML.replaceAll(/\B\$(\d+)/g,(k,V)=>(this.arrayOfSubstitutions.push({data:parseInt(V),type:"department"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),O.innerHTML=O.innerHTML.replaceAll(/\B\^\((\d+)\)/g,(k,V)=>(this.arrayOfSubstitutions.push({data:parseInt(V),type:"appointedInstallers"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`)),O.innerHTML=O.innerHTML.replaceAll(/#CHAT\((\d+)\)/g,(k,V)=>(this.arrayOfSubstitutions.push({data:parseInt(V),type:"chat"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`))}replacePlaceholdersToComponents(){this.arrayOfSubstitutions.forEach((O,Q)=>{const T=this.element.nativeElement.querySelector(`#replace${Q}`);switch(O.type){case"task":T.replaceWith(e.U.createElement(parseInt(O.data)));break;case"employee":T.replaceWith(d.x.createElement(O.data,!0));break;case"department":T.replaceWith(u.y.createElement(O.data,!0));break;case"appointedInstallers":T.replaceWith(p._.createElement(O.data));break;case"chat":T.replaceWith(x.K.createElement(O.data))}})}}return s.\u0275fac=function(O){return new(O||s)(R.Y36(R.SBq),R.Y36(R.s_b),R.Y36(R._Vd))},s.\u0275dir=R.lG2({type:s,selectors:[["","appTextRevival",""]],inputs:{value:"value"}}),s})()},7514:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>T});var e=C(7445),d=C(2529),u=C(8505),p=C(2035),x=C(9646),R=C(4326),b=C(4482),s=C(5403),O=C(3900),Q=C(599),N=C(5e3);let T=(()=>{class y{constructor(k){this.elementRef=k}ngOnInit(){const k=this.elementRef.nativeElement,V=(0,e.F)(60).pipe((0,d.o)(()=>k.scrollWidth>k.scrollLeft+k.clientWidth),(0,u.b)(()=>{let U=Math.floor((k.scrollWidth-k.clientWidth)/55);U<1&&(U=1),k.scrollBy({left:U})}),(0,p.h)(1));this.subscription=(0,x.of)(null).pipe((0,R.g)(1e3),function F(y){return(0,b.e)((w,k)=>{let V=!1,U=0;w.subscribe(new s.Q(k,oe=>(V||(V=!y(oe,U++)))&&k.next(oe)))})}(()=>k.scrollWidth<=k.clientWidth),(0,O.w)(()=>V),(0,R.g)(1e3),(0,u.b)(()=>k.scrollTo({left:0})),(0,Q.r)()).subscribe()}ngOnDestroy(){var k;null===(k=this.subscription)||void 0===k||k.unsubscribe()}}return y.\u0275fac=function(k){return new(k||y)(N.Y36(N.SBq))},y.\u0275dir=N.lG2({type:y,selectors:[["","appTicker",""]]}),y})()},5107:(dn,pt,C)=>{"use strict";C.d(pt,{a:()=>b});var e=C(3470),d=C(262),u=C(9646),p=C(4004),x=C(5e3),R=C(8738);let b=(()=>{class s{constructor(O,Q){this.api=O,this.router=Q}canActivate(O,Q){return this.api.authCheckout().pipe((0,d.K)((N,T)=>(0,u.of)(this.router.createUrlTree(["/login"]))),(0,p.U)(N=>!(N instanceof e.lo)||N))}canActivateChild(O,Q){return this.api.authCheckout().pipe((0,d.K)((N,T)=>(0,u.of)(this.router.createUrlTree(["/login"]))),(0,p.U)(N=>!(N instanceof e.lo)||N))}}return s.\u0275fac=function(O){return new(O||s)(x.LFG(R.s),x.LFG(e.F0))},s.\u0275prov=x.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},8576:(dn,pt,C)=>{"use strict";C.d(pt,{U:()=>Cl});var e=C(9808),d=C(9706),u=C(5072),p=C(446),x=C(4304),R=C(655),b=C(5677),s=C(5e3),F=C(3470),O=C(4119),Q=C(330),N=C(7514);const T=["titleElem"],y=["wrapperElem"],w=["childElem"];function k(he,_t){if(1&he&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&he){const M=s.oxw();s.xp6(1),s.Oqu(M.caption)}}const V=function(he){return[he]},U=function(he){return{exact:he}};class oe{constructor(_t){this.route=_t,this.extendable=!1,this.icon="",this.caption="",this.elements=[],this.exact=!1,this.onlyIcon=!1,this._isExtended=!1,this.contextOptions=[]}set isExtended(_t){this.extendable&&(this._isExtended=_t,this.extending())}linkChanged(_t){this.contextOptions=_t&&_t.length>0?[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",icon:"mdi-open_in_new",command:()=>window.open(_t.join("/"),"_blank")},{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",icon:"mdi-web_asset",command:()=>window.open(_t.join("/"),"_blank","popup")}]:[]}ngAfterViewInit(){this.extendable&&this.extending()}ngOnInit(){}toggle(){!this.hasChild()||(this.isExtended=!this._isExtended)}hasChild(){return this.elements&&this.elements.length>0}extending(){!this.wrapperElem||!this.titleElem||(this._isExtended?(this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.wrapperElem.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",setTimeout(()=>{this.wrapperElem.nativeElement.style.height=this.titleElem.nativeElement.offsetHeight+"px"})))}}oe.\u0275fac=function(_t){return new(_t||oe)(s.Y36(F.gz))},oe.\u0275cmp=s.Xpm({type:oe,selectors:[["app-extended-menu-item"]],viewQuery:function(_t,M){if(1&_t&&(s.Gf(T,5),s.Gf(y,5),s.Gf(w,5)),2&_t){let se;s.iGM(se=s.CRH())&&(M.titleElem=se.first),s.iGM(se=s.CRH())&&(M.wrapperElem=se.first),s.iGM(se=s.CRH())&&(M.childElem=se.first)}},inputs:{extendable:"extendable",icon:"icon",caption:"caption",elements:"elements",link:"link",badge:"badge",exact:"exact",onlyIcon:"onlyIcon",isExtended:"isExtended"},decls:6,vars:13,consts:[["routerLinkActive","text-primary bg-primary-50",1,"flex","gap-2","align-items-center","px-3","py-2","white-space-nowrap","text-bluegray-300","select-none","outline-none","transition-colors","transition-duration-150","text-xl","border-right-2",3,"pTooltip","ngClass","routerLinkActiveOptions","routerLink","click"],["rla","routerLinkActive","titleElem",""],["appTicker","","class","overflow-hidden max-w-7rem white-space-nowrap",4,"ngIf"],["appendTo","body",3,"model","target"],["appTicker","",1,"overflow-hidden","max-w-7rem","white-space-nowrap"]],template:function(_t,M){if(1&_t&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(){return M.toggle()}),s._UZ(3,"span"),s.YNc(4,k,2,1,"span",2),s.qZA(),s._UZ(5,"p-contextMenu",3)),2&_t){const se=s.MAs(1),qe=s.MAs(2);s.Q6J("pTooltip",M.onlyIcon?M.caption:"")("ngClass",s.VKq(9,V,se.isActive?"border-primary":"hover:bg-bluegray-50 hover:text-bluegray-500 cursor-pointer border-white"))("routerLinkActiveOptions",s.VKq(11,U,M.exact))("routerLink",M.link),s.xp6(3),s.Tol(M.icon),s.xp6(1),s.Q6J("ngIf",!M.onlyIcon&&M.caption),s.xp6(1),s.Q6J("model",M.contextOptions)("target",qe)}},dependencies:[e.mk,e.O5,F.rH,F.Od,O.u,Q.xV,N.x],styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden;transition:height .2s ease-out;border-radius:.5rem}.title[_ngcontent-%COMP%]{padding:.7rem;font-size:1.2rem;color:var(--tc-700);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.title.active[_ngcontent-%COMP%]{color:var(--mc-0);background-color:var(--mc-500);cursor:default}.title[_ngcontent-%COMP%]:not(.active):hover{color:var(--mc-500)}.title[_ngcontent-%COMP%]:not(.active):active{color:var(--mc-500);background-color:var(--mc-0)}.title-icon[_ngcontent-%COMP%]{font-size:1.5rem}.title-expanded-icon[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(1,-.6,0,1.65)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),(0,R.gn)([(0,b.GU)("link")],oe.prototype,"linkChanged",null);var K=C(6288),H=C(5651),D=C(6502);function P(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"app-icon-button",4),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.clear())}),s.qZA()}2&he&&s.Q6J("size",1.4)}const Y=function(he){return{focused:he}};let re=(()=>{class he{constructor(){this.value="",this.valueChange=new s.vpe,this.onSearch=new s.vpe,this.onClear=new s.vpe,this.isInputFocus=!1}ngOnInit(){}clear(){this.value="",this.valueChange.emit(""),this.onClear.emit()}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-text-search-input"]],inputs:{value:"value"},outputs:{valueChange:"valueChange",onSearch:"onSearch",onClear:"onClear"},decls:4,vars:7,consts:[[1,"search-wrapper",3,"ngClass"],["placeholder","\u041e\u0431\u0449\u0438\u0439 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u0438\u0441\u043a...","type","text",1,"search-input",3,"ngModel","blur","focus","keyup","ngModelChange"],["icon","clear",3,"size","onClick",4,"ngIf"],["icon","search",3,"size","disabled","onClick"],["icon","clear",3,"size","onClick"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0)(1,"input",1),s.NdJ("blur",function(){return se.isInputFocus=!1})("focus",function(){return se.isInputFocus=!0})("keyup",function(Et){return"Enter"===Et.key&&se.onSearch.emit(se.value)})("ngModelChange",function(Et){return se.valueChange.emit(Et)})("ngModelChange",function(Et){return se.value=Et}),s.qZA(),s.YNc(2,P,1,1,"app-icon-button",2),s.TgZ(3,"app-icon-button",3),s.NdJ("onClick",function(){return se.onSearch.emit(se.value)}),s.qZA()()),2&M&&(s.Q6J("ngClass",s.VKq(5,Y,se.isInputFocus)),s.xp6(1),s.Q6J("ngModel",se.value),s.xp6(1),s.Q6J("ngIf",se.value),s.xp6(1),s.Q6J("size",1.4)("disabled",!se.value))},styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;padding:0 1rem;border-radius:999px;border:1px solid var(--bgc-200);width:100%;background-color:#fff;transition:border-color .1s ease-out}.search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;flex:1;font-size:1.2rem;min-width:5rem;padding:.9rem .3rem;color:var(--tc-600)}.search-wrapper[_ngcontent-%COMP%]:hover{border-color:var(--bgc-300)}.focused[_ngcontent-%COMP%]{border-color:var(--mc-300)!important}[_nghost-%COMP%]{max-width:30rem;width:100%}"]}),he})(),j=(()=>{class he{constructor(){}ngOnInit(){}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-circle-loading-indicator"]],decls:4,vars:0,consts:[[1,"loading-indicator"],[1,"circle","first"],[1,"circle","second"],[1,"circle","third"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0),s._UZ(1,"div",1)(2,"div",2)(3,"div",3),s.qZA())},styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.3rem;height:.8rem}.circle[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:1;border-radius:50%;background-color:#b2b9c230}.first[_ngcontent-%COMP%]{animation:1.2s pulse ease-in infinite}.second[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .4s infinite}.third[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .8s infinite}@keyframes pulse{0%{transform:scale(1);background-color:#b2b9c230}15%{transform:scale(.9);background-color:#b2b9c2}33%,to{transform:scale(1);background-color:#b2b9c230}}"]}),he})();var G=C(4707),ie=C(4004),Te=C(4782),Me=C(9300),de=C(6309),te=C(2382),ce=C(8028),J=C(8738),ve=C(2248);let be=(()=>{class he{constructor(M,se,qe,Et){this.router=M,this.personality=se,this.api=qe,this.taskCreator=Et,this.currentRoute$=new G.t(1),this.menuModel=[{caption:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:"mdi-home",link:["/"],exactMatch:!0},{caption:"\u0417\u0430\u0434\u0430\u0447\u0438",icon:"mdi-task",link:["/tasks"],children:[{caption:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",icon:"mdi-inventory_2",link:["/tasks","catalog"]},{caption:"\u0420\u0435\u0435\u0441\u0442\u0440",icon:"mdi-format_list_bulleted",link:["/tasks","registry"]},{caption:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c",icon:"mdi-calendar_month",link:["/tasks","calendar"]},{caption:"\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b",icon:"mdi-ballot",link:["/tasks","templates"],accessFlags:[de.j.EDIT_TASK_TEMPLATES,de.j.EDIT_TASK_TAGS,de.j.EDIT_DEVICES]}]},{caption:"\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b",icon:"mdi-group",link:["/clients","billing","search"],accessFlags:[de.j.BILLING]},{caption:"\u0410\u0434\u0440\u0435\u0441\u0430",icon:"mdi-home_work",link:["/addresses"],accessFlags:[de.j.EDIT_ADDRESS_BOOK,de.j.EDIT_HOUSE_ADDRESS_BOOK],children:[{caption:"\u0421\u043f\u0438\u0441\u043e\u043a",icon:"mdi-view_list",link:["/addresses","list"]},{caption:"\u0421\u0445\u0435\u043c\u044b \u0434\u043e\u043c\u043e\u0432",icon:"mdi-schema",link:["/addresses","schemes"]}]},{caption:"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f",icon:"mdi-hub",link:["/topology"],accessFlags:[de.j.VIEW_SWITCH,de.j.EDIT_SWITCH],children:[{caption:"\u0414\u043e\u043c\u0430",icon:"mdi-maps_home_work",link:["/topology","houses"]},{caption:"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b",icon:"mdi-dns",link:["/topology","commutators"]},{caption:"\u0421\u0435\u0442\u0438",icon:"mdi-lan",link:["/topology","nets"]},{caption:"\u0421\u0435\u0441\u0441\u0438\u0438",icon:"mdi-stream",link:["/topology","sessions"]}]},{caption:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",icon:"mdi-account_circle",link:["/employees"],accessFlags:[de.j.MANAGE_EMPLOYEES,de.j.MANAGE_DEPARTMENTS,de.j.MANAGE_POSITIONS]},{caption:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430",icon:"mdi-currency_ruble",link:["/salary"],accessFlags:[de.j.COUNT_SALARY,de.j.EDIT_PRICE],children:[{caption:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",icon:"mdi-table_chart",link:["/salary","table"],accessFlags:[de.j.COUNT_SALARY]},{caption:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442",icon:"mdi-exposure_plus_2",link:["/salary","estimation"],exactMatch:!0,accessFlags:[de.j.COUNT_SALARY]},{caption:"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)",icon:"mdi-auto_awesome",link:["/salary","estimation","bypass"],accessFlags:[de.j.COUNT_SALARY]},{caption:"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442",icon:"mdi-construction",link:["/salary","works"],accessFlags:[de.j.EDIT_PRICE]},{caption:"\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",icon:"mdi-toc",link:["/salary","paid-actions"],accessFlags:[de.j.EDIT_PRICE]}]},{caption:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b",icon:"mdi-description",link:["/contracts"],accessFlags:[de.j.MANAGE_CONTRACTS_TYPES,de.j.VIEW_CONTRACTS],children:[{caption:"\u041f\u0440\u0438\u0435\u043c\u043a\u0430",icon:"mdi-verified",link:["/contracts","inspection"],accessFlags:[de.j.VIEW_CONTRACTS]},{caption:"\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432",icon:"mdi-plagiarism",link:["/contracts","types"],accessFlags:[de.j.MANAGE_CONTRACTS_TYPES]}]},{caption:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",icon:"mdi-analytics",link:["/statistics"],accessFlags:[de.j.VIEW_STATISTICS],children:[{caption:"\u0420\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0438",icon:"mdi-work_history",link:["/statistics","employee-works"]}]},{caption:"\u0424\u0430\u0439\u043b\u044b",icon:"mdi-insert_drive_file",link:["/files"],accessFlags:[de.j.READ_WRITE_FILES]},{caption:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430",icon:"mdi-settings",link:["/system"],accessFlags:[de.j.MANAGE_SYSTEM_SETTINGS],children:[{caption:"\u0411\u0438\u043b\u043b\u0438\u043d\u0433",icon:"mdi-person_search",link:["/system","billing"]},{caption:"Telegram",icon:"pi pi-telegram text-2xl",link:["/system","telegram"]},{caption:"ACP",icon:"mdi-developer_board",link:["/system","acp"]}]}],this.currentSubmenu$=this.currentRoute$.pipe((0,ie.U)(ln=>{const Fn=this.menuModel.find(bi=>bi.link[0].substring(1)===ln[0]);return Fn&&Fn.children&&0!==Fn.children.length?Fn.children:null}),(0,Te.d)(1)),this.currentUser$=this.personality.userData$,this.avatarChangeDialogVisible=!1,this.phyPhoneSelectionDialogVisible=!1,this.phyPhoneControl=new te.NI(null),this.isPhyPhoneIsBinding=!1,this.userMenuOptions=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d",command:()=>this.openPhyPhoneSelectionDialog()},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1,this.phones$=this.api.getPhyPhoneList().pipe((0,ie.U)(ln=>[{label:"\u0411\u0435\u0437 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:null},...ln])),this.currentRoute$.next(this.router.url.substring(1).split("/")),this.router.events.pipe((0,Me.h)(ln=>ln instanceof F.m2),(0,ie.U)(ln=>ln.url.substring(1).split("/"))).subscribe(this.currentRoute$)}hasAccess(M){return!M.accessFlags||0==M.accessFlags.length||this.personality.isHasAccess(...M.accessFlags)}createTask(){this.taskCreator.standard()}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}openPhyPhoneSelectionDialog(){var M,se;this.personality.me&&this.phyPhoneControl.setValue(null!==(se=null===(M=this.personality.me.phyPhoneInfo)||void 0===M?void 0:M.phyPhoneInfoId)&&void 0!==se?se:null),this.phyPhoneSelectionDialogVisible=!0}imageCropped(M){this.croppedImage=M.base64}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(M){M.click()}bindPhone(){this.isPhyPhoneIsBinding=!0,this.api.setPhyPhoneBind(this.phyPhoneControl.value).subscribe({next:()=>{this.isPhyPhoneIsBinding=!1,this.phyPhoneSelectionDialogVisible=!1},error:()=>{this.isPhyPhoneIsBinding=!1}})}}return he.\u0275fac=function(M){return new(M||he)(s.LFG(F.F0),s.LFG(ce.F),s.LFG(J.s),s.LFG(ve.e))},he.\u0275prov=s.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Be(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",25),s._UZ(1,"app-avatar",26),s.TgZ(2,"div",27),s._uU(3),s.qZA(),s.TgZ(4,"button",28),s.NdJ("click",function(qe){s.CHM(M),s.oxw();const Et=s.MAs(11);return s.KtG(Et.toggle(qe))}),s.qZA()()}if(2&he){const M=_t.ngIf;s.xp6(1),s.Q6J("src",M.avatar)("name",M.fullName)("size",2.2),s.xp6(2),s.Oqu(M.fullName)}}function we(he,_t){if(1&he&&(s._UZ(0,"app-extended-menu-item",30),s.ALo(1,"async")),2&he){const M=s.oxw().$implicit,se=s.oxw();let qe;s.Q6J("onlyIcon",!!s.lcZ(1,5,se.menuService.currentSubmenu$))("caption",M.caption)("exact",null!==(qe=M.exactMatch)&&void 0!==qe&&qe)("icon",M.icon)("link",M.link)}}function ke(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,we,2,7,"app-extended-menu-item",29),s.BQk()),2&he){const M=_t.$implicit,se=s.oxw();s.xp6(1),s.Q6J("ngIf",se.menuService.hasAccess(M))}}function X(he,_t){if(1&he&&s._UZ(0,"app-extended-menu-item",32),2&he){const M=s.oxw().$implicit;let se;s.Q6J("caption",M.caption)("exact",null!==(se=M.exactMatch)&&void 0!==se&&se)("icon",M.icon)("link",M.link)}}function q(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,X,1,4,"app-extended-menu-item",31),s.BQk()),2&he){const M=_t.$implicit,se=s.oxw(2);s.xp6(1),s.Q6J("ngIf",se.menuService.hasAccess(M))}}function pe(he,_t){if(1&he&&(s.TgZ(0,"div",12),s.YNc(1,q,2,1,"ng-container",6),s.qZA()),2&he){const M=_t.ngIf;s.xp6(1),s.Q6J("ngForOf",M)}}function _e(he,_t){if(1&he&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&he){const M=s.oxw().caption;s.xp6(1),s.Oqu(M)}}function Xe(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",33),s.NdJ("click",function(){const Et=s.CHM(M).click;return s.KtG(Et)}),s._UZ(1,"span"),s.YNc(2,_e,2,1,"span",34),s.qZA()}if(2&he){const M=_t.icon,se=_t.ext;s.Q6J("ngClass","flex gap-2 align-items-center p-2 white-space-nowrap select-none outline-none transition-colors transition-duration-150 text-2xl justify-content-center cursor-pointer "+(_t.styleClass||"text-bluegray-300 hover:bg-bluegray-50 hover:text-bluegray-500")),s.xp6(1),s.Tol(M),s.xp6(1),s.Q6J("ngIf",se)}}function ct(he,_t){1&he&&(s.TgZ(0,"div",35),s._UZ(1,"i",36),s.qZA())}function ot(he,_t){if(1&he&&s._UZ(0,"img",37),2&he){const M=s.oxw();s.Q6J("src",M.menuService.croppedImage,s.LSH)}}const Zt=function(){return[]};function Dt(he,_t){if(1&he){const M=s.EpF();s._UZ(0,"p-dropdown",38),s.ALo(1,"async"),s.TgZ(2,"p-button",39),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.menuService.bindPhone())}),s.qZA()}if(2&he){const M=s.oxw();let se;s.Q6J("options",null!==(se=s.lcZ(1,4,M.menuService.phones$))&&void 0!==se?se:s.DdM(6,Zt))("formControl",M.menuService.phyPhoneControl)("disabled",M.menuService.isPhyPhoneIsBinding),s.xp6(2),s.Q6J("loading",M.menuService.isPhyPhoneIsBinding)}}const Cn=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let Xt=(()=>{class he{constructor(M){this.menuService=M}ngOnInit(){}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(be))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-main-menu-panel"]],decls:30,vars:37,consts:[[1,"sticky","z-5","top-0","h-screen","flex","flex-column","bg-white","border-right-1","border-bluegray-100","shadow-1","overflow-hidden"],[1,"flex","flex-column","p-3","gap-3"],["class","flex gap-2 align-items-center",4,"ngIf"],["pButton","","label","\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430","icon","mdi-add_task",1,"p-button-success","white-space-nowrap",3,"click"],[1,"flex","flex-grow-1"],[1,"flex","flex-column","w-full"],[4,"ngFor","ngForOf"],["class","flex flex-column",4,"ngIf"],["appendTo","body","appCloseIfScroll","",3,"model","popup","baseZIndex","isVisible","alignFn"],["menu",""],["buttonTemplate",""],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],[1,"flex","flex-column"],[1,"flex","gap-3","align-items-center","justify-content-center","p-2"],[1,"flex","gap-2","bg-bluegray-50","border-round-xl","text-bluegray-500","align-items-center","p-3","font-bold"],["class","w-6rem h-6rem border-circle fit-content object-fit-cover bg-bluegray-400 border-1\n                 border-bluegray-500 text-white text-xl flex align-items-center justify-content-center",4,"ngIf"],["class","w-6rem h-6rem border-circle fit-content object-fit-cover","alt","",3,"src",4,"ngIf"],[1,"flex","flex-column","gap-2"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","imageCropped"],["appendTo","body","header","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d","contentStyleClass","flex gap-3 align-items-center pt-1",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],[1,"flex","gap-2","align-items-center"],["shape","square",3,"src","name","size"],[1,"flex-grow-1","white-space-nowrap"],["pButton","","icon","mdi-more_vert",1,"p-button-secondary","p-button-icon","p-button-text","w-fit",3,"click"],[3,"onlyIcon","caption","exact","icon","link",4,"ngIf"],[3,"onlyIcon","caption","exact","icon","link"],[3,"caption","exact","icon","link",4,"ngIf"],[3,"caption","exact","icon","link"],[3,"ngClass","click"],[4,"ngIf"],[1,"w-6rem","h-6rem","border-circle","fit-content","object-fit-cover","bg-bluegray-400","border-1","border-bluegray-500","text-white","text-xl","flex","align-items-center","justify-content-center"],[1,"mdi-image"],["alt","",1,"w-6rem","h-6rem","border-circle","fit-content","object-fit-cover",3,"src"],["appendTo","body",3,"options","formControl","disabled"],["label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c",3,"loading","onClick"]],template:function(M,se){if(1&M){const qe=s.EpF();s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Be,5,4,"div",2),s.ALo(3,"async"),s.TgZ(4,"button",3),s.NdJ("click",function(){return se.menuService.createTask()}),s.qZA()(),s.TgZ(5,"div",4)(6,"div",5),s.YNc(7,ke,2,1,"ng-container",6),s.qZA(),s.YNc(8,pe,2,1,"div",7),s.ALo(9,"async"),s.qZA()(),s._UZ(10,"p-menu",8,9),s.YNc(12,Xe,3,4,"ng-template",null,10,s.W1O),s.TgZ(14,"p-dialog",11),s.NdJ("visibleChange",function(ln){return se.menuService.avatarChangeDialogVisible=ln}),s.TgZ(15,"div",12)(16,"div",13)(17,"div",14),s.YNc(18,ct,2,0,"div",15),s.YNc(19,ot,1,1,"img",16),s.TgZ(20,"span"),s._uU(21," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),s.qZA()(),s.TgZ(22,"div",17)(23,"p-button",18),s.NdJ("onClick",function(){s.CHM(qe);const ln=s.MAs(26);return s.KtG(se.menuService.selectFile(ln))}),s.qZA(),s.TgZ(24,"p-button",19),s.NdJ("onClick",function(){return se.menuService.saveAvatar()}),s.qZA()(),s.TgZ(25,"input",20,21),s.NdJ("change",function(ln){return se.menuService.imageChangedEvent=ln}),s.qZA()(),s.TgZ(27,"image-cropper",22),s.NdJ("imageCropped",function(ln){return se.menuService.imageCropped(ln)}),s.qZA()()(),s.TgZ(28,"p-dialog",23),s.NdJ("visibleChange",function(ln){return se.menuService.phyPhoneSelectionDialogVisible=ln}),s.YNc(29,Dt,3,7,"ng-template",24),s.qZA()}if(2&M){const qe=s.MAs(11);s.xp6(2),s.Q6J("ngIf",s.lcZ(3,32,se.menuService.currentUser$)),s.xp6(5),s.Q6J("ngForOf",se.menuService.menuModel),s.xp6(1),s.Q6J("ngIf",s.lcZ(9,34,se.menuService.currentSubmenu$)),s.xp6(2),s.Q6J("model",se.menuService.userMenuOptions)("popup",!0)("baseZIndex",2e3)("isVisible",qe.visible)("alignFn",qe.alignOverlay.bind(qe)),s.xp6(4),s.Q6J("visible",se.menuService.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),s.xp6(4),s.Q6J("ngIf",!se.menuService.croppedImage),s.xp6(1),s.Q6J("ngIf",se.menuService.croppedImage),s.xp6(4),s.Q6J("disabled",se.menuService.avatarUpload),s.xp6(1),s.Q6J("loading",se.menuService.avatarUpload)("disabled",!se.menuService.croppedImage),s.xp6(1),s.Udp("display","none"),s.xp6(2),s.Akn(s.DdM(36,Cn)),s.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",se.menuService.imageChangedEvent)("maintainAspectRatio",!0),s.xp6(1),s.Q6J("visible",se.menuService.phyPhoneSelectionDialogVisible)("draggable",!0)("modal",!0)("resizable",!1)("dismissableMask",!0)}},styles:[".menu-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:var(--shadow-0);background-color:#fff;border-radius:var(--br-200);height:-moz-fit-content;height:fit-content;min-width:20rem;padding:1rem;gap:1rem;position:sticky;top:calc(var(--top-panel-height) + 1.5rem)}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:.5rem;color:var(--tc-800);font-size:1.2rem;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.back-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.back-button[_ngcontent-%COMP%]:active{color:var(--mc-0);background-color:var(--mc-300)}"]}),he})();var jt=C(4e3),ht=C(3064);function ut(he,_t){1&he&&s.GkF(0)}function xe(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.hide(qe))}),s.YNc(1,ut,1,0,"ng-container",5),s.qZA()}if(2&he){s.oxw();const M=s.MAs(2);s.xp6(1),s.Q6J("ngTemplateOutlet",M)}}function De(he,_t){1&he&&(s.TgZ(0,"div",13),s._UZ(1,"p-progressSpinner",14),s.qZA())}function We(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",15),s.NdJ("mouseenter",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.showNavigation="unfade")})("mouseleave",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.showNavigation="fade")}),s.TgZ(1,"div",16),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",18),s._uU(5),s.qZA(),s.TgZ(6,"div",19),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&he){const M=s.oxw(3);s.xp6(1),s.Q6J("@fadeAlt",M.showNavigation),s.xp6(3),s.Q6J("@fadeFullAlt",M.showNavigation),s.xp6(1),s.AsE(" ",M.albumIndex+1," / ",M.mediaAlbum.length," "),s.xp6(1),s.Q6J("@fadeAlt",M.showNavigation)}}function gt(he,_t){1&he&&s._UZ(0,"ng-component")}function Tt(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",9),s.YNc(1,De,2,0,"div",10),s.TgZ(2,"img",11),s.NdJ("error",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.imageLoadError(qe))})("load",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.imageLoad(qe))}),s.qZA(),s.YNc(3,We,9,5,"div",12),s.YNc(4,gt,1,0,"ng-component",5),s.qZA()}if(2&he){const M=s.oxw(2),se=s.MAs(4);s.xp6(1),s.Q6J("ngIf",M.imageLoadingIndicator),s.xp6(1),s.Q6J("src",M.url,s.LSH),s.xp6(1),s.Q6J("ngIf",M.mediaAlbum&&M.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",se)}}function Ft(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",24)(1,"div",25),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",26),s._uU(5),s.qZA(),s.TgZ(6,"div",27),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&he){const M=s.oxw(3);s.xp6(5),s.AsE(" ",M.albumIndex+1," / ",M.mediaAlbum.length," ")}}function Ot(he,_t){1&he&&s._UZ(0,"ng-component")}const Oe=function(he){return{"controls-out":he}};function et(he,_t){if(1&he&&(s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"video",22),s.YNc(3,Ft,9,2,"div",23),s.qZA(),s.YNc(4,Ot,1,0,"ng-component",5),s.qZA()),2&he){const M=s.oxw(2),se=s.MAs(4);s.xp6(2),s.Q6J("ngClass",s.VKq(5,Oe,!(M.mediaAlbum&&M.mediaAlbum.length>1)))("controls",!0)("src",M.url,s.LSH),s.xp6(1),s.Q6J("ngIf",M.mediaAlbum&&M.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",se)}}function Ne(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",31)(1,"div",32),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",33),s._uU(5),s.qZA(),s.TgZ(6,"div",34),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&he){const M=s.oxw(3);s.xp6(5),s.AsE(" ",M.albumIndex+1," / ",M.mediaAlbum.length," ")}}function yt(he,_t){1&he&&s._UZ(0,"ng-component")}function ee(he,_t){if(1&he&&(s.TgZ(0,"div",28),s._UZ(1,"audio",29),s.YNc(2,Ne,9,2,"div",30),s.YNc(3,yt,1,0,"ng-component",5),s.qZA()),2&he){const M=s.oxw(2),se=s.MAs(4);s.xp6(1),s.Q6J("controls",!0)("src",M.url,s.LSH),s.xp6(1),s.Q6J("ngIf",M.mediaAlbum&&M.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",se)}}function Ze(he,_t){1&he&&(s.YNc(0,Tt,5,4,"div",6),s.YNc(1,et,5,7,"div",7),s.YNc(2,ee,4,4,"div",8)),2&he&&(s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"))}function Ce(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",35)(1,"span",36),s._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435"),s.qZA(),s.TgZ(3,"div",37)(4,"div",38)(5,"span",39),s._uU(6,"\u0418\u043c\u044f"),s.qZA(),s.TgZ(7,"span",40),s._uU(8),s.qZA()(),s.TgZ(9,"div",38)(10,"span",39),s._uU(11,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430"),s.qZA(),s.TgZ(12,"span",40),s._uU(13),s.qZA()(),s.TgZ(14,"div",38)(15,"span",39),s._uU(16,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),s.qZA(),s.TgZ(17,"span",40),s._uU(18),s.ALo(19,"date"),s.qZA()()(),s._UZ(20,"div",41),s.TgZ(21,"app-button",42),s.NdJ("onClick",function(){s.CHM(M);const qe=s.MAs(23);return s.KtG(qe.click())}),s.qZA(),s._UZ(22,"a",43,44),s.qZA()}if(2&he){const M=s.oxw();let se;s.xp6(8),s.Oqu(null==M.media?null:M.media.name),s.xp6(5),s.hij("",((null!==(se=null==M.media?null:M.media.size)&&void 0!==se?se:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442"),s.xp6(5),s.Oqu(s.lcZ(19,7,null==M.media?null:M.media.createdAt)),s.xp6(4),s.Udp("display","none"),s.Q6J("download",null==M.media?null:M.media.name)("href",M.url,s.LSH)}}let ft=(()=>{class he{constructor(M){this.service=M,this.showFullscreen=!1,this.albumIndex=0,this.showNavigation="fade",this.imageLoadingIndicator=!0}get url(){return this.media?"fileSystemItemId"in this.media?"/api/private/file/"+this.media.fileSystemItemId:"workLogTargetFileId"in this.media?"/api/private/work-log/target-file/"+this.media.workLogTargetFileId:"/api/private/attachment/"+this.media.name:null}ngOnInit(){this.service.media().subscribe({next:M=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.media=M,this.albumIndex=0,this.mediaAlbum=void 0}}),this.service.mediaAlbum().subscribe({next:M=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.albumIndex=M.index,this.mediaAlbum=M.album,this.media=this.mediaAlbum[this.albumIndex]}})}hide(M){M.target===M.currentTarget&&(this.showFullscreen=!1)}imageLoad(M){this.imageLoadingIndicator=!1}imageLoadError(M){}goPrev(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex>0?this.media=this.mediaAlbum[--this.albumIndex]:(this.albumIndex=this.mediaAlbum.length-1,this.media=this.mediaAlbum[this.albumIndex]))}goNext(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex<this.mediaAlbum.length-1?this.media=this.mediaAlbum[++this.albumIndex]:(this.albumIndex=0,this.media=this.mediaAlbum[this.albumIndex]))}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(ht.E))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-media-viewer"]],decls:5,vars:2,consts:[["class","page-cover",3,"click",4,"ngIf"],[3,"ngSwitch"],["content",""],["metadata",""],[1,"page-cover",3,"click"],[4,"ngTemplateOutlet"],["class","photo-view",4,"ngSwitchCase"],["class","video-view",4,"ngSwitchCase"],["class","audio-view",4,"ngSwitchCase"],[1,"photo-view"],["class","image-loading-indicator",4,"ngIf"],[3,"src","error","load"],["class","navigation",3,"mouseenter","mouseleave",4,"ngIf"],[1,"image-loading-indicator"],[1,"white-spinner"],[1,"navigation",3,"mouseenter","mouseleave"],[1,"navigation-button","back",3,"click"],[1,"material-icons-round"],[1,"navigation-counter"],[1,"navigation-button","forward",3,"click"],[1,"video-view"],[1,"video-wrapper"],[3,"ngClass","controls","src"],["class","video-navigation",4,"ngIf"],[1,"video-navigation"],[1,"video-navigation-button","back",3,"click"],[1,"video-navigation-counter"],[1,"video-navigation-button","forward",3,"click"],[1,"audio-view"],[3,"controls","src"],["class","audio-navigation",4,"ngIf"],[1,"audio-navigation"],[1,"audio-navigation-button","back",3,"click"],[1,"audio-navigation-counter"],[1,"audio-navigation-button","forward",3,"click"],[1,"metadata"],[1,"caption","size-big"],[1,"flexed","column","gap3","p5"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small","f-inline"],[1,"stretched"],["icon","download","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[3,"download","href"],["downloadLink",""]],template:function(M,se){1&M&&(s.YNc(0,xe,2,1,"div",0),s.YNc(1,Ze,3,3,"ng-template",1,2,s.W1O),s.YNc(3,Ce,24,9,"ng-template",null,3,s.W1O)),2&M&&(s.Q6J("ngIf",se.showFullscreen),s.xp6(1),s.Q6J("ngSwitch",null==se.media?null:se.media.type))},styles:[".page-cover[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:4201}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .image-loading-indicator[_ngcontent-%COMP%]{min-width:50vw;min-height:40vh;width:100%;height:100%;background-color:var(--bgc-200);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:2rem;grid-area:1/1/2/2;border-radius:.5rem 0 0 .5rem}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;object-fit:cover;object-position:center}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:calc(100% - 4rem);background-color:#000}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video.controls-out[_ngcontent-%COMP%]{height:100%!important}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;height:4rem;background-color:#fff}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]{display:flex;padding-top:1rem;gap:.5rem;flex-direction:column;align-items:center;width:max-content;height:max-content;background-color:#fff;border-radius:1rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5rem;align-self:stretch;align-items:center}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;grid-area:1/1/2/2}.navigation-counter[_ngcontent-%COMP%]{color:var(--tc-100);width:max-content;height:max-content;align-self:flex-end;margin-bottom:2rem;font-size:1.2rem;font-weight:500;text-shadow:0 0 4px rgba(0,0,0,.3)}.navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;opacity:.2;transition:opacity .2s ease-out;color:var(--tc-100)}.navigation-button[_ngcontent-%COMP%]:hover{opacity:1!important}.navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,.15))}.navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(270deg,rgba(0,0,0,0),rgba(0,0,0,.15))}"],data:{animation:[jt.PJ,jt.mo]}}),he})();var an=C(4881),Tn=C(1819),qt=C(1874),xt=C(845),Ct=C(4036),me=C(7010),lt=C(3407),$e=C(5315),Lt=C(3725),je=C(85),sn=C(6198),fn=C(8505),Gt=C(9744),On=C(8007),Bt=C(9014),rn=C(6768);const Hn=["chatPanelEl"];function zn(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"app-button",19),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.taskCreator.standard())}),s.qZA()}}function ri(he,_t){1&he&&s.GkF(0)}function Ci(he,_t){if(1&he&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&he){const M=_t.$implicit;s.xp6(1),s.hij(" ",M.name," ")}}function Qi(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"span",22)(1,"p-button",23),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw(3);return s.KtG(qe.commutatorRemoteUpdatePoolVisible=!0)}),s.qZA(),s.TgZ(2,"p-overlay",24,25),s.NdJ("visibleChange",function(qe){s.CHM(M);const Et=s.oxw(3);return s.KtG(Et.commutatorRemoteUpdatePoolVisible=qe)}),s.TgZ(4,"span",26),s._uU(5," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),s.qZA(),s.TgZ(6,"div",27),s.YNc(7,Ci,2,1,"div",28),s.qZA()(),s._UZ(8,"p-badge",29),s.qZA()}if(2&he){const M=s.MAs(3),se=s.oxw().ngIf,qe=s.oxw(2);s.xp6(2),s.Q6J("visible",qe.commutatorRemoteUpdatePoolVisible)("baseZIndex",2e3)("isVisible",M.visible)("alignFn",M.alignOverlay.bind(M)),s.xp6(5),s.Q6J("ngForOf",se),s.xp6(1),s.Q6J("value",se.length.toString())}}function oo(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Qi,9,6,"span",21),s.BQk()),2&he){const M=_t.ngIf;s.xp6(1),s.Q6J("ngIf",M&&M.length>0)}}function $o(he,_t){if(1&he&&(s.YNc(0,oo,2,1,"ng-container",20),s.ALo(1,"async")),2&he){const M=s.oxw();s.Q6J("ngIf",s.lcZ(1,1,M.commutatorRemoteUpdatePool$))}}function Vt(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"span",31),s._UZ(1,"i",32),s._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),s.qZA(),s._UZ(3,"div",5),s.TgZ(4,"p-button",33),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.notifyService.readAllNotifications())}),s.qZA()}if(2&he){const M=s.oxw();s.xp6(4),s.Q6J("disabled",!M.notifyService.isHasUnread)}}function Ye(he,_t){1&he&&s._UZ(0,"app-notification-item",38),2&he&&s.Q6J("notification",_t.$implicit)}function Ee(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",36),s.NdJ("onScrollToBottom",function(){s.CHM(M);const qe=s.oxw(2);return s.KtG(!qe.notifyService.isLast&&qe.notifyService.load())}),s.YNc(1,Ye,1,1,"app-notification-item",37),s.qZA()}if(2&he){const M=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",M.notifyService.list)}}function Qe(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",39)(1,"span",40),s._UZ(2,"i",41),s._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),s.qZA(),s.TgZ(4,"p-button",42),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw(2);return s.KtG(qe.notifyService.changeNotificationViewMode("ALL"))}),s.qZA()()}2&he&&s.Udp("padding-top","10rem")}function dt(he,_t){if(1&he&&(s.YNc(0,Ee,2,1,"div",34),s.YNc(1,Qe,5,2,"div",35)),2&he){const M=s.oxw();s.Q6J("ngIf",!M.notifyService.isEmpty),s.xp6(1),s.Q6J("ngIf",M.notifyService.isEmpty)}}function gn(he,_t){if(1&he&&s._UZ(0,"span"),2&he){const M=s.oxw().$implicit;s.Tol(M.icon+" text-xl")}}function xn(he,_t){if(1&he&&(s.TgZ(0,"div",43),s.YNc(1,gn,1,2,"span",44),s.TgZ(2,"span",45),s._uU(3),s.qZA()()),2&he){const M=_t.$implicit;s.xp6(1),s.Q6J("ngIf",M.icon),s.xp6(2),s.hij(" ",M.detail," ")}}function yn(he,_t){if(1&he&&s._UZ(0,"span"),2&he){const M=s.oxw().$implicit;s.Tol(M.icon+" text-xl")}}function Zn(he,_t){if(1&he&&(s.TgZ(0,"div",43),s.YNc(1,yn,1,2,"span",44),s.TgZ(2,"span",45),s._uU(3),s.qZA()()),2&he){const M=_t.$implicit;s.xp6(1),s.Q6J("ngIf",M.icon),s.xp6(2),s.hij(" ",M.detail," ")}}function $n(he,_t){1&he&&s._UZ(0,"p-progressSpinner",50)}function ti(he,_t){if(1&he&&s._UZ(0,"span",51),2&he){const M=s.oxw(2);s.Tol(M.blockUiService.icon),s.Q6J("ngClass",M.blockUiService.styleClass)}}function li(he,_t){if(1&he&&(s.TgZ(0,"span",51),s._uU(1),s.qZA()),2&he){const M=s.oxw(2);s.Q6J("ngClass",M.blockUiService.styleClass),s.xp6(1),s.Oqu(M.blockUiService.message)}}function mi(he,_t){if(1&he&&(s.TgZ(0,"div",46),s.YNc(1,$n,1,0,"p-progressSpinner",47),s.YNc(2,ti,1,3,"span",48),s.YNc(3,li,2,2,"span",49),s.qZA()),2&he){const M=s.oxw();s.xp6(1),s.Q6J("ngIf",M.blockUiService.isWait),s.xp6(1),s.Q6J("ngIf",!!M.blockUiService.icon),s.xp6(1),s.Q6J("ngIf",M.blockUiService.message)}}const oi=function(){return["/"]},Mi=function(){return{width:"max-content",maxWidth:"30vw"}},Wi=function(he,_t){return{alignItems:he,justifyContent:_t}};let wo=(()=>{class he{constructor(M,se,qe,Et,ln,Fn){this.router=M,this.notifyService=se,this.rt=qe,this.chatService=Et,this.taskCreator=ln,this.blockUiService=Fn,this.isTaskCreationPage=!1,this.commutatorRemoteUpdatePool$=this.rt.acpCommutatorsRemoteUpdatePool().pipe((0,fn.b)(bi=>{(!bi||0===bi.length)&&(this.commutatorRemoteUpdatePoolVisible=!1)})),this.commutatorRemoteUpdatePoolVisible=!1}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.openChatSub=this.chatService.open.subscribe(M=>{this.chatPanelEl&&this.chatPanelEl.show(M)})}ngOnDestroy(){var M;null===(M=this.openChatSub)||void 0===M||M.unsubscribe()}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(F.F0),s.Y36(Gt.T),s.Y36(On.U),s.Y36(Bt.a),s.Y36(ve.e),s.Y36(rn.A))},he.\u0275cmp=s.Xpm({type:he,selectors:[["ng-component"]],viewQuery:function(M,se){if(1&M&&s.Gf(Hn,5),2&M){let qe;s.iGM(qe=s.CRH())&&(se.chatPanelEl=qe.first)}},decls:29,vars:22,consts:[[1,"top-panel"],[1,"responsive-wrapper","top-panel-content"],["href","/"],["alt","","src","assets/logo-dark.svg",1,"cursor-pointer",3,"routerLink"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick",4,"ngIf"],[1,"stretched"],[1,"flex","gap-3"],[4,"ngTemplateOutlet"],["chatPanelEl",""],["commutatorPullRemoteUpdates",""],["appScrollToBottomEmitter","",3,"visible","blockScroll","position","showCloseIcon","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["key","darktoast","position","bottom-center"],["pTemplate","message"],["key","redtoast","position","bottom-center"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","p-4","w-full","h-full"],["class","flex flex-column gap-2 align-items-center justify-content-center bg-white border-round-2xl shadow-2 p-4 text-lg text-primary-400 font-semibold",4,"ngIf"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick"],[4,"ngIf"],["class","flex relative",4,"ngIf"],[1,"flex","relative"],["icon","mdi-upgrade","styleClass","p-button-outlined p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["appendTo","body","contentStyleClass","overlay flex flex-column","appCloseIfScroll","",3,"visible","baseZIndex","isVisible","alignFn","visibleChange"],["commOver",""],[1,"text-bluegray-400","font-bold","p-2"],[1,"flex","flex-column","max-h-20rem","overflow-y-auto"],["class","flex align-items-center p-3",4,"ngFor","ngForOf"],[1,"ur-badge",3,"value"],[1,"flex","align-items-center","p-3"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],["icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],["appScrollToBottomEmitter","","class","list-view flexed v-scroll",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"],[1,"flex","gap-3","flex-grow-1","h-full","align-items-center"],[3,"class",4,"ngIf"],[1,"font-bold"],[1,"flex","flex-column","gap-2","align-items-center","justify-content-center","bg-white","border-round-2xl","shadow-2","p-4","text-lg","text-primary-400","font-semibold"],["class","custom-spinner custom-spinner-primary custom-spinner-8xl","strokeWidth","2",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass",4,"ngIf"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[3,"ngClass"]],template:function(M,se){if(1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s._UZ(3,"img",3),s.qZA(),s.YNc(4,zn,1,0,"app-button",4),s._UZ(5,"div",5),s.TgZ(6,"div",6),s.YNc(7,ri,1,0,"ng-container",7),s.qZA(),s._UZ(8,"app-account-panel"),s.qZA()(),s._UZ(9,"router-outlet")(10,"app-notifications-popup-panel")(11,"p-confirmDialog")(12,"app-media-viewer")(13,"app-chat-panel",null,8),s.YNc(15,$o,2,3,"ng-template",null,9,s.W1O),s.TgZ(17,"p-sidebar",10),s.NdJ("onHide",function(){return se.notifyService.readAllNotifications()})("onShow",function(){return se.notifyService.load()})("visibleChange",function(Et){return se.notifyService.displaySideBar=Et}),s.YNc(18,Vt,5,1,"ng-template",11),s.YNc(19,dt,2,2,"ng-template",12),s.qZA(),s.TgZ(20,"p-toast",13),s.YNc(21,xn,4,2,"ng-template",14),s.qZA(),s.TgZ(22,"p-toast",15),s.YNc(23,Zn,4,2,"ng-template",14),s.qZA(),s._UZ(24,"app-float-dock-panel")(25,"app-terminal-float-panel"),s.TgZ(26,"p-blockUI",16)(27,"div",17),s.YNc(28,mi,4,3,"div",18),s.qZA()()),2&M){const qe=s.MAs(16);s.xp6(3),s.Udp("height","3rem"),s.Q6J("routerLink",s.DdM(17,oi)),s.xp6(1),s.Q6J("ngIf",!se.isTaskCreationPage),s.xp6(3),s.Q6J("ngTemplateOutlet",qe),s.xp6(10),s.Akn(s.DdM(18,Mi)),s.Q6J("visible",se.notifyService.displaySideBar)("blockScroll",!0)("position","right")("showCloseIcon",!1),s.xp6(9),s.Q6J("blocked",se.blockUiService.blocked)("autoZIndex",!se.blockUiService.zIndex)("baseZIndex",se.blockUiService.zIndex),s.xp6(1),s.Akn(s.WLB(19,Wi,se.blockUiService.align,se.blockUiService.justify)),s.xp6(1),s.Q6J("ngIf",se.blockUiService.isWait||se.blockUiService.message||se.blockUiService.icon)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.top-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bgc-000);border-bottom:1px solid var(--bgc-300);box-shadow:var(--shadow-0);position:sticky;margin-bottom:1.5rem;top:0;height:var(--top-panel-height);z-index:1009}.top-panel-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 1.5rem 1.5rem 2rem}"]}),he})();var ai=C(7773),Gi=C(1424),Eo=C(2537),Yo=C(9925),Co=C(2313);const $i=["wrapper"],is=["sourceImage"];function us(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"img",4,5),s.NdJ("load",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.imageLoadedInView())})("mousedown",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.startMove(qe,Et.moveTypes.Drag))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.startMove(qe,Et.moveTypes.Drag))}),s.qZA()}if(2&he){const M=s.oxw();s.Udp("visibility",M.imageVisible?"visible":"hidden")("transform",M.safeTransformStyle),s.ekj("ngx-ic-draggable",!M.disabled&&M.allowMoveImage),s.Q6J("src",M.safeImgDataUrl,s.LSH),s.uIk("alt",M.imageAltText)}}function _s(he,_t){if(1&he){const M=s.EpF();s.ynx(0),s.TgZ(1,"span",9),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"topleft"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"topleft"))}),s._UZ(2,"span",10),s.qZA(),s.TgZ(3,"span",11),s._UZ(4,"span",10),s.qZA(),s.TgZ(5,"span",12),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"topright"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"topright"))}),s._UZ(6,"span",10),s.qZA(),s.TgZ(7,"span",13),s._UZ(8,"span",10),s.qZA(),s.TgZ(9,"span",14),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"bottomright"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"bottomright"))}),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"span",15),s._UZ(12,"span",10),s.qZA(),s.TgZ(13,"span",16),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"bottomleft"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"bottomleft"))}),s._UZ(14,"span",10),s.qZA(),s.TgZ(15,"span",17),s._UZ(16,"span",10),s.qZA(),s.TgZ(17,"span",18),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"top"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"top"))}),s.qZA(),s.TgZ(18,"span",19),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"right"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"right"))}),s.qZA(),s.TgZ(19,"span",20),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"bottom"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"bottom"))}),s.qZA(),s.TgZ(20,"span",21),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"left"))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.startMove(qe,Et.moveTypes.Resize,"left"))}),s.qZA(),s.BQk()}}function fo(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",6),s.NdJ("keydown",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.keyboardAccess(qe))}),s.TgZ(1,"div",7),s.NdJ("mousedown",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.startMove(qe,Et.moveTypes.Move))})("touchstart",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.startMove(qe,Et.moveTypes.Move))}),s.qZA(),s.YNc(2,_s,21,0,"ng-container",8),s.qZA()}if(2&he){const M=s.oxw();s.Udp("top",M.cropper.y1,"px")("left",M.cropper.x1,"px")("width",M.cropper.x2-M.cropper.x1,"px")("height",M.cropper.y2-M.cropper.y1,"px")("margin-left","center"===M.alignImage?M.marginLeft:null)("visibility",M.imageVisible?"visible":"hidden"),s.ekj("ngx-ic-round",M.roundCropper),s.xp6(2),s.Q6J("ngIf",!M.hideResizeSquares)}}class Oo{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(_t){Object.keys(_t).filter(M=>M in this).forEach(M=>this[M]=_t[M]),this.validateOptions()}setOptionsFromChanges(_t){Object.keys(_t).filter(M=>M in this).forEach(M=>this[M]=_t[M].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Ti=(()=>{return(he=Ti||(Ti={})).Drag="drag",he.Move="move",he.Resize="resize",he.Pinch="pinch",Ti;var he})();function As(he,_t){return he/100*_t}let Ls=(()=>{class he{crop(M,se,qe,Et){const ln=this.getImagePosition(M,se,qe,Et),Fn=ln.x2-ln.x1,bi=ln.y2-ln.y1,lo=document.createElement("canvas");lo.width=Fn,lo.height=bi;const Uo=lo.getContext("2d");if(!Uo)return null;null!=Et.backgroundColor&&(Uo.fillStyle=Et.backgroundColor,Uo.fillRect(0,0,Fn,bi));const Wo=(Et.transform.scale||1)*(Et.transform.flipH?-1:1),ha=(Et.transform.scale||1)*(Et.transform.flipV?-1:1),{translateH:va,translateV:vl}=this.getCanvasTranslate(M,se,Et),ba=se.transformed;Uo.setTransform(Wo,0,0,ha,ba.size.width/2+va,ba.size.height/2+vl),Uo.translate(-ln.x1/Wo,-ln.y1/ha),Uo.rotate((Et.transform.rotate||0)*Math.PI/180),Uo.drawImage(ba.image,-ba.size.width/2,-ba.size.height/2);const ea={width:Fn,height:bi,imagePosition:ln,cropperPosition:Object.assign({},qe)};Et.containWithinAspectRatio&&(ea.offsetImagePosition=this.getOffsetImagePosition(M,se,qe,Et));const rl=this.getResizeRatio(Fn,bi,Et);return 1!==rl&&(ea.width=Math.round(Fn*rl),ea.height=Et.maintainAspectRatio?Math.round(ea.width/Et.aspectRatio):Math.round(bi*rl),function qo(he,_t,M){const se=he.width,qe=he.height,Et=se/(_t=Math.round(_t)),ln=qe/(M=Math.round(M)),Fn=Math.ceil(Et/2),bi=Math.ceil(ln/2),lo=he.getContext("2d");if(lo){const Uo=lo.getImageData(0,0,se,qe),Wo=lo.createImageData(_t,M),ha=Uo.data,va=Wo.data;for(let vl=0;vl<M;vl++)for(let ba=0;ba<_t;ba++){const ea=4*(ba+vl*_t),rl=vl*ln;let Fr=0,Fl=0,sd=0,rd=0,ad=0,Jc=0,tp=0;const np=Math.floor(ba*Et),ip=Math.floor(vl*ln);let wu=Math.ceil((ba+1)*Et),Qc=Math.ceil((vl+1)*ln);wu=Math.min(wu,se),Qc=Math.min(Qc,qe);for(let mc=ip;mc<Qc;mc++){const Gc=Math.abs(rl-mc)/bi,Eu=ba*Et,op=Gc*Gc;for(let Bl=np;Bl<wu;Bl++){const ld=Math.abs(Eu-Bl)/Fn,al=Math.sqrt(op+ld*ld);if(al>=1)continue;Fr=2*al*al*al-3*al*al+1;const Sa=4*(Bl+mc*se);tp+=Fr*ha[Sa+3],sd+=Fr,ha[Sa+3]<255&&(Fr=Fr*ha[Sa+3]/250),rd+=Fr*ha[Sa],ad+=Fr*ha[Sa+1],Jc+=Fr*ha[Sa+2],Fl+=Fr}}va[ea]=rd/Fl,va[ea+1]=ad/Fl,va[ea+2]=Jc/Fl,va[ea+3]=tp/sd}he.width=_t,he.height=M,lo.putImageData(Wo,0,0)}}(lo,ea.width,ea.height)),ea.base64=lo.toDataURL("image/"+Et.format,this.getQuality(Et)),ea}getCanvasTranslate(M,se,qe){if("px"===qe.transform.translateUnit){const Et=this.getRatio(M,se);return{translateH:(qe.transform.translateH||0)*Et,translateV:(qe.transform.translateV||0)*Et}}return{translateH:qe.transform.translateH?As(qe.transform.translateH,se.transformed.size.width):0,translateV:qe.transform.translateV?As(qe.transform.translateV,se.transformed.size.height):0}}getRatio(M,se){return se.transformed.size.width/M.nativeElement.offsetWidth}getImagePosition(M,se,qe,Et){const ln=this.getRatio(M,se),Fn={x1:Math.round(qe.x1*ln),y1:Math.round(qe.y1*ln),x2:Math.round(qe.x2*ln),y2:Math.round(qe.y2*ln)};return Et.containWithinAspectRatio||(Fn.x1=Math.max(Fn.x1,0),Fn.y1=Math.max(Fn.y1,0),Fn.x2=Math.min(Fn.x2,se.transformed.size.width),Fn.y2=Math.min(Fn.y2,se.transformed.size.height)),Fn}getOffsetImagePosition(M,se,qe,Et){const bi=se.transformed.size.width/M.nativeElement.offsetWidth;let lo,Uo;(Et.canvasRotation+se.exifTransform.rotate)%2?(lo=(se.transformed.size.width-se.original.size.height)/2,Uo=(se.transformed.size.height-se.original.size.width)/2):(lo=(se.transformed.size.width-se.original.size.width)/2,Uo=(se.transformed.size.height-se.original.size.height)/2);const Wo={x1:Math.round(qe.x1*bi)-lo,y1:Math.round(qe.y1*bi)-Uo,x2:Math.round(qe.x2*bi)-lo,y2:Math.round(qe.y2*bi)-Uo};return Et.containWithinAspectRatio||(Wo.x1=Math.max(Wo.x1,0),Wo.y1=Math.max(Wo.y1,0),Wo.x2=Math.min(Wo.x2,se.transformed.size.width),Wo.y2=Math.min(Wo.y2,se.transformed.size.height)),Wo}getResizeRatio(M,se,qe){const Et=qe.resizeToWidth/M,ln=qe.resizeToHeight/se,Fn=new Array;qe.resizeToWidth>0&&Fn.push(Et),qe.resizeToHeight>0&&Fn.push(ln);const bi=0===Fn.length?1:Math.min(...Fn);return bi>1&&!qe.onlyScaleDown?bi:Math.min(bi,1)}getQuality(M){return Math.min(1,Math.max(0,M.imageQuality/100))}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275prov=s.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),Hs=(()=>{class he{resetCropperPosition(M,se,qe){if(null==M||!M.nativeElement)return;const Et=M.nativeElement;if(qe.cropperStaticHeight&&qe.cropperStaticWidth)se.x1=0,se.x2=Et.offsetWidth>qe.cropperStaticWidth?qe.cropperStaticWidth:Et.offsetWidth,se.y1=0,se.y2=Et.offsetHeight>qe.cropperStaticHeight?qe.cropperStaticHeight:Et.offsetHeight;else{const ln=Math.min(qe.cropperScaledMaxWidth,Et.offsetWidth),Fn=Math.min(qe.cropperScaledMaxHeight,Et.offsetHeight);if(qe.maintainAspectRatio)if(Et.offsetWidth/qe.aspectRatio<Et.offsetHeight){se.x1=0,se.x2=ln;const bi=ln/qe.aspectRatio;se.y1=(Et.offsetHeight-bi)/2,se.y2=se.y1+bi}else{se.y1=0,se.y2=Fn;const bi=Fn*qe.aspectRatio;se.x1=(Et.offsetWidth-bi)/2,se.x2=se.x1+bi}else se.x1=0,se.x2=ln,se.y1=0,se.y2=Fn}}move(M,se,qe){const Et=this.getClientX(M)-se.clientX,ln=this.getClientY(M)-se.clientY;qe.x1=se.x1+Et,qe.y1=se.y1+ln,qe.x2=se.x2+Et,qe.y2=se.y2+ln}resize(M,se,qe,Et,ln){const Fn=this.getClientX(M)-se.clientX,bi=this.getClientY(M)-se.clientY;switch(se.position){case"left":qe.x1=Math.min(Math.max(se.x1+Fn,qe.x2-ln.cropperScaledMaxWidth),qe.x2-ln.cropperScaledMinWidth);break;case"topleft":qe.x1=Math.min(Math.max(se.x1+Fn,qe.x2-ln.cropperScaledMaxWidth),qe.x2-ln.cropperScaledMinWidth),qe.y1=Math.min(Math.max(se.y1+bi,qe.y2-ln.cropperScaledMaxHeight),qe.y2-ln.cropperScaledMinHeight);break;case"top":qe.y1=Math.min(Math.max(se.y1+bi,qe.y2-ln.cropperScaledMaxHeight),qe.y2-ln.cropperScaledMinHeight);break;case"topright":qe.x2=Math.max(Math.min(se.x2+Fn,qe.x1+ln.cropperScaledMaxWidth),qe.x1+ln.cropperScaledMinWidth),qe.y1=Math.min(Math.max(se.y1+bi,qe.y2-ln.cropperScaledMaxHeight),qe.y2-ln.cropperScaledMinHeight);break;case"right":qe.x2=Math.max(Math.min(se.x2+Fn,qe.x1+ln.cropperScaledMaxWidth),qe.x1+ln.cropperScaledMinWidth);break;case"bottomright":qe.x2=Math.max(Math.min(se.x2+Fn,qe.x1+ln.cropperScaledMaxWidth),qe.x1+ln.cropperScaledMinWidth),qe.y2=Math.max(Math.min(se.y2+bi,qe.y1+ln.cropperScaledMaxHeight),qe.y1+ln.cropperScaledMinHeight);break;case"bottom":qe.y2=Math.max(Math.min(se.y2+bi,qe.y1+ln.cropperScaledMaxHeight),qe.y1+ln.cropperScaledMinHeight);break;case"bottomleft":qe.x1=Math.min(Math.max(se.x1+Fn,qe.x2-ln.cropperScaledMaxWidth),qe.x2-ln.cropperScaledMinWidth),qe.y2=Math.max(Math.min(se.y2+bi,qe.y1+ln.cropperScaledMaxHeight),qe.y1+ln.cropperScaledMinHeight);break;case"center":const lo=M.scale,Uo=Math.min(Math.max(ln.cropperScaledMinWidth,Math.abs(se.x2-se.x1)*lo),ln.cropperScaledMaxWidth),Wo=Math.min(Math.max(ln.cropperScaledMinHeight,Math.abs(se.y2-se.y1)*lo),ln.cropperScaledMaxHeight);qe.x1=se.clientX-Uo/2,qe.x2=se.clientX+Uo/2,qe.y1=se.clientY-Wo/2,qe.y2=se.clientY+Wo/2,qe.x1<0?(qe.x2-=qe.x1,qe.x1=0):qe.x2>Et.width&&(qe.x1-=qe.x2-Et.width,qe.x2=Et.width),qe.y1<0?(qe.y2-=qe.y1,qe.y1=0):qe.y2>Et.height&&(qe.y1-=qe.y2-Et.height,qe.y2=Et.height)}ln.maintainAspectRatio&&this.checkAspectRatio(se.position,qe,Et,ln)}checkAspectRatio(M,se,qe,Et){let ln=0,Fn=0;switch(M){case"top":se.x2=se.x1+(se.y2-se.y1)*Et.aspectRatio,ln=Math.max(se.x2-qe.width,0),Fn=Math.max(0-se.y1,0),(ln>0||Fn>0)&&(se.x2-=Fn*Et.aspectRatio>ln?Fn*Et.aspectRatio:ln,se.y1+=Fn*Et.aspectRatio>ln?Fn:ln/Et.aspectRatio);break;case"bottom":se.x2=se.x1+(se.y2-se.y1)*Et.aspectRatio,ln=Math.max(se.x2-qe.width,0),Fn=Math.max(se.y2-qe.height,0),(ln>0||Fn>0)&&(se.x2-=Fn*Et.aspectRatio>ln?Fn*Et.aspectRatio:ln,se.y2-=Fn*Et.aspectRatio>ln?Fn:ln/Et.aspectRatio);break;case"topleft":se.y1=se.y2-(se.x2-se.x1)/Et.aspectRatio,ln=Math.max(0-se.x1,0),Fn=Math.max(0-se.y1,0),(ln>0||Fn>0)&&(se.x1+=Fn*Et.aspectRatio>ln?Fn*Et.aspectRatio:ln,se.y1+=Fn*Et.aspectRatio>ln?Fn:ln/Et.aspectRatio);break;case"topright":se.y1=se.y2-(se.x2-se.x1)/Et.aspectRatio,ln=Math.max(se.x2-qe.width,0),Fn=Math.max(0-se.y1,0),(ln>0||Fn>0)&&(se.x2-=Fn*Et.aspectRatio>ln?Fn*Et.aspectRatio:ln,se.y1+=Fn*Et.aspectRatio>ln?Fn:ln/Et.aspectRatio);break;case"right":case"bottomright":se.y2=se.y1+(se.x2-se.x1)/Et.aspectRatio,ln=Math.max(se.x2-qe.width,0),Fn=Math.max(se.y2-qe.height,0),(ln>0||Fn>0)&&(se.x2-=Fn*Et.aspectRatio>ln?Fn*Et.aspectRatio:ln,se.y2-=Fn*Et.aspectRatio>ln?Fn:ln/Et.aspectRatio);break;case"left":case"bottomleft":se.y2=se.y1+(se.x2-se.x1)/Et.aspectRatio,ln=Math.max(0-se.x1,0),Fn=Math.max(se.y2-qe.height,0),(ln>0||Fn>0)&&(se.x1+=Fn*Et.aspectRatio>ln?Fn*Et.aspectRatio:ln,se.y2-=Fn*Et.aspectRatio>ln?Fn:ln/Et.aspectRatio);break;case"center":se.x2=se.x1+(se.y2-se.y1)*Et.aspectRatio,se.y2=se.y1+(se.x2-se.x1)/Et.aspectRatio;const bi=Math.max(0-se.x1,0),lo=Math.max(se.x2-qe.width,0),Uo=Math.max(se.y2-qe.height,0),Wo=Math.max(0-se.y1,0);(bi>0||lo>0||Uo>0||Wo>0)&&(se.x1+=Uo*Et.aspectRatio>bi?Uo*Et.aspectRatio:bi,se.x2-=Wo*Et.aspectRatio>lo?Wo*Et.aspectRatio:lo,se.y1+=Wo*Et.aspectRatio>lo?Wo:lo/Et.aspectRatio,se.y2-=Uo*Et.aspectRatio>bi?Uo:bi/Et.aspectRatio)}}getClientX(M){var se;return(null===(se=M.touches)||void 0===se?void 0:se[0].clientX)||M.clientX||0}getClientY(M){var se;return(null===(se=M.touches)||void 0===se?void 0:se[0].clientY)||M.clientY||0}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275prov=s.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();let Po=(()=>{class he{constructor(){this.autoRotateSupported=function Dr(){return new Promise(he=>{const _t=new Image;_t.onload=()=>{he(1===_t.width&&2===_t.height)},_t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(M,se){return new Promise((qe,Et)=>{const ln=new FileReader;ln.onload=Fn=>{this.loadImage(Fn.target.result,M.type,se).then(qe).catch(Et)},ln.readAsDataURL(M)})}loadImage(M,se,qe){return this.isValidImageType(se)?this.loadBase64Image(M,qe):Promise.reject(new Error("Invalid image type"))}isValidImageType(M){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(M)}loadImageFromURL(M,se){return new Promise((qe,Et)=>{const ln=new Image;ln.onerror=()=>Et,ln.onload=()=>{const Fn=document.createElement("canvas"),bi=Fn.getContext("2d");Fn.width=ln.width,Fn.height=ln.height,null==bi||bi.drawImage(ln,0,0),this.loadBase64Image(Fn.toDataURL(),se).then(qe)},ln.crossOrigin="anonymous",ln.src=M})}loadBase64Image(M,se){return new Promise((qe,Et)=>{const ln=new Image;ln.onload=()=>qe({originalImage:ln,originalBase64:M}),ln.onerror=Et,ln.src=M}).then(qe=>this.transformImageBase64(qe,se))}transformImageBase64(M,se){return(0,R.mG)(this,void 0,void 0,function*(){const qe=yield this.autoRotateSupported,Et=yield function Da(he){switch("string"==typeof he&&(he=function Hr(he){const _t=new DataView(function hr(he){he=he.replace(/^data\:([^\;]+)\;base64,/gim,"");const _t=atob(he),M=_t.length,se=new Uint8Array(M);for(let qe=0;qe<M;qe++)se[qe]=_t.charCodeAt(qe);return se.buffer}(he));if(65496!==_t.getUint16(0,!1))return-2;const M=_t.byteLength;let se=2;for(;se<M;){if(_t.getUint16(se+2,!1)<=8)return-1;const qe=_t.getUint16(se,!1);if(se+=2,65505==qe){if(1165519206!==_t.getUint32(se+=2,!1))return-1;const Et=18761==_t.getUint16(se+=6,!1);se+=_t.getUint32(se+4,Et);const ln=_t.getUint16(se,Et);se+=2;for(let Fn=0;Fn<ln;Fn++)if(274==_t.getUint16(se+12*Fn,Et))return _t.getUint16(se+12*Fn+8,Et)}else{if(65280!=(65280&qe))break;se+=_t.getUint16(se,!1)}}return-1}(he)),he){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(qe?-1:M.originalBase64);return M.originalImage&&M.originalImage.complete?this.transformLoadedImage({original:{base64:M.originalBase64,image:M.originalImage,size:{width:M.originalImage.naturalWidth,height:M.originalImage.naturalHeight}},exifTransform:Et},se):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(M,se){return(0,R.mG)(this,void 0,void 0,function*(){const qe=se.canvasRotation+M.exifTransform.rotate,Et={width:M.original.image.naturalWidth,height:M.original.image.naturalHeight};if(0===qe&&!M.exifTransform.flip&&!se.containWithinAspectRatio)return{original:{base64:M.original.base64,image:M.original.image,size:Object.assign({},Et)},transformed:{base64:M.original.base64,image:M.original.image,size:Object.assign({},Et)},exifTransform:M.exifTransform};const ln=this.getTransformedSize(Et,M.exifTransform,se),Fn=document.createElement("canvas");Fn.width=ln.width,Fn.height=ln.height;const bi=Fn.getContext("2d");null==bi||bi.setTransform(M.exifTransform.flip?-1:1,0,0,1,Fn.width/2,Fn.height/2),null==bi||bi.rotate(Math.PI*(qe/2)),null==bi||bi.drawImage(M.original.image,-Et.width/2,-Et.height/2);const lo=Fn.toDataURL(),Uo=yield this.loadImageFromBase64(lo);return{original:{base64:M.original.base64,image:M.original.image,size:Object.assign({},Et)},transformed:{base64:lo,image:Uo,size:{width:Uo.width,height:Uo.height}},exifTransform:M.exifTransform}})}loadImageFromBase64(M){return new Promise((se,qe)=>{const Et=new Image;Et.onload=()=>se(Et),Et.onerror=qe,Et.src=M})}getTransformedSize(M,se,qe){const Et=qe.canvasRotation+se.rotate;if(qe.containWithinAspectRatio){if(Et%2){const Fn=M.height/qe.aspectRatio;return{width:Math.max(M.height,M.width*qe.aspectRatio),height:Math.max(M.width,Fn)}}{const Fn=M.width/qe.aspectRatio;return{width:Math.max(M.width,M.height*qe.aspectRatio),height:Math.max(M.height,Fn)}}}return Et%2?{height:M.width,width:M.height}:{width:M.width,height:M.height}}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275prov=s.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),Ri=(()=>{class he{constructor(M,se,qe,Et,ln){this.cropService=M,this.cropperPositionService=se,this.loadImageService=qe,this.sanitizer=Et,this.cd=ln,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new Oo,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Ti,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new s.vpe,this.startCropImage=new s.vpe,this.imageLoaded=new s.vpe,this.cropperReady=new s.vpe,this.loadImageFailed=new s.vpe,this.transformChange=new s.vpe,this.reset()}ngOnChanges(M){var se;this.onChangesUpdateSettings(M),this.onChangesInputImage(M),(null===(se=this.loadedImage)||void 0===se?void 0:se.original.image.complete)&&(M.containWithinAspectRatio||M.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(qe=>this.setLoadedImage(qe)).catch(qe=>this.loadImageError(qe)),(M.cropper||M.maintainAspectRatio||M.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!M.maintainAspectRatio&&!M.aspectRatio?M.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),M.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),M.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(M){this.settings.setOptionsFromChanges(M),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(M){(M.imageChangedEvent||M.imageURL||M.imageBase64||M.imageFile)&&this.reset(),M.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),M.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),M.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),M.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var M,se,qe;return(null===(qe=null===(se=null===(M=this.imageChangedEvent)||void 0===M?void 0:M.target)||void 0===se?void 0:se.files)||void 0===qe?void 0:qe.length)>0}setCssTransform(){var M;const se=(null===(M=this.transform)||void 0===M?void 0:M.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${se}, ${this.transform.translateV||0}${se}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(M){this.loadImageService.loadImageFile(M,this.settings).then(se=>this.setLoadedImage(se)).catch(se=>this.loadImageError(se))}loadBase64Image(M){this.loadImageService.loadBase64Image(M,this.settings).then(se=>this.setLoadedImage(se)).catch(se=>this.loadImageError(se))}loadImageFromURL(M){this.loadImageService.loadImageFromURL(M,this.settings).then(se=>this.setLoadedImage(se)).catch(se=>this.loadImageError(se))}setLoadedImage(M){this.loadedImage=M,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(M.transformed.base64),this.cd.markForCheck()}loadImageError(M){console.error(M),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var M,se;return(null===(se=null===(M=this.sourceImage)||void 0===M?void 0:M.nativeElement)||void 0===se?void 0:se.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const M=new this.Hammer(this.wrapper.nativeElement);M.get("pinch").set({enable:!0}),M.on("pinchmove",this.onPinch.bind(this)),M.on("pinchend",this.pinchStop.bind(this)),M.on("pinchstart",this.startPinch.bind(this))}else(0,s.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const M=this.sourceImage.nativeElement;(this.maxSize.width!==M.offsetWidth||this.maxSize.height!==M.offsetHeight)&&(this.cropper.x1=this.cropper.x1*M.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*M.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*M.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*M.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(M){this.changeKeyboardStepSize(M),this.keyboardMoveCropper(M)}changeKeyboardStepSize(M){const se=+M.key;se>=1&&se<=9&&(this.settings.stepSize=se)}keyboardMoveCropper(M){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(M.key))return;const qe=M.shiftKey?Ti.Resize:Ti.Move,Et=M.altKey?function ds(he){switch(he){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(M.key):function Ks(he){switch(he){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(M.key),ln=function mo(he,_t){switch(he){case"ArrowUp":return{clientX:0,clientY:-1*_t};case"ArrowRight":return{clientX:_t,clientY:0};case"ArrowDown":return{clientX:0,clientY:_t};default:return{clientX:-1*_t,clientY:0}}}(M.key,this.settings.stepSize);M.preventDefault(),M.stopPropagation(),this.startMove({clientX:0,clientY:0},qe,Et),this.moveImg(ln),this.moveStop()}startMove(M,se,qe=null){var Et,ln;this.disabled||(null===(Et=this.moveStart)||void 0===Et?void 0:Et.active)&&(null===(ln=this.moveStart)||void 0===ln?void 0:ln.type)===Ti.Pinch||se===Ti.Drag&&!this.allowMoveImage||(M.preventDefault&&M.preventDefault(),this.moveStart=Object.assign({active:!0,type:se,position:qe,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(M),clientY:this.cropperPositionService.getClientY(M)},this.cropper))}startPinch(M){!this.safeImgDataUrl||(M.preventDefault&&M.preventDefault(),this.moveStart=Object.assign({active:!0,type:Ti.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(M){var se,qe;if(this.moveStart.active){if(M.stopPropagation&&M.stopPropagation(),M.preventDefault&&M.preventDefault(),this.moveStart.type===Ti.Move)this.cropperPositionService.move(M,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Ti.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(M,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Ti.Drag){const Et=this.cropperPositionService.getClientX(M)-this.moveStart.clientX,ln=this.cropperPositionService.getClientY(M)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(se=this.moveStart.transform)||void 0===se?void 0:se.translateH)||0)+Et,translateV:((null===(qe=this.moveStart.transform)||void 0===qe?void 0:qe.translateV)||0)+ln}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(M){this.moveStart.active&&(M.stopPropagation&&M.stopPropagation(),M.preventDefault&&M.preventDefault(),this.moveStart.type===Ti.Pinch&&(this.cropperPositionService.resize(M,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const M=this.sourceImage.nativeElement;this.maxSize.width=M.offsetWidth,this.maxSize.height=M.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var M,se;null!==(se=null===(M=this.loadedImage)||void 0===M?void 0:M.transformed)&&void 0!==se&&se.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var M,se;if(null!==(se=null===(M=this.loadedImage)||void 0===M?void 0:M.transformed)&&void 0!==se&&se.image){const qe=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/qe:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/qe:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(M=!1){this.cropper.x1<0&&(this.cropper.x2-=M?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=M?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=M?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=M?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var M;this.moveStart.active&&(this.moveStart.active=!1,(null===(M=this.moveStart)||void 0===M?void 0:M.type)===Ti.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var M,se;if(null!=(null===(se=null===(M=this.loadedImage)||void 0===M?void 0:M.transformed)||void 0===se?void 0:se.image)){this.startCropImage.emit();const qe=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=qe&&this.imageCropped.emit(qe),qe}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(Ls),s.Y36(Hs),s.Y36(Po),s.Y36(Co.H7),s.Y36(s.sBO))},he.\u0275cmp=s.Xpm({type:he,selectors:[["image-cropper"]],viewQuery:function(M,se){if(1&M&&(s.Gf($i,7),s.Gf(is,5)),2&M){let qe;s.iGM(qe=s.CRH())&&(se.wrapper=qe.first),s.iGM(qe=s.CRH())&&(se.sourceImage=qe.first)}},hostVars:6,hostBindings:function(M,se){1&M&&s.NdJ("resize",function(){return se.onResize()},!1,s.Jf7)("mousemove",function(Et){return se.moveImg(Et)},!1,s.evT)("touchmove",function(Et){return se.moveImg(Et)},!1,s.evT)("mouseup",function(){return se.moveStop()},!1,s.evT)("touchend",function(){return se.moveStop()},!1,s.evT),2&M&&(s.Udp("text-align",se.alignImage),s.ekj("disabled",se.disabled)("ngx-ix-hidden",se.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[s.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(M,se){1&M&&(s.TgZ(0,"div",null,0),s.YNc(2,us,2,8,"img",1),s._UZ(3,"div",2),s.YNc(4,fo,3,15,"div",3),s.qZA()),2&M&&(s.Udp("background",se.imageVisible&&se.backgroundColor),s.xp6(2),s.Q6J("ngIf",se.safeImgDataUrl),s.xp6(1),s.Udp("width",se.maxSize.width,"px")("height",se.maxSize.height,"px")("margin-left","center"===se.alignImage?se.marginLeft:null),s.xp6(1),s.Q6J("ngIf",se.imageVisible))},dependencies:[e.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),he})(),No=(()=>{class he{}return he.\u0275fac=function(M){return new(M||he)},he.\u0275mod=s.oAB({type:he}),he.\u0275inj=s.cJS({imports:[[e.ez]]}),he})();var Rs=C(4500),Vr=C(1886),ws=C(1921),Es=C(1828),jo=C(1208),sr=C(9354),os=C(3640),Cs=C(6073),zr=C(2340);function gr(){const he=new Cs.f;return he.configure((()=>{var he;return{brokerURL:zr.N.wsHost,connectHeaders:{passcode:"guest",login:null!==(he=localStorage.getItem("token"))&&void 0!==he?he:""},heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:_t=>{}}})()),he.activate(),he}var $s=C(3078),rr=C(2777),fr=C(6526),Mr=C(7307),vs=C(6888),bs=C(9618),ys=C(2062),Ss=C(8506),ks=C(5834),Vs=C(1588);let ia=(()=>{class he{constructor(M){this.hostElement=M,this.focusAfterInit=!0}ngAfterViewInit(){this.focusAfterInit&&setTimeout(()=>this.hostElement.focus())}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(Eo.vy))},he.\u0275dir=s.lG2({type:he,selectors:[["","focusAfterInit",""]],inputs:{focusAfterInit:"focusAfterInit"}}),he})();const oa=function(){return{width:"100%"}};function sa(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",3)(1,"p-inputMask",4),s.NdJ("ngModelChange",function(qe){const ln=s.CHM(M).$implicit,Fn=s.oxw();return s.KtG(Fn.controlValue[ln.key]=qe)})("ngModelChange",function(qe){const ln=s.CHM(M).$implicit,Fn=s.oxw();return Fn.controlValue[ln.key]=qe,s.KtG(Fn.onChange(Fn.controlValue))})("onBlur",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.onBlur.emit())}),s.qZA(),s.TgZ(2,"button",5),s.NdJ("click",function(){const Et=s.CHM(M).$implicit,ln=s.oxw();return s.KtG(ln.removePhone(Et.key))}),s.qZA()()}if(2&he){const M=_t.$implicit,se=s.oxw();s.xp6(1),s.Akn(s.DdM(6,oa)),s.Q6J("ngModel",se.controlValue[M.key])("focusAfterInit",!0)("disabled",se.disable),s.xp6(1),s.Q6J("disabled",se.count<2||se.disable)}}let Jr=(()=>{class he{constructor(){this.controlValue={},this.disable=!1,this.autoFocusFlag=!1,this.inputClasses={},this.onBlur=new s.vpe,this.onChange=M=>{},this.onTouched=()=>{}}get count(){return this.controlValue?Object.keys(this.controlValue).length:0}setDisabledState(M){this.disable=M}ngAfterViewInit(){}ngOnInit(){}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}writeValue(M){this.controlValue=M}appendPhone(){this.controlValue||(this.controlValue={});const M=(0,Vs.Z)();this.controlValue[M]="",this.onChange(this.controlValue)}removePhone(M){!this.controlValue||(delete this.controlValue[M],this.onChange(this.controlValue))}valuesTrack(M,se){return se.key}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-phone-list-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:te.JU,useExisting:(0,s.Gpc)(()=>he),multi:!0}])],decls:4,vars:5,consts:[[1,"flexed","gap5","column"],["class","p-inputgroup",4,"ngFor","ngForOf","ngForTrackBy"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",3,"disabled","onClick"],[1,"p-inputgroup"],["mask","8 (999) 999-99-99",3,"ngModel","focusAfterInit","disabled","ngModelChange","onBlur"],["icon","pi pi-trash","pButton","","type","button",1,"p-button-danger",3,"disabled","click"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0),s.YNc(1,sa,3,7,"div",1),s.ALo(2,"keyvalue"),s.TgZ(3,"app-button",2),s.NdJ("onClick",function(){return se.appendPhone()}),s.qZA()()),2&M&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,3,se.controlValue))("ngForTrackBy",se.valuesTrack),s.xp6(2),s.Q6J("disabled",se.disable))},dependencies:[e.sg,xt.Hq,te.JJ,te.On,Eo.vy,p.r,ia,e.Nd]}),he})();var xs=C(1110),_o=C(5787);let zs=(()=>{class he{}return he.\u0275fac=function(M){return new(M||he)},he.\u0275mod=s.oAB({type:he}),he.\u0275inj=s.cJS({imports:[e.ez,_o.T]}),he})();var Qr=C(2716);const xo=function(he){return{unread:he}};let vo=(()=>{class he{constructor(M){this.notifyService=M,this.notification={}}ngOnInit(){}getIcon(M){return this.notifyService.icons[M]+" icon header"}getTitle(M){return this.notifyService.titles[M]}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(Gt.T))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:9,vars:11,consts:[[1,"notification",3,"ngClass"],[1,"title","header"],["appTextRevival","",1,"description","indent05"],[1,"timestamp"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0),s._UZ(1,"i"),s.TgZ(2,"span",1),s._uU(3),s.qZA(),s.TgZ(4,"div",2),s._uU(5),s.qZA(),s.TgZ(6,"span",3),s._uU(7),s.ALo(8,"date"),s.qZA()()),2&M&&(s.Q6J("ngClass",s.VKq(9,xo,se.notification.unread)),s.xp6(1),s.Tol(se.getIcon(se.notification.type)),s.xp6(2),s.hij(" ",se.getTitle(se.notification.type)," "),s.xp6(2),s.hij(" ",se.notification.message," "),s.xp6(2),s.hij(" ",s.xi3(8,6,se.notification.created,"dd MMMM yyyy HH:mm")," "))},dependencies:[e.mk,Qr.J,e.uU],styles:['[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}[_nghost-%COMP%]{flex:1}.notification[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;align-items:center;opacity:.5;transition:opacity .2s ease-in-out;cursor:default;grid:repeat(3,min-content)/repeat(2,min-content);grid-template-areas:"icon title title" ". description description" "timestamp timestamp timestamp"}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]{opacity:1}.notification.unread[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--mc-400)}.notification[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{grid-area:icon}.notification[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title}.notification[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-weight:500;font-size:.9rem;color:var(--tc-700);white-space:pre-line}.notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{grid-area:timestamp;font-size:.8rem;font-weight:700;place-self:flex-end;color:var(--tc-300)}.header[_ngcontent-%COMP%]{color:var(--tc-600)}.header.icon[_ngcontent-%COMP%]{font-size:1.4rem}.header.title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}']}),he})();var Ns=C(8913),Di=C(3460),Ia=C(9955),mr=C(7805),Gr=C(7092),Vo=C(1e3),_r=C(4132),as=C(5055),qs=C(5652),ra=C(7433),Qn=C(1777),Oi=C(5730),ro=C(9783),ji=C(5921);function qi(he,_t){1&he&&s.GkF(0)}function Ca(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.close(qe))})("keydown.enter",function(qe){s.CHM(M);const Et=s.oxw(2);return s.KtG(Et.close(qe))}),s._UZ(1,"span",9),s.qZA()}if(2&he){const M=s.oxw(2);s.uIk("aria-label",M.ariaCloseLabel)}}function Cr(he,_t){1&he&&s.GkF(0)}function Fs(he,_t){1&he&&s.GkF(0)}const Ta=function(he,_t,M,se,qe,Et){return{"p-sidebar":!0,"p-sidebar-active":he,"p-sidebar-left":_t,"p-sidebar-right":M,"p-sidebar-top":se,"p-sidebar-bottom":qe,"p-sidebar-full":Et}},Ts=function(he,_t){return{transform:he,transition:_t}},Js=function(he){return{value:"visible",params:he}};function aa(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("@panelState.start",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.onAnimationStart(qe))})("@panelState.done",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.onAnimationEnd(qe))}),s.TgZ(2,"div",3),s.YNc(3,qi,1,0,"ng-container",4),s.YNc(4,Ca,2,1,"button",5),s.qZA(),s.TgZ(5,"div",6),s.Hsn(6),s.YNc(7,Cr,1,0,"ng-container",4),s.qZA(),s.TgZ(8,"div",7),s.YNc(9,Fs,1,0,"ng-container",4),s.qZA()()}if(2&he){const M=s.oxw();s.Tol(M.styleClass),s.Q6J("ngClass",s.HTZ(10,Ta,M.visible,"left"===M.position&&!M.fullScreen,"right"===M.position&&!M.fullScreen,"top"===M.position&&!M.fullScreen,"bottom"===M.position&&!M.fullScreen,M.fullScreen))("@panelState",s.VKq(20,Js,s.WLB(17,Ts,M.transformOptions,M.transitionOptions)))("ngStyle",M.style),s.uIk("aria-modal",M.modal),s.xp6(3),s.Q6J("ngTemplateOutlet",M.headerTemplate),s.xp6(1),s.Q6J("ngIf",M.showCloseIcon),s.xp6(3),s.Q6J("ngTemplateOutlet",M.contentTemplate),s.xp6(2),s.Q6J("ngTemplateOutlet",M.footerTemplate)}}const st=["*"],ze=(0,Qn.oQ)([(0,Qn.oB)({transform:"{{transform}}",opacity:0}),(0,Qn.jt)("{{transition}}")]),Pe=(0,Qn.oQ)([(0,Qn.jt)("{{transition}}",(0,Qn.oB)({transform:"{{transform}}",opacity:0}))]);let Pt=(()=>{class he{constructor(M,se,qe,Et){this.el=M,this.renderer=se,this.cd=qe,this.config=Et,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(M=>{switch(M.getType()){case"content":default:this.contentTemplate=M.template;break;case"header":this.headerTemplate=M.template;break;case"footer":this.footerTemplate=M.template}})}get visible(){return this._visible}set visible(M){this._visible=M}get position(){return this._position}set position(M){switch(this._position=M,M){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(M){this._fullScreen=M,M&&(this.transformOptions="none")}show(){this.autoZIndex&&ji.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(M){this.hide(),this.visibleChange.emit(!1),M.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),Oi.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",M=>{this.dismissible&&this.close(M)})),document.body.appendChild(this.mask),this.blockScroll&&Oi.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Oi.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&Oi.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(M){"visible"===M.toState&&(this.container=M.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(M){"void"===M.toState&&(this.hide(),ji.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Oi.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",se=>{27==se.which&&parseInt(this.container.style.zIndex)===ji.P9.get(this.container)&&this.close(se)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&ji.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(ro.b4))},he.\u0275cmp=s.Xpm({type:he,selectors:[["p-sidebar"]],contentQueries:function(M,se,qe){if(1&M&&s.Suo(qe,ro.jx,4),2&M){let Et;s.iGM(Et=s.CRH())&&(se.templates=Et)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:st,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(M,se){1&M&&(s.F$t(),s.YNc(0,aa,10,22,"div",0)),2&M&&s.Q6J("ngIf",se.visible)},dependencies:[e.mk,e.O5,e.tP,e.PC,_o.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,Qn.X$)("panelState",[(0,Qn.eR)("void => visible",[(0,Qn._7)(ze)]),(0,Qn.eR)("visible => void",[(0,Qn._7)(Pe)])])]},changeDetection:0}),he})(),Rn=(()=>{class he{}return he.\u0275fac=function(M){return new(M||he)},he.\u0275mod=s.oAB({type:he}),he.\u0275inj=s.cJS({imports:[e.ez,_o.T]}),he})(),di=(()=>{class he{constructor(){this.onScrollToBottom=new s.vpe}onScroll(M){M.target.scrollHeight-Math.abs(M.target.scrollTop)-M.target.clientHeight<25&&this.onScrollToBottom.emit()}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275dir=s.lG2({type:he,selectors:[["","appScrollToBottomEmitter",""]],hostBindings:function(M,se){1&M&&s.NdJ("scroll",function(Et){return se.onScroll(Et)})},outputs:{onScrollToBottom:"onScrollToBottom"}}),he})();function no(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",1),s.NdJ("mouseleave",function(){const Et=s.CHM(M).$implicit,ln=s.oxw();return s.KtG(ln.notifyService.resumeClosure(Et.notificationId))})("mouseenter",function(){const Et=s.CHM(M).$implicit,ln=s.oxw();return s.KtG(ln.notifyService.suspendClosing(Et.notificationId))}),s._UZ(1,"app-notification-item",2),s.TgZ(2,"div",3),s.NdJ("click",function(){const Et=s.CHM(M).$implicit,ln=s.oxw();return s.KtG(ln.notifyService.close(Et.notificationId))}),s.qZA()()}if(2&he){const M=_t.$implicit;s.Q6J("@flowLeft",void 0),s.xp6(1),s.Q6J("notification",M)}}let Fo=(()=>{class he{constructor(M){this.notifyService=M}ngOnInit(){}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(Gt.T))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-notifications-popup-panel"]],decls:1,vars:1,consts:[["class","notification-wrapper",3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"notification-wrapper",3,"mouseleave","mouseenter"],[3,"notification"],[1,"close-button","mdi-close",3,"click"]],template:function(M,se){1&M&&s.YNc(0,no,3,2,"div",0),2&M&&s.Q6J("ngForOf",se.notifyService.receivedNotifications)},dependencies:[e.sg,vo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:max-content;min-width:25rem;max-width:30vw;height:auto;max-height:70vh;position:fixed;top:100px;right:1rem;z-index:1010;gap:1rem;transition:all .5s ease-in-out}.notification-wrapper[_ngcontent-%COMP%]{display:flex;background-color:#fff;box-shadow:0 0 1px 1px #0000001a,0 .1rem 1rem #0000000d;border-radius:.5rem;padding:.3rem .6rem;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:.7rem;cursor:pointer;transition:all .2s ease-in-out;color:var(--tc-500)}.close-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"],data:{animation:[jt.zW]}}),he})();var ss=C(383),Ds=C(8050);const Xs=["contextMenu"];function vr(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(){const Et=s.CHM(M).$implicit;s.oxw();const ln=s.MAs(1);return Et.command(),s.KtG(ln.hide())}),s._UZ(1,"i"),s.TgZ(2,"span"),s._uU(3),s.qZA()()}if(2&he){const M=_t.$implicit;s.Tol("context-button "+M.style),s.xp6(1),s.Tol(M.icon),s.xp6(2),s.Oqu(M.label)}}const Lr=function(){return{minWidth:"max-content",transform:"translate(1rem, .3rem)"}};var br=(()=>((br||(br={})).DANGER="danger",br))();let Wr=(()=>{class he{constructor(){this.contextMenuVisible=!1,this.contextButtons=[],this.onShow=new s.vpe,this.onHide=new s.vpe}ngOnInit(){}show(M,se){!this.contextMenu||(M.preventDefault(),this.contextButtons=se,this.contextMenu.target=M.target,this.contextMenuVisible?this.contextMenu.alignOverlay():setTimeout(()=>{!this.contextMenu||this.contextMenu.show()}))}onScrollEvent(M){!this.contextMenu||this.contextMenu.visible&&this.contextMenu.alignOverlay()}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-context-menu"]],viewQuery:function(M,se){if(1&M&&s.Gf(Xs,5),2&M){let qe;s.iGM(qe=s.CRH())&&(se.contextMenu=qe.first)}},hostBindings:function(M,se){1&M&&s.NdJ("scroll",function(Et){return se.onScrollEvent(Et)},!1,s.Jf7)},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:5,consts:[["appendTo","body",3,"visible","visibleChange","onShow","onHide"],["contextMenu",""],[1,"context-body"],["pRipple","",3,"class","click",4,"ngFor","ngForOf"],["pRipple","",3,"click"]],template:function(M,se){1&M&&(s.TgZ(0,"p-overlay",0,1),s.NdJ("visibleChange",function(Et){return se.contextMenuVisible=Et})("onShow",function(){return se.onShow.emit()})("onHide",function(){return se.onHide.emit()}),s.TgZ(2,"div",2),s.YNc(3,vr,4,5,"div",3),s.qZA()()),2&M&&(s.Akn(s.DdM(4,Lr)),s.Q6J("visible",se.contextMenuVisible),s.xp6(3),s.Q6J("ngForOf",se.contextButtons))},dependencies:[e.sg,Ds.aV,_o.H],styles:[".context-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;overflow:hidden;box-shadow:0 0 .8px #00000006,0 0 2.1px #00000009,0 0 5.1px #0000000c,0 0 17px #00000012}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:min-content;padding:.7rem 1.4rem .7rem 1.2rem;cursor:pointer;gap:.3rem;transition:all .15s ease-in-out;font-size:1rem;color:var(--tc-600);-webkit-user-select:none;user-select:none}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]{color:var(--danger-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-100);color:var(--danger-800)}"]}),he})();var Ms=C(8372),zo=C(4968),yr=C(4482),Aa=C(5403),Ka=C(8421),pl=C(5032);function Fe(he){return(0,yr.e)((_t,M)=>{let se=!1;const qe=new Aa.Q(M,()=>{null==qe||qe.unsubscribe(),se=!0},pl.Z);(0,Ka.Xf)(he).subscribe(qe),_t.subscribe(new Aa.Q(M,Et=>se&&M.next(Et)))})}var mt=C(2722),Ge=C(599),Mt=C(8185),tn=C(4776);let Mn=(()=>{class he{transform(M){return null!=M||null!=M?Math.floor("string"==typeof M?parseFloat(M):M):null}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275pipe=s.Yjl({name:"floor",type:he,pure:!0}),he})();const Nn=["player"],ci=["volumeOverlay"],Xi=["durationControl"],ao=["timeOverlay"];function ho(he,_t){1&he&&s._UZ(0,"i",28)}function Ji(he,_t){1&he&&s._UZ(0,"i",29)}function Bo(he,_t){1&he&&s._UZ(0,"i",30)}function Ki(he,_t){1&he&&s._UZ(0,"i",31)}function Jo(he,_t){if(1&he&&s._UZ(0,"div",32),2&he){const M=s.oxw();s.Udp("left",M.markerPosition+"px")}}function er(he,_t){1&he&&s._UZ(0,"i",33)}function tr(he,_t){1&he&&s._UZ(0,"i",34)}function hs(he,_t){1&he&&s._UZ(0,"i",35)}function ar(he,_t){1&he&&s._UZ(0,"i",36)}const vt=function(he){return{disabled:he}},le=function(){return{height:".7rem"}},ge=function(){return{transform:"translate(-25%, 1rem)"}};var Ke=(()=>{return(he=Ke||(Ke={})).Paused="Paused",he.Playing="Playing",he.Loading="Loading",he.Error="Error",Ke;var he})();let It=(()=>{class he{constructor(){this.playerState=Ke.Loading,this.currentTime=0,this.totalTime=0,this.subscriptions=new ss.xf,this.showVolumeLevel=!1,this.showTimeMarker=!1}get markerPosition(){return this.totalTime&&this.durationControl?this.currentTime/this.totalTime*this.durationControl.nativeElement.clientWidth:0}get totalMinutes(){return Math.floor(this.totalTime/60).toString().padStart(2,"0")}get totalSeconds(){return Math.floor(this.totalTime%60).toString().padStart(2,"0")}get currentMinutes(){return Math.floor(this.currentTime/60).toString().padStart(2,"0")}get currentSeconds(){return Math.floor(this.currentTime%60).toString().padStart(2,"0")}ngOnInit(){}ngAfterViewInit(){if(this.player){const M=this.player.nativeElement;this.subscriptions.addSubscription("onLoad",(0,zo.R)(M,"loadeddata",{capture:!0}).subscribe(()=>{this.playerState=Ke.Paused})),this.subscriptions.addSubscription("onPlay",(0,zo.R)(M,"play",{capture:!0}).subscribe(()=>{this.playerState=Ke.Playing})),this.subscriptions.addSubscription("onPause",(0,zo.R)(M,"pause",{capture:!0}).subscribe(()=>{this.playerState=Ke.Paused})),this.subscriptions.addSubscription("onAbort",(0,zo.R)(M,"abort",{capture:!0}).subscribe(()=>{this.playerState=Ke.Error})),this.subscriptions.addSubscription("onError",(0,zo.R)(M,"error",{capture:!0}).subscribe(()=>{this.playerState=Ke.Error})),this.subscriptions.addSubscription("onEmptied",(0,zo.R)(M,"emptied",{capture:!0}).subscribe(()=>{this.playerState=Ke.Error})),this.subscriptions.addSubscription("onTimeupdate",(0,zo.R)(M,"timeupdate",{capture:!0}).subscribe(()=>{this.currentTime=M.currentTime})),this.subscriptions.addSubscription("onDurationchange",(0,zo.R)(M,"durationchange",{capture:!0}).subscribe(()=>{this.totalTime=M.duration}))}if(this.player&&this.durationControl){const M=this.player.nativeElement,se=this.durationControl.nativeElement,qe=(0,zo.R)(document,"mousemove"),Et=(0,zo.R)(se,"mousedown").pipe((0,fn.b)(()=>{M.pause(),this.showTimeMarker=!0})),ln=(0,zo.R)(document,"mouseup").pipe(Fe(Et),(0,fn.b)(this.calculateTime.bind(this)),(0,fn.b)(()=>{this.playerState=Ke.Loading}),(0,fn.b)(this.changeTime.bind(this))),Fn=qe.pipe(Fe(Et),(0,mt.R)(ln),(0,Ge.r)()).subscribe(this.calculateTime.bind(this));this.subscriptions.addSubscription("mouseMove",Fn)}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}calculateTime(M){var se;if(this.player&&this.durationControl){const Et=this.durationControl.nativeElement,ln=this.player.nativeElement;let lo=(M.clientX-Et.getBoundingClientRect().left)/Et.clientWidth;lo<0?lo=0:lo>1&&(lo=1),this.currentTime=lo*ln.duration,null===(se=this.timeOverlay)||void 0===se||se.alignOverlay()}}changeTime(M){if(this.showTimeMarker=!1,this.player){const se=this.player.nativeElement;se.currentTime=this.currentTime,se.play()}}playerButtonClick(){var M,se;switch(this.playerState){case Ke.Playing:null===(M=this.player)||void 0===M||M.nativeElement.pause();break;case Ke.Paused:null===(se=this.player)||void 0===se||se.nativeElement.play()}}changeVolume(M){this.player&&(this.player.nativeElement.volume=M.value)}openVolumeOverlay(){this.showVolumeLevel=!0}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-audio-player"]],viewQuery:function(M,se){if(1&M&&(s.Gf(Nn,5),s.Gf(ci,5),s.Gf(Xi,5),s.Gf(ao,5)),2&M){let qe;s.iGM(qe=s.CRH())&&(se.player=qe.first),s.iGM(qe=s.CRH())&&(se.volumeOverlay=qe.first),s.iGM(qe=s.CRH())&&(se.durationControl=qe.first),s.iGM(qe=s.CRH())&&(se.timeOverlay=qe.first)}},inputs:{url:"url"},decls:33,vars:39,consts:[[1,"flexed","hend","full-width","gap5"],[1,"play-button",3,"ngClass","click"],[3,"ngSwitch"],["class","mdi-play_arrow",4,"ngSwitchCase"],["class","mdi-pause",4,"ngSwitchCase"],["class","mdi-downloading",4,"ngSwitchCase"],["class","mdi-warning",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap3"],[1,"timeline"],["durationControl",""],[3,"showValue","value"],["class","timeline-marker",3,"left",4,"ngIf"],["appendTo","body",3,"visible"],["timeOverlay",""],[1,"time-overlay"],[1,"flexed","hcenter","gap10"],[1,"duration"],[1,"volume-button",3,"click"],["class","mdi-volume_up",4,"ngIf"],["class","mdi-volume_down",4,"ngIf"],["class","mdi-volume_mute",4,"ngIf"],["class","mdi-volume_off",4,"ngIf"],["appendTo","body",3,"visible","visibleChange"],[1,"volume-level"],["volumeOverlay",""],["orientation","vertical",3,"min","max","step","ngModel","onChange"],[3,"src"],["player",""],[1,"mdi-play_arrow"],[1,"mdi-pause"],[1,"mdi-downloading"],[1,"mdi-warning"],[1,"timeline-marker"],[1,"mdi-volume_up"],[1,"mdi-volume_down"],[1,"mdi-volume_mute"],[1,"mdi-volume_off"]],template:function(M,se){if(1&M&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return se.playerButtonClick()}),s.ynx(2,2),s.YNc(3,ho,1,0,"i",3),s.YNc(4,Ji,1,0,"i",4),s.YNc(5,Bo,1,0,"i",5),s.YNc(6,Ki,1,0,"i",6),s.BQk(),s.qZA(),s.TgZ(7,"div",7)(8,"div",8,9),s._UZ(10,"p-progressBar",10),s.YNc(11,Jo,1,2,"div",11),s.TgZ(12,"p-overlay",12,13)(14,"div",14),s._uU(15),s.qZA()()(),s.TgZ(16,"div",15)(17,"span",16),s._uU(18),s.qZA(),s.TgZ(19,"div",17),s.NdJ("click",function(){return se.openVolumeOverlay()}),s.YNc(20,er,1,0,"i",18),s.YNc(21,tr,1,0,"i",19),s.YNc(22,hs,1,0,"i",20),s.YNc(23,ar,1,0,"i",21),s.qZA(),s.TgZ(24,"p-overlay",22),s.NdJ("visibleChange",function(Et){return se.showVolumeLevel=Et}),s.TgZ(25,"div",23,24)(27,"p-slider",25),s.NdJ("onChange",function(Et){return se.changeVolume(Et)}),s.qZA(),s.TgZ(28,"div"),s._uU(29),s.ALo(30,"floor"),s.qZA()()()()()(),s._UZ(31,"audio",26,27)),2&M){const qe=s.MAs(32);s.Udp("user-select","none"),s.xp6(1),s.Q6J("ngClass",s.VKq(35,vt,!se.url||"Loading"===se.playerState||"Error"===se.playerState)),s.xp6(1),s.Q6J("ngSwitch",se.playerState),s.xp6(1),s.Q6J("ngSwitchCase","Paused"),s.xp6(1),s.Q6J("ngSwitchCase","Playing"),s.xp6(1),s.Q6J("ngSwitchCase","Loading"),s.xp6(1),s.Q6J("ngSwitchCase","Error"),s.xp6(4),s.Akn(s.DdM(37,le)),s.Q6J("showValue",!1)("value",se.currentTime/se.totalTime*100),s.xp6(1),s.Q6J("ngIf",se.showTimeMarker),s.xp6(1),s.Akn(s.DdM(38,ge)),s.Q6J("visible",se.showTimeMarker),s.xp6(3),s.AsE(" ",se.currentMinutes,":",se.currentSeconds," "),s.xp6(3),s.HOy("",se.currentMinutes,":",se.currentSeconds," / ",se.totalMinutes,":",se.totalSeconds,""),s.xp6(2),s.Q6J("ngIf",qe.volume>.8),s.xp6(1),s.Q6J("ngIf",qe.volume<=.8&&qe.volume>.5),s.xp6(1),s.Q6J("ngIf",qe.volume<=.5&&qe.volume>0),s.xp6(1),s.Q6J("ngIf",0===qe.volume),s.xp6(1),s.Q6J("visible",se.showVolumeLevel),s.xp6(3),s.Q6J("min",0)("max",1)("step",.05)("ngModel",qe.volume),s.xp6(2),s.hij("",s.lcZ(30,33,100*qe.volume),"%"),s.xp6(2),s.Q6J("src",se.url,s.LSH)}},dependencies:[e.mk,e.O5,e.RF,e.n9,te.JJ,te.On,Ds.aV,Mt.k,tn.iR,Mn],styles:[".play-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s}.play-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.play-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}.volume-button[_ngcontent-%COMP%]{color:var(--tc-500);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.volume-level[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.2rem .7rem .5rem;box-shadow:0 .4px .4px #00000005,0 1px 1px #00000007,0 1.9px 1.9px #00000009,0 3.4px 3.4px #0000000b,0 6.3px 6.3px #0000000d,0 15px 15px #00000012}.volume-level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--tc-500)}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translate(-50%,-.25rem);width:1.2rem;height:1.2rem;border-radius:50%;background-color:var(--mc-300);box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}.time-overlay[_ngcontent-%COMP%]{border-radius:.3rem;padding:.5rem;background-color:#fff;box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}"]}),he})(),zt=(()=>{class he{constructor(M){this.element=M}ngAfterViewInit(){const M=this.element.nativeElement;M.innerHTML=M.innerHTML.replace(new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"g"),'<span class="emoji">$&</span>')}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(s.SBq))},he.\u0275dir=s.lG2({type:he,selectors:[["","appEmojiStyleApply",""]]}),he})();function pn(he,_t){1&he&&s._UZ(0,"i",10)}function mn(he,_t){1&he&&s._UZ(0,"i",11)}function Sn(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.open(qe))}),s.ynx(1,7),s.YNc(2,pn,1,0,"i",8),s.YNc(3,mn,1,0,"i",9),s.BQk(),s.qZA()}if(2&he){const M=s.oxw();s.xp6(1),s.Q6J("ngSwitch",M.attachmentType),s.xp6(1),s.Q6J("ngSwitchCase","DOCUMENT"),s.xp6(1),s.Q6J("ngSwitchCase","FILE")}}function Gn(he,_t){1&he&&(s.TgZ(0,"div",12),s._UZ(1,"i",13),s.qZA())}let Jt=(()=>{class he{constructor(M){this.router=M,this.baseUrl="/api/private/attachment/"}get hasAttachment(){return!!this.attachment}get attachmentType(){var M,se;return null!==(se=null===(M=this.attachment)||void 0===M?void 0:M.type)&&void 0!==se?se:"unknown"}get name(){var M,se;return null!==(se=null===(M=this.attachment)||void 0===M?void 0:M.name)&&void 0!==se?se:"\u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}get size(){return this.attachment&&this.attachment.size?this.attachment.size>1e6?(this.attachment.size/1e6).toFixed(2)+" MByte":this.attachment.size>1e3?(this.attachment.size/1e3).toFixed(2)+" KByte":this.attachment.size+" byte":"-- byte"}ngOnInit(){}open(M){this.attachment&&window.open(this.baseUrl+this.attachment.name,"_blank")}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(F.F0))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-file-attachment"]],inputs:{attachment:"attachment"},decls:8,vars:6,consts:[[1,"flexed","hend","full-width","gap5"],["class","file-button",3,"click",4,"ngIf"],["class","file-button disabled",4,"ngIf"],[1,"flexed","column","stretched","gap3"],[1,"caption","one-line"],[1,"caption","size-small","f-color-500"],[1,"file-button",3,"click"],[3,"ngSwitch"],["class","mdi-description",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchCase"],[1,"mdi-description"],[1,"mdi-insert_drive_file"],[1,"file-button","disabled"],[1,"mdi-warning"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0),s.YNc(1,Sn,4,3,"div",1),s.YNc(2,Gn,2,0,"div",2),s.TgZ(3,"div",3)(4,"span",4),s._uU(5),s.qZA(),s.TgZ(6,"span",5),s._uU(7),s.qZA()()()),2&M&&(s.Udp("user-select","none"),s.xp6(1),s.Q6J("ngIf",se.hasAttachment),s.xp6(1),s.Q6J("ngIf",!se.hasAttachment),s.xp6(3),s.Oqu(se.name),s.xp6(2),s.Oqu(se.size))},dependencies:[e.O5,e.RF,e.n9],styles:[".file-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;transition:all .3s}.file-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.file-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}"]}),he})();var Ve=C(1787);const Je=["messageInput"],bt=["contextMenu"],Nt=function(){return[]};function cn(he,_t){if(1&he&&(s.TgZ(0,"div",7)(1,"span",8),s._UZ(2,"i",9),s._uU(3),s.qZA(),s._UZ(4,"app-avatar-list",10),s.qZA()),2&he){const M=s.oxw();let se;s.xp6(3),s.hij(" ",null==M.currentChat?null:M.currentChat.title,""),s.xp6(1),s.Q6J("employees",null!==(se=null==M.currentChat?null:M.currentChat.members)&&void 0!==se?se:s.DdM(2,Nt))}}function wn(he,_t){1&he&&s.GkF(0)}const Pn=function(he){return{shaded:he}},Xn=function(he){return{$implicit:he}};function yi(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",21),s.NdJ("contextmenu",function(qe){const ln=s.CHM(M).$implicit,Fn=s.oxw(3);return s.KtG(Fn.showContext(qe,ln))}),s._UZ(1,"app-avatar",22),s.YNc(2,wn,1,0,"ng-container",23),s.qZA()}if(2&he){const M=_t.$implicit,se=s.oxw(3),qe=s.MAs(6);s.Q6J("@fade",void 0)("ngClass",s.VKq(9,Pn,se.messageContexted===M.superMessageId)),s.uIk("data-msg",se.getMessagesIds(M)),s.xp6(1),s.Q6J("deleted",M.author.deleted)("name",M.author.fullName)("size",2.3)("src",M.author.avatar),s.xp6(1),s.Q6J("ngTemplateOutlet",qe)("ngTemplateOutletContext",s.VKq(11,Xn,M))}}function Ai(he,_t){1&he&&(s.TgZ(0,"div",25),s._UZ(1,"p-skeleton",26)(2,"p-skeleton",27),s.qZA())}function bo(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Ai,3,0,"div",24),s.BQk()),2&he){const M=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",M.loadingsStubs)}}function Xo(he,_t){if(1&he&&s._UZ(0,"div",28),2&he){s.oxw();const M=s.MAs(1);s.Udp("transform","translateY("+M.scrollTop+"px)"),s.Q6J("@fade",void 0)}}const es=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function uo(he,_t){if(1&he&&s._UZ(0,"p-badge",32),2&he){const M=s.oxw(4);s.Akn(s.DdM(3,es)),s.Q6J("value",M.unreadCount.toString())}}function ls(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",29),s.NdJ("click",function(){s.CHM(M),s.oxw();const qe=s.MAs(1);return s.KtG(qe.scrollTo({top:0,behavior:"smooth"}))}),s.YNc(1,uo,1,4,"p-badge",30),s._UZ(2,"i",31),s.qZA()}if(2&he){s.oxw();const M=s.MAs(1),se=s.oxw(2);s.Udp("transform","translateY("+M.scrollTop+"px)"),s.Q6J("@fade",void 0),s.xp6(1),s.Q6J("ngIf",se.unreadCount>0)}}const Zo=function(he){return{unread:he}};function xr(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",13,14),s.NdJ("onScrollToBottom",function(){s.CHM(M);const qe=s.oxw(2);return s.KtG(qe.loadMessages())})("scroll",function(){s.CHM(M);const qe=s.oxw(2);return s.KtG(qe.startButtonVisibleEmitter.emit())}),s.YNc(2,yi,3,13,"div",15),s.YNc(3,bo,2,1,"ng-container",16),s.YNc(4,Xo,1,3,"div",17),s.TgZ(5,"app-context-menu",18,19),s.NdJ("onHide",function(){s.CHM(M);const qe=s.oxw(2);return s.KtG(qe.shaderVisible=!1)})("onShow",function(){s.CHM(M);const qe=s.oxw(2);return s.KtG(qe.shaderVisible=!0)}),s.qZA(),s.YNc(7,ls,3,4,"div",20),s.qZA()}if(2&he){const M=s.MAs(1),se=s.oxw(2);s.Udp("overflow",se.shaderVisible?"hidden":""),s.Q6J("ngClass",s.VKq(8,Zo,se.unreadCount>0)),s.xp6(2),s.Q6J("ngForOf",se.messages)("ngForTrackBy",se.trackMessages),s.xp6(1),s.Q6J("ngIf",se.isLoading),s.xp6(1),s.Q6J("ngIf",se.shaderVisible),s.xp6(3),s.Q6J("ngIf",M.scrollTop<-100&&se.startButtonVisible&&!se.shaderVisible)}}function la(he,_t){1&he&&(s.TgZ(0,"div",33),s._UZ(1,"i",9),s.TgZ(2,"span"),s._uU(3," \u0427\u0430\u0442 \u043f\u0443\u0441\u0442 "),s.qZA()())}function Yr(he,_t){if(1&he&&(s.YNc(0,xr,8,10,"div",11),s.YNc(1,la,4,0,"div",12)),2&he){const M=s.oxw();s.Q6J("ngIf",M.isLoading||M.messages.length>0),s.xp6(1),s.Q6J("ngIf",!M.isLoading&&0===M.messages.length)}}function Qs(he,_t){if(1&he&&(s.TgZ(0,"div",34),s._UZ(1,"app-avatar",35),s.TgZ(2,"span",36),s._uU(3),s.qZA(),s.TgZ(4,"span",37),s._uU(5),s.qZA()()),2&he){const M=_t.$implicit;s.xp6(1),s.Q6J("name",M.author.fullName)("size",1.7)("src",M.author.avatar),s.xp6(2),s.Oqu(M.author.fullName),s.xp6(2),s.Oqu(M.text)}}function za(he,_t){1&he&&s.GkF(0)}function xi(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,za,1,0,"ng-container",23),s.BQk()),2&he){const M=s.oxw(2).$implicit;s.oxw();const se=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,Xn,M.replyTo))}}function wi(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",49),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw().$implicit,Et=s.oxw(5);return s.KtG(Et.mediaViewer.showMedia(qe))}),s._UZ(1,"img",50),s.qZA()}if(2&he){const M=s.oxw().$implicit,se=s.oxw(5);s.xp6(1),s.Q6J("src",se.thumbnailUrl+M.name,s.LSH)}}function Pi(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",51),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw().$implicit,Et=s.oxw(5);return s.KtG(Et.mediaViewer.showMedia(qe))}),s._UZ(1,"img",50),s.TgZ(2,"div",52),s._UZ(3,"i",53),s.qZA()()}if(2&he){const M=s.oxw().$implicit,se=s.oxw(5);s.xp6(1),s.Q6J("src",se.thumbnailUrl+M.name,s.LSH)}}function eo(he,_t){if(1&he&&(s.TgZ(0,"div",43),s.YNc(1,wi,2,1,"div",47),s.YNc(2,Pi,4,1,"div",48),s.qZA()),2&he){const M=_t.$implicit;s.Tol("media-item i"+_t.index),s.Q6J("ngSwitch",M.type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO")}}function Qo(he,_t){if(1&he&&(s.TgZ(0,"div"),s.YNc(1,eo,3,5,"div",46),s.qZA()),2&he){const M=s.oxw(3).$implicit,se=s.oxw();s.Tol("media-grid g"+M.attachments.length),s.xp6(1),s.Q6J("ngForOf",M.attachments)("ngForTrackBy",se.trackAttachment)}}function So(he,_t){if(1&he&&s._UZ(0,"app-audio-player",56),2&he){const M=_t.$implicit,se=s.oxw(5);s.Q6J("url",se.fileUrl+M.name)}}function ko(he,_t){if(1&he&&(s.TgZ(0,"div",54),s.YNc(1,So,1,1,"app-audio-player",55),s.qZA()),2&he){const M=s.oxw(3).$implicit;s.xp6(1),s.Q6J("ngForOf",M.attachments)}}function Ir(he,_t){1&he&&s._UZ(0,"app-file-attachment",58),2&he&&s.Q6J("attachment",_t.$implicit)}function Io(he,_t){if(1&he&&(s.TgZ(0,"div",54),s.YNc(1,Ir,1,1,"app-file-attachment",57),s.qZA()),2&he){const M=s.oxw(3).$implicit;s.xp6(1),s.Q6J("ngForOf",M.attachments)}}function ca(he,_t){if(1&he&&(s.ynx(0,43),s.YNc(1,Qo,2,4,"div",44),s.YNc(2,ko,2,1,"div",45),s.YNc(3,Io,2,1,"div",45),s.BQk()),2&he){const M=s.oxw(2).$implicit;s.Q6J("ngSwitch",M.attachmentType),s.xp6(1),s.Q6J("ngSwitchCase","VISUAL"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"),s.xp6(1),s.Q6J("ngSwitchCase","FILE")}}const $a=function(he,_t){return{my:he,reply:_t}};function Lo(he,_t){if(1&he&&(s.ynx(0),s.TgZ(1,"div",38),s.YNc(2,xi,2,4,"ng-container",16),s.TgZ(3,"div",39),s._uU(4),s.qZA(),s.YNc(5,ca,4,4,"ng-container",40),s.TgZ(6,"div",37)(7,"span",41),s._uU(8),s.qZA(),s.TgZ(9,"div",42)(10,"span"),s._uU(11),s.ALo(12,"date"),s.qZA()()()(),s.BQk()),2&he){const M=s.oxw().$implicit,se=s.oxw();s.xp6(1),s.Q6J("ngClass",s.WLB(9,$a,se.isMy(M.author),M.replyTo)),s.xp6(1),s.Q6J("ngIf",M.replyTo),s.xp6(2),s.hij(" ",M.author.fullName," "),s.xp6(1),s.Q6J("ngIf",M.mediaGroup),s.xp6(3),s.Oqu(M.text),s.xp6(3),s.Oqu(s.xi3(12,6,M.sendAt,"HH:mm"))}}function Rr(he,_t){1&he&&s.GkF(0)}function Gs(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Rr,1,0,"ng-container",23),s.BQk()),2&he){const M=s.oxw(2).$implicit;s.oxw();const se=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,Xn,M.replyTo))}}function Ma(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",49),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(2).$implicit,Et=s.oxw();return s.KtG(Et.mediaViewer.showMedia(qe.attachments[0]))}),s._UZ(1,"img",50),s.qZA()}if(2&he){const M=s.oxw(2).$implicit,se=s.oxw();s.xp6(1),s.Q6J("src",se.thumbnailUrl+M.attachments[0].name,s.LSH)}}function Ja(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",51),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(2).$implicit,Et=s.oxw();return s.KtG(Et.mediaViewer.showMedia(qe.attachments[0]))}),s._UZ(1,"img",50),s.TgZ(2,"div",52),s._UZ(3,"i",53),s.qZA()()}if(2&he){const M=s.oxw(2).$implicit,se=s.oxw();s.xp6(1),s.Q6J("src",se.thumbnailUrl+M.attachments[0].name,s.LSH)}}function qa(he,_t){if(1&he&&(s.TgZ(0,"div",62),s._UZ(1,"app-audio-player",56),s.qZA()),2&he){const M=s.oxw(2).$implicit,se=s.oxw();s.xp6(1),s.Q6J("url",se.fileUrl+M.attachments[0].name)}}function $l(he,_t){if(1&he&&(s.TgZ(0,"div",63),s._UZ(1,"app-file-attachment",58),s.qZA()),2&he){const M=s.oxw(2).$implicit;s.xp6(1),s.Q6J("attachment",M.attachments[0])}}function Tr(he,_t){if(1&he&&(s.ynx(0),s.TgZ(1,"div",59),s.YNc(2,Gs,2,4,"ng-container",16),s.TgZ(3,"div",39),s._uU(4),s.qZA(),s.ynx(5,43),s.YNc(6,Ma,2,1,"div",47),s.YNc(7,Ja,4,1,"div",48),s.YNc(8,qa,2,1,"div",60),s.YNc(9,$l,2,1,"div",61),s.BQk(),s.TgZ(10,"div",37)(11,"span",41),s._uU(12),s.qZA(),s.TgZ(13,"div",42)(14,"span"),s._uU(15),s.ALo(16,"date"),s.qZA()()()(),s.BQk()),2&he){const M=s.oxw().$implicit,se=s.oxw();s.xp6(1),s.Q6J("ngClass",s.WLB(12,$a,se.isMy(M.author),M.replyTo)),s.xp6(1),s.Q6J("ngIf",M.replyTo),s.xp6(2),s.hij(" ",M.author.fullName," "),s.xp6(1),s.Q6J("ngSwitch",M.attachments[0].type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"),s.xp6(4),s.Oqu(M.text),s.xp6(3),s.Oqu(s.xi3(16,9,M.sendAt,"HH:mm"))}}function Xa(he,_t){1&he&&s.GkF(0)}function el(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Xa,1,0,"ng-container",23),s.BQk()),2&he){const M=s.oxw(2).$implicit;s.oxw();const se=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,Xn,M.replyTo))}}function tl(he,_t){if(1&he&&(s.ynx(0),s.TgZ(1,"div",64),s.YNc(2,el,2,4,"ng-container",16),s.TgZ(3,"div",39),s._uU(4),s.qZA(),s.TgZ(5,"div",37)(6,"span",41),s._uU(7),s.qZA(),s.TgZ(8,"div",42)(9,"span"),s._uU(10),s.ALo(11,"date"),s.qZA()()()(),s.BQk()),2&he){const M=s.oxw().$implicit,se=s.oxw();s.xp6(1),s.Q6J("ngClass",s.WLB(8,$a,se.isMy(M.author),M.replyTo)),s.xp6(1),s.Q6J("ngIf",M.replyTo),s.xp6(2),s.hij(" ",M.author.fullName," "),s.xp6(3),s.Oqu(M.text),s.xp6(3),s.Oqu(s.xi3(11,5,M.sendAt,"HH:mm"))}}function Oa(he,_t){if(1&he&&(s.YNc(0,Lo,13,12,"ng-container",16),s.YNc(1,Tr,17,15,"ng-container",16),s.YNc(2,tl,12,11,"ng-container",16)),2&he){const M=_t.$implicit;s.Q6J("ngIf",M.attachments.length>1),s.xp6(1),s.Q6J("ngIf",1===M.attachments.length),s.xp6(1),s.Q6J("ngIf",0===M.attachments.length)}}function kl(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",49),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(2).$implicit,Et=s.oxw();return s.KtG(Et.mediaViewer.showMedia(qe.attachments[0]))}),s._UZ(1,"img",50),s.qZA()}if(2&he){const M=s.oxw(2).$implicit,se=s.oxw();s.xp6(1),s.Q6J("src",se.thumbnailUrl+M.attachments[0].name,s.LSH)}}function Dc(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",51),s.NdJ("click",function(){s.CHM(M);const qe=s.oxw(2).$implicit,Et=s.oxw();return s.KtG(Et.mediaViewer.showMedia(qe.attachments[0]))}),s._UZ(1,"video",66),s.TgZ(2,"div",52),s._UZ(3,"i",53),s.qZA()()}if(2&he){const M=s.oxw(2).$implicit,se=s.oxw();s.xp6(1),s.Q6J("controls",!1)("src",se.thumbnailUrl+M.attachments[0].name,s.LSH)}}function du(he,_t){if(1&he&&(s.TgZ(0,"div",62),s._UZ(1,"app-audio-player",56),s.qZA()),2&he){const M=s.oxw(2).$implicit,se=s.oxw();s.xp6(1),s.Q6J("url",se.fileUrl+M.attachments[0].name)}}function Ro(he,_t){if(1&he&&(s.TgZ(0,"div",63),s._UZ(1,"app-file-attachment",58),s.qZA()),2&he){const M=s.oxw(2).$implicit;s.xp6(1),s.Q6J("attachment",M.attachments[0])}}function pu(he,_t){if(1&he&&(s.ynx(0)(1,43),s.YNc(2,kl,2,1,"div",47),s.YNc(3,Dc,4,2,"div",48),s.YNc(4,du,2,1,"div",60),s.YNc(5,Ro,2,1,"div",61),s.BQk()()),2&he){const M=s.oxw().$implicit;s.xp6(1),s.Q6J("ngSwitch",M.attachments[0].type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO")}}function Gu(he,_t){if(1&he&&(s.TgZ(0,"div",65)(1,"div",39),s._uU(2),s.qZA(),s.YNc(3,pu,6,4,"ng-container",16),s.TgZ(4,"div",37)(5,"span",41),s._uU(6),s.qZA()()()),2&he){const M=_t.$implicit;s.xp6(2),s.hij(" ",M.author.fullName," "),s.xp6(1),s.Q6J("ngIf",M.attachments&&1===M.attachments.length),s.xp6(3),s.Oqu(M.text)}}function Ud(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"span",67),s._uU(1),s.qZA(),s.TgZ(2,"textarea",68),s.NdJ("ngModelChange",function(qe){s.CHM(M);const Et=s.oxw();return s.KtG(Et.attDescription=qe)}),s.qZA(),s.TgZ(3,"div",69)(4,"p-button",70),s.NdJ("onClick",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.sendATT())}),s.qZA()()}if(2&he){const M=s.oxw();s.xp6(1),s.hij("\u0412 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u0437\u0430\u0434\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043e ",M.attFilesCount," \u0444\u0430\u0439\u043b\u043e\u0432"),s.xp6(1),s.Q6J("autoResize",!0)("cols",50)("rows",4)("ngModel",M.attDescription),s.xp6(2),s.Q6J("loading",M.attRequestBegin)}}const hu=function(){return{width:"min-content",height:"50vh",minWidth:"27rem",minHeight:"15rem",maxWidth:"70vw",maxHeight:"90vh"}},ql=function(){return{display:"grid",padding:"0",height:"100%",grid:"1fr min-content / 1fr"}};let Qa=(()=>{class he{constructor(M,se,qe,Et,ln){this.personality=M,this.api=se,this.mediaViewer=qe,this.chatService=Et,this.rt=ln,this.chatId=0,this.isShow=!1,this.thumbnailUrl="/api/private/thumbnail/",this.fileUrl="/api/private/attachment/",this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.unreadCount=0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.shaderVisible=!1,this.messageContexted=-1,this.startButtonVisibleEmitter=new s.vpe,this.startButtonVisible=!0,this.loadingsStubs=Array(5).fill(null),this.subscriptions=new ss.xf,this.attDialogVisible=!1,this.attDescription="",this.attRequestBegin=!1,this.attFilesCount=0,this.attMessageId=null}get isNotReady(){return 0===this.sendingText.trim().length&&0===this.sendingFiles.length}trackAttachment(M,se){return se.name}isMy(M){var se;return(null===(se=this.personality.me)||void 0===se?void 0:se.login)===M.login}ngOnInit(){}ngAfterViewInit(){const M=this.startButtonVisibleEmitter.pipe((0,fn.b)(()=>this.startButtonVisible=!1),(0,Ms.b)(300));this.subscriptions.addSubscription("startButton",M.subscribe(()=>this.startButtonVisible=!0))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}show(M){const se=this.chatId!==M;if(this.chatId=M,this.isShow&&se)return this.isShow=!1,void setTimeout(()=>{this.isShow=!0},500);this.isShow=!0}trackMessages(M,se){return se.superMessageId+se.text}loadChat(){this.api.getChat(this.chatId).subscribe({next:M=>{this.currentChat=M,this.chatService.currentOpenChat=M.chatId}}),this.api.getCountOfUnreadMessages(this.chatId).subscribe(M=>this.unreadCount=M),this.subscriptions.addSubscription("chatUpd",this.rt.chatUpdated().subscribe(this.updateChat.bind(this)))}loadMessages(){!this.isEnd&&!this.isLoading&&(this.isLoading=!0,this.api.getChatMessages(this.chatId,this.first,25).subscribe({next:M=>{this.first=this.first+M.size,this.totalMessages=M.totalElements,this.isEnd=M.last,this.isLoading=!1,this.messages=[...this.messages,...M.content]},error:()=>{this.isLoading=!1}}))}sendMessage(){var M;this.isBeginSending=!0,this.editMessage?this.api.editChatMessage(this.editMessage.superMessageId,this.sendingText).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.editMessage=void 0,setTimeout(()=>{var se;null===(se=this.messageInput)||void 0===se||se.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var se;null===(se=this.messageInput)||void 0===se||se.nativeElement.focus()})}}):this.api.sendChatMessage(this.chatId,this.sendingText,this.sendingFiles,null===(M=this.replyMessage)||void 0===M?void 0:M.superMessageId).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,setTimeout(()=>{var se;null===(se=this.messageInput)||void 0===se||se.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var se;null===(se=this.messageInput)||void 0===se||se.nativeElement.focus()})}})}messageInputKeyDown(M){var se,qe;if("Enter"===M.key)if(M.ctrlKey||this.isNotReady){const Et=M.target,ln=Et.selectionStart,Fn=Et.selectionEnd;Et.value=Et.value.substring(0,null!=ln?ln:-1)+"\n"+Et.value.substring(null!=Fn?Fn:-1),this.sendingText=Et.value,Et.selectionStart=null!==(se=ln+1)&&void 0!==se?se:0,Et.selectionEnd=null!==(qe=ln+1)&&void 0!==qe?qe:0}else M.preventDefault(),this.sendMessage()}insertEmoji(M){var se,qe,Et;if(null===(se=this.messageInput)||void 0===se||!se.nativeElement)return;const ln=this.messageInput.nativeElement;ln.focus();const Fn=ln.selectionStart,bi=ln.selectionEnd;ln.value=ln.value.substring(0,null!=Fn?Fn:-1)+M+ln.value.substring(null!=bi?bi:-1),ln.selectionStart=null!==(qe=Fn+1)&&void 0!==qe?qe:0,ln.selectionEnd=null!==(Et=Fn+1)&&void 0!==Et?Et:0,this.sendingText=ln.value}whenOpenPanel(){var M,se;this.loadChat(),this.loadMessages(),this.subscriptions.addSubscription("msgCr",this.rt.chatMessageCreatedByChat(this.chatId).subscribe(this.createMessage.bind(this))),this.subscriptions.addSubscription("msgUpd",this.rt.chatMessageUpdated(this.chatId).subscribe(this.updateMessage.bind(this))),this.subscriptions.addSubscription("msgDel",this.rt.chatMessageDeleted(this.chatId).subscribe(this.deleteMessage.bind(this))),this.subscriptions.addSubscription("unreadCount",this.rt.updateCountUnreadMessages(null!==(se=null===(M=this.personality.me)||void 0===M?void 0:M.login)&&void 0!==se?se:"").subscribe(qe=>{this.chatId===qe.chatId&&(this.unreadCount=qe.count)}))}flushMessages(){this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.chatService.currentOpenChat=void 0,this.subscriptions.unsubscribeAll()}getMessagesIds(M){return M.includedMessages?JSON.stringify(M.includedMessages):"[]"}showContext(M,se){if(!this.contextMenu)return;this.messageContexted=se.superMessageId;const qe=[{label:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",icon:"mdi-reply",command:()=>{var Et;this.replyMessage=se,null===(Et=this.messageInput)||void 0===Et||Et.nativeElement.focus()}}];se.attachments.length>0&&qe.push({label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435",icon:"mdi-add_link",command:()=>{this.attFilesCount=se.attachments.length,this.attDialogVisible=!0,this.attMessageId=se.superMessageId}}),this.isMy(se.author)&&qe.push({label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>{var Et;this.editMessage=se,this.sendingText=se.text,null===(Et=this.messageInput)||void 0===Et||Et.nativeElement.focus()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",style:br.DANGER,command:()=>{this.api.deleteChatMessage(this.chatId,se.superMessageId).subscribe()}}),this.contextMenu.show(M,qe)}clearReplyMessage(){this.replyMessage=void 0}clearEditMessage(){this.editMessage=void 0,this.sendingText=""}sendATT(){this.attMessageId&&(this.attRequestBegin=!0,this.api.attachToTask(this.attMessageId,this.chatId,this.attDescription).subscribe({next:()=>this.clearATT(),error:()=>this.attRequestBegin=!1}))}clearATT(){this.attRequestBegin=!1,this.attDialogVisible=!1,this.attDescription="",this.attMessageId=null,this.attFilesCount=0}createMessage(M){this.messages=[M,...this.messages],this.first++,this.totalMessages++}updateMessage(M){const se=this.messages.findIndex(qe=>qe.superMessageId===M.superMessageId);-1!=se&&this.messages.splice(se,1,M)}deleteMessage(M){this.messages=this.messages.filter(se=>se.superMessageId!==M.superMessageId)}updateChat(M){M.chatId===this.chatId&&(this.currentChat=M)}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(ce.F),s.Y36(J.s),s.Y36(ht.E),s.Y36(Bt.a),s.Y36(On.U))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-chat-panel"]],viewQuery:function(M,se){if(1&M&&(s.Gf(Je,5),s.Gf(bt,5)),2&M){let qe;s.iGM(qe=s.CRH())&&(se.messageInput=qe.first),s.iGM(qe=s.CRH())&&(se.contextMenu=qe.first)}},decls:11,vars:12,consts:[["appendTo","body","position","bottom-right",3,"visible","contentStyle","dismissableMask","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["editMessagePreview",""],["messageBody",""],["replyMessageTemp",""],["appendTo","body","contentStyleClass","flex flex-column gap-2",3,"header","dismissableMask","visible","modal","draggable","visibleChange","onHide"],[1,"flexed","hcenter","gap5"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-chat"],[3,"employees"],["appScrollToBottomEmitter","","class","chat-view",3,"ngClass","overflow","onScrollToBottom","scroll",4,"ngIf"],["class","chat-view empty caption size-big wt-bold f-color-500",4,"ngIf"],["appScrollToBottomEmitter","",1,"chat-view",3,"ngClass","onScrollToBottom","scroll"],["list",""],["class","message-wrapper",3,"ngClass","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","shader",3,"transform",4,"ngIf"],[3,"onHide","onShow"],["contextMenu",""],["class","scroll-to-start-button",3,"transform","click",4,"ngIf"],[1,"message-wrapper",3,"ngClass","contextmenu"],[3,"deleted","name","size","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],["size","2.3rem","shape","circle"],["width","15rem","height","5rem","borderRadius","1rem 1rem 1rem .3rem"],[1,"shader"],[1,"scroll-to-start-button",3,"click"],["class","ur-badge","severity","warning",3,"style","value",4,"ngIf"],[1,"mdi-arrow_downward"],["severity","warning",1,"ur-badge",3,"value"],[1,"chat-view","empty","caption","size-big","wt-bold","f-color-500"],[1,"message-preview"],["shape","square",1,"avatar",3,"name","size","src"],[1,"author-name"],[1,"message-text"],[1,"chat-message","media-group",3,"ngClass"],[1,"message-header"],[3,"ngSwitch",4,"ngIf"],["appEmojiStyleApply","",1,"content"],[1,"message-footer"],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["class","flexed column gap5",4,"ngSwitchCase"],[3,"class","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","img-container",3,"click",4,"ngSwitchCase"],["class","vid-container",3,"click",4,"ngSwitchCase"],[1,"img-container",3,"click"],["alt","",3,"src"],[1,"vid-container",3,"click"],[1,"play-icon"],[1,"mdi-play_arrow"],[1,"flexed","column","gap5"],[3,"url",4,"ngFor","ngForOf"],[3,"url"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"],[1,"chat-message","single-media",3,"ngClass"],["class","aud-container",4,"ngSwitchCase"],["class","file-container",4,"ngSwitchDefault"],[1,"aud-container"],[1,"file-container"],[1,"chat-message",3,"ngClass"],[1,"reply-message"],[3,"controls","src"],[1,"text-lg","font-semibold","text-bluegray-400"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0444\u0430\u0439\u043b\u0430\u043c...",3,"autoResize","cols","rows","ngModel","ngModelChange"],[1,"flex","gap-3","justify-content-end"],["label","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c","icon","mdi-add_link",3,"loading","onClick"]],template:function(M,se){1&M&&(s.TgZ(0,"p-dialog",0),s.NdJ("onHide",function(){return se.flushMessages()})("onShow",function(){return se.whenOpenPanel()})("visibleChange",function(Et){return se.isShow=Et}),s.YNc(1,cn,5,3,"ng-template",1),s.YNc(2,Yr,2,2,"ng-template",2),s.qZA(),s.YNc(3,Qs,6,5,"ng-template",null,3,s.W1O),s.YNc(5,Oa,3,3,"ng-template",null,4,s.W1O),s.YNc(7,Gu,7,3,"ng-template",null,5,s.W1O),s.TgZ(9,"p-dialog",6),s.NdJ("visibleChange",function(Et){return se.attDialogVisible=Et})("onHide",function(){return se.clearATT()}),s.YNc(10,Ud,5,6,"ng-template",2),s.qZA()),2&M&&(s.Akn(s.DdM(10,hu)),s.Q6J("visible",se.isShow)("contentStyle",s.DdM(11,ql))("dismissableMask",!0),s.xp6(9),s.Q6J("header","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435")("dismissableMask",!0)("visible",se.attDialogVisible)("modal",!0)("draggable",!1))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.RF,e.n9,e.ED,xt.zx,te.Fj,te.JJ,te.On,ro.jx,lt.g,$e.V,je.Ct,Rs.O,u.A,di,It,zt,Jt,Ve.k,Wr,e.uU],styles:['.chat-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column-reverse;position:relative;gap:.5rem;overflow-y:auto;overflow-x:hidden;padding:.5rem 1rem 1.5rem;overscroll-behavior-y:none;background-color:var(--bgc-001);border-top:1px solid var(--bgc-200)}.chat-view.empty[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:center;justify-content:center;height:100%;width:100%}.chat-view.unread[_ngcontent-%COMP%]{box-shadow:inset 0 0 2px var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/min-content 1fr;gap:.5rem;width:100%;align-items:flex-end;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper.shaded[_ngcontent-%COMP%]{z-index:1}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr;padding:.7rem 1rem;background-color:var(--bgc-200);box-shadow:0 0 1px 1px var(--tc-300);border-radius:1rem 1rem 1rem .3rem;width:-moz-fit-content;width:fit-content;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.reply[_ngcontent-%COMP%]{grid:min-content min-content 1fr/1fr}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]{background-color:var(--mc-0);box-shadow:0 0 1px 1px var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--mc-400)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--mc-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]{background-color:var(--warm-100);box-shadow:0 0 1px 1px var(--warm-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--warm-700)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]{overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]{padding:.4rem;display:grid;gap:.3rem;width:100%;height:100%;max-width:20rem;top:0;left:0}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g[_ngcontent-%COMP%]{width:100%;height:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g2[_ngcontent-%COMP%]{grid-template-areas:"a b"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g3[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g4[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b c d"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g5[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c" "d e"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g6[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b b c" "d e f"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g7[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d d" "e f g"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g8[_ngcontent-%COMP%]{grid-template-areas:"a b" "c d" "e f" "g h"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g9[_ngcontent-%COMP%]{grid-template-areas:"a a b" "c d e" "f g g" "h h i"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g10[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d e" "f g h" "i j j"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:.3rem;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i0[_ngcontent-%COMP%]{grid-area:a}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i1[_ngcontent-%COMP%]{grid-area:b}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i2[_ngcontent-%COMP%]{grid-area:c}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i3[_ngcontent-%COMP%]{grid-area:d}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i4[_ngcontent-%COMP%]{grid-area:e}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i5[_ngcontent-%COMP%]{grid-area:f}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i6[_ngcontent-%COMP%]{grid-area:g}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i7[_ngcontent-%COMP%]{grid-area:h}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i8[_ngcontent-%COMP%]{grid-area:i}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i9[_ngcontent-%COMP%]{grid-area:j}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{padding:.4rem;position:relative;width:100%;height:100%;max-width:20rem;min-width:5rem;aspect-ratio:1;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .aud-container[_ngcontent-%COMP%]{padding:.4rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--tc-600);font-size:.85rem;font-weight:700;margin-bottom:.2rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1rem;display:flex;flex-wrap:wrap;justify-content:flex-end;overflow-wrap:break-word;white-space:pre-wrap;overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;transform:translateY(.3rem);align-items:flex-end;color:var(--tc-400);font-size:.8rem;font-weight:700;margin-left:.5rem}.scroll-to-start-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:.5rem;z-index:1;cursor:pointer;color:#fff;background-color:var(--bgc-400);width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;font-size:1.2rem;box-shadow:0 0 .7px #00000006,0 0 1.9px #00000009,0 0 4.5px #0000000c,0 0 15px #00000012;transition:all .2s ease-in-out}.scroll-to-start-button[_ngcontent-%COMP%]:hover{opacity:1}.message-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"avatar name" "avatar message";height:max-content;row-gap:0;column-gap:.5rem;flex:1;margin-left:.7rem}.message-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.message-preview[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{grid-area:name;font-size:.8rem;font-weight:700;color:var(--tc-600)}.message-preview[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{grid-area:message;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:var(--tc-700);font-size:.9rem;font-weight:500}.chat-input[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;height:max-content;z-index:1;box-shadow:0 0 .3px #00000005,0 0 .8px #00000007,0 0 1.5px #00000009,0 0 2.7px #0000000b,0 0 5px #0000000d,0 0 12px #00000012}.chat-input[_ngcontent-%COMP%]   .preview-message-wrapper[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.chat-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.3rem;height:max-content}.chat-input.unread[_ngcontent-%COMP%]{box-shadow:0 0 .3px #ff961f05,0 0 .8px #ff961f07,0 0 1.5px #ff961f09,0 0 2.7px #ff961f0b,0 0 5px #ff961f0d,0 0 12px #ff961f12}.chat-input[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem}.shader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;pointer-events:none}.play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;border-radius:50%;width:2rem;height:2rem;font-size:1rem;display:flex;justify-content:center;align-items:center;color:#fff}.reply-message[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;border-left:2px solid var(--mc-300);padding:.1rem .5rem;border-radius:.2rem;margin-bottom:.4rem}'],data:{animation:[jt.U1]}}),he})();var hl=C(9114);let Wu=(()=>{class he{constructor(M){this.el=M,this.dfPlaceholder="",this.itemToMeasure=document.createElement("span")}set update(M){this.adjust(this.el.nativeElement)}onInput(M){this.adjust(M.target)}onBlur(M){setTimeout(()=>this.adjust(M.target))}onFocus(M){this.adjust(M.target)}ngOnInit(){const M=getComputedStyle(this.el.nativeElement);this.itemToMeasure.style.fontSize=M.fontSize,this.itemToMeasure.style.fontFamily=M.fontFamily,this.itemToMeasure.style.fontWeight=M.fontWeight,this.itemToMeasure.style.fontStyle=M.fontStyle,this.itemToMeasure.style.visibility="hidden",this.itemToMeasure.style.position="fixed",this.itemToMeasure.style.whiteSpace="nowrap",this.el.nativeElement.style.transition="width .2s ease-in-out",this.el.nativeElement.style.boxSizing="content-box",this.el.nativeElement.placeholder=this.dfPlaceholder,document.body.append(this.itemToMeasure),this.adjust(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.itemToMeasure)}ngOnChanges(M){M.dfPlaceholder&&(this.itemToMeasure.innerText=M.dfPlaceholder.currentValue,this.el.nativeElement.placeholder=M.dfPlaceholder.currentValue),this.adjust(this.el.nativeElement)}adjust(M){this.itemToMeasure.innerText=M.value?M.value:this.dfPlaceholder;const{width:se}=this.itemToMeasure.getBoundingClientRect();M.style.width=`${se}px`}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(s.SBq))},he.\u0275dir=s.lG2({type:he,selectors:[["","appAdjustInputWidth",""]],hostBindings:function(M,se){1&M&&s.NdJ("input",function(Et){return se.onInput(Et)})("blur",function(Et){return se.onBlur(Et)})("focus",function(Et){return se.onFocus(Et)})},inputs:{dfPlaceholder:"dfPlaceholder",update:"update"},features:[s.TTD]}),he})(),Yu=(()=>{class he{}return he.\u0275fac=function(M){return new(M||he)},he.\u0275mod=s.oAB({type:he}),he.\u0275inj=s.cJS({}),he})();var jr=C(6954),lr=C(6847);function Ar(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"span",4),s.NdJ("click",function(qe){s.CHM(M),s.oxw();const Et=s.MAs(2);return s.KtG(Et.toggle(qe))}),s.TgZ(1,"span"),s._uU(2),s.qZA(),s._UZ(3,"i",5),s.qZA()}if(2&he){const M=s.oxw();s.xp6(2),s.Oqu(M.currentName)}}function Pa(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",7),s.NdJ("click",function(){const Et=s.CHM(M).$implicit,ln=s.oxw(2),Fn=s.MAs(2);return ln.onChange(Et.value),s.KtG(Fn.hide())}),s._uU(1),s.qZA()}if(2&he){const M=_t.$implicit;s.xp6(1),s.hij(" ",M.label," ")}}function yo(he,_t){if(1&he&&s.YNc(0,Pa,2,1,"div",6),2&he){const M=s.oxw();s.Q6J("ngForOf",M.variationList)("ngForTrackBy",M.trackByVariation)}}let ye=(()=>{class he{constructor(){this.variationList=[],this.value="",this.valueChange=new s.vpe}get currentName(){var M,se;return this.value&&null!==(se=null===(M=this.variationList.find(qe=>qe.value===this.value))||void 0===M?void 0:M.label)&&void 0!==se?se:""}trackByVariation(M,se){return se.value}ngOnInit(){}ngOnChanges(M){const se=M.value;se&&!se.currentValue&&this.variationList&&this.variationList.length&&this.onChange(this.variationList[0].value)}onChange(M){this.value=M,this.valueChange.emit(M)}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-input-variation-selector"]],inputs:{variationList:"variationList",value:"value"},outputs:{valueChange:"valueChange"},features:[s.TTD],decls:4,vars:1,consts:[["class","caption size-small wt-bold f-color-primary flexed hstart input-field",3,"click",4,"ngIf"],["styleClass","no-paddings"],["overlayPanelEl",""],["pTemplate","content"],[1,"caption","size-small","wt-bold","f-color-primary","flexed","hstart","input-field",3,"click"],[1,"mdi-arrow_drop_down"],["pRipple","","class","list-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["pRipple","",1,"list-item",3,"click"]],template:function(M,se){1&M&&(s.YNc(0,Ar,4,1,"span",0),s.TgZ(1,"p-overlayPanel",1,2),s.YNc(3,yo,1,2,"ng-template",3),s.qZA()),2&M&&s.Q6J("ngIf",se.variationList&&se.variationList.length)},dependencies:[e.sg,e.O5,ro.jx,os.T,_o.H],styles:[".input-field[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:opacity .15s ease-in-out}.input-field[_ngcontent-%COMP%]:hover{opacity:.8}.list-item[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease-in-out;color:var(--tc-600);padding:.5rem .9rem}.list-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),he})();var Ae=C(1412),ue=C(7102),Le=C(7190),tt=C(5197),kt=C(2145),$t=C(9182),on=C(8952),An=C(4496),ni=C(9873),vi=C(7575),si=C(7579),Vi=C(5577);function so(he,_t){if(1&he&&(s.TgZ(0,"span",3),s._uU(1),s.qZA()),2&he){const M=_t.$implicit;s.xp6(1),s.Oqu(M.label)}}function Ys(he,_t){if(1&he&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&he){const M=_t.$implicit;s.xp6(1),s.hij(" ",M.label," ")}}const Kr=function(){return[]};let ua=(()=>{class he{constructor(M){this.api=M,this.control=new te.NI([]),this.connectionServicesSuggestions=new si.x,this.connectionServices$=this.connectionServicesSuggestions.pipe((0,Ms.b)(500),(0,Vi.z)(se=>se?this.api.getConnectionServicesSuggestionsList(se):this.api.getConnectionServicesList())),this.isDisabled=!1,this.inputClasses={},this.changeIsDisabled=new s.vpe,this.onBlur=new s.vpe,this.onChange=se=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,ie.U)(M=>M?M.map(se=>({connectionService:se.value})):[])).subscribe(M=>this.onChange(M))}ngOnDestroy(){var M;null===(M=this.changeValueSubscription)||void 0===M||M.unsubscribe()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.isDisabled=M}writeValue(M){this.api.getConnectionServicesList().pipe((0,ie.U)(se=>M?M.map(qe=>se.find(Et=>Et.value===qe.connectionService)).filter(qe=>void 0!==qe):[])).subscribe(se=>{this.control.setValue(se)})}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(J.s))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-connection-services-input"]],inputs:{isDisabled:"isDisabled",inputClasses:"inputClasses"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[s._Bn([{provide:te.JU,useExisting:(0,s.Gpc)(()=>he),multi:!0}])],decls:4,vars:8,consts:[["placeholder","\u0423\u0441\u043b\u0443\u0433\u0438","styleClass","w-full block transparent-ac-token","inputStyleClass","w-5rem","appendTo","body",3,"ngClass","suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(M,se){if(1&M&&(s.TgZ(0,"p-autoComplete",0),s.NdJ("onBlur",function(){return se.onTouched(),se.onBlur.emit()})("completeMethod",function(Et){return se.connectionServicesSuggestions.next(Et.query)}),s.ALo(1,"async"),s.YNc(2,so,2,1,"ng-template",1),s.YNc(3,Ys,2,1,"ng-template",2),s.qZA()),2&M){let qe;s.Q6J("ngClass",se.inputClasses)("suggestions",null!==(qe=s.lcZ(1,5,se.connectionServices$))&&void 0!==qe?qe:s.DdM(7,Kr))("formControl",se.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[e.mk,te.JJ,ro.jx,te.oH,kt.Qc,e.Ov]}),he})();var $r=C(7384),da=C(8675),Oc=C(1884),wr=C(1135),nl=C(3900),Pc=C(590);const La=["overlayPanel"];function zp(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",8)(1,"span",9),s._uU(2),s.qZA(),s.TgZ(3,"app-count-input",10),s.NdJ("onZero",function(){const Et=s.CHM(M).index,ln=s.oxw();return s.KtG(ln.removeEquipment.next(Et))}),s.qZA()()}if(2&he){const M=_t.$implicit;s.Q6J("formGroup",M),s.xp6(2),s.Oqu(null==M.value.equipment?null:M.value.equipment.name)}}function Jp(he,_t){1&he&&(s.TgZ(0,"div",21),s._UZ(1,"span",22),s.TgZ(2,"span"),s._uU(3,"\u041f\u0443\u0441\u0442\u043e"),s.qZA()())}function zd(he,_t){1&he&&(s.TgZ(0,"div",23),s._UZ(1,"span",24),s.TgZ(2,"span"),s._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),s.qZA()())}function Xl(he,_t){1&he&&(s.TgZ(0,"div",25),s._UZ(1,"p-progressSpinner",26),s.qZA())}const ec=function(he){return{"bg-primary-50":he}};function Lc(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",28),s.NdJ("mouseenter",function(){const Et=s.CHM(M).index,ln=s.oxw(4);return s.KtG(ln.selectedAvailableEquipmentsIndex.next(Et))})("mouseleave",function(){s.CHM(M);const qe=s.oxw(4);return s.KtG(qe.selectedAvailableEquipmentsIndex.next(-1))})("click",function(){const Et=s.CHM(M).index,ln=s.oxw(4);return s.KtG(ln.selectAvailableEquipment.next(Et))}),s.ALo(1,"async"),s.TgZ(2,"span",29),s.ALo(3,"async"),s._uU(4),s.qZA(),s.TgZ(5,"span",30),s.ALo(6,"async"),s._uU(7),s.qZA()()}if(2&he){const M=_t.$implicit,se=_t.index,qe=s.oxw(4);s.Q6J("ngClass",s.VKq(11,ec,s.lcZ(1,5,qe.selectedAvailableEquipments$)===se)),s.xp6(2),s.Q6J("ngClass",s.lcZ(3,7,qe.selectedAvailableEquipments$)===se?"text-primary-400":"text-bluegray-600"),s.xp6(2),s.hij(" ",M.name," "),s.xp6(1),s.Q6J("ngClass",s.lcZ(6,9,qe.selectedAvailableEquipments$)===se?"text-primary-400":"text-bluegray-400"),s.xp6(2),s.hij(" ",M.price," \u0440\u0443\u0431. ")}}function To(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Lc,8,13,"div",27),s.BQk()),2&he){const M=s.oxw().ngIf;s.xp6(1),s.Q6J("ngForOf",M.value)}}function tc(he,_t){if(1&he&&(s.TgZ(0,"div",16),s.YNc(1,Jp,4,0,"div",17),s.YNc(2,zd,4,0,"div",18),s.YNc(3,Xl,2,0,"div",19),s.YNc(4,To,2,1,"ng-container",20),s.qZA()),2&he){const M=_t.ngIf,se=s.oxw(2);s.Udp("max-height","20rem"),s.Q6J("ngSwitch",M.loadingState),s.xp6(1),s.Q6J("ngSwitchCase",se.LoadingState.EMPTY),s.xp6(1),s.Q6J("ngSwitchCase",se.LoadingState.ERROR),s.xp6(1),s.Q6J("ngSwitchCase",se.LoadingState.LOADING),s.xp6(1),s.Q6J("ngSwitchCase",se.LoadingState.READY)}}function Ei(he,_t){if(1&he&&(s.TgZ(0,"div",11)(1,"span",12),s._UZ(2,"i",13)(3,"input",14),s.qZA(),s.YNc(4,tc,5,7,"div",15),s.ALo(5,"async"),s.qZA()),2&he){const M=s.oxw();s.xp6(3),s.Q6J("formControl",M.queryFilterControl),s.xp6(1),s.Q6J("ngIf",s.lcZ(5,2,M.equipments$))}}let nc=(()=>{class he{constructor(M){this.api=M,this.equipmentsList=new te.Oe([]),this.availableEquipmentsLoadingState=$r.Gu.LOADING,this.queryFilterControl=new te.NI(""),this.openAvailableEquipmentsView=new si.x,this.openAvailableEquipmentsView$=this.openAvailableEquipmentsView.pipe((0,fn.b)(()=>{this.availableEquipmentsLoadingState=$r.Gu.LOADING,this.selectedAvailableEquipmentsIndex.next(-1)})),this.closeAvailableEquipmentsView$=new si.x,this.filterChange$=this.queryFilterControl.valueChanges.pipe((0,da.O)(""),(0,Ms.b)(500),(0,Oc.x)(),(0,ie.U)(se=>[se])),this.LoadingState=$r.Gu,this.selectAvailableEquipment=new si.x,this.removeEquipment=new si.x,this.equipments$=ss.aN.ofAltAll(this.filterChange$,this.api.getClientEquipments.bind(this.api),[this.selectAvailableEquipment.asObservable(),this.removeEquipment.asObservable()]).pipe((0,ie.U)(se=>(se.value=se.value.filter(qe=>this.equipmentsList.value.map(Et=>Et.equipment).every(Et=>(null==Et?void 0:Et.clientEquipmentId)!==qe.clientEquipmentId)),se)),(0,Te.d)(1)),this.keysControl$=(0,zo.R)(document.body,"keydown").pipe(Fe(this.openAvailableEquipmentsView$),(0,Me.h)(se=>["ArrowDown","ArrowUp","Enter"].includes(se.key)),(0,ie.U)(se=>(se.preventDefault(),se.stopPropagation(),se.key)),(0,mt.R)(this.closeAvailableEquipmentsView$),(0,Ge.r)()),this.selectedAvailableEquipmentsIndex=new wr.X(-1),this.selectedAvailableEquipments$=this.selectedAvailableEquipmentsIndex.pipe((0,nl.w)(se=>this.equipments$.pipe((0,ie.U)(qe=>-2===se?qe.value.length-1:se>qe.value.length-1?-1:Math.min(qe.value.length-1,Math.max(-1,se))))),(0,Te.d)(1)),this.selectAvailableEquipment$=this.selectAvailableEquipment.pipe((0,nl.w)(se=>this.equipments$.pipe((0,Pc.P)(),(0,ie.U)(qe=>-1===se?null:qe.value[se]))),(0,Me.h)(se=>null!==se),(0,ie.U)(se=>new te.cw({equipment:new te.NI(se),count:new te.NI(1)})),(0,fn.b)(()=>{var se;return null===(se=this.overlayPanel)||void 0===se?void 0:se.hide()})),this.subscriptions=new ss.xf,this.onChange=se=>{},this.onTouch=()=>{},this.isDisabled=!1,this.inputClasses={},this.onBlur=new s.vpe}ngOnInit(){this.subscriptions.addSubscription("kctrl",this.keysControl$.pipe((0,nl.w)(M=>this.selectedAvailableEquipments$.pipe((0,Pc.P)(),(0,ie.U)(se=>({key:M,index:se}))))).subscribe(({key:M,index:se})=>{switch(M){case"ArrowDown":this.selectedAvailableEquipmentsIndex.next(se+1);break;case"ArrowUp":this.selectedAvailableEquipmentsIndex.next(se-1);break;case"Enter":this.selectAvailableEquipment.next(se)}})),this.subscriptions.addSubscription("slctrl",this.selectAvailableEquipment$.subscribe(M=>this.equipmentsList.push(M))),this.subscriptions.addSubscription("chng",this.equipmentsList.valueChanges.subscribe(M=>this.onChange(M))),this.subscriptions.addSubscription("removeEq",this.removeEquipment.subscribe(M=>{this.equipmentsList.removeAt(M),this.onTouch(),this.onBlur.emit()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouch=M}setDisabledState(M){this.isDisabled=M,M?this.equipmentsList.disable({emitEvent:!1}):this.equipmentsList.enable({emitEvent:!1})}writeValue(M){if(null!=M)for(let se of M)null===se.equipment||null===se.count||this.equipmentsList.push(new te.cw({equipment:new te.NI(se.equipment),count:new te.NI(se.count)}));else this.equipmentsList.clear()}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(J.s))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-client-equipment-list-input"]],viewQuery:function(M,se){if(1&M&&s.Gf(La,5),2&M){let qe;s.iGM(qe=s.CRH())&&(se.overlayPanel=qe.first)}},inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:te.JU,useExisting:(0,s.Gpc)(()=>he),multi:!0}])],decls:8,vars:3,consts:[[1,"flex","flex-column","border-1","border-round-md","border-bluegray-100","overflow-x-auto","bg-white","w-fit","error-border",3,"ngClass","blur"],[1,"flex","flex-column","flex-grow-1"],["class","flex align-items-center gap-2 p-3 split-line",3,"formGroup",4,"ngFor","ngForOf"],[1,"flex","p-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","icon","mdi-add",3,"disabled","onClick"],[3,"onHide","onShow"],["overlayPanel",""],["pTemplate","content"],[1,"flex","align-items-center","gap-2","p-3","split-line",3,"formGroup"],[1,"flex-grow-1"],["formControlName","count",3,"onZero"],[1,"flex","flex-column","gap-3"],[1,"p-input-icon-left"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl"],["class","flex flex-column border-1 border-bluegray-50 border-round-md overflow-y-auto overflow-x-hidden",3,"max-height","ngSwitch",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-50","border-round-md","overflow-y-auto","overflow-x-hidden",3,"ngSwitch"],["class","flex flex-column py-8 align-items-center text-bluegray-600",4,"ngSwitchCase"],["class","flex flex-column py-8 align-items-center text-red-600",4,"ngSwitchCase"],["class","flex py-8 justify-content-center",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-column","py-8","align-items-center","text-bluegray-600"],[1,"mds-router"],[1,"flex","flex-column","py-8","align-items-center","text-red-600"],[1,"mds-error"],[1,"flex","py-8","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-6xl"],["class","flex align-items-baseline gap-2 p-2 split-line cursor-pointer user-select-none",3,"ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"flex","align-items-baseline","gap-2","p-2","split-line","cursor-pointer","user-select-none",3,"ngClass","mouseenter","mouseleave","click"],[3,"ngClass"],[1,"text-xs","font-bold",3,"ngClass"]],template:function(M,se){if(1&M){const qe=s.EpF();s.TgZ(0,"div",0),s.NdJ("blur",function(){return se.onBlur.emit()}),s.TgZ(1,"div",1),s.YNc(2,zp,4,2,"div",2),s.qZA(),s.TgZ(3,"div",3)(4,"p-button",4),s.NdJ("onClick",function(ln){return s.CHM(qe),s.MAs(6).show(ln),se.onTouch(),s.KtG(se.onBlur.emit())}),s.qZA()()(),s.TgZ(5,"p-overlayPanel",5,6),s.NdJ("onHide",function(){return se.closeAvailableEquipmentsView$.next(null)})("onShow",function(){return se.openAvailableEquipmentsView.next(se.queryFilterControl.value)}),s.YNc(7,Ei,6,4,"ng-template",7),s.qZA()}2&M&&(s.Q6J("ngClass",se.inputClasses),s.xp6(2),s.Q6J("ngForOf",se.equipmentsList.controls),s.xp6(2),s.Q6J("disabled",se.isDisabled))}}),he})(),Dl=(()=>{class he{constructor(){this.control=new te.NI(0),this.onZero=new s.vpe,this.subscriptions=new ss.xf,this.onChange=M=>{},this.onTouched=()=>{}}add(M=1){var se;this.control.setValue((null!==(se=this.control.value)&&void 0!==se?se:0)+M)}remove(M=1){var se;this.control.setValue((null!==(se=this.control.value)&&void 0!==se?se:0)-M)}ngOnInit(){this.subscriptions.addSubscription("cgVl",this.control.valueChanges.pipe((0,ie.U)(M=>"number"==typeof M&&!isNaN(M)&&M>=0?M:(this.control.setValue(0,{emitEvent:!1}),0)),(0,fn.b)(M=>0===M&&this.onZero.emit())).subscribe(M=>this.onChange(M)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){M?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(M){null==M||"number"!=typeof M||isNaN(M)?this.control.setValue(0,{emitEvent:!1}):this.control.setValue(M,{emitEvent:!1})}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-count-input"]],outputs:{onZero:"onZero"},features:[s._Bn([{provide:te.JU,useExisting:(0,s.Gpc)(()=>he),multi:!0}])],decls:4,vars:1,consts:[[1,"flex","align-items-center","border-1","border-round-md","border-bluegray-100","text-xs","overflow-hidden"],[1,"mdi-remove","p-1","cursor-pointer","hover:text-red-400","hover:bg-red-50",3,"click"],[1,"block","appearance-none","border-x-1","border-y-none","border-bluegray-100","outline-none","w-2rem","text-sm","text-center",3,"formControl"],[1,"mdi-add","p-1","cursor-pointer","hover:text-green-400","hover:bg-green-50",3,"click"]],template:function(M,se){1&M&&(s.TgZ(0,"span",0)(1,"span",1),s.NdJ("click",function(){return se.remove()}),s.qZA(),s._UZ(2,"input",2),s.TgZ(3,"span",3),s.NdJ("click",function(){return se.add()}),s.qZA()()),2&M&&(s.xp6(2),s.Q6J("formControl",se.control))}}),he})();var ic=C(9138),Ml=C(8322),oc=C(4383);function Rc(he,_t){if(1&he&&(s.TgZ(0,"span",3),s._uU(1),s.qZA()),2&he){const M=_t.$implicit;s.xp6(1),s.Oqu(M.label)}}function sc(he,_t){if(1&he&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&he){const M=_t.$implicit;s.xp6(1),s.hij(" ",M.label," ")}}const Nc=function(){return[]};let rc=(()=>{class he{constructor(M){this.api=M,this.control=new te.NI([]),this.clientEquipmentSuggestion=new si.x,this.clientEquipments$=this.clientEquipmentSuggestion.pipe((0,Ms.b)(500),(0,Vi.z)(se=>se?this.api.getClientEquipmentsSuggestions(se):this.api.getClientEquipmentsSuggestions())),this.isDisabled=!1,this.changeIsDisabled=new s.vpe,this.onBlur=new s.vpe,this.onChange=se=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,ie.U)(M=>M?M.map(se=>({equipmentRealization:parseInt(se.value)})):[])).subscribe(M=>this.onChange(M))}ngOnDestroy(){var M;null===(M=this.changeValueSubscription)||void 0===M||M.unsubscribe()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.isDisabled=M}writeValue(M){this.api.getClientEquipmentsSuggestions().pipe((0,ie.U)(se=>M?M.map(qe=>se.find(Et=>parseInt(Et.value)===qe.equipmentRealization)).filter(qe=>void 0!==qe):[])).subscribe(se=>{this.control.setValue(se)})}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(J.s))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-equipments-field-filter"]],inputs:{isDisabled:"isDisabled"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[s._Bn([{provide:te.JU,multi:!0,useExisting:(0,s.Gpc)(()=>he)}])],decls:4,vars:7,consts:[["placeholder","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","styleClass","w-full block transparent-ac-token","inputStyleClass","w-10rem","appendTo","body",3,"suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(M,se){if(1&M&&(s.TgZ(0,"p-autoComplete",0),s.NdJ("onBlur",function(){return se.onTouched()})("completeMethod",function(Et){return se.clientEquipmentSuggestion.next(Et.query)}),s.ALo(1,"async"),s.YNc(2,Rc,2,1,"ng-template",1),s.YNc(3,sc,2,1,"ng-template",2),s.qZA()),2&M){let qe;s.Q6J("suggestions",null!==(qe=s.lcZ(1,4,se.clientEquipments$))&&void 0!==qe?qe:s.DdM(6,Nc))("formControl",se.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[te.JJ,ro.jx,te.oH,kt.Qc,e.Ov]}),he})();var Jd=C(657);let Er=(()=>{class he{constructor(M){this.api=M,this.addressCounterLivesForm=new te.cw({address:new te.NI(null,te.kI.required),startApart:new te.NI(null,te.kI.required),endApart:new te.NI(null,te.kI.required)}),this.control=new te.NI(""),this.isDisabled=!1,this.isLoading=!1,this.inputClasses={},this.onBlur=new s.vpe,this.subscriptions=new ss.xf,this.onChange=se=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(M=>{this.onChange(null!=M?M:""),this.onTouched()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.isDisabled=M}writeValue(M){!M||this.control.setValue(M)}getCalculation(){this.addressCounterLivesForm.invalid||(this.isLoading=!0,this.api.getCountingLivesCalculation(this.addressCounterLivesForm.value).subscribe({next:M=>{this.isLoading=!1,this.control.setValue(this.control.value+" "+M.result)},error:()=>{this.isLoading=!1}}))}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(J.s))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-counting-lives-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:te.JU,useExisting:(0,s.Gpc)(()=>he),multi:!0}])],decls:7,vars:17,consts:[[1,"flex","flex-column","gap-1"],[1,"flex","gap-1",3,"formGroup"],["formControlName","address",3,"isHouseOnly"],["placeholder","\u0421 \u043a\u0432.","formControlName","startApart",3,"useGrouping","min","max","size","keyup.enter"],["placeholder","\u041f\u043e \u043a\u0432.","formControlName","endApart",3,"useGrouping","min","max","size","keyup.enter"],["icon","mdi-people","styleClass","p-button-icon",3,"disabled","loading","onClick"],["pInputTextarea","",3,"formControl","autoResize","disabled","ngClass","rows","blur","ngModelChange"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"app-address-input-alt",2),s.TgZ(3,"p-inputNumber",3),s.NdJ("keyup.enter",function(){return!se.isLoading&&se.getCalculation()}),s.qZA(),s.TgZ(4,"p-inputNumber",4),s.NdJ("keyup.enter",function(){return!se.isLoading&&se.getCalculation()}),s.qZA(),s.TgZ(5,"p-button",5),s.NdJ("onClick",function(){return se.getCalculation()}),s.qZA()(),s.TgZ(6,"textarea",6),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()})("ngModelChange",function(Et){return se.onChange(Et)}),s.qZA()()),2&M&&(s.xp6(1),s.Q6J("formGroup",se.addressCounterLivesForm),s.xp6(1),s.Q6J("isHouseOnly",!0),s.xp6(1),s.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),s.xp6(1),s.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),s.xp6(1),s.Q6J("disabled",se.isDisabled)("loading",se.isLoading),s.xp6(1),s.Q6J("formControl",se.control)("autoResize",!0)("disabled",se.isDisabled)("ngClass",se.inputClasses)("rows",5))}}),he})();var il=C(7570),un=C(2629),Ol=C(7658),Sr=C(7172),Go=C(2553),qr=C(9850),Pl=C(6759);let Fc=(()=>{class he{constructor(){this.inputClasses={},this.onBlur=new s.vpe,this.dataForm=new te.cw({passportSeries:new te.NI(""),passportNumber:new te.NI(""),passportIssuedDate:new te.NI(null),passportIssuedBy:new te.NI(""),departmentCode:new te.NI(""),registrationAddress:new te.NI("")}),this.disabled=!1,this.onChange=M=>{},this.onTouched=()=>{}}ngOnInit(){this.changeSubscription=this.dataForm.valueChanges.subscribe(M=>this.onChange(M))}ngOnDestroy(){var M;null===(M=this.changeSubscription)||void 0===M||M.unsubscribe()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.disabled=M}writeValue(M){var se,qe,Et,ln,Fn;this.dataForm.patchValue(M?{passportSeries:null!==(se=M.passportSeries)&&void 0!==se?se:"",passportNumber:null!==(qe=M.passportNumber)&&void 0!==qe?qe:"",passportIssuedBy:null!==(Et=M.passportIssuedBy)&&void 0!==Et?Et:"",passportIssuedDate:M.passportIssuedDate?new Date(M.passportIssuedDate):null,departmentCode:null!==(ln=M.departmentCode)&&void 0!==ln?ln:"",registrationAddress:null!==(Fn=M.registrationAddress)&&void 0!==Fn?Fn:""}:{passportSeries:"",passportNumber:"",passportIssuedBy:"",passportIssuedDate:null,departmentCode:"",registrationAddress:""})}}return he.\u0275fac=function(M){return new(M||he)},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-passport-details-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:te.JU,useExisting:he,multi:!0}])],decls:10,vars:14,consts:[[1,"flex","flex-column","gap-2",3,"formGroup","ngClass"],["pInputText","","formControlName","passportSeries","placeholder","0000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportNumber","placeholder","000000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportIssuedBy","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d",3,"disabled","blur"],[1,"flex","gap-2"],["formControlName","passportIssuedDate","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",3,"disabled","firstDayOfWeek","blur"],["formControlName","departmentCode","placeholder","\u041a\u043e\u0434 \u043f\u043e\u0434\u0440.","mask","999-999",3,"disabled","size","blur"],["pInputText","","formControlName","registrationAddress","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",3,"disabled","blur"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0)(1,"div")(2,"input",1),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()}),s.qZA(),s._uU(3," - "),s.TgZ(4,"input",2),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()}),s.qZA()(),s.TgZ(5,"input",3),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()}),s.qZA(),s.TgZ(6,"div",4)(7,"p-calendar",5),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()}),s.qZA(),s.TgZ(8,"p-inputMask",6),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()}),s.qZA()(),s.TgZ(9,"input",7),s.NdJ("blur",function(){return se.onTouched(),se.onBlur.emit()}),s.qZA()()),2&M&&(s.Q6J("formGroup",se.dataForm)("ngClass",se.inputClasses),s.xp6(2),s.Q6J("maxlength",4)("disabled",se.disabled)("size",4),s.xp6(2),s.Q6J("maxlength",6)("disabled",se.disabled)("size",6),s.xp6(1),s.Q6J("disabled",se.disabled),s.xp6(2),s.Q6J("disabled",se.disabled)("firstDayOfWeek",1),s.xp6(1),s.Q6J("disabled",se.disabled)("size",7),s.xp6(1),s.Q6J("disabled",se.disabled))}}),he})();var Qp=C(1403),ju=C(6501),pa=C(5132),ac=C(1318),Ku=C(3435),gu=C(1179),Bc=C(242);let fl=(()=>{class he{constructor(M,se,qe,Et){this.api=M,this.rt=se,this.router=qe,this.personality=Et,this.afterWorks$=this.personality.userLogin$.pipe((0,nl.w)(ln=>ss.aN.of(this.api.getAfterWorkList(),"workLogId",this.rt.afterWorksAppend(ln),null,this.rt.afterWorksRemoved(ln).pipe((0,ie.U)(Fn=>({workLogId:Fn})))))),this._isEmpty=!0,this.afterWorks$.subscribe(ln=>this._isEmpty=!ln.value||0===ln.value.length)}get isEmpty(){return this._isEmpty}markAsCompleted(M,se){return this.api.markWorkLogAsCompleted(M.workLogId,null!=se?se:void 0)}markAsUncompleted(M,se=!1){this.api.markWorkLogAsUncompleted(M.workLogId).subscribe(()=>{se&&this.openTask(M)})}closeAndMarkAsUncompleted(M){this.api.markWorkLogAsUncompletedAndClose(M.workLogId).subscribe()}openTask(M){this.router.navigate(["/task",M.task.taskId])}}return he.\u0275fac=function(M){return new(M||he)(s.LFG(J.s),s.LFG(On.U),s.LFG(F.F0),s.LFG(ce.F))},he.\u0275prov=s.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),lc=(()=>{class he{constructor(M,se){this.api=M,this.rt=se,this._isEmpty=!0,this.employeeWorkLogs$=ss.aN.ofAll(this.api.getEmployeeWorkLogs(),[this.rt.workLogCreated(),this.rt.workLogClosed(),this.rt.workLogUpdated()]).pipe((0,fn.b)({next:qe=>{this._isEmpty=!(qe.value.length>0)},error:()=>{this._isEmpty=!0}}),(0,Te.d)(1))}get isEmpty(){return this._isEmpty}}return he.\u0275fac=function(M){return new(M||he)(s.LFG(J.s),s.LFG(On.U))},he.\u0275prov=s.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),$u=(()=>{class he{constructor(M,se){this.elementRef=M,this.document=se,this.subscriptions=[]}ngOnInit(){this.element=this.elementRef.nativeElement,this.initDrag()}initDrag(){const M=(0,zo.R)(this.dragHandle?this.dragHandle:this.element,"mousedown"),se=(0,zo.R)(this.document,"mouseup"),qe=(0,zo.R)(this.document,"mousemove").pipe((0,mt.R)(se));let Et,ln,lo,Fn=0,bi=0;const Uo=M.subscribe(ha=>{Et=ha.clientX-Fn,ln=ha.clientY-bi,this.element.classList.add("free-dragging"),lo=qe.subscribe(va=>{va.preventDefault(),Fn=va.clientX-Et,bi=va.clientY-ln,this.element.style.transform="translate3d("+Fn+"px, "+bi+"px, 0)"})}),Wo=se.subscribe(()=>{Et=Fn,ln=bi,this.element.classList.remove("free-dragging"),lo&&lo.unsubscribe()});this.subscriptions.push.apply(this.subscriptions,[Uo,lo,Wo])}ngOnDestroy(){this.subscriptions.forEach(M=>null==M?void 0:M.unsubscribe())}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(s.SBq),s.Y36(e.K0))},he.\u0275dir=s.lG2({type:he,selectors:[["","appFreeDrag",""]],inputs:{dragHandle:"dragHandle"}}),he})();var Ga=C(7231),Qd=C(1560),fu=C(6083);function qu(he,_t){if(1&he&&s._UZ(0,"p-badge",12),2&he){const M=s.oxw().$implicit;s.Q6J("value",M.unactive.length+"")}}function Gd(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",9)(1,"app-avatar",10),s.NdJ("click",function(qe){const ln=s.CHM(M).$implicit,Fn=s.oxw(),bi=s.MAs(3);return s.KtG(Fn.openPanel(qe,bi,ln))}),s.qZA(),s.YNc(2,qu,1,1,"p-badge",11),s.qZA()}if(2&he){const M=_t.$implicit;s.xp6(1),s.Q6J("name",M.employees[0].fullName)("size",3)("src",M.employees[0].avatar),s.xp6(1),s.Q6J("ngIf",!M.active)}}function Wd(he,_t){1&he&&s.GkF(0)}const Zc=function(he){return{activeWorkLog:he}};function mu(he,_t){if(1&he&&(s.TgZ(0,"div",14)(1,"span",15),s._uU(2,"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f "),s._UZ(3,"app-time-elapsed",16),s.qZA(),s.YNc(4,Wd,1,0,"ng-container",17),s.qZA()),2&he){const M=s.oxw(2),se=s.MAs(6);s.xp6(3),s.Q6J("startTime",M.activeWorkLog.lastAcceptedTimestamp),s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(3,Zc,M.activeWorkLog))}}function _u(he,_t){1&he&&s.GkF(0)}const wa=function(he){return{workLog:he}};function Yd(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,_u,1,0,"ng-container",17),s.BQk()),2&he){const M=_t.$implicit;s.oxw(3);const se=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,wa,M))}}function $h(he,_t){if(1&he&&(s.TgZ(0,"div",14)(1,"span",18),s._uU(2,"\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435"),s.qZA(),s.TgZ(3,"div",0),s.YNc(4,Yd,2,4,"ng-container",19),s.qZA()()),2&he){const M=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",M.unactiveWorkLogs)("ngForTrackBy",M.trackByWorkLog)}}function Gp(he,_t){if(1&he&&(s.YNc(0,mu,5,5,"div",13),s.YNc(1,$h,5,2,"div",13)),2&he){const M=s.oxw();s.Q6J("ngIf",M.activeWorkLog),s.xp6(1),s.Q6J("ngIf",M.unactiveWorkLogs.length>0)}}function Ll(he,_t){1&he&&s.GkF(0)}function gs(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"app-task-link",22),s.TgZ(3,"app-label",23),s._UZ(4,"app-avatar-list",24),s.qZA(),s.TgZ(5,"app-label",25)(6,"span"),s._uU(7),s.ALo(8,"date"),s.qZA()()(),s.YNc(9,Ll,1,0,"ng-container",17),s._UZ(10,"div",26),s.TgZ(11,"p-button",27),s.NdJ("onClick",function(){const Et=s.CHM(M).activeWorkLog,ln=s.oxw();return s.KtG(ln.forceCloseWorkLog(Et.task.taskId))}),s.qZA()()}if(2&he){const M=_t.activeWorkLog;s.oxw();const se=s.MAs(10);s.xp6(2),s.Q6J("task",M.task),s.xp6(2),s.Q6J("employees",M.employees)("size",2),s.xp6(3),s.Oqu(s.xi3(8,6,M.created,"dd-MM-yyyy HH:mm")),s.xp6(2),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(9,wa,M))}}function Cu(he,_t){1&he&&s.GkF(0)}function vu(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"app-task-link",22),s.TgZ(3,"app-label",23),s._UZ(4,"app-avatar-list",24),s.qZA(),s.TgZ(5,"app-label",25)(6,"span"),s._uU(7),s.ALo(8,"date"),s.qZA()()(),s.YNc(9,Cu,1,0,"ng-container",17),s._UZ(10,"div",26),s.TgZ(11,"p-button",27),s.NdJ("onClick",function(){const Et=s.CHM(M).workLog,ln=s.oxw();return s.KtG(ln.forceCloseWorkLog(Et.task.taskId))}),s.qZA()()}if(2&he){const M=_t.workLog;s.oxw();const se=s.MAs(10);s.xp6(2),s.Q6J("task",M.task),s.xp6(2),s.Q6J("employees",M.employees)("size",2),s.xp6(3),s.Oqu(s.xi3(8,6,M.created,"dd-MM-yyyy HH:mm")),s.xp6(2),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(9,wa,M))}}function ol(he,_t){1&he&&s._UZ(0,"app-attachment-link",32),2&he&&s.Q6J("attachment",_t.$implicit)}function Xu(he,_t){if(1&he&&(s.TgZ(0,"app-label",29)(1,"div",30)(2,"span"),s._uU(3),s.qZA(),s.TgZ(4,"div",14),s.YNc(5,ol,1,1,"app-attachment-link",31),s.qZA()()()),2&he){const M=s.oxw().workLog;s.xp6(3),s.Oqu(M.targetDescription),s.xp6(2),s.Q6J("ngForOf",M.targetImages)}}function cc(he,_t){if(1&he&&s.YNc(0,Xu,6,2,"app-label",28),2&he){const M=_t.workLog;s.Q6J("ngIf",M.targetDescription||M.targetImages.length>0)}}let uc=(()=>{class he{constructor(M){this.service=M,this.workLogs=[],this.unactiveWorkLogs=[],this.forceCloseDialogVisible=!1}ngOnInit(){}ngOnDestroy(){}trackByWorkLog(M,se){return se.workLogId+JSON.stringify(se.whoAccepted)+JSON.stringify(se.workReports)}openPanel(M,se,qe){se.toggle(M),this.activeWorkLog=qe.active,this.unactiveWorkLogs=qe.unactive}forceCloseWorkLog(M){this.targetTaskId=M,this.forceCloseDialogVisible=!0}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(lc))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-active-work-logs-panel"]],inputs:{workLogs:"workLogs"},decls:12,vars:4,consts:[[1,"flex","flex-column","gap-3"],["class","relative w-fit p-overlay-badge",4,"ngFor","ngForOf"],["appendTo","body","styleClass","flex flex-column gap-2",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["activeWorkLogTemplate",""],["unactiveWorkLogTemplate",""],["targetDescriptionTemplate",""],[3,"taskId","visible","visibleChange"],[1,"relative","w-fit","p-overlay-badge"],[1,"cursor-pointer",3,"name","size","src","click"],["severity","danger",3,"value",4,"ngIf"],["severity","danger",3,"value"],["class","flex flex-column",4,"ngIf"],[1,"flex","flex-column"],[1,"font-bold","text-orange-400","text-lg"],[3,"startTime"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"font-bold","text-bluegray-400","text-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","terminated","p-3"],[1,"flex","flex-column","gap-2"],[3,"task"],["label","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438","styleClass","translate-x-0"],[3,"employees","size"],["label","\u041e\u0442\u0434\u0430\u043d\u0430","styleClass","translate-x-0"],[1,"flex-grow-1"],["label","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c","styleClass","p-button-danger p-button-outlined",1,"ml-3",3,"onClick"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","class","ml-3","styleClass","translate-x-0",4,"ngIf"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","styleClass","translate-x-0",1,"ml-3"],[1,"max-w-30rem","flex","flex-column","gap-2"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"]],template:function(M,se){1&M&&(s.TgZ(0,"div",0),s.YNc(1,Gd,3,4,"div",1),s.qZA(),s.TgZ(2,"p-overlayPanel",2,3),s.YNc(4,Gp,2,2,"ng-template",4),s.qZA(),s.YNc(5,gs,12,11,"ng-template",null,5,s.W1O),s.YNc(7,vu,12,11,"ng-template",null,6,s.W1O),s.YNc(9,cc,1,1,"ng-template",null,7,s.W1O),s.TgZ(11,"app-force-close-dialog",8),s.NdJ("visibleChange",function(Et){return se.forceCloseDialogVisible=Et}),s.qZA()),2&M&&(s.xp6(1),s.Q6J("ngForOf",se.workLogs),s.xp6(1),s.Q6J("baseZIndex",2e3),s.xp6(9),s.Q6J("taskId",se.targetTaskId)("visible",se.forceCloseDialogVisible))},dependencies:[e.sg,e.O5,e.tP,xt.zx,ro.jx,je.Ct,os.T,Ga.D,u.A,rr.U,Ve.k,lr.j,Qd._,fu.j,e.uU],styles:[".title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.work-log-item[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content max-content 1fr;gap:.5rem;padding:.5rem;align-items:center}.work-log-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}"]}),he})();var Ea=C(4326);const jd=function(){return[]};let Kd=(()=>{class he{constructor(M){this.api=M,this.querySubject=new si.x,this.typesOfContracts$=this.querySubject.pipe((0,nl.w)(se=>this.api.getContractTypesSuggestionList(se))),this.control=new te.NI([]),this.isDisabled=!1,this.subscriptions=new ss.xf,this.onAfterChange=new s.vpe,this.onChange=se=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("ch",this.control.valueChanges.subscribe(M=>this.onChange(null!=M?M:[]))),this.subscriptions.addSubscription("ach",this.control.valueChanges.pipe((0,Ea.g)(100)).subscribe(M=>this.onAfterChange.emit(null!=M?M:[])))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.isDisabled=M}writeValue(M){Array.isArray(M)?this.control.setValue(M||[]):this.control.setValue([])}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(J.s))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-types-contracts-multi-selector"]],outputs:{onAfterChange:"onAfterChange"},features:[s._Bn([{provide:te.JU,useExisting:he,multi:!0}])],decls:2,vars:12,consts:[["appendTo","body","dataKey","value","field","label","emptyMessage","\u0422\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430...",3,"autoHighlight","forceSelection","formControl","unique","dropdown","multiple","showEmptyMessage","suggestions","delay","completeMethod"]],template:function(M,se){if(1&M&&(s.TgZ(0,"p-autoComplete",0),s.NdJ("completeMethod",function(Et){return se.querySubject.next(Et.query)}),s.ALo(1,"async"),s.qZA()),2&M){let qe;s.Q6J("autoHighlight",!0)("forceSelection",!1)("formControl",se.control)("unique",!1)("dropdown",!0)("multiple",!0)("showEmptyMessage",!0)("suggestions",null!==(qe=s.lcZ(1,9,se.typesOfContracts$))&&void 0!==qe?qe:s.DdM(11,jd))("delay",500)}},dependencies:[te.JJ,te.oH,kt.Qc,e.Ov]}),he})();function $d(he,_t){1&he&&s.GkF(0)}const cr=function(he){return{workLog:he}};function dc(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,$d,1,0,"ng-container",21),s.BQk()),2&he){const M=_t.$implicit;s.oxw();const se=s.MAs(12);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,cr,M))}}function qd(he,_t){if(1&he&&(s.TgZ(0,"div",22),s._uU(1),s.qZA()),2&he){const M=s.oxw();s.Udp("translate","-100% -25%")("min-width","1.8rem"),s.xp6(1),s.hij(" ",M.afterWorks.length," ")}}function Xd(he,_t){1&he&&(s.TgZ(0,"div",36),s._UZ(1,"span",37),s.TgZ(2,"span"),s._uU(3,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),s.qZA()())}function bu(he,_t){1&he&&s.GkF(0)}function Rl(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,bu,1,0,"ng-container",21),s.BQk()),2&he){const M=s.oxw().workLog;s.oxw();const se=s.MAs(16);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,cr,M))}}function yu(he,_t){1&he&&s.GkF(0)}function ed(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,yu,1,0,"ng-container",21),s.BQk()),2&he){const M=s.oxw().workLog;s.oxw();const se=s.MAs(14);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,cr,M))}}function Xr(he,_t){if(1&he&&(s.TgZ(0,"div",23)(1,"div",24)(2,"div",25),s._UZ(3,"app-task-link",26)(4,"app-avatar-list",27),s.TgZ(5,"app-label",28)(6,"div",29)(7,"span",30),s._uU(8),s.ALo(9,"date"),s.qZA(),s.TgZ(10,"span"),s._uU(11,"-"),s.qZA(),s.TgZ(12,"span",30),s._uU(13),s.ALo(14,"date"),s.qZA()()()(),s.YNc(15,Xd,4,0,"div",31),s.TgZ(16,"app-label",32)(17,"span"),s._uU(18),s.qZA()()(),s._UZ(19,"div",33),s.TgZ(20,"div",34),s.YNc(21,Rl,2,4,"ng-container",35),s.YNc(22,ed,2,4,"ng-container",35),s.qZA()()),2&he){const M=_t.workLog;s.xp6(3),s.Q6J("task",M.task),s.xp6(1),s.Q6J("employees",M.employees),s.xp6(4),s.Oqu(s.xi3(9,8,M.created,"dd-MM-yyyy HH:mm")),s.xp6(5),s.Oqu(s.xi3(14,11,M.closed,"dd-MM-yyyy HH:mm")),s.xp6(2),s.Q6J("ngIf",M.isForceClosed),s.xp6(3),s.Oqu(M.report),s.xp6(3),s.Q6J("ngIf",M.isForceClosed),s.xp6(1),s.Q6J("ngIf",!M.isForceClosed)}}function Nl(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"p-button",38),s.NdJ("onClick",function(qe){const ln=s.CHM(M).workLog,Fn=s.oxw();return s.MAs(18).toggle(qe),s.KtG(Fn.targetWorkLog=ln)}),s.qZA(),s.TgZ(1,"p-button",39),s.NdJ("onClick",function(){const Et=s.CHM(M).workLog,ln=s.oxw();return s.KtG(ln.afterWorkService.markAsUncompleted(Et,!0))}),s.qZA()}}function td(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"p-button",40),s.NdJ("onClick",function(){const Et=s.CHM(M).workLog,ln=s.oxw();return s.KtG(ln.afterWorkService.markAsUncompleted(Et))}),s.qZA(),s.TgZ(1,"p-button",41),s.NdJ("onClick",function(qe){const ln=s.CHM(M).workLog,Fn=s.oxw();return s.MAs(18).toggle(qe),s.KtG(Fn.targetWorkLog=ln)}),s.qZA(),s.TgZ(2,"p-button",42),s.NdJ("onClick",function(){const Et=s.CHM(M).workLog,ln=s.oxw();return s.KtG(ln.afterWorkService.closeAndMarkAsUncompleted(Et))}),s.qZA()}}let ep=(()=>{class he{constructor(M){this.afterWorkService=M,this.afterWorks=[],this.panelVisible=!1,this.concludedContractsControl=new te.NI([],[te.kI.required]),this.isRequestInProcess=!1}ngOnInit(){}toggle(){this.panelVisible=!this.panelVisible}markAsCompleted(M){!this.targetWorkLog||(this.isRequestInProcess=!0,this.afterWorkService.markAsCompleted(this.targetWorkLog,this.concludedContractsControl.value).subscribe(()=>M.hide()))}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(fl))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-after-work-panel"]],inputs:{afterWorks:"afterWorks"},decls:27,vars:10,consts:[["pRipple","",1,"bg-white","text-primary","border-circle","shadow-3","p-3","flex","relative","cursor-pointer","transition-colors","transition-duration-150","hover:bg-primary","hover:text-white",3,"click"],[1,"mds-work","text-4xl"],["appendTo","body","styleClass","overlay-panel-unpadding",3,"dismissable","showCloseIcon"],["workPanel",""],[1,"p-4","surface-overlay","shadow-2","border-round","flex","flex-column","gap-3"],[1,"text-bluegray-500","font-bold"],[1,"flex","flex-column","overflow-y-auto","overflow-x-hidden","max-h-30rem","w-fit","overscroll-none"],[4,"ngFor","ngForOf"],["class","absolute flex justify-content-center bg-primary border-round-3xl p-2 line-height-1 text-xs font-semibold top-0 left-100 pointer-events-none",3,"translate","min-width",4,"ngIf"],["workLogItemTemplate",""],["normalButtonsTemplate",""],["forceClosedButtonsTemplate",""],["styleClass","flex flex-column gap-3",3,"dismissable","onShow"],["contractsOverlay",""],[1,"flex","flex-column","gap-4","max-w-30rem",3,"click"],[1,"text-bluegray-500","text-lg","font-semibold"],[1,"flex","flex-column","gap-2"],[3,"formControl","onAfterChange"],[1,"flex","gap-3"],["label","\u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435","styleClass","p-button-success w-full",1,"flex-grow-1",3,"disabled","onClick"],["label","\u0411\u0435\u0437 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","styleClass","p-button-info w-full",1,"flex-grow-1",3,"disabled","onClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","flex","justify-content-center","bg-primary","border-round-3xl","p-2","line-height-1","text-xs","font-semibold","top-0","left-100","pointer-events-none"],[1,"flex","align-items-center","gap-1","terminated","p-3"],[1,"flex","flex-column","gap-2","w-min"],[1,"flex","justify-content-between","align-items-center","gap-3"],[3,"task"],[3,"employees"],["label","\u041e\u0442\u0434\u0430\u043d\u0430/\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430","styleClass","font-bold translate-x-0"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"white-space-nowrap"],["class","flex align-items-center gap-1 text-orange-400 font-bold",4,"ngIf"],["label","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u0441 \u043e\u0442\u0447\u0435\u0442\u043e\u043c","styleClass","font-bold translate-x-0"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-3"],[4,"ngIf"],[1,"flex","align-items-center","gap-1","text-orange-400","font-bold"],[1,"mdi-warning"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-warning p-button-outlined",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"]],template:function(M,se){if(1&M){const qe=s.EpF();s.TgZ(0,"div",0),s.NdJ("click",function(ln){s.CHM(qe);const Fn=s.MAs(3);return s.KtG(Fn.toggle(ln))}),s._UZ(1,"span",1),s.qZA(),s.TgZ(2,"p-overlayPanel",2,3)(4,"div",4)(5,"span",5),s._uU(6,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),s.qZA(),s.TgZ(7,"div",6),s.YNc(8,dc,2,4,"ng-container",7),s.qZA()()(),s.ynx(9),s.YNc(10,qd,2,5,"div",8),s.BQk(),s.YNc(11,Xr,23,14,"ng-template",null,9,s.W1O),s.YNc(13,Nl,2,0,"ng-template",null,10,s.W1O),s.YNc(15,td,3,0,"ng-template",null,11,s.W1O),s.TgZ(17,"p-overlayPanel",12,13),s.NdJ("onShow",function(){return se.concludedContractsControl.reset([])}),s.TgZ(19,"div",14),s.NdJ("click",function(ln){return ln.stopPropagation()}),s.TgZ(20,"span",15),s._uU(21,"\u041a\u0430\u043a\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u044b \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0434\u0430\u0442\u044c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),s.qZA(),s.TgZ(22,"div",16)(23,"app-types-contracts-multi-selector",17),s.NdJ("onAfterChange",function(){s.CHM(qe);const ln=s.MAs(18);return s.KtG(ln.overlayVisible&&ln.align())}),s.qZA(),s.TgZ(24,"div",18)(25,"p-button",19),s.NdJ("onClick",function(){s.CHM(qe);const ln=s.MAs(18);return s.KtG(se.markAsCompleted(ln))}),s.qZA(),s.TgZ(26,"p-button",20),s.NdJ("onClick",function(){s.CHM(qe);const ln=s.MAs(18);return s.KtG(se.markAsCompleted(ln))}),s.qZA()()()()()}2&M&&(s.xp6(2),s.Q6J("dismissable",!1)("showCloseIcon",!0),s.xp6(5),s.Udp("max-width","60vw"),s.xp6(1),s.Q6J("ngForOf",se.afterWorks),s.xp6(2),s.Q6J("ngIf",se.afterWorks.length>0),s.xp6(7),s.Q6J("dismissable",!0),s.xp6(6),s.Q6J("formControl",se.concludedContractsControl),s.xp6(2),s.Q6J("disabled",se.concludedContractsControl.invalid),s.xp6(1),s.Q6J("disabled",!se.concludedContractsControl.invalid))},dependencies:[e.sg,e.O5,e.tP,xt.zx,te.JJ,os.T,te.oH,_o.H,rr.U,Ve.k,Qd._,Kd,e.uU],styles:["[_nghost-%COMP%]{display:flex;position:relative}"]}),he})();function Nr(he,_t){if(1&he&&s._UZ(0,"app-active-work-logs-panel",8),2&he){const M=s.oxw().ngIf;s.Q6J("workLogs",M.value)}}function pc(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Nr,1,1,"app-active-work-logs-panel",7),s.BQk()),2&he){const M=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!M.isActiveWorkEmpty)}}function nd(he,_t){if(1&he&&s._UZ(0,"app-after-work-panel",10),2&he){const M=s.oxw().ngIf;s.Q6J("afterWorks",M.value)}}function Wp(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,nd,1,1,"app-after-work-panel",9),s.BQk()),2&he){const M=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!M.isAfterWorkEmpty)}}function hc(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",1),s.NdJ("mouseenter",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.dockPanelHover())})("mouseleave",function(){s.CHM(M);const qe=s.oxw();return s.KtG(qe.dockPanelUnhover())}),s._UZ(1,"div",2)(2,"span",3,4),s.TgZ(4,"div",5),s.YNc(5,pc,2,1,"ng-container",6),s.ALo(6,"async"),s.YNc(7,Wp,2,1,"ng-container",6),s.ALo(8,"async"),s.qZA()()}if(2&he){const M=s.MAs(3),se=s.oxw();s.Q6J("dragHandle",M),s.xp6(1),s.Udp("opacity",se.dockPanelHovered?"1":"0"),s.xp6(1),s.Udp("opacity",se.dockPanelHovered?"1":".1"),s.xp6(2),s.Udp("opacity",se.dockPanelHovered?"1":".5"),s.xp6(1),s.Q6J("ngIf",s.lcZ(6,9,se.activeWorkLogService.employeeWorkLogs$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(8,11,se.afterWorkService.afterWorks$))}}let Uc=(()=>{class he{constructor(M,se){this.afterWorkService=M,this.activeWorkLogService=se,this.dockPanelHovered=!1}get isActiveWorkEmpty(){return this.activeWorkLogService.isEmpty}get isAfterWorkEmpty(){return this.afterWorkService.isEmpty}get isAllEmpty(){return this.isAfterWorkEmpty&&this.isActiveWorkEmpty}ngOnInit(){}dockPanelHover(){this.dockPanelHovered=!0}dockPanelUnhover(){this.dockPanelHovered=!1}}return he.\u0275fac=function(M){return new(M||he)(s.Y36(fl),s.Y36(lc))},he.\u0275cmp=s.Xpm({type:he,selectors:[["app-float-dock-panel"]],decls:1,vars:1,consts:[["class","fixed bottom-0 right-0 mb-8 mr-5 p-3 flex flex-column gap-3 border-round-xl","appFreeDrag","",3,"dragHandle","mouseenter","mouseleave",4,"ngIf"],["appFreeDrag","",1,"fixed","bottom-0","right-0","mb-8","mr-5","p-3","flex","flex-column","gap-3","border-round-xl",3,"dragHandle","mouseenter","mouseleave"],[1,"absolute","top-0","left-0","w-full","h-full","border-round-xl","border-1","border-bluegray-300","transition-all","transition-duration-150"],[1,"mdi-drag_indicator","align-self-end","cursor-move","border-bluegray-300","transition-all","transition-duration-150","z-1"],["draghandle",""],[1,"flex","flex-column","gap-3","transition-all","transition-duration-150","align-items-center"],[4,"ngIf"],[3,"workLogs",4,"ngIf"],[3,"workLogs"],[3,"afterWorks",4,"ngIf"],[3,"afterWorks"]],template:function(M,se){1&M&&s.YNc(0,hc,9,13,"div",0),2&M&&s.Q6J("ngIf",!se.isAllEmpty)},dependencies:[e.O5,$u,uc,ep,e.Ov]}),he})();class sl{constructor(){this.initialDate=new Date,this.timeOffset=0,this.value=0,this.thumbStyle={},this.isDisabled=!1,this.onChange=_t=>{},this.onTouched=()=>{}}get time(){const _t=Math.floor(this.value/36e5),M=Math.floor((this.value-36e5*_t)/6e4);return`${_t<10?"0"+_t:_t}:${M<10?"0"+M:M}`}writeValue(_t){this.initialDate=_t||new Date,this.updateDate()}registerOnChange(_t){this.onChange=_t}registerOnTouched(_t){this.onTouched=_t}setDisabledState(_t){this.isDisabled=_t}ngOnInit(){}wrapperInit(_t){this.wrapper=_t,this.updateThumbStyle(this.value)}changeValue(_t){const M=this.value%6e5;M>0&&(this.value+=6e5-M),this.changeTime()}updateDate(){this.timeOffset=this.initialDate.getTime()%864e5,this.value=this.timeOffset+108e5,this.changeTime()}changeTime(){this.onChange(new Date(this.initialDate.getTime()-(this.timeOffset+108e5)+this.value)),this.updateThumbStyle(this.value)}updateThumbStyle(_t){if(!this.wrapper)return;const{width:M}=this.wrapper.getBoundingClientRect();this.thumbStyle={bottom:"1rem",left:_t/8634e4*M+"px",transform:"translateX(-50%)"}}}sl.\u0275fac=function(_t){return new(_t||sl)},sl.\u0275cmp=s.Xpm({type:sl,selectors:[["app-time-picker"]],features:[s._Bn([{provide:te.JU,useExisting:sl,multi:!0}])],decls:5,vars:7,consts:[["id","wrapper",1,"flex","flex-column","gap-2","w-25rem","pt-6","relative"],["wrapper",""],[1,"font-semibold","absolute","bg-primary","text-white","border-round-2xl","shadow-1","p-2"],["styleClass","h-1rme",3,"ngModel","disabled","max","step","ngModelChange","onChange"]],template:function(_t,M){1&_t&&(s.TgZ(0,"div",0,1)(2,"span",2),s._uU(3),s.qZA(),s.TgZ(4,"p-slider",3),s.NdJ("ngModelChange",function(qe){return M.value=qe})("onChange",function(qe){return M.changeValue(qe.value)}),s.qZA()()),2&_t&&(s.xp6(2),s.Akn(M.thumbStyle),s.xp6(1),s.Oqu(M.time),s.xp6(1),s.Q6J("ngModel",M.value)("disabled",M.isDisabled)("max",8634e4)("step",6e5))},dependencies:[te.JJ,te.On,tn.iR]}),(0,R.gn)([(0,b._P)("wrapper")],sl.prototype,"wrapperInit",null);var id=C(6451),Iu=C(9664);function Wa(he,_t){1&he&&s.GkF(0)}const Tu=function(he){return{session:he}};function gc(he,_t){if(1&he&&(s.ynx(0),s.YNc(1,Wa,1,0,"ng-container",4),s.BQk()),2&he){const M=_t.$implicit;s.oxw();const se=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",se)("ngTemplateOutletContext",s.VKq(2,Tu,M))}}function Hc(he,_t){if(1&he){const M=s.EpF();s.TgZ(0,"div",5),s.NdJ("click",function(){const Et=s.CHM(M).session,ln=s.oxw();return s.KtG(ln.service.openTerminalDialog(Et))}),s.TgZ(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s.NdJ("click",function(qe){const ln=s.CHM(M).session,Fn=s.oxw();return qe.stopPropagation(),s.KtG(Fn.service.removeSession(ln.sessionId))}),s.qZA()()}if(2&he){const M=_t.session,se=s.oxw();s.Q6J("ngClass",se.service.isDialogOpen(M.sessionId)?"border-primary text-white bg-primary cursor-default":"border-bluegray-500 cursor-pointer hover:bg-bluegray-50"),s.xp6(2),s.hij(" ",M.name," ")}}const ml=function(he,_t){return{flex:he,hidden:_t}};let Ra=class{constructor(_t){this.service=_t,this.panelMouseEnter$=new G.t(1),this.panelMouseLeave$=new G.t(1),this.panelPosition={transform:"translate(-50%, 75%)",opacity:"0.5"},this.panelSub=(0,id.T)(this.panelMouseEnter$.pipe((0,ie.U)(()=>!0)),(0,id.T)(this.panelMouseEnter$.pipe((0,ie.U)(()=>!0)),this.panelMouseLeave$.pipe((0,ie.U)(()=>!1))).pipe((0,Ms.b)(1e3),(0,Me.h)(M=>!M))).pipe().subscribe(M=>{M?(this.panelPosition.transform="translate(-50%, 0%)",this.panelPosition.opacity="1"):(this.panelPosition.transform="translate(-50%, 75%)",this.panelPosition.opacity="0.5")})}ngOnInit(){}};Ra.\u0275fac=function(_t){return new(_t||Ra)(s.Y36(Iu.M))},Ra.\u0275cmp=s.Xpm({type:Ra,selectors:[["app-terminal-float-panel"]],decls:5,vars:6,consts:[["id","wrapper-panel",1,"flex","p-2","gap-2","bg-white","border-1","border-primary-300","border-round-top-lg","shadow-2","w-fit","align-items-center","fixed","bottom-0","left-50","text-bluegray-500","transition-all","transition-duration-300",3,"ngClass","ngStyle"],[1,"mds-terminal","text-5xl"],[4,"ngFor","ngForOf"],["panelItemTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","px-2","py-1","border-round-lg","border-1","align-items-center","select-none",3,"ngClass","click"],[1,"font-bold"],[1,"mdi-close","text-lg","hover:text-primary-700","cursor-pointer",3,"click"]],template:function(_t,M){1&_t&&(s.TgZ(0,"div",0),s._UZ(1,"span",1),s.YNc(2,gc,2,4,"ng-container",2),s.qZA(),s.YNc(3,Hc,4,2,"ng-template",null,3,s.W1O)),2&_t&&(s.Q6J("ngClass",s.WLB(3,ml,M.service.sessions.length>0,0===M.service.sessions.length))("ngStyle",M.panelPosition),s.xp6(2),s.Q6J("ngForOf",M.service.sessions))},dependencies:[e.mk,e.sg,e.tP,e.PC]}),(0,R.gn)([(0,b.v4)("wrapper-panel","mouseenter")],Ra.prototype,"panelMouseEnter$",void 0),(0,R.gn)([(0,b.v4)("wrapper-panel","mouseleave")],Ra.prototype,"panelMouseLeave$",void 0),Ra=(0,R.gn)([(0,b.kG)()],Ra);var od=C(5330),Vc=C(430),Au=C(6081),kr=C(4028),zc=C(4495),fc=C(7728),_l=C(6252),Yp=C(417);let Cl=(()=>{class he{}return he.\u0275fac=function(M){return new(M||he)},he.\u0275mod=s.oAB({type:he}),he.\u0275inj=s.cJS({providers:[{provide:Cs.f,useFactory:gr},od.xA],imports:[Yo.z,e.ez,qt.$9,xt.hJ,te.u5,Ct.kW,me.L$,lt.A,$e.S,Lt.LU,je.TX,sn.L,ai.EV,Gi.j,Eo.zz,No,Rs.m,jo.nD,sr.JP,os.y,fr.q4,Mr.n,vs.e4,bs.E,te.UX,zs,Ns.qH,Ia.l,_r.U,as.ON,qs._8,ra.u,Rn,hl.D,Mt.q,tn.JH,Yu,_o.T,jr.x,ue.Qy,kt.WN,on.U$,An.ce,ni._t,vi.S,Jd.kK,un.xc,Ol.w,Sr.W6,pa.f,Bc.Iu,Q.vI,od.DL,Vc.qZ]}),he})();s.B6R(d.J,[e.O5,qt.v2,xt.zx,te.JJ,Ct.Lt,ro.jx,$e.V,je.lM,Ri,te.oH,u.A,Di.j,kr.M],[e.Ov]),s.B6R(x.h,[e.O5,te.Fj,te.JJ,te.On,bs.P,H.r,kr.M],[]),s.B6R(K.Y,[e.O5,qt.v2,O.u,xt.zx,je.Ct,kr.M],[]),s.B6R(D.o,[e.mk,e.O5,e.tP,e.RF,e.n9,e.ED,te.Fj,te.JJ,te.On,Ct.Lt,me.Rn,lt.g,Gi.o,Q.xV,x.h,Vr.k,ws.Z,Jr,ye,ua,nc,Er,Fc,gu.r,kr.M],[e.Ov]),s.B6R(re,[e.mk,e.O5,te.Fj,te.JJ,te.On,H.r,kr.M],[]),s.B6R(Xt,[e.mk,e.sg,e.O5,qt.v2,xt.Hq,xt.zx,te.JJ,Ct.Lt,ro.jx,$e.V,Ri,te.oH,u.A,oe,Di.j,kr.M],[e.Ov]),s.B6R(ft,[e.mk,e.O5,e.tP,e.RF,e.n9,F.fw,sn.G,p.r,wo,zc.n],[e.uU]),s.B6R(an.E,[e.mk,e.sg,e.O5,e.tP,qt.v2,F.rH,xt.zx,te.Fj,te.JJ,te.On,ro.jx,lt.g,sn.G,jo.XZ,os.T,te.oH,ra.b,Tn.g,Pl.C,Qp.a,ju.g,ac.s,Ku.M],[fc.A,e.Ov,e.OU,e.uU]),s.B6R(wo,[e.mk,e.sg,e.O5,e.tP,F.lC,F.rH,xt.zx,Ds.aV,ro.jx,je.Ct,sn.G,ai.FN,ra.b,Pt,hl.Q,d.J,p.r,ft,vo,Di.j,di,Fo,Qa,Uc,Ra],[e.Ov]),s.B6R(zc.n,[e.mk,e.sg,e.O5,F.lC,xt.zx,Ds.aV,ro.jx,je.Ct,sn.G,ai.FN,ra.b,Pt,hl.Q,Xt,ft,vo,Di.j,di,Fo,Qa,Uc,Ra],[e.Ov]),s.B6R(ws.Z,[e.mk,te.Fj,te.JJ,te.JL,te.oH,te.sg,Wu,kr.M],[]),s.B6R(rr.U,[e.O5,F.rH,ro.jx,Rs.O,os.T,an.E],[]),s.B6R(ks.E,[e.O5,e.tP,e.RF,e.n9,e.ED,te.Fj,te.JJ,te.JL,Ct.Lt,me.Rn,Gi.o,te.sg,te.u,Vr.k,ua,rc,gu.r,kr.M],[e.Ov]),s.B6R(xs.x,[e.O5,e.RF,e.n9,ro.jx,Rs.O,os.T,u.A],[]),s.B6R(mr.y,[e.O5,ro.jx,Rs.O,os.T,u.A],[]),s.B6R(Gr._,[e.sg,xs.x],[]),s.B6R(Vo.h,[e.sg,e.O5,e.tP,e.RF,e.n9,xt.zx,te.Fj,te.JJ,te.JL,ro.jx,$e.V,sn.G,Gi.o,te.sg,te.u,_r.D,j,an.E,ys.F,Ss.p,Ae.t,Le.i,tt.L,kr.M],[]),s.B6R($t.x,[e.mk,e.O5,e.RF,e.n9,xt.zx,te.JJ,te.On,ro.jx,me.Rn,Lt.xf,Lt.x4,Gi.o,on.iA,on.Wq,on.YL,An.aj,ni._l,ni.bK,N.x,kr.M],[_l.l]),s.B6R(nc,[e.mk,e.sg,e.O5,e.RF,e.n9,xt.zx,te.Fj,te.JJ,te.JL,ro.jx,sn.G,Gi.o,os.T,te.oH,te.sg,te.u,Dl,kr.M],[e.Ov]),s.B6R(Dl,[te.Fj,te.JJ,te.oH,kr.M],[]),s.B6R(Ml.S,[e.mk,e.sg,e.O5,e.RF,e.n9,O.u,xt.zx,ro.jx,Lt.xf,Lt.x4,os.T,on.iA,$s.g,lr.j,Au.G],[Yp.t,e.Ov,e.rS,e.uU]),s.B6R(Er,[e.mk,xt.zx,te.Fj,te.JJ,te.JL,me.Rn,lt.g,te.oH,te.sg,te.u,gu.r],[]),s.B6R(il.M,[e.mk,e.O5,e.tP,e.RF,e.n9,e.ED,xt.Hq,xt.zx,te.Fj,te.JJ,te.JL,Ct.Lt,ro.jx,$e.V,sn.G,Gi.o,te.oH,te.sg,te.u,_o.H,on.iA,on.Ei,ni._l,ni.bK,Ol.a,Sr.nm,kr.M],[e.Ov,e.JJ,e.uU]),s.B6R(Pl.C,[e.sg,e.O5,e.RF,e.n9,e.ED,O.u,Go.O,qr.p],[]),s.B6R(Fc,[e.mk,te.Fj,te.JJ,te.JL,te.nD,Gi.o,Eo.vy,te.sg,te.u,qs.f,Jd.Fr,kr.M],[]),s.B6R(Ku.M,[te.JJ,ro.jx,$e.V,te.oH,qs.f,p.r,sl],[e.uU]),s.B6R(gu.r,[e.mk,e.sg,e.O5,xt.Hq,xt.zx,te.Fj,te.JJ,te.JL,te.On,me.Rn,$e.V,Gi.o,Eo.vy,os.T,te.sg,te.u,kt.Qc,Bc.Ql,ic.N,kr.M],[e.Ov]),s.B6R(Au.G,[e.mk,e.O5,e.tP,qt.v2,F.rH,xt.Hq,xt.zx,te.Fj,te.JJ,te.JL,ro.jx,$e.V,Gi.o,Rs.O,te.sg,te.u,on.iA,on.lQ,on.fz,Es.C,lr.j,N.x,oc.O,kr.M],[e.Ov,e.JJ])},9925:(dn,pt,C)=>{"use strict";C.d(pt,{z:()=>u});var e=C(9808),d=C(5e3);let u=(()=>{class p{}return p.\u0275fac=function(R){return new(R||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[e.ez]}),p})()},975:(dn,pt,C)=>{"use strict";C.r(pt),C.d(pt,{LoginModule:()=>we});var e=C(3470),d=C(2382),u=C(4e3),p=C(158),x=C(5e3),R=C(8738),b=C(8028);function s(ke,X){1&ke&&(x.TgZ(0,"span",9),x._uU(1,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b"),x.qZA()),2&ke&&x.Q6J("@fade",void 0)}let F=(()=>{class ke{constructor(q,pe,_e){this.api=q,this.personalityService=pe,this.router=_e,this.loginForm=new d.cw({login:new d.NI("",d.kI.required),password:new d.NI("",d.kI.required)}),this.isWrongCredentials=!1,this.isLogining=!1}ngOnInit(){}setWrongCredentials(){this.wrongCredentialsTimer&&clearTimeout(this.wrongCredentialsTimer),this.isWrongCredentials=!0,this.wrongCredentialsTimer=setTimeout(()=>this.isWrongCredentials=!1,3e3)}signIn(){!this.loginForm.valid||(this.isLogining=!0,this.api.signIn(this.loginForm.getRawValue()).subscribe({next:q=>{this.personalityService.updateMe().subscribe(),this.router.resetConfig(p._),setTimeout(()=>this.router.navigate(["/"]).then(()=>this.isLogining=!1),100)},error:q=>{this.setWrongCredentials(),this.isLogining=!1}}))}}return ke.\u0275fac=function(q){return new(q||ke)(x.Y36(R.s),x.Y36(b.F),x.Y36(e.F0))},ke.\u0275cmp=x.Xpm({type:ke,selectors:[["ng-component"]],decls:15,vars:5,consts:[[1,"page-wrapper"],[1,"login-panel",3,"formGroup","keyup.enter"],[1,"caption"],["src","assets/logo-dark.svg"],[1,"input-label-wrapper","full-width"],["formControlName","login","pInputText","",3,"autocomplete"],["formControlName","password","pInputText","","type","password",3,"autocomplete"],["styleClass","b-stretched p-button-outlined","icon","mdi-login","label","\u0412\u043e\u0439\u0442\u0438",3,"loading","onClick"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(q,pe){1&q&&(x.TgZ(0,"div",0)(1,"form",1),x.NdJ("keyup.enter",function(){return pe.signIn()}),x.TgZ(2,"span",2),x._UZ(3,"img",3),x.qZA(),x.TgZ(4,"span",4)(5,"label"),x._uU(6,"\u041b\u043e\u0433\u0438\u043d"),x.qZA(),x._UZ(7,"input",5),x.qZA(),x.TgZ(8,"span",4)(9,"label"),x._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),x.qZA(),x._UZ(11,"input",6),x.qZA(),x._UZ(12,"span"),x.TgZ(13,"p-button",7),x.NdJ("onClick",function(){return pe.signIn()}),x.qZA()(),x.YNc(14,s,2,1,"span",8),x.qZA()),2&q&&(x.xp6(1),x.Q6J("formGroup",pe.loginForm),x.xp6(6),x.Q6J("autocomplete","off"),x.xp6(4),x.Q6J("autocomplete","off"),x.xp6(2),x.Q6J("loading",pe.isLogining),x.xp6(1),x.Q6J("ngIf",pe.isWrongCredentials))},styles:[".page-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.page-wrapper[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{width:max-content;height:max-content;min-width:27rem;display:flex;flex-direction:column;gap:1rem;padding:2rem;border-radius:1rem;background-color:#fff;box-shadow:var(--shadow-200)}.error-message[_ngcontent-%COMP%]{position:absolute;background-color:#f56262;color:#fff;border-radius:.5rem;padding:.7rem 1rem;font-size:.9rem;font-weight:700;bottom:10%}"],data:{animation:[u.U1]}}),ke})();const O=[{path:"",component:F}];let Q=(()=>{class ke{}return ke.\u0275fac=function(q){return new(q||ke)},ke.\u0275mod=x.oAB({type:ke}),ke.\u0275inj=x.cJS({imports:[e.Bz.forChild(O),e.Bz]}),ke})();var N=C(1424),T=C(9808),y=C(1777),w=C(5730),k=C(9783),V=C(5921);const U=["input"];function oe(ke,X){if(1&ke){const q=x.EpF();x.TgZ(0,"i",5),x.NdJ("click",function(){x.CHM(q);const _e=x.oxw();return x.KtG(_e.clear())}),x.qZA()}}function K(ke,X){if(1&ke){const q=x.EpF();x.TgZ(0,"i",6),x.NdJ("click",function(){x.CHM(q);const _e=x.oxw();return x.KtG(_e.onMaskToggle())}),x.ALo(1,"mapper"),x.qZA()}if(2&ke){const q=x.oxw();x.Q6J("ngClass",x.xi3(1,1,q.unmasked,q.toggleIconClass))}}function H(ke,X){1&ke&&x.GkF(0)}function D(ke,X){1&ke&&x.GkF(0)}function P(ke,X){if(1&ke&&(x.ynx(0),x.YNc(1,D,1,0,"ng-container",8),x.BQk()),2&ke){const q=x.oxw(2);x.xp6(1),x.Q6J("ngTemplateOutlet",q.contentTemplate)}}const Y=function(ke){return{width:ke}};function re(ke,X){if(1&ke&&(x.TgZ(0,"div",11),x._UZ(1,"div",0),x.ALo(2,"mapper"),x.qZA(),x.TgZ(3,"div",12),x._uU(4),x.qZA()),2&ke){const q=x.oxw(2);x.xp6(1),x.Q6J("ngClass",x.xi3(2,3,q.meter,q.strengthClass))("ngStyle",x.VKq(6,Y,q.meter?q.meter.width:"")),x.xp6(3),x.Oqu(q.infoText)}}function j(ke,X){1&ke&&x.GkF(0)}const G=function(ke,X){return{showTransitionParams:ke,hideTransitionParams:X}},ie=function(ke){return{value:"visible",params:ke}};function Te(ke,X){if(1&ke){const q=x.EpF();x.TgZ(0,"div",6,7),x.NdJ("click",function(_e){x.CHM(q);const Xe=x.oxw();return x.KtG(Xe.onOverlayClick(_e))})("@overlayAnimation.start",function(_e){x.CHM(q);const Xe=x.oxw();return x.KtG(Xe.onAnimationStart(_e))})("@overlayAnimation.done",function(_e){x.CHM(q);const Xe=x.oxw();return x.KtG(Xe.onAnimationEnd(_e))}),x.YNc(2,H,1,0,"ng-container",8),x.YNc(3,P,2,1,"ng-container",9),x.YNc(4,re,5,8,"ng-template",null,10,x.W1O),x.YNc(6,j,1,0,"ng-container",8),x.qZA()}if(2&ke){const q=x.MAs(5),pe=x.oxw();x.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",x.VKq(9,ie,x.WLB(6,G,pe.showTransitionOptions,pe.hideTransitionOptions))),x.xp6(2),x.Q6J("ngTemplateOutlet",pe.headerTemplate),x.xp6(1),x.Q6J("ngIf",pe.contentTemplate)("ngIfElse",q),x.xp6(3),x.Q6J("ngTemplateOutlet",pe.footerTemplate)}}let de=(()=>{class ke{transform(q,pe,..._e){return pe(q,..._e)}}return ke.\u0275fac=function(q){return new(q||ke)},ke.\u0275pipe=x.Yjl({name:"mapper",type:ke,pure:!0}),ke})();const te={provide:d.JU,useExisting:(0,x.Gpc)(()=>ce),multi:!0};let ce=(()=>{class ke{constructor(q,pe,_e,Xe){this.cd=q,this.config=pe,this.el=_e,this.overlayService=Xe,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new x.vpe,this.onBlur=new x.vpe,this.onClear=new x.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(q=>{switch(q.getType()){case"content":default:this.contentTemplate=q.template;break;case"header":this.headerTemplate=q.template;break;case"footer":this.footerTemplate=q.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(q){switch(q.toState){case"visible":this.overlay=q.element,V.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(q){"void"===q.toState&&V.P9.clear(q.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=w.p.getOuterWidth(this.input.nativeElement)+"px",w.p.absolutePosition(this.overlay,this.input.nativeElement)):w.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(q){this.value=q.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(q){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(q)}onInputBlur(q){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(q)}onKeyDown(q){"Escape"===q.key&&(this.overlayVisible=!1)}onKeyUp(q){this.feedback&&(this.updateUI(q.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(q){let pe=null,_e=null;switch(this.testStrength(q)){case 1:pe=this.weakText(),_e={strength:"weak",width:"33.33%"};break;case 2:pe=this.mediumText(),_e={strength:"medium",width:"66.66%"};break;case 3:pe=this.strongText(),_e={strength:"strong",width:"100%"};break;default:pe=this.promptText(),_e=null}this.meter=_e,this.infoText=pe}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(q){this.overlayService.add({originalEvent:q,target:this.el.nativeElement})}testStrength(q){let pe=0;return this.strongCheckRegExp.test(q)?pe=3:this.mediumCheckRegExp.test(q)?pe=2:q.length&&(pe=1),pe}writeValue(q){this.value=void 0===q?null:q,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(q){this.onModelChange=q}registerOnTouched(q){this.onModelTouched=q}setDisabledState(q){this.disabled=q}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new w.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!w.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(q){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":q}}inputFieldClass(q){return{"p-password-input":!0,"p-disabled":q}}toggleIconClass(q){return q?"pi pi-eye-slash":"pi pi-eye"}strengthClass(q){return`p-password-strength ${q?q.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(k.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(k.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(k.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(k.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(q){return q?"text":"password"}getTranslation(q){return this.config.getTranslation(q)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(V.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return ke.\u0275fac=function(q){return new(q||ke)(x.Y36(x.sBO),x.Y36(k.b4),x.Y36(x.SBq),x.Y36(k.F0))},ke.\u0275cmp=x.Xpm({type:ke,selectors:[["p-password"]],contentQueries:function(q,pe,_e){if(1&q&&x.Suo(_e,k.jx,4),2&q){let Xe;x.iGM(Xe=x.CRH())&&(pe.templates=Xe)}},viewQuery:function(q,pe){if(1&q&&x.Gf(U,5),2&q){let _e;x.iGM(_e=x.CRH())&&(pe.input=_e.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(q,pe){2&q&&x.ekj("p-inputwrapper-filled",pe.filled())("p-inputwrapper-focus",pe.focused)("p-password-clearable",pe.showClear)("p-password-mask",pe.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[x._Bn([te])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(q,pe){1&q&&(x.TgZ(0,"div",0),x.ALo(1,"mapper"),x.TgZ(2,"input",1,2),x.NdJ("input",function(Xe){return pe.onInput(Xe)})("focus",function(Xe){return pe.onInputFocus(Xe)})("blur",function(Xe){return pe.onInputBlur(Xe)})("keyup",function(Xe){return pe.onKeyUp(Xe)})("keydown",function(Xe){return pe.onKeyDown(Xe)}),x.ALo(4,"mapper"),x.ALo(5,"mapper"),x.qZA(),x.YNc(6,oe,1,0,"i",3),x.YNc(7,K,2,4,"i",4),x.YNc(8,Te,7,11,"div",4),x.qZA()),2&q&&(x.Tol(pe.styleClass),x.Q6J("ngClass",x.xi3(1,18,pe.toggleMask,pe.containerClass))("ngStyle",pe.style),x.xp6(2),x.Tol(pe.inputStyleClass),x.Q6J("ngClass",x.xi3(4,21,pe.disabled,pe.inputFieldClass))("ngStyle",pe.inputStyle)("value",pe.value),x.uIk("label",pe.label)("aria-label",pe.ariaLabel)("aria-labelledBy",pe.ariaLabelledBy)("id",pe.inputId)("type",x.xi3(5,24,pe.unmasked,pe.inputType))("placeholder",pe.placeholder),x.xp6(4),x.Q6J("ngIf",pe.showClear&&null!=pe.value),x.xp6(1),x.Q6J("ngIf",pe.toggleMask),x.xp6(1),x.Q6J("ngIf",pe.overlayVisible))},dependencies:[T.mk,T.O5,T.tP,T.PC,N.o,de],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,y.X$)("overlayAnimation",[(0,y.eR)(":enter",[(0,y.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,y.jt)("{{showTransitionParams}}")]),(0,y.eR)(":leave",[(0,y.jt)("{{hideTransitionParams}}",(0,y.oB)({opacity:0}))])])]},changeDetection:0}),ke})(),J=(()=>{class ke{}return ke.\u0275fac=function(q){return new(q||ke)},ke.\u0275mod=x.oAB({type:ke}),ke.\u0275inj=x.cJS({imports:[T.ez,N.j,k.m8]}),ke})();var ve=C(8576),be=C(845),Be=C(4028);let we=(()=>{class ke{}return ke.\u0275fac=function(q){return new(q||ke)},ke.\u0275mod=x.oAB({type:ke}),ke.\u0275inj=x.cJS({imports:[Q,N.j,J,ve.U,d.UX,be.hJ]}),ke})();x.B6R(F,[N.o,Be.M,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,T.O5,be.zx],[])},9763:(dn,pt,C)=>{"use strict";C.r(pt),C.d(pt,{MainModule:()=>OF});var e=C(5e3),d=C(3470),u=C(4e3),p=C(2382),x=C(383),R=C(4280),b=C(4968),s=C(9300),F=C(3900),O=C(8738),Q=C(8028),N=C(9783),T=C(2248),y=C(5072),w=C(446),k=C(6502);let V=(()=>{class n{constructor(t){this.host=t,this.limited=!1,this.shift=0,"complete"===document.readyState&&setTimeout(this.onResize.bind(this),0)}onLoad(){}onResize(){const{y:t}=this.host.element.nativeElement.getBoundingClientRect(),o=window.innerHeight;this.limited||(this.host.element.nativeElement.style.minHeight=o-(t<0?0:t)-this.shift+"px"),this.limited&&(this.host.element.nativeElement.style.height=o-(t<0?0:t)-this.shift+"px")}onScroll(t){this.onResize()}ngAfterViewInit(){this.onResize()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appExtendPageHeight",""]],hostBindings:function(t,o){1&t&&e.NdJ("load",function(){return o.onLoad()},!1,e.Jf7)("resize",function(){return o.onResize()},!1,e.Jf7)("scroll",function(g){return o.onScroll(g)},!1,e.Jf7)},inputs:{limited:"limited",shift:"shift"}}),n})();var U=C(2145);function oe(n,i){if(1&n&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function K(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}let H=(()=>{class n{constructor(t){this.api=t,this.control=new p.NI([]),this.suggestions=[],this.onChange=o=>{},this.onTouched=()=>{}}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(null!=t?t:[])})}search(t){this.api.getAvailableObserversSuggestions(t.query).subscribe(o=>{this.suggestions=o})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-observer-selector-input"]],features:[e._Bn([{provide:p.JU,useExisting:n,multi:!0}])],decls:3,vars:7,consts:[["emptyMessage","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","styleClass","w-full block transparent-ac-token","inputStyleClass","w-7rem","field","name","placeholder","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","multiple","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"text-xs","text-primary-400","px-2","py-1","bg-primary-50","border-round-md","font-bold"]],template:function(t,o){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return o.onTouched()})("completeMethod",function(g){return o.search(g)}),e.YNc(1,oe,2,1,"ng-template",1),e.YNc(2,K,2,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("formControl",o.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",o.suggestions)("forceSelection",!1)("completeOnFocus",!0)("multiple",!0)},dependencies:[p.JJ,N.jx,p.oH,U.Qc],styles:["[_nghost-%COMP%]{display:flex}"]}),n})();var D=C(9808),P=C(845),Y=C(8050);const re=["inputEl"];function j(n,i){1&n&&(e.TgZ(0,"span",7),e._uU(1,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438..."),e.qZA())}function G(n,i){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function ie(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("mouseenter",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.extraPreviewVisible=!0)})("mouseleave",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.extraPreviewVisible=!1)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" +",t.control.value.length-2," ")}}function Te(n,i){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}const Me=function(n){return{disabled:n}};function de(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.focusing())}),e.YNc(1,j,2,0,"span",3),e.YNc(2,G,2,3,"span",4),e.ALo(3,"slice"),e.YNc(4,ie,2,1,"span",5),e.TgZ(5,"p-overlay",6),e.NdJ("visibleChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.extraPreviewVisible=r)}),e.YNc(6,Te,2,3,"span",4),e.ALo(7,"slice"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(15,Me,t.control.disabled)),e.xp6(1),e.Q6J("ngIf",0===(null==t.control.value?null:t.control.value.length)),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,8,t.control.value,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2),e.xp6(1),e.Q6J("visible",t.extraPreviewVisible),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,12,t.control.value,2))("ngForTrackBy",t.trackByTaskTag)}}function te(n,i){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function ce(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function J(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.accept())}),e.qZA()}}function ve(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-autoComplete",11,12),e.NdJ("completeMethod",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.search(r))}),e.YNc(3,te,2,3,"ng-template",13),e.YNc(4,ce,2,3,"ng-template",14),e.qZA(),e.YNc(5,J,1,0,"button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.control)("suggestions",t.suggestions)("multiple",!0)("completeOnFocus",!0),e.xp6(4),e.Q6J("ngIf",!t.autoAccept)}}let be=(()=>{class n{constructor(t){this.api=t,this._autoAccept=!1,this.control=new p.NI([]),this.suggestions=[],this.focused=!1,this.extraPreviewVisible=!1,this.previousVariableValue="",this.onChange=o=>{},this.onTouched=()=>{}}set autoAccept(t){var o;this._autoAccept=t,t&&(null===(o=this.changeSubscription)||void 0===o||o.unsubscribe(),this.changeSubscription=this.control.valueChanges.subscribe(r=>{this.onChange(r)}))}get autoAccept(){return this._autoAccept}search(t){this.api.getTaskTags(t.query).subscribe(o=>{this.suggestions=o.filter(r=>{var g;return!(null!==(g=this.control.value)&&void 0!==g&&g.some(E=>r.taskTagId===E.taskTagId))})})}trackByTaskTag(t,o){return o.taskTagId+o.name+o.color}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.control.disable({emitEvent:!1}),this.focused=!1):this.control.enable({emitEvent:!1})}writeValue(t){this.control.setValue(t),this.previousVariableValue=JSON.stringify(t)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.changeSubscription)||void 0===t||t.unsubscribe()}accept(){JSON.stringify(this.control.value)!==this.previousVariableValue&&this.onChange(this.control.value),this.focused=!1}focusing(){this.control.disabled||(this.previousVariableValue=JSON.stringify(this.control.value),this.focused=!0,this.onTouched(),setTimeout(()=>{var t,o;null===(o=null===(t=this.inputEl)||void 0===t?void 0:t.multiInputEL)||void 0===o||o.nativeElement.focus()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-selector"]],viewQuery:function(t,o){if(1&t&&e.Gf(re,5),2&t){let r;e.iGM(r=e.CRH())&&(o.inputEl=r.first)}},inputs:{autoAccept:"autoAccept"},features:[e._Bn([{provide:p.JU,multi:!0,useExisting:n}])],decls:2,vars:2,consts:[["class","p-component p-inputtext wrapper",3,"ngClass","click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-component","p-inputtext","wrapper",3,"ngClass","click"],["class","placeholder-text",4,"ngIf"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],["contentStyleClass","overlay flexed wrapped p10 gap5","showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"visible","visibleChange"],[1,"placeholder-text"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"],[1,"p-inputgroup"],["styleClass","transparent-ac-token w-full","inputStyleClass","w-full","appendTo","body",3,"formControl","suggestions","multiple","completeOnFocus","completeMethod"],["inputEl",""],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","icon","mdi-save",3,"click",4,"ngIf"],["pButton","","icon","mdi-save",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,de,8,17,"div",0),e.YNc(1,ve,6,5,"div",1)),2&t&&(e.Q6J("ngIf",!(o.focused||0===(null==o.control.value?null:o.control.value.length)&&o.control.disabled)),e.xp6(1),e.Q6J("ngIf",o.focused))},dependencies:[D.mk,D.sg,D.O5,P.Hq,p.JJ,Y.aV,N.jx,p.oH,U.Qc,D.OU],styles:[".placeholder-text[_ngcontent-%COMP%]{color:var(--tc-400)}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;cursor:text}.wrapper.disabled[_ngcontent-%COMP%]{cursor:default}.wrapper[_ngcontent-%COMP%]:not(.disabled):hover{border-color:var(--mc-500)}"]}),n})();var Be=C(4036),we=C(5787);const ke=function(n,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":i}};function X(n,i){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(3,ke,"left"===t.iconPos,"right"===t.iconPos))}}const q=function(n,i,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":i,"p-disabled":t}},pe={provide:p.JU,useExisting:(0,e.Gpc)(()=>_e),multi:!0};let _e=(()=>{class n{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new e.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([pe])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(g){return o.toggle(g)})("keydown.enter",function(g){return o.toggle(g)}),e.YNc(1,X,1,6,"span",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngClass",e.kEZ(8,q,o.onIcon&&o.offIcon&&!o.hasOnLabel&&!o.hasOffLabel,o.checked,o.disabled))("ngStyle",o.style),e.uIk("tabindex",o.disabled?null:"0")("aria-checked",o.checked),e.xp6(1),e.Q6J("ngIf",o.onIcon||o.offIcon),e.xp6(2),e.Oqu(o.checked?o.hasOnLabel?o.onLabel:"":o.hasOffLabel?o.offLabel:""))},dependencies:[D.mk,D.O5,D.PC,we.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),Xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,we.T]}),n})();var ct=C(3407),ot=C(6198);function Zt(n,i){1&n&&e.GkF(0)}function Dt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Zt,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(8),r=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.isTemplateSelected)("ngIfThen",o)("ngIfElse",r)}}function Cn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-template-input",23),e.NdJ("focusin",function(){const g=e.CHM(t).index,E=e.oxw(2);return e.KtG(E.currentFieldFocus=g)})("focusout",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.currentFieldFocus=void 0)}),e.qZA()}if(2&n){const t=i.$implicit;e.Q6J("formControlName",t.id)("field",t)}}function Xt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"p-dropdown",24),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.type=r)})("ngModelChange",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.changeTaskType(r))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.types)("ngModel",t.type)}}function jt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(3,"p-dropdown",25),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.directory=r)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.directories)("ngModel",t.directory)}}function ht(n,i){1&n&&(e.TgZ(0,"span",26),e._UZ(1,"span",27),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0442\u0430\u0440\u044b\u0438\u0306 \u0442\u0440\u0435\u043a\u0435\u0440 "),e.qZA()())}function ut(n,i){if(1&n&&e._UZ(0,"app-avatar",28),2&n){const t=e.oxw(2);e.Q6J("name",t.personality.me.fullName)("src",t.personality.me.avatar)("size",3)}}function xe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.YNc(2,Cn,1,2,"app-task-template-input",10),e.qZA(),e.TgZ(3,"div",11)(4,"div",12),e.YNc(5,Xt,4,2,"div",13),e.YNc(6,jt,4,2,"div",13),e.TgZ(7,"p-toggleButton",14),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.isDuplicateInOldTracker=r)}),e.qZA(),e.YNc(8,ht,4,0,"span",15),e.qZA(),e.TgZ(9,"div",16)(10,"span",17),e._uU(11,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438"),e.qZA(),e.TgZ(12,"app-observer-selector-input",18),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.initialObservers=r)}),e.qZA()(),e.TgZ(13,"div",16)(14,"span",17),e._uU(15,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(16,"app-task-tag-selector",19),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.initialTags=r)}),e.qZA()(),e.TgZ(17,"div",16)(18,"span",17),e._uU(19,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA(),e.TgZ(20,"div",20),e.YNc(21,ut,1,3,"app-avatar",21),e.TgZ(22,"textarea",22),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.initialComment=r)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("@flow",void 0),e.xp6(1),e.Q6J("@swipeChild",t.currentStepFields.length)("formGroup",t.currentStepForm),e.xp6(1),e.Q6J("ngForOf",t.currentStepFields),e.xp6(3),e.Q6J("ngIf",t.types.length>0),e.xp6(1),e.Q6J("ngIf",t.directories.length>0),e.xp6(1),e.Q6J("ngModel",t.isDuplicateInOldTracker)("disabled",!t.isCurrentTypeHasBind||!t.isUserHasOldTrackerCredentials),e.xp6(1),e.Q6J("ngIf",!t.isUserHasOldTrackerCredentials),e.xp6(4),e.Q6J("ngModel",t.initialObservers),e.xp6(4),e.Q6J("autoAccept",!0)("ngModel",t.initialTags),e.xp6(5),e.Q6J("ngIf",t.personality.me),e.xp6(1),e.Q6J("autoResize",!0)("rows",5)("ngModel",t.initialComment)}}function De(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let o;e.xp6(2),e.Q6J("label",null!==(o=t.nextStepName)&&void 0!==o?o:"\u0414\u0430\u043b\u0435\u0435")}}function We(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let o,r;e.xp6(1),e.Q6J("label",null!==(o=t.prevStepName)&&void 0!==o?o:"\u041d\u0430\u0437\u0430\u0434"),e.xp6(2),e.Q6J("label",null!==(r=t.nextStepName)&&void 0!==r?r:"\u0414\u0430\u043b\u0435\u0435")}}function gt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTaskAndClose())}),e.qZA(),e.TgZ(4,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("label",null!==(o=t.prevStepName)&&void 0!==o?o:"\u041d\u0430\u0437\u0430\u0434")}}function Tt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTaskAndClose())}),e.qZA(),e.TgZ(3,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTask())}),e.qZA()()}}function Ft(n,i){if(1&n&&(e.ynx(0,29),e.YNc(1,De,3,1,"div",30),e.YNc(2,We,4,2,"div",30),e.YNc(3,gt,5,1,"div",30),e.YNc(4,Tt,4,0,"div",30),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.controlsType()),e.xp6(1),e.Q6J("ngSwitchCase","NEXT_ONLY"),e.xp6(1),e.Q6J("ngSwitchCase","BOTH"),e.xp6(1),e.Q6J("ngSwitchCase","PREV_FIN"),e.xp6(1),e.Q6J("ngSwitchCase","FIN_ONLY")}}const Ot=function(){return[]};function Oe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"div",39)(4,"p-dropdown",40),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.selectedTemplate=r)}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"app-button",41),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectTemplateForTask())}),e.qZA()()()}if(2&n){const t=e.oxw();let o;e.xp6(4),e.Q6J("ngModel",t.selectedTemplate)("disabled",t.isTemplateSelected)("options",null!==(o=e.lcZ(5,4,t.templateOptionsList$))&&void 0!==o?o:e.DdM(6,Ot)),e.xp6(2),e.Q6J("disabled",t.isTemplateSelected)}}function et(n,i){1&n&&e.GkF(0)}function Ne(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"span",44),e._uU(3,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.qZA()(),e.TgZ(6,"app-button",46),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unselectTemplateForTask())}),e.qZA(),e._UZ(7,"div",47),e.YNc(8,et,1,0,"ng-container",48),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(4);e.xp6(5),e.Oqu(null==t.selectedTemplate?null:t.selectedTemplate.name),e.xp6(1),e.Q6J("disabled",!t.isTemplateSelected),e.xp6(2),e.Q6J("ngTemplateOutlet",o)}}function yt(n,i){1&n&&(e.TgZ(0,"div",49),e._UZ(1,"p-progressSpinner",50),e.qZA())}var ee=(()=>{return(n=ee||(ee={})).NEXT_ONLY="NEXT_ONLY",n.BOTH="BOTH",n.PREV_FIN="PREV_FIN",n.FIN_ONLY="FIN_ONLY",n.NONE="NONE",ee;var n})();let Ze=(()=>{class n{constructor(t,o,r,g,E){this.api=t,this.route=o,this.personality=r,this.toast=g,this.taskCreation=E,this.templateOptionsList$=this.api.getWireframes(),this.isTemplateSelected=!1,this.currentStep=0,this.isCreatedTask=!1,this.taskCreationForm=new p.Oe([]),this.openMode="standard",this.subscriptions=new x.xf,this.initialObservers=[],this.initialTags=[],this.types=[],this.directories=[],this.isDuplicateInOldTracker=!0,this.enterPressed$=(0,b.R)(document.body,"keydown").pipe((0,s.h)(W=>"Tab"===W.key),(0,s.h)(()=>this.controlsType()===ee.NEXT_ONLY||this.controlsType()===ee.BOTH),(0,s.h)(()=>this.isValidCurrentStep),(0,s.h)(()=>this.currentStepFields.length-1===this.currentFieldFocus)),this._selectedTemplate=null,this.openBillingCreationWindowHandle={next:W=>{this.selectedTemplate=W,this.selectTemplateForTask()},error:()=>{window.close()}},document.body.classList.add("whited")}get selectedTemplate(){return this._selectedTemplate}set selectedTemplate(t){var o,r;this._selectedTemplate=t,null!=t&&t.stages?(this.types=null!==(o=t.stages.sort((g,E)=>g.orderIndex-E.orderIndex))&&void 0!==o?o:[],this.type=this.types[0].stageId,this.directories=this.types[0].directories?this.types[0].directories:[],this.directory=null===(r=this.directories[0])||void 0===r?void 0:r.taskTypeDirectoryId,this.isDuplicateInOldTracker=!!this.types[0].oldTrackerBind&&this.isUserHasOldTrackerCredentials):(this.types=[],this.type=void 0,this.directories=[],this.directory=void 0,this.isDuplicateInOldTracker=!1)}get nextStepName(){var t,o;return null===(o=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep+1])||void 0===o?void 0:o.name}get prevStepName(){var t,o;return null===(o=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep-1])||void 0===o?void 0:o.name}changeTaskType(t){t||(this.isDuplicateInOldTracker=!1);const o=this.types.find(r=>r.stageId===t);if(o)return this.isDuplicateInOldTracker=!!o.oldTrackerBind&&this.isUserHasOldTrackerCredentials,void(this.directories=o.directories);this.directories=[],this.isDuplicateInOldTracker=!1}get isUserHasOldTrackerCredentials(){var t;const o=null===(t=this.personality.me)||void 0===t?void 0:t.oldTrackerCredentials;return!!o&&!!o.username&&!!o.password}get currentStepFields(){var t,o;return this.isTemplateSelected&&null!==(o=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep].fields)&&void 0!==o?o:[]}get currentStepForm(){return this.taskCreationForm.at(this.currentStep)}get isValidCurrentStep(){return this.currentStepForm.valid}get taskCreationBody(){if(!this.selectedTemplate)return null;const t=this.taskCreationForm.getRawValue().reduce((o,r)=>Object.assign(Object.assign({},o),r),{});return{wireframeId:this.selectedTemplate.wireframeId,childId:this.childId,parentId:this.parentId,fields:x.PU.convert(t,this.selectedTemplate),initialComment:this.initialComment,tags:this.initialTags,observers:this.initialObservers,type:this.type,directory:this.directory,isDuplicateInOldTracker:this.isDuplicateInOldTracker}}ngOnInit(){this.subscriptions.addSubscription("nextStep",this.enterPressed$.subscribe(()=>this.changeCreationStep(1))),window.addEventListener("message",t=>{const o=t.data;switch(this.openMode=o.mode,o.mode){case"standard":break;case"parent":this.parentId=o.dependencyIdentifier;break;case"child":this.childId=o.dependencyIdentifier;break;case"billing":o.wireframeId?(this.defaultValues=o.billingInfo,this.api.getWireframe(o.wireframeId).subscribe(this.openBillingCreationWindowHandle)):window.close()}},!1)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplateForTask(){var t;!this.selectedTemplate||(this.isTemplateSelected=!0,this.initialObservers=null!==(t=this.selectedTemplate.defaultObservers)&&void 0!==t?t:[],this.taskCreationForm=new p.Oe(this.selectedTemplate.steps.map(o=>new p.cw(o.fields.reduce((r,g)=>{let E=null;if(this.defaultValues)switch(g.name.toLowerCase()){case"\u043b\u043e\u0433\u0438\u043d":E=this.defaultValues.login;break;case"\u0430\u0434\u0440\u0435\u0441":E=this.defaultValues.address}return Object.assign(Object.assign({},r),{[g.id]:new p.NI(E,R.d.taskInput(g.type,g.variation))})},{})))))}unselectTemplateForTask(){this.selectedTemplate=null,this.isTemplateSelected=!1,this.currentStep=0,this.isTemplateSelected=!1}changeCreationStep(t=0){!this.isValidCurrentStep&&t>0?this.currentStepForm.markAllAsTouched():this.currentStep+=t}controlsType(){return this.selectedTemplate?0===this.currentStep?this.selectedTemplate.steps.length>1?ee.NEXT_ONLY:ee.FIN_ONLY:this.selectedTemplate.steps.length-1===this.currentStep?ee.PREV_FIN:ee.BOTH:ee.NONE}get isCurrentTypeHasBind(){if(!this.type)return!1;const t=this.types.find(o=>o.stageId===this.type);return!!t&&!!t.oldTrackerBind}createTask(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).subscribe({next:()=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}createTaskAndClose(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).pipe((0,F.w)(t=>this.api.closeTask(t.taskId))).subscribe({next:t=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(d.gz),e.Y36(Q.F),e.Y36(N.ez),e.Y36(T.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:4,consts:[["appExtendPageHeight","",1,"flex","flex-column"],[4,"ngIf","ngIfElse"],["class","flex flex-grow-1",4,"ngIf"],["controls",""],["unselectedTemplatePanel",""],["selectedTemplatePanel",""],["class","stub-when-creating-a-task",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"flex","flex-grow-1"],[1,"flex","flex-column","h-fit","flex-grow-1","p-4","gap-3",3,"formGroup"],["class","flex-grow-1",3,"formControlName","field","focusin","focusout",4,"ngFor","ngForOf"],[1,"flex","flex-column","gap-3","flex-grow-1","p-4","border-left-1","border-bluegray-100"],[1,"flex","flex-wrap","gap-3","align-items-end"],["class","flex flex-column gap-1",4,"ngIf"],["onLabel","\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","offLabel","\u041d\u0435 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","styleClass","white-space-nowrap",3,"ngModel","disabled","ngModelChange"],["class","font-bold text-sm text-orange-400 flex gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"font-semibold","text-lg","text-bluegray-400"],[3,"ngModel","ngModelChange"],[3,"autoAccept","ngModel","ngModelChange"],[1,"flex","gap-2"],[3,"name","src","size",4,"ngIf"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"flex-grow-1",3,"autoResize","rows","ngModel","ngModelChange"],[1,"flex-grow-1",3,"formControlName","field","focusin","focusout"],["optionValue","stageId",3,"options","ngModel","ngModelChange"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433","optionLabel","name","optionValue","taskTypeDirectoryId",3,"options","ngModel","ngModelChange"],[1,"font-bold","text-sm","text-orange-400","flex","gap-2","align-items-center"],[1,"mdi-warning"],[3,"name","src","size"],[3,"ngSwitch"],["class","flex gap-3",4,"ngSwitchCase"],[1,"flex","gap-3"],[1,"stretched"],["icon","navigate_next","iconPos","right",3,"label","onClick"],["icon","navigate_before","model","p-button-text p-button-secondary",3,"label","onClick"],["icon","mdi-add_circle_outline","styleClass","p-button-secondary p-button-outlined","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onClick"],["icon","mdi-add_circle_outline","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flex","flex-column","gap-3","p-5"],[1,"header400"],[1,"flexed","gap5","hcenter"],["optionLabel","name","placeholder","\u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447",3,"ngModel","disabled","options","ngModelChange"],["icon","done","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","model","fit-content p-button-success",3,"disabled","onClick"],[1,"flex","align-items-center","gap-3","px-5","py-3","border-bottom-1","border-bluegray-100"],[1,"flex","flex-column"],[1,"text-bluegray-500","text-lg"],[1,"text-bluegray-500","text-xl","font-semibold"],["icon","published_with_changes","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440","model","p-button-text p-button-danger fit-content",3,"disabled","onClick"],[1,"flex-grow-1"],[4,"ngTemplateOutlet"],[1,"stub-when-creating-a-task"],[1,"white-spinner"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Dt,2,3,"ng-container",1),e.YNc(2,xe,23,16,"div",2),e.qZA(),e.YNc(3,Ft,5,5,"ng-template",null,3,e.W1O),e.YNc(5,Oe,7,7,"ng-template",null,4,e.W1O),e.YNc(7,Ne,9,3,"ng-template",null,5,e.W1O),e.YNc(9,yt,2,0,"div",6)),2&t){const r=e.MAs(8);e.xp6(1),e.Q6J("ngIf","billing"!=o.openMode)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",o.isTemplateSelected),e.xp6(7),e.Q6J("ngIf",o.isCreatedTask)}},dependencies:[y.A,w.r,k.o,V,H,be,p.Fj,p.JJ,p.JL,p.On,D.sg,p.sg,p.u,Be.Lt,_e,D.O5,ct.g,P.zx,D.tP,D.RF,D.n9,ot.G,D.Ov],styles:["[_nghost-%COMP%]{flex-grow:1}.stage-view[_ngcontent-%COMP%]{display:flex;flex-grow:1}.stub-when-creating-a-task[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"],data:{animation:[u.U1,u.ls,u.x$]}}),n})();var Ce=C(7384),ft=C(4004),an=C(4782),Tn=C(9646),qt=C(4326),xt=C(9014),Ct=C(1514),me=C(8007),lt=C(963);const $e=["filesInput"],Lt=["taskActualDateSetPanel"],je=["commentEditor"],sn=["taskLinkingDialog"],fn=["workLogsDialogEl"],Gt=["fileInput"],On=["oldTrackerPanel"];function Bt(n,i){1&n&&(e.ynx(0),e._UZ(1,"p-progressSpinner",48),e.BQk())}function rn(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",49)(2,"div",50),e._UZ(3,"span",51),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p-button",52),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" \u0417\u0430\u0434\u0430\u0447\u0438 #",t.taskId," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 ")}}function Hn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",85)(1,"p-button",86),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA(),e.TgZ(2,"div",87)(3,"span",88),e._uU(4),e.qZA(),e.TgZ(5,"div",89)(6,"span"),e._uU(7,"\u0422\u0438\u043f:"),e.qZA(),e.TgZ(8,"app-tiny-button",90),e.NdJ("onClick",function(r){e.CHM(t),e.oxw(2);const g=e.MAs(57);return e.KtG(g.toggle(r))}),e.qZA()()()()}if(2&n){const t=e.oxw(2);let o,r;e.xp6(4),e.Oqu(null!==(o=null==t.currentTask||null==t.currentTask.modelWireframe?null:t.currentTask.modelWireframe.name)&&void 0!==o?o:""),e.xp6(4),e.Q6J("disabled",!(null!=t.currentTask&&t.currentTask.currentStage)||"CLOSE"===(null==t.currentTask?null:t.currentTask.taskStatus))("label",null!==(r=null==t.currentTask||null==t.currentTask.currentStage?null:t.currentTask.currentStage.label)&&void 0!==r?r:"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430")("size",.9)}}function zn(n,i){1&n&&e.GkF(0)}function ri(n,i){if(1&n&&(e.ynx(0),e.YNc(1,zn,1,0,"ng-container",92),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),o=e.MAs(62),r=e.MAs(64);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.isBeforeActualFrom$))("ngIfThen",o)("ngIfElse",r)}}function Ci(n,i){if(1&n&&(e.YNc(0,ri,3,5,"ng-container",91),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",(null==t.currentTask?null:t.currentTask.actualTo)||(null==t.currentTask?null:t.currentTask.actualFrom)&&e.lcZ(1,1,t.isBeforeActualFrom$))}}function Qi(n,i){if(1&n&&(e.TgZ(0,"div",62)(1,"div",63),e._UZ(2,"span",65),e.TgZ(3,"span"),e._uU(4," \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 "),e.qZA()(),e.TgZ(5,"span"),e._UZ(6,"app-employee-label",66),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("employee",null==t.currentTask?null:t.currentTask.responsible)}}function oo(n,i){1&n&&e._UZ(0,"app-employee-label",66),2&n&&e.Q6J("employee",i.$implicit)}function $o(n,i){if(1&n&&(e.TgZ(0,"div",93)(1,"div",63),e._UZ(2,"span",94),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 "),e.qZA()(),e.TgZ(5,"span",95),e.YNc(6,oo,1,1,"app-employee-label",96),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.activeWorkLog.employees)}}function Vt(n,i){1&n&&e._UZ(0,"app-department-label",98),2&n&&e.Q6J("department",i.$implicit)}function Ye(n,i){1&n&&e._UZ(0,"app-employee-label",66),2&n&&e.Q6J("employee",i.$implicit)}function Ee(n,i){if(1&n&&(e.TgZ(0,"div",93)(1,"div",63),e._UZ(2,"span",94),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 "),e.qZA()(),e.TgZ(5,"span",95),e.YNc(6,Vt,1,1,"app-department-label",97),e.YNc(7,Ye,1,1,"app-employee-label",96),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.departmentsObservers),e.xp6(1),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.employeesObservers)}}function Qe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-tiny-button",108),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.unlinkParentTask())}),e.qZA()}}function dt(n,i){if(1&n&&(e.TgZ(0,"div",104)(1,"span",105),e._uU(2,"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f:"),e.qZA(),e._UZ(3,"app-task-link",106),e.YNc(4,Qe,1,0,"app-tiny-button",107),e.qZA()),2&n){const t=e.oxw(3);let o;e.xp6(3),e.Q6J("taskId",null!==(o=null==t.currentTask?null:t.currentTask.parent)&&void 0!==o?o:0),e.xp6(1),e.Q6J("ngIf",!(null==t.currentTask||!t.currentTask.parent))}}function gn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",112),e._UZ(1,"app-task-link",60),e.TgZ(2,"app-tiny-button",108),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(4);return e.KtG(E.unlinkParentTask(g.taskId))}),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("task",t)}}function xn(n,i){if(1&n&&(e.TgZ(0,"div",109)(1,"span"),e._uU(2,"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435:"),e.qZA(),e.TgZ(3,"div",110),e.YNc(4,gn,3,1,"span",111),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.children)}}function yn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",93)(1,"div",63),e._UZ(2,"span",99),e.TgZ(3,"span"),e._uU(4," \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA(),e.TgZ(5,"app-tiny-button",100),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openTaskChainDialog())}),e.qZA()(),e.TgZ(6,"span",101),e.YNc(7,dt,5,2,"div",102),e.YNc(8,xn,5,1,"div",103),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isTaskHasParent()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasChilds())}}function Zn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",113),e._UZ(1,"i",114),e.TgZ(2,"div",115),e._UZ(3,"app-employee-label",116),e.TgZ(4,"div",117),e._uU(5),e.qZA()(),e._UZ(6,"div",118),e.TgZ(7,"p-button",119),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.replyComment=void 0)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("employee",t.replyComment.creator)("size",2),e.xp6(2),e.hij(" ",t.replyComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function $n(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",113),e._UZ(1,"i",120),e.TgZ(2,"div",115)(3,"span"),e._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div",117),e._uU(6),e.qZA()(),e._UZ(7,"div",118),e.TgZ(8,"p-button",119),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return r.editComment=void 0,e.KtG(r.commentInputForm.reset({text:"",files:[]}))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.editComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function ti(n,i){1&n&&e._UZ(0,"app-file-input",121,122)}const li=function(){return{border:"none"}};function mi(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",53)(2,"p-menubar",54),e.YNc(3,Hn,9,4,"ng-template",55),e.YNc(4,Ci,2,3,"ng-template",56),e.qZA(),e.TgZ(5,"div",57)(6,"div",58),e._UZ(7,"app-task-tag-inline-selector",59)(8,"app-task-fields-table-view",60),e.qZA(),e.TgZ(9,"div",61)(10,"div",62)(11,"div",63),e._UZ(12,"span",64),e.TgZ(13,"span"),e._uU(14," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA()(),e.TgZ(15,"span"),e._uU(16),e.ALo(17,"taskStatus"),e.qZA()(),e.TgZ(18,"div",62)(19,"div",63),e._UZ(20,"span",65),e.TgZ(21,"span"),e._uU(22," \u0410\u0432\u0442\u043e\u0440 "),e.qZA()(),e.TgZ(23,"span"),e._UZ(24,"app-employee-label",66),e.qZA()(),e.TgZ(25,"div",62)(26,"div",63),e._UZ(27,"span",67),e.TgZ(28,"span"),e._uU(29," \u0421\u043e\u0437\u0434\u0430\u043d\u0430 "),e.qZA()(),e.TgZ(30,"span",68),e._uU(31),e.ALo(32,"titlecase"),e.ALo(33,"date"),e.qZA()(),e.YNc(34,Qi,7,1,"div",69),e.YNc(35,$o,7,1,"div",70),e.YNc(36,Ee,8,2,"div",70),e.YNc(37,yn,9,2,"div",70),e.qZA()(),e.TgZ(38,"div",71)(39,"div",72)(40,"span",73),e._uU(41," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),e.qZA(),e.TgZ(42,"p-dropdown",74),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.taskJournalSorting=r)}),e.qZA(),e.TgZ(43,"p-toggleButton",75),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.taskEventsVisible=r)}),e.qZA()(),e.TgZ(44,"div",76),e.YNc(45,Zn,8,4,"div",77),e.YNc(46,$n,9,2,"div",77),e.TgZ(47,"quill-editor",78,79),e.NdJ("keydown",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.sendCommentByEnter(r))})("onContentChanged",function(r){e.CHM(t),e.oxw();const g=e.MAs(60);return e.KtG(g.setQuillEvent(r))})("paste",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.pasteFiles(r))}),e.qZA(),e.TgZ(49,"span",80)(50,"p-button",81),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendComment())}),e.qZA(),e.YNc(51,ti,2,0,"app-file-input",82),e.qZA()(),e.TgZ(52,"div",83)(53,"app-task-journal",84),e.NdJ("editCommentChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.editCommentChanged(r))})("replyCommentChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.replyCommentChanged(r))})("onFirstLoad",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.journalVisible=r)})("editCommentChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.editComment=r)})("replyCommentChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.replyComment=r)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Akn(e.DdM(39,li)),e.Q6J("model",t.managementMenu),e.xp6(5),e.Q6J("formControl",t.installedTags),e.xp6(1),e.Q6J("task",t.currentTask),e.xp6(7),e.Tol(t.taskStatusColor),e.xp6(1),e.hij(" ",e.lcZ(17,32,t.currentTask)," "),e.xp6(8),e.Q6J("employee",null==t.currentTask?null:t.currentTask.creator),e.xp6(7),e.hij(" ",e.lcZ(32,34,e.xi3(33,36,null==t.currentTask?null:t.currentTask.created,"dd MMM yyyy HH:mm"))," "),e.xp6(3),e.Q6J("ngIf",null==t.currentTask?null:t.currentTask.responsible),e.xp6(1),e.Q6J("ngIf",t.activeWorkLog),e.xp6(1),e.Q6J("ngIf",t.isTaskHasObservers()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasParent()||t.isTaskHasChilds()),e.xp6(1),e.Q6J("hidden",!t.journalVisible),e.xp6(4),e.Q6J("ngModel",t.taskJournalSorting)("options",t.taskJournalSortingOptions),e.xp6(1),e.Q6J("ngModel",t.taskEventsVisible),e.xp6(1),e.Q6J("@fadeIn",void 0)("formGroup",t.commentInputForm),e.xp6(1),e.Q6J("ngIf",t.replyComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(1),e.Q6J("disabled",t.isTaskClose())("formats",t.quillFormats)("modules",t.quillModules),e.xp6(3),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("ngIf",!t.editComment),e.xp6(2),e.Q6J("editComment",t.editComment)("replyComment",t.replyComment)("showEvents",t.taskEventsVisible)("sortingType",t.taskJournalSorting)("taskId",t.taskId)}}function oi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"p-checkbox",124),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.selectedDepartmentObservers=r)}),e.qZA(),e.TgZ(2,"span",125),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngModel",o.selectedDepartmentObservers)("value",t.departmentId),e.xp6(2),e.Oqu(t.name)}}function Mi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"p-checkbox",126),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.selectedEmployeeObservers=r)}),e.qZA(),e._UZ(2,"app-employee-label",116),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngModel",o.selectedEmployeeObservers)("value",t.login),e.xp6(1),e.Q6J("employee",t)("size",2.3)}}function Wi(n,i){1&n&&(e.TgZ(0,"span",131),e._uU(1,"(\u0412\u044b\u0431\u0440\u0430\u043d)"),e.qZA())}const wo=function(n){return{selected:n}};function ai(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",127),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.selectedEmployeeAsResponsible=g)}),e._UZ(1,"app-avatar",128),e.TgZ(2,"div",87)(3,"span",117),e._uU(4),e.qZA(),e.TgZ(5,"span",129),e._uU(6),e.qZA()(),e.YNc(7,Wi,2,0,"span",130),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.Q6J("ngClass",e.VKq(7,wo,(null==o.selectedEmployeeAsResponsible?null:o.selectedEmployeeAsResponsible.login)===t.login)),e.xp6(1),e.Q6J("name",t.fullName)("size",2.3)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(null==t.department?null:t.department.name),e.xp6(1),e.Q6J("ngIf",(null==o.selectedEmployeeAsResponsible?null:o.selectedEmployeeAsResponsible.login)===t.login)}}const Gi=function(){return{maxWidth:"45rem",minWidth:"35rem"}};function Eo(n,i){if(1&n&&e._UZ(0,"app-task-list-element",132),2&n){const t=i.$implicit;e.Akn(e.DdM(3,Gi)),e.Q6J("item",t.data)}}function Yo(n,i){if(1&n&&(e.TgZ(0,"div",133)(1,"span",104),e._uU(2," \u0412\u0440\u0435\u043c\u044f: "),e.TgZ(3,"span",134),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"span",135),e._uU(7," \u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440: "),e._UZ(8,"app-employee-label",66),e.qZA(),e.TgZ(9,"span",134),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.xi3(5,4,t.editTaskSnapshots[t.indexEditSnapshot].whenEdited,"dd MMMM yyyy HH:mm")," "),e.xp6(4),e.Q6J("employee",t.editTaskSnapshots[t.indexEditSnapshot].whoEdited),e.xp6(2),e.AsE(" \u0421\u043d\u0438\u043c\u043e\u043a ",t.indexEditSnapshot+1," \u0438\u0437 ",t.editTaskSnapshots.length," ")}}function Co(n,i){1&n&&(e.TgZ(0,"span",138),e._uU(1,"keyboard_double_arrow_right"),e.qZA())}function $i(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",136),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,Co,2,0,"span",137),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(3),e.hij(" ",t.before.name," "),e.xp6(2),e.hij(" ",t.before.textRepresentation," "),e.xp6(2),e.Q6J("ngIf",!o.areFieldsEqual(t.before,t.after)),e.xp6(2),e.hij(" ",t.after.textRepresentation," ")}}function is(n,i){if(1&n&&(e.TgZ(0,"div",139),e.ALo(1,"date"),e._UZ(2,"i",140),e.TgZ(3,"span"),e._uU(4," \u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let o;e.Udp("color","#f7ce2a"),e.Q6J("pTooltip",null!==(o=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualFrom,"dd MMMM yyyy HH:mm"))&&void 0!==o?o:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualFromTime$)," ")}}function us(n,i){if(1&n&&(e.TgZ(0,"div",139),e.ALo(1,"date"),e._UZ(2,"i",140),e.TgZ(3,"span"),e._uU(4," \u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let o;e.Udp("color","#ff512a"),e.Q6J("pTooltip",null!==(o=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualTo,"dd MMMM yyyy HH:mm"))&&void 0!==o?o:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualToTime$)," ")}}function _s(n,i){if(1&n&&(e.TgZ(0,"div",149)(1,"span",150),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447 \u0432 \u0441\u0442\u0430\u0440\u043e\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u0435"),e.qZA(),e.TgZ(3,"span",151),e._uU(4),e.qZA()()),2&n){const t=i.ngIf;e.xp6(4),e.Oqu(t.name)}}function fo(n,i){if(1&n&&(e.TgZ(0,"span",152),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0),e.xp6(1),e.hij(" ",t.oldTrackerBindInfoForm.controls.id.errors.error," ")}}function Oo(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",153),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.bindTaskToTask())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("disabled",t.oldTrackerBindInfoForm.controls.id.invalid||t.oldTrackerBindInfoForm.controls.id.pending)("loading",t.isTaskInConnectionProcess)}}function Ti(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",154),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeTaskStageInOldTracker())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("loading",t.isTaskInStageChangeProcess)}}const Ks=function(){return[]};function ds(n,i){if(1&n&&(e.TgZ(0,"div",141),e.YNc(1,_s,5,1,"div",142),e.ALo(2,"async"),e.TgZ(3,"div",143)(4,"label"),e._uU(5,"ID \u0417\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"input",144),e.YNc(7,fo,2,2,"span",145),e.qZA(),e.YNc(8,Oo,1,3,"p-button",146),e.TgZ(9,"div",143)(10,"label"),e._uU(11,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(12,"p-dropdown",147),e.ALo(13,"async"),e.qZA(),e.YNc(14,Ti,1,2,"p-button",148),e.qZA()),2&n){const t=e.oxw();let o;e.Q6J("formGroup",t.oldTrackerBindInfoForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,7,t.currentOldTrackerClass$)),e.xp6(5),e.Q6J("readonly",t.isChangeOldTrackerBindDisabled),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.errors),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.dirty&&t.oldTrackerBindInfoForm.value.id&&!t.isChangeOldTrackerBindDisabled),e.xp6(4),e.Q6J("options",null!==(o=e.lcZ(13,9,t.oldTrackerStageOptions$))&&void 0!==o?o:e.DdM(11,Ks)),e.xp6(2),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.taskStageId.dirty&&t.oldTrackerBindInfoForm.value.taskStageId&&t.isChangeOldTrackerBindDisabled)}}function mo(n,i){1&n&&(e.TgZ(0,"div",155),e._UZ(1,"span",156),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA()())}const qo=function(){return{width:"50vw"}},As=function(){return{"960px":"75vw","640px":"100vw"}},Ls=function(){return{width:"35rem",height:"50vh"}},Hs=function(){return{"960px":"50vw","640px":"100vw"}},ps=function(){return{width:"60vw"}},Dr=function(){return{overflow:"auto",minHeight:"100%"}},Da=function(){return{width:"75vw",maxHeight:"70vh"}},Hr=function(){return{"960px":"85vw","640px":"100vw"}};let hr=(()=>{class n{constructor(t,o,r,g,E,W,Ie,it,nt){this.api=t,this.route=o,this.chatService=r,this.confirmation=g,this.toast=E,this.customNav=W,this.rt=Ie,this.taskCreator=it,this.commentCachingService=nt,this.loadingState=Ce.Gu.LOADING,this.commentSending=!1,this.quillModules=x.tg,this.attachedFiles=[],this.countAllAttachments=0,this.showFilesHistory=!1,this.stageMenuItems=[],this.showAppointInstallersMenu=!1,this.showChangeObserversDialog=!1,this.showTaskLinkingDialog=!1,this.taskLinkingType="parent",this.isLinkingBegin=!1,this.listOfChildTaskLinking=[],this.departmentList=[],this.employeeList=[],this.selectedDepartmentObservers=[],this.selectedEmployeeObservers=[],this.changingTaskObservers=!1,this.employees$=this.api.getEmployeesOptionsList(),this.linkingTaskSkeletonArray=Array.from({length:50}),this.subscriptions=new x.xf,this.taskChain=[],this.showTaskChainDialog=!1,this.listOfExistingTasksToLink=[],this.totalExistingTasksToLink=0,this.loadingExistingTasksToLink=!1,this.globalTaskSearchString="",this.taskCreationDateFilterForLinking=[],this.taskAuthorEmployeeFilter="",this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1,this.schedulingTaskDialogVisible=!1,this.schedulingTaskType="from",this.showChatHistory=!1,this.isShowEditTaskDialog=!1,this.isShowEditHistoryDialog=!1,this.editTaskSnapshots=[],this.indexEditSnapshot=0,this.managementMenu=[],this.forceCloseWorkLogDialogVisible=!1,this.isForceClosingWorkLog=!1,this.commentInputForm=new p.cw({text:new p.NI(""),files:new p.NI([])}),this.commentEditorMode="simple",this.taskEventsVisible=!0,this.journalVisible=!1,this.installedTags=new p.NI([]),this.actualFromDurationCounter=new x.pd,this.actualFromTime$=this.actualFromDurationCounter.observer.pipe((0,ft.U)(Kt=>Kt.actualLabel)),this.isBeforeActualFrom$=this.actualFromDurationCounter.observer.pipe((0,ft.U)(Kt=>"before"==Kt.mode)),this.actualToDurationCounter=new x.pd,this.actualToTime$=this.actualToDurationCounter.observer.pipe((0,ft.U)(Kt=>"after"===Kt.mode?"-"+Kt.actualLabel:Kt.actualLabel)),this.oldTrackerBindInfoForm=new p.cw({id:new p.NI(null,[],[this.compatibilityTaskValidator()]),taskClassId:new p.NI(null),taskStageId:new p.NI(null)}),this.oldTrackerClassOptions$=this.api.getOldTrackerClasses().pipe((0,an.d)(1)),this.currentOldTrackerClass$=this.oldTrackerClassOptions$.pipe((0,ft.U)(Kt=>Kt.find(Yt=>{var Qt,_n,Ln;return Yt.id===(null===(Ln=null===(_n=null===(Qt=this.currentTask)||void 0===Qt?void 0:Qt.currentStage)||void 0===_n?void 0:_n.oldTrackerBind)||void 0===Ln?void 0:Ln.classId)}))),this.oldTrackerStageOptions$=this.oldTrackerBindInfoForm.controls.taskClassId.valueChanges.pipe((0,F.w)(Kt=>this.oldTrackerClassOptions$.pipe((0,ft.U)(Yt=>{var Qt,_n;return null!==(_n=null===(Qt=Yt.find(Ln=>Ln.id===Kt))||void 0===Qt?void 0:Qt.stages)&&void 0!==_n?_n:[]}))),(0,an.d)(1)),this.isChangeOldTrackerBindDisabled=!1,this.isTaskInConnectionProcess=!1,this.isTaskInStageChangeProcess=!1,this._taskId=0,this.quillFormats=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula"],this.taskJournalSorting=x.Ke.loadOrDefault("taskJournalSortingType",Ce.Rh.CREATE_DATE_DESC),this.taskJournalSortingOptions=[{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",value:Ce.Rh.CREATE_DATE_DESC},{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",value:Ce.Rh.CREATE_DATE_ASC}]}compatibilityTaskValidator(){return t=>this._taskId&&t.value?(0,Tn.of)(t.value).pipe((0,qt.g)(1500),(0,F.w)(o=>this.api.checkCompatibility(this._taskId,o))):(0,Tn.of)({})}get taskStatusColor(){if(this.currentTask)switch(this.currentTask.taskStatus){case"ACTIVE":return"text-primary";case"PROCESSING":return"text-orange-400";case"CLOSE":return"text-bluegray-300"}return""}get taskId(){return this._taskId}set taskId(t){this._taskId=t,this.api.getTask(this._taskId).subscribe({next:o=>{var r;this.currentTask=o,this.loadingState=o.deleted?Ce.Gu.ERROR:Ce.Gu.READY,this.installedTags.setValue(null!==(r=o.tags)&&void 0!==r?r:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.subscriptions.addSubscription("edTaskTg",this.installedTags.valueChanges.subscribe(g=>{!g||this.api.setTaskTags(o.taskId,g).subscribe()})),this.api.getActiveWorkLogByTaskId(o.taskId).subscribe(g=>{this.activeWorkLog=g}),this.orderFields(),this.stageMenuItems=this.getStageMenuItems(),this.subscriptions.addSubscription("taskUpd",this.rt.taskUpdated(t).subscribe(g=>{var E;this.currentTask=g,this.installedTags.setValue(null!==(E=g.tags)&&void 0!==E?E:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.stageMenuItems=this.getStageMenuItems(),this.orderFields(),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()})),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()},error:()=>{this.loadingState=Ce.Gu.ERROR}})}get excludedTasks(){if(!this.currentTask)return[];const t=[];return this.currentTask.children&&this.currentTask.children.forEach(o=>t.push(o.taskId)),this.currentTask.parent&&t.push(this.currentTask.parent),t.push(this._taskId),t}trackSnapshotPair(t,o){return o.before.modelItemId}snapshotFieldPairs(t){if(!t)return[];const o=[];return t.beforeEditing.forEach(r=>{const g=t.afterEditing.find(E=>E.id===r.id);g&&o.push({before:r,after:g})}),o}areFieldsEqual(t,o){return JSON.stringify(t)===JSON.stringify(o)}ngOnInit(){this.route.params.subscribe(t=>{this.taskId=parseInt(t.id),this.api.getCountAllTaskAttachments(this._taskId).subscribe(o=>this.countAllAttachments=o),this.updateObservableList()}),this.commentInputForm.patchValue({text:this.commentCachingService.read(this.taskId)}),this.subscriptions.addSubscription("wlCrd",this.rt.workLogCreated().subscribe(this.workLogCreated.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.workLogClosed.bind(this))),this.subscriptions.addSubscription("comCh",this.commentInputForm.controls.text.valueChanges.subscribe(t=>{this.commentCachingService.write(this.taskId,null!=t?t:"")}))}updateObservableList(){this.api.getDepartments().subscribe(t=>{var o,r,g;this.departmentList=t,this.selectedDepartmentObservers=[];for(const E of t)E.departmentId&&null!==(g=null===(r=null===(o=this.currentTask)||void 0===o?void 0:o.departmentsObservers)||void 0===r?void 0:r.some(W=>W.departmentId===E.departmentId))&&void 0!==g&&g&&this.selectedDepartmentObservers.push(E.departmentId)}),this.api.getEmployees(void 0,!1,!1).subscribe(t=>{var o,r,g;this.employeeList=t,this.selectedEmployeeObservers=[];for(const E of t)E.login&&null!==(g=null===(r=null===(o=this.currentTask)||void 0===o?void 0:o.employeesObservers)||void 0===r?void 0:r.some(W=>W.login===E.login))&&void 0!==g&&g&&this.selectedEmployeeObservers.push(E.login)})}sendComment(){var t,o,r;const g=this.commentInputForm.getRawValue();if(0!==(null===(t=g.text)||void 0===t?void 0:t.trim().length)||0!==(null===(o=g.files)||void 0===o?void 0:o.length)){if(this.commentInputForm.disable({emitEvent:!1}),this.editComment){if(null===g.text||0===g.text.trim().length||g.text===this.editComment.message)return;return this.editComment.message=g.text,void this.api.updateComment(this.editComment).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.editComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}this.api.createComment(g.text,this._taskId,g.files,null===(r=this.replyComment)||void 0===r?void 0:r.commentId).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.replyComment=void 0,this.commentCachingService.flush(this.taskId)},error:()=>this.commentInputForm.enable({emitEvent:!1})})}}sendCommentByEnter(t){"Enter"===t.key&&t.ctrlKey&&this.sendComment()}deleteTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>this.api.deleteTask(this._taskId).subscribe()})}getStageMenuItems(){var t,o;return null!==(o=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)&&void 0!==o&&o.stages?this.currentTask.modelWireframe.stages.sort((r,g)=>r.orderIndex-g.orderIndex).map(r=>{var g,E,W,Ie;return r.stageId==(null===(E=null===(g=this.currentTask)||void 0===g?void 0:g.currentStage)||void 0===E?void 0:E.stageId)?{label:null!==(W=`${r.label}`)&&void 0!==W?W:"",disabled:!0,icon:"pi pi-fw pi-check"}:{label:null!==(Ie=r.label)&&void 0!==Ie?Ie:"",command:()=>this.api.changeTaskStage(this.taskId,r.stageId).subscribe(),icon:"pi pi-fw pi-chevron-circle-right"}}):[]}moveToNextStage(){var t,o;if(null===(o=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===o||!o.stages)return;const r=this.currentTask.modelWireframe.stages.sort((E,W)=>E.orderIndex-W.orderIndex),g=r.findIndex(E=>{var W,Ie;return E.stageId===(null===(Ie=null===(W=this.currentTask)||void 0===W?void 0:W.currentStage)||void 0===Ie?void 0:Ie.stageId)});g<r.length-1&&this.api.changeTaskStage(this.taskId,r[g+1].stageId).subscribe()}isLastStage(){var t,o;if(null===(o=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===o||!o.stages)return;const r=this.currentTask.modelWireframe.stages.sort((E,W)=>E.orderIndex-W.orderIndex);return r.findIndex(E=>{var W,Ie;return E.stageId===(null===(Ie=null===(W=this.currentTask)||void 0===W?void 0:W.currentStage)||void 0===Ie?void 0:Ie.stageId)})===r.length-1}editCommentChanged(t){var o;this.commentInputForm.patchValue({text:t.message}),null===(o=this.commentEditor)||void 0===o||o.quillEditor.focus(),window.scroll(0,0)}replyCommentChanged(t){var o;null===(o=this.commentEditor)||void 0===o||o.quillEditor.focus(),window.scroll(0,0)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}sendObservableList(){this.changingTaskObservers=!0,this.api.changeTaskObservers(this._taskId,this.selectedDepartmentObservers,this.selectedEmployeeObservers).subscribe({next:()=>{this.showChangeObserversDialog=!1,this.changingTaskObservers=!1},error:()=>{this.changingTaskObservers=!1}})}createLinkedTask(t){window.open(`/task/create?${t}=${this._taskId}`,"_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}unlinkParentTask(t){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.unlinkParentTask(t||this._taskId).subscribe()}})}openTaskChainDialog(){var t,o;this.taskChain=[],null!==(t=this.currentTask)&&void 0!==t&&t.taskId&&this.api.getRootTask(null===(o=this.currentTask)||void 0===o?void 0:o.taskId).subscribe(r=>{this.taskChain=[{data:r,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(r)}],this.showTaskChainDialog=!0})}changeTaskListPageToLink(t){var o,r,g,E;this.loadingExistingTasksToLink=!0;const W=[this._taskId,...null!==(g=null===(r=null===(o=this.currentTask)||void 0===o?void 0:o.children)||void 0===r?void 0:r.map(Ie=>Ie.taskId))&&void 0!==g?g:[]];!(null===(E=this.currentTask)||void 0===E)&&E.parent&&W.push(this.currentTask.parent),this.api.getPageOfTasks(t.page,{status:[Ce.hY.ACTIVE,Ce.hY.PROCESSING,Ce.hY.CLOSE],searchPhrase:this.globalTaskSearchString,author:this.taskAuthorEmployeeFilter,exclusionIds:W}).subscribe({next:Ie=>{this.applyPageOfTasks(Ie),this.loadingExistingTasksToLink=!1},error:()=>{this.loadingExistingTasksToLink=!1}})}applyPageOfTasks(t){this.listOfExistingTasksToLink=t.content,this.totalExistingTasksToLink=t.totalElements}filteringTasksToLink(){setTimeout(()=>{this.changeTaskListPageToLink({page:0})})}openChangeResponsibleDialog(){var t;this.showChangeResponsibleDialog=!0,this.selectedEmployeeAsResponsible=null===(t=this.currentTask)||void 0===t?void 0:t.responsible}changeResponsible(){!this.selectedEmployeeAsResponsible||(this.selectingResponsible=!0,this.api.changeTaskResponsible(this._taskId,this.selectedEmployeeAsResponsible).subscribe({next:()=>{this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1},error:()=>{this.selectingResponsible=!1}}))}confirmUnbindResponsible(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e?",accept:()=>{this.api.unbindResponsible(this._taskId).subscribe()}})}openChangeObserversDialog(){this.showChangeObserversDialog=!0,this.updateObservableList()}removeActualFromDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430?",accept:()=>{this.api.clearActualFromDate(this._taskId).subscribe()}})}removeActualToDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0438?",accept:()=>{this.api.clearActualToDate(this._taskId).subscribe()}})}closeTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.closeTask(this._taskId).subscribe()}})}isTaskActive(){var t,o;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(o=this.currentTask)||void 0===o?void 0:o.taskStatus)===Ce.hY.ACTIVE}isTaskProcessing(){var t,o;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(o=this.currentTask)||void 0===o?void 0:o.taskStatus)===Ce.hY.PROCESSING}isTaskClose(){var t,o;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(o=this.currentTask)||void 0===o?void 0:o.taskStatus)===Ce.hY.CLOSE}reopenTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.reopenTask(this._taskId).subscribe()}})}showEditHistoryDialog(){this.api.getEditTaskSnapshots(this._taskId).subscribe(t=>{this.editTaskSnapshots=t,this.indexEditSnapshot=0,this.isShowEditHistoryDialog=!0})}changeCurrentSnapshot(t){this.indexEditSnapshot+=t,this.indexEditSnapshot>this.editTaskSnapshots.length-1?this.indexEditSnapshot=0:this.indexEditSnapshot<0&&(this.indexEditSnapshot=this.editTaskSnapshots.length-1)}isTaskHasParent(){var t;return"number"==typeof(null===(t=this.currentTask)||void 0===t?void 0:t.parent)}isTaskHasChilds(){var t,o;return(null===(t=this.currentTask)||void 0===t?void 0:t.children)&&(null===(o=this.currentTask)||void 0===o?void 0:o.children.length)>0}isTaskHasObservers(){var t,o,r,g;return(null===(t=this.currentTask)||void 0===t?void 0:t.employeesObservers)&&(null===(o=this.currentTask)||void 0===o?void 0:o.employeesObservers.length)>0||(null===(r=this.currentTask)||void 0===r?void 0:r.departmentsObservers)&&(null===(g=this.currentTask)||void 0===g?void 0:g.departmentsObservers.length)>0}insertEmployeeToCommentEditor(t){setTimeout(()=>{var o,r;const g=null===(o=this.commentEditor)||void 0===o?void 0:o.quillEditor;if(!g)return;const E=g.getSelection(!0),W=null!==(r=t.login+" ")&&void 0!==r?r:"";g.insertText(E.index,W,"user"),g.setSelection(E.index+W.length,0)},100)}forceFocusCommentInput(){var t;null===(t=this.commentEditor)||void 0===t||t.quillEditor.focus()}linkToParentTask(t){!t||this.api.changeLinkToParentTask(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}linkToChildTasks(t){!t||0===t.length||this.api.appendLinksToChildrenTasks(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}clearCommentText(){let t=this.commentInputForm.value.text;t&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),this.commentInputForm.patchValue({text:t})}workLogCreated(t){t.task.taskId===this._taskId&&(this.activeWorkLog=t)}workLogClosed(t){t.task.taskId===this._taskId&&(this.activeWorkLog=void 0)}openWorkLogsDialog(){!this.workLogsDialogEl||this.workLogsDialogEl.open(this._taskId)}taskManagementMenu(){var t,o,r,g;const E=null!==(g=null===(r=null===(o=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===o?void 0:o.documentTemplates)||void 0===r?void 0:r.map(W=>({label:W.name,command:()=>{var Ie;window.open(`api/private/document-template?taskId=${null===(Ie=this.currentTask)||void 0===Ie?void 0:Ie.taskId}&documentTemplateId=${W.documentTemplateId}`)}})))&&void 0!==g?g:[];return[{icon:"mdi-task",label:"\u0417\u0430\u0434\u0430\u0447\u0430",items:[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",icon:"mdi-history",command:this.showEditHistoryDialog.bind(this)},{label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",icon:"mdi-document_scanner",disabled:0===E.length,items:E},{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",icon:"mdi-person",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:this.openChangeResponsibleDialog.bind(this)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c",icon:"mdi-close",command:this.confirmUnbindResponsible.bind(this)}],disabled:this.isTaskClose()},{label:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438",icon:"mdi-groups",items:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:this.openChangeObserversDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",icon:"mdi-link",items:[{label:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f",icon:"mdi-call_merge",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("child",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var W;null===(W=this.taskLinkingDialog)||void 0===W||W.open("single")}}]},{label:"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435",icon:"mdi-call_split",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("parent",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var W;null===(W=this.taskLinkingDialog)||void 0===W||W.open("multiply")}}]}]},{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",icon:"mdi-schedule",items:[{label:"\u041d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-pending_actions",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="from"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("from")}]},{label:"\u041a\u043e\u043d\u0435\u0446",icon:"mdi-today",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="to"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("to")}]}],disabled:this.isTaskClose()},{label:"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_up_alt",command:this.reopenTask.bind(this),visible:this.isTaskClose()},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_down_alt",command:this.closeTask.bind(this),visible:this.isTaskActive()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:this.deleteTask.bind(this),disabled:!this.isTaskActive()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-edit",command:()=>this.isShowEditTaskDialog=!0,disabled:this.isTaskClose()},{icon:"mdi-engineering",label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",items:[{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",command:()=>this.showAppointInstallersMenu=!0,visible:this.isTaskActive()},{label:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c",icon:"mdi-assignment_return",command:()=>this.forceCloseWorkLogDialogVisible=!0,visible:this.isTaskProcessing()},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",icon:"mdi-history_edu",command:this.openWorkLogsDialog.bind(this)}]},{icon:"mdi-inventory_2",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b",command:()=>this.showFilesHistory=!0},{icon:"mdi-sync",label:"\u0421\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440",command:W=>{this.openOldTrackerDialog(W.originalEvent)}}]}updateTaskActualTimers(){var t,o;this.actualFromDurationCounter.setTime(null===(t=this.currentTask)||void 0===t?void 0:t.actualFrom),this.actualToDurationCounter.setTime(null===(o=this.currentTask)||void 0===o?void 0:o.actualTo)}orderFields(){var t,o,r,g;const E=[];null===(o=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===o||o.steps.forEach(W=>W.fields.forEach(Ie=>E.push(Ie))),null===(g=null===(r=this.currentTask)||void 0===r?void 0:r.fields)||void 0===g||g.sort((W,Ie)=>{var it,nt,Kt,Yt;return(null!==(nt=null===(it=E.find(Ln=>Ln.id===W.id))||void 0===it?void 0:it.orderPosition)&&void 0!==nt?nt:0)-(null!==(Yt=null===(Kt=E.find(Ln=>Ln.id===Ie.id))||void 0===Kt?void 0:Kt.orderPosition)&&void 0!==Yt?Yt:0)})}recursivelyCreatingChainOfTasks(t){var o,r;return t&&null!==(r=null===(o=t.children)||void 0===o?void 0:o.map(g=>({data:g,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(g)})))&&void 0!==r?r:[]}confirmUnbindDate(t){this.confirmation.confirm("from"===t?{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443?",accept:()=>this.api.clearActualFromDate(this.taskId).subscribe()}:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f?",accept:()=>this.api.clearActualToDate(this.taskId).subscribe()})}pasteFiles(t){var o;null===(o=this.fileInput)||void 0===o||o.appendFiles(t)}openOldTrackerDialog(t){var o,r,g;this.oldTrackerPanel&&this.currentTask&&(this.isChangeOldTrackerBindDisabled=!!this.currentTask.oldTrackerTaskId,this.isChangeOldTrackerBindDisabled&&this.oldTrackerBindInfoForm.setValue({id:null!==(o=this.currentTask.oldTrackerTaskId)&&void 0!==o?o:null,taskClassId:null!==(r=this.currentTask.oldTrackerTaskClassId)&&void 0!==r?r:null,taskStageId:null!==(g=this.currentTask.oldTrackerCurrentStageId)&&void 0!==g?g:null}),this.oldTrackerPanel.show(t))}bindTaskToTask(){this.currentTask&&this.oldTrackerBindInfoForm.value.id&&this.oldTrackerBindInfoForm.controls.id.valid&&!this.oldTrackerBindInfoForm.controls.id.pending&&(this.isTaskInConnectionProcess=!0,this.api.connectToOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.id).subscribe({next:()=>{var t;this.isTaskInConnectionProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInConnectionProcess=!1}}))}changeTaskStageInOldTracker(){this.currentTask&&this.oldTrackerBindInfoForm.value.taskStageId&&(this.isTaskInStageChangeProcess=!0,this.api.changeTaskStageInOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.taskStageId).subscribe({next:()=>{var t;this.isTaskInStageChangeProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInStageChangeProcess=!1}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(d.gz),e.Y36(xt.a),e.Y36(N.YP),e.Y36(N.ez),e.Y36(Ct.r),e.Y36(me.U),e.Y36(T.e),e.Y36(lt.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&(e.Gf($e,5),e.Gf(Lt,5),e.Gf(je,5),e.Gf(sn,5),e.Gf(fn,5),e.Gf(Gt,5),e.Gf(On,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.filesInput=r.first),e.iGM(r=e.CRH())&&(o.taskActualDateSetPanel=r.first),e.iGM(r=e.CRH())&&(o.commentEditor=r.first),e.iGM(r=e.CRH())&&(o.taskLinkingDialog=r.first),e.iGM(r=e.CRH())&&(o.workLogsDialogEl=r.first),e.iGM(r=e.CRH())&&(o.fileInput=r.first),e.iGM(r=e.CRH())&&(o.oldTrackerPanel=r.first)}},decls:70,vars:79,consts:[["appExtendPageHeight","",1,"flex"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"show","taskId","showChange"],[3,"visible","taskId","visibleChange"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],["header","\u041e\u0442\u0434\u0435\u043b\u044b"],[1,"list-view"],["class","list-view-item bordered flexed hcenter gap10",4,"ngFor","ngForOf"],["header","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],[1,"flexed","gap10","hcenter","vend"],["icon","cancel","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","full-height"],[1,"list-view","stretched","p5","gap5"],["class","list-view-item hovered bordered flexed hcenter gap10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flexed","vend","hcenter","gap10"],["icon","check","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438",3,"excludedTasks","onMultiplySelected","onSelected"],["taskLinkingDialog",""],["header","\u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","maximizable","modal","resizable","visibleChange"],["appDragScrolling",""],[3,"value"],["pTemplate","task"],[3,"visible","task","visibleChange"],["header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10"],[1,"flexed","hcenter","vcenter","gap20","p5"],["icon","chevron_left","label","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","model","p-button-text",3,"onClick"],["class","flexed column hcenter vcenter gap5",4,"ngIf"],["icon","chevron_right","iconPos","right","label","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","model","p-button-text",3,"onClick"],[1,"change-comparison-table"],[1,"one-line"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"visible","schedulingType","taskId","visibleChange"],["workLogsDialogEl",""],["appendTo","body",3,"model","popup"],["stageMenu",""],["key","popup"],[3,"onReturnFocus","onSelect"],["empInsertPanel",""],["actualFromLabel",""],["actualToLabel",""],["appendTo","body",3,"dismissable"],["oldTrackerPanel",""],["class","flex flex-column gap-3",3,"formGroup",4,"ngIf","ngIfElse"],["oldTrackerBindWarningTemp",""],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-page"],[1,"panel","flexed","column","hcenter","vcenter","gap15","p20","caption","size-big","wt-bold","f-color-danger","responsive-wrapper"],[1,"flexed","column","hcenter"],[1,"mds-error"],["icon","mdi-chevron_left","label","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434","styleClass","p-button-outlined",3,"onClick"],[1,"flex","flex-column","flex-grow-1"],["styleClass","bg-white",1,"border-bottom-1","border-bluegray-100","p-0",3,"model"],["pTemplate","start"],["pTemplate","end"],[1,"flex"],[1,"flex","flex-column","flex-grow-1","gap-3","p-4"],[3,"formControl"],[3,"task"],[1,"flex","flex-column","gap-3","text-bluegray-500","font-bold","border-left-1","border-bluegray-100","p-5"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],[1,"mdi-flag"],[1,"mdi-person"],[3,"employee"],[1,"mdi-event"],[1,"white-space-nowrap"],["class","flex align-items-center gap-2",4,"ngIf"],["class","flex flex-column gap-2",4,"ngIf"],[1,"flex","flex-column","gap-3","border-top-1","border-bluegray-100",3,"hidden"],[1,"pt-3","px-4","text-bluegray-400","flex","gap-3","align-items-center"],[1,"text-xl","font-semibold"],[3,"ngModel","options","ngModelChange"],["offIcon","mdi-visibility_off","offLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","onIcon","mdi-visibility","onLabel","C\u043e\u0431\u044b\u0442\u0438\u044f",3,"ngModel","ngModelChange"],[1,"flex","flex-column","px-3",3,"formGroup"],["class","flex align-items-center gap-3 p-3\n                         border-top-1 border-left-1 border-right-1 border-bluegray-100 border-round-top",4,"ngIf"],["formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"flex","flex-column",3,"disabled","formats","modules","keydown","onContentChanged","paste"],["commentEditor",""],[1,"flex","gap-2","mt-2"],["icon","mdi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","files",4,"ngIf"],[1,"flex","px-4","py-3","border-top-1","border-bluegray-100"],[3,"editComment","replyComment","showEvents","sortingType","taskId","editCommentChange","replyCommentChange","onFirstLoad"],[1,"flexed","gap10","p5","indent1","hcenter"],["icon","mdi-arrow_back","pTooltip","\u041d\u0430\u0437\u0430\u0434","styleClass","p-button-icon p-button-text","tooltipPosition","bottom",3,"onClick"],[1,"flexed","column"],[1,"header400"],[1,"flex","align-items-baseline","gap-2","text-bluegray-500"],["pTooltip","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","tooltipPosition","bottom",3,"disabled","label","size","onClick"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"flex","flex-column","gap-2"],[1,"mdi-groups"],[1,"ml-4","flex","flex-column","gap-2"],[3,"employee",4,"ngFor","ngForOf"],[3,"department",4,"ngFor","ngForOf"],[3,"department"],[1,"mdi-account_tree"],["icon","account_tree","pTooltip","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443","tooltipPosition","bottom",3,"onClick"],[1,"ml-4"],["class","flexed hcenter gap3",4,"ngIf"],["class","flexed gap5 caption size-small f-color-500",4,"ngIf"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"taskId"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick",4,"ngIf"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick"],[1,"flexed","gap5","caption","size-small","f-color-500"],[1,"flexed","column","gap3"],["class","flexed gap3 hcenter",4,"ngFor","ngForOf"],[1,"flexed","gap3","hcenter"],[1,"flex","align-items-center","gap-3","p-3","border-top-1","border-left-1","border-right-1","border-bluegray-100","border-round-top"],[1,"mdi-reply","text-primary"],[1,"flex","align-items-center","gap-3"],[3,"employee","size"],[1,"caption"],[1,"stretched"],["icon","mdi-cancel","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],[1,"mdi-edit","text-primary"],["formControlName","files"],["fileInput",""],[1,"list-view-item","bordered","flexed","hcenter","gap10"],["name","dep",3,"ngModel","value","ngModelChange"],["appColorize","",1,"caption"],["name","emp",3,"ngModel","value","ngModelChange"],[1,"list-view-item","hovered","bordered","flexed","hcenter","gap10",3,"ngClass","click"],[3,"name","size","src"],[1,"caption","size-small","wt-bold","f-color-500"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],[3,"item"],[1,"flexed","column","hcenter","vcenter","gap5"],[1,"caption","size-small"],[1,"flexed","hcenter","gap6"],[1,"caption","size-big","one-line"],["class","material-icons-round caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"material-icons-round","caption","size-small","wt-bold","f-color-primary"],["tooltipPosition","bottom",1,"flexed","gap3","caption","hcenter","p10",3,"pTooltip"],[1,"mdi-today","parent-inherit"],[1,"flex","flex-column","gap-3",3,"formGroup"],["class","flex flex-column gap-1",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","id","pInputText","","pKeyFilter","pint",3,"readonly"],["class","text-red-400 text-xs font-bold w-15rem",4,"ngIf"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick",4,"ngIf"],["appendTo","body","formControlName","taskStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-sm","font-bold"],[1,"text-primary"],[1,"text-red-400","text-xs","font-bold","w-15rem"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick"],[1,"flex","gap-2","align-items-center","text-orange-400","font-bold","w-20rem"],[1,"mdi-warning"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,Bt,2,0,"ng-container",2),e.YNc(3,rn,7,1,"ng-container",2),e.YNc(4,mi,54,40,"ng-container",2),e.BQk(),e.qZA(),e.TgZ(5,"app-attachments-history-dialog",3),e.NdJ("showChange",function(g){return o.showFilesHistory=g}),e.qZA(),e.TgZ(6,"app-appoint-installers-dialog",4),e.NdJ("visibleChange",function(g){return o.showAppointInstallersMenu=g}),e.qZA(),e.TgZ(7,"p-dialog",5),e.NdJ("visibleChange",function(g){return o.showChangeObserversDialog=g}),e.TgZ(8,"p-tabView")(9,"p-tabPanel",6)(10,"div",7),e.YNc(11,oi,4,3,"div",8),e.qZA()(),e.TgZ(12,"p-tabPanel",9)(13,"div",7),e.YNc(14,Mi,3,4,"div",8),e.qZA()()(),e.TgZ(15,"div",10)(16,"app-button",11),e.NdJ("onClick",function(){return o.updateObservableList()}),e.qZA(),e.TgZ(17,"app-button",12),e.NdJ("onClick",function(){return o.sendObservableList()}),e.qZA()()(),e.TgZ(18,"p-dialog",13),e.NdJ("visibleChange",function(g){return o.showChangeResponsibleDialog=g}),e.TgZ(19,"div",14)(20,"div",15),e.YNc(21,ai,8,9,"div",16),e.qZA(),e.TgZ(22,"div",17)(23,"app-button",18),e.NdJ("onClick",function(){return o.changeResponsible()}),e.qZA()()()(),e.TgZ(24,"app-task-selecting-dialog",19,20),e.NdJ("onMultiplySelected",function(g){return o.linkToChildTasks(g)})("onSelected",function(g){return o.linkToParentTask(g)}),e.qZA(),e.TgZ(26,"p-dialog",21),e.NdJ("visibleChange",function(g){return o.showTaskChainDialog=g}),e.TgZ(27,"div",22)(28,"p-organizationChart",23),e.YNc(29,Eo,1,4,"ng-template",24),e.qZA()()(),e.TgZ(30,"app-edit-task-dialog",25),e.NdJ("visibleChange",function(g){return o.isShowEditTaskDialog=g}),e.qZA(),e.TgZ(31,"p-dialog",26),e.NdJ("visibleChange",function(g){return o.isShowEditHistoryDialog=g}),e.TgZ(32,"div",27)(33,"div",28)(34,"app-button",29),e.NdJ("onClick",function(){return o.changeCurrentSnapshot(-1)}),e.qZA(),e.YNc(35,Yo,11,7,"div",30),e.TgZ(36,"app-button",31),e.NdJ("onClick",function(){return o.changeCurrentSnapshot(1)}),e.qZA()(),e.TgZ(37,"table",32)(38,"thead")(39,"tr")(40,"th")(41,"span",33),e._uU(42," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "),e.qZA()(),e.TgZ(43,"th")(44,"span",33),e._uU(45," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e "),e.qZA()(),e._UZ(46,"th"),e.TgZ(47,"th")(48,"span",33),e._uU(49," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 "),e.qZA()()()(),e.TgZ(50,"tbody"),e.YNc(51,$i,10,4,"tr",34),e.qZA()()()(),e.TgZ(52,"app-task-scheduling-dialog",35),e.NdJ("visibleChange",function(g){return o.schedulingTaskDialogVisible=g}),e.qZA(),e.TgZ(53,"app-force-close-dialog",4),e.NdJ("visibleChange",function(g){return o.forceCloseWorkLogDialogVisible=g}),e.qZA(),e._UZ(54,"app-work-logs-dialog",null,36)(56,"p-menu",37,38)(58,"p-confirmPopup",39),e.TgZ(59,"app-employee-insert-panel",40,41),e.NdJ("onReturnFocus",function(){return o.forceFocusCommentInput()})("onSelect",function(g){return o.insertEmployeeToCommentEditor(g)}),e.qZA(),e.YNc(61,is,8,9,"ng-template",null,42,e.W1O),e.YNc(63,us,8,9,"ng-template",null,43,e.W1O),e.TgZ(65,"p-overlayPanel",44,45),e.YNc(67,ds,15,12,"div",46),e.qZA(),e.YNc(68,mo,4,0,"ng-template",null,47,e.W1O)),2&t){const r=e.MAs(69);e.xp6(1),e.Q6J("ngSwitch",o.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("show",o.showFilesHistory)("taskId",o.taskId),e.xp6(1),e.Q6J("visible",o.showAppointInstallersMenu)("taskId",o.taskId),e.xp6(1),e.Akn(e.DdM(70,qo)),e.Q6J("visible",o.showChangeObserversDialog)("breakpoints",e.DdM(71,As))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",o.departmentList),e.xp6(2),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",o.employeeList),e.xp6(3),e.Q6J("loading",o.changingTaskObservers),e.xp6(1),e.Akn(e.DdM(72,Ls)),e.Q6J("visible",o.showChangeResponsibleDialog)("breakpoints",e.DdM(73,Hs))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngForOf",o.employeeList),e.xp6(2),e.Q6J("disabled",!o.selectedEmployeeAsResponsible)("loading",o.selectingResponsible),e.xp6(1),e.Q6J("excludedTasks",o.excludedTasks),e.xp6(2),e.Akn(e.DdM(74,ps)),e.Q6J("visible",o.showTaskChainDialog)("breakpoints",e.DdM(75,As))("dismissableMask",!0)("draggable",!1)("maximizable",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn(e.DdM(76,Dr)),e.xp6(1),e.Q6J("value",o.taskChain),e.xp6(2),e.Q6J("visible",o.isShowEditTaskDialog)("task",o.currentTask),e.xp6(1),e.Akn(e.DdM(77,Da)),e.Q6J("visible",o.isShowEditHistoryDialog)("breakpoints",e.DdM(78,Hr))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("ngIf",null==o.editTaskSnapshots?null:o.editTaskSnapshots.length),e.xp6(16),e.Q6J("ngForOf",o.snapshotFieldPairs(o.editTaskSnapshots[o.indexEditSnapshot]))("ngForTrackBy",o.trackSnapshotPair),e.xp6(1),e.Q6J("visible",o.schedulingTaskDialogVisible)("schedulingType",o.schedulingTaskType)("taskId",o.taskId),e.xp6(1),e.Q6J("visible",o.forceCloseWorkLogDialogVisible)("taskId",o.taskId),e.xp6(3),e.Q6J("model",o.stageMenuItems)("popup",!0),e.xp6(9),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",!(null==o.currentTask||null==o.currentTask.currentStage||!o.currentTask.currentStage.oldTrackerBind))("ngIfElse",r)}},styles:['[_nghost-%COMP%]{flex-grow:1}.comment-panel[_ngcontent-%COMP%]{margin:.5rem 0}.status.ACTIVE[_ngcontent-%COMP%]{color:var(--mc-400)}.status.PROCESSING[_ngcontent-%COMP%]{color:var(--warm-400)}.status.CLOSE[_ngcontent-%COMP%]{color:var(--tc-400)}.stage-button[_ngcontent-%COMP%]{color:var(--mc-500);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .2s ease-out}.stage-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}.next-stage-button[_ngcontent-%COMP%]{color:var(--green-400);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-size:.85rem;font-weight:700;transition:color .2s ease-out}.next-stage-button[_ngcontent-%COMP%] > .material-icons-round[_ngcontent-%COMP%]{font-size:.95rem!important}.next-stage-button[_ngcontent-%COMP%]:hover{color:var(--green-600)}.text-preview[_ngcontent-%COMP%]{padding:1rem;background-color:var(--bgc-100)}.task-control-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-control-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:max-content;gap:.2rem}.task-control-panel-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.task-control-panel-item-name[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700}.task-control-panel-item-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;margin-left:.5rem;font-size:1.1rem;color:var(--tc-700);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:.2rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700;flex:1}.dedicated-panel[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-left:2rem}.reply-comment-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"icon name cancel" "icon message cancel";column-gap:1rem;row-gap:.3rem;align-items:center;padding:1rem 1.2rem;border:1px solid var(--bgc-300);border-bottom:none}.reply-comment-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{grid-area:icon;color:var(--bgc-600);font-size:2.5rem;line-height:normal}.reply-comment-preview[_ngcontent-%COMP%]   .whose-comment[_ngcontent-%COMP%]{grid-area:name;color:var(--tc-800);font-size:1.1rem;line-height:normal;font-weight:600}.reply-comment-preview[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{grid-area:message;color:var(--tc-700);font-size:1rem;line-height:normal;font-weight:400}.reply-comment-preview[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{grid-area:cancel}.comment-input-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:1rem}.flow-button[_ngcontent-%COMP%]{position:absolute;transform:translateY(-110%);right:0}.global-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;position:sticky;top:0;padding:1rem 0;z-index:1;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.linked-tasks-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;height:60vh;overflow-y:auto}.linked-task-skeleton[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:1rem}.tasks-loading-panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;grid-area:1/1/-1/-1;display:flex;align-items:center;justify-content:center;background-color:#00000030;z-index:2}.change-comparison-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5rem 1rem}'],data:{animation:[u.U1,u.Ji]}}),n})();var Po=C(9841),Ri=C(8675),No=C(8372),Li=C(6309);const Rs=function(){return["constructor"]};function Vr(n,i){if(1&n&&(e.TgZ(0,"div",23),e._UZ(1,"p-button",24)(2,"p-toggleButton",25),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("routerLink",e.DdM(2,Rs)),e.xp6(1),e.Q6J("formControl",t.deletedTemplatesSwitcher)}}function ws(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043e\u0437\u0434\u0430\u043d"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438"),e.qZA(),e._UZ(11,"th"),e.qZA())}function Es(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}const jo=function(n){return{editingId:n}};function sr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e.YNc(11,Es,2,1,"span",26),e.qZA(),e.TgZ(12,"td")(13,"div",23),e._UZ(14,"p-button",27),e.TgZ(15,"p-button",28),e.NdJ("onClick",function(r){const E=e.CHM(t).$implicit,W=e.oxw(4);return e.KtG(W.confirmDeleteWireframe(r,E.wireframeId))}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.xi3(9,9,t.created,"dd-MM-yyyy HH:mm")),e.xp6(3),e.Q6J("ngForOf",t.defaultObservers),e.xp6(3),e.Q6J("disabled",t.deleted)("queryParams",e.VKq(12,jo,t.wireframeId))("routerLink",e.DdM(14,Rs)),e.xp6(1),e.Q6J("disabled",t.deleted)}}function os(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",19),e.YNc(2,Vr,3,3,"ng-template",20),e.YNc(3,ws,12,0,"ng-template",21),e.YNc(4,sr,16,15,"ng-template",22),e.qZA(),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("value",t.value)("loading",t.loadingState===o.LoadingState.LOADING)}}function Cs(n,i){if(1&n&&(e.YNc(0,os,5,2,"ng-container",18),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",e.lcZ(1,1,t.templates$))}}function zr(n,i){1&n&&(e.TgZ(0,"p-tabPanel",17),e.YNc(1,Cs,2,3,"ng-template",6),e.qZA())}function Yi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"p-button",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.openCreateTagDialog())}),e.qZA(),e._UZ(2,"input",32)(3,"p-toggleButton",25),e.qZA()}if(2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("formControl",t.tagsNameQueryControl),e.xp6(1),e.Q6J("formControl",t.deletedTagsSwitcher)}}function gr(n,i){1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\u0421\u043e\u0437\u0434\u0430\u043d"),e.qZA(),e._UZ(8,"th"),e.qZA())}const $s=function(n){return{"text-bluegray-300":n}};function rr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",33)(1,"td"),e._UZ(2,"div",34),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td")(11,"div",23)(12,"p-button",35),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(4);return e.KtG(E.openEditTagDialog(g))}),e.qZA(),e.TgZ(13,"p-button",28),e.NdJ("onClick",function(r){const E=e.CHM(t).$implicit,W=e.oxw(4);return e.KtG(W.confirmDeleteTag(r,E.tagId))}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.Q6J("ngClass",e.VKq(11,$s,t.deleted)),e.xp6(2),e.Udp("background-color",t.color),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.xi3(9,8,t.created,"dd-MM-yyyy HH:mm")),e.xp6(4),e.Q6J("disabled",t.deleted),e.xp6(1),e.Q6J("disabled",t.deleted)}}function fr(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",30),e.YNc(2,Yi,4,2,"ng-template",20),e.YNc(3,gr,9,0,"ng-template",21),e.YNc(4,rr,14,13,"ng-template",22),e.qZA(),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("value",t.value)("loading",t.loadingState===o.LoadingState.LOADING)}}function Mr(n,i){if(1&n&&(e.YNc(0,fr,5,2,"ng-container",18),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",e.lcZ(1,1,t.tags$))}}function vs(n,i){1&n&&(e.TgZ(0,"p-tabPanel",29),e.YNc(1,Mr,2,3,"ng-template",6),e.qZA())}function bs(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"p-button",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.openCreateEquipmentDialog())}),e.qZA(),e._UZ(2,"input",39)(3,"p-toggleButton",40),e.qZA()}if(2&n){const t=e.oxw(4);e.Q6J("formGroup",t.equipmentsFilterForm)}}function ys(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043e\u0437\u0434\u0430\u043d"),e.qZA(),e._UZ(9,"th"),e.qZA())}function Ss(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td")(11,"div",23)(12,"p-button",35),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(4);return e.KtG(E.openEditEquipmentDialog(g))}),e.qZA(),e.TgZ(13,"p-button",28),e.NdJ("onClick",function(r){const E=e.CHM(t).$implicit,W=e.oxw(4);return e.KtG(W.confirmDeleteEquipment(r,E.equipmentId))}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(e.xi3(9,6,t.created,"dd-MM-yyyy HH:mm")),e.xp6(4),e.Q6J("disabled",t.deleted),e.xp6(1),e.Q6J("disabled",t.deleted)}}function ks(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",37),e.YNc(2,bs,4,1,"ng-template",20),e.YNc(3,ys,10,0,"ng-template",21),e.YNc(4,Ss,14,9,"ng-template",22),e.qZA(),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("value",t.value)("loading",t.loadingState===o.LoadingState.LOADING)}}function Vs(n,i){if(1&n&&(e.YNc(0,ks,5,2,"ng-container",18),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",e.lcZ(1,1,t.equipments$))}}function ia(n,i){1&n&&(e.TgZ(0,"p-tabPanel",36),e.YNc(1,Vs,2,3,"ng-template",6),e.qZA())}function oa(n,i){1&n&&e._UZ(0,"i",47)}function sa(n,i){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Jr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"span",43),e.YNc(3,oa,1,0,"i",44),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",45),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.YNc(9,sa,2,1,"span",46),e.qZA(),e._UZ(10,"p-button",27),e.TgZ(11,"p-button",28),e.NdJ("onClick",function(r){const E=e.CHM(t).$implicit,W=e.oxw();return e.KtG(W.confirmDeleteWireframe(r,E.wireframeId))}),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Udp("opacity",t.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \u0421\u043e\u0437\u0434\u0430\u043d\u0430: ",e.xi3(8,10,t.created,"dd MMMM yyyy HH:mm")," "),e.xp6(2),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("disabled",t.deleted)("queryParams",e.VKq(13,jo,t.wireframeId))("routerLink",e.DdM(15,Rs)),e.xp6(1),e.Q6J("disabled",t.deleted)}}function xs(n,i){1&n&&e.GkF(0)}function _o(n,i){if(1&n){const t=e.EpF();e.YNc(0,xs,1,0,"ng-container",49),e.TgZ(1,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createTag())}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(27);e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function Or(n,i){1&n&&e.GkF(0)}function Pr(n,i){if(1&n){const t=e.EpF();e.YNc(0,Or,1,0,"ng-container",49),e.TgZ(1,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editTag())}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(27);e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function St(n,i){if(1&n&&(e.TgZ(0,"div",52)(1,"span",10)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(4,"input",53),e.qZA(),e.TgZ(5,"span",10)(6,"label"),e._uU(7,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(8,"p-colorPicker",54),e.qZA(),e.TgZ(9,"span",10)(10,"label"),e._uU(11,"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e._UZ(12,"p-inputSwitch",55),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.tagDialogForm)}}const hn=function(){return{width:"max-content"}},ne=function(){return{"960px":"75vw"}},Ue=function(){return{width:"450px"}},At=function(){return{"960px":"450px"}};let Ht=(()=>{class n{constructor(t,o,r,g){this.api=t,this.rt=o,this.personality=r,this.confirmation=g,this.AccessFlag=Li.j,this.LoadingState=Ce.Gu,this.deletedTemplatesSwitcher=new p.NI(!1),this.templatesFilters$=(0,Po.a)([this.deletedTemplatesSwitcher.valueChanges.pipe((0,Ri.O)(!1))]),this.templates$=x.aN.ofWithFilter(this.templatesFilters$,this.api.getWireframes.bind(this.api),"wireframeId",this.rt.wireframeCreated(),this.rt.wireframeUpdated(),this.rt.wireframeDeleted()),this.templateItems=[],this.availableTags=[],this.createTagDialogVisible=!1,this.editTagDialogVisible=!1,this.tagDialogForm=new p.cw({id:new p.NI(null),name:new p.NI("",p.kI.required),color:new p.NI("",p.kI.required),unbindAfterClose:new p.NI(!1)}),this.isTagSaving=!1,this.tagsNameQueryControl=new p.NI(""),this.deletedTagsSwitcher=new p.NI(!1),this.tagFilters$=(0,Po.a)([this.tagsNameQueryControl.valueChanges.pipe((0,No.b)(500),(0,Ri.O)("")),this.deletedTagsSwitcher.valueChanges.pipe((0,Ri.O)(!1))]),this.tags$=x.aN.ofWithFilter(this.tagFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()),this.equipmentsFilterForm=new p.cw({query:new p.NI(""),isDeleted:new p.NI(!1)}),this.changeEquipmentFilters$=this.equipmentsFilterForm.valueChanges.pipe((0,No.b)(500),(0,ft.U)(({query:E,isDeleted:W})=>[E,W]),(0,an.d)(1),(0,Ri.O)(["",!1])),this.equipments$=x.aN.ofWithFilter(this.changeEquipmentFilters$,this.api.getClientEquipments.bind(this.api),"clientEquipmentId",this.rt.clientEquipmentsCreated(),this.rt.clientEquipmentsUpdated(),this.rt.clientEquipmentsDeleted()),this.showEquipmentDialog=!1,this.isEquipmentCreating=!1,this.equipmentForm=new p.cw({name:new p.NI("",[p.kI.required]),description:new p.NI(""),price:new p.NI(0,[p.kI.required])})}ngOnInit(){}tagCreated(t){this.availableTags.some(o=>o.taskTagId===t.taskTagId)||this.availableTags.unshift(t)}tagUpdated(t){const o=this.availableTags.findIndex(r=>r.taskTagId===t.taskTagId);o>=0&&(this.availableTags[o]=t)}tagDeleted(t){const o=this.availableTags.findIndex(r=>r.taskTagId===t.taskTagId);if(o>=0){if(t.deleted&&this.deletedTagsSwitcher.value)return void(this.availableTags[o].deleted=!0);this.availableTags.splice(o,1)}}templateCreated(t){this.templateItems.some(o=>o.wireframeId===t.wireframeId)||this.templateItems.unshift(t)}templateUpdated(t){const o=this.templateItems.findIndex(r=>r.wireframeId===t.wireframeId);o>=0&&(this.templateItems[o]=t)}templateDeleted(t){const o=this.templateItems.findIndex(r=>r.wireframeId===t.wireframeId);if(o>=0){if(t.deleted&&this.deletedTemplatesSwitcher.value)return void(this.templateItems[o].deleted=!0);this.templateItems.splice(o,1)}}createTag(){this.isTagSaving=!0,this.api.createTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.createTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}editTag(){this.isTagSaving=!0,this.api.modifyTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.editTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}openCreateTagDialog(){this.tagDialogForm.setValue({id:null,name:"",color:this.generateRandomHslColor(),unbindAfterClose:!1}),this.createTagDialogVisible=!0,this.isTagSaving=!1}openEditTagDialog(t){this.tagDialogForm.setValue({id:t.taskTagId,name:t.name,color:t.color,unbindAfterClose:t.unbindAfterClose}),this.editTagDialogVisible=!0,this.isTagSaving=!1}confirmDeleteTag(t,o){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0433?",accept:()=>this.api.deleteTaskTag(o).subscribe()})}openCreateEquipmentDialog(){this.equipmentForm.reset(),this.showEquipmentDialog=!0,this.editionEquipmentId=void 0}openEditEquipmentDialog(t){this.equipmentForm.patchValue(t),this.showEquipmentDialog=!0,this.editionEquipmentId=t.clientEquipmentId}confirmDeleteWireframe(t,o){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d?",accept:()=>this.api.deleteWireframe(o).subscribe()})}trackByTemplate(t,o){return o.wireframeId+o.name+o.description}trackByTag(t,o){return o.taskTagId+o.name+o.color}trackByClientEquipment(t,o){return o.clientEquipmentId+o.name+o.description+o.price}createEquipment(){this.isEquipmentCreating=!0,this.api.createClientEquipment(this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}})}editEquipment(){!this.editionEquipmentId||(this.isEquipmentCreating=!0,this.api.editClientEquipment(this.editionEquipmentId,this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}}))}confirmDeleteEquipment(t,o){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435?",accept:()=>this.api.deleteClientEquipment(o.clientEquipmentId).subscribe()})}hslToHex(t,o,r){let g,E,W;if(t/=360,r/=100,0==(o/=100))g=E=W=r;else{const it=(Yt,Qt,_n)=>(_n<0&&(_n+=1),_n>1&&(_n-=1),_n<.16666666666666666?Yt+6*(Qt-Yt)*_n:_n<.5?Qt:_n<.6666666666666666?Yt+(Qt-Yt)*(.6666666666666666-_n)*6:Yt),nt=r<.5?r*(1+o):r+o-r*o,Kt=2*r-nt;g=it(Kt,nt,t+1/3),E=it(Kt,nt,t),W=it(Kt,nt,t-1/3)}const Ie=it=>{const nt=Math.round(255*it).toString(16);return 1===nt.length?"0"+nt:nt};return`#${Ie(g)}${Ie(E)}${Ie(W)}`}generateRandomHslColor(t=50,o=60,r=50,g=60){let E=Math.floor(360*Math.random()),W=Math.floor(Math.random()*(o-t)+t),Ie=Math.floor(Math.random()*(g-r)+r);return this.hslToHex(E,W,Ie)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(Q.F),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:41,consts:[["styleClass","tabview-unpadding",1,"flex-grow-1"],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt",4,"ngIf"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer",4,"ngIf"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router",4,"ngIf"],["templateItem",""],["header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],[3,"visible","breakpoints","draggable","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3","p-1",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText",""],["formControlName","description","pInputTextarea","",3,"autoResize"],["currency","RUB","formControlName","price","locale","ru-RU","mode","currency"],[1,"flex","justify-content-end"],["icon","mdi-add","styleClass","p-button-success",3,"disabled","label","loading","onClick"],["tagFormTemplate",""],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt"],[4,"ngIf"],["dataKey","wireframeId",3,"value","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","gap-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"routerLink"],["offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",3,"formControl"],[4,"ngFor","ngForOf"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"disabled","queryParams","routerLink"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"disabled","onClick"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer"],["dataKey","taskTagId",3,"value","loading"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"click"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl"],[3,"ngClass"],[1,"w-1rem","h-1rem","border-circle"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"disabled","onClick"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router"],["dataKey","clientEquipmentId",3,"value","loading"],[1,"flex","gap-3",3,"formGroup"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","formControlName","query"],["formControlName","isDeleted","offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],[1,"template-item","flex","align-items-center","gap-2"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","flex-grow-1","gap-1"],["class","mdi-not_interested",4,"ngIf"],[1,"caption","size-tiny","wt-bold","f-color-500","indent1"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],[1,"mdi-not_interested"],[1,"caption","size-small","wt-bold","f-color-500"],[4,"ngTemplateOutlet"],["icon","check","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","color","appendTo","body"],["formControlName","unbindAfterClose",1,"w-fit","h-fit"]],template:function(t,o){1&t&&(e.TgZ(0,"p-tabView",0),e.YNc(1,zr,2,0,"p-tabPanel",1),e.YNc(2,vs,2,0,"p-tabPanel",2),e.YNc(3,ia,2,0,"p-tabPanel",3),e.qZA(),e.YNc(4,Jr,12,16,"ng-template",null,4,e.W1O),e.TgZ(6,"p-dialog",5),e.NdJ("visibleChange",function(g){return o.createTagDialogVisible=g}),e.YNc(7,_o,2,3,"ng-template",6),e.qZA(),e.TgZ(8,"p-dialog",7),e.NdJ("visibleChange",function(g){return o.editTagDialogVisible=g}),e.YNc(9,Pr,2,3,"ng-template",6),e.qZA(),e.TgZ(10,"p-dialog",8),e.NdJ("visibleChange",function(g){return o.showEquipmentDialog=g}),e.TgZ(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"div",10)(17,"label"),e._uU(18,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(19,"textarea",12),e.qZA(),e.TgZ(20,"div",10)(21,"label"),e._uU(22,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e._UZ(23,"p-inputNumber",13),e.qZA(),e.TgZ(24,"div",14)(25,"p-button",15),e.NdJ("onClick",function(){return o.editionEquipmentId?o.editEquipment():o.createEquipment()}),e.qZA()()()(),e.YNc(26,St,13,1,"ng-template",null,16,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.EDIT_TASK_TEMPLATES)),e.xp6(1),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.EDIT_TASK_TAGS)),e.xp6(1),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.EDIT_DEVICES)),e.xp6(3),e.Akn(e.DdM(35,hn)),e.Q6J("visible",o.createTagDialogVisible)("breakpoints",e.DdM(36,ne))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(37,hn)),e.Q6J("visible",o.editTagDialogVisible)("breakpoints",e.DdM(38,ne))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(39,Ue)),e.Q6J("visible",o.showEquipmentDialog)("breakpoints",e.DdM(40,At))("draggable",!1)("dismissableMask",!0)("header",o.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435")("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",o.equipmentForm),e.xp6(8),e.Udp("min-height","5rem"),e.Q6J("autoResize",!0),e.xp6(6),e.Q6J("disabled",!o.equipmentForm.valid)("label",o.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")("loading",o.isEquipmentCreating))},styles:["[_nghost-%COMP%]{flex-grow:1}.templates-scroller[_ngcontent-%COMP%]{height:100%}.template-item[_ngcontent-%COMP%]{padding:.8rem .8rem 1.1rem 1.1rem;font-size:1.2rem;color:var(--tc-700);transition:background-color .2s ease-out}.template-item-main-info-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-500)}.template-item-created-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);display:flex;flex-direction:column;align-items:flex-end}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:300;color:var(--tc-600)}.task-tags-list[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;overflow-y:auto}.append-tag-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1rem;font-weight:700;padding:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s ease-out}.append-tag-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.template-create-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1.2rem;font-weight:700;padding:2rem 1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease-out}.template-create-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),n})();var kn=C(1588),En=C(8505);const pi=["stepsContextMenuElem"];function Zi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",55),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,g=e.oxw(2);return e.KtG(g.removeStep(r))}),e.qZA()}}const Ni=function(n,i){return{"cursor-pointer hover:text-primary-400":n,"cursor-default font-bold":i}},ki=function(n){return{"bg-primary":n}};function Is(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const g=e.CHM(t).index,E=e.oxw(2);return e.KtG(E.activeStepIndex!==g&&(E.activeStepIndex=g))}),e.TgZ(1,"div",51),e._uU(2),e.qZA(),e.TgZ(3,"div",52)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,Zi,1,0,"span",53),e.qZA(),e.TgZ(7,"div",54),e.NdJ("onDragEnter",function(r){const E=e.CHM(t).index,W=e.oxw(2);return e.KtG(W.dragEnterStage(r,E))})("onDragLeave",function(r){const E=e.CHM(t).index,W=e.oxw(2);return e.KtG(W.dragLeaveStage(r,E))})("onDrop",function(r){const E=e.CHM(t).index,W=e.oxw(2);return e.KtG(W.dropToStage(r,E))}),e.qZA()()}if(2&n){const t=i.$implicit,o=i.index,r=e.oxw(2);e.Q6J("ngClass",e.WLB(5,Ni,r.activeStepIndex!==o,r.activeStepIndex===o)),e.xp6(2),e.Oqu(o+1),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(1),e.Q6J("ngClass",e.VKq(8,ki,r.stageHoverTarget===o))}}const zs=function(n){return{"pointer-events-none":n}};function Qr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("onDrop",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw(2);return e.KtG(E.drop(r,g,"up"))})("onDragEnter",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw(2);return e.KtG(E.dragEnter(r,g,"top"))})("onDragLeave",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw(2);return e.KtG(E.dragLeave(r,g,"top"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,zs,!t.draggedField))}}function xo(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",63),e.NdJ("onDrop",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw(2);return e.KtG(E.drop(r,g,"down"))})("onDragEnter",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw(2);return e.KtG(E.dragEnter(r,g,"bottom"))})("onDragLeave",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw(2);return e.KtG(E.dragLeave(r,g,"bottom"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,zs,!t.draggedField))}}const vo=function(n){return{"opacity-50":n}};function Ns(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("onDragStart",function(r){const E=e.CHM(t).$implicit,W=e.oxw(2);return e.KtG(W.dragStart(r,E))})("onDrag",function(r){const E=e.CHM(t).$implicit,W=e.oxw(2);return e.KtG(W.drag(r,E))})("onDragEnd",function(r){const E=e.CHM(t).$implicit,W=e.oxw(2);return e.KtG(W.dragEnd(r,E))}),e.YNc(1,Qr,1,5,"div",57),e._UZ(2,"span",58)(3,"app-task-template-input",59),e.TgZ(4,"p-button",60),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.deleteField(g.id))}),e.qZA(),e.YNc(5,xo,1,5,"div",61),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("ngClass",e.VKq(5,vo,o.draggedField===t)),e.xp6(1),e.Q6J("ngIf",o.draggedField!==t),e.xp6(2),e.Q6J("field",t)("isExample",!0),e.xp6(2),e.Q6J("ngIf",o.draggedField!==t)}}function Di(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"p-button",30),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.nav.backOrDefault(["/"]))}),e.qZA(),e.TgZ(4,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeStagesSettingsStep())}),e.qZA()(),e.TgZ(5,"div",32)(6,"div",33)(7,"label"),e._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(9,"input",34),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.wireframe.name=r)}),e.qZA()()(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),e.qZA(),e.TgZ(13,"app-observer-selector-input",35),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.wireframe.defaultObservers=r)}),e.qZA()(),e.TgZ(14,"div",36)(15,"div",37)(16,"label"),e._uU(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(18,"textarea",38),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.wireframe.description=r)}),e.qZA()()(),e.TgZ(19,"p-button",39),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createStep())}),e.qZA(),e.TgZ(20,"div",40),e.YNc(21,Is,8,10,"div",41),e.qZA()(),e.TgZ(22,"div",42)(23,"div",43)(24,"div",44)(25,"span",45),e._uU(26),e.qZA(),e.TgZ(27,"app-editing-caption",46),e.NdJ("captionChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.stepsPanelCaptionUpdate(r))})("onStopEditing",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.fillingEmptyStepName())})("captionChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.wireframe.steps[g.activeStepIndex].name=r)}),e.qZA()(),e.TgZ(28,"div",47),e.YNc(29,Ns,6,7,"div",48),e.TgZ(30,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.chooseFieldTypeDialogVisible=!0)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("ngModel",t.wireframe.name)("disabled",void 0!==t.editingId),e.xp6(4),e.Q6J("ngModel",t.wireframe.defaultObservers),e.xp6(5),e.Q6J("ngModel",t.wireframe.description)("autoResize",!0),e.xp6(3),e.Q6J("ngForOf",t.stepsArray)("ngForTrackBy",t.trackByStep),e.xp6(2),e.Udp("min-width","40rem"),e.xp6(3),e.hij("\u042d\u0442\u0430\u043f ",t.activeStepIndex+1,":"),e.xp6(1),e.Q6J("caption",t.wireframe.steps[t.activeStepIndex].name),e.xp6(2),e.Q6J("ngForOf",t.wireframe.steps[t.activeStepIndex].fields)}}function Ia(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"span",74),e._uU(2,"drag_indicator"),e.qZA(),e.TgZ(3,"span",75),e._uU(4),e.qZA(),e.TgZ(5,"input",76,77),e.NdJ("mousedown",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.mouseDown(r))})("focus",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.select())})("ngModelChange",function(r){const E=e.CHM(t).$implicit;return e.KtG(E.label=r)}),e.qZA(),e._UZ(7,"div",78),e.TgZ(8,"p-button",79),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.openTaskTypeDirectoriesDialog(g))})("mousedown",function(r){return r.stopPropagation()}),e.qZA(),e.TgZ(9,"p-button",80),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.openOldTrackerStageBind(g))})("mousedown",function(r){return r.stopPropagation()}),e.qZA(),e.TgZ(10,"p-button",81),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.removeStage(g.stageId))})("mousedown",function(r){return r.stopPropagation()}),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(4),e.hij("",t.orderIndex+1,"."),e.xp6(1),e.Q6J("ngModel",t.label)}}const mr=function(){return[]};function Gr(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"div",65)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.constructStage="FIELDS")}),e.qZA(),e.TgZ(4,"app-button",67),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeViewSettingsStep())}),e.qZA()()(),e.TgZ(5,"div",68)(6,"p-panel",69)(7,"div",64)(8,"app-button",70),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createStage())}),e.qZA(),e.TgZ(9,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reorderStages())}),e.YNc(10,Ia,11,2,"ng-template",72),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let o;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("dragdrop",!0)("value",null!==(o=t.wireframe.stages)&&void 0!==o?o:e.DdM(4,mr))}}function Vo(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",92),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createWireframe())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.wireframe.name)}}function _r(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",93),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateWireframe())}),e.qZA()}}function as(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function qs(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openAppendDocumentDialog())}),e.qZA()}}function ra(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",95)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"p-button",96),e.NdJ("mousedown",function(r){return r.stopPropagation()})("onClick",function(r){const E=e.CHM(t).index,W=e.oxw(2);return r.stopPropagation(),e.KtG(W.deleteDocumentTemplate(E))}),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}function Qn(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u041d\u0435\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA())}function Oi(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",82)(2,"div",83)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.constructStage="STAGES")}),e.qZA(),e.YNc(4,Vo,1,1,"app-button",84),e.YNc(5,_r,1,0,"app-button",85),e.qZA(),e.TgZ(6,"div",86)(7,"span",87),e._uU(8," \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u043b\u0435\u0439 "),e.qZA(),e.TgZ(9,"div",88)(10,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reorderFields())}),e.YNc(11,as,2,1,"ng-template",72),e.qZA()()(),e.TgZ(12,"div",86)(13,"span",87),e._uU(14," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f "),e.qZA(),e.TgZ(15,"div",88)(16,"p-listbox",89),e.NdJ("onClick",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.openEditDocumentDialog(r.option))}),e.YNc(17,qs,1,0,"ng-template",90),e.YNc(18,ra,4,1,"ng-template",72),e.YNc(19,Qn,2,0,"ng-template",91),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let o;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("ngIf",void 0===t.editingId),e.xp6(1),e.Q6J("ngIf",void 0!==t.editingId),e.xp6(5),e.Q6J("dragdrop",!0)("value",t.wireframeFieldsList),e.xp6(6),e.Q6J("options",null!==(o=t.wireframe.documentTemplates)&&void 0!==o?o:e.DdM(6,mr))}}function ro(n,i){1&n&&e.GkF(0)}const ji=function(n){return{$implicit:n}};function qi(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ro,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t.documentDialogForm))}}function Ca(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",102),e._UZ(2,"span",103),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA()(),e.BQk())}function Cr(n,i){1&n&&e.GkF(0)}function Fs(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Cr,1,0,"ng-container",104),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(7),r=e.MAs(9);e.xp6(1),e.Q6J("ngIf","new"===t.documentDialogMode)("ngIfThen",o)("ngIfElse",r)}}function Ta(n,i){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA(),e._UZ(3,"p-dropdown",97),e.ALo(4,"async"),e.qZA(),e.ynx(5,98),e.YNc(6,qi,2,4,"ng-container",1),e.YNc(7,Ca,5,0,"ng-container",99),e.YNc(8,Fs,2,3,"ng-container",100),e.BQk()),2&n){const t=e.oxw();let o;e.xp6(3),e.Q6J("options",null!==(o=e.lcZ(4,5,t.documentTypesOptions$))&&void 0!==o?o:e.DdM(7,mr))("disabled","edit"===t.documentDialogMode),e.xp6(2),e.Q6J("ngSwitch",t.documentDialogForm.value.type),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionAgreementTemplate"),e.xp6(2),e.Q6J("ngIf",t.documentDialogForm.value.type)}}function Ts(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",105),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createDocumentTemplate())}),e.qZA()}}function Js(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",106),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editDocumentTemplate())}),e.qZA()}}function aa(n,i){if(1&n&&(e.TgZ(0,"div",107)(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),e.qZA(),e._UZ(5,"p-dropdown",109),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),e.qZA(),e._UZ(9,"p-dropdown",110),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u0424\u0418\u041e"),e.qZA(),e._UZ(13,"p-dropdown",111),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(17,"p-dropdown",112),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0440\u0435\u0433\u0438\u043e\u043d \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(21,"p-dropdown",113),e.qZA()(),e.TgZ(22,"div",108)(23,"div",33)(24,"label"),e._uU(25,"\u041f\u043e\u043b\u0435 \u0433\u043e\u0440\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(26,"p-dropdown",114),e.qZA(),e.TgZ(27,"div",33)(28,"label"),e._uU(29,"\u041f\u043e\u043b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(30,"p-dropdown",115),e.qZA(),e.TgZ(31,"div",33)(32,"label"),e._uU(33,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(34,"p-dropdown",116),e.qZA(),e.TgZ(35,"div",33)(36,"label"),e._uU(37,"\u041f\u043e\u043b\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(38,"p-dropdown",117),e.qZA(),e.TgZ(39,"div",33)(40,"label"),e._uU(41,"\u041f\u043e\u043b\u0435 \u0442\u0430\u0440\u0438\u0444"),e.qZA(),e._UZ(42,"p-dropdown",118),e.qZA()()()),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("formGroup",t),e.xp6(5),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(5),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList),e.xp6(4),e.Q6J("options",o.wireframeFieldsList)}}function st(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",119)(1,"p-dropdown",120),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.createFieldType=r)}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"app-button",121),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createField(r.createFieldType))}),e.qZA()()}if(2&n){const t=e.oxw();let o;e.xp6(1),e.Q6J("ngModel",t.createFieldType)("options",null!==(o=e.lcZ(2,2,t.fieldTypeOptions))&&void 0!==o?o:e.DdM(4,mr))}}function ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"app-select-field-to-view-button",124),e.NdJ("selectView",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.selectFieldToView(r))}),e.qZA(),e._UZ(2,"div",78),e.TgZ(3,"div",29),e._UZ(4,"app-avatar",125),e.TgZ(5,"span",126),e._uU(6,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("size",1.8)}}function Pe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"app-select-field-to-view-button",124),e.NdJ("selectView",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.selectFieldToView(r))}),e.qZA(),e.TgZ(3,"app-select-field-to-view-button",128),e.NdJ("selectView",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.selectFieldToView(r))}),e.qZA()(),e._UZ(4,"div",78),e.TgZ(5,"div",29),e._UZ(6,"app-avatar",125),e.TgZ(7,"span",126),e._uU(8,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(3),e.Q6J("size",1.8)}}function Pt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"div",129)(3,"app-select-field-to-view-button",124),e.NdJ("selectView",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.selectFieldToView(r))}),e.qZA(),e.TgZ(4,"span",126),e._uU(5,"-"),e.qZA(),e.TgZ(6,"app-select-field-to-view-button",130),e.NdJ("selectView",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.selectFieldToView(r))}),e.qZA()(),e.TgZ(7,"app-select-field-to-view-button",128),e.NdJ("selectView",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.selectFieldToView(r))}),e.qZA()(),e._UZ(8,"div",78),e.TgZ(9,"div",29),e._UZ(10,"app-avatar",125),e.TgZ(11,"span",126),e._uU(12,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",3),e.xp6(3),e.Q6J("size",1.8)}}function Rn(n,i){if(1&n&&(e.ynx(0,98),e.YNc(1,ze,7,3,"div",122),e.YNc(2,Pe,9,5,"div",122),e.YNc(3,Pt,13,7,"div",122),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.wireframe.listViewType),e.xp6(1),e.Q6J("ngSwitchCase","SIMPLE"),e.xp6(1),e.Q6J("ngSwitchCase","COMPOSITE"),e.xp6(1),e.Q6J("ngSwitchCase","DETAILED")}}function di(n,i){1&n&&e.GkF(0)}function no(n,i){if(1&n&&(e.TgZ(0,"div",133),e._UZ(1,"span",134),e.TgZ(2,"span",135),e._uU(3,"\u041d\u0435\u0442 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\u0306 \u0432 \u044d\u0442\u043e\u043c \u0442\u0438\u043f\u0435 \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,di,1,0,"ng-container",136),e.qZA()),2&n){e.oxw(2);const t=e.MAs(23);e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}function Fo(n,i){}function ss(n,i){1&n&&e.YNc(0,Fo,0,0,"ng-template")}function Ds(n,i){1&n&&e.GkF(0)}function Xs(n,i){if(1&n&&e.YNc(0,Ds,1,0,"ng-container",101),2&n){const t=i.$implicit;e.oxw(3);const o=e.MAs(21);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}const vr=function(){return{"max-height":"35rem"}};function Lr(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,ss,1,0,null,136),e.TgZ(2,"p-orderList",137),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.reorderTaskTypeDirectories())}),e.YNc(3,Xs,1,4,"ng-template",72),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),o=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("value",t.taskTypeDirectoriesList)("dragdrop",!0)("trackBy",t.trackByTaskTypeDirectories)("listStyle",e.DdM(5,vr))}}function br(n,i){if(1&n){const t=e.EpF();e.YNc(0,no,5,1,"div",131),e.YNc(1,Lr,4,6,"ng-container",100),e.TgZ(2,"p-button",132),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveTaskTypeDirectories())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngIf",0===t.taskTypeDirectoriesFormArray.controls.length),e.xp6(1),e.Q6J("ngIf",t.taskTypeDirectoriesFormArray.controls.length>0),e.xp6(1),e.Q6J("disabled",t.taskTypeDirectoriesFormArray.invalid||!t.taskTypeDirectoriesFormArray.dirty)}}function Wr(n,i){1&n&&e.GkF(0)}function Ms(n,i){if(1&n&&(e.TgZ(0,"div",138)(1,"div",139)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438"),e.qZA(),e._UZ(5,"input",140),e.qZA(),e.YNc(6,Wr,1,0,"ng-container",101),e.qZA(),e.TgZ(7,"div",33)(8,"label"),e._uU(9,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(10,"textarea",141),e.qZA()()),2&n){const t=i.$implicit;e.oxw();const o=e.MAs(25);e.Q6J("formGroup",t),e.xp6(5),e.Q6J("size",32),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(7,ji,t.value.taskTypeDirectoryId)),e.xp6(4),e.Q6J("autoResize",!0)("rows",3)("cols",60)}}function zo(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",142),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addTaskTypeDirectory())}),e.qZA()}}function yr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",143),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.removeTaskTypeDirectory(g))})("mousedown",function(r){return r.stopPropagation()}),e.qZA()}}function Aa(n,i){1&n&&e.GkF(0)}function Ka(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Aa,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function pl(n,i){1&n&&e.GkF(0)}function Fe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,pl,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function mt(n,i){1&n&&e.GkF(0)}function Ge(n,i){if(1&n&&(e.ynx(0),e.YNc(1,mt,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(43);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function Mt(n,i){1&n&&e.GkF(0)}function tn(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Mt,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(45);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function Mn(n,i){1&n&&e.GkF(0)}function Nn(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Mn,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(47);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function ci(n,i){1&n&&e.GkF(0)}function Xi(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ci,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(49);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function ao(n,i){1&n&&e.GkF(0)}function ho(n,i){1&n&&e.GkF(0)}function Ji(n,i){1&n&&e.GkF(0)}function Bo(n,i){1&n&&e.GkF(0)}function Ki(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Bo,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function Jo(n,i){1&n&&e.GkF(0)}function er(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Jo,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const o=e.MAs(41);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ji,t))}}function tr(n,i){1&n&&(e.ynx(0,98),e.YNc(1,Ka,2,4,"ng-container",1),e.YNc(2,Fe,2,4,"ng-container",1),e.YNc(3,Ge,2,4,"ng-container",1),e.YNc(4,tn,2,4,"ng-container",1),e.YNc(5,Nn,2,4,"ng-container",1),e.YNc(6,Xi,2,4,"ng-container",1),e.YNc(7,ao,1,0,"ng-container",1),e.YNc(8,ho,1,0,"ng-container",1),e.YNc(9,Ji,1,0,"ng-container",1),e.YNc(10,Ki,2,4,"ng-container",1),e.YNc(11,er,2,4,"ng-container",1),e.BQk()),2&n&&(e.Q6J("ngSwitch",i.$implicit.value.type),e.xp6(1),e.Q6J("ngSwitchCase","AddressFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","PassportDetailsFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","AdSourceFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionTypeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateTimeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DefaultFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersHardAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersSimpleAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","TextFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","FullNameFieldDataBind"))}function hs(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(5,"p-dropdown",145),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),e.qZA(),e._UZ(9,"p-dropdown",146),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0432 \u0440\u0443\u0447\u043d\u0443\u044e"),e.qZA(),e._UZ(13,"p-dropdown",147),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"),e.qZA(),e._UZ(17,"p-dropdown",148),e.qZA()(),e.TgZ(18,"div",149)(19,"p-button",150),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openAppendBindToIntegrationDialog())}),e.qZA(),e.TgZ(20,"div",64),e.YNc(21,tr,12,12,"ng-container",151),e.qZA()(),e.TgZ(22,"p-button",152),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveOldTrackerIntegration())}),e.qZA(),e.BQk()}if(2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(5),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("ngForOf",o.oldTrackerIntegrationForm.controls.fieldDataBinds.controls)}}function ar(n,i){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(3,"p-dropdown",144),e.ALo(4,"async"),e.qZA(),e.YNc(5,hs,23,5,"ng-container",100),e.ALo(6,"async")),2&n){const t=e.oxw();let o;e.xp6(3),e.Q6J("options",null!==(o=e.lcZ(4,2,t.oldTrackerTaskClasses$))&&void 0!==o?o:e.DdM(6,mr)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,4,t.selectedTaskClass$))}}function vt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",153),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.selectedDataBind=r)}),e.qZA(),e.TgZ(1,"p-button",154),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.appendBindToIntegration())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.dataBindFieldOptions)("ngModel",t.selectedDataBind)}}function le(n,i){if(1&n&&(e.TgZ(0,"div",155)(1,"label"),e._uU(2,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e._UZ(3,"p-dropdown",156),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("formGroup",t),e.xp6(3),e.Q6J("options",o.wireframeFieldsList)}}function ge(n,i){if(1&n){const t=e.EpF();e._UZ(0,"div",157),e.TgZ(1,"p-button",158),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.removeBind(g))}),e.qZA()}}function Ke(n,i){1&n&&e.GkF(0)}function It(n,i){1&n&&e.GkF(0)}function zt(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ke,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e._UZ(5,"p-dropdown",161),e.qZA(),e.YNc(6,It,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(6,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(8,ji,o))}}function pn(n,i){if(1&n&&(e.YNc(0,zt,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function mn(n,i){1&n&&e.GkF(0)}function Sn(n,i){1&n&&e.GkF(0)}function Gn(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,mn,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(5,"p-dropdown",162),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(9,"p-dropdown",163),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"),e.qZA(),e._UZ(13,"p-dropdown",164),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u043e\u0434\u044a\u0435\u0437\u0434\u0430"),e.qZA(),e._UZ(17,"p-dropdown",165),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u044d\u0442\u0430\u0436\u0430"),e.qZA(),e._UZ(21,"p-dropdown",166),e.qZA(),e.TgZ(22,"div",33)(23,"label"),e._uU(24,"\u0417\u0430\u043f\u0430\u0441\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA(),e._UZ(25,"p-dropdown",167),e.qZA(),e.YNc(26,Sn,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(11,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(13,ji,o))}}function Jt(n,i){if(1&n&&(e.YNc(0,Gn,27,15,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Ve(n,i){1&n&&e.GkF(0)}function Je(n,i){1&n&&e.GkF(0)}function bt(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ve,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(5,"p-dropdown",168),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(9,"p-dropdown",169),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043a\u0435\u043c \u0432\u044b\u0434\u0430\u043d \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),e.qZA(),e._UZ(13,"p-dropdown",170),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(17,"p-dropdown",171),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e._UZ(21,"p-dropdown",172),e.qZA(),e.YNc(22,Je,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(10,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(12,ji,o))}}function Nt(n,i){if(1&n&&(e.YNc(0,bt,23,14,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function cn(n,i){1&n&&e.GkF(0)}function wn(n,i){1&n&&e.GkF(0)}function Pn(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,cn,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u0438"),e.qZA(),e._UZ(5,"p-dropdown",173),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0438\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(9,"p-dropdown",174),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430"),e.qZA(),e._UZ(13,"p-dropdown",175),e.qZA(),e.YNc(14,wn,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(8,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(10,ji,o))}}function Xn(n,i){if(1&n&&(e.YNc(0,Pn,15,12,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function yi(n,i){1&n&&e.GkF(0)}function Ai(n,i){1&n&&e.GkF(0)}function bo(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,yi,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430"),e.qZA(),e._UZ(5,"p-dropdown",176),e.qZA(),e.YNc(6,Ai,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(6,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(8,ji,o))}}function Xo(n,i){if(1&n&&(e.YNc(0,bo,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function es(n,i){1&n&&e.GkF(0)}function uo(n,i){1&n&&e.GkF(0)}function ls(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,es,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432"),e.qZA(),e._UZ(5,"p-dropdown",177),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0442\u0438\u043f\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(9,"p-dropdown",178),e.qZA(),e.YNc(10,uo,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit,r=e.oxw(),g=e.MAs(31),E=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(7,ji,o)),e.xp6(4),e.Q6J("options",r.wireframeFieldsList),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",e.VKq(9,ji,o))}}function Zo(n,i){if(1&n&&(e.YNc(0,ls,11,11,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function xr(n,i){1&n&&e.GkF(0)}function la(n,i){1&n&&e.GkF(0)}function Yr(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,xr,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b"),e.qZA(),e._UZ(5,"p-dropdown",179),e.qZA(),e.YNc(6,la,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(6,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(8,ji,o))}}function Qs(n,i){if(1&n&&(e.YNc(0,Yr,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function za(n,i){1&n&&e.GkF(0)}function xi(n,i){1&n&&e.GkF(0)}function wi(n,i){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,za,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(5,"p-dropdown",180),e.qZA(),e.YNc(6,xi,1,0,"ng-container",101),e.qZA()),2&n){const t=i.ngIf,o=e.oxw().$implicit;e.oxw();const r=e.MAs(31),g=e.MAs(33);e.Q6J("formGroup",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(6,ji,o)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(8,ji,o))}}function Pi(n,i){if(1&n&&(e.YNc(0,wi,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}const eo=function(){return{width:"30vw"}},Qo={id:0,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[]};let So=(()=>{class n{constructor(t,o,r){this.api=t,this.route=o,this.nav=r,this.activeStepIndex=0,this.stepsArray=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:()=>this.selectStep(0)}],this.wireframeFieldsList=[],this.stepsContextMenu=[],this.chooseFieldTypeDialogVisible=!1,this.fieldTypeOptions=this.api.getWireframeFieldTypesList(),this.createFieldType=Ce._r.SMALL_TEXT,this.constructStage="FIELDS",this.listItemViewOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439",value:"SIMPLE"},{label:"\u0421\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439",value:"COMPOSITE"},{label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",value:"DETAILED"}],this.stageHoverTarget=null,this.oldTrackerIntegrationDialogVisible=!1,this.oldTrackerTaskClasses$=this.api.getOldTrackerClasses(),this.oldTrackerIntegrationForm=new p.cw({classId:new p.NI(null,[p.kI.required]),initialStageId:new p.NI(null,[p.kI.required]),processingStageId:new p.NI(null,[p.kI.required]),manualCloseStageId:new p.NI(null,[p.kI.required]),autoCloseStageId:new p.NI(null,[p.kI.required]),fieldDataBinds:new p.Oe([])}),this.taskTypeDirectoriesDialogVisible=!1,this.taskTypeDirectoriesFormArray=new p.Oe([]),this.taskTypeDirectoriesList=[],this.selectedTaskClass$=(0,Po.a)([this.oldTrackerIntegrationForm.controls.classId.valueChanges,this.oldTrackerTaskClasses$]).pipe((0,En.b)(console.log),(0,ft.U)(([g,E])=>{var W;return null!==(W=null==E?void 0:E.find(Ie=>Ie.id===g))&&void 0!==W?W:null}),(0,an.d)(1)),this.selectedClassFields$=this.selectedTaskClass$.pipe((0,ft.U)(g=>{var E;return[{label:"\u041d\u0435\u0442",value:null},...null!==(E=null==g?void 0:g.fields.map(W=>({label:W.name,value:W.id})))&&void 0!==E?E:[]]}),(0,an.d)(1)),this.appendBindToIntegrationDialogVisible=!1,this.dataBindFieldOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0435\u043a\u0441\u0442",value:this.simpleTextFieldFormGroup},{label:"\u0424\u0418\u041e",value:this.fullNameFieldFormGroup},{label:"\u0410\u0434\u0440\u0435\u0441",value:this.addressFieldFormGroup},{label:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:this.adSourceFieldFormGroup},{label:"\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",value:this.connectionTypeFieldFormGroup},{label:"\u0414\u0430\u0442\u0430",value:this.dateFieldFormGroup},{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",value:this.dateTimeFieldFormGroup},{label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:this.passportFieldFormGroup}],this.documentDialogVisible=!1,this.documentDialogMode="new",this.documentTypesOptions$=this.api.getDocumentTemplateTypes().pipe((0,an.d)(1)),this.documentDialogForm=new p.cw({temporalId:new p.NI(null),documentTemplateId:new p.NI(null),type:new p.NI(null,[p.kI.required]),name:new p.NI(""),loginFieldId:new p.NI(null),fullNameFieldId:new p.NI(null),dateOfBirthFieldId:new p.NI(null),regionOfBirthFieldId:new p.NI(null),cityOfBirthFieldId:new p.NI(null),passportDetailsFieldId:new p.NI(null),addressFieldId:new p.NI(null),phoneFieldId:new p.NI(null),passwordFieldId:new p.NI(null),tariffFieldId:new p.NI(null)}),this.subscriptions=new x.xf,this._wireframe={wireframeId:0,created:"",deleted:!1,name:"",description:"",creator:{login:"admin"},wireframeType:Ce.Ez.MODEL,steps:[Qo],defaultObservers:[],stages:[{label:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0442\u0438\u043f",stageId:(0,kn.Z)(),orderIndex:0,directories:[]}],listViewType:"SIMPLE"},this.trackByStep=(g,E)=>{var W;return g+(null!==(W=E.label)&&void 0!==W?W:"")}}get documentDialogHeader(){return"new"===this.documentDialogMode?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}get wireframe(){return this._wireframe}set wireframe(t){this._wireframe=t,this.wireframeFieldsList=this.fieldsLabelsList()}getTaskTypeDirectoryFormTemplate(t,o,r,g){return new p.cw({taskTypeDirectoryId:new p.NI(t||(0,kn.Z)()),name:new p.NI(null!=o?o:"",[p.kI.required,p.kI.minLength(3)]),description:new p.NI(null!=r?r:""),orderIndex:new p.NI(g)})}addTaskTypeDirectory(){this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(void 0,void 0,void 0,this.taskTypeDirectoriesFormArray.controls.length)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}removeTaskTypeDirectory(t){this.taskTypeDirectoriesFormArray.removeAt(this.taskTypeDirectoriesFormArray.controls.findIndex(o=>o.value.taskTypeDirectoryId===t)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}reorderTaskTypeDirectories(){this.taskTypeDirectoriesFormArray.markAsDirty(),this.taskTypeDirectoriesList.forEach((t,o)=>t.patchValue({orderIndex:o}))}trackByTaskTypeDirectories(t,o){return o.value.taskTypeDirectoryId}simpleTextFieldFormGroup(){return new p.cw({type:new p.NI("TextFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),textFieldId:new p.NI(null,[p.kI.required])})}fullNameFieldFormGroup(){return new p.cw({type:new p.NI("FullNameFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),lastNameFieldId:new p.NI(null,[p.kI.required]),firstNameFieldId:new p.NI(null,[p.kI.required]),patronymicFieldId:new p.NI(null,[p.kI.required])})}addressFieldFormGroup(){return new p.cw({type:new p.NI("AddressFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),streetFieldId:new p.NI(null,[p.kI.required]),houseFieldId:new p.NI(null),apartmentFieldId:new p.NI(null),entranceFieldId:new p.NI(null),floorFieldId:new p.NI(null),backupFieldId:new p.NI(null)})}adSourceFieldFormGroup(){return new p.cw({type:new p.NI("AdSourceFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),adSourceFieldId:new p.NI(null,[p.kI.required])})}connectionTypeFieldFormGroup(){return new p.cw({type:new p.NI("ConnectionTypeFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),connectionServicesInnerFieldId:new p.NI(null,[p.kI.required]),ctFieldDataBindId:new p.NI(null,[p.kI.required])})}dateFieldFormGroup(){return new p.cw({type:new p.NI("DateFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),dateFieldDataBind:new p.NI(null,[p.kI.required])})}dateTimeFieldFormGroup(){return new p.cw({type:new p.NI("DateTimeFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),dateTimeFieldDataBind:new p.NI(null,[p.kI.required])})}passportFieldFormGroup(){return new p.cw({type:new p.NI("PassportDetailsFieldDataBind"),fieldDataBindId:new p.NI(null),fieldItemId:new p.NI(null,[p.kI.required]),passportSeriesFieldId:new p.NI(null),passportNumberFieldId:new p.NI(null),passportIssuedByFieldId:new p.NI(null),passportIssuedDateFieldId:new p.NI(null),registrationAddressFieldId:new p.NI(null)})}ngOnInit(){this.route.queryParams.subscribe(t=>{t.editingId&&(this.editingId=t.editingId,this.api.getWireframe(t.editingId).subscribe(o=>{var r;this.wireframe=o,this.fillingSteps(o.steps),null===(r=this.wireframe.stages)||void 0===r||r.sort((g,E)=>g.orderIndex-E.orderIndex),this.wireframe=this.wireframe}))}),this.subscriptions.addSubscription("docNameUpd",this.documentDialogForm.controls.type.valueChanges.pipe((0,F.w)(t=>this.documentTypesOptions$.pipe((0,ft.U)(o=>{var r,g;return null!==(g=null===(r=o.find(E=>E.value===t))||void 0===r?void 0:r.label)&&void 0!==g?g:""})))).subscribe(t=>this.documentDialogForm.controls.name.setValue(t)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createDocumentTemplate(){this.documentDialogForm.valid&&(this.wireframe.documentTemplates||(this.wireframe.documentTemplates=[]),this.wireframe.documentTemplates.push(this.documentDialogForm.value),this.wireframe.documentTemplates=[...this.wireframe.documentTemplates],this.documentDialogVisible=!1)}editDocumentTemplate(){if(this.documentDialogForm.valid&&this.wireframe.documentTemplates){const t=this.wireframe.documentTemplates.findIndex(o=>o.temporalId===this.documentDialogForm.value.temporalId);t>-1&&(this.wireframe.documentTemplates[t]=this.documentDialogForm.value,this.wireframe.documentTemplates=[...this.wireframe.documentTemplates]),this.documentDialogVisible=!1}}deleteDocumentTemplate(t){var o;null===(o=this.wireframe.documentTemplates)||void 0===o||o.splice(t,1)}createField(t){const o=(0,kn.Z)(),r=this.wireframe.steps.find(g=>g.id===this.activeStepIndex);r?r.fields.push({name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044f",id:o,type:t,variation:"MANDATORY",displayType:"LIST_AND_TELEGRAM"}):console.error("\u042d\u0442\u0430\u043f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}deleteField(t){const o=this.wireframe.steps.find(r=>r.id===this.activeStepIndex);o&&(o.fields=o.fields.filter(r=>r.id!==t))}createStep(){const t=this.stepsArray.length;this.stepsArray.push({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:o=>this.openStepContextMenu(t,o.originalEvent)}),this.wireframe.steps.push({name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[],id:t}),this.selectStep(t)}selectStep(t){this.activeStepIndex=t}removeStep(t){this.activeStepIndex>=t&&this.selectStep(this.activeStepIndex-1),this.stepsArray.splice(t,1),this.wireframe.steps.splice(t,1),this.wireframe.steps=this.wireframe.steps.map((o,r)=>(o.id=r,o))}openStepContextMenu(t,o){this.stepsContextMenu=[{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",command:this.selectStep.bind(this,t)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:this.removeStep.bind(this,t)}],this.stepsContextMenuElem&&this.stepsContextMenuElem.toggle(o)}stepsPanelCaptionUpdate(t){this.stepsArray[this.activeStepIndex].label=t,this.stepsArray=[...this.stepsArray]}fillingEmptyStepName(){this.wireframe.steps[this.activeStepIndex]&&""===this.wireframe.steps[this.activeStepIndex].name&&(this.wireframe.steps[this.activeStepIndex].name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray[this.activeStepIndex].label="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray=[...this.stepsArray])}createWireframe(){this.api.createWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fillingSteps(t){this.stepsArray=t.map((o,r)=>({label:o.name,command:0===r?()=>this.selectStep(o.id):g=>this.openStepContextMenu(o.id,g.originalEvent)}))}updateWireframe(){this.api.updateWireframe(this.wireframe.wireframeId,this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fieldsLabelsList(){const t=[];return this.wireframe.steps.forEach(o=>{o.fields.forEach(r=>{t.push({label:r.name,id:r.id,listViewIndex:r.listViewIndex,orderPosition:r.orderPosition})})}),t.sort((o,r)=>o.orderPosition-r.orderPosition),t}selectFieldToView(t){this._wireframe.steps.forEach(o=>{o.fields.forEach(r=>{r.id===t.id?r.listViewIndex=t.index:r.listViewIndex===t.index&&(r.listViewIndex=void 0)})})}reorderFields(){this.wireframeFieldsList.forEach((t,o)=>{this.wireframe.steps.forEach(r=>{r.fields.forEach(g=>{g.id===t.id&&(g.orderPosition=o)})})})}changeStagesSettingsStep(){this.constructStage="STAGES",this.wireframe=this.wireframe,this.reorderFields()}changeViewSettingsStep(){this.constructStage="VIEW"}taskItemForView(){return{taskId:0,modelWireframe:this.wireframe,listItemFields:[],allEmployeesObservers:[]}}createStage(){var t,o,r;this.wireframe.stages=[...null!==(t=this.wireframe.stages)&&void 0!==t?t:[],{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0437\u0430\u0434\u0430\u0447\u0438",stageId:(0,kn.Z)(),orderIndex:null!==(r=null===(o=this.wireframe.stages)||void 0===o?void 0:o.length)&&void 0!==r?r:0,directories:[]}]}removeStage(t){var o;this.wireframe.stages=null===(o=this.wireframe.stages)||void 0===o?void 0:o.filter(r=>r.stageId!==t).map((r,g)=>(r.orderIndex=g,r))}mouseDown(t){t.stopPropagation()}reorderStages(){var t;this.wireframe.stages=null===(t=this.wireframe.stages)||void 0===t?void 0:t.map((o,r)=>(o.orderIndex=r,o))}dragStart(t,o){this.draggedField=o}drag(t,o){}dragEnd(t,o){this.draggedField=void 0}drop(t,o,r){if(t.target.classList.remove("border-top-2","border-bottom-2","border-primary"),this.draggedField){const E=this.wireframe.steps[this.activeStepIndex].fields,W=E.findIndex(Ie=>Ie===this.draggedField);W<o&&"up"===r?o--:W>o&&"down"===r&&o++,E.splice(W,1),E.splice(o,0,this.draggedField)}}dragEnter(t,o,r){t.target.classList.add("border-"+r+"-2","border-primary")}dragLeave(t,o,r){t.target.classList.remove("border-"+r+"-2","border-primary")}dropToStage(t,o){if(this.stageHoverTarget=null,o!==this.activeStepIndex){const r=this.wireframe.steps.find(E=>E.id===this.activeStepIndex),g=this.wireframe.steps.find(E=>E.id===o);r&&g&&this.draggedField&&(r.fields.splice(r.fields.findIndex(E=>E===this.draggedField),1),g.fields.unshift(this.draggedField),this.draggedField=void 0)}}dragEnterStage(t,o){o!==this.activeStepIndex&&(this.stageHoverTarget=o)}dragLeaveStage(t,o){this.stageHoverTarget=null}openOldTrackerStageBind(t){this.oldTrackerIntegrationDialogVisible=!0,this.selectedStageForIntegration=t,setTimeout(()=>{var o,r,g,E,W,Ie,it,nt,Kt,Yt,Qt;this.oldTrackerIntegrationForm.patchValue({classId:null!==(r=null===(o=t.oldTrackerBind)||void 0===o?void 0:o.classId)&&void 0!==r?r:null,initialStageId:null!==(E=null===(g=t.oldTrackerBind)||void 0===g?void 0:g.initialStageId)&&void 0!==E?E:null,processingStageId:null!==(Ie=null===(W=t.oldTrackerBind)||void 0===W?void 0:W.processingStageId)&&void 0!==Ie?Ie:null,manualCloseStageId:null!==(nt=null===(it=t.oldTrackerBind)||void 0===it?void 0:it.manualCloseStageId)&&void 0!==nt?nt:null,autoCloseStageId:null!==(Yt=null===(Kt=t.oldTrackerBind)||void 0===Kt?void 0:Kt.autoCloseStageId)&&void 0!==Yt?Yt:null}),this.oldTrackerIntegrationForm.controls.fieldDataBinds.clear(),null===(Qt=t.oldTrackerBind)||void 0===Qt||Qt.fieldDataBinds.forEach(_n=>this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(new p.cw({type:new p.NI(_n.type),fieldDataBindId:new p.NI(_n.fieldDataBindId),fieldItemId:new p.NI(_n.fieldItemId),streetFieldId:new p.NI(_n.streetFieldId),houseFieldId:new p.NI(_n.houseFieldId),apartmentFieldId:new p.NI(_n.apartmentFieldId),entranceFieldId:new p.NI(_n.entranceFieldId),floorFieldId:new p.NI(_n.floorFieldId),adSourceFieldId:new p.NI(_n.adSourceFieldId),connectionServicesInnerFieldId:new p.NI(_n.connectionServicesInnerFieldId),ctFieldDataBind:new p.NI(_n.ctFieldDataBind),dateFieldDataBind:new p.NI(_n.dateFieldDataBind),dateTimeFieldDataBind:new p.NI(_n.dateTimeFieldDataBind),defaultFieldId:new p.NI(_n.defaultFieldId),hardAssignTimeFieldId:new p.NI(_n.hardAssignTimeFieldId),hardAssignNamesFieldId:new p.NI(_n.hardAssignNamesFieldId),simpleAssignFieldId:new p.NI(_n.simpleAssignFieldId),textFieldId:new p.NI(_n.textFieldId),lastNameFieldId:new p.NI(_n.lastNameFieldId),firstNameFieldId:new p.NI(_n.firstNameFieldId),patronymicFieldId:new p.NI(_n.patronymicFieldId),backupFieldId:new p.NI(_n.backupFieldId),passportSeriesFieldId:new p.NI(_n.passportSeriesFieldId),passportNumberFieldId:new p.NI(_n.passportNumberFieldId),passportIssuedByFieldId:new p.NI(_n.passportIssuedByFieldId),passportIssuedDateFieldId:new p.NI(_n.passportIssuedDateFieldId),registrationAddressFieldId:new p.NI(_n.registrationAddressFieldId)})))},100)}openTaskTypeDirectoriesDialog(t){var o;this.taskTypeDirectoriesDialogVisible=!0,this.selectedStageForDirectoriesSetup=t,this.taskTypeDirectoriesFormArray.clear(),null===(o=t.directories)||void 0===o||o.sort((r,g)=>{var E,W;return(null!==(E=r.orderIndex)&&void 0!==E?E:0)-(null!==(W=g.orderIndex)&&void 0!==W?W:0)}).forEach((r,g)=>{var E;this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(r.taskTypeDirectoryId,r.name,r.description,null!==(E=r.orderIndex)&&void 0!==E?E:g))}),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}saveTaskTypeDirectories(){this.selectedStageForDirectoriesSetup&&this.taskTypeDirectoriesFormArray.valid&&(this.selectedStageForDirectoriesSetup.directories=this.taskTypeDirectoriesFormArray.controls.map(({value:t})=>("string"==typeof t.taskTypeDirectoryId&&(t.taskTypeDirectoryId=null),t)),this.taskTypeDirectoriesDialogVisible=!1)}appendBindToIntegration(){this.selectedDataBind&&(this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(this.selectedDataBind()),this.appendBindToIntegrationDialogVisible=!1)}openAppendBindToIntegrationDialog(){this.appendBindToIntegrationDialogVisible=!0}saveOldTrackerIntegration(){this.selectedStageForIntegration&&(this.selectedStageForIntegration.oldTrackerBind=this.oldTrackerIntegrationForm.value)}removeBind(t){this.oldTrackerIntegrationForm.controls.fieldDataBinds.removeAt(this.oldTrackerIntegrationForm.controls.fieldDataBinds.controls.indexOf(t))}openAppendDocumentDialog(){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="new"}openEditDocumentDialog(t){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="edit",this.documentDialogForm.patchValue(t)}clearDocumentDialogForm(){this.documentDialogForm.reset({temporalId:(0,kn.Z)(),documentTemplateId:null,name:"",type:null,addressFieldId:null,regionOfBirthFieldId:null,cityOfBirthFieldId:null,dateOfBirthFieldId:null,fullNameFieldId:null,loginFieldId:null,passportDetailsFieldId:null,passwordFieldId:null,phoneFieldId:null,tariffFieldId:null})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(d.gz),e.Y36(Ct.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wireframe-constructor-page"]],viewQuery:function(t,o){if(1&t&&e.Gf(pi,5),2&t){let r;e.iGM(r=e.CRH())&&(o.stepsContextMenuElem=r.first)}},decls:50,vars:30,consts:[["appExtendPageHeight","",1,"flex","flex-column","align-items-center","gap-4",3,"ngSwitch"],[4,"ngSwitchCase"],["contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","modal","dismissableMask","header","visibleChange"],["pTemplate","content",3,"formGroup"],["createDocumentButtonTemplate",""],["editDocumentButtonTemplate",""],["connectionAgreementFieldsTemplate",""],[3,"model","popup"],["stepsContextMenuElem",""],["header","\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",3,"visible","modal","dismissableMask","visibleChange"],["pTemplate","content"],["listElementTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-2","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0437\u0430\u0434\u0430\u0447","appendTo","body",3,"visible","modal","dismissableMask","autoZIndex","visibleChange"],["taskTypeDirectoryTemplate",""],["appendDirectoryButtonTemplate",""],["removeDirectoryButtonTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"visible","modal","dismissableMask","visibleChange"],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",3,"visible","modal","dismissableMask","visibleChange"],["fieldSelectorTemp",""],["removeButtonTemp",""],["simpleTextBindTemp",""],["addressBindTemp",""],["passportBindTemp",""],["fullNameBindTemp",""],["adSourceBindTemp",""],["connectionTypeBindTemp",""],["dateBindTemp",""],["dateTimeBindTemp",""],[1,"flexed","column","gap10","panel","p10"],[1,"flexed","gap5"],["label","\u0412\u044b\u0439\u0442\u0438","icon","mdi-close","styleClass","p-button-secondary p-button-text",3,"onClick"],["label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0430\u0434\u0438\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","icon","mdi-navigate_next",3,"disabled","onClick"],[1,"gap10","flexed","hend"],[1,"input-label-wrapper"],["pInputText","",3,"ngModel","disabled","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"flexed"],[1,"input-label-wrapper","stretched"],["pInputTextarea","",3,"ngModel","autoResize","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0430\u043f","icon","mdi-add","styleClass","p-button-success",1,"self-center",3,"onClick"],[1,"flex","justify-content-around","align-items-center","gap-3"],["class","flex flex-column align-items-center justify-content-center gap-1 relative p-2 border-round-lg overflow-hidden",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","align-items-center","flex-grow-1","bg-white"],[1,"w-max","border-round-lg","shadow-5"],[1,"flex","p-3","gap-2","align-items-center","border-bottom-1","border-bluegray-100"],[1,"font-bold","text-bluegray-400"],[1,"font-bold","text-bluegray-400",3,"caption","captionChange","onStopEditing"],[1,"flex","flex-column","px-3","pt-1","pb-3"],["class","flex gap-2 align-items-center relative py-2","pDraggable","field","dragHandle",".dg","dragEffect","linkMove",3,"ngClass","onDragStart","onDrag","onDragEnd",4,"ngFor","ngForOf"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435","model","p-button-success",1,"pt-2",3,"onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","gap-1","relative","p-2","border-round-lg","overflow-hidden",3,"ngClass","click"],[1,"flex","align-items-center","justify-content-center","border-circle","border-1","border-bluegray-100","text-lg","w-2rem","h-2rem"],[1,"flex","align-items-center","gap-1"],["class","mdi-close text-red-400 hover:text-red-600 cursor-pointer text-lg z-1",3,"click",4,"ngIf"],["pDroppable","field",1,"opacity-25","absolute","top-0","left-0","w-full","h-full",3,"ngClass","onDragEnter","onDragLeave","onDrop"],[1,"mdi-close","text-red-400","hover:text-red-600","cursor-pointer","text-lg","z-1",3,"click"],["pDraggable","field","dragHandle",".dg","dragEffect","linkMove",1,"flex","gap-2","align-items-center","relative","py-2",3,"ngClass","onDragStart","onDrag","onDragEnd"],["class","absolute w-full top-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],[1,"mdi-drag_indicator","text-4xl","text-bluegray-400","mt-4","dg","cursor-move"],[1,"stretched",3,"field","isExample"],["styleClass","p-button-text p-button-danger mt-4","icon","mdi-delete",3,"click"],["class","absolute w-full bottom-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],["pDroppable","field",1,"absolute","w-full","top-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],["pDroppable","field",1,"absolute","w-full","bottom-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],[1,"flex","flex-column","gap-3"],[1,"gap15","flexed","hend","panel","p10"],["icon","arrow_back_ios","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","navigate_next","label","\u0414\u0430\u043b\u0435\u0435: \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f",3,"disabled","onClick"],[1,"flex","flex-column","flex-grow-1","align-items-center"],["header","\u0422\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447\u0438",1,"stage-list-panel"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f","model","p-button-success",3,"onClick"],[3,"dragdrop","value","onReorder"],["pTemplate","item"],[1,"flex","align-items-center","gap-2","text-bluegray-500"],[1,"material-icons-round","drag-icon"],[1,"caption","size-small","f-color-500"],[1,"inline-input",3,"ngModel","mousedown","focus","ngModelChange"],["taskTypeInput",""],[1,"stretched"],["icon","mdi-folder","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438",3,"onClick","mousedown"],["icon","mdi-link","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"onClick","mousedown"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-text","pTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick","mousedown"],[1,"flexed","column","gap20","panel","p10"],[1,"gap15","flexed","hend","vend"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick",4,"ngIf"],[1,"flex","flex-column","p-3","gap-2"],[1,"header400"],[1,"flex","flex-column","overflow-hidden","gap-2"],["dataKey","temporalId",3,"options","onClick"],["pTemplate","header"],["pTemplate","empty"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick"],["icon","mdi-add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"flex","justify-content-between","align-items-center","w-full"],["icon","mdi-delete","styleClass","p-button-icon p-button-text p-button-danger",3,"mousedown","onClick"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","formControlName","type","appendTo","body",3,"options","disabled"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-30rem","h-20rem","flex","flex-column","align-items-center","justify-content-center","text-3xl","text-bluegray-300","font-bold"],[1,"mds-check_circle"],[4,"ngIf","ngIfThen","ngIfElse"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],["label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],[1,"flex","flex-column","gap-3","px-3",3,"formGroup"],[1,"flex","gap-3"],["appendTo","body","formControlName","loginFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passwordFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","fullNameFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","dateOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","regionOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","cityOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passportDetailsFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","addressFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","phoneFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","tariffFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flexed","column","p10","gap10"],["appendTo","body","styleClass","full-width",3,"ngModel","options","ngModelChange"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["class","flexed p8 hcenter item-example",4,"ngSwitchCase"],[1,"flexed","p8","hcenter","item-example"],["classes","caption",3,"fields","index","selectView"],[3,"size"],[1,"caption"],[1,"flexed","column","gap5"],["classes","caption size-small wt-bold f-color-500",3,"fields","index","selectView"],[1,"flexed","gap5","hcenter"],["classes","caption size-small",3,"fields","index","selectView"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 text-2xl w-full h-full p-8",4,"ngIf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"disabled","onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","text-2xl","w-full","h-full","p-8"],[1,"mds-folder_open"],[1,"mb-3"],[4,"ngTemplateOutlet"],[3,"value","dragdrop","trackBy","listStyle","onReorder"],[1,"flex","flex-column","gap-2",3,"formGroup"],[1,"flex","flex","gap-2","align-items-end"],["type","text","pInputText","","formControlName","name",3,"size"],["pInputTextarea","","formControlName","description",3,"autoResize","rows","cols"],["icon","mdi-add","styleClass","p-button-success p-button-outlined","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"onClick","mousedown"],["formControlName","classId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","initialStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","processingStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","manualCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","autoCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],[1,"flex","flex-column","gap-2","px-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435","styleClass","p-button-success p-button-outlined","icon","mdi-add",1,"align-self-center",3,"onClick"],[3,"ngSwitch",4,"ngFor","ngForOf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"onClick"],["appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],[1,"input-label-wrapper",3,"formGroup"],["appendTo","body","formControlName","fieldItemId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flex-grow-1"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined p-button-icon",1,"align-self-end",3,"onClick"],["class","flex gap-3",3,"formGroup",4,"ngIf"],[1,"flex","gap-3",3,"formGroup"],["appendTo","body","formControlName","textFieldId",3,"options"],["appendTo","body","formControlName","streetFieldId",3,"options"],["appendTo","body","formControlName","houseFieldId",3,"options"],["appendTo","body","formControlName","apartmentFieldId",3,"options"],["appendTo","body","formControlName","entranceFieldId",3,"options"],["appendTo","body","formControlName","floorFieldId",3,"options"],["appendTo","body","formControlName","backupFieldId",3,"options"],["appendTo","body","formControlName","passportSeriesFieldId",3,"options"],["appendTo","body","formControlName","passportNumberFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedByFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedDateFieldId",3,"options"],["appendTo","body","formControlName","registrationAddressFieldId",3,"options"],["appendTo","body","formControlName","lastNameFieldId",3,"options"],["appendTo","body","formControlName","firstNameFieldId",3,"options"],["appendTo","body","formControlName","patronymicFieldId",3,"options"],["appendTo","body","formControlName","adSourceFieldId",3,"options"],["appendTo","body","formControlName","connectionServicesInnerFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","ctFieldDataBind",3,"options"],["appendTo","body","formControlName","dateFieldDataBind",3,"options"],["appendTo","body","formControlName","dateTimeFieldDataBind",3,"options"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Di,31,13,"ng-container",1),e.YNc(2,Gr,11,5,"ng-container",1),e.YNc(3,Oi,20,7,"ng-container",1),e.qZA(),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(g){return o.documentDialogVisible=g}),e.YNc(5,Ta,9,8,"ng-template",3),e.qZA(),e.YNc(6,Ts,1,0,"ng-template",null,4,e.W1O),e.YNc(8,Js,1,0,"ng-template",null,5,e.W1O),e.YNc(10,aa,43,11,"ng-template",null,6,e.W1O),e._UZ(12,"p-menu",7,8),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(g){return o.chooseFieldTypeDialogVisible=g}),e.YNc(15,st,4,5,"ng-template",10),e.qZA(),e.YNc(16,Rn,4,4,"ng-template",null,11,e.W1O),e.TgZ(18,"p-dialog",12),e.NdJ("visibleChange",function(g){return o.taskTypeDirectoriesDialogVisible=g}),e.YNc(19,br,3,3,"ng-template",10),e.qZA(),e.YNc(20,Ms,11,9,"ng-template",null,13,e.W1O),e.YNc(22,zo,1,0,"ng-template",null,14,e.W1O),e.YNc(24,yr,1,0,"ng-template",null,15,e.W1O),e.TgZ(26,"p-dialog",16),e.NdJ("visibleChange",function(g){return o.oldTrackerIntegrationDialogVisible=g}),e.YNc(27,ar,7,7,"ng-template",3),e.qZA(),e.TgZ(28,"p-dialog",17),e.NdJ("visibleChange",function(g){return o.appendBindToIntegrationDialogVisible=g}),e.YNc(29,vt,2,2,"ng-template",10),e.qZA(),e.YNc(30,le,4,2,"ng-template",null,18,e.W1O),e.YNc(32,ge,2,0,"ng-template",null,19,e.W1O),e.YNc(34,pn,2,3,"ng-template",null,20,e.W1O),e.YNc(36,Jt,2,3,"ng-template",null,21,e.W1O),e.YNc(38,Nt,2,3,"ng-template",null,22,e.W1O),e.YNc(40,Xn,2,3,"ng-template",null,23,e.W1O),e.YNc(42,Xo,2,3,"ng-template",null,24,e.W1O),e.YNc(44,Zo,2,3,"ng-template",null,25,e.W1O),e.YNc(46,Qs,2,3,"ng-template",null,26,e.W1O),e.YNc(48,Pi,2,3,"ng-template",null,27,e.W1O)),2&t&&(e.Udp("padding-bottom","2rem"),e.Q6J("ngSwitch",o.constructStage),e.xp6(1),e.Q6J("ngSwitchCase","FIELDS"),e.xp6(1),e.Q6J("ngSwitchCase","STAGES"),e.xp6(1),e.Q6J("ngSwitchCase","VIEW"),e.xp6(1),e.Q6J("visible",o.documentDialogVisible)("modal",!0)("dismissableMask",!0)("header",o.documentDialogHeader),e.xp6(1),e.Q6J("formGroup",o.documentDialogForm),e.xp6(7),e.Q6J("model",o.stepsContextMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(29,eo)),e.Q6J("visible",o.chooseFieldTypeDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(4),e.Q6J("visible",o.taskTypeDirectoriesDialogVisible)("modal",!0)("dismissableMask",!0)("autoZIndex",!1),e.xp6(8),e.Q6J("visible",o.oldTrackerIntegrationDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",o.oldTrackerIntegrationForm),e.xp6(1),e.Q6J("visible",o.appendBindToIntegrationDialogVisible)("modal",!0)("dismissableMask",!0))},styles:[".item-example[_ngcontent-%COMP%]{box-shadow:0 0 2px #0003,0 .5rem 1rem #0000001a}.step-enumerator-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:min-content;min-width:40rem}.stage-list-panel[_ngcontent-%COMP%]{min-width:30rem}.inline-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;color:var(--tc-600);transition:color .2s ease-in-out}.inline-input[_ngcontent-%COMP%]:hover{color:var(--tc-900)}.drag-icon[_ngcontent-%COMP%]{color:var(--tc-300)}"]}),n})();var ko=C(1884);function Ir(n,i){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3," \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 "),e.qZA()())}function Io(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"app-avatar",26),e.TgZ(2,"div",13)(3,"span",27),e._uU(4),e.qZA(),e.TgZ(5,"div",28)(6,"span",29),e._uU(7),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.qZA()()(),e._UZ(10,"div",30),e.TgZ(11,"p-button",31),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.openEmployeeEditor(g.login))}),e.qZA(),e.TgZ(12,"p-button",32),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.employeeDeleteConfirm(g))}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(2);let r,g,E;e.xp6(1),e.Q6J("deleted",null!==(r=t.deleted)&&void 0!==r&&r)("name",t.fullName)("size",2.5)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",null==t.department?null:t.department.name," "),e.xp6(2),e.hij(" ",null==t.position?null:t.position.name," "),e.xp6(2),e.Q6J("disabled",null!==(g=t.deleted)&&void 0!==g&&g),e.xp6(1),e.Q6J("disabled",null!==(E=t.deleted)&&void 0!==E&&E)("loading",!!t.login&&o.isBeingDeleteEmployee[t.login])}}const ca=function(){return{lineHeight:"0"}};function $a(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Ir,4,0,"ng-template",12),e.TgZ(2,"div",13)(3,"div",14)(4,"span",15),e._UZ(5,"i",16)(6,"input",17),e.qZA(),e.TgZ(7,"span",18),e._UZ(8,"p-inputSwitch",19),e._uU(9," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435? "),e.qZA(),e.TgZ(10,"span")(11,"app-button",20),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openEmployeeCreator())}),e.qZA()()(),e.TgZ(12,"div",21),e.YNc(13,Io,13,10,"div",22),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.employeeFiltrationForm),e.xp6(5),e.Q6J("falseValue",!1)("ngStyle",e.DdM(6,ca))("trueValue",!0),e.xp6(5),e.Q6J("ngForOf",t.employees)("ngForTrackBy",t.trackByEmployee)}}function Lo(n,i){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",37),e.TgZ(2,"span"),e._uU(3," \u041e\u0442\u0434\u0435\u043b\u044b "),e.qZA()())}const Rr=function(){return{maxWidth:"20rem",marginLeft:".5rem"}};function Gs(n,i){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,Rr)),e.xp6(1),e.hij(" ",t.description," ")}}function Ma(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,Gs,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);let W;return e.KtG(E.openDepartmentEditor(g.name,null!==(W=g.description)&&void 0!==W?W:"",g.departmentId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.departmentDeleteConfirm(g))}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(2);let r;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(r=t.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("loading",!!t.departmentId&&o.isBeginDeleteDepartment[t.departmentId])}}function Ja(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Lo,4,0,"ng-template",12),e.TgZ(2,"div",33)(3,"div")(4,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDepartmentCreator())}),e.qZA()(),e.TgZ(5,"div",35),e.YNc(6,Ma,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.departments)("ngForTrackBy",t.trackByDepartment)}}function qa(n,i){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",45),e.TgZ(2,"span"),e._uU(3," \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "),e.qZA()())}function $l(n,i){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,Rr)),e.xp6(1),e.hij(" ",t.description," ")}}function Tr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,$l,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);let W;return e.KtG(E.openPositionEditor(g.name,null!==(W=g.description)&&void 0!==W?W:"",null!==(W=g.access)&&void 0!==W?W:0,g.positionId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.positionDeleteConfirm(g))}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(2);let r;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(r=t.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("loading",!!t.positionId&&o.isBeginDeletePosition[t.positionId])}}function Xa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,qa,4,0,"ng-template",12),e.TgZ(2,"div",44)(3,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openPositionCreator())}),e.qZA(),e.TgZ(4,"div",35),e.YNc(5,Tr,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.positions)("ngForTrackBy",t.trackByPosition)}}function el(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.departmentCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginCreatingDepartment)}}function tl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.departmentEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginEditingDepartment)}}function Oa(n,i){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",o.positionForm.controls.access)}}function kl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.checkAllAccessPosition(r))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,Oa,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.positionCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginCreatingPosition)}}function Dc(n,i){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",o.positionForm.controls.access)}}function du(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.checkAllAccessPosition(r))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,Dc,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.positionEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginEditingPosition)}}function Ro(n,i){1&n&&e.GkF(0)}function pu(n,i){if(1&n){const t=e.EpF();e.YNc(0,Ro,1,0,"ng-container",58),e.TgZ(1,"app-button",59),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.employeeCreate())}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(19);e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingCreatingEmployee)}}function Gu(n,i){1&n&&e.GkF(0)}function Ud(n,i){if(1&n){const t=e.EpF();e.YNc(0,Gu,1,0,"ng-container",58),e.TgZ(1,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.employeeEdit())}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(19);e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingEditingEmployee)}}function hu(n,i){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function ql(n,i){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function Hd(n,i){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Qa(n,i){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function hl(n,i){if(1&n&&(e.TgZ(0,"span",61)(1,"label"),e._uU(2,"ID \u0420\u0430\u0431\u043e\u0447\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b"),e.qZA(),e._UZ(3,"input",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Wu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",82),e._UZ(2,"input",83),e.qZA(),e.TgZ(3,"app-label",84),e._UZ(4,"input",85),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Vd(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",95),e._UZ(2,"input",96),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Ws(n,i){if(1&n&&e._UZ(0,"p-checkbox",98),2&n){const t=i.$implicit,o=e.oxw(3);e.Q6J("label",t.name)("value",t.value)("disabled",o.isBeingCreatingEmployee||o.isBeingEditingEmployee)("formControl",o.employeeForm.controls.access)}}function Mc(n,i){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Ws,1,4,"p-checkbox",97),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}const gl=function(){return{standalone:!0}};function Vp(n,i){if(1&n&&e._UZ(0,"p-checkbox",100),2&n){const t=i.$implicit,o=e.oxw(3);e.Q6J("disabled",o.isBeingCreatingEmployee||o.isBeingEditingEmployee||!0)("label",t.name)("ngModelOptions",e.DdM(5,gl))("ngModel",o.accessOfSelectedPosition)("value",t.value)}}function Yu(n,i){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Vp,1,6,"p-checkbox",99),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}function jr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",60)(2,"span",61)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",62),e.qZA(),e.TgZ(6,"span",61)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",63),e.qZA(),e.TgZ(10,"span",61)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",64),e.qZA()(),e.TgZ(14,"div",60)(15,"span",61)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",65),e.qZA(),e.TgZ(19,"span",61)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",66),e.qZA()(),e.TgZ(23,"div",60)(24,"span",61)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",67),e.qZA(),e.TgZ(28,"span",61)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",68),e.qZA()(),e.TgZ(32,"div",60)(33,"span",47)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",69),e.YNc(37,hu,2,2,"ng-template",70),e.YNc(38,ql,2,1,"ng-template",71),e.qZA()(),e.TgZ(39,"span",47)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",72),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.positionSelecting(r))}),e.YNc(43,Hd,2,2,"ng-template",70),e.YNc(44,Qa,2,1,"ng-template",71),e.qZA()(),e.TgZ(45,"span",73)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",74),e.qZA(),e.YNc(49,hl,4,1,"span",75),e.qZA(),e.TgZ(50,"p-panel",76)(51,"div",77)(52,"div",78)(53,"span",79),e._uU(54,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0442 \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e.TgZ(55,"div",80),e.YNc(56,Wu,5,2,"ng-container",3),e.YNc(57,Vd,3,1,"ng-container",3),e.qZA()(),e.TgZ(58,"div",78)(59,"span",79),e._uU(60,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1785"),e.qZA(),e.TgZ(61,"div",81)(62,"app-label",82),e._UZ(63,"input",83),e.qZA(),e.TgZ(64,"app-label",84),e._UZ(65,"input",85),e.qZA()()(),e.TgZ(66,"div",78)(67,"span",79),e._uU(68,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 781"),e.qZA(),e.TgZ(69,"div",86)(70,"app-label",82),e._UZ(71,"input",83),e.qZA(),e.TgZ(72,"app-label",84),e._UZ(73,"input",85),e.qZA()()(),e.TgZ(74,"div",78)(75,"span",79),e._uU(76,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1783"),e.qZA(),e.TgZ(77,"div",87)(78,"app-label",82),e._UZ(79,"input",83),e.qZA(),e.TgZ(80,"app-label",84),e._UZ(81,"input",85),e.qZA()()()()(),e.TgZ(82,"p-panel",88)(83,"div",89)(84,"div",60)(85,"p-toggleButton",90),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.checkAllAccessEmployee(r))}),e.qZA(),e.TgZ(86,"p-toggleButton",91),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.accessOverrideChange(r))})("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.isAccessOverride=r)}),e.qZA()(),e.YNc(87,Mc,2,2,"div",92),e.YNc(88,Yu,2,2,"div",92),e.qZA()()()}if(2&n){const t=e.oxw();e.Udp("max-width","55rem"),e.Q6J("formGroup",t.employeeForm),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||t.showEditEmployeeDialog),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("options",t.departments)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("options",t.positions)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(37,ca))("trueValue",!0)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(6),e.Q6J("ngIf",!t.employeeForm.value.offsite),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(38,gl))("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride)}}let lr=(()=>{class n{constructor(t,o,r,g){this.api=t,this.confirm=o,this.personality=r,this.rt=g,this.AccessFlag=Li.j,this.employees=[],this.departments=[],this.positions=[],this.showCreateDepartmentDialog=!1,this.showEditDepartmentDialog=!1,this.isBeginCreatingDepartment=!1,this.isBeginEditingDepartment=!1,this.isBeginDeleteDepartment={},this.departmentForm=new p.cw({id:new p.NI(null),name:new p.NI("",p.kI.required),description:new p.NI("")}),this.positionForm=new p.cw({id:new p.NI(null),name:new p.NI("",p.kI.required),description:new p.NI(""),access:new p.NI([])}),this.showCreatePositionDialog=!1,this.showEditPositionDialog=!1,this.isBeginCreatingPosition=!1,this.isBeginEditingPosition=!1,this.isBeginDeletePosition={},this.showCreateEmployeeDialog=!1,this.showEditEmployeeDialog=!1,this.employeeFiltrationForm=new p.cw({query:new p.NI(""),showDeleted:new p.NI(!1)}),this.employeeForm=new p.cw({lastName:new p.NI(""),firstName:new p.NI("",p.kI.required),secondName:new p.NI(""),internalPhoneNumber:new p.NI(null),access:new p.NI([]),login:new p.NI("",[p.kI.required,p.kI.minLength(4)]),password:new p.NI("",p.kI.required),telegramUserId:new p.NI(""),telegramGroupChatId:new p.NI(null),department:new p.NI(null,p.kI.required),position:new p.NI(null,p.kI.required),offsite:new p.NI(!1),oldTrackerCredentials:new p.cw({username:new p.NI(""),password:new p.NI(""),installerId:new p.NI("")}),base1785Credentials:new p.cw({username:new p.NI(""),password:new p.NI("")}),base781Credentials:new p.cw({username:new p.NI(""),password:new p.NI("")}),base1783Credentials:new p.cw({username:new p.NI(""),password:new p.NI("")})}),this.isAccessOverride=!1,this.accessOfSelectedPosition=[],this.isBeingDeleteEmployee={},this.isBeingCreatingEmployee=!1,this.isBeingEditingEmployee=!1,this.subscriptions=new x.xf}trackByEmployee(t,o){return o.login+o.fullName+JSON.stringify(o.position)+JSON.stringify(o.department)+o.deleted+o.avatar+o.deleted}trackByPosition(t,o){return o.positionId+o.name+o.description+o.deleted}trackByDepartment(t,o){return o.departmentId+o.name+o.description+o.deleted}ngOnDestroy(){this.subscriptions.unsubscribeAll()}ngOnInit(){this.api.getEmployees(void 0,!1).subscribe(t=>this.employees=t),this.api.getDepartments().subscribe(t=>this.departments=t),this.api.getPositions().subscribe(t=>this.positions=t),this.subscriptions.addSubscription("empUpd",this.rt.employeeUpdated().subscribe(t=>{const o=this.employees.findIndex(r=>r.login===t.login);o>=0&&(this.employees[o]=t)})),this.subscriptions.addSubscription("empCr",this.rt.employeeCreated().subscribe(t=>{this.employees.push(t)})),this.subscriptions.addSubscription("empDel",this.rt.employeeDeleted().subscribe(t=>{const o=this.employees.findIndex(r=>r.login===t.login);o>=0&&this.employees.splice(o,1)})),this.subscriptions.addSubscription("depUpd",this.rt.departmentUpdated().subscribe(t=>{const o=this.departments.findIndex(r=>r.departmentId===t.departmentId);o>=0&&(this.departments[o]=t),this.employees.filter(r=>{var g;return(null===(g=r.department)||void 0===g?void 0:g.departmentId)===t.departmentId}).forEach(r=>{r.department=t})})),this.subscriptions.addSubscription("depCr",this.rt.departmentCreated().subscribe(t=>{this.departments.push(t)})),this.subscriptions.addSubscription("depDel",this.rt.departmentDeleted().subscribe(t=>{const o=this.departments.findIndex(r=>r.departmentId===t.departmentId);o>=0&&this.departments.splice(o,1)})),this.subscriptions.addSubscription("posUpd",this.rt.positionUpdated().subscribe(t=>{const o=this.positions.findIndex(r=>r.positionId===t.positionId);o>=0&&(this.positions[o]=t),this.employees.filter(r=>{var g;return(null===(g=r.position)||void 0===g?void 0:g.positionId)===t.positionId}).forEach(r=>{r.position=t})})),this.subscriptions.addSubscription("posCr",this.rt.positionCreated().subscribe(t=>{this.positions.push(t)})),this.subscriptions.addSubscription("posDel",this.rt.positionDeleted().subscribe(t=>{const o=this.positions.findIndex(r=>r.positionId===t.positionId);o>=0&&this.positions.splice(o,1)})),this.subscriptions.addSubscription("empSearch",this.employeeFiltrationForm.valueChanges.pipe((0,No.b)(1e3),(0,ko.x)()).subscribe(t=>{var o,r;this.employeeFiltrationForm.disable({emitEvent:!1}),this.api.getEmployees(null!==(o=t.query)&&void 0!==o?o:void 0,null!==(r=t.showDeleted)&&void 0!==r?r:void 0).subscribe({next:g=>{this.employees=g,this.employeeFiltrationForm.enable({emitEvent:!1})},error:()=>this.employeeFiltrationForm.enable({emitEvent:!1})})}))}departmentCreate(){this.isBeginCreatingDepartment=!0,this.api.createDepartment(this.departmentForm.getRawValue()).subscribe({complete:()=>{this.isBeginCreatingDepartment=!1,this.showCreateDepartmentDialog=!1},error:()=>{this.isBeginCreatingDepartment=!1}})}departmentDelete(t){"number"==typeof t&&(this.isBeginDeleteDepartment[t]=!0,this.api.deleteDepartment(t).subscribe({complete:()=>{delete this.isBeginDeleteDepartment[t]},error:()=>{delete this.isBeginDeleteDepartment[t]}}))}departmentDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b: "+t.name+"?",accept:()=>{this.departmentDelete(t.departmentId)}})}departmentEdit(){const t=this.departmentForm.value.id;"number"==typeof t&&(this.isBeginEditingDepartment=!0,this.api.editDepartment(this.departmentForm.getRawValue(),t).subscribe({complete:()=>{this.isBeginEditingDepartment=!1,this.showEditDepartmentDialog=!1},error:()=>{this.isBeginEditingDepartment=!1}}))}openDepartmentEditor(t,o,r){"number"==typeof r&&(this.showEditDepartmentDialog=!0,this.departmentForm.setValue({id:r,name:t,description:o}))}openDepartmentCreator(){this.showCreateDepartmentDialog=!0,this.departmentForm.reset()}openPositionCreator(){this.showCreatePositionDialog=!0,this.positionForm.reset()}openPositionEditor(t,o,r,g){"number"==typeof g&&(this.showEditPositionDialog=!0,this.positionForm.setValue({id:g,name:t,description:o,access:Li.j.read(r)}))}accessFlags(){return Li.j.flagList()}positionCreate(){var t,o;this.isBeginCreatingPosition=!0;const r={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(o=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((g,E)=>g+E,0))&&void 0!==o?o:0};this.api.createPosition(r).subscribe({complete:()=>{this.isBeginCreatingPosition=!1,this.showCreatePositionDialog=!1},error:()=>{this.isBeginCreatingPosition=!1}})}positionEdit(){var t,o;if("number"!=typeof this.positionForm.value.id)return;this.isBeginEditingPosition=!0;const r={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(o=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((g,E)=>g+E,0))&&void 0!==o?o:0};this.api.editPosition(r,this.positionForm.value.id).subscribe({complete:()=>{this.isBeginEditingPosition=!1,this.showEditPositionDialog=!1},error:()=>{this.isBeginEditingPosition=!1}})}positionDelete(t){"number"==typeof t&&(this.isBeginDeletePosition[t]=!0,this.api.deletePosition(t).subscribe({complete:()=>{delete this.isBeginDeletePosition[t]},error:()=>{delete this.isBeginDeletePosition[t]}}))}positionDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "+t.name+"?",accept:()=>{this.positionDelete(t.positionId)}})}openEmployeeCreator(){this.showCreateEmployeeDialog=!0,this.employeeForm.reset({login:"",password:"",access:[],department:null,position:null,secondName:"",firstName:"",lastName:"",internalPhoneNumber:"",telegramUserId:"",offsite:!1})}accessOverrideChange(t){t||this.employeeForm.patchValue({access:[]})}positionSelecting(t){const o=this.positions.find(r=>r.positionId===t.value);o&&o.access&&(this.accessOfSelectedPosition=Li.j.read(o.access))}checkAllAccessEmployee(t){const{checked:o}=t;this.employeeForm.patchValue(o?{access:Li.j.array()}:{access:[]})}checkAllAccessPosition(t){const{checked:o}=t;this.positionForm.patchValue(o?{access:Li.j.array()}:{access:[]})}employeeCreate(){const t=this.employeeForm.getRawValue();this.isBeingCreatingEmployee=!0;let o=0;Array.isArray(t.access)&&(o=t.access.reduce((r,g)=>r+g,0)),this.api.createEmployee(Object.assign(Object.assign({},t),{access:o})).subscribe({complete:()=>{this.isBeingCreatingEmployee=!1,this.showCreateEmployeeDialog=!1},error:()=>{this.isBeingCreatingEmployee=!1}})}employeeDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+t.login+"?",accept:()=>{this.employeeDelete(t.login)}})}employeeDelete(t){"string"==typeof t&&(this.isBeingDeleteEmployee[t]=!0,this.api.deleteEmployee(t).subscribe({complete:()=>{delete this.isBeingDeleteEmployee[t]},error:()=>{delete this.isBeingDeleteEmployee[t]}}))}employeeEdit(){const t=this.employeeForm.getRawValue();if("string"!=typeof t.login)return;this.isBeingEditingEmployee=!0;let o=0;Array.isArray(t.access)&&(o=t.access.reduce((r,g)=>r+g,0)),this.api.editEmployee(Object.assign(Object.assign({},t),{access:o}),t.login).subscribe({complete:()=>{this.isBeingEditingEmployee=!1,this.showEditEmployeeDialog=!1},error:()=>{this.isBeingEditingEmployee=!1}})}openEmployeeEditor(t){"string"==typeof t&&this.api.getEmployee(t).subscribe({next:o=>{var r,g,E,W,Ie,it,nt,Kt,Yt,Qt,_n,Ln,Bn,jn,Ii,to,Hi,Ao,ms,Us,Mo,kc;this.employeeForm.patchValue({login:o.login,password:"password",access:Li.j.read(null!==(r=o.access)&&void 0!==r?r:0),department:null===(g=o.department)||void 0===g?void 0:g.departmentId,position:null===(E=o.position)||void 0===E?void 0:E.positionId,secondName:o.secondName,firstName:o.firstName,lastName:o.lastName,internalPhoneNumber:o.internalPhoneNumber,telegramUserId:o.telegramUserId,telegramGroupChatId:o.telegramGroupChatId,offsite:o.offsite,oldTrackerCredentials:{username:null!==(Ie=null===(W=o.oldTrackerCredentials)||void 0===W?void 0:W.username)&&void 0!==Ie?Ie:"",password:null!==(nt=null===(it=o.oldTrackerCredentials)||void 0===it?void 0:it.password)&&void 0!==nt?nt:"",installerId:null!==(Yt=null===(Kt=o.oldTrackerCredentials)||void 0===Kt?void 0:Kt.installerId)&&void 0!==Yt?Yt:""},base1785Credentials:{username:null!==(_n=null===(Qt=o.base1785Credentials)||void 0===Qt?void 0:Qt.username)&&void 0!==_n?_n:"",password:null!==(Bn=null===(Ln=o.base1785Credentials)||void 0===Ln?void 0:Ln.password)&&void 0!==Bn?Bn:""},base781Credentials:{username:null!==(Ii=null===(jn=o.base781Credentials)||void 0===jn?void 0:jn.username)&&void 0!==Ii?Ii:"",password:null!==(Hi=null===(to=o.base781Credentials)||void 0===to?void 0:to.password)&&void 0!==Hi?Hi:""},base1783Credentials:{username:null!==(ms=null===(Ao=o.base1783Credentials)||void 0===Ao?void 0:Ao.username)&&void 0!==ms?ms:"",password:null!==(Mo=null===(Us=o.base1783Credentials)||void 0===Us?void 0:Us.password)&&void 0!==Mo?Mo:""}}),this.positionSelecting({value:null===(kc=o.position)||void 0===kc?void 0:kc.positionId}),this.showEditEmployeeDialog=!0},error:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(N.YP),e.Y36(Q.F),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:20,vars:29,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"stretched","panel","overflow"],[4,"ngIf"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["employeeFormTemplate",""],["pTemplate","header"],[1,"flexed","column"],[1,"flexed","gap10","vcenter","hcenter",3,"formGroup"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text"],[1,"caption","size-small","f-color-500","flexed","column","hcenter"],["formControlName","showDeleted",3,"falseValue","ngStyle","trueValue"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-text p-button-success",3,"onClick"],[1,"employee-list"],["class","employee-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","hcenter"],[1,"mdi-person"],[1,"employee-list-item"],[3,"deleted","name","size","src"],[1,"caption"],[1,"flexed","gap5","hcenter"],["appColorize",""],[1,"stretched"],["icon","mdi-edit","styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"disabled","onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flexed","column","gap10"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[1,"list-view"],["class","list-view-item bordered",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mdi-groups"],[1,"list-view-item","bordered"],[1,"flexed","column","gap5"],["appColorize","",1,"caption","size-small","f-color-500"],["class","caption size-small",3,"style",4,"ngIf"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"loading","onClick"],[1,"caption","size-small"],[1,"flexed","gap10","column"],[1,"mdi-badge"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText","","type","text"],["formControlName","description","pInputTextarea","",3,"autoResize","cols","rows"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"onChange"],[1,"flex","gap-3","flex-wrap","max-h-15rem","p-2","overflow-y-auto"],["name","access",3,"label","value","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","formControl"],[4,"ngTemplateOutlet"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","gap-3","align-items-center"],[1,"input-label-wrapper","full-width"],["appRegexPatternChecker","","patternRx","^[\u0410-\u044f]+$","formControlName","lastName","pInputText","","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","firstName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","secondName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","login","pInputText","","patternRx","^[\\w\\.]+$$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$$","type","password",3,"disabled"],["appRegexPatternChecker","","formControlName","internalPhoneNumber","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","telegramUserId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["formControlName","department","optionLabel","name","optionValue","departmentId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled"],["pTemplate","selectedItem"],["pTemplate","item"],["formControlName","position","optionLabel","name","optionValue","positionId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled","onChange"],[1,"input-label-wrapper","flexed","vcenter"],["formControlName","offsite",3,"falseValue","ngStyle","trueValue","disabled"],["class","input-label-wrapper full-width",4,"ngIf"],["header","\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",3,"toggleable","collapsed"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-400","font-bold"],["formGroupName","oldTrackerCredentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1785Credentials",1,"flex","gap-3","align-items-center"],["label","\u041b\u043e\u0433\u0438\u043d"],["appRegexPatternChecker","","formControlName","username","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["label","\u041f\u0430\u0440\u043e\u043b\u044c"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["formGroupName","base781Credentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1783Credentials",1,"flex","gap-3","align-items-center"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430",3,"toggleable","collapsed"],[1,"flex","gap-3","flex-column"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"disabled","onChange"],["offLabel","\u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c","onLabel","\u0418\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["class","flex gap-3 flex-wrap max-h-15rem p-2 overflow-y-auto",4,"ngIf"],["appColorize","",3,"colorString"],["appRegexPatternChecker","","formControlName","telegramGroupChatId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["label","ID \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0432 \u0442\u0440\u0435\u043a\u0435\u0440\u0435"],["appRegexPatternChecker","","formControlName","installerId","pInputText","","patternRx","^[\\d]+$","type","text",3,"disabled"],["name","access",3,"label","value","disabled","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","disabled","formControl"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value",4,"ngFor","ngForOf","ngForTrackBy"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p-tabView",2),e.YNc(3,$a,14,7,"p-tabPanel",3),e.YNc(4,Ja,7,2,"p-tabPanel",3),e.YNc(5,Xa,6,2,"p-tabPanel",3),e.qZA()()(),e.TgZ(6,"p-dialog",4),e.NdJ("visibleChange",function(g){return o.showCreateDepartmentDialog=g}),e.YNc(7,el,10,6,"ng-template",5),e.qZA(),e.TgZ(8,"p-dialog",6),e.NdJ("visibleChange",function(g){return o.showEditDepartmentDialog=g}),e.YNc(9,tl,10,6,"ng-template",5),e.qZA(),e.TgZ(10,"p-dialog",7),e.NdJ("visibleChange",function(g){return o.showCreatePositionDialog=g}),e.YNc(11,kl,14,10,"ng-template",5),e.qZA(),e.TgZ(12,"p-dialog",8),e.NdJ("visibleChange",function(g){return o.showEditPositionDialog=g}),e.YNc(13,du,14,10,"ng-template",5),e.qZA(),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(g){return o.showCreateEmployeeDialog=g}),e.YNc(15,pu,2,3,"ng-template",5),e.qZA(),e.TgZ(16,"p-dialog",10),e.NdJ("visibleChange",function(g){return o.showEditEmployeeDialog=g}),e.YNc(17,Ud,2,3,"ng-template",5),e.qZA(),e.YNc(18,jr,89,39,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(1),e.Udp("padding-bottom","2rem"),e.xp6(2),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.MANAGE_EMPLOYEES)),e.xp6(1),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.MANAGE_DEPARTMENTS)),e.xp6(1),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.MANAGE_POSITIONS)),e.xp6(1),e.Q6J("visible",o.showCreateDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",o.showEditDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",o.showCreatePositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",o.showEditPositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",o.showCreateEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",o.showEditEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1))},styles:[".employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.employee-list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:1rem;gap:1rem;align-items:center;transition:background-color .2s ease-out}.employee-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.department-menu[_ngcontent-%COMP%]{border-left:1px solid var(--bgc-300)}"]}),n})();var Ar=C(6451),Pa=C(5577),yo=C(4500);function ye(n,i){1&n&&e.GkF(0)}function Ae(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ye,1,0,"ng-container",11),e.BQk()),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t)}}function ue(n,i){1&n&&e.GkF(0)}function Le(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ue,1,0,"ng-container",11),e.BQk()),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t)}}function tt(n,i){1&n&&e.GkF(0)}function kt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,tt,1,0,"ng-container",11),e.BQk()),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t)}}function $t(n,i){1&n&&(e.TgZ(0,"span",12),e._uU(1," \u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 "),e.qZA())}function on(n,i){1&n&&e.GkF(0)}function An(n,i){if(1&n&&(e.ynx(0),e.YNc(1,on,1,0,"ng-container",11),e.BQk()),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t)}}function ni(n,i){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5),e._uU(2),e.qZA(),e.ynx(3),e.TgZ(4,"div",6)(5,"div",7),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(7,Ae,2,2,"ng-container",8),e.TgZ(8,"div",7),e._uU(9,"\u0422\u0438\u043f\u044b"),e.qZA(),e.YNc(10,Le,2,2,"ng-container",8),e.TgZ(11,"div",7),e._uU(12,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.YNc(13,kt,2,2,"ng-container",8),e.TgZ(14,"div",7),e._uU(15,"\u0417\u0430\u0434\u0430\u0447\u0438 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438"),e.qZA(),e.TgZ(16,"div",9),e.YNc(17,$t,2,0,"span",10),e.YNc(18,An,2,2,"ng-container",8),e.qZA()(),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.title," "),e.xp6(5),e.Q6J("ngForOf",t.statistic.taskCount),e.xp6(3),e.Q6J("ngForOf",t.statistic.taskCountByStage),e.xp6(3),e.Q6J("ngForOf",t.statistic.worksDone),e.xp6(4),e.Q6J("ngIf",0===t.statistic.taskCountByTags.length),e.xp6(1),e.Q6J("ngForOf",t.statistic.taskCountByTags)}}function vi(n,i){if(1&n&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&n){const t=i.label,o=i.value,r=i.lcolor,g=i.vcolor;e.xp6(1),e.Udp("color",r?r+" !important":null),e.xp6(1),e.Oqu(t),e.xp6(1),e.Udp("color",g?g+" !important":null),e.xp6(1),e.Oqu(o)}}function si(n,i){if(1&n&&(e.TgZ(0,"div",16)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&n){const t=i.label,o=i.value;e.Udp("background-color",i.color),e.xp6(2),e.Oqu(t),e.xp6(2),e.Oqu(o)}}function Vi(n,i){1&n&&e._UZ(0,"p-skeleton",17)}let so=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this.title="",this.subscriptions=new x.xf}get wireframe(){if(!this._wireframe)throw new Error("\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d");return this._wireframe}set wireframe(t){this._wireframe=t,this.title=t.name,this.subscriptions.addSubscription("upd",(0,Ar.T)(this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()).pipe((0,Ri.O)(null),(0,Pa.z)(()=>this.api.getWireframeDashboardStatistic(t.wireframeId))).subscribe(o=>{this.statistic=o}))}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard-task-statistic-panel"]],inputs:{wireframe:"wireframe"},decls:7,vars:2,consts:[["class","flex flex-column bg-white shadow-1 border-round-lg",4,"ngIf","ngIfElse"],["rowInfo",""],["tag",""],["loading",""],[1,"flex","flex-column","bg-white","shadow-1","border-round-lg"],[1,"flex","align-items-center","text-bluegray-400","text-xl","font-semibold","m-3"],[1,"flex","flex-column","gap-2","px-4","pb-4"],[1,"border-bottom-1","border-bluegray-100","mt-2","text-bluegray-600"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2"],["class","text-bluegray-300 text-lg font-semibold",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-300","text-lg","font-semibold"],[1,"flex","gap-2","align-items-center"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"text-bluegray-600"],[1,"flex","py-1","px-2","gap-2","align-items-center","border-round-3xl","text-xs","font-bold","text-white","w-fit","h-fit"],["height","27rem"]],template:function(t,o){if(1&t&&(e.YNc(0,ni,19,6,"div",0),e.YNc(1,vi,5,6,"ng-template",null,1,e.W1O),e.YNc(3,si,5,4,"ng-template",null,2,e.W1O),e.YNc(5,Vi,1,0,"ng-template",null,3,e.W1O)),2&t){const r=e.MAs(6);e.Q6J("ngIf",o.statistic)("ngIfElse",r)}},dependencies:[D.sg,D.O5,D.tP,yo.O]}),n})();function Ys(n,i){1&n&&e._UZ(0,"app-dashboard-task-statistic-panel",6),2&n&&e.Q6J("wireframe",i.$implicit)}function Kr(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ys,1,1,"app-dashboard-task-statistic-panel",5),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function ua(n,i){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"span",8),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447"),e.qZA()())}let $r=(()=>{class n{constructor(t){this.api=t,this.wireframes$=this.api.getWireframes()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:7,vars:4,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"grid","h-fit","w-full"],[4,"ngIf","ngIfElse"],["empty",""],["class","col-4",3,"wireframe",4,"ngFor","ngForOf"],[1,"col-4",3,"wireframe"],[1,"flex","flex-column","flex-grow-1","w-full","align-items-center","justify-content-center","p-5","text-bluegray-400","text-4xl","font-light"],[1,"mds-frame_source"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Kr,2,1,"ng-container",3),e.ALo(4,"async"),e.qZA()()(),e.YNc(5,ua,4,0,"ng-template",null,4,e.W1O)),2&t){const r=e.MAs(6);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,o.wireframes$))("ngIfElse",r)}},dependencies:[V,so,D.sg,D.O5,D.Ov]}),n})();var da=C(9751),Oc=C(515),nl=C(727),Pc=C(4482),La=C(5403),zp=C(8737),Jp=C(4986),zd=C(3269),Xl=C(9672);let Lc=(()=>{class n{constructor(t,o,r,g){this.api=t,this.rt=o,this.personality=r,this.taskCreatorService=g,this.items=[],this.AccessFlag=Li.j,this.fields=[{name:"\u0411\u0443\u043b\u0435\u0432\u043e",id:(0,kn.Z)(),type:Ce._r.BOOLEAN,orderPosition:1,listViewIndex:1},{name:"\u0418\u043d\u0442\u0435\u0433\u0435\u0440",id:(0,kn.Z)(),type:Ce._r.INTEGER,orderPosition:1,listViewIndex:1},{name:"\u0424\u043b\u043e\u0430\u0442",id:(0,kn.Z)(),type:Ce._r.FLOAT,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043a\u0441\u0442",id:(0,kn.Z)(),type:Ce._r.LARGE_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0421\u0442\u0440\u043e\u043a\u0430",id:(0,kn.Z)(),type:Ce._r.SMALL_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0410\u0434\u0440\u0435\u0441",id:(0,kn.Z)(),type:Ce._r.ADDRESS,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",id:(0,kn.Z)(),type:Ce._r.PHONE_ARRAY,orderPosition:1,listViewIndex:1}],this.ips$=function wr(n,i,t){if(null==i&&(i=n,n=0),i<=0)return Oc.E;const o=i+n;return new da.y(t?r=>{let g=n;return t.schedule(function(){g<o?(r.next(g++),this.schedule()):r.complete()})}:r=>{let g=n;for(;g<o&&!r.closed;)r.next(g++);r.complete()})}(1,150).pipe((0,ft.U)(E=>`10.163.35.${E}`),function ec(n,...i){var t,o;const r=null!==(t=(0,zd.yG)(i))&&void 0!==t?t:Jp.z,g=null!==(o=i[0])&&void 0!==o?o:null,E=i[1]||1/0;return(0,Pc.e)((W,Ie)=>{let it=[],nt=!1;const Kt=_n=>{const{buffer:Ln,subs:Bn}=_n;Bn.unsubscribe(),(0,zp.P)(it,_n),Ie.next(Ln),nt&&Yt()},Yt=()=>{if(it){const _n=new nl.w0;Ie.add(_n);const Bn={buffer:[],subs:_n};it.push(Bn),(0,Xl.f)(_n,r,()=>Kt(Bn),n)}};null!==g&&g>=0?(0,Xl.f)(Ie,r,Yt,g,!0):nt=!0,Yt();const Qt=new La.Q(Ie,_n=>{const Ln=it.slice();for(const Bn of Ln){const{buffer:jn}=Bn;jn.push(_n),E<=jn.length&&Kt(Bn)}},()=>{for(;null!=it&&it.length;)Ie.next(it.shift().buffer);null==Qt||Qt.unsubscribe(),Ie.complete(),Ie.unsubscribe()},void 0,()=>it=null);W.subscribe(Qt)})}(1e3)),this.form=new p.cw({}),this.employees$=this.api.getEmployees(),this.users=[],this.filterForm=new p.cw({mode:new p.NI("login"),query:new p.NI("")}),this.filterChange$=this.filterForm.valueChanges.pipe((0,No.b)(1e3),(0,ko.x)(),(0,F.w)(E=>{if(!E.query)return(0,Tn.of)([]);switch(E.mode){case"login":return this.api.getBillingUsersByLogin(E.query,!0);case"fio":return this.api.getBillingUsersByFio(E.query,!0);case"address":return this.api.getBillingUsersByAddress(E.query,!0)}return(0,Tn.of)([])})),this.filterModeItems=[{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"},{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"}],this.usersHandler={next:E=>{this.users=E}},this.ips=["10.163.35.26"],this.workPickerControl=new p.NI(null),this.unsub=!0,this.control=new p.NI([{equipment:{clientEquipmentId:2,name:"\u0420\u043e\u0443\u0442\u0435\u0440 5",description:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440",price:2e3,created:"2023-08-16T07:12:42.701+00:00",creator:{login:"admin",department:{departmentId:1,name:"\u0422\u041f",description:null,deleted:!1,created:"2023-05-02T13:35:15.746+00:00"},position:{positionId:1,name:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f",description:null,access:0,created:"2023-05-02T13:40:51.279+00:00",deleted:!1},avatar:"9599810d-5d86-4aba-b71b-83fa120ace9c.png",secondName:"\u0410\u043d\u0434\u0440\u0435\u0435\u0432\u0438\u0447",firstName:"\u041c\u0430\u043a\u0441\u0438\u043c",lastName:"\u0423\u0448\u0430\u043a\u043e\u0432",internalPhoneNumber:"",access:0,created:"2023-05-01T15:53:59.919+00:00",telegramUserId:"",offsite:!1,deleted:!1,status:"ONLINE",lastSeen:"2023-08-16T13:08:43.102+00:00",fullName:"\u041c\u0430\u043a\u0441\u0438\u043c \u0423\u0448\u0430\u043a\u043e\u0432"},editedBy:[],deleted:!1,lastEdit:null},count:1}]),this.ctrl$=this.control.valueChanges.pipe((0,an.d)(1)),this.value=new Date,this.testControl=new p.NI(null,R.d.taskInput(Ce._r.ADDRESS,"APARTMENT_ONLY")),this.sessionId=(0,kn.Z)(),this.telnetCon$=this.rt.remoteTelnetConnection("10.100.164.62",this.sessionId).pipe((0,ft.U)(E=>E.data))}telnetSendData(t){"\x7f"!==t?this.api.sendDataToTelnetSession(this.sessionId,t).subscribe():this.api.sendDataToTelnetSession(this.sessionId,"\b").subscribe()}ngOnInit(){for(let t=0;t<1e4;t++)this.generateRandomString();for(const t of this.fields)this.form.addControl(t.id,new p.NI(null));this.filterChange$.subscribe(this.usersHandler)}valueChange(t){}generateRandomString(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";const r=t.length;for(let g=0;g<5;g++)o+=t.charAt(Math.floor(Math.random()*r));this.items.push(o)}loadDocument(){}ngAfterContentInit(){}createTask(){this.api.convertBillingAddress("\u041a.\u041c 44-118 (4.7)").subscribe(t=>{this.taskCreatorService.wireframe(7,{login:"16111630",address:t})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(Q.F),e.Y36(T.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[["appExtendPageHeight","",1,"flex","flex-column","p-3","w-full","align-items-center","justify-content-center"],["pButton","","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-address-input-alt"),e.TgZ(2,"button",1),e.NdJ("click",function(){return o.createTask()}),e.qZA()())},styles:[".hovered[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .2s ease-in-out;cursor:pointer}.hovered[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();var tc,Ei,nc,ic,Ml,oc,Rc,sc,To=C(655),Nc={},rc=[],Jd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Er(n,i){for(var t in i)n[t]=i[t];return n}function il(n){var i=n.parentNode;i&&i.removeChild(n)}function un(n,i,t){var o,r,g,E={};for(g in i)"key"==g?o=i[g]:"ref"==g?r=i[g]:E[g]=i[g];if(arguments.length>2&&(E.children=arguments.length>3?tc.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(g in n.defaultProps)void 0===E[g]&&(E[g]=n.defaultProps[g]);return Ol(n,E,o,r,null)}function Ol(n,i,t,o,r){var g={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++nc:r};return null==r&&null!=Ei.vnode&&Ei.vnode(g),g}function Go(n){return n.children}function Pl(n,i,t){"-"===i[0]?n.setProperty(i,null==t?"":t):n[i]=null==t?"":"number"!=typeof t||Jd.test(i)?t:t+"px"}function Fc(n,i,t,o,r){var g;e:if("style"===i)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof o&&(n.style.cssText=o=""),o)for(i in o)t&&i in t||Pl(n.style,i,"");if(t)for(i in t)o&&t[i]===o[i]||Pl(n.style,i,t[i])}else if("o"===i[0]&&"n"===i[1])g=i!==(i=i.replace(/Capture$/,"")),i=i.toLowerCase()in n?i.toLowerCase().slice(2):i.slice(2),n.l||(n.l={}),n.l[i+g]=t,t?o||n.addEventListener(i,g?ju:Qp,g):n.removeEventListener(i,g?ju:Qp,g);else if("dangerouslySetInnerHTML"!==i){if(r)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==i&&"height"!==i&&"href"!==i&&"list"!==i&&"form"!==i&&"tabIndex"!==i&&"download"!==i&&i in n)try{n[i]=null==t?"":t;break e}catch(E){}"function"==typeof t||(null==t||!1===t&&-1==i.indexOf("-")?n.removeAttribute(i):n.setAttribute(i,t))}}function Qp(n){ic=!0;try{return this.l[n.type+!1](Ei.event?Ei.event(n):n)}finally{ic=!1}}function ju(n){ic=!0;try{return this.l[n.type+!0](Ei.event?Ei.event(n):n)}finally{ic=!1}}function pa(n,i){this.props=n,this.context=i}function ac(n,i){if(null==i)return n.__?ac(n.__,n.__.__k.indexOf(n)+1):null;for(var t;i<n.__k.length;i++)if(null!=(t=n.__k[i])&&null!=t.__e)return t.__e;return"function"==typeof n.type?ac(n):null}function Ku(n){var i,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,i=0;i<n.__k.length;i++)if(null!=(t=n.__k[i])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return Ku(n)}}function gu(n){ic?setTimeout(n):Rc(n)}function Bc(n){(!n.__d&&(n.__d=!0)&&Ml.push(n)&&!fl.__r++||oc!==Ei.debounceRendering)&&((oc=Ei.debounceRendering)||gu)(fl)}function fl(){var n,i,t,o,r,g,E,W;for(Ml.sort(function(Ie,it){return Ie.__v.__b-it.__v.__b});n=Ml.shift();)n.__d&&(i=Ml.length,o=void 0,r=void 0,E=(g=(t=n).__v).__e,(W=t.__P)&&(o=[],(r=Er({},g)).__v=g.__v+1,qu(W,g,r,t.__n,void 0!==W.ownerSVGElement,null!=g.__h?[E]:null,o,null==E?ac(g):E,g.__h),Gd(o,g),g.__e!=E&&Ku(g)),Ml.length>i&&Ml.sort(function(Ie,it){return Ie.__v.__b-it.__v.__b}));fl.__r=0}function lc(n,i,t,o,r,g,E,W,Ie,it){var nt,Kt,Yt,Qt,_n,Ln,Bn,jn=o&&o.__k||rc,Ii=jn.length;for(t.__k=[],nt=0;nt<i.length;nt++)if(null!=(Qt=t.__k[nt]=null==(Qt=i[nt])||"boolean"==typeof Qt?null:"string"==typeof Qt||"number"==typeof Qt||"bigint"==typeof Qt?Ol(null,Qt,null,null,Qt):Array.isArray(Qt)?Ol(Go,{children:Qt},null,null,null):Qt.__b>0?Ol(Qt.type,Qt.props,Qt.key,Qt.ref?Qt.ref:null,Qt.__v):Qt)){if(Qt.__=t,Qt.__b=t.__b+1,null===(Yt=jn[nt])||Yt&&Qt.key==Yt.key&&Qt.type===Yt.type)jn[nt]=void 0;else for(Kt=0;Kt<Ii;Kt++){if((Yt=jn[Kt])&&Qt.key==Yt.key&&Qt.type===Yt.type){jn[Kt]=void 0;break}Yt=null}qu(n,Qt,Yt=Yt||Nc,r,g,E,W,Ie,it),_n=Qt.__e,(Kt=Qt.ref)&&Yt.ref!=Kt&&(Bn||(Bn=[]),Yt.ref&&Bn.push(Yt.ref,null,Qt),Bn.push(Kt,Qt.__c||_n,Qt)),null!=_n?(null==Ln&&(Ln=_n),"function"==typeof Qt.type&&Qt.__k===Yt.__k?Qt.__d=Ie=$u(Qt,Ie,n):Ie=Qd(n,Qt,Yt,jn,_n,Ie),"function"==typeof t.type&&(t.__d=Ie)):Ie&&Yt.__e==Ie&&Ie.parentNode!=n&&(Ie=ac(Yt))}for(t.__e=Ln,nt=Ii;nt--;)null!=jn[nt]&&("function"==typeof t.type&&null!=jn[nt].__e&&jn[nt].__e==t.__d&&(t.__d=fu(o).nextSibling),mu(jn[nt],jn[nt]));if(Bn)for(nt=0;nt<Bn.length;nt++)Zc(Bn[nt],Bn[++nt],Bn[++nt])}function $u(n,i,t){for(var o,r=n.__k,g=0;r&&g<r.length;g++)(o=r[g])&&(o.__=n,i="function"==typeof o.type?$u(o,i,t):Qd(t,o,o,r,o.__e,i));return i}function Ga(n,i){return i=i||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){Ga(t,i)}):i.push(n)),i}function Qd(n,i,t,o,r,g){var E,W,Ie;if(void 0!==i.__d)E=i.__d,i.__d=void 0;else if(null==t||r!=g||null==r.parentNode)e:if(null==g||g.parentNode!==n)n.appendChild(r),E=null;else{for(W=g,Ie=0;(W=W.nextSibling)&&Ie<o.length;Ie+=1)if(W==r)break e;n.insertBefore(r,g),E=g}return void 0!==E?E:r.nextSibling}function fu(n){var i,t,o;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(i=n.__k.length-1;i>=0;i--)if((t=n.__k[i])&&(o=fu(t)))return o;return null}function qu(n,i,t,o,r,g,E,W,Ie){var it,nt,Kt,Yt,Qt,_n,Ln,Bn,jn,Ii,to,Hi,Ao,ms,Us,Mo=i.type;if(void 0!==i.constructor)return null;null!=t.__h&&(Ie=t.__h,W=i.__e=t.__e,i.__h=null,g=[W]),(it=Ei.__b)&&it(i);try{e:if("function"==typeof Mo){if(Bn=i.props,jn=(it=Mo.contextType)&&o[it.__c],Ii=it?jn?jn.props.value:it.__:o,t.__c?Ln=(nt=i.__c=t.__c).__=nt.__E:("prototype"in Mo&&Mo.prototype.render?i.__c=nt=new Mo(Bn,Ii):(i.__c=nt=new pa(Bn,Ii),nt.constructor=Mo,nt.render=_u),jn&&jn.sub(nt),nt.props=Bn,nt.state||(nt.state={}),nt.context=Ii,nt.__n=o,Kt=nt.__d=!0,nt.__h=[],nt._sb=[]),null==nt.__s&&(nt.__s=nt.state),null!=Mo.getDerivedStateFromProps&&(nt.__s==nt.state&&(nt.__s=Er({},nt.__s)),Er(nt.__s,Mo.getDerivedStateFromProps(Bn,nt.__s))),Yt=nt.props,Qt=nt.state,nt.__v=i,Kt)null==Mo.getDerivedStateFromProps&&null!=nt.componentWillMount&&nt.componentWillMount(),null!=nt.componentDidMount&&nt.__h.push(nt.componentDidMount);else{if(null==Mo.getDerivedStateFromProps&&Bn!==Yt&&null!=nt.componentWillReceiveProps&&nt.componentWillReceiveProps(Bn,Ii),!nt.__e&&null!=nt.shouldComponentUpdate&&!1===nt.shouldComponentUpdate(Bn,nt.__s,Ii)||i.__v===t.__v){for(i.__v!==t.__v&&(nt.props=Bn,nt.state=nt.__s,nt.__d=!1),i.__e=t.__e,i.__k=t.__k,i.__k.forEach(function(kc){kc&&(kc.__=i)}),to=0;to<nt._sb.length;to++)nt.__h.push(nt._sb[to]);nt._sb=[],nt.__h.length&&E.push(nt);break e}null!=nt.componentWillUpdate&&nt.componentWillUpdate(Bn,nt.__s,Ii),null!=nt.componentDidUpdate&&nt.__h.push(function(){nt.componentDidUpdate(Yt,Qt,_n)})}if(nt.context=Ii,nt.props=Bn,nt.__P=n,Hi=Ei.__r,Ao=0,"prototype"in Mo&&Mo.prototype.render){for(nt.state=nt.__s,nt.__d=!1,Hi&&Hi(i),it=nt.render(nt.props,nt.state,nt.context),ms=0;ms<nt._sb.length;ms++)nt.__h.push(nt._sb[ms]);nt._sb=[]}else do{nt.__d=!1,Hi&&Hi(i),it=nt.render(nt.props,nt.state,nt.context),nt.state=nt.__s}while(nt.__d&&++Ao<25);nt.state=nt.__s,null!=nt.getChildContext&&(o=Er(Er({},o),nt.getChildContext())),Kt||null==nt.getSnapshotBeforeUpdate||(_n=nt.getSnapshotBeforeUpdate(Yt,Qt)),Us=null!=it&&it.type===Go&&null==it.key?it.props.children:it,lc(n,Array.isArray(Us)?Us:[Us],i,t,o,r,g,E,W,Ie),nt.base=i.__e,i.__h=null,nt.__h.length&&E.push(nt),Ln&&(nt.__E=nt.__=null),nt.__e=!1}else null==g&&i.__v===t.__v?(i.__k=t.__k,i.__e=t.__e):i.__e=function Wd(n,i,t,o,r,g,E,W){var Ie,it,nt,Kt=t.props,Yt=i.props,Qt=i.type,_n=0;if("svg"===Qt&&(r=!0),null!=g)for(;_n<g.length;_n++)if((Ie=g[_n])&&"setAttribute"in Ie==!!Qt&&(Qt?Ie.localName===Qt:3===Ie.nodeType)){n=Ie,g[_n]=null;break}if(null==n){if(null===Qt)return document.createTextNode(Yt);n=r?document.createElementNS("http://www.w3.org/2000/svg",Qt):document.createElement(Qt,Yt.is&&Yt),g=null,W=!1}if(null===Qt)Kt===Yt||W&&n.data===Yt||(n.data=Yt);else{if(g=g&&tc.call(n.childNodes),it=(Kt=t.props||Nc).dangerouslySetInnerHTML,nt=Yt.dangerouslySetInnerHTML,!W){if(null!=g)for(Kt={},_n=0;_n<n.attributes.length;_n++)Kt[n.attributes[_n].name]=n.attributes[_n].value;(nt||it)&&(nt&&(it&&nt.__html==it.__html||nt.__html===n.innerHTML)||(n.innerHTML=nt&&nt.__html||""))}if(function qr(n,i,t,o,r){var g;for(g in t)"children"===g||"key"===g||g in i||Fc(n,g,null,t[g],o);for(g in i)r&&"function"!=typeof i[g]||"children"===g||"key"===g||"value"===g||"checked"===g||t[g]===i[g]||Fc(n,g,i[g],t[g],o)}(n,Yt,Kt,r,W),nt)i.__k=[];else if(_n=i.props.children,lc(n,Array.isArray(_n)?_n:[_n],i,t,o,r&&"foreignObject"!==Qt,g,E,g?g[0]:t.__k&&ac(t,0),W),null!=g)for(_n=g.length;_n--;)null!=g[_n]&&il(g[_n]);W||("value"in Yt&&void 0!==(_n=Yt.value)&&(_n!==n.value||"progress"===Qt&&!_n||"option"===Qt&&_n!==Kt.value)&&Fc(n,"value",_n,Kt.value,!1),"checked"in Yt&&void 0!==(_n=Yt.checked)&&_n!==n.checked&&Fc(n,"checked",_n,Kt.checked,!1))}return n}(t.__e,i,t,o,r,g,E,Ie);(it=Ei.diffed)&&it(i)}catch(kc){i.__v=null,(Ie||null!=g)&&(i.__e=W,i.__h=!!Ie,g[g.indexOf(W)]=null),Ei.__e(kc,i,t)}}function Gd(n,i){Ei.__c&&Ei.__c(i,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(o){o.call(t)})}catch(o){Ei.__e(o,t.__v)}})}function Zc(n,i,t){try{"function"==typeof n?n(i):n.current=i}catch(o){Ei.__e(o,t)}}function mu(n,i,t){var o,r;if(Ei.unmount&&Ei.unmount(n),(o=n.ref)&&(o.current&&o.current!==n.__e||Zc(o,null,i)),null!=(o=n.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(g){Ei.__e(g,i)}o.base=o.__P=null,n.__c=void 0}if(o=n.__k)for(r=0;r<o.length;r++)o[r]&&mu(o[r],i,t||"function"!=typeof n.type);t||null==n.__e||il(n.__e),n.__=n.__e=n.__d=void 0}function _u(n,i,t){return this.constructor(n,t)}function wa(n,i,t){var o,r,g;Ei.__&&Ei.__(n,i),r=(o="function"==typeof t)?null:t&&t.__k||i.__k,g=[],qu(i,n=(!o&&t||i).__k=un(Go,null,[n]),r||Nc,Nc,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?tc.call(i.childNodes):null,g,!o&&t?t:r?r.__e:i.firstChild,o),Gd(g,n)}tc=rc.slice,Ei={__e:function(n,i,t,o){for(var r,g,E;i=i.__;)if((r=i.__c)&&!r.__)try{if((g=r.constructor)&&null!=g.getDerivedStateFromError&&(r.setState(g.getDerivedStateFromError(n)),E=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(n,o||{}),E=r.__d),E)return r.__E=r}catch(W){n=W}throw n}},nc=0,ic=!1,pa.prototype.setState=function(n,i){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Er({},this.state),"function"==typeof n&&(n=n(Er({},t),this.props)),n&&Er(t,n),null!=n&&this.__v&&(i&&this._sb.push(i),Bc(this))},pa.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Bc(this))},pa.prototype.render=Go,Ml=[],Rc="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fl.__r=0,sc=0;var gs,Cu,vu,Xu=[],cc=[],uc=Ei.__b,Ea=Ei.__r,jd=Ei.diffed,Kd=Ei.__c,$d=Ei.unmount;function pc(){for(var n;n=Xu.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(hc),n.__H.__h.forEach(Uc),n.__H.__h=[]}catch(i){n.__H.__h=[],Ei.__e(i,n.__v)}}Ei.__b=function(n){gs=null,uc&&uc(n)},Ei.__r=function(n){Ea&&Ea(n);var i=(gs=n.__c).__H;i&&(Cu===gs?(i.__h=[],gs.__h=[],i.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=cc,t.__N=t.i=void 0})):(i.__h.forEach(hc),i.__h.forEach(Uc),i.__h=[])),Cu=gs},Ei.diffed=function(n){jd&&jd(n);var i=n.__c;i&&i.__H&&(i.__H.__h.length&&(1!==Xu.push(i)&&vu===Ei.requestAnimationFrame||((vu=Ei.requestAnimationFrame)||Wp)(pc)),i.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==cc&&(t.__=t.__V),t.i=void 0,t.__V=cc})),Cu=gs=null},Ei.__c=function(n,i){i.some(function(t){try{t.__h.forEach(hc),t.__h=t.__h.filter(function(o){return!o.__||Uc(o)})}catch(o){i.some(function(r){r.__h&&(r.__h=[])}),i=[],Ei.__e(o,t.__v)}}),Kd&&Kd(n,i)},Ei.unmount=function(n){$d&&$d(n);var i,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(o){try{hc(o)}catch(r){i=r}}),t.__H=void 0,i&&Ei.__e(i,t.__v))};var nd="function"==typeof requestAnimationFrame;function Wp(n){var i,t=function(){clearTimeout(o),nd&&cancelAnimationFrame(i),setTimeout(n)},o=setTimeout(t,100);nd&&(i=requestAnimationFrame(t))}function hc(n){var i=gs,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),gs=i}function Uc(n){var i=gs;n.__c=n.__(),gs=i}function Iu(n,i){for(var t in n)if("__source"!==t&&!(t in i))return!0;for(var o in i)if("__source"!==o&&n[o]!==i[o])return!0;return!1}function Tu(n){this.props=n}(Tu.prototype=new pa).isPureReactComponent=!0,Tu.prototype.shouldComponentUpdate=function(n,i){return Iu(this.props,n)||Iu(this.state,i)};var Hc=Ei.__b;Ei.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Hc&&Hc(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var Au=Ei.__e;Ei.__e=function(n,i,t,o){if(n.then)for(var r,g=i;g=g.__;)if((r=g.__c)&&r.__c)return null==i.__e&&(i.__e=t.__e,i.__k=t.__k),r.__c(n,i);Au(n,i,t,o)};var kr=Ei.unmount;function zc(n,i,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(o){"function"==typeof o.__c&&o.__c()}),n.__c.__H=null),null!=(n=function id(n,i){for(var t in i)n[t]=i[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=i),n.__c=null),n.__k=n.__k&&n.__k.map(function(o){return zc(o,i,t)})),n}function fc(n,i,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(o){return fc(o,i,t)}),n.__c&&n.__c.__P===i&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function _l(){this.__u=0,this.t=null,this.__b=null}function Yp(n){var i=n.__.__c;return i&&i.__a&&i.__a(n)}function he(){this.u=null,this.o=null}Ei.unmount=function(n){var i=n.__c;i&&i.__R&&i.__R(),i&&!0===n.__h&&(n.type=null),kr&&kr(n)},(_l.prototype=new pa).__c=function(n,i){var t=i.__c,o=this;null==o.t&&(o.t=[]),o.t.push(t);var r=Yp(o.__v),g=!1,E=function(){g||(g=!0,t.__R=null,r?r(W):W())};t.__R=E;var W=function(){if(!--o.__u){if(o.state.__a){var it=o.state.__a;o.__v.__k[0]=fc(it,it.__c.__P,it.__c.__O)}var nt;for(o.setState({__a:o.__b=null});nt=o.t.pop();)nt.forceUpdate()}},Ie=!0===i.__h;o.__u++||Ie||o.setState({__a:o.__b=o.__v.__k[0]}),n.then(E,E)},_l.prototype.componentWillUnmount=function(){this.t=[]},_l.prototype.render=function(n,i){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=zc(this.__b,t,o.__O=o.__P)}this.__b=null}var r=i.__a&&un(Go,null,n.fallback);return r&&(r.__h=null),[un(Go,null,i.__a?null:n.children),r]};var _t=function(n,i,t){if(++t[1]===t[0]&&n.o.delete(i),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function M(n){return this.getChildContext=function(){return n.context},n.children}function se(n){var i=this,t=n.i;i.componentWillUnmount=function(){wa(null,i.l),i.l=null,i.i=null},i.i&&i.i!==t&&i.componentWillUnmount(),n.__v?(i.l||(i.i=t,i.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(o){this.childNodes.push(o),i.i.appendChild(o)},insertBefore:function(o,r){this.childNodes.push(o),i.i.appendChild(o)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),i.i.removeChild(o)}}),wa(un(M,{context:i.context},n.__v),i.l)):i.l&&i.componentWillUnmount()}(he.prototype=new pa).__a=function(n){var i=this,t=Yp(i.__v),o=i.o.get(n);return o[0]++,function(r){var g=function(){i.props.revealOrder?(o.push(r),_t(i,n,o)):r()};t?t(g):g()}},he.prototype.render=function(n){this.u=null,this.o=new Map;var i=Ga(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&i.reverse();for(var t=i.length;t--;)this.o.set(i[t],this.u=[1,0,this.u]);return n.children},he.prototype.componentDidUpdate=he.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(i,t){_t(n,t,i)})};var Et="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ln=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Fn="undefined"!=typeof document,bi=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};pa.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(pa.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(i){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:i})}})});var Wo=Ei.event;function ha(){}function va(){return this.cancelBubble}function vl(){return this.defaultPrevented}Ei.event=function(n){return Wo&&(n=Wo(n)),n.persist=ha,n.isPropagationStopped=va,n.isDefaultPrevented=vl,n.nativeEvent=n};var ea={configurable:!0,get:function(){return this.class}},rl=Ei.vnode;Ei.vnode=function(n){var i=n.type,t=n.props,o=t;if("string"==typeof i){var r=-1===i.indexOf("-");for(var g in o={},t){var E=t[g];Fn&&"children"===g&&"noscript"===i||"value"===g&&"defaultValue"in t&&null==E||("defaultValue"===g&&"value"in t&&null==t.value?g="value":"download"===g&&!0===E?E="":/ondoubleclick/i.test(g)?g="ondblclick":/^onchange(textarea|input)/i.test(g+i)&&!bi(t.type)?g="oninput":/^onfocus$/i.test(g)?g="onfocusin":/^onblur$/i.test(g)?g="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(g)?g=g.toLowerCase():r&&ln.test(g)?g=g.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===E&&(E=void 0),/^oninput$/i.test(g)&&(g=g.toLowerCase(),o[g]&&(g="oninputCapture")),o[g]=E)}"select"==i&&o.multiple&&Array.isArray(o.value)&&(o.value=Ga(t.children).forEach(function(W){W.props.selected=-1!=o.value.indexOf(W.props.value)})),"select"==i&&null!=o.defaultValue&&(o.value=Ga(t.children).forEach(function(W){W.props.selected=o.multiple?-1!=o.defaultValue.indexOf(W.props.value):o.defaultValue==W.props.value})),n.props=o,t.class!=t.className&&(ea.enumerable="className"in t,null!=t.className&&(o.class=t.className),Object.defineProperty(o,"className",ea))}n.$$typeof=Et,rl&&rl(n)};var Fr=Ei.__r;Ei.__r=function(n){Fr&&Fr(n)};const al=[],Sa=new Map,qh=" fullcalendar styles ";function cd(n){al.push(n),Sa.forEach(i=>{ud(n,i)})}function Xh(n,i=n,t=i.firstChild){if(!Sa.has(n)){const o=document.createComment(qh),r=document.createComment(` END${qh}`);i.insertBefore(r,t),i.insertBefore(o,r),Sa.set(n,r),function Kp(n){for(const i of al)ud(i,n)}(r)}}function ud(n,i){const t=document.createElement("style"),o=function sp(){return void 0===Su&&(Su=function Wc(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const i=document.querySelector("script[nonce]");return i&&i.nonce||""}()),Su}();o&&(t.nonce=o),t.innerText=n,i.parentNode.insertBefore(t,i)}let Su;function $p(n){n.parentNode&&n.parentNode.removeChild(n)}function ga(n,i){if(n.closest)return n.closest(i);if(!document.documentElement.contains(n))return null;do{if(tg(n,i))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function tg(n,i){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,i)}"undefined"!=typeof document&&Xh(document,document.head,document.head.querySelector("script,link,style")),cd(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const Xp=/(top|left|right|bottom|width|height)$/i;function _c(n,i){for(let t in i)rp(n,t,i[t])}function rp(n,i,t){n.style[i]=null==t?"":"number"==typeof t&&Xp.test(i)?`${t}px`:t}function dd(n){var i,t;return null!==(t=null===(i=n.composedPath)||void 0===i?void 0:i.call(n)[0])&&void 0!==t?t:n.target}let eh=0;function Zl(){return eh+=1,"fc-dom-"+eh}function Na(n){n.preventDefault()}function ku(n,i,t,o){let r=function Df(n,i){return t=>{let o=ga(t.target,n);o&&i.call(o,t,o)}}(t,o);return n.addEventListener(i,r),()=>{n.removeEventListener(i,r)}}const yl=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function ll(n){return Object.assign({onClick:n},Yc(n))}function Yc(n){return{tabIndex:0,onKeyDown(i){("Enter"===i.key||" "===i.key)&&(n(i),i.preventDefault())}}}let ng=0;function jc(){return ng+=1,String(ng)}function ap(){document.body.classList.add("fc-not-allowed")}function th(){document.body.classList.remove("fc-not-allowed")}function rg(n,i,t){return t.func?t.func(n,i):function ta(n,i){return n||i?null==i?-1:null==n?1:"string"==typeof n||"string"==typeof i?String(n).localeCompare(String(i)):n-i:0}(n[t.field],i[t.field])*(t.order||1)}function fa(n,i){let t=String(n);return"000".substr(0,i-t.length)+t}function Ul(n,i,t){return"function"==typeof n?n(...i):"string"==typeof n?i.reduce((o,r,g)=>o.replace("$"+g,r||""),n):t}function ag(n,i){return n-i}function hd(n){return n%1==0}function lg(n){let i=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!i)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-i.getBoundingClientRect().width+t.getBoundingClientRect().width}const Lf=["years","months","days","milliseconds"],Rf=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function go(n,i){return"string"==typeof n?function nh(n){let i=Rf.exec(n);if(i){let t=i[1]?-1:1;return{years:0,months:0,days:t*(i[2]?parseInt(i[2],10):0),milliseconds:t*(60*(i[3]?parseInt(i[3],10):0)*60*1e3+60*(i[4]?parseInt(i[4],10):0)*1e3+1e3*(i[5]?parseInt(i[5],10):0)+(i[6]?parseInt(i[6],10):0))}}return null}(n):"object"==typeof n&&n?gd(n):"number"==typeof n?gd({[i||"milliseconds"]:n}):null}function gd(n){let i={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(i.days+=7*t,i.specifiedWeeks=!0),i}function Cc(n,i){return{years:n.years+i.years,months:n.months+i.months,days:n.days+i.days,milliseconds:n.milliseconds+i.milliseconds}}function $c(n){return ya(n)/864e5}function ya(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function lp(n,i){let t=null;for(let o=0;o<Lf.length;o+=1){let r=Lf[o];if(i[r]){let g=n[r]/i[r];if(!hd(g)||null!==t&&t!==g)return null;t=g}else if(n[r])return null}return t}function Bs(n){let i=n.milliseconds;if(i){if(i%1e3!=0)return{unit:"millisecond",value:i};if(i%6e4!=0)return{unit:"second",value:i/1e3};if(i%36e5!=0)return{unit:"minute",value:i/6e4};if(i)return{unit:"hour",value:i/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:md}=Object.prototype;function sh(n,i){let t={};if(i)for(let o in i)if(i[o]===bd){let r=[];for(let g=n.length-1;g>=0;g-=1){let E=n[g][o];if("object"==typeof E&&E)r.unshift(E);else if(void 0!==E){t[o]=E;break}}r.length&&(t[o]=sh(r))}for(let o=n.length-1;o>=0;o-=1){let r=n[o];for(let g in r)g in t||(t[g]=r[g])}return t}function Hl(n,i){let t={};for(let o in n)i(n[o],o)&&(t[o]=n[o]);return t}function xl(n,i){let t={};for(let o in n)t[o]=i(n[o],o);return t}function dg(n){let i={};for(let t of n)i[t]=!0;return i}function rh(n){let i=[];for(let t in n)i.push(n[t]);return i}function Il(n,i){if(n===i)return!0;for(let t in n)if(md.call(n,t)&&!(t in i))return!1;for(let t in i)if(md.call(i,t)&&n[t]!==i[t])return!1;return!0}const Bf=/^on[A-Z]/;function ah(n,i){let t=[];for(let o in n)md.call(n,o)&&(o in i||t.push(o));for(let o in i)md.call(i,o)&&n[o]!==i[o]&&t.push(o);return t}function pg(n,i,t={}){if(n===i)return!0;for(let o in i)if(!(o in n)||!_d(n[o],i[o],t[o]))return!1;for(let o in n)if(!(o in i))return!1;return!0}function _d(n,i,t){return n===i||!0===t||!!t&&t(n,i)}function Os(n,i,t){if(n===i)return!0;let r,o=n.length;if(o!==i.length)return!1;for(r=0;r<o;r+=1)if(!(t?t(n[r],i[r]):n[r]===i[r]))return!1;return!0}const up=["sun","mon","tue","wed","thu","fri","sat"];function lh(n,i){let t=L(n);return t[2]+=7*i,z(t)}function ur(n,i){let t=L(n);return t[2]+=i,z(t)}function Vl(n,i){let t=L(n);return t[6]+=i,z(t)}function vc(n,i){return(i.valueOf()-n.valueOf())/864e5}function pp(n,i){return fe(n)===fe(i)?Math.round(vc(n,i)):null}function ts(n){return z([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function c(n,i,t,o){let r=z([i,0,1+f(i,t,o)]),g=ts(n),E=Math.round(vc(r,g));return Math.floor(E/7)+1}function f(n,i,t){let o=7+i-t;return-(7+z([n,0,o]).getUTCDay()-i)%7+o-1}function _(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function I(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function L(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function z(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC(...n))}function $(n){return!isNaN(n.valueOf())}function fe(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function Re(n,i,t=!1){let o=n.toISOString();return o=o.replace(".000",""),t&&(o=o.replace("T00:00:00Z","")),o.length>10&&(null==i?o=o.replace("Z",""):0!==i&&(o=o.replace("Z",en(i,!0)))),o}function rt(n){return n.toISOString().replace(/T.*$/,"")}function Ut(n){return fa(n.getUTCHours(),2)+":"+fa(n.getUTCMinutes(),2)+":"+fa(n.getUTCSeconds(),2)}function en(n,i=!1){let t=n<0?"-":"+",o=Math.abs(n),r=Math.floor(o/60),g=Math.round(o%60);return i?`${t+fa(r,2)}:${fa(g,2)}`:`GMT${t}${r}${g?`:${fa(g,2)}`:""}`}function nn(n,i,t){let o,r;return function(...g){if(o){if(!Os(o,g)){t&&t(r);let E=n.apply(this,g);(!i||!i(E,r))&&(r=E)}}else r=n.apply(this,g);return o=g,r}}function vn(n,i,t){let o,r;return g=>{if(o){if(!Il(o,g)){t&&t(r);let E=n.call(this,g);(!i||!i(E,r))&&(r=E)}}else r=n.call(this,g);return o=g,r}}const Jn={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},qn={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ei=/\s*([ap])\.?m\.?/i,Yn=/,/g,ui=/\s+/g,fi=/\u200e/g,_i=/UTC|GMT/;class Fi{constructor(i){let t={},o={},r=0;for(let g in i)g in Jn?(o[g]=i[g],r=Math.max(Jn[g],r)):(t[g]=i[g],g in qn&&(r=Math.max(qn[g],r)));this.standardDateProps=t,this.extendedSettings=o,this.severity=r,this.buildFormattingFunc=nn(co)}format(i,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(i)}formatRange(i,t,o,r){let{standardDateProps:g,extendedSettings:E}=this,W=function fs(n,i,t){return t.getMarkerYear(n)!==t.getMarkerYear(i)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(i)?4:t.getMarkerDay(n)!==t.getMarkerDay(i)?2:fe(n)!==fe(i)?1:0}(i.marker,t.marker,o.calendarSystem);if(!W)return this.format(i,o);let Ie=W;Ie>1&&("numeric"===g.year||"2-digit"===g.year)&&("numeric"===g.month||"2-digit"===g.month)&&("numeric"===g.day||"2-digit"===g.day)&&(Ie=1);let it=this.format(i,o),nt=this.format(t,o);if(it===nt)return it;let Kt=function nr(n,i){let t={};for(let o in n)(!(o in qn)||qn[o]<=i)&&(t[o]=n[o]);return t}(g,Ie),Yt=co(Kt,E,o),Qt=Yt(i),_n=Yt(t),Ln=function Ba(n,i,t,o){let r=0;for(;r<n.length;){let g=n.indexOf(i,r);if(-1===g)break;let E=n.substr(0,g);r=g+i.length;let W=n.substr(r),Ie=0;for(;Ie<t.length;){let it=t.indexOf(o,Ie);if(-1===it)break;let nt=t.substr(0,it);Ie=it+o.length;let Kt=t.substr(Ie);if(E===nt&&W===Kt)return{before:E,after:W}}}return null}(it,Qt,nt,_n),Bn=E.separator||r||o.defaultSeparator||"";return Ln?Ln.before+Qt+Bn+_n+Ln.after:it+Bn+nt}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function co(n,i,t){let o=Object.keys(n).length;return 1===o&&"short"===n.timeZoneName?r=>en(r.timeZoneOffset):0===o&&i.week?r=>function Ko(n,i,t,o,r){let g=[];return"long"===r?g.push(t):("short"===r||"narrow"===r)&&g.push(i),("long"===r||"short"===r)&&g.push(" "),g.push(o.simpleNumberFormat.format(n)),"rtl"===o.options.direction&&g.reverse(),g.join("")}(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,i.week):function po(n,i,t){n=Object.assign({},n),i=Object.assign({},i),function Do(n,i){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),i.omitZeroMinute&&(n.second||n.millisecond)&&delete i.omitZeroMinute}(n,i),n.timeZone="UTC";let r,o=new Intl.DateTimeFormat(t.locale.codes,n);if(i.omitZeroMinute){let g=Object.assign({},n);delete g.minute,r=new Intl.DateTimeFormat(t.locale.codes,g)}return g=>{let W,{marker:E}=g;return W=r&&!E.getUTCMinutes()?r:o,function Br(n,i,t,o,r){return n=n.replace(fi,""),"short"===t.timeZoneName&&(n=function Fa(n,i){let t=!1;return n=n.replace(_i,()=>(t=!0,i)),t||(n+=` ${i}`),n}(n,"UTC"===r.timeZone||null==i.timeZoneOffset?"UTC":en(i.timeZoneOffset))),o.omitCommas&&(n=n.replace(Yn,"").trim()),o.omitZeroMinute&&(n=n.replace(":00","")),!1===o.meridiem?n=n.replace(ei,"").trim():"narrow"===o.meridiem?n=n.replace(ei,(g,E)=>E.toLocaleLowerCase()):"short"===o.meridiem?n=n.replace(ei,(g,E)=>`${E.toLocaleLowerCase()}m`):"lowercase"===o.meridiem&&(n=n.replace(ei,g=>g.toLocaleLowerCase())),(n=n.replace(ui," ")).trim()}(W.format(E),g,n,i,t)}}(n,i,t)}function ir(n,i){let t=i.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Jl(n,i,t,o){let r=ir(n,t.calendarSystem);return{date:r,start:r,end:i?ir(i,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:o||t.defaultSeparator}}class gp{constructor(i){this.cmdStr=i}format(i,t,o){return t.cmdFormatter(this.cmdStr,Jl(i,null,t,o))}formatRange(i,t,o,r){return o.cmdFormatter(this.cmdStr,Jl(i,t,o,r))}}class Mu{constructor(i){this.func=i}format(i,t,o){return this.func(Jl(i,null,t,o))}formatRange(i,t,o,r){return this.func(Jl(i,t,o,r))}}function ns(n){return"object"==typeof n&&n?new Fi(n):"string"==typeof n?new gp(n):"function"==typeof n?new Mu(n):null}const Xc={navLinkDayClick:Vn,navLinkWeekClick:Vn,duration:go,bootstrapFontAwesome:Vn,buttonIcons:Vn,customButtons:Vn,defaultAllDayEventDuration:go,defaultTimedEventDuration:go,nextDayThreshold:go,scrollTime:go,scrollTimeReset:Boolean,slotMinTime:go,slotMaxTime:go,dayPopoverFormat:ns,slotDuration:go,snapDuration:go,headerToolbar:Vn,footerToolbar:Vn,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ns,dayHeaderClassNames:Vn,dayHeaderContent:Vn,dayHeaderDidMount:Vn,dayHeaderWillUnmount:Vn,dayCellClassNames:Vn,dayCellContent:Vn,dayCellDidMount:Vn,dayCellWillUnmount:Vn,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Vn,weekNumbers:Boolean,weekNumberClassNames:Vn,weekNumberContent:Vn,weekNumberDidMount:Vn,weekNumberWillUnmount:Vn,editable:Boolean,viewClassNames:Vn,viewDidMount:Vn,viewWillUnmount:Vn,nowIndicator:Boolean,nowIndicatorClassNames:Vn,nowIndicatorContent:Vn,nowIndicatorDidMount:Vn,nowIndicatorWillUnmount:Vn,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Vn,locale:Vn,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Vn,eventOrder:function Pf(n){let o,r,i=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),o=0;o<t.length;o+=1)r=t[o],"string"==typeof r?i.push("-"===r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&i.push({func:r});return i},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Vn,contentHeight:Vn,direction:String,weekNumberFormat:ns,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Vn,initialDate:Vn,now:Vn,eventDataTransform:Vn,stickyHeaderDates:Vn,stickyFooterScrollbar:Vn,viewHeight:Vn,defaultAllDay:Boolean,eventSourceFailure:Vn,eventSourceSuccess:Vn,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Vn,eventConstraint:Vn,eventAllow:Vn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Vn,eventContent:Vn,eventDidMount:Vn,eventWillUnmount:Vn,selectConstraint:Vn,selectOverlap:Vn,selectAllow:Vn,droppable:Boolean,unselectCancel:String,slotLabelFormat:Vn,slotLaneClassNames:Vn,slotLaneContent:Vn,slotLaneDidMount:Vn,slotLaneWillUnmount:Vn,slotLabelClassNames:Vn,slotLabelContent:Vn,slotLabelDidMount:Vn,slotLabelWillUnmount:Vn,dayMaxEvents:Vn,dayMaxEventRows:Vn,dayMinWidth:Number,slotLabelInterval:go,allDayText:String,allDayClassNames:Vn,allDayContent:Vn,allDayDidMount:Vn,allDayWillUnmount:Vn,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ns,rerenderDelay:Number,moreLinkText:Vn,moreLinkHint:Vn,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Vn,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:go,hiddenDays:Vn,fixedWeekCount:Boolean,validRange:Vn,visibleRange:Vn,titleFormat:Vn,eventInteractive:Boolean,noEventsText:String,viewHint:Vn,navLinkHint:Vn,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Vn,moreLinkClassNames:Vn,moreLinkContent:Vn,moreLinkDidMount:Vn,moreLinkWillUnmount:Vn,monthStartFormat:ns,handleCustomRendering:Vn,customRenderingMetaMap:Vn,customRenderingReplacesEl:Boolean},Tl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Ou={datesSet:Vn,eventsSet:Vn,eventAdd:Vn,eventChange:Vn,eventRemove:Vn,windowResize:Vn,eventClick:Vn,eventMouseEnter:Vn,eventMouseLeave:Vn,select:Vn,unselect:Vn,loading:Vn,_unmount:Vn,_beforeprint:Vn,_afterprint:Vn,_noEventDrop:Vn,_noEventResize:Vn,_resize:Vn,_scrollRequest:Vn},vd={buttonText:Vn,buttonHints:Vn,views:Vn,plugins:Vn,initialEvents:Vn,events:Vn,eventSources:Vn},Za={headerToolbar:bd,footerToolbar:bd,buttonText:bd,buttonHints:bd,buttonIcons:bd,dateIncrement:bd,plugins:hg,events:hg,eventSources:hg,resources:hg};function bd(n,i){return"object"==typeof n&&"object"==typeof i&&n&&i?Il(n,i):n===i}function hg(n,i){return Array.isArray(n)&&Array.isArray(i)?Os(n,i):n===i}const Kx={type:String,component:Vn,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Vn,usesMinMaxTime:Boolean,classNames:Vn,content:Vn,didMount:Vn,willUnmount:Vn};function z_(n){return sh(n,Za)}function dh(n,i){let t={},o={};for(let r in i)r in n&&(t[r]=i[r](n[r]));for(let r in n)r in i||(o[r]=n[r]);return{refined:t,extra:o}}function Vn(n){return n}function gg(n,i,t,o){return{instanceId:jc(),defId:n,range:i,forcedStartTzo:null==t?null:t,forcedEndTzo:null==o?null:o}}function Pu(n,i,t){let{dateEnv:o,pluginHooks:r,options:g}=t,{defs:E,instances:W}=n;W=Hl(W,Ie=>!E[Ie.defId].recurringDef);for(let Ie in E){let it=E[Ie];if(it.recurringDef){let{duration:nt}=it.recurringDef;nt||(nt=it.allDay?g.defaultAllDayEventDuration:g.defaultTimedEventDuration);let Kt=ub(it,nt,i,o,r.recurringTypes);for(let Yt of Kt){let Qt=gg(Ie,{start:Yt,end:o.add(Yt,nt)});W[Qt.instanceId]=Qt}}}return{defs:E,instances:W}}function ub(n,i,t,o,r){let E=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:o.subtract(t.start,i),end:t.end},o);return n.allDay&&(E=E.map(ts)),E}function fp(n,i,t,o,r,g){let E={defs:{},instances:{}},W=Cg(t);for(let Ie of n){let it=W_(Ie,i,t,o,W,r,g);it&&Vf(it,E)}return E}function Vf(n,i={defs:{},instances:{}}){return i.defs[n.def.defId]=n.def,n.instance&&(i.instances[n.instance.instanceId]=n.instance),i}function zf(n,i){let t=n.instances[i];if(t){let o=n.defs[t.defId],r=mg(n,g=>function Ql(n,i){return Boolean(n.groupId&&n.groupId===i.groupId)}(o,g));return r.defs[o.defId]=o,r.instances[t.instanceId]=t,r}return{defs:{},instances:{}}}function fg(n,i){return{defs:Object.assign(Object.assign({},n.defs),i.defs),instances:Object.assign(Object.assign({},n.instances),i.instances)}}function mg(n,i){let t=Hl(n.defs,i),o=Hl(n.instances,r=>t[r.defId]);return{defs:t,instances:o}}function J_(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}const ph={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Vn,overlap:Vn,allow:Vn,className:J_,classNames:J_,color:String,backgroundColor:String,borderColor:String,textColor:String},hb={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function _g(n,i){let t=function pb(n,i){return Array.isArray(n)?fp(n,null,i,!0):"object"==typeof n&&n?fp([n],null,i,!0):null!=n?String(n):null}(n.constraint,i);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function Q_(n){return n.reduce(io,hb)}function io(n,i){return{display:null!=i.display?i.display:n.display,startEditable:null!=i.startEditable?i.startEditable:n.startEditable,durationEditable:null!=i.durationEditable?i.durationEditable:n.durationEditable,constraints:n.constraints.concat(i.constraints),overlap:"boolean"==typeof i.overlap?i.overlap:n.overlap,allows:n.allows.concat(i.allows),backgroundColor:i.backgroundColor||n.backgroundColor,borderColor:i.borderColor||n.borderColor,textColor:i.textColor||n.textColor,classNames:n.classNames.concat(i.classNames)}}const hh={id:String,groupId:String,title:String,url:String,interactive:Boolean},Jf={start:Vn,end:Vn,date:Vn,allDay:Boolean},G_=Object.assign(Object.assign(Object.assign({},hh),Jf),{extendedProps:Vn});function W_(n,i,t,o,r=Cg(t),g,E){let{refined:W,extra:Ie}=Y_(n,t,r),it=function gb(n,i){let t=null;return n&&(t=n.defaultAllDay),null==t&&(t=i.options.defaultAllDay),t}(i,t),nt=function $x(n,i,t,o){for(let r=0;r<o.length;r+=1){let g=o[r].parse(n,t);if(g){let{allDay:E}=n;return null==E&&(E=i,null==E&&(E=g.allDayGuess,null==E&&(E=!1))),{allDay:E,duration:g.duration,typeData:g.typeData,typeId:r}}}return null}(W,it,t.dateEnv,t.pluginHooks.recurringTypes);if(nt){let Yt=Qf(W,Ie,i?i.sourceId:"",nt.allDay,Boolean(nt.duration),t,g);return Yt.recurringDef={typeId:nt.typeId,typeData:nt.typeData,duration:nt.duration},{def:Yt,instance:null}}let Kt=function j_(n,i,t,o){let g,Ie,{allDay:r}=n,E=null,W=!1,it=null;if(g=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date),g)E=g.marker;else if(!o)return null;return null!=n.end&&(Ie=t.dateEnv.createMarkerMeta(n.end)),null==r&&(r=null!=i?i:(!g||g.isTimeUnspecified)&&(!Ie||Ie.isTimeUnspecified)),r&&E&&(E=ts(E)),Ie&&(it=Ie.marker,r&&(it=ts(it)),E&&it<=E&&(it=null)),it?W=!0:o||(W=t.options.forceEventDuration||!1,it=t.dateEnv.add(E,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:W,range:{start:E,end:it},forcedStartTzo:g?g.forcedTzo:null,forcedEndTzo:Ie?Ie.forcedTzo:null}}(W,it,t,o);if(Kt){let Yt=Qf(W,Ie,i?i.sourceId:"",Kt.allDay,Kt.hasEnd,t,g),Qt=gg(Yt.defId,Kt.range,Kt.forcedStartTzo,Kt.forcedEndTzo);return E&&Yt.publicId&&E[Yt.publicId]&&(Qt.instanceId=E[Yt.publicId]),{def:Yt,instance:Qt}}return null}function Y_(n,i,t=Cg(i)){return dh(n,t)}function Cg(n){return Object.assign(Object.assign(Object.assign({},ph),G_),n.pluginHooks.eventRefiners)}function Qf(n,i,t,o,r,g,E){let W={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(E&&n.id?E[n.id]:"")||jc(),sourceId:t,allDay:o,hasEnd:r,interactive:n.interactive,ui:_g(n,g),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),i)};for(let Ie of g.pluginHooks.eventDefMemberAdders)Object.assign(W,Ie(n));return Object.freeze(W.ui.classNames),Object.freeze(W.extendedProps),W}const fb={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Gf(n){let i=Math.floor(vc(n.start,n.end))||1,t=ts(n.start);return{start:t,end:ur(t,i)}}function eu(n,i=go(0)){let t=null,o=null;if(n.end){o=ts(n.end);let r=n.end.valueOf()-o.valueOf();r&&r>=ya(i)&&(o=ur(o,1))}return n.start&&(t=ts(n.start),o&&o<=t&&(o=ur(t,1))),{start:t,end:o}}function Lu(n,i,t,o){return"year"===o?go(t.diffWholeYears(n,i),"year"):"month"===o?go(t.diffWholeMonths(n,i),"month"):function Cd(n,i){let t=ts(n),o=ts(i);return{years:0,months:0,days:Math.round(vc(t,o)),milliseconds:i.valueOf()-o.valueOf()-(n.valueOf()-t.valueOf())}}(n,i)}function Wf(n,i){return n.left>=i.left&&n.left<i.right&&n.top>=i.top&&n.top<i.bottom}function $_(n,i){let t={left:Math.max(n.left,i.left),right:Math.min(n.right,i.right),top:Math.max(n.top,i.top),bottom:Math.min(n.bottom,i.bottom)};return t.left<t.right&&t.top<t.bottom&&t}let vg;function Cb(){return null==vg&&(vg=function vb(){if("undefined"==typeof document)return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),vg}const Ru={defs:{},instances:{}};function q_(n,i,t){let o=[];n&&o.push(n),i&&o.push(i);let r={"":Q_(o)};return t&&Object.assign(r,t),r}function X_(n,i){let r,g,t=[],{start:o}=i;for(n.sort(e0),r=0;r<n.length;r+=1)g=n[r],g.start>o&&t.push({start:o,end:g.start}),g.end>o&&(o=g.end);return o<i.end&&t.push({start:o,end:i.end}),t}function e0(n,i){return n.start.valueOf()-i.start.valueOf()}function Nu(n,i){let{start:t,end:o}=n,r=null;return null!==i.start&&(t=null===t?i.start:new Date(Math.max(t.valueOf(),i.start.valueOf()))),null!=i.end&&(o=null===o?i.end:new Date(Math.min(o.valueOf(),i.end.valueOf()))),(null===t||null===o||t<o)&&(r={start:t,end:o}),r}function Yf(n,i){return(null===n.end||null===i.start||n.end>i.start)&&(null===n.start||null===i.end||n.start<i.end)}function yg(n,i){return(null===n.start||null!==i.start&&i.start>=n.start)&&(null===n.end||null!==i.end&&i.end<=n.end)}function tu(n,i){return(null===n.start||i>=n.start)&&(null===n.end||i<n.end)}function jf(n,i,t,o){return{dow:n.getUTCDay(),isDisabled:Boolean(o&&!tu(o.activeRange,n)),isOther:Boolean(o&&!tu(o.currentRange,n)),isToday:Boolean(i&&tu(i,n)),isPast:Boolean(t?n<t:!!i&&n<i.start),isFuture:Boolean(t?n>t:!!i&&n>=i.end)}}function gh(n,i){let t=["fc-day",`fc-day-${up[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(i.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const Kf=ns({year:"numeric",month:"long",day:"numeric"}),tI=ns({week:"long"});function Fu(n,i,t="day",o=!0){const{dateEnv:r,options:g,calendarApi:E}=n;let W=r.format(i,"week"===t?tI:Kf);if(g.navLinks){let Ie=r.toDate(i);const it=nt=>{let Kt="day"===t?g.navLinkDayClick:"week"===t?g.navLinkWeekClick:null;"function"==typeof Kt?Kt.call(E,r.toDate(i),nt):("string"==typeof Kt&&(t=Kt),E.zoomTo(i,t))};return Object.assign({title:Ul(g.navLinkHint,[W,Ie],W),"data-navlink":""},o?ll(it):{onClick:it})}return{"aria-label":W}}let xg,$f=null;function Al(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function Ib(n,i=!1,t){let o=t?n.getBoundingClientRect():fh(n),r=function o0(n,i=!1){let t=window.getComputedStyle(n),o=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,g=parseInt(t.borderTopWidth,10)||0,E=parseInt(t.borderBottomWidth,10)||0,W=Al(n),Ie=W.y-o-r,nt={borderLeft:o,borderRight:r,borderTop:g,borderBottom:E,scrollbarBottom:W.x-g-E,scrollbarLeft:0,scrollbarRight:0};return function nI(){return null===$f&&($f=function mp(){let n=document.createElement("div");_c(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return $p(n),t}()),$f}()&&"rtl"===t.direction?nt.scrollbarLeft=Ie:nt.scrollbarRight=Ie,i&&(nt.paddingLeft=parseInt(t.paddingLeft,10)||0,nt.paddingRight=parseInt(t.paddingRight,10)||0,nt.paddingTop=parseInt(t.paddingTop,10)||0,nt.paddingBottom=parseInt(t.paddingBottom,10)||0),nt}(n,i),g={left:o.left+r.borderLeft+r.scrollbarLeft,right:o.right-r.borderRight-r.scrollbarRight,top:o.top+r.borderTop,bottom:o.bottom-r.borderBottom-r.scrollbarBottom};return i&&(g.left+=r.paddingLeft,g.right-=r.paddingRight,g.top+=r.paddingTop,g.bottom-=r.paddingBottom),g}function fh(n){let i=n.getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,right:i.right+window.pageXOffset,bottom:i.bottom+window.pageYOffset}}function Tg(n){let i=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&i.push(n),n=n.parentNode}return i}class _p{constructor(){this.handlers={},this.thisContext=null}setThisContext(i){this.thisContext=i}setOptions(i){this.options=i}on(i,t){!function iI(n,i,t){(n[i]||(n[i]=[])).push(t)}(this.handlers,i,t)}off(i,t){!function r0(n,i,t){t?n[i]&&(n[i]=n[i].filter(o=>o!==t)):delete n[i]}(this.handlers,i,t)}trigger(i,...t){let g=[].concat(this.options&&this.options[i]||[],this.handlers[i]||[]);for(let E of g)E.apply(this.thisContext,t)}hasHandlers(i){return Boolean(this.handlers[i]&&this.handlers[i].length||this.options&&this.options[i])}}class mh{constructor(i,t,o,r){this.els=t;let g=this.originClientRect=i.getBoundingClientRect();o&&this.buildElHorizontals(g.left),r&&this.buildElVerticals(g.top)}buildElHorizontals(i){let t=[],o=[];for(let r of this.els){let g=r.getBoundingClientRect();t.push(g.left-i),o.push(g.right-i)}this.lefts=t,this.rights=o}buildElVerticals(i){let t=[],o=[];for(let r of this.els){let g=r.getBoundingClientRect();t.push(g.top-i),o.push(g.bottom-i)}this.tops=t,this.bottoms=o}leftToIndex(i){let g,{lefts:t,rights:o}=this,r=t.length;for(g=0;g<r;g+=1)if(i>=t[g]&&i<o[g])return g}topToIndex(i){let g,{tops:t,bottoms:o}=this,r=t.length;for(g=0;g<r;g+=1)if(i>=t[g]&&i<o[g])return g}getWidth(i){return this.rights[i]-this.lefts[i]}getHeight(i){return this.bottoms[i]-this.tops[i]}similarTo(i){return yd(this.tops||[],i.tops||[])&&yd(this.bottoms||[],i.bottoms||[])&&yd(this.lefts||[],i.lefts||[])&&yd(this.rights||[],i.rights||[])}}function yd(n,i){const t=n.length;if(t!==i.length)return!1;for(let o=0;o<t;o++)if(Math.round(n[o])!==Math.round(i[o]))return!1;return!0}class Cp{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class qf extends Cp{constructor(i){super(),this.el=i}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(i){this.el.scrollTop=i}setScrollLeft(i){this.el.scrollLeft=i}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Xf extends Cp{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(i){window.scroll(window.pageXOffset,i)}setScrollLeft(i){window.scroll(i,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class xd{constructor(i){this.iconOverrideOption&&this.setIconOverride(i[this.iconOverrideOption])}setIconOverride(i){let t,o;if("object"==typeof i&&i){for(o in t=Object.assign({},this.iconClasses),i)t[o]=this.applyIconOverridePrefix(i[o]);this.iconClasses=t}else!1===i&&(this.iconClasses={})}applyIconOverridePrefix(i){let t=this.iconOverridePrefix;return t&&0!==i.indexOf(t)&&(i=t+i),i}getClass(i){return this.classes[i]||""}getIconClass(i,t){let o;return o=t&&this.rtlIconClasses&&this.rtlIconClasses[i]||this.iconClasses[i],o?`${this.baseIconClass} ${o}`:""}getCustomButtonIconClass(i){let t;return this.iconOverrideCustomButtonOption&&(t=i[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function Tb(n){n();let i=Ei.debounceRendering,t=[];for(Ei.debounceRendering=function o(r){t.push(r)},wa(un(Ab,{}),document.createElement("div"));t.length;)t.shift()();Ei.debounceRendering=i}xd.prototype.classes={},xd.prototype.iconClasses={},xd.prototype.baseIconClass="",xd.prototype.iconOverridePrefix="";class Ab extends pa{render(){return un("div",{})}componentDidMount(){this.setState({})}}function a0(n){let i=function Gp(n,i){var t={__c:i="__cC"+sc++,__:n,Consumer:function(o,r){return o.children(r)},Provider:function(o){var r,g;return this.getChildContext||(r=[],(g={})[i]=this,this.getChildContext=function(){return g},this.shouldComponentUpdate=function(E){this.props.value!==E.value&&r.some(function(W){W.__e=!0,Bc(W)})},this.sub=function(E){r.push(E);var W=E.componentWillUnmount;E.componentWillUnmount=function(){r.splice(r.indexOf(E),1),W&&W.call(E)}}),o.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=i.Provider;return i.Provider=function(){let o=!this.getChildContext,r=t.apply(this,arguments);if(o){let g=[];this.shouldComponentUpdate=E=>{this.props.value!==E.value&&g.forEach(W=>{W.context=E.value,W.forceUpdate()})},this.sub=E=>{g.push(E);let W=E.componentWillUnmount;E.componentWillUnmount=()=>{g.splice(g.indexOf(E),1),W&&W.call(E)}}}return r},i}class wb{constructor(i,t,o,r){this.execFunc=i,this.emitter=t,this.scrollTime=o,this.scrollTimeReset=r,this.handleScrollRequest=g=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},g),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(i){i&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const iu=a0({});function l0(n,i,t,o,r,g,E,W,Ie,it,nt,Kt,Yt){return{dateEnv:r,options:t,pluginHooks:E,emitter:it,dispatch:W,getCurrentData:Ie,calendarApi:nt,viewSpec:n,viewApi:i,dateProfileGenerator:o,theme:g,isRtl:"rtl"===t.direction,addResizeHandler(Qt){it.on("_resize",Qt)},removeResizeHandler(Qt){it.off("_resize",Qt)},createScrollResponder:Qt=>new wb(Qt,it,go(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:Kt,unregisterInteractiveComponent:Yt}}let em=(()=>{class n extends pa{shouldComponentUpdate(t,o){return this.debug&&console.log(ah(t,this.props),ah(o,this.state)),!pg(this.props,t,this.propEquality)||!pg(this.state,o,this.stateEquality)}safeSetState(t){pg(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=oI,n.addStateEquality=c0,n.contextType=iu,n})();em.prototype.propEquality={},em.prototype.stateEquality={};let rs=(()=>{class n extends em{}return n.contextType=iu,n})();function oI(n){let i=Object.create(this.prototype.propEquality);Object.assign(i,n),this.prototype.propEquality=i}function c0(n){let i=Object.create(this.prototype.stateEquality);Object.assign(i,n),this.prototype.stateEquality=i}function bc(n,i){"function"==typeof n?n(i):n&&(n.current=i)}class Gl extends rs{constructor(){super(...arguments),this.uid=jc()}prepareHits(){}queryHit(i,t,o,r){return null}isValidSegDownEl(i){return!this.props.eventDrag&&!this.props.eventResize&&!ga(i,".fc-event-mirror")}isValidDateDownEl(i){return!(ga(i,".fc-event:not(.fc-bg-event)")||ga(i,".fc-more-link")||ga(i,"a[data-navlink]")||ga(i,".fc-popover"))}}function Ag(n,i){return"function"==typeof n&&(n=n()),null==n?i.createNowMarker():i.createMarker(n)}class Eb{constructor(i){this.props=i,this.nowDate=Ag(i.nowInput,i.dateEnv),this.initHiddenDays()}buildPrev(i,t,o){let{dateEnv:r}=this.props,g=r.subtract(r.startOf(t,i.currentRangeUnit),i.dateIncrement);return this.build(g,-1,o)}buildNext(i,t,o){let{dateEnv:r}=this.props,g=r.add(r.startOf(t,i.currentRangeUnit),i.dateIncrement);return this.build(g,1,o)}build(i,t,o=!0){let g,E,W,Ie,it,nt,{props:r}=this;return g=this.buildValidRange(),g=this.trimHiddenDays(g),o&&(i=function t0(n,i){return null!=i.start&&n<i.start?i.start:null!=i.end&&n>=i.end?new Date(i.end.valueOf()-1):n}(i,g)),E=this.buildCurrentRangeInfo(i,t),W=/^(year|month|week|day)$/.test(E.unit),Ie=this.buildRenderRange(this.trimHiddenDays(E.range),E.unit,W),Ie=this.trimHiddenDays(Ie),it=Ie,r.showNonCurrentDates||(it=Nu(it,E.range)),it=this.adjustActiveRange(it),it=Nu(it,g),nt=Yf(E.range,g),tu(Ie,i)||(i=Ie.start),{currentDate:i,validRange:g,currentRange:E.range,currentRangeUnit:E.unit,isRangeAllDay:W,activeRange:it,renderRange:Ie,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:nt,dateIncrement:this.buildDateIncrement(E.duration)}}buildValidRange(){let i=this.props.validRangeInput,t="function"==typeof i?i.call(this.props.calendarApi,this.nowDate):i;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(i,t){let W,{props:o}=this,r=null,g=null,E=null;return o.duration?(r=o.duration,g=o.durationUnit,E=this.buildRangeFromDuration(i,t,r,g)):(W=this.props.dayCount)?(g="day",E=this.buildRangeFromDayCount(i,t,W)):(E=this.buildCustomVisibleRange(i))?g=o.dateEnv.greatestWholeUnit(E.start,E.end).unit:(r=this.getFallbackDuration(),g=Bs(r).unit,E=this.buildRangeFromDuration(i,t,r,g)),{duration:r,unit:g,range:E}}getFallbackDuration(){return go({day:1})}adjustActiveRange(i){let{dateEnv:t,usesMinMaxTime:o,slotMinTime:r,slotMaxTime:g}=this.props,{start:E,end:W}=i;return o&&($c(r)<0&&(E=ts(E),E=t.add(E,r)),$c(g)>1&&(W=ts(W),W=ur(W,-1),W=t.add(W,g))),{start:E,end:W}}buildRangeFromDuration(i,t,o,r){let W,Ie,it,{dateEnv:g,dateAlignment:E}=this.props;if(!E){let{dateIncrement:Kt}=this.props;E=Kt&&ya(Kt)<ya(o)?Bs(Kt).unit:r}function nt(){W=g.startOf(i,E),Ie=g.add(W,o),it={start:W,end:Ie}}return $c(o)<=1&&this.isHiddenDay(W)&&(W=this.skipHiddenDays(W,t),W=ts(W)),nt(),this.trimHiddenDays(it)||(i=this.skipHiddenDays(i,t),nt()),it}buildRangeFromDayCount(i,t,o){let Ie,{dateEnv:r,dateAlignment:g}=this.props,E=0,W=i;g&&(W=r.startOf(W,g)),W=ts(W),W=this.skipHiddenDays(W,t),Ie=W;do{Ie=ur(Ie,1),this.isHiddenDay(Ie)||(E+=1)}while(E<o);return{start:W,end:Ie}}buildCustomVisibleRange(i){let{props:t}=this,o=t.visibleRangeInput,r="function"==typeof o?o.call(t.calendarApi,t.dateEnv.toDate(i)):o,g=this.refineRange(r);return!g||null!=g.start&&null!=g.end?g:null}buildRenderRange(i,t,o){return i}buildDateIncrement(i){let o,{dateIncrement:t}=this.props;return t||((o=this.props.dateAlignment)?go(1,o):i||go({days:1}))}refineRange(i){if(i){let t=function bg(n,i){let t=null,o=null;return n.start&&(t=i.createMarker(n.start)),n.end&&(o=i.createMarker(n.end)),!t&&!o||t&&o&&o<t?null:{start:t,end:o}}(i,this.props.dateEnv);return t&&(t=eu(t)),t}return null}initHiddenDays(){let r,i=this.props.hiddenDays||[],t=[],o=0;for(!1===this.props.weekends&&i.push(0,6),r=0;r<7;r+=1)(t[r]=-1!==i.indexOf(r))||(o+=1);if(!o)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(i){let{start:t,end:o}=i;return t&&(t=this.skipHiddenDays(t)),o&&(o=this.skipHiddenDays(o,-1,!0)),null==t||null==o||t<o?{start:t,end:o}:null}isHiddenDay(i){return i instanceof Date&&(i=i.getUTCDay()),this.isHiddenDayHash[i]}skipHiddenDays(i,t=1,o=!1){for(;this.isHiddenDayHash[(i.getUTCDay()+(o?t:0)+7)%7];)i=ur(i,t);return i}}function Sb(n,i,t){t.emitter.trigger("select",Object.assign(Object.assign({},u0(n,t)),{jsEvent:i?i.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function u0(n,i){let t={};for(let o of i.pluginHooks.dateSpanTransforms)Object.assign(t,o(n,i));return Object.assign(t,function _0(n,i){return Object.assign(Object.assign({},C0(n.range,i,n.allDay)),{allDay:n.allDay})}(n,i.dateEnv)),t}function kb(n,i,t){let{dateEnv:o,options:r}=t,g=i;return n?(g=ts(g),g=o.add(g,r.defaultAllDayEventDuration)):g=o.add(g,r.defaultTimedEventDuration),g}function d0(n,i,t,o){let r=Wl(n.defs,i),g={defs:{},instances:{}};for(let E in n.defs)g.defs[E]=aI(n.defs[E],r[E],t,o);for(let E in n.instances){let W=n.instances[E];g.instances[E]=lI(W,g.defs[W.defId],r[W.defId],t,o)}return g}function aI(n,i,t,o){let r=t.standardProps||{};null==r.hasEnd&&i.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let g=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(g.extendedProps=Object.assign(Object.assign({},g.extendedProps),t.extendedProps));for(let E of o.pluginHooks.eventDefMutationAppliers)E(g,t,o);return!g.hasEnd&&o.options.forceEventDuration&&(g.hasEnd=!0),g}function lI(n,i,t,o,r){let{dateEnv:g}=r,E=o.standardProps&&!0===o.standardProps.allDay,W=o.standardProps&&!1===o.standardProps.hasEnd,Ie=Object.assign({},n);return E&&(Ie.range=Gf(Ie.range)),o.datesDelta&&t.startEditable&&(Ie.range={start:g.add(Ie.range.start,o.datesDelta),end:g.add(Ie.range.end,o.datesDelta)}),o.startDelta&&t.durationEditable&&(Ie.range={start:g.add(Ie.range.start,o.startDelta),end:Ie.range.end}),o.endDelta&&t.durationEditable&&(Ie.range={start:Ie.range.start,end:g.add(Ie.range.end,o.endDelta)}),W&&(Ie.range={start:Ie.range.start,end:kb(i.allDay,Ie.range.start,r)}),i.allDay&&(Ie.range={start:ts(Ie.range.start),end:ts(Ie.range.end)}),Ie.range.end<Ie.range.start&&(Ie.range.end=kb(i.allDay,Ie.range.start,r)),Ie}class ul{constructor(i,t){this.context=i,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ps{constructor(i,t,o){this._context=i,this._def=t,this._instance=o||null}setProp(i,t){if(i in Jf)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===i)t=hh[i](t),this.mutate({standardProps:{publicId:t}});else if(i in hh)t=hh[i](t),this.mutate({standardProps:{[i]:t}});else if(i in ph){let o=ph[i](t);o="color"===i?{backgroundColor:t,borderColor:t}:"editable"===i?{startEditable:t,durationEditable:t}:{[i]:t},this.mutate({standardProps:{ui:o}})}else console.warn(`Could not set prop '${i}'. Use setExtendedProp instead.`)}setExtendedProp(i,t){this.mutate({extendedProps:{[i]:t}})}setStart(i,t={}){let{dateEnv:o}=this._context,r=o.createMarker(i);if(r&&this._instance){let E=Lu(this._instance.range.start,r,o,t.granularity);this.mutate(t.maintainDuration?{datesDelta:E}:{startDelta:E})}}setEnd(i,t={}){let r,{dateEnv:o}=this._context;if((null==i||(r=o.createMarker(i),r))&&this._instance)if(r){let g=Lu(this._instance.range.end,r,o,t.granularity);this.mutate({endDelta:g})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(i,t,o={}){let W,{dateEnv:r}=this._context,g={allDay:o.allDay},E=r.createMarker(i);if(E&&(null==t||(W=r.createMarker(t),W))&&this._instance){let Ie=this._instance.range;!0===o.allDay&&(Ie=Gf(Ie));let it=Lu(Ie.start,E,r,o.granularity);if(W){let nt=Lu(Ie.end,W,r,o.granularity);!function ih(n,i){return n.years===i.years&&n.months===i.months&&n.days===i.days&&n.milliseconds===i.milliseconds}(it,nt)?this.mutate({startDelta:it,endDelta:nt,standardProps:g}):this.mutate({datesDelta:it,standardProps:g})}else g.hasEnd=!1,this.mutate({datesDelta:it,standardProps:g})}}moveStart(i){let t=go(i);t&&this.mutate({startDelta:t})}moveEnd(i){let t=go(i);t&&this.mutate({endDelta:t})}moveDates(i){let t=go(i);t&&this.mutate({datesDelta:t})}setAllDay(i,t={}){let o={allDay:i},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==i&&(o.hasEnd=r),this.mutate({standardProps:o})}formatRange(i){let{dateEnv:t}=this._context,o=this._instance,r=ns(i);return this._def.hasEnd?t.formatRange(o.range.start,o.range.end,r,{forcedStartTzo:o.forcedStartTzo,forcedEndTzo:o.forcedEndTzo}):t.format(o.range.start,r,{forcedTzo:o.forcedStartTzo})}mutate(i){let t=this._instance;if(t){let o=this._def,r=this._context,{eventStore:g}=r.getCurrentData(),E=zf(g,t.instanceId);E=d0(E,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},i,r);let Ie=new Ps(r,o,t);this._def=E.defs[o.defId],this._instance=E.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:E}),r.emitter.trigger("eventChange",{oldEvent:Ie,event:this,relatedEvents:Bu(E,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:g})}})}}remove(){let i=this._context,t=p0(this);i.dispatch({type:"REMOVE_EVENTS",eventStore:t}),i.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){i.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:i}=this._def;return i?new ul(this._context,this._context.getCurrentData().eventSources[i]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let i=this._instance;return i?this._context.dateEnv.formatIso(i.range.start,{omitTime:this._def.allDay,forcedTzo:i.forcedStartTzo}):""}get endStr(){let i=this._instance;return i&&this._def.hasEnd?this._context.dateEnv.formatIso(i.range.end,{omitTime:this._def.allDay,forcedTzo:i.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(i={}){let t=this._def,{ui:o}=t,{startStr:r,endStr:g}=this,E={allDay:t.allDay};return t.title&&(E.title=t.title),r&&(E.start=r),g&&(E.end=g),t.publicId&&(E.id=t.publicId),t.groupId&&(E.groupId=t.groupId),t.url&&(E.url=t.url),o.display&&"auto"!==o.display&&(E.display=o.display),i.collapseColor&&o.backgroundColor&&o.backgroundColor===o.borderColor?E.color=o.backgroundColor:(o.backgroundColor&&(E.backgroundColor=o.backgroundColor),o.borderColor&&(E.borderColor=o.borderColor)),o.textColor&&(E.textColor=o.textColor),o.classNames.length&&(E.classNames=o.classNames),Object.keys(t.extendedProps).length&&(i.collapseExtendedProps?Object.assign(E,t.extendedProps):E.extendedProps=t.extendedProps),E}toJSON(){return this.toPlainObject()}}function p0(n){let i=n._def,t=n._instance;return{defs:{[i.defId]:i},instances:t?{[t.instanceId]:t}:{}}}function Bu(n,i,t){let{defs:o,instances:r}=n,g=[],E=t?t.instanceId:"";for(let W in r){let Ie=r[W],it=o[Ie.defId];Ie.instanceId!==E&&g.push(new Ps(i,it,Ie))}return g}function _h(n,i,t,o){let r={},g={},E={},W=[],Ie=[],it=Wl(n.defs,i);for(let nt in n.defs){let Kt=n.defs[nt];"inverse-background"===it[Kt.defId].display&&(Kt.groupId?(r[Kt.groupId]=[],E[Kt.groupId]||(E[Kt.groupId]=Kt)):g[nt]=[])}for(let nt in n.instances){let Kt=n.instances[nt],Yt=n.defs[Kt.defId],Qt=it[Yt.defId],_n=Kt.range,Ln=!Yt.allDay&&o?eu(_n,o):_n,Bn=Nu(Ln,t);Bn&&("inverse-background"===Qt.display?Yt.groupId?r[Yt.groupId].push(Bn):g[Kt.defId].push(Bn):"none"!==Qt.display&&("background"===Qt.display?W:Ie).push({def:Yt,ui:Qt,instance:Kt,range:Bn,isStart:Ln.start&&Ln.start.valueOf()===Bn.start.valueOf(),isEnd:Ln.end&&Ln.end.valueOf()===Bn.end.valueOf()}))}for(let nt in r){let Yt=X_(r[nt],t);for(let Qt of Yt){let _n=E[nt];W.push({def:_n,ui:it[_n.defId],instance:null,range:Qt,isStart:!1,isEnd:!1})}}for(let nt in g){let Yt=X_(g[nt],t);for(let Qt of Yt)W.push({def:n.defs[nt],ui:it[nt],instance:null,range:Qt,isStart:!1,isEnd:!1})}return{bg:W,fg:Ie}}function wg(n,i){n.fcSeg=i}function vp(n){return n.fcSeg||n.parentNode.fcSeg||null}function Wl(n,i){return xl(n,t=>nm(t,i))}function nm(n,i){let t=[];return i[""]&&t.push(i[""]),i[n.defId]&&t.push(i[n.defId]),t.push(n.ui),Q_(t)}function im(n,i){let t=n.map(Db);return t.sort((o,r)=>function sg(n,i,t){let o,r;for(o=0;o<t.length;o+=1)if(r=rg(n,i,t[o]),r)return r;return 0}(o,r,i)),t.map(o=>o._seg)}function Db(n){let{eventRange:i}=n,t=i.def,o=i.instance?i.instance.range:i.range,r=o.start?o.start.valueOf():0,g=o.end?o.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:g,duration:g-r,allDay:Number(t.allDay),_seg:n})}function g0(n,i){let{pluginHooks:t}=i,o=t.isDraggableTransformers,{def:r,ui:g}=n.eventRange,E=g.startEditable;for(let W of o)E=W(E,r,g,i);return E}function Mb(n,i){return n.isStart&&n.eventRange.ui.durationEditable&&i.options.eventResizableFromStart}function Zu(n,i,t,o,r,g,E){let{dateEnv:W,options:Ie}=t,{displayEventTime:it,displayEventEnd:nt}=Ie,Kt=n.eventRange.def,Yt=n.eventRange.instance;null==it&&(it=!1!==o),null==nt&&(nt=!1!==r);let Qt=Yt.range.start,_n=Yt.range.end,Ln=g||n.start||n.eventRange.range.start,Bn=E||n.end||n.eventRange.range.end,jn=ts(Qt).valueOf()===ts(Ln).valueOf(),Ii=ts(Vl(_n,-1)).valueOf()===ts(Vl(Bn,-1)).valueOf();return it&&!Kt.allDay&&(jn||Ii)?(Ln=jn?Qt:Ln,Bn=Ii?_n:Bn,nt&&Kt.hasEnd?W.formatRange(Ln,Bn,i,{forcedStartTzo:g?null:Yt.forcedStartTzo,forcedEndTzo:E?null:Yt.forcedEndTzo}):W.format(Ln,i,{forcedTzo:g?null:Yt.forcedStartTzo})):""}function Ya(n,i,t){let o=n.eventRange.range;return{isPast:o.end<(t||i.start),isFuture:o.start>=(t||i.end),isToday:i&&tu(i,o.start)}}function om(n){let i=["fc-event"];return n.isMirror&&i.push("fc-event-mirror"),n.isDraggable&&i.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&i.push("fc-event-resizable"),n.isDragging&&i.push("fc-event-dragging"),n.isResizing&&i.push("fc-event-resizing"),n.isSelected&&i.push("fc-event-selected"),n.isStart&&i.push("fc-event-start"),n.isEnd&&i.push("fc-event-end"),n.isPast&&i.push("fc-event-past"),n.isToday&&i.push("fc-event-today"),n.isFuture&&i.push("fc-event-future"),i}function Id(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Ch(n,i){let{def:t,instance:o}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:g,options:E}=i,{eventInteractive:W}=E;return null==W&&(W=t.interactive,null==W&&(W=Boolean(g.hasHandlers("eventClick")))),W?Yc(Ie=>{g.trigger("eventClick",{el:Ie.target,event:new Ps(i,t,o),jsEvent:Ie,view:i.viewApi})}):{}}const Eg={start:Vn,end:Vn,allDay:Boolean};function Sg(n,i,t){return Object.assign(Object.assign({},C0(n,i,t)),{timeZone:i.timeZone})}function C0(n,i,t){return{start:i.toDate(n.start),end:i.toDate(n.end),startStr:i.formatIso(n.start,{omitTime:t}),endStr:i.formatIso(n.end,{omitTime:t})}}let v0={};!function b0(n,i){v0[n]=i}("gregory",class y0{getMarkerYear(i){return i.getUTCFullYear()}getMarkerMonth(i){return i.getUTCMonth()}getMarkerDay(i){return i.getUTCDate()}arrayToMarker(i){return z(i)}markerToArray(i){return L(i)}});const x0=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class dl{constructor(i){let t=this.timeZone=i.timeZone,o="local"!==t&&"UTC"!==t;i.namedTimeZoneImpl&&o&&(this.namedTimeZoneImpl=new i.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!o||this.namedTimeZoneImpl),this.calendarSystem=function Pb(n){return new v0[n]}(i.calendarSystem),this.locale=i.locale,this.weekDow=i.locale.week.dow,this.weekDoy=i.locale.week.doy,"ISO"===i.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof i.firstDay&&(this.weekDow=i.firstDay),"function"==typeof i.weekNumberCalculation&&(this.weekNumberFunc=i.weekNumberCalculation),this.weekText=null!=i.weekText?i.weekText:i.locale.options.weekText,this.weekTextLong=(null!=i.weekTextLong?i.weekTextLong:i.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=i.cmdFormatter,this.defaultSeparator=i.defaultSeparator}createMarker(i){let t=this.createMarkerMeta(i);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):z(_(new Date))}createMarkerMeta(i){if("string"==typeof i)return this.parse(i);let t=null;return"number"==typeof i?t=this.timestampToMarker(i):i instanceof Date?(i=i.valueOf(),isNaN(i)||(t=this.timestampToMarker(i))):Array.isArray(i)&&(t=z(i)),null!==t&&$(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(i){let t=function Lb(n){let i=x0.exec(n);if(i){let t=new Date(Date.UTC(Number(i[1]),i[3]?Number(i[3])-1:0,Number(i[5]||1),Number(i[7]||0),Number(i[8]||0),Number(i[10]||0),i[12]?1e3*Number(`0.${i[12]}`):0));if($(t)){let o=null;return i[13]&&(o=("-"===i[15]?-1:1)*(60*Number(i[16]||0)+Number(i[18]||0))),{marker:t,isTimeUnspecified:!i[6],timeZoneOffset:o}}}return null}(i);if(null===t)return null;let{marker:o}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?o=this.timestampToMarker(o.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:o,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(i){return this.calendarSystem.getMarkerYear(i)}getMonth(i){return this.calendarSystem.getMarkerMonth(i)}getDay(i){return this.calendarSystem.getMarkerDay(i)}add(i,t){let o=this.calendarSystem.markerToArray(i);return o[0]+=t.years,o[1]+=t.months,o[2]+=t.days,o[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(o)}subtract(i,t){let o=this.calendarSystem.markerToArray(i);return o[0]-=t.years,o[1]-=t.months,o[2]-=t.days,o[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(o)}addYears(i,t){let o=this.calendarSystem.markerToArray(i);return o[0]+=t,this.calendarSystem.arrayToMarker(o)}addMonths(i,t){let o=this.calendarSystem.markerToArray(i);return o[1]+=t,this.calendarSystem.arrayToMarker(o)}diffWholeYears(i,t){let{calendarSystem:o}=this;return fe(i)===fe(t)&&o.getMarkerDay(i)===o.getMarkerDay(t)&&o.getMarkerMonth(i)===o.getMarkerMonth(t)?o.getMarkerYear(t)-o.getMarkerYear(i):null}diffWholeMonths(i,t){let{calendarSystem:o}=this;return fe(i)===fe(t)&&o.getMarkerDay(i)===o.getMarkerDay(t)?o.getMarkerMonth(t)-o.getMarkerMonth(i)+12*(o.getMarkerYear(t)-o.getMarkerYear(i)):null}greatestWholeUnit(i,t){let o=this.diffWholeYears(i,t);return null!==o?{unit:"year",value:o}:(o=this.diffWholeMonths(i,t),null!==o?{unit:"month",value:o}:(o=function zl(n,i){let t=pp(n,i);return null!==t&&t%7==0?t/7:null}(i,t),null!==o?{unit:"week",value:o}:(o=pp(i,t),null!==o?{unit:"day",value:o}:(o=function Uf(n,i){return(i.valueOf()-n.valueOf())/36e5}(i,t),hd(o)?{unit:"hour",value:o}:(o=function dp(n,i){return(i.valueOf()-n.valueOf())/6e4}(i,t),hd(o)?{unit:"minute",value:o}:(o=function Du(n,i){return(i.valueOf()-n.valueOf())/1e3}(i,t),hd(o)?{unit:"second",value:o}:{unit:"millisecond",value:t.valueOf()-i.valueOf()}))))))}countDurationsBetween(i,t,o){let r;return o.years&&(r=this.diffWholeYears(i,t),null!==r)?r/function ug(n){return $c(n)/365}(o):o.months&&(r=this.diffWholeMonths(i,t),null!==r)?r/function Ff(n){return $c(n)/30}(o):o.days&&(r=pp(i,t),null!==r)?r/$c(o):(t.valueOf()-i.valueOf())/ya(o)}startOf(i,t){return"year"===t?this.startOfYear(i):"month"===t?this.startOfMonth(i):"week"===t?this.startOfWeek(i):"day"===t?ts(i):"hour"===t?function hp(n){return z([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(i):"minute"===t?function Hf(n){return z([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(i):"second"===t?function uh(n){return z([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(i):null}startOfYear(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i)])}startOfMonth(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i),this.calendarSystem.getMarkerMonth(i)])}startOfWeek(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i),this.calendarSystem.getMarkerMonth(i),i.getUTCDate()-(i.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(i){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(i)):function m(n,i,t){let o=n.getUTCFullYear(),r=c(n,o,i,t);if(r<1)return c(n,o-1,i,t);let g=c(n,o+1,i,t);return g>=1?Math.min(r,g):r}(i,this.weekDow,this.weekDoy)}format(i,t,o={}){return t.format({marker:i,timeZoneOffset:null!=o.forcedTzo?o.forcedTzo:this.offsetForMarker(i)},this)}formatRange(i,t,o,r={}){return r.isEndExclusive&&(t=Vl(t,-1)),o.formatRange({marker:i,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(i)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(i,t={}){let o=null;return t.omitTimeZoneOffset||(o=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(i)),Re(i,o,t.omitTime)}timestampToMarker(i){return"local"===this.timeZone?z(_(new Date(i))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?z(this.namedTimeZoneImpl.timestampToArray(i)):new Date(i)}offsetForMarker(i){return"local"===this.timeZone?-I(L(i)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(L(i)):null}toDate(i,t){return"local"===this.timeZone?I(L(i)):"UTC"===this.timeZone?new Date(i.valueOf()):this.namedTimeZoneImpl?new Date(i.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(L(i))*60):new Date(i.valueOf()-(t||0))}}class I0{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(i){let t=[];for(let o of i)this.insertEntry(o,t);return t}insertEntry(i,t){let o=this.findInsertion(i);return this.isInsertionValid(o,i)?(this.insertEntryAt(i,o),1):this.handleInvalidInsertion(o,i,t)}isInsertionValid(i,t){return(-1===this.maxCoord||i.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||i.stackCnt<this.maxStackCnt)}handleInvalidInsertion(i,t,o){return this.allowReslicing&&i.touchingEntry?this.splitEntry(t,i.touchingEntry,o):(o.push(t),0)}splitEntry(i,t,o){let r=0,g=[],E=i.span,W=t.span;return E.start<W.start&&(r+=this.insertEntry({index:i.index,thickness:i.thickness,span:{start:E.start,end:W.start}},g)),E.end>W.end&&(r+=this.insertEntry({index:i.index,thickness:i.thickness,span:{start:W.end,end:E.end}},g)),r?(o.push({index:i.index,thickness:i.thickness,span:lm(W,E)},...g),r):(o.push(i),0)}insertEntryAt(i,t){let{entriesByLevel:o,levelCoords:r}=this;-1===t.lateral?(cm(r,t.level,t.levelCoord),cm(o,t.level,[i])):cm(o[t.level],t.lateral,i),this.stackCnts[Td(i)]=t.stackCnt}findInsertion(i){let{levelCoords:t,entriesByLevel:o,strictOrder:r,stackCnts:g}=this,E=t.length,W=0,Ie=-1,it=-1,nt=null,Kt=0;for(let _n=0;_n<E;_n+=1){let Ln=t[_n];if(!r&&Ln>=W+i.thickness)break;let jn,Bn=o[_n],Ii=um(Bn,i.span.start,T0),to=Ii[0]+Ii[1];for(;(jn=Bn[to])&&jn.span.start<i.span.end;){let Hi=Ln+jn.thickness;Hi>W&&(W=Hi,nt=jn,Ie=_n,it=to),Hi===W&&(Kt=Math.max(Kt,g[Td(jn)]+1)),to+=1}}let Yt=0;if(nt)for(Yt=Ie+1;Yt<E&&t[Yt]<W;)Yt+=1;let Qt=-1;return Yt<E&&t[Yt]===W&&(Qt=um(o[Yt],i.span.end,T0)[0]),{touchingLevel:Ie,touchingLateral:it,touchingEntry:nt,stackCnt:Kt,levelCoord:W,level:Yt,lateral:Qt}}toRects(){let{entriesByLevel:i,levelCoords:t}=this,o=i.length,r=[];for(let g=0;g<o;g+=1){let E=i[g],W=t[g];for(let Ie of E)r.push(Object.assign(Object.assign({},Ie),{levelCoord:W}))}return r}}function T0(n){return n.span.end}function Td(n){return n.index+":"+n.span.start}function A0(n,i){return{start:Math.min(n.start,i.start),end:Math.max(n.end,i.end)}}function lm(n,i){let t=Math.max(n.start,i.start),o=Math.min(n.end,i.end);return t<o?{start:t,end:o}:null}function cm(n,i,t){n.splice(i,0,t)}function um(n,i,t){let o=0,r=n.length;if(!r||i<t(n[o]))return[0,0];if(i>t(n[r-1]))return[r,0];for(;o<r;){let g=Math.floor(o+(r-o)/2),E=t(n[g]);if(i<E)r=g;else{if(!(i>E))return[g,1];o=g+1}}return[o,0]}class Ad{constructor(i){this.component=i.component,this.isHitComboAllowed=i.isHitComboAllowed||null}destroy(){}}function kg(n){return{[n.component.uid]:n}}const dm={},Dg={};Boolean;class yc extends rs{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:i}=this,{options:t}=i,{forPrint:o}=this.state,r=o||"auto"===t.height||"auto"===t.contentHeight,g=r||null==t.height?"":t.height,E=["fc",o?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,i.theme.getClass("root")];return Cb()||E.push("fc-liquid-hack"),i.children(E,g,r,o)}componentDidMount(){let{emitter:i}=this.props;i.on("_beforeprint",this.handleBeforePrint),i.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:i}=this.props;i.off("_beforeprint",this.handleBeforePrint),i.off("_afterprint",this.handleAfterPrint)}}const E0="fc-col-header-cell";function S0(n){return n.text}class k0 extends rs{constructor(){super(...arguments),this.id=jc(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=i=>{this.props.elRef&&bc(this.props.elRef,i)}}render(){const{props:i,context:t}=this,{options:o}=t,{customGenerator:r,defaultGenerator:g,renderProps:E}=i,W=D0(i);let it,Kt,Ie=!1,nt=[];if(null!=r){const Yt="function"==typeof r?r(E,un):r;if(!0===Yt)Ie=!0;else{const Qt=Yt&&"object"==typeof Yt;Qt&&"html"in Yt?W.dangerouslySetInnerHTML={__html:Yt.html}:Qt&&"domNodes"in Yt?nt=Array.prototype.slice.call(Yt.domNodes):Qt||"function"==typeof Yt?Kt=Yt:it=Yt}}else Ie=!hm(i.generatorName,o);return Ie&&g&&(it=g(E)),this.queuedDomNodes=nt,this.currentGeneratorMeta=Kt,un(i.elTag,W,it)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(i){var t;const{props:o,context:r}=this,{handleCustomRendering:g,customRenderingMetaMap:E}=r.options;if(g){const W=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==E?void 0:E[o.generatorName];W&&g(Object.assign(Object.assign({id:this.id,isActive:i,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:W},o),{elClasses:(o.elClasses||[]).filter(Bb)}))}}applyQueueudDomNodes(){const{queuedDomNodes:i,currentDomNodes:t}=this,o=this.base;if(!Os(i,t)){t.forEach($p);for(let r of i)o.appendChild(r);this.currentDomNodes=i}}}function hm(n,i){var t;return Boolean(i.handleCustomRendering&&n&&(null===(t=i.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function D0(n,i){const t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||i)&&(t.className=(n.elClasses||[]).concat(i||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function Bb(n){return Boolean(n)}k0.addPropsEquality({elClasses:Os,elStyle:Il,elAttrs:function Zf(n,i){const t=ah(n,i);for(let o of t)if(!Bf.test(o))return!1;return!0},renderProps:Il});const M0=a0(0);let xa=(()=>{class n extends pa{constructor(){super(...arguments),this.InnerContent=Zb.bind(void 0,this),this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&bc(this.props.elRef,t)}}render(){const{props:t}=this,o=function Ub(n,i){const t="function"==typeof n?n(i):n||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const r=D0(t,o),g=t.children(this.InnerContent,t.renderProps,r);return t.elTag?un(t.elTag,r,g):g}return un(k0,Object.assign(Object.assign({},t),{elRef:this.handleRootEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(o),renderId:this.context}))}componentDidMount(){var t,o;null===(o=(t=this.props).didMount)||void 0===o||o.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var t,o;null===(o=(t=this.props).willUnmount)||void 0===o||o.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}return n.contextType=M0,n})();function Zb(n,i){const t=n.props;return un(k0,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},i))}class Mg extends rs{render(){let{dateEnv:i,options:t,theme:o,viewApi:r}=this.context,{props:g}=this,{date:E,dateProfile:W}=g,Ie=jf(E,g.todayRange,null,W),it=[E0].concat(gh(Ie,o)),nt=i.format(E,g.dayHeaderFormat),Kt=!Ie.isDisabled&&g.colCnt>1?Fu(this.context,E):{},Yt=Object.assign(Object.assign(Object.assign({date:i.toDate(E),view:r},g.extraRenderProps),{text:nt}),Ie);return un(xa,{elTag:"th",elClasses:it,elAttrs:Object.assign({role:"columnheader",colSpan:g.colSpan,"data-date":Ie.isDisabled?void 0:rt(E)},g.extraDataAttrs),renderProps:Yt,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:S0,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},Qt=>un("div",{className:"fc-scrollgrid-sync-inner"},!Ie.isDisabled&&un(Qt,{elTag:"a",elAttrs:Kt,elClasses:["fc-col-header-cell-cushion",g.isSticky&&"fc-sticky"]})))}}const gm=ns({weekday:"long"});class Og extends rs{render(){let{props:i}=this,{dateEnv:t,theme:o,viewApi:r,options:g}=this.context,E=ur(new Date(2592e5),i.dow),W={dow:i.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},Ie=t.format(E,i.dayHeaderFormat),it=Object.assign(Object.assign(Object.assign(Object.assign({date:E},W),{view:r}),i.extraRenderProps),{text:Ie});return un(xa,{elTag:"th",elClasses:[E0,...gh(W,o),...i.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan},i.extraDataAttrs),renderProps:it,generatorName:"dayHeaderContent",customGenerator:g.dayHeaderContent,defaultGenerator:S0,classNameGenerator:g.dayHeaderClassNames,didMount:g.dayHeaderDidMount,willUnmount:g.dayHeaderWillUnmount},nt=>un("div",{className:"fc-scrollgrid-sync-inner"},un(nt,{elTag:"a",elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(E,gm)}})))}}let Pg=(()=>{class n extends pa{constructor(t,o){super(t,o),this.initialNowDate=Ag(o.options.now,o.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:o}=this;return t.children(o.nowDate,o.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:o}=this,r=Vl(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),g=o.dateEnv.startOf(r,t.unit),E=o.dateEnv.add(g,go(1,t.unit)),W=E.valueOf()-r.valueOf();return W=Math.min(864e5,W),{currentState:{nowDate:g,todayRange:Lg(g)},nextState:{nowDate:E,todayRange:Lg(E)},waitMs:W}}setTimeout(){let{nextState:t,waitMs:o}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},o)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=iu,n})();function Lg(n){let i=ts(n);return{start:i,end:ur(i,1)}}class Hb extends rs{constructor(){super(...arguments),this.createDayHeaderFormatter=nn(O0)}render(){let{context:i}=this,{dates:t,dateProfile:o,datesRepDistinctDays:r,renderIntro:g}=this.props,E=this.createDayHeaderFormatter(i.options.dayHeaderFormat,r,t.length);return un(Pg,{unit:"day"},(W,Ie)=>un("tr",{role:"row"},g&&g("day"),t.map(it=>r?un(Mg,{key:it.toISOString(),date:it,dateProfile:o,todayRange:Ie,colCnt:t.length,dayHeaderFormat:E}):un(Og,{key:it.getUTCDay(),dow:it.getUTCDay(),dayHeaderFormat:E}))))}}function O0(n,i,t){return n||function pm(n,i){return ns(!n||i>10?{weekday:"short"}:i>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(i,t)}class fm{constructor(i,t){let o=i.start,{end:r}=i,g=[],E=[],W=-1;for(;o<r;)t.isHiddenDay(o)?g.push(W+.5):(W+=1,g.push(W),E.push(o)),o=ur(o,1);this.dates=E,this.indices=g,this.cnt=E.length}sliceRange(i){let t=this.getDateDayIndex(i.start),o=this.getDateDayIndex(ur(i.end,-1)),r=Math.max(0,t),g=Math.min(this.cnt-1,o);return r=Math.ceil(r),g=Math.floor(g),r<=g?{firstIndex:r,lastIndex:g,isStart:t===r,isEnd:o===g}:null}getDateDayIndex(i){let{indices:t}=this,o=Math.floor(vc(this.dates[0],i));return o<0?t[0]-1:o>=t.length?t[t.length-1]+1:t[o]}}class mm{constructor(i,t){let r,g,E,{dates:o}=i;if(t){for(g=o[0].getUTCDay(),r=1;r<o.length&&o[r].getUTCDay()!==g;r+=1);E=Math.ceil(o.length/r)}else E=1,r=o.length;this.rowCnt=E,this.colCnt=r,this.daySeries=i,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let i=[];for(let t=0;t<this.rowCnt;t+=1){let o=[];for(let r=0;r<this.colCnt;r+=1)o.push(this.buildCell(t,r));i.push(o)}return i}buildCell(i,t){let o=this.daySeries.dates[i*this.colCnt+t];return{key:o.toISOString(),date:o}}buildHeaderDates(){let i=[];for(let t=0;t<this.colCnt;t+=1)i.push(this.cells[0][t].date);return i}sliceRange(i){let{colCnt:t}=this,o=this.daySeries.sliceRange(i),r=[];if(o){let{firstIndex:g,lastIndex:E}=o,W=g;for(;W<=E;){let Ie=Math.floor(W/t),it=Math.min((Ie+1)*t,E+1);r.push({row:Ie,firstCol:W%t,lastCol:(it-1)%t,isStart:o.isStart&&W===g,isEnd:o.isEnd&&it-1===E}),W=it}}return r}}class _m{constructor(){this.sliceBusinessHours=nn(this._sliceBusinessHours),this.sliceDateSelection=nn(this._sliceDateSpan),this.sliceEventStore=nn(this._sliceEventStore),this.sliceEventDrag=nn(this._sliceInteraction),this.sliceEventResize=nn(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(i,t,o,r,...g){let{eventUiBases:E}=i,W=this.sliceEventStore(i.eventStore,E,t,o,...g);return{dateSelectionSegs:this.sliceDateSelection(i.dateSelection,t,o,E,r,...g),businessHourSegs:this.sliceBusinessHours(i.businessHours,t,o,r,...g),fgEventSegs:W.fg,bgEventSegs:W.bg,eventDrag:this.sliceEventDrag(i.eventDrag,E,t,o,...g),eventResize:this.sliceEventResize(i.eventResize,E,t,o,...g),eventSelection:i.eventSelection}}sliceNowDate(i,t,o,r,...g){return this._sliceDateSpan({range:{start:i,end:Vl(i,1)},allDay:!1},t,o,{},r,...g)}_sliceBusinessHours(i,t,o,r,...g){return i?this._sliceEventStore(Pu(i,bp(t,Boolean(o)),r),{},t,o,...g).bg:[]}_sliceEventStore(i,t,o,r,...g){if(i){let E=_h(i,t,bp(o,Boolean(r)),r);return{bg:this.sliceEventRanges(E.bg,g),fg:this.sliceEventRanges(E.fg,g)}}return{bg:[],fg:[]}}_sliceInteraction(i,t,o,r,...g){if(!i)return null;let E=_h(i.mutatedEvents,t,bp(o,Boolean(r)),r);return{segs:this.sliceEventRanges(E.fg,g),affectedInstances:i.affectedEvents.instances,isEvent:i.isEvent}}_sliceDateSpan(i,t,o,r,g,...E){if(!i)return[];let W=bp(t,Boolean(o)),Ie=Nu(i.range,W);if(Ie){let it=function cI(n,i,t){let o=Y_({editable:!1},t),r=Qf(o.refined,o.extra,"",n.allDay,!0,t);return{def:r,ui:nm(r,i),instance:gg(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}(i=Object.assign(Object.assign({},i),{range:Ie}),r,g),nt=this.sliceRange(i.range,...E);for(let Kt of nt)Kt.eventRange=it;return nt}return[]}sliceEventRanges(i,t){let o=[];for(let r of i)o.push(...this.sliceEventRange(r,t));return o}sliceEventRange(i,t){let o=i.range;this.forceDayIfListItem&&"list-item"===i.ui.display&&(o={start:o.start,end:ur(o.start,1)});let r=this.sliceRange(o,...t);for(let g of r)g.eventRange=i,g.isStart=i.isStart&&g.isStart,g.isEnd=i.isEnd&&g.isEnd;return r}}function bp(n,i){let t=n.activeRange;return i?t:{start:Vl(t.start,n.slotMinTime.milliseconds),end:Vl(t.end,n.slotMaxTime.milliseconds-864e5)}}function yp(n,i,t){let o=t.options.eventDataTransform,r=i?i.eventDataTransform:null;return r&&(n=P0(n,r)),o&&(n=P0(n,o)),n}function P0(n,i){let t;if(i){t=[];for(let o of n){let r=i(o);r?t.push(r):null==r&&t.push(o)}}else t=n;return t}function vm(n,i,t){let{defs:o}=n,r=xl(n.instances,g=>o[g.defId].allDay?g:Object.assign(Object.assign({},g),{range:{start:t.createMarker(i.toDate(g.range.start,g.forcedStartTzo)),end:t.createMarker(i.toDate(g.range.end,g.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:g.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:g.forcedEndTzo}));return{defs:o,instances:r}}function L0(n,i){return mg(n,t=>t.sourceId!==i)}function R0(n,i,t){let{instances:o}=n.mutatedEvents;for(let r in o)if(!yg(i.validRange,o[r].range))return!1;return N0({eventDrag:n},t)}function N0(n,i){let t=i.getCurrentData(),o=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(i.pluginHooks.isPropsValid||pI)(o,i)}function pI(n,i,t={},o){return!(n.eventDrag&&!function zb(n,i,t,o){let r=i.getCurrentData(),g=n.eventDrag,E=g.mutatedEvents,W=E.defs,Ie=E.instances,it=Wl(W,g.isEvent?n.eventUiBases:{"":r.selectionConfig});o&&(it=xl(it,o));let nt=function Vb(n,i){return{defs:n.defs,instances:Hl(n.instances,t=>!i[t.instanceId])}}(n.eventStore,g.affectedEvents.instances),Kt=nt.defs,Yt=nt.instances,Qt=Wl(Kt,n.eventUiBases);for(let _n in Ie){let Ln=Ie[_n],Bn=Ln.range,jn=it[Ln.defId],Ii=W[Ln.defId];if(!F0(jn.constraints,Bn,nt,n.businessHours,i))return!1;let{eventOverlap:to}=i.options,Hi="function"==typeof to?to:null;for(let ms in Yt){let Us=Yt[ms];if(Yf(Bn,Us.range)&&(!1===Qt[Us.defId].overlap&&g.isEvent||!1===jn.overlap||Hi&&!Hi(new Ps(i,Kt[Us.defId],Us),new Ps(i,Ii,Ln))))return!1}let Ao=r.eventStore;for(let ms of jn.allows){let H_,Us=Object.assign(Object.assign({},t),{range:Ln.range,allDay:Ii.allDay}),Mo=Ao.defs[Ii.defId],kc=Ao.instances[_n];if(H_=Mo?new Ps(i,Mo,kc):new Ps(i,Ii),!ms(u0(Us,i),H_))return!1}}return!0}(n,i,t,o)||n.dateSelection&&!function Jb(n,i,t,o){let r=n.eventStore,g=r.defs,E=r.instances,W=n.dateSelection,Ie=W.range,{selectionConfig:it}=i.getCurrentData();if(o&&(it=o(it)),!F0(it.constraints,Ie,r,n.businessHours,i))return!1;let{selectOverlap:nt}=i.options,Kt="function"==typeof nt?nt:null;for(let Yt in E){let Qt=E[Yt];if(Yf(Ie,Qt.range)&&(!1===it.overlap||Kt&&!Kt(new Ps(i,g[Qt.defId],Qt),null)))return!1}for(let Yt of it.allows)if(!Yt(u0(Object.assign(Object.assign({},t),W),i),null))return!1;return!0}(n,i,t,o))}function F0(n,i,t,o,r){for(let g of n)if(!Qb(B0(g,i,t,o,r),i))return!1;return!0}function B0(n,i,t,o,r){return"businessHours"===n?bh(Pu(o,i,r)):"string"==typeof n?bh(mg(t,g=>g.groupId===n)):"object"==typeof n&&n?bh(Pu(n,i,r)):[]}function bh(n){let{instances:i}=n,t=[];for(let o in i)t.push(i[o].range);return t}function Qb(n,i){for(let t of n)if(yg(t,i))return!0;return!1}class Fg extends Error{constructor(i,t){super(i),this.response=t}}class bm{constructor(i){this.drainedOption=i,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(i){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==i?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),i))}pause(i=""){let{pauseDepths:t}=this;t[i]=(t[i]||0)+1,this.clearTimeout()}resume(i="",t){let{pauseDepths:o}=this;i in o&&(t?delete o[i]:(o[i]-=1,o[i]<=0&&delete o[i]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const Bg=/^(visible|hidden)$/;class Z0 extends rs{constructor(){super(...arguments),this.handleEl=i=>{this.el=i,bc(this.props.elRef,i)}}render(){let{props:i}=this,{liquid:t,liquidIsAbsolute:o}=i,r=t&&o,g=["fc-scroller"];return t&&g.push(o?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),un("div",{ref:this.handleEl,className:g.join(" "),style:{overflowX:i.overflowX,overflowY:i.overflowY,left:r&&-(i.overcomeLeft||0)||"",right:r&&-(i.overcomeRight||0)||"",bottom:r&&-(i.overcomeBottom||0)||"",marginLeft:!r&&-(i.overcomeLeft||0)||"",marginRight:!r&&-(i.overcomeRight||0)||"",marginBottom:!r&&-(i.overcomeBottom||0)||"",maxHeight:i.maxHeight||""}},i.children)}needsXScrolling(){if(Bg.test(this.props.overflowX))return!1;let{el:i}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:o}=i;for(let r=0;r<o.length;r+=1)if(o[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Bg.test(this.props.overflowY))return!1;let{el:i}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:o}=i;for(let r=0;r<o.length;r+=1)if(o[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Bg.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Bg.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class su{constructor(i){this.masterCallback=i,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,o)=>{let{depths:r,currentMap:g}=this,E=!1,W=!1;null!==t?(E=o in g,g[o]=t,r[o]=(r[o]||0)+1,W=!0):(r[o]-=1,r[o]||(delete g[o],delete this.callbackMap[o],E=!0)),this.masterCallback&&(E&&this.masterCallback(null,String(o)),W&&this.masterCallback(t,String(o)))}}createRef(i){let t=this.callbackMap[i];return t||(t=this.callbackMap[i]=o=>{this.handleValue(o,String(i))}),t}collect(i,t,o){return function qc(n,i=0,t,o=1){let r=[];null==t&&(t=Object.keys(n).length);for(let g=i;g<t;g+=o){let E=n[g];void 0!==E&&r.push(E)}return r}(this.currentMap,i,t,o)}getAll(){return rh(this.currentMap)}}function yh(n,i){return n.liquid&&i.liquid}function xh(n,i){return Os(n,i,Il)}function Yb(n,i){let t=[];for(let o of n){let r=o.span||1;for(let g=0;g<r;g+=1)t.push(un("col",{style:{width:"shrink"===o.width?jb(i):o.width||"",minWidth:o.minWidth||""}}))}return un("colgroup",{},...t)}function jb(n){return null==n?4:n}function xc(n,i){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return i&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Ed(n){return un("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function na(n){let{stickyHeaderDates:i}=n;return(null==i||"auto"===i)&&(i="auto"===n.height||"auto"===n.viewHeight),i}function Uu(n){let{stickyFooterScrollbar:i}=n;return(null==i||"auto"===i)&&(i="auto"===n.height||"auto"===n.viewHeight),i}class xp extends rs{constructor(){super(...arguments),this.processCols=nn(i=>i,xh),this.renderMicroColGroup=nn(Yb),this.scrollerRefs=new su,this.scrollerElRefs=new su(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:i,state:t,context:o}=this,r=i.sections||[],g=this.processCols(i.cols),E=this.renderMicroColGroup(g,t.shrinkWidth),W=function Kb(n,i){let t=["fc-scrollgrid",i.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(i.liquid,o);i.collapsibleWidth&&W.push("fc-scrollgrid-collapsible");let nt,Ie=r.length,it=0,Kt=[],Yt=[],Qt=[];for(;it<Ie&&"header"===(nt=r[it]).type;)Kt.push(this.renderSection(nt,E,!0)),it+=1;for(;it<Ie&&"body"===(nt=r[it]).type;)Yt.push(this.renderSection(nt,E,!1)),it+=1;for(;it<Ie&&"footer"===(nt=r[it]).type;)Qt.push(this.renderSection(nt,E,!0)),it+=1;let _n=!Cb();const Ln={role:"rowgroup"};return un("table",{role:"grid",className:W.join(" "),style:{height:i.height}},Boolean(!_n&&Kt.length)&&un("thead",Ln,...Kt),Boolean(!_n&&Yt.length)&&un("tbody",Ln,...Yt),Boolean(!_n&&Qt.length)&&un("tfoot",Ln,...Qt),_n&&un("tbody",Ln,...Kt,...Yt,...Qt))}renderSection(i,t,o){return"outerContent"in i?un(Go,{key:i.key},i.outerContent):un("tr",{key:i.key,role:"presentation",className:xc(i,this.props.liquid).join(" ")},this.renderChunkTd(i,t,i.chunk,o))}renderChunkTd(i,t,o,r){if("outerContent"in o)return o.outerContent;let{props:g}=this,{forceYScrollbars:E,scrollerClientWidths:W,scrollerClientHeights:Ie}=this.state,it=function wd(n,i){return null!=i.maxHeight||yh(n,i)}(g,i),nt=yh(g,i),Kt=g.liquid?E?"scroll":it?"auto":"hidden":"visible",Yt=i.key,Qt=function hI(n,i,t,o){let{expandRows:r}=t;return"function"==typeof i.content?i.content(t):un("table",{role:"presentation",className:[i.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,un(o?"thead":"tbody",{role:"presentation"},"function"==typeof i.rowContent?i.rowContent(t):i.rowContent))}(i,o,{tableColGroupNode:t,tableMinWidth:"",clientWidth:g.collapsibleWidth||void 0===W[Yt]?null:W[Yt],clientHeight:void 0!==Ie[Yt]?Ie[Yt]:null,expandRows:i.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return un(r?"th":"td",{ref:o.elRef,role:"presentation"},un("div",{className:"fc-scroller-harness"+(nt?" fc-scroller-harness-liquid":"")},un(Z0,{ref:this.scrollerRefs.createRef(Yt),elRef:this.scrollerElRefs.createRef(Yt),overflowY:Kt,overflowX:g.liquid?"hidden":"visible",maxHeight:i.maxHeight,liquid:nt,liquidIsAbsolute:!0},Qt)))}_handleScrollerEl(i,t){let o=function wl(n,i){for(let t of n)if(t.key===i)return t;return null}(this.props.sections,t);o&&bc(o.chunk.scrollerElRef,i)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function ym(n){for(let i of n)if("shrink"===i.width)return!0;return!1}(this.props.cols)?function Wb(n){let i=function qp(n,i){let t=n instanceof HTMLElement?[n]:n,o=[];for(let r=0;r<t.length;r+=1){let g=t[r].querySelectorAll(i);for(let E=0;E<g.length;E+=1)o.push(g[E])}return o}(n,".fc-scrollgrid-shrink"),t=0;for(let o of i)t=Math.max(t,lg(o));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let i=function n0(){return xg||(xg=function Ig(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let i=Al(n);return document.body.removeChild(n),i}()),xg}(),{scrollerRefs:t,scrollerElRefs:o}=this,r=!1,g={},E={};for(let W in t.currentMap){let Ie=t.currentMap[W];if(Ie&&Ie.needsYScrolling()){r=!0;break}}for(let W of this.props.sections){let Ie=W.key,it=o.currentMap[Ie];if(it){let nt=it.parentNode;g[Ie]=Math.floor(nt.getBoundingClientRect().width-(r?i.y:0)),E[Ie]=Math.floor(nt.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:g,scrollerClientHeights:E}}}xp.addStateEquality({scrollerClientWidths:Il,scrollerClientHeights:Il});class Ip extends rs{constructor(){super(...arguments),this.handleEl=i=>{this.el=i,i&&wg(i,this.props.seg)}}render(){const{props:i,context:t}=this,{options:o}=t,{seg:r}=i,{eventRange:g}=r,{ui:E}=g,W={event:new Ps(t,g.def,g.instance),view:t.viewApi,timeText:i.timeText,textColor:E.textColor,backgroundColor:E.backgroundColor,borderColor:E.borderColor,isDraggable:!i.disableDragging&&g0(r,t),isStartResizable:!i.disableResizing&&Mb(r,t),isEndResizable:!i.disableResizing&&(n=r,n.isEnd&&n.eventRange.ui.durationEditable),isMirror:Boolean(i.isDragging||i.isResizing||i.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(i.isPast),isFuture:Boolean(i.isFuture),isToday:Boolean(i.isToday),isSelected:Boolean(i.isSelected),isDragging:Boolean(i.isDragging),isResizing:Boolean(i.isResizing)};var n;return un(xa,Object.assign({},i,{elRef:this.handleEl,elClasses:[...om(W),...r.eventRange.ui.classNames,...i.elClasses||[]],renderProps:W,generatorName:"eventContent",customGenerator:o.eventContent,defaultGenerator:i.defaultGenerator,classNameGenerator:o.eventClassNames,didMount:o.eventDidMount,willUnmount:o.eventWillUnmount}))}componentDidUpdate(i){this.el&&this.props.seg!==i.seg&&wg(this.el,this.props.seg)}}class Sd extends rs{render(){let{props:i,context:t}=this,{options:o}=t,{seg:r}=i,{ui:g}=r.eventRange,W=Zu(r,o.eventTimeFormat||i.defaultTimeFormat,t,i.defaultDisplayEventTime,i.defaultDisplayEventEnd);return un(Ip,Object.assign({},i,{elTag:"a",elStyle:{borderColor:g.borderColor,backgroundColor:g.backgroundColor},elAttrs:Ch(r,t),defaultGenerator:Tp,timeText:W}),(Ie,it)=>un(Go,null,un(Ie,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:it.textColor}}),Boolean(it.isStartResizable)&&un("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(it.isEndResizable)&&un("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Tp(n){return un("div",{className:"fc-event-main-frame"},n.timeText&&un("div",{className:"fc-event-time"},n.timeText),un("div",{className:"fc-event-title-container"},un("div",{className:"fc-event-title fc-sticky"},n.event.title||un(Go,null,"\xa0"))))}const Hu=n=>un(iu.Consumer,null,i=>{let{options:t}=i,o={isAxis:n.isAxis,date:i.dateEnv.toDate(n.date),view:i.viewApi};return un(xa,Object.assign({},n,{elTag:n.elTag||"div",renderProps:o,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),Ap=ns({day:"numeric"});class Vu extends rs{constructor(){super(...arguments),this.refineRenderProps=vn(wp)}render(){let{props:i,context:t}=this,{options:o}=t,r=this.refineRenderProps({date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,isMonthStart:i.isMonthStart||!1,showDayNumber:i.showDayNumber,extraRenderProps:i.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:o.monthStartFormat});return un(xa,Object.assign({},i,{elClasses:[...gh(r,t.theme),...i.elClasses||[]],elAttrs:Object.assign(Object.assign({},i.elAttrs),r.isDisabled?{}:{"data-date":rt(i.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:o.dayCellContent,defaultGenerator:i.defaultGenerator,classNameGenerator:r.isDisabled?void 0:o.dayCellClassNames,didMount:o.dayCellDidMount,willUnmount:o.dayCellWillUnmount}))}}function zu(n){return Boolean(n.dayCellContent||hm("dayCellContent",n))}function wp(n){let{date:i,dateEnv:t,dateProfile:o,isMonthStart:r}=n,g=jf(i,n.todayRange,null,o),E=n.showDayNumber?t.format(i,r?n.monthStartFormat:Ap):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(i),view:n.viewApi},g),{isMonthStart:r,dayNumberText:E}),n.extraRenderProps)}class kd extends rs{render(){let{props:i}=this,{seg:t}=i;return un(Ip,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:Ep,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday,disableDragging:!0,disableResizing:!0})}}function Ep(n){let{title:i}=n.event;return i&&un("div",{className:"fc-event-title"},n.event.title)}function xm(n){return un("div",{className:`fc-${n}`})}const Im=n=>un(iu.Consumer,null,i=>{let{dateEnv:t,options:o}=i,{date:r}=n,g=o.weekNumberFormat||n.defaultFormat,E=t.computeWeekNumber(r),W=t.format(r,g);return un(xa,Object.assign({},n,{renderProps:{num:E,text:W,date:r},generatorName:"weekNumberContent",customGenerator:o.weekNumberContent,defaultGenerator:U0,classNameGenerator:o.weekNumberClassNames,didMount:o.weekNumberDidMount,willUnmount:o.weekNumberWillUnmount}))});function U0(n){return n.text}class H0 extends rs{constructor(){super(...arguments),this.state={titleId:Zl()},this.handleRootEl=i=>{this.rootEl=i,this.props.elRef&&bc(this.props.elRef,i)},this.handleDocumentMouseDown=i=>{const t=dd(i);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=i=>{"Escape"===i.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:i}=this.props;i&&i()}}render(){let{theme:i,options:t}=this.context,{props:o,state:r}=this,g=["fc-popover",i.getClass("popover")].concat(o.extraClassNames||[]);return function qe(n,i){var t=un(se,{__v:n,i});return t.containerInfo=i,t}(un("div",Object.assign({},o.extraAttrs,{id:o.id,className:g.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),un("div",{className:"fc-popover-header "+i.getClass("popoverHeader")},un("span",{className:"fc-popover-title",id:r.titleId},o.title),un("span",{className:"fc-popover-close "+i.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),un("div",{className:"fc-popover-body "+i.getClass("popoverContent")},o.children)),o.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:i}=this.context,{alignmentEl:t,alignGridTop:o}=this.props,{rootEl:r}=this,g=function nu(n){let i=Tg(n),t=n.getBoundingClientRect();for(let o of i){let r=$_(t,o.getBoundingClientRect());if(!r)return null;t=r}return t}(t);if(g){let E=r.getBoundingClientRect(),W=o?ga(t,".fc-scrollgrid").getBoundingClientRect().top:g.top,Ie=i?g.right-E.width:g.left;W=Math.max(W,10),Ie=Math.min(Ie,document.documentElement.clientWidth-10-E.width),Ie=Math.max(Ie,10);let it=r.offsetParent.getBoundingClientRect();_c(r,{top:W-it.top,left:Ie-it.left})}}}class V0 extends Gl{constructor(){super(...arguments),this.handleRootEl=i=>{this.rootEl=i,i?this.context.registerInteractiveComponent(this,{el:i,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:i,dateEnv:t}=this.context,{props:o}=this,{startDate:r,todayRange:g,dateProfile:E}=o,W=t.format(r,i.dayPopoverFormat);return un(Vu,{elRef:this.handleRootEl,date:r,dateProfile:E,todayRange:g},(Ie,it,nt)=>un(H0,{elRef:nt.ref,id:o.id,title:W,extraClassNames:["fc-more-popover"].concat(nt.className||[]),extraAttrs:nt,parentEl:o.parentEl,alignmentEl:o.alignmentEl,alignGridTop:o.alignGridTop,onClose:o.onClose},zu(i)&&un(Ie,{elTag:"div",elClasses:["fc-more-popover-misc"]}),o.children))}queryHit(i,t,o,r){let{rootEl:g,props:E}=this;return i>=0&&i<o&&t>=0&&t<r?{dateProfile:E.dateProfile,dateSpan:Object.assign({allDay:!E.forceTimed,range:{start:E.startDate,end:E.endDate}},E.extraDateSpan),dayEl:g,rect:{left:0,top:0,right:o,bottom:r},layer:1}:null}}class Tm extends rs{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Zl()},this.handleLinkEl=i=>{this.linkEl=i,this.props.elRef&&bc(this.props.elRef,i)},this.handleClick=i=>{let{props:t,context:o}=this,{moreLinkClick:r}=o.options,g=Am(t).start;function E(W){let{def:Ie,instance:it,range:nt}=W.eventRange;return{event:new Ps(o,Ie,it),start:o.dateEnv.toDate(nt.start),end:o.dateEnv.toDate(nt.end),isStart:W.isStart,isEnd:W.isEnd}}"function"==typeof r&&(r=r({date:g,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(E),hiddenSegs:t.hiddenSegs.map(E),jsEvent:i,view:o.viewApi})),r&&"popover"!==r?"string"==typeof r&&o.calendarApi.zoomTo(g,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:i,state:t}=this;return un(iu.Consumer,null,o=>{let{viewApi:r,options:g,calendarApi:E}=o,{moreLinkText:W}=g,{moreCnt:Ie}=i,it=Am(i),nt="function"==typeof W?W.call(E,Ie):`+${Ie} ${W}`,Kt=Ul(g.moreLinkHint,[Ie],nt),Yt={num:Ie,shortText:`+${Ie}`,text:nt,view:r};return un(Go,null,Boolean(i.moreCnt)&&un(xa,{elTag:i.elTag||"a",elRef:this.handleLinkEl,elClasses:[...i.elClasses||[],"fc-more-link"],elStyle:i.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},i.elAttrs),ll(this.handleClick)),{title:Kt,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:Yt,generatorName:"moreLinkContent",customGenerator:g.moreLinkContent,defaultGenerator:i.defaultGenerator||z0,classNameGenerator:g.moreLinkClassNames,didMount:g.moreLinkDidMount,willUnmount:g.moreLinkWillUnmount},i.children),t.isPopoverOpen&&un(V0,{id:t.popoverId,startDate:it.start,endDate:it.end,dateProfile:i.dateProfile,todayRange:i.todayRange,extraDateSpan:i.extraDateSpan,parentEl:this.parentEl,alignmentEl:i.alignmentElRef?i.alignmentElRef.current:this.linkEl,alignGridTop:i.alignGridTop,forceTimed:i.forceTimed,onClose:this.handlePopoverClose},i.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ga(this.linkEl,".fc-view-harness"))}}function z0(n){return n.text}function Am(n){if(n.allDayDate)return{start:n.allDayDate,end:ur(n.allDayDate,1)};let{hiddenSegs:i}=n;return{start:J0(i),end:Q0(i)}}function J0(n){return n.reduce($b).eventRange.range.start}function $b(n,i){return n.eventRange.range.start<i.eventRange.range.start?n:i}function Q0(n){return n.reduce(qb).eventRange.range.end}function qb(n,i){return n.eventRange.range.end>i.eventRange.range.end?n:i}class Sp extends rs{render(){let{props:i,context:t}=this,{options:o}=t,r={view:t.viewApi};return un(xa,Object.assign({},i,{elTag:i.elTag||"div",elClasses:[...Ug(i.viewSpec),...i.elClasses||[]],renderProps:r,classNameGenerator:o.viewClassNames,generatorName:void 0,didMount:o.viewDidMount,willUnmount:o.viewWillUnmount}),()=>i.children)}}function Ug(n){return[`fc-${n.type}-view`,"fc-view"]}const wm={id:String,defaultAllDay:Boolean,url:String,format:String,events:Vn,eventDataTransform:Vn,success:Vn,failure:Vn};function G0(n,i,t=Ih(i)){let o;if("string"==typeof n?o={url:n}:"function"==typeof n||Array.isArray(n)?o={events:n}:"object"==typeof n&&n&&(o=n),o){let{refined:r,extra:g}=dh(o,t),E=function Hg(n,i){let t=i.pluginHooks.eventSourceDefs;for(let o=t.length-1;o>=0;o-=1){let g=t[o].parseMeta(n);if(g)return{sourceDefId:o,meta:g}}return null}(r,i);if(E)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:jc(),sourceDefId:E.sourceDefId,meta:E.meta,ui:_g(r,i),extendedProps:g}}return null}function Ih(n){return Object.assign(Object.assign(Object.assign({},ph),wm),n.pluginHooks.eventSourceRefiners)}class Vg extends class Xb{constructor(){this.handlers=[]}set(i){this.currentValue=i;for(let t of this.handlers)t(i)}subscribe(i){this.handlers.push(i),void 0!==this.currentValue&&i(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(i){const{map:t}=this;let o=!1;i.isActive?(t.set(i.id,i),o=!0):t.has(i.id)&&(t.delete(i.id),o=!0),o&&this.set(t)}}const zg=[],Jg={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Sm=Object.assign(Object.assign({},Jg),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(n,i)=>"day"===i?"Today":`This ${n}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:n=>`Show ${n} more event${1===n?"":"s"}`});function Qg(n){let i=n.length>0?n[0].code:"en",t=zg.concat(n),o={en:Sm};for(let r of t)o[r.code]=r;return{map:o,defaultCode:i}}function Gg(n,i){return"object"!=typeof n||Array.isArray(n)?function W0(n,i){let t=[].concat(n||[]),o=function km(n,i){for(let t=0;t<n.length;t+=1){let o=n[t].toLocaleLowerCase().split("-");for(let r=o.length;r>0;r-=1){let g=o.slice(0,r).join("-");if(i[g])return i[g]}}return null}(t,i)||Sm;return Dm(n,t,o)}(n,i):Dm(n.code,[n.code],n)}function Dm(n,i,t){let o=sh([Jg,t],["buttonText"]);delete o.code;let{week:r}=o;return delete o.week,{codeArg:n,codes:i,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:o}}function Ic(n){return{id:jc(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function K0(n,i){return{premiumReleaseDate:$0(n.premiumReleaseDate,i.premiumReleaseDate),reducers:n.reducers.concat(i.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(i.isLoadingFuncs),contextInit:n.contextInit.concat(i.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),i.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(i.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),i.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(i.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(i.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(i.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(i.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(i.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(i.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),i.views),viewPropsTransformers:n.viewPropsTransformers.concat(i.viewPropsTransformers),isPropsValid:i.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(i.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(i.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(i.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(i.calendarInteractions),componentInteractions:n.componentInteractions.concat(i.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),i.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(i.eventSourceDefs),cmdFormatter:i.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(i.recurringTypes),namedTimeZonedImpl:i.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||i.initialView,elementDraggingImpl:n.elementDraggingImpl||i.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),i.optionChangeHandlers),scrollGridImpl:i.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),i.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),i.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),i.propSetHandlers)}}function $0(n,i){return void 0===n?i:void 0===i?n:new Date(Math.max(n.valueOf(),i.valueOf()))}class Ju extends xd{}function Wg(n,i,t,o){if(i[n])return i[n];let r=function X0(n,i,t,o){let r=t[n],g=o[n],E=nt=>r&&null!==r[nt]?r[nt]:g&&null!==g[nt]?g[nt]:null,W=E("component"),Ie=E("superType"),it=null;if(Ie){if(Ie===n)throw new Error("Can't have a custom view type that references itself");it=Wg(Ie,i,t,o)}return!W&&it&&(W=it.component),W?{type:n,component:W,defaults:Object.assign(Object.assign({},it?it.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},it?it.overrides:{}),g?g.rawOptions:{})}:null}(n,i,t,o);return r&&(i[n]=r),r}function Yg(n){return xl(n,eC)}function eC(n){let i="function"==typeof n?{component:n}:n,{component:t}=i;return i.content&&(t=function tC(n){return i=>un(iu.Consumer,null,t=>un(xa,{elTag:"div",elClasses:Ug(t.viewSpec),renderProps:Object.assign(Object.assign({},i),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}(i)),{superType:i.type,component:t,rawOptions:i}}function nC(n,i,t,o){let r=Yg(n),g=Yg(i.views),E=function q0(n,i){let o,t={};for(o in n)Wg(o,t,n,i);for(o in i)Wg(o,t,n,i);return t}(r,g);return xl(E,W=>function iC(n,i,t,o,r){let g=n.overrides.duration||n.defaults.duration||o.duration||t.duration,E=null,W="",Ie="",it={};if(g&&(E=function oC(n){let i=JSON.stringify(n),t=Mm[i];return void 0===t&&(t=go(n),Mm[i]=t),t}(g),E)){let Yt=Bs(E);W=Yt.unit,1===Yt.value&&(Ie=W,it=i[W]?i[W].rawOptions:{})}let nt=Yt=>{let Qt=Yt.buttonText||{},_n=n.defaults.buttonTextKey;return null!=_n&&null!=Qt[_n]?Qt[_n]:null!=Qt[n.type]?Qt[n.type]:null!=Qt[Ie]?Qt[Ie]:null},Kt=Yt=>{let Qt=Yt.buttonHints||{},_n=n.defaults.buttonTextKey;return null!=_n&&null!=Qt[_n]?Qt[_n]:null!=Qt[n.type]?Qt[n.type]:null!=Qt[Ie]?Qt[Ie]:null};return{type:n.type,component:n.component,duration:E,durationUnit:W,singleUnit:Ie,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},it),n.overrides),buttonTextOverride:nt(o)||nt(t)||n.overrides.buttonText,buttonTextDefault:nt(r)||n.defaults.buttonText||nt(Tl)||n.type,buttonTitleOverride:Kt(o)||Kt(t)||n.overrides.buttonHint,buttonTitleDefault:Kt(r)||n.defaults.buttonHint||Kt(Tl)}}(W,g,i,t,o))}Ju.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Ju.prototype.baseIconClass="fc-icon",Ju.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Ju.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Ju.prototype.iconOverrideOption="buttonIcons",Ju.prototype.iconOverrideCustomButtonOption="icon",Ju.prototype.iconOverridePrefix="fc-icon-";let Mm={};function lC(n){for(let i in n)if(n[i].isFetching)return!0;return!1}function Zr(n,i,t,o){let r={};for(let g of i)r[g.sourceId]=g;return t&&(r=uC(r,t,o)),Object.assign(Object.assign({},n),r)}function uC(n,i,t){return jg(n,Hl(n,o=>function ny(n,i,t){return pC(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||i.start<n.fetchRange.start||i.end>n.fetchRange.end:!n.latestFetchId}(o,i,t)),i,!1,t)}function jg(n,i,t,o,r){let g={};for(let E in n){let W=n[E];g[E]=i[E]?iy(W,t,o,r):W}return g}function iy(n,i,t,o){let{options:r,calendarApi:g}=o,E=o.pluginHooks.eventSourceDefs[n.sourceDefId],W=jc();return E.fetch({eventSource:n,range:i,isRefetch:t,context:o},Ie=>{let{rawEvents:it}=Ie;r.eventSourceSuccess&&(it=r.eventSourceSuccess.call(g,it,Ie.response)||it),n.success&&(it=n.success.call(g,it,Ie.response)||it),o.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:W,fetchRange:i,rawEvents:it})},Ie=>{let it=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(g,Ie),it=!0),n.failure&&(n.failure(Ie),it=!0),it||console.warn(Ie.message,Ie),o.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:W,fetchRange:i,error:Ie})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:W})}function Om(n,i){return Hl(n,t=>pC(t,i))}function pC(n,i){return!i.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function oy(n,i){switch(i.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return i.selection;default:return n}}function hC(n,i){switch(i.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return i.eventInstanceId;default:return n}}function sy(n,i){let t;switch(i.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=i.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function gC(n,i){let t;switch(i.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=i.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function fI(n,i,t,o,r){return{header:n.headerToolbar?Kg(n.headerToolbar,n,i,t,o,r):null,footer:n.footerToolbar?Kg(n.footerToolbar,n,i,t,o,r):null}}function Kg(n,i,t,o,r,g){let E={},W=[],Ie=!1;for(let it in n){let Kt=Pm(n[it],i,t,o,r,g);E[it]=Kt.widgets,W.push(...Kt.viewsWithButtons),Ie=Ie||Kt.hasTitle}return{sectionWidgets:E,viewsWithButtons:W,hasTitle:Ie}}function Pm(n,i,t,o,r,g){let E="rtl"===i.direction,W=i.customButtons||{},Ie=t.buttonText||{},it=i.buttonText||{},nt=t.buttonHints||{},Kt=i.buttonHints||{},Yt=n?n.split(" "):[],Qt=[],_n=!1;return{widgets:Yt.map(Bn=>Bn.split(",").map(jn=>{if("title"===jn)return _n=!0,{buttonName:jn};let Ii,to,Hi,Ao,ms,Us;if(Ii=W[jn])Hi=Mo=>{Ii.click&&Ii.click.call(Mo.target,Mo,Mo.target)},(Ao=o.getCustomButtonIconClass(Ii))||(Ao=o.getIconClass(jn,E))||(ms=Ii.text),Us=Ii.hint||Ii.text;else if(to=r[jn]){Qt.push(jn),Hi=()=>{g.changeView(jn)},(ms=to.buttonTextOverride)||(Ao=o.getIconClass(jn,E))||(ms=to.buttonTextDefault);let Mo=to.buttonTextOverride||to.buttonTextDefault;Us=Ul(to.buttonTitleOverride||to.buttonTitleDefault||i.viewHint,[Mo,jn],Mo)}else if(g[jn])if(Hi=()=>{g[jn]()},(ms=Ie[jn])||(Ao=o.getIconClass(jn,E))||(ms=it[jn]),"prevYear"===jn||"nextYear"===jn){let Mo="prevYear"===jn?"prev":"next";Us=Ul(nt[Mo]||Kt[Mo],[it.year||"year","year"],it[jn])}else Us=Mo=>Ul(nt[jn]||Kt[jn],[it[Mo]||Mo,Mo],it[jn]);return{buttonName:jn,buttonClick:Hi,buttonIcon:Ao,buttonText:ms,buttonHint:Us}})),viewsWithButtons:Qt,hasTitle:_n}}class Yl{constructor(i,t,o){this.type=i,this.getCurrentData=t,this.dateEnv=o}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(i){return this.getCurrentData().options[i]}}function _C(n,i){let t=rh(i.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))return void i.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});let o=[];for(let r of n){let g=!1;for(let E=0;E<t.length;E+=1)if(t[E]._raw===r){t.splice(E,1),g=!0;break}g||o.push(r)}for(let r of t)i.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of o)i.calendarApi.addEventSource(r)}const vC=[Ic({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:n=>Array.isArray(n.events)?n.events:null,fetch(n,i){i({rawEvents:n.eventSource.meta})}}]}),Ic({name:"func-event-source",eventSourceDefs:[{parseMeta:n=>"function"==typeof n.events?n.events:null,fetch(n,i,t){const{dateEnv:o}=n.context;!function s0(n,i,t){let o=!1,r=function(W){o||(o=!0,i(W))},g=function(W){o||(o=!0,t(W))},E=n(r,g);E&&"function"==typeof E.then&&E.then(r,g)}(n.eventSource.meta.bind(null,Sg(n.range,o)),g=>i({rawEvents:g}),t)}}]}),Ic({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Vn,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:n=>!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam},fetch(n,i,t){const{meta:o}=n.eventSource,r=function ay(n,i,t){let g,E,W,Ie,{dateEnv:o,options:r}=t,it={};return g=n.startParam,null==g&&(g=r.startParam),E=n.endParam,null==E&&(E=r.endParam),W=n.timeZoneParam,null==W&&(W=r.timeZoneParam),Ie="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(it,Ie),it[g]=o.formatIso(i.start),it[E]=o.formatIso(i.end),"local"!==o.timeZone&&(it[W]=o.timeZone),it}(o,n.range,n.context);(function Gb(n,i,t){const o={method:n=n.toUpperCase()};return"GET"===n?i+=(-1===i.indexOf("?")?"?":"&")+new URLSearchParams(t):(o.body=new URLSearchParams(t),o.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(i,o).then(r=>{if(r.ok)return r.json().then(g=>[g,r],()=>{throw new Fg("Failure parsing JSON",r)});throw new Fg("Request failed",r)})})(o.method,o.url,r).then(([g,E])=>{i({rawEvents:g,response:E})},t)}}]}),Ic({name:"simple-recurring-event",recurringTypes:[{parse(n,i){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let o,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?i.createMarker(n.startRecur):null,endRecur:n.endRecur?i.createMarker(n.endRecur):null};return n.duration&&(o=n.duration),!o&&n.startTime&&n.endTime&&(o=function Kc(n,i){return{years:n.years-i.years,months:n.months-i.months,days:n.days-i.days,milliseconds:n.milliseconds-i.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:o,typeData:t}}return null},expand(n,i,t){let o=Nu(i,{start:n.startRecur,end:n.endRecur});return o?function Lm(n,i,t,o){let r=n?dg(n):null,g=ts(t.start),E=t.end,W=[];for(;g<E;){let Ie;(!r||r[g.getUTCDay()])&&(Ie=i?o.add(g,i):g,W.push(Ie)),g=ur(g,1)}return W}(n.daysOfWeek,n.startTime,o,t):[]}}],eventRefiners:{daysOfWeek:Vn,startTime:go,endTime:go,duration:go,startRecur:Vn,endRecur:Vn}}),Ic({name:"change-handler",optionChangeHandlers:{events(n,i){_C([n],i)},eventSources:_C}}),Ic({name:"misc",isLoadingFuncs:[n=>lC(n.eventSources)],propSetHandlers:{dateProfile:function CC(n,i){i.emitter.trigger("datesSet",Object.assign(Object.assign({},Sg(n.activeRange,i.dateEnv)),{view:i.viewApi}))},eventStore:function cy(n,i){let{emitter:t}=i;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Bu(n,i))}}})];class bC{constructor(i,t){this.runTaskOption=i,this.drainedOption=t,this.queue=[],this.delayedRunner=new bm(this.drain.bind(this))}request(i,t){this.queue.push(i),this.delayedRunner.request(t)}pause(i){this.delayedRunner.pause(i)}resume(i,t){this.delayedRunner.resume(i,t)}drain(){let{queue:i}=this;for(;i.length;){let o,t=[];for(;o=i.shift();)this.runTask(o),t.push(o);this.drained(t)}}runTask(i){this.runTaskOption&&this.runTaskOption(i)}drained(i){this.drainedOption&&this.drainedOption(i)}}function $g(n,i,t){let o;return o=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(o.start,o.end,ns(i.titleFormat||function uy(n){let{currentRangeUnit:i}=n;if("year"===i)return{year:"numeric"};if("month"===i)return{year:"numeric",month:"long"};let t=pp(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:i.titleRangeSeparator})}class yC{constructor(i){this.computeCurrentViewData=nn(this._computeCurrentViewData),this.organizeRawLocales=nn(Qg),this.buildLocale=nn(Gg),this.buildPluginHooks=function j0(){let t,n=[],i=[];return(o,r)=>((!t||!Os(o,n)||!Os(r,i))&&(t=function Y0(n,i){let t={},o={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(g){for(let E of g){const W=E.name,Ie=t[W];void 0===Ie?(t[W]=E.id,r(E.deps),o=K0(o,E)):Ie!==E.id&&console.warn(`Duplicate plugin '${W}'`)}}return n&&r(n),r(i),o}(o,r)),n=o,i=r,t)}(),this.buildDateEnv=nn(xC),this.buildTheme=nn(Rm),this.parseToolbars=nn(fI),this.buildViewSpecs=nn(nC),this.buildDateProfileGenerator=vn(qg),this.buildViewApi=nn(Nm),this.buildViewUiProps=vn(IC),this.buildEventUiBySource=nn(Fm,Il),this.buildEventUiBases=nn(Bm),this.parseContextBusinessHours=vn(TC),this.buildTitle=nn($g),this.emitter=new _p,this.actionRunner=new bC(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=Yt=>{this.actionRunner.request(Yt)},this.props=i,this.actionRunner.pause();let t={},o=this.computeOptionsData(i.optionOverrides,t,i.calendarApi),r=o.calendarOptions.initialView||o.pluginHooks.initialView,g=this.computeCurrentViewData(r,o,i.optionOverrides,t);i.calendarApi.currentDataManager=this,this.emitter.setThisContext(i.calendarApi),this.emitter.setOptions(g.options);let E=function sI(n,i){let t=n.initialDate;return null!=t?i.createMarker(t):Ag(n.now,i)}(o.calendarOptions,o.dateEnv),W=g.dateProfileGenerator.build(E);tu(W.activeRange,E)||(E=W.currentRange.start);let Ie={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let Yt of o.pluginHooks.contextInit)Yt(Ie);let it=function ey(n,i,t){let o=i?i.activeRange:null;return Zr({},function kp(n,i){let t=Ih(i),o=[].concat(n.eventSources||[]),r=[];n.initialEvents&&o.unshift(n.initialEvents),n.events&&o.unshift(n.events);for(let g of o){let E=G0(g,i,t);E&&r.push(E)}return r}(n,t),o,t)}(o.calendarOptions,W,Ie),nt={dynamicOptionOverrides:t,currentViewType:r,currentDate:E,dateProfile:W,businessHours:this.parseContextBusinessHours(Ie),eventSources:it,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(Ie).selectionConfig},Kt=Object.assign(Object.assign({},Ie),nt);for(let Yt of o.pluginHooks.reducers)Object.assign(nt,Yt(null,null,Kt));Xg(nt,Ie)&&this.emitter.trigger("loading",!0),this.state=nt,this.updateData(),this.actionRunner.resume()}resetOptions(i,t){let{props:o}=this;void 0===t?o.optionOverrides=i:(o.optionOverrides=Object.assign(Object.assign({},o.optionOverrides||{}),i),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(i){let{props:t,state:o,emitter:r}=this,g=function rC(n,i){return"SET_OPTION"===i.type?Object.assign(Object.assign({},n),{[i.optionName]:i.rawOptionValue}):n}(o.dynamicOptionOverrides,i),E=this.computeOptionsData(t.optionOverrides,g,t.calendarApi),W=function sC(n,i){return"CHANGE_VIEW_TYPE"===i.type&&(n=i.viewType),n}(o.currentViewType,i),Ie=this.computeCurrentViewData(W,E,t.optionOverrides,g);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(Ie.options);let it={dateEnv:E.dateEnv,options:E.calendarOptions,pluginHooks:E.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:nt,dateProfile:Kt}=o;this.data&&this.data.dateProfileGenerator!==Ie.dateProfileGenerator&&(Kt=Ie.dateProfileGenerator.build(nt)),nt=function tm(n,i){return"CHANGE_DATE"===i.type?i.dateMarker:n}(nt,i),Kt=function gI(n,i,t,o){let r;switch(i.type){case"CHANGE_VIEW_TYPE":return o.build(i.dateMarker||t);case"CHANGE_DATE":return o.build(i.dateMarker);case"PREV":if(r=o.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=o.buildNext(n,t),r.isValid)return r}return n}(Kt,i,nt,Ie.dateProfileGenerator),("PREV"===i.type||"NEXT"===i.type||!tu(Kt.currentRange,nt))&&(nt=Kt.currentRange.start);let Yt=function ty(n,i,t,o){let r=t?t.activeRange:null;switch(i.type){case"ADD_EVENT_SOURCES":return Zr(n,i.sources,r,o);case"REMOVE_EVENT_SOURCE":return function cC(n,i){return Hl(n,t=>t.sourceId!==i)}(n,i.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?uC(n,r,o):n;case"FETCH_EVENT_SOURCES":return jg(n,i.sourceIds?dg(i.sourceIds):Om(n,o),r,i.isRefetch||!1,o);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function dC(n,i,t,o){let r=n[i];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[i]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:o})}):n}(n,i.sourceId,i.fetchId,i.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(o.eventSources,i,Kt,it),Qt=function ou(n,i,t,o,r){switch(i.type){case"RECEIVE_EVENTS":return function Rg(n,i,t,o,r,g){if(i&&t===i.latestFetchId){let E=fp(yp(r,i,g),i,g);return o&&(E=Pu(E,o,g)),fg(L0(n,i.sourceId),E)}return n}(n,t[i.sourceId],i.fetchId,i.fetchRange,i.rawEvents,r);case"RESET_RAW_EVENTS":return function Ng(n,i,t,o,r){const{defIdMap:g,instanceIdMap:E}=function vh(n){const{defs:i,instances:t}=n,o={},r={};for(let g in i){const E=i[g],{publicId:W}=E;W&&(o[W]=g)}for(let g in t){const W=i[t[g].defId],{publicId:Ie}=W;Ie&&(r[Ie]=g)}return{defIdMap:o,instanceIdMap:r}}(n);return Pu(fp(yp(t,i,r),i,r,!1,g,E),o,r)}(n,t[i.sourceId],i.rawEvents,o.activeRange,r);case"ADD_EVENTS":return function Cm(n,i,t,o){return t&&(i=Pu(i,t,o)),fg(n,i)}(n,i.eventStore,o?o.activeRange:null,r);case"RESET_EVENTS":return i.eventStore;case"MERGE_EVENTS":return fg(n,i.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return o?Pu(n,o.activeRange,r):n;case"REMOVE_EVENTS":return function db(n,i){let{defs:t,instances:o}=n,r={},g={};for(let E in t)i.defs[E]||(r[E]=t[E]);for(let E in o)!i.instances[E]&&r[o[E].defId]&&(g[E]=o[E]);return{defs:r,instances:g}}(n,i.eventStore);case"REMOVE_EVENT_SOURCE":return L0(n,i.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return mg(n,g=>!g.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(o.eventStore,i,Yt,Kt,it),Ln=lC(Yt)&&!Ie.options.progressiveEventRendering&&o.renderableEventStore||Qt,{eventUiSingleBase:Bn,selectionConfig:jn}=this.buildViewUiProps(it),Ii=this.buildEventUiBySource(Yt),Hi={dynamicOptionOverrides:g,currentViewType:W,currentDate:nt,dateProfile:Kt,eventSources:Yt,eventStore:Qt,renderableEventStore:Ln,selectionConfig:jn,eventUiBases:this.buildEventUiBases(Ln.defs,Bn,Ii),businessHours:this.parseContextBusinessHours(it),dateSelection:oy(o.dateSelection,i),eventSelection:hC(o.eventSelection,i),eventDrag:sy(o.eventDrag,i),eventResize:gC(o.eventResize,i)},Ao=Object.assign(Object.assign({},it),Hi);for(let Mo of E.pluginHooks.reducers)Object.assign(Hi,Mo(o,i,Ao));let ms=Xg(o,it),Us=Xg(Hi,it);!ms&&Us?r.trigger("loading",!0):ms&&!Us&&r.trigger("loading",!1),this.state=Hi,t.onAction&&t.onAction(i)}updateData(){let{props:i,state:t}=this,o=this.data,r=this.computeOptionsData(i.optionOverrides,t.dynamicOptionOverrides,i.calendarApi),g=this.computeCurrentViewData(t.currentViewType,r,i.optionOverrides,t.dynamicOptionOverrides),E=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,g.options,r.dateEnv),calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),g),t),W=r.pluginHooks.optionChangeHandlers,Ie=o&&o.calendarOptions,it=r.calendarOptions;if(Ie&&Ie!==it){Ie.timeZone!==it.timeZone&&(t.eventSources=E.eventSources=function aC(n,i,t){let o=i?i.activeRange:null;return jg(n,Om(n,t),o,!0,t)}(E.eventSources,t.dateProfile,E),t.eventStore=E.eventStore=vm(E.eventStore,o.dateEnv,E.dateEnv),t.renderableEventStore=E.renderableEventStore=vm(E.renderableEventStore,o.dateEnv,E.dateEnv));for(let nt in W)(-1!==this.optionsForHandling.indexOf(nt)||Ie[nt]!==it[nt])&&W[nt](it[nt],E)}this.optionsForHandling=[],i.onData&&i.onData(E)}computeOptionsData(i,t,o){if(!this.optionsForRefining.length&&i===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:g,localeDefaults:E,availableLocaleData:W,extra:Ie}=this.processRawCalendarOptions(i,t);Zm(Ie);let it=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,g,W,r.defaultRangeSeparator),nt=this.buildViewSpecs(g.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,E),Kt=this.buildTheme(r,g),Yt=this.parseToolbars(r,this.stableOptionOverrides,Kt,nt,o);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:g,dateEnv:it,viewSpecs:nt,theme:Kt,toolbarConfig:Yt,localeDefaults:E,availableRawLocales:W.map}}processRawCalendarOptions(i,t){let{locales:o,locale:r}=z_([Tl,i,t]),g=this.organizeRawLocales(o),W=this.buildLocale(r||g.defaultCode,g.map).options,Ie=this.buildPluginHooks(i.plugins||[],vC),it=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Xc),Ou),vd),Ie.listenerRefiners),Ie.optionRefiners),nt={},Kt=z_([Tl,W,i,t]),Yt={},Qt=this.currentCalendarOptionsInput,_n=this.currentCalendarOptionsRefined,Ln=!1;for(let Bn in Kt)-1===this.optionsForRefining.indexOf(Bn)&&(Kt[Bn]===Qt[Bn]||Za[Bn]&&Bn in Qt&&Za[Bn](Qt[Bn],Kt[Bn]))?Yt[Bn]=_n[Bn]:it[Bn]?(Yt[Bn]=it[Bn](Kt[Bn]),Ln=!0):nt[Bn]=Qt[Bn];return Ln&&(this.currentCalendarOptionsInput=Kt,this.currentCalendarOptionsRefined=Yt,this.stableOptionOverrides=i,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:Ie,availableLocaleData:g,localeDefaults:W,extra:nt}}_computeCurrentViewData(i,t,o,r){let g=t.viewSpecs[i];if(!g)throw new Error(`viewType "${i}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:E,extra:W}=this.processRawViewOptions(g,t.pluginHooks,t.localeDefaults,o,r);return Zm(W),{viewSpec:g,options:E,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:g.optionDefaults.dateProfileGeneratorClass,duration:g.duration,durationUnit:g.durationUnit,usesMinMaxTime:g.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:E.slotMinTime,slotMaxTime:E.slotMaxTime,showNonCurrentDates:E.showNonCurrentDates,dayCount:E.dayCount,dateAlignment:E.dateAlignment,dateIncrement:E.dateIncrement,hiddenDays:E.hiddenDays,weekends:E.weekends,nowInput:E.now,validRangeInput:E.validRange,visibleRangeInput:E.visibleRange,fixedWeekCount:E.fixedWeekCount}),viewApi:this.buildViewApi(i,this.getCurrentData,t.dateEnv)}}processRawViewOptions(i,t,o,r,g){let E=z_([Tl,i.optionDefaults,o,r,i.optionOverrides,g]),W=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Xc),Ou),vd),Kx),t.listenerRefiners),t.optionRefiners),Ie={},it=this.currentViewOptionsInput,nt=this.currentViewOptionsRefined,Kt=!1,Yt={};for(let Qt in E)E[Qt]===it[Qt]||Za[Qt]&&Za[Qt](E[Qt],it[Qt])?Ie[Qt]=nt[Qt]:(E[Qt]===this.currentCalendarOptionsInput[Qt]||Za[Qt]&&Za[Qt](E[Qt],this.currentCalendarOptionsInput[Qt])?Qt in this.currentCalendarOptionsRefined&&(Ie[Qt]=this.currentCalendarOptionsRefined[Qt]):W[Qt]?Ie[Qt]=W[Qt](E[Qt]):Yt[Qt]=E[Qt],Kt=!0);return Kt&&(this.currentViewOptionsInput=E,this.currentViewOptionsRefined=Ie),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:Yt}}}function xC(n,i,t,o,r,g,E,W){let Ie=Gg(i||E.defaultCode,E.map);return new dl({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:g.namedTimeZonedImpl,locale:Ie,weekNumberCalculation:t,firstDay:o,weekText:r,cmdFormatter:g.cmdFormatter,defaultSeparator:W})}function Rm(n,i){return new(i.themeClasses[n.themeSystem]||Ju)(n)}function qg(n){return new(n.dateProfileGeneratorClass||Eb)(n)}function Nm(n,i,t){return new Yl(n,i,t)}function Fm(n){return xl(n,i=>i.ui)}function Bm(n,i,t){let o={"":i};for(let r in n){let g=n[r];g.sourceId&&t[g.sourceId]&&(o[r]=t[g.sourceId])}return o}function IC(n){let{options:i}=n;return{eventUiSingleBase:_g({display:i.eventDisplay,editable:i.editable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:"boolean"==typeof i.eventOverlap?i.eventOverlap:void 0,allow:i.eventAllow,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},n),selectionConfig:_g({constraint:i.selectConstraint,overlap:"boolean"==typeof i.selectOverlap?i.selectOverlap:void 0,allow:i.selectAllow},n)}}function Xg(n,i){for(let t of i.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function TC(n){return function qx(n,i){return fp(function K_(n){let i;return i=!0===n?[{}]:Array.isArray(n)?n.filter(t=>t.daysOfWeek):"object"==typeof n&&n?[n]:[],i=i.map(t=>Object.assign(Object.assign({},fb),t)),i}(n),null,i)}(n.options.businessHours,n)}function Zm(n,i){for(let t in n)console.warn(`Unknown option '${t}'`+(i?` for view '${i}'`:""))}class AC extends rs{render(){return un("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(i){let{props:t}=this,{theme:o}=this.context,r=[],g=!0;for(let E of i){let{buttonName:W,buttonClick:Ie,buttonText:it,buttonIcon:nt,buttonHint:Kt}=E;if("title"===W)g=!1,r.push(un("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let Yt=W===t.activeButton,Qt=!t.isTodayEnabled&&"today"===W||!t.isPrevEnabled&&"prev"===W||!t.isNextEnabled&&"next"===W,_n=[`fc-${W}-button`,o.getClass("button")];Yt&&_n.push(o.getClass("buttonActive")),r.push(un("button",{type:"button",title:"function"==typeof Kt?Kt(t.navUnit):Kt,disabled:Qt,"aria-pressed":Yt,className:_n.join(" "),onClick:Ie},it||(nt?un("span",{className:nt}):"")))}}return r.length>1?un("div",{className:g&&o.getClass("buttonGroup")||""},...r):r[0]}}class wC extends rs{render(){let r,g,{model:i,extraClassName:t}=this.props,o=!1,E=i.sectionWidgets,W=E.center;return E.left?(o=!0,r=E.left):r=E.start,E.right?(o=!0,g=E.right):g=E.end,un("div",{className:[t||"","fc-toolbar",o?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",W||[]),this.renderSection("end",g||[]))}renderSection(i,t){let{props:o}=this;return un(AC,{key:i,widgetGroups:t,title:o.title,navUnit:o.navUnit,activeButton:o.activeButton,isTodayEnabled:o.isTodayEnabled,isPrevEnabled:o.isPrevEnabled,isNextEnabled:o.isNextEnabled,titleId:o.titleId})}}class dy extends rs{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=i=>{this.el=i,bc(this.props.elRef,i),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:i,state:t}=this,{aspectRatio:o}=i,g="",E="";return o?null!==t.availableWidth?g=t.availableWidth/o:E=1/o*100+"%":g=i.height||"",un("div",{"aria-labelledby":i.labeledById,ref:this.handleEl,className:["fc-view-harness",o||i.liquid||i.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:g,paddingBottom:E}},i.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class py extends Ad{constructor(i){super(i),this.handleSegClick=(t,o)=>{let{component:r}=this,{context:g}=r,E=vp(o);if(E&&r.isValidSegDownEl(t.target)){let W=ga(t.target,".fc-event-forced-url"),Ie=W?W.querySelector("a[href]").href:"";g.emitter.trigger("eventClick",{el:o,event:new Ps(r.context,E.eventRange.def,E.eventRange.instance),jsEvent:t,view:g.viewApi}),Ie&&!t.defaultPrevented&&(window.location.href=Ie)}},this.destroy=ku(i.el,"click",".fc-event",this.handleSegClick)}}class hy extends Ad{constructor(i){super(i),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,o)=>{vp(o)&&(this.currentSegEl=o,this.triggerEvent("eventMouseEnter",t,o))},this.handleSegLeave=(t,o)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,o))},this.removeHoverListeners=function bl(n,i,t,o){let r;return ku(n,"mouseover",i,(g,E)=>{if(E!==r){r=E,t(g,E);let W=Ie=>{r=null,o(Ie,E),E.removeEventListener("mouseleave",W)};E.addEventListener("mouseleave",W)}})}(i.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(i,t,o){let{component:r}=this,{context:g}=r,E=vp(o);(!t||r.isValidSegDownEl(t.target))&&g.emitter.trigger(i,{el:o,event:new Ps(g,E.eventRange.def,E.eventRange.instance),jsEvent:t,view:g.viewApi})}}class gy extends em{constructor(){super(...arguments),this.buildViewContext=nn(l0),this.buildViewPropTransformers=nn(my),this.buildToolbarProps=nn(fy),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Zl()},this.registerInteractiveComponent=(i,t)=>{let o=function Nb(n,i){return{component:n,el:i.el,useEventCenter:null==i.useEventCenter||i.useEventCenter,isHitComboAllowed:i.isHitComboAllowed||null}}(i,t),E=[py,hy].concat(this.props.pluginHooks.componentInteractions).map(W=>new W(o));this.interactionsStore[i.uid]=E,dm[i.uid]=o},this.unregisterInteractiveComponent=i=>{let t=this.interactionsStore[i.uid];if(t){for(let o of t)o.destroy();delete this.interactionsStore[i.uid]}delete dm[i.uid]},this.resizeRunner=new bm(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=i=>{let{options:t}=this.props;t.handleWindowResize&&i.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let W,{props:i}=this,{toolbarConfig:t,options:o}=i,r=this.buildToolbarProps(i.viewSpec,i.dateProfile,i.dateProfileGenerator,i.currentDate,Ag(i.options.now,i.dateEnv),i.viewTitle),g=!1,E="";i.isHeightAuto||i.forPrint?E="":null!=o.height?g=!0:null!=o.contentHeight?E=o.contentHeight:W=Math.max(o.aspectRatio,.5);let Ie=this.buildViewContext(i.viewSpec,i.viewApi,i.options,i.dateProfileGenerator,i.dateEnv,i.theme,i.pluginHooks,i.dispatch,i.getCurrentData,i.emitter,i.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),it=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return un(iu.Provider,{value:Ie},t.header&&un(wC,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:it},r)),un(dy,{liquid:g,height:E,aspectRatio:W,labeledById:it},this.renderView(i),this.buildAppendContent()),t.footer&&un(wC,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:i}=this;this.calendarInteractions=i.pluginHooks.calendarInteractions.map(o=>new o(i)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=i.pluginHooks;for(let o in t)t[o](i[o],i)}componentDidUpdate(i){let{props:t}=this,{propSetHandlers:o}=t.pluginHooks;for(let r in o)t[r]!==i[r]&&o[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let i of this.calendarInteractions)i.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:i}=this;return un(Go,{},...i.pluginHooks.viewContainerAppends.map(o=>o(i)))}renderView(i){let{pluginHooks:t}=i,{viewSpec:o}=i,r={dateProfile:i.dateProfile,businessHours:i.businessHours,eventStore:i.renderableEventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,isHeightAuto:i.isHeightAuto,forPrint:i.forPrint},g=this.buildViewPropTransformers(t.viewPropsTransformers);for(let W of g)Object.assign(r,W.transform(r,i));return un(o.component,Object.assign({},r))}}function fy(n,i,t,o,r,g){let E=t.build(r,void 0,!1),W=t.buildPrev(i,o,!1),Ie=t.buildNext(i,o,!1);return{title:g,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:E.isValid&&!tu(i.currentRange,r),isPrevEnabled:W.isValid,isNextEnabled:Ie.isValid}}function my(n){return n.map(i=>new i)}class _y extends class Em{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(i){this.currentDataManager.dispatch(i)}get view(){return this.getCurrentData().viewApi}batchRendering(i){i()}updateSize(){this.trigger("_resize",!0)}setOption(i,t){this.dispatch({type:"SET_OPTION",optionName:i,rawOptionValue:t})}getOption(i){return this.currentDataManager.currentCalendarOptionsInput[i]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(i,t){let{currentDataManager:o}=this;o.currentCalendarOptionsRefiners[i]?o.emitter.on(i,t):console.warn(`Unknown listener name '${i}'`)}off(i,t){this.currentDataManager.emitter.off(i,t)}trigger(i,...t){this.currentDataManager.emitter.trigger(i,...t)}changeView(i,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:o}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i,dateMarker:o.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i})})}zoomTo(i,t){let r;r=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(r?{type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:i}:{type:"CHANGE_DATE",dateMarker:i})}getUnitViewSpec(i){let g,E,{viewSpecs:t,toolbarConfig:o}=this.getCurrentData(),r=[].concat(o.header?o.header.viewsWithButtons:[],o.footer?o.footer.viewsWithButtons:[]);for(let W in t)r.push(W);for(g=0;g<r.length;g+=1)if(E=t[r[g]],E&&E.singleUnit===i)return E;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.addYears(i.currentDate,-1)})}nextYear(){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.addYears(i.currentDate,1)})}today(){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ag(i.calendarOptions.now,i.dateEnv)})}gotoDate(i){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(i)})}incrementDate(i){let t=this.getCurrentData(),o=go(i);o&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,o)}))}getDate(){let i=this.getCurrentData();return i.dateEnv.toDate(i.currentDate)}formatDate(i,t){let{dateEnv:o}=this.getCurrentData();return o.format(o.createMarker(i),ns(t))}formatRange(i,t,o){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(i),r.createMarker(t),ns(o),o)}formatIso(i,t){let{dateEnv:o}=this.getCurrentData();return o.formatIso(o.createMarker(i),{omitTime:t})}select(i,t){let o;o=null==t?null!=i.start?i:{start:i,end:null}:{start:i,end:t};let r=this.getCurrentData(),g=function f0(n,i,t){let o=function m0(n,i){let{refined:t,extra:o}=dh(n,Eg),r=t.start?i.createMarkerMeta(t.start):null,g=t.end?i.createMarkerMeta(t.end):null,{allDay:E}=t;return null==E&&(E=r&&r.isTimeUnspecified&&(!g||g.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:g?g.marker:null},allDay:E},o)}(n,i),{range:r}=o;if(!r.start)return null;if(!r.end){if(null==t)return null;r.end=i.add(r.start,t)}return o}(o,r.dateEnv,go({days:1}));g&&(this.dispatch({type:"SELECT_DATES",selection:g}),Sb(g,null,r))}unselect(i){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function rI(n,i){i.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:i.viewApi||i.calendarApi.view})}(i,t))}addEvent(i,t){if(i instanceof Ps){let E=i._def,W=i._instance;return this.getCurrentData().eventStore.defs[E.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Vf({def:E,instance:W})}),this.triggerEventAdd(i)),i}let r,o=this.getCurrentData();if(t instanceof ul)r=t.internalEventSource;else if("boolean"==typeof t)t&&([r]=rh(o.eventSources));else if(null!=t){let E=this.getEventSourceById(t);if(!E)return console.warn(`Could not find an event source with ID "${t}"`),null;r=E.internalEventSource}let g=W_(i,r,o,!1);if(g){let E=new Ps(o,g.def,g.def.recurringDef?null:g.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Vf(g)}),this.triggerEventAdd(E),E}return null}triggerEventAdd(i){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:i,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:p0(i)})}})}getEventById(i){let t=this.getCurrentData(),{defs:o,instances:r}=t.eventStore;i=String(i);for(let g in o){let E=o[g];if(E.publicId===i){if(E.recurringDef)return new Ps(t,E,null);for(let W in r){let Ie=r[W];if(Ie.defId===E.defId)return new Ps(t,E,Ie)}}}return null}getEvents(){let i=this.getCurrentData();return Bu(i.eventStore,i)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let i=this.getCurrentData(),t=i.eventSources,o=[];for(let r in t)o.push(new ul(i,t[r]));return o}getEventSourceById(i){let t=this.getCurrentData(),o=t.eventSources;i=String(i);for(let r in o)if(o[r].publicId===i)return new ul(t,o[r]);return null}addEventSource(i){let t=this.getCurrentData();if(i instanceof ul)return t.eventSources[i.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i.internalEventSource]}),i;let o=G0(i,t);return o?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o]}),new ul(t,o)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(i){let t=go(i);t&&this.trigger("_scrollRequest",{time:t})}}{constructor(i,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=o=>{switch(o.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=o=>{this.currentData=o,this.renderRunner.request(o.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:o}=this;Tb(()=>{wa(un(yc,{options:o.calendarOptions,theme:o.theme,emitter:o.emitter},(r,g,E,W)=>(this.setClassNames(r),this.setHeight(g),un(M0.Provider,{value:this.customContentRenderId},un(gy,Object.assign({isHeightAuto:E,forPrint:W},o))))),this.el)})}else this.isRendered&&(this.isRendered=!1,wa(null,this.el),this.setClassNames([]),this.setHeight(""))},function jp(n){Xh(n.getRootNode())}(i),this.el=i,this.renderRunner=new bm(this.handleRenderRequest),new yC({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let i=this.isRendering;i?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),i&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Tb(()=>{super.updateSize()})}batchRendering(i){this.renderRunner.pause("batchRendering"),i(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(i,t){this.currentDataManager.resetOptions(i,t)}setClassNames(i){if(!Os(i,this.currentClassNames)){let{classList:t}=this.el;for(let o of this.currentClassNames)t.remove(o);for(let o of i)t.add(o);this.currentClassNames=i}}setHeight(i){rp(this.el,"height",i)}}function ef(n,i){let t=[];for(let o=0;o<i;o+=1)t[o]=[];for(let o of n)t[o.row].push(o);return t}function tf(n,i){let t=[];for(let o=0;o<i;o+=1)t[o]=[];for(let o of n)t[o.firstCol].push(o);return t}function SC(n,i){let t=[];if(n){for(let o=0;o<i;o+=1)t[o]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let o of n.segs)t[o.row].segs.push(o)}else for(let o=0;o<i;o+=1)t[o]=null;return t}cd(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const kC=ns({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Um(n){let{display:i}=n.eventRange.ui;return"list-item"===i||"auto"===i&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class Hm extends rs{render(){let{props:i}=this;return un(Sd,Object.assign({},i,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:kC,defaultDisplayEventEnd:i.defaultDisplayEventEnd,disableResizing:!i.seg.eventRange.def.allDay}))}}class Vm extends rs{render(){let{props:i,context:t}=this,{options:o}=t,{seg:r}=i,E=Zu(r,o.eventTimeFormat||kC,t,!0,i.defaultDisplayEventEnd);return un(Ip,Object.assign({},i,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Ch(i.seg,t),defaultGenerator:DC,timeText:E,isResizing:!1,isDateSelecting:!1}))}}function DC(n){return un(Go,null,un("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&un("div",{className:"fc-event-time"},n.timeText),un("div",{className:"fc-event-title"},n.event.title||un(Go,null,"\xa0")))}class MC extends rs{constructor(){super(...arguments),this.compileSegs=nn(OC)}render(){let{props:i}=this,{allSegs:t,invisibleSegs:o}=this.compileSegs(i.singlePlacements);return un(Tm,{elClasses:["fc-daygrid-more-link"],dateProfile:i.dateProfile,todayRange:i.todayRange,allDayDate:i.allDayDate,moreCnt:i.moreCnt,allSegs:t,hiddenSegs:o,alignmentElRef:i.alignmentElRef,alignGridTop:i.alignGridTop,extraDateSpan:i.extraDateSpan,popoverContent:()=>{let r=(i.eventDrag?i.eventDrag.affectedInstances:null)||(i.eventResize?i.eventResize.affectedInstances:null)||{};return un(Go,null,t.map(g=>{let E=g.eventRange.instance.instanceId;return un("div",{className:"fc-daygrid-event-harness",key:E,style:{visibility:r[E]?"hidden":""}},Um(g)?un(Vm,Object.assign({seg:g,isDragging:!1,isSelected:E===i.eventSelection,defaultDisplayEventEnd:!1},Ya(g,i.todayRange))):un(Hm,Object.assign({seg:g,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:E===i.eventSelection,defaultDisplayEventEnd:!1},Ya(g,i.todayRange))))}))}})}}function OC(n){let i=[],t=[];for(let o of n)i.push(o.seg),o.isVisible||t.push(o.seg);return{allSegs:i,invisibleSegs:t}}const PC=ns({week:"narrow"});class LC extends Gl{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Zl()},this.handleRootEl=i=>{bc(this.rootElRef,i),bc(this.props.elRef,i)}}render(){let{context:i,props:t,state:o,rootElRef:r}=this,{options:g,dateEnv:E}=i,{date:W,dateProfile:Ie}=t;const it=t.showDayNumber&&function NC(n,i,t){const{start:o,end:r}=i,g=Vl(r,-1),E=t.getYear(o),W=t.getMonth(o),Ie=t.getYear(g),it=t.getMonth(g);return!(E===Ie&&W===it)&&Boolean(n.valueOf()===o.valueOf()||1===t.getDay(n)&&n.valueOf()<r.valueOf())}(W,Ie.currentRange,E);return un(Vu,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":o.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:RC,date:W,dateProfile:Ie,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:it,extraRenderProps:t.extraRenderProps},(nt,Kt)=>un("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&un(Im,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Fu(i,W,"week"),date:W,defaultFormat:PC}),!Kt.isDisabled&&(t.showDayNumber||zu(g)||t.forceDayTop)?un("div",{className:"fc-daygrid-day-top"},un(nt,{elTag:"a",elClasses:["fc-daygrid-day-number",it&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Fu(i,W)),{id:o.dayNumberId})})):t.showDayNumber?un("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},un("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,un("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,un("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},un(MC,{allDayDate:W,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),un("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function RC(n){return n.dayNumberText||un(Go,null,"\xa0")}function Dp(n,i,t,o){if(n.firstCol===i&&n.lastCol===t-1)return n;let r=n.eventRange,g=r.range,E=Nu(g,{start:o[i].date,end:ur(o[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:i,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:E},isStart:n.isStart&&E.start.valueOf()===g.start.valueOf(),isEnd:n.isEnd&&E.end.valueOf()===g.end.valueOf()})}class Mp extends I0{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(i){const t=super.addSegs(i),{entriesByLevel:o}=this,r=g=>!this.forceHidden[Td(g)];for(let g=0;g<o.length;g+=1)o[g]=o[g].filter(r);return t}handleInvalidInsertion(i,t,o){const{entriesByLevel:r,forceHidden:g}=this,{touchingEntry:E,touchingLevel:W,touchingLateral:Ie}=i;if(this.hiddenConsumes&&E){const it=Td(E);if(!g[it])if(this.allowReslicing){const nt=Object.assign(Object.assign({},E),{span:lm(E.span,t.span)});g[Td(nt)]=!0,r[W][Ie]=nt,this.splitEntry(E,t,o)}else g[it]=!0,o.push(E)}return super.handleInvalidInsertion(i,t,o)}}class BC extends Gl{constructor(){super(...arguments),this.cellElRefs=new su,this.frameElRefs=new su,this.fgElRefs=new su,this.segHarnessRefs=new su,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=i=>{i&&this.updateSizing(!0)}}render(){let{props:i,state:t,context:o}=this,{options:r}=o,g=i.cells.length,E=tf(i.businessHourSegs,g),W=tf(i.bgEventSegs,g),Ie=tf(this.getHighlightSegs(),g),it=tf(this.getMirrorSegs(),g),{singleColPlacements:nt,multiColPlacements:Kt,moreCnts:Yt,moreMarginTops:Qt}=function FC(n,i,t,o,r,g,E){let W=new Mp;W.allowReslicing=!0,W.strictOrder=o,!0===i||!0===t?(W.maxCoord=g,W.hiddenConsumes=!0):"number"==typeof i?W.maxStackCnt=i:"number"==typeof t&&(W.maxStackCnt=t,W.hiddenConsumes=!0);let Ie=[],it=[];for(let jn=0;jn<n.length;jn+=1){let Ii=n[jn],{instanceId:to}=Ii.eventRange.instance,Hi=r[to];null!=Hi?Ie.push({index:jn,thickness:Hi,span:{start:Ii.firstCol,end:Ii.lastCol+1}}):it.push(Ii)}let nt=W.addSegs(Ie),Kt=W.toRects(),{singleColPlacements:Yt,multiColPlacements:Qt,leftoverMargins:_n}=function Dd(n,i,t){let o=function vy(n,i){let t=[];for(let o=0;o<i;o+=1)t.push([]);for(let o of n)for(let r=o.span.start;r<o.span.end;r+=1)t[r].push(o);return t}(n,t.length),r=[],g=[],E=[];for(let W=0;W<t.length;W+=1){let Ie=o[W],it=[],nt=0,Kt=0;for(let Qt of Ie)it.push({seg:Dp(i[Qt.index],W,W+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:Qt.levelCoord,marginTop:Qt.levelCoord-nt}),nt=Qt.levelCoord+Qt.thickness;let Yt=[];nt=0,Kt=0;for(let Qt of Ie){let _n=i[Qt.index],Bn=Qt.span.start===W;Kt+=Qt.levelCoord-nt,nt=Qt.levelCoord+Qt.thickness,Qt.span.end-Qt.span.start>1?(Kt+=Qt.thickness,Bn&&Yt.push({seg:Dp(_n,Qt.span.start,Qt.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:Qt.levelCoord,marginTop:0})):Bn&&(Yt.push({seg:Dp(_n,Qt.span.start,Qt.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:Qt.levelCoord,marginTop:Kt}),Kt=0)}r.push(it),g.push(Yt),E.push(Kt)}return{singleColPlacements:r,multiColPlacements:g,leftoverMargins:E}}(Kt,n,E),Ln=[],Bn=[];for(let jn of it){Qt[jn.firstCol].push({seg:jn,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Ii=jn.firstCol;Ii<=jn.lastCol;Ii+=1)Yt[Ii].push({seg:Dp(jn,Ii,Ii+1,E),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<E.length;jn+=1)Ln.push(0);for(let jn of nt){let Ii=n[jn.index],to=jn.span;Qt[to.start].push({seg:Dp(Ii,to.start,to.end,E),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Hi=to.start;Hi<to.end;Hi+=1)Ln[Hi]+=1,Yt[Hi].push({seg:Dp(Ii,Hi,Hi+1,E),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<E.length;jn+=1)Bn.push(_n[jn]);return{singleColPlacements:Yt,multiColPlacements:Qt,moreCnts:Ln,moreMarginTops:Bn}}(im(i.fgEventSegs,r.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,r.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,i.cells),_n=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return un("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map((Ln,Bn)=>{let jn=this.renderFgSegs(Bn,i.forPrint?nt[Bn]:Kt[Bn],i.todayRange,_n),Ii=this.renderFgSegs(Bn,function zm(n,i){if(!n.length)return[];let t=function II(n){let i={};for(let t of n)for(let o of t)i[o.seg.eventRange.instance.instanceId]=o.absoluteTop;return i}(i);return n.map(o=>({seg:o,isVisible:!0,isAbsolute:!0,absoluteTop:t[o.eventRange.instance.instanceId],marginTop:0}))}(it[Bn],Kt),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return un(LC,{key:Ln.key,elRef:this.cellElRefs.createRef(Ln.key),innerElRef:this.frameElRefs.createRef(Ln.key),dateProfile:i.dateProfile,date:Ln.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===Bn,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraRenderProps:Ln.extraRenderProps,extraDataAttrs:Ln.extraDataAttrs,extraClassNames:Ln.extraClassNames,extraDateSpan:Ln.extraDateSpan,moreCnt:Yt[Bn],moreMarginTop:Qt[Bn],singlePlacements:nt[Bn],fgContentElRef:this.fgElRefs.createRef(Ln.key),fgContent:un(Go,null,un(Go,null,jn),un(Go,null,Ii)),bgContent:un(Go,null,this.renderFillSegs(Ie[Bn],"highlight"),this.renderFillSegs(E[Bn],"non-business"),this.renderFillSegs(W[Bn],"bg-event")),minHeight:i.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(i,t){this.updateSizing(!Il(i,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:i}=this;return i.eventDrag&&i.eventDrag.segs.length?i.eventDrag.segs:i.eventResize&&i.eventResize.segs.length?i.eventResize.segs:i.dateSelectionSegs}getMirrorSegs(){let{props:i}=this;return i.eventResize&&i.eventResize.segs.length?i.eventResize.segs:[]}renderFgSegs(i,t,o,r,g,E,W){let{context:Ie}=this,{eventSelection:it}=this.props,{framePositions:nt}=this.state,Kt=1===this.props.cells.length,Yt=g||E||W,Qt=[];if(nt)for(let _n of t){let{seg:Ln}=_n,{instanceId:Bn}=Ln.eventRange.instance,jn=Bn+":"+i,Ii=_n.isVisible&&!r[Bn],to=_n.isAbsolute,Hi="",Ao="";to&&(Ie.isRtl?(Ao=0,Hi=nt.lefts[Ln.lastCol]-nt.lefts[Ln.firstCol]):(Hi=0,Ao=nt.rights[Ln.firstCol]-nt.rights[Ln.lastCol])),Qt.push(un("div",{className:"fc-daygrid-event-harness"+(to?" fc-daygrid-event-harness-abs":""),key:jn,ref:Yt?null:this.segHarnessRefs.createRef(jn),style:{visibility:Ii?"":"hidden",marginTop:to?"":_n.marginTop,top:to?_n.absoluteTop:"",left:Hi,right:Ao}},Um(Ln)?un(Vm,Object.assign({seg:Ln,isDragging:g,isSelected:Bn===it,defaultDisplayEventEnd:Kt},Ya(Ln,o))):un(Hm,Object.assign({seg:Ln,isDragging:g,isResizing:E,isDateSelecting:W,isSelected:Bn===it,defaultDisplayEventEnd:Kt},Ya(Ln,o)))))}return Qt}renderFillSegs(i,t){let{isRtl:o}=this.context,{todayRange:r}=this.props,{framePositions:g}=this.state,E=[];if(g)for(let W of i){let Ie=o?{right:0,left:g.lefts[W.lastCol]-g.lefts[W.firstCol]}:{left:0,right:g.rights[W.firstCol]-g.rights[W.lastCol]};E.push(un("div",{key:Id(W.eventRange),className:"fc-daygrid-bg-harness",style:Ie},"bg-event"===t?un(kd,Object.assign({seg:W},Ya(W,r))):xm(t)))}return un(Go,{},...E)}updateSizing(i){let{props:t,state:o,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(i){let Ie=t.cells.map(it=>r.currentMap[it.key]);if(Ie.length){let it=this.rootElRef.current,nt=new mh(it,Ie,!0,!1);(!o.framePositions||!o.framePositions.similarTo(nt))&&this.setState({framePositions:new mh(it,Ie,!0,!1)})}}const g=this.state.eventInstanceHeights,E=this.queryEventInstanceHeights(),W=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},g),E),maxContentHeight:W?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let i=this.segHarnessRefs.currentMap,t={};for(let o in i){let r=Math.round(i[o].getBoundingClientRect().height),g=o.split(":")[0];t[g]=Math.max(t[g]||0,r)}return t}computeMaxContentHeight(){let i=this.props.cells[0].key,o=this.fgElRefs.currentMap[i];return this.cellElRefs.currentMap[i].getBoundingClientRect().bottom-o.getBoundingClientRect().top}getCellEls(){let i=this.cellElRefs.currentMap;return this.props.cells.map(t=>i[t.key])}}BC.addStateEquality({eventInstanceHeights:Il});class ZC extends Gl{constructor(){super(...arguments),this.splitBusinessHourSegs=nn(ef),this.splitBgEventSegs=nn(ef),this.splitFgEventSegs=nn(ef),this.splitDateSelectionSegs=nn(ef),this.splitEventDrag=nn(SC),this.splitEventResize=nn(SC),this.rowRefs=new su}render(){let{props:i,context:t}=this,o=i.cells.length,r=this.splitBusinessHourSegs(i.businessHourSegs,o),g=this.splitBgEventSegs(i.bgEventSegs,o),E=this.splitFgEventSegs(i.fgEventSegs,o),W=this.splitDateSelectionSegs(i.dateSelectionSegs,o),Ie=this.splitEventDrag(i.eventDrag,o),it=this.splitEventResize(i.eventResize,o),nt=o>=7&&i.clientWidth?i.clientWidth/t.options.aspectRatio/6:null;return un(Pg,{unit:"day"},(Kt,Yt)=>un(Go,null,i.cells.map((Qt,_n)=>un(BC,{ref:this.rowRefs.createRef(_n),key:Qt.length?Qt[0].date.toISOString():_n,showDayNumbers:o>1,showWeekNumbers:i.showWeekNumbers,todayRange:Yt,dateProfile:i.dateProfile,cells:Qt,renderIntro:i.renderRowIntro,businessHourSegs:r[_n],eventSelection:i.eventSelection,bgEventSegs:g[_n].filter(UC),fgEventSegs:E[_n],dateSelectionSegs:W[_n],eventDrag:Ie[_n],eventResize:it[_n],dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,clientWidth:i.clientWidth,clientHeight:i.clientHeight,cellMinHeight:nt,forPrint:i.forPrint}))))}componentDidMount(){const i=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=i?i.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new mh(this.rootEl,this.rowRefs.collect().map(i=>i.getCellEls()[0]),!1,!0),this.colPositions=new mh(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(i,t){let{colPositions:o,rowPositions:r}=this,g=o.leftToIndex(i),E=r.topToIndex(t);if(null!=E&&null!=g){let W=this.props.cells[E][g];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(E,g),allDay:!0},W.extraDateSpan),dayEl:this.getCellEl(E,g),rect:{left:o.lefts[g],right:o.rights[g],top:r.tops[E],bottom:r.bottoms[E]},layer:0}}return null}getCellEl(i,t){return this.rowRefs.currentMap[i].getCellEls()[t]}getCellRange(i,t){let o=this.props.cells[i][t].date;return{start:o,end:ur(o,1)}}}function UC(n){return n.eventRange.def.allDay}class TI extends Gl{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:i}=this,{dayMaxEventRows:t,dayMaxEvents:o,expandRows:r}=i,g=!0===o||!0===t;return g&&!r&&(g=!1,t=null,o=null),un("div",{ref:this.elRef,className:["fc-daygrid-body",g?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"].join(" "),style:{width:i.clientWidth,minWidth:i.tableMinWidth}},un("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:i.clientWidth,minWidth:i.tableMinWidth,height:r?i.clientHeight:""}},i.colGroupNode,un("tbody",{role:"presentation"},un(ZC,{dateProfile:i.dateProfile,cells:i.cells,renderRowIntro:i.renderRowIntro,showWeekNumbers:i.showWeekNumbers,clientWidth:i.clientWidth,clientHeight:i.clientHeight,businessHourSegs:i.businessHourSegs,bgEventSegs:i.bgEventSegs,fgEventSegs:i.fgEventSegs,dateSelectionSegs:i.dateSelectionSegs,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,dayMaxEvents:o,dayMaxEventRows:t,forPrint:i.forPrint,isHitComboAllowed:i.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(i){i.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const i=function Ui(n,i){let t;return i.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${function wt(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}(i.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${rt(i.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(i){const t=i.closest(".fc-daygrid-body"),o=t.closest(".fc-scroller"),r=i.getBoundingClientRect().top-t.getBoundingClientRect().top;o.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class by extends _m{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(i,t){return t.sliceRange(i)}}class HC extends Gl{constructor(){super(...arguments),this.slicer=new by,this.tableRef={current:null}}render(){let{props:i,context:t}=this;return un(TI,Object.assign({ref:this.tableRef},this.slicer.sliceProps(i,i.dateProfile,i.nextDayThreshold,t,i.dayTableModel),{dateProfile:i.dateProfile,cells:i.dayTableModel.cells,colGroupNode:i.colGroupNode,tableMinWidth:i.tableMinWidth,renderRowIntro:i.renderRowIntro,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.showWeekNumbers,expandRows:i.expandRows,headerAlignElRef:i.headerAlignElRef,clientWidth:i.clientWidth,clientHeight:i.clientHeight,forPrint:i.forPrint}))}}class xy extends Gl{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(i,t){let{props:o,context:r}=this,g=[],E=na(r.options);return i&&g.push({type:"header",key:"header",isSticky:E,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}}),g.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),un(Sp,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},un(xp,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[],sections:g}))}renderHScrollLayout(i,t,o,r){let g=this.context.pluginHooks.scrollGridImpl;if(!g)throw new Error("No ScrollGrid implementation");let{props:E,context:W}=this,Ie=!E.forPrint&&na(W.options),it=!E.forPrint&&Uu(W.options),nt=[];return i&&nt.push({type:"header",key:"header",isSticky:Ie,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}]}),nt.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),it&&nt.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ed}]}),un(Sp,{elClasses:["fc-daygrid"],viewSpec:W.viewSpec},un(g,{liquid:!E.isHeightAuto&&!E.forPrint,forPrint:E.forPrint,collapsibleWidth:E.forPrint,colGroups:[{cols:[{span:o,minWidth:r}]}],sections:nt}))}}function sf(n,i){let t=new fm(n.renderRange,i);return new mm(t,/year|month|week/.test(n.currentRangeUnit))}var dr=Ic({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class nf extends xy{constructor(){super(...arguments),this.buildDayTableModel=nn(sf),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:i,dateProfileGenerator:t}=this.context,{props:o}=this,r=this.buildDayTableModel(o.dateProfile,t),g=i.dayHeaders&&un(Hb,{ref:this.headerRef,dateProfile:o.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),E=W=>un(HC,{ref:this.tableRef,dateProfile:o.dateProfile,dayTableModel:r,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:W.tableColGroupNode,tableMinWidth:W.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:W.clientWidth,clientHeight:W.clientHeight,forPrint:o.forPrint});return i.dayMinWidth?this.renderHScrollLayout(g,E,r.colCnt,i.dayMinWidth):this.renderSimpleLayout(g,E)}},dateProfileGeneratorClass:class yy extends Eb{buildRenderRange(i,t,o){let r=super.buildRenderRange(i,t,o),{props:g}=this;return function Op(n){let g,{dateEnv:i,currentRange:t}=n,{start:o,end:r}=t;if(n.snapToWeek&&(o=i.startOfWeek(o),g=i.startOfWeek(r),g.valueOf()!==r.valueOf()&&(r=lh(g,1))),n.fixedWeekCount){let E=i.startOfWeek(i.startOfMonth(ur(t.end,-1))),W=Math.ceil(function ch(n,i){return vc(n,i)/7}(E,r));r=lh(r,6-W)}return{start:o,end:r}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:g.fixedWeekCount,dateEnv:g.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class AI extends class bb{constructor(){this.getKeysForEventDefs=nn(this._getKeysForEventDefs),this.splitDateSelection=nn(this._splitDateSpan),this.splitEventStore=nn(this._splitEventStore),this.splitIndividualUi=nn(this._splitIndividualUi),this.splitEventDrag=nn(this._splitInteraction),this.splitEventResize=nn(this._splitInteraction),this.eventUiBuilders={}}splitProps(i){let t=this.getKeyInfo(i),o=this.getKeysForEventDefs(i.eventStore),r=this.splitDateSelection(i.dateSelection),g=this.splitIndividualUi(i.eventUiBases,o),E=this.splitEventStore(i.eventStore,o),W=this.splitEventDrag(i.eventDrag),Ie=this.splitEventResize(i.eventResize),it={};this.eventUiBuilders=xl(t,(nt,Kt)=>this.eventUiBuilders[Kt]||nn(q_));for(let nt in t){let Kt=t[nt],Yt=E[nt]||Ru;it[nt]={businessHours:Kt.businessHours||i.businessHours,dateSelection:r[nt]||null,eventStore:Yt,eventUiBases:(0,this.eventUiBuilders[nt])(i.eventUiBases[""],Kt.ui,g[nt]),eventSelection:Yt.instances[i.eventSelection]?i.eventSelection:"",eventDrag:W[nt]||null,eventResize:Ie[nt]||null}}return it}_splitDateSpan(i){let t={};if(i){let o=this.getKeysForDateSpan(i);for(let r of o)t[r]=i}return t}_getKeysForEventDefs(i){return xl(i.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(i,t){let{defs:o,instances:r}=i,g={};for(let E in o)for(let W of t[E])g[W]||(g[W]={defs:{},instances:{}}),g[W].defs[E]=o[E];for(let E in r){let W=r[E];for(let Ie of t[W.defId])g[Ie]&&(g[Ie].instances[E]=W)}return g}_splitIndividualUi(i,t){let o={};for(let r in i)if(r)for(let g of t[r])o[g]||(o[g]={}),o[g][r]=i[r];return o}_splitInteraction(i){let t={};if(i){let o=this._splitEventStore(i.affectedEvents,this._getKeysForEventDefs(i.affectedEvents)),r=this._getKeysForEventDefs(i.mutatedEvents),g=this._splitEventStore(i.mutatedEvents,r),E=W=>{t[W]||(t[W]={affectedEvents:o[W]||Ru,mutatedEvents:g[W]||Ru,isEvent:i.isEvent})};for(let W in o)E(W);for(let W in g)E(W)}return t}}{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(i){return i.allDay?["allDay"]:["timed"]}getKeysForEventDef(i){return i.allDay?function h0(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(i)?["timed","allDay"]:["allDay"]:["timed"]}}const VC=ns({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Jm(n){let i=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return un(iu.Consumer,null,t=>{if(!n.isLabeled)return un("td",{className:i.join(" "),"data-time":n.isoTimeStr});let{dateEnv:o,options:r,viewApi:g}=t,E=null==r.slotLabelFormat?VC:Array.isArray(r.slotLabelFormat)?ns(r.slotLabelFormat[0]):ns(r.slotLabelFormat),W={level:0,time:n.time,date:o.toDate(n.date),view:g,text:o.format(n.date,E)};return un(xa,{elTag:"td",elClasses:i,elAttrs:{"data-time":n.isoTimeStr},renderProps:W,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:Iy,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},Ie=>un("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},un(Ie,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Iy(n){return n.text}class zC extends rs{render(){return this.props.slatMetas.map(i=>un("tr",{key:i.key},un(Jm,Object.assign({},i))))}}const JC=ns({week:"short"});class GC extends Gl{constructor(){super(...arguments),this.allDaySplitter=new AI,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=i=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=i)},this.renderHeadAxis=(i,t="")=>{let{options:o}=this.context,{dateProfile:r}=this.props,g=r.renderRange,W=1===vc(g.start,g.end)?Fu(this.context,g.start,"week"):{};return o.weekNumbers&&"day"===i?un(Im,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:g.start,defaultFormat:JC},Ie=>un("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},un(Ie,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:W}))):un("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},un("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=i=>{let{options:t,viewApi:o}=this.context;return un(xa,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:o},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:Ty,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},g=>un("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==i?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:i}},un(g,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=i=>{this.setState({slatCoords:i})}}renderSimpleLayout(i,t,o){let{context:r,props:g}=this,E=[],W=na(r.options);return i&&E.push({type:"header",key:"header",isSticky:W,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}}),t&&(E.push({type:"body",key:"all-day",chunk:{content:t}}),E.push({type:"body",key:"all-day-divider",outerContent:un("tr",{role:"presentation",className:"fc-scrollgrid-section"},un("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),E.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:o}}),un(Sp,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},un(xp,{liquid:!g.isHeightAuto&&!g.forPrint,collapsibleWidth:g.forPrint,cols:[{width:"shrink"}],sections:E}))}renderHScrollLayout(i,t,o,r,g,E,W){let Ie=this.context.pluginHooks.scrollGridImpl;if(!Ie)throw new Error("No ScrollGrid implementation");let{context:it,props:nt}=this,Kt=!nt.forPrint&&na(it.options),Yt=!nt.forPrint&&Uu(it.options),Qt=[];i&&Qt.push({type:"header",key:"header",isSticky:Kt,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Ln=>un("tr",{role:"presentation"},this.renderHeadAxis("day",Ln.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}]}),t&&(Qt.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Ln=>un("tr",{role:"presentation"},this.renderTableRowAxis(Ln.rowSyncHeights[0]))},{key:"cols",content:t}]}),Qt.push({key:"all-day-divider",type:"body",outerContent:un("tr",{role:"presentation",className:"fc-scrollgrid-section"},un("td",{colSpan:2,className:"fc-timegrid-divider "+it.theme.getClass("tableCellShaded")}))}));let _n=it.options.nowIndicator;return Qt.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(it.options.expandRows),chunks:[{key:"axis",content:Ln=>un("div",{className:"fc-timegrid-axis-chunk"},un("table",{"aria-hidden":!0,style:{height:Ln.expandRows?Ln.clientHeight:""}},Ln.tableColGroupNode,un("tbody",null,un(zC,{slatMetas:E}))),un("div",{className:"fc-timegrid-now-indicator-container"},un(Pg,{unit:_n?"minute":"day"},Bn=>{let jn=_n&&W&&W.safeComputeTop(Bn);return"number"==typeof jn?un(Hu,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:jn},isAxis:!0,date:Bn}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:o}]}),Yt&&Qt.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ed},{key:"cols",content:Ed}]}),un(Sp,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:it.viewSpec},un(Ie,{liquid:!nt.isHeightAuto&&!nt.forPrint,forPrint:nt.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:g}]}],sections:Qt}))}getAllDayMaxEventProps(){let{dayMaxEvents:i,dayMaxEventRows:t}=this.context.options;return(!0===i||!0===t)&&(i=void 0,t=5),{dayMaxEvents:i,dayMaxEventRows:t}}}function Ty(n){return n.text}class Ay{constructor(i,t,o){this.positions=i,this.dateProfile=t,this.slotDuration=o}safeComputeTop(i){let{dateProfile:t}=this;if(tu(t.currentRange,i)){let o=ts(i),r=i.valueOf()-o.valueOf();if(r>=ya(t.slotMinTime)&&r<ya(t.slotMaxTime))return this.computeTimeTop(go(r))}return null}computeDateTop(i,t){return t||(t=ts(i)),this.computeTimeTop(go(i.valueOf()-t.valueOf()))}computeTimeTop(i){let E,W,{positions:t,dateProfile:o}=this,r=t.els.length,g=(i.milliseconds-ya(o.slotMinTime))/ya(this.slotDuration);return g=Math.max(0,g),g=Math.min(r,g),E=Math.floor(g),E=Math.min(E,r-1),W=g-E,t.tops[E]+t.getHeight(E)*W}}class wy extends rs{render(){let{props:i,context:t}=this,{options:o}=t,{slatElRefs:r}=i;return un("tbody",null,i.slatMetas.map((g,E)=>{let W={time:g.time,date:t.dateEnv.toDate(g.date),view:t.viewApi};return un("tr",{key:g.key,ref:r.createRef(g.key)},i.axis&&un(Jm,Object.assign({},g)),un(xa,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!g.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":g.isoTimeStr},renderProps:W,generatorName:"slotLaneContent",customGenerator:o.slotLaneContent,classNameGenerator:o.slotLaneClassNames,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount}))}))}}class Ah extends rs{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new su}render(){let{props:i,context:t}=this;return un("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},un("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:i.tableMinWidth,width:i.clientWidth,height:i.minHeight}},i.tableColGroupNode,un(wy,{slatElRefs:this.slatElRefs,axis:i.axis,slatMetas:i.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:i,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new Ay(new mh(this.rootElRef.current,function Ey(n,i){return i.map(t=>n[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,i.options.slotDuration))}}function wh(n,i){let o,t=[];for(o=0;o<i;o+=1)t.push([]);if(n)for(o=0;o<n.length;o+=1)t[n[o].col].push(n[o]);return t}function WC(n,i){let t=[];if(n){for(let o=0;o<i;o+=1)t[o]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let o of n.segs)t[o.col].segs.push(o)}else for(let o=0;o<i;o+=1)t[o]=null;return t}class rf extends rs{render(){let{props:i}=this;return un(Tm,{elClasses:["fc-timegrid-more-link"],elStyle:{top:i.top,bottom:i.bottom},allDayDate:null,moreCnt:i.hiddenSegs.length,allSegs:i.hiddenSegs,hiddenSegs:i.hiddenSegs,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,todayRange:i.todayRange,popoverContent:()=>XC(i.hiddenSegs,i),defaultGenerator:YC,forceTimed:!0},t=>un(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function YC(n){return n.shortText}function $C(n,i){if(!n)return[[],0];let{level:t,lateralStart:o,lateralEnd:r}=n,g=o,E=[];for(;g<r;)E.push(i(t,g)),g+=1;return E.sort(Eh),[E.map(Sh),E[0][1]]}function Eh(n,i){return i[1]-n[1]}function Sh(n){return n[0]}function Dy(n){let i=[];const t=af((r,g,E)=>Td(r),(r,g,E)=>{let W=Object.assign(Object.assign({},r),{levelCoord:g,stackDepth:E,stackForward:0});return i.push(W),W.stackForward=o(r.nextLevelNodes,g+r.thickness,E+1)+1});function o(r,g,E){let W=0;for(let Ie of r)W=Math.max(t(Ie,g,E),W);return W}return o(n,0,0),i}function af(n,i){const t={};return(...o)=>{let r=n(...o);return r in t?t[r]:t[r]=i(...o)}}function Qm(n,i,t=null,o=0){let r=[];if(t)for(let g=0;g<n.length;g+=1){let E=n[g],W=t.computeDateTop(E.start,i),Ie=Math.max(W+(o||0),t.computeDateTop(E.end,i));r.push({start:Math.round(W),end:Math.round(Ie)})}return r}const My=ns({hour:"numeric",minute:"2-digit",meridiem:!1});class Gm extends rs{render(){return un(Sd,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:My}))}}class Oy extends rs{constructor(){super(...arguments),this.sortEventSegs=nn(im)}render(){let{props:i,context:t}=this,{options:o}=t,r=o.selectMirror,g=i.eventDrag&&i.eventDrag.segs||i.eventResize&&i.eventResize.segs||r&&i.dateSelectionSegs||[],E=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{},W=this.sortEventSegs(i.fgEventSegs,o.eventOrder);return un(Vu,{elTag:"td",elRef:i.elRef,elClasses:["fc-timegrid-col",...i.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},i.extraDataAttrs),date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraRenderProps:i.extraRenderProps},Ie=>un("div",{className:"fc-timegrid-col-frame"},un("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(i.businessHourSegs,"non-business"),this.renderFillSegs(i.bgEventSegs,"bg-event"),this.renderFillSegs(i.dateSelectionSegs,"highlight")),un("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(W,E,!1,!1,!1)),un("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(g,{},Boolean(i.eventDrag),Boolean(i.eventResize),Boolean(r))),un("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(i.nowIndicatorSegs)),zu(o)&&un(Ie,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(i,t,o,r,g){let{props:E}=this;return E.forPrint?XC(i,E):this.renderPositionedFgSegs(i,t,o,r,g)}renderPositionedFgSegs(i,t,o,r,g){let{eventMaxStack:E,eventShortHeight:W,eventOrderStrict:Ie,eventMinHeight:it}=this.context.options,{date:nt,slatCoords:Kt,eventSelection:Yt,todayRange:Qt,nowDate:_n}=this.props,Ln=o||r||g,Bn=Qm(i,nt,Kt,it),{segPlacements:jn,hiddenGroups:Ii}=function qC(n,i,t,o){let r=[],g=[];for(let it=0;it<n.length;it+=1){let nt=i[it];nt?r.push({index:it,thickness:1,span:nt}):g.push(n[it])}let{segRects:E,hiddenGroups:W}=function jC(n,i,t){let o=new I0;null!=i&&(o.strictOrder=i),null!=t&&(o.maxStackCnt=t);let g=function am(n){let i=[];for(let t of n){let o=[],r={span:t.span,entries:[t]};for(let g of i)lm(g.span,r.span)?r={entries:g.entries.concat(r.entries),span:A0(g.span,r.span)}:o.push(g);o.push(r),i=o}return i}(o.addSegs(n)),E=function KC(n){const{entriesByLevel:i}=n,t=af((o,r)=>o+":"+r,(o,r)=>{let g=function Sy(n,i,t){let{levelCoords:o,entriesByLevel:r}=n,g=r[i][t],E=o[i]+g.thickness,W=o.length,Ie=i;for(;Ie<W&&o[Ie]<E;Ie+=1);for(;Ie<W;Ie+=1){let nt,it=r[Ie],Kt=um(it,g.span.start,T0),Yt=Kt[0]+Kt[1],Qt=Yt;for(;(nt=it[Qt])&&nt.span.start<g.span.end;)Qt+=1;if(Yt<Qt)return{level:Ie,lateralStart:Yt,lateralEnd:Qt}}return null}(n,o,r),E=$C(g,t),W=i[o][r];return[Object.assign(Object.assign({},W),{nextLevelNodes:E[0]}),W.thickness+E[1]]});return $C(i.length?{level:0,lateralStart:0,lateralEnd:i[0].length}:null,t)[0]}(o);return E=function ky(n,i){const t=af((o,r,g)=>Td(o),(o,r,g)=>{let nt,{nextLevelNodes:E,thickness:W}=o,Ie=W+g,it=W/Ie,Kt=[];if(E.length)for(let Qt of E)if(void 0===nt){let _n=t(Qt,r,Ie);nt=_n[0],Kt.push(_n[1])}else{let _n=t(Qt,nt,0);Kt.push(_n[1])}else nt=i;let Yt=(nt-r)*it;return[nt-Yt,Object.assign(Object.assign({},o),{thickness:Yt,nextLevelNodes:Kt})]});return n.map(o=>t(o,0,0)[1])}(E,1),{segRects:Dy(E),hiddenGroups:g}}(r,t,o),Ie=[];for(let it of E)Ie.push({seg:n[it.index],rect:it});for(let it of g)Ie.push({seg:it,rect:null});return{segPlacements:Ie,hiddenGroups:W}}(i,Bn,Ie,E);return un(Go,null,this.renderHiddenGroups(Ii,i),jn.map(to=>{let{seg:Hi,rect:Ao}=to,ms=Hi.eventRange.instance.instanceId,Us=Ln||Boolean(!t[ms]&&Ao),Mo=ev(Ao&&Ao.span),kc=!Ln&&Ao?this.computeSegHStyle(Ao):{left:0,right:0},H_=Boolean(Ao)&&Ao.stackForward>0,PF=Boolean(Ao)&&Ao.span.end-Ao.span.start<W;return un("div",{className:"fc-timegrid-event-harness"+(H_?" fc-timegrid-event-harness-inset":""),key:ms,style:Object.assign(Object.assign({visibility:Us?"":"hidden"},Mo),kc)},un(Gm,Object.assign({seg:Hi,isDragging:o,isResizing:r,isDateSelecting:g,isSelected:ms===Yt,isShort:PF},Ya(Hi,Qt,_n))))}))}renderHiddenGroups(i,t){let{extraDateSpan:o,dateProfile:r,todayRange:g,nowDate:E,eventSelection:W,eventDrag:Ie,eventResize:it}=this.props;return un(Go,null,i.map(nt=>{let Kt=ev(nt.span),Yt=function wI(n,i){return n.map(t=>i[t.index])}(nt.entries,t);return un(rf,{key:Re(J0(Yt)),hiddenSegs:Yt,top:Kt.top,bottom:Kt.bottom,extraDateSpan:o,dateProfile:r,todayRange:g,nowDate:E,eventSelection:W,eventDrag:Ie,eventResize:it})}))}renderFillSegs(i,t){let{props:o,context:r}=this,E=Qm(i,o.date,o.slatCoords,r.options.eventMinHeight).map((W,Ie)=>{let it=i[Ie];return un("div",{key:Id(it.eventRange),className:"fc-timegrid-bg-harness",style:ev(W)},"bg-event"===t?un(kd,Object.assign({seg:it},Ya(it,o.todayRange,o.nowDate))):xm(t))});return un(Go,null,E)}renderNowIndicator(i){let{slatCoords:t,date:o}=this.props;return t?i.map((r,g)=>un(Hu,{key:g,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,o)},isAxis:!1,date:o})):null}computeSegHStyle(i){let W,Ie,{isRtl:t,options:o}=this.context,r=o.slotEventOverlap,g=i.levelCoord,E=i.levelCoord+i.thickness;r&&(E=Math.min(1,g+2*(E-g))),t?(W=1-E,Ie=g):(W=g,Ie=1-E);let it={zIndex:i.stackDepth+1,left:100*W+"%",right:100*Ie+"%"};return r&&!i.stackForward&&(it[t?"marginLeft":"marginRight"]=20),it}}function XC(n,{todayRange:i,nowDate:t,eventSelection:o,eventDrag:r,eventResize:g}){let E=(r?r.affectedInstances:null)||(g?g.affectedInstances:null)||{};return un(Go,null,n.map(W=>{let Ie=W.eventRange.instance.instanceId;return un("div",{key:Ie,style:{visibility:E[Ie]?"hidden":""}},un(Gm,Object.assign({seg:W,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:Ie===o,isShort:!1},Ya(W,i,t))))}))}function ev(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class EI extends rs{constructor(){super(...arguments),this.splitFgEventSegs=nn(wh),this.splitBgEventSegs=nn(wh),this.splitBusinessHourSegs=nn(wh),this.splitNowIndicatorSegs=nn(wh),this.splitDateSelectionSegs=nn(wh),this.splitEventDrag=nn(WC),this.splitEventResize=nn(WC),this.rootElRef={current:null},this.cellElRefs=new su}render(){let{props:i,context:t}=this,o=t.options.nowIndicator&&i.slatCoords&&i.slatCoords.safeComputeTop(i.nowDate),r=i.cells.length,g=this.splitFgEventSegs(i.fgEventSegs,r),E=this.splitBgEventSegs(i.bgEventSegs,r),W=this.splitBusinessHourSegs(i.businessHourSegs,r),Ie=this.splitNowIndicatorSegs(i.nowIndicatorSegs,r),it=this.splitDateSelectionSegs(i.dateSelectionSegs,r),nt=this.splitEventDrag(i.eventDrag,r),Kt=this.splitEventResize(i.eventResize,r);return un("div",{className:"fc-timegrid-cols",ref:this.rootElRef},un("table",{role:"presentation",style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,un("tbody",{role:"presentation"},un("tr",{role:"row"},i.axis&&un("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},un("div",{className:"fc-timegrid-col-frame"},un("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof o&&un(Hu,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:o},isAxis:!0,date:i.nowDate})))),i.cells.map((Yt,Qt)=>un(Oy,{key:Yt.key,elRef:this.cellElRefs.createRef(Yt.key),dateProfile:i.dateProfile,date:Yt.date,nowDate:i.nowDate,todayRange:i.todayRange,extraRenderProps:Yt.extraRenderProps,extraDataAttrs:Yt.extraDataAttrs,extraClassNames:Yt.extraClassNames,extraDateSpan:Yt.extraDateSpan,fgEventSegs:g[Qt],bgEventSegs:E[Qt],businessHourSegs:W[Qt],nowIndicatorSegs:Ie[Qt],dateSelectionSegs:it[Qt],eventDrag:nt[Qt],eventResize:Kt[Qt],slatCoords:i.slatCoords,eventSelection:i.eventSelection,forPrint:i.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:i}=this;i.onColCoords&&null!==i.clientWidth&&i.onColCoords(new mh(this.rootElRef.current,function SI(n,i){return i.map(t=>n[t.key])}(this.cellElRefs.currentMap,i.cells),!0,!1))}}class tv extends Gl{constructor(){super(...arguments),this.processSlotOptions=nn(lf),this.state={slatCoords:null},this.handleRootEl=i=>{i?this.context.registerInteractiveComponent(this,{el:i,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=i=>{let{onScrollTopRequest:t}=this.props,{slatCoords:o}=this.state;if(t&&o){if(i.time){let r=o.computeTimeTop(i.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=i=>{this.colCoords=i},this.handleSlatCoords=i=>{this.setState({slatCoords:i}),this.props.onSlatCoords&&this.props.onSlatCoords(i)}}render(){let{props:i,state:t}=this;return un("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:i.clientWidth,minWidth:i.tableMinWidth}},un(Ah,{axis:i.axis,dateProfile:i.dateProfile,slatMetas:i.slatMetas,clientWidth:i.clientWidth,minHeight:i.expandRows?i.clientHeight:"",tableMinWidth:i.tableMinWidth,tableColGroupNode:i.axis?i.tableColGroupNode:null,onCoords:this.handleSlatCoords}),un(EI,{cells:i.cells,axis:i.axis,dateProfile:i.dateProfile,businessHourSegs:i.businessHourSegs,bgEventSegs:i.bgEventSegs,fgEventSegs:i.fgEventSegs,dateSelectionSegs:i.dateSelectionSegs,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange,nowDate:i.nowDate,nowIndicatorSegs:i.nowIndicatorSegs,clientWidth:i.clientWidth,tableMinWidth:i.tableMinWidth,tableColGroupNode:i.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:i.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(i){this.scrollResponder.update(i.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(i,t){let{dateEnv:o,options:r}=this.context,{colCoords:g}=this,{dateProfile:E}=this.props,{slatCoords:W}=this.state,{snapDuration:Ie,snapsPerSlot:it}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),nt=g.leftToIndex(i),Kt=W.positions.topToIndex(t);if(null!=nt&&null!=Kt){let Yt=this.props.cells[nt],Qt=W.positions.tops[Kt],_n=W.positions.getHeight(Kt),Bn=Math.floor((t-Qt)/_n*it),Ii=this.props.cells[nt].date,to=Cc(E.slotMinTime,function cg(n,i){return{years:n.years*i,months:n.months*i,days:n.days*i,milliseconds:n.milliseconds*i}}(Ie,Kt*it+Bn)),Hi=o.add(Ii,to),Ao=o.add(Hi,Ie);return{dateProfile:E,dateSpan:Object.assign({range:{start:Hi,end:Ao},allDay:!1},Yt.extraDateSpan),dayEl:g.els[nt],rect:{left:g.lefts[nt],right:g.rights[nt],top:Qt,bottom:Qt+_n},layer:0}}return null}}function lf(n,i){let t=i||n,o=lp(n,t);return null===o&&(t=n,o=1),{snapDuration:t,snapsPerSlot:o}}class Py extends _m{sliceRange(i,t){let o=[];for(let r=0;r<t.length;r+=1){let g=Nu(i,t[r]);g&&o.push({start:g.start,end:g.end,isStart:g.start.valueOf()===i.start.valueOf(),isEnd:g.end.valueOf()===i.end.valueOf(),col:r})}return o}}class Ly extends Gl{constructor(){super(...arguments),this.buildDayRanges=nn(nv),this.slicer=new Py,this.timeColsRef={current:null}}render(){let{props:i,context:t}=this,{dateProfile:o,dayTableModel:r}=i,{nowIndicator:g,nextDayThreshold:E}=t.options,W=this.buildDayRanges(r,o,t.dateEnv);return un(Pg,{unit:g?"minute":"day"},(Ie,it)=>un(tv,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(i,o,null,t,W),{forPrint:i.forPrint,axis:i.axis,dateProfile:o,slatMetas:i.slatMetas,slotDuration:i.slotDuration,cells:r.cells[0],tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,clientWidth:i.clientWidth,clientHeight:i.clientHeight,expandRows:i.expandRows,nowDate:Ie,nowIndicatorSegs:g&&this.slicer.sliceNowDate(Ie,o,E,t,W),todayRange:it,onScrollTopRequest:i.onScrollTopRequest,onSlatCoords:i.onSlatCoords})))}}function nv(n,i,t){let o=[];for(let r of n.headerDates)o.push({start:t.add(r,i.slotMinTime),end:t.add(r,i.slotMaxTime)});return o}const Pp=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Ry(n,i,t,o,r){let g=new Date(0),E=n,W=go(0),Ie=t||function Ny(n){let i,t,o;for(i=Pp.length-1;i>=0;i-=1)if(t=go(Pp[i]),o=lp(t,n),null!==o&&o>1)return t;return n}(o),it=[];for(;ya(E)<ya(i);){let nt=r.add(g,E),Kt=null!==lp(W,Ie);it.push({date:nt,time:E,key:nt.toISOString(),isoTimeStr:Ut(nt),isLabeled:Kt}),E=Cc(E,o),W=Cc(W,o)}return it}function By(n,i){let t=new fm(n.renderRange,i);return new mm(t,!1)}cd('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var Hy=Ic({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class Fy extends GC{constructor(){super(...arguments),this.buildTimeColsModel=nn(By),this.buildSlatMetas=nn(Ry)}render(){let{options:i,dateEnv:t,dateProfileGenerator:o}=this.context,{props:r}=this,{dateProfile:g}=r,E=this.buildTimeColsModel(g,o),W=this.allDaySplitter.splitProps(r),Ie=this.buildSlatMetas(g.slotMinTime,g.slotMaxTime,i.slotLabelInterval,i.slotDuration,t),{dayMinWidth:it}=i,nt=!it,Kt=it,Yt=i.dayHeaders&&un(Hb,{dates:E.headerDates,dateProfile:g,datesRepDistinctDays:!0,renderIntro:nt?this.renderHeadAxis:null}),Qt=!1!==i.allDaySlot&&(Ln=>un(HC,Object.assign({},W.allDay,{dateProfile:g,dayTableModel:E,nextDayThreshold:i.nextDayThreshold,tableMinWidth:Ln.tableMinWidth,colGroupNode:Ln.tableColGroupNode,renderRowIntro:nt?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Ln.clientWidth,clientHeight:Ln.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),_n=Ln=>un(Ly,Object.assign({},W.timed,{dayTableModel:E,dateProfile:g,axis:nt,slotDuration:i.slotDuration,slatMetas:Ie,forPrint:r.forPrint,tableColGroupNode:Ln.tableColGroupNode,tableMinWidth:Ln.tableMinWidth,clientWidth:Ln.clientWidth,clientHeight:Ln.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Ln.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return Kt?this.renderHScrollLayout(Yt,Qt,_n,E.colCnt,it,Ie,this.state.slatCoords):this.renderSimpleLayout(Yt,Qt,_n)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Vy extends rs{constructor(){super(...arguments),this.state={textId:Zl()}}render(){let{theme:i,dateEnv:t,options:o,viewApi:r}=this.context,{cellId:g,dayDate:E,todayRange:W}=this.props,{textId:Ie}=this.state,it=jf(E,W),nt=o.listDayFormat?t.format(E,o.listDayFormat):"",Kt=o.listDaySideFormat?t.format(E,o.listDaySideFormat):"",Yt=Object.assign({date:t.toDate(E),view:r,textId:Ie,text:nt,sideText:Kt,navLinkAttrs:Fu(this.context,E),sideNavLinkAttrs:Fu(this.context,E,"day",!1)},it);return un(xa,{elTag:"tr",elClasses:["fc-list-day",...gh(it,i)],elAttrs:{"data-date":rt(E)},renderProps:Yt,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:kh,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},Qt=>un("th",{scope:"colgroup",colSpan:3,id:g,"aria-labelledby":Ie},un(Qt,{elTag:"div",elClasses:["fc-list-day-cushion",i.getClass("tableCellShaded")]})))}}function kh(n){return un(Go,null,n.text&&un("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&un("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const zy=ns({hour:"numeric",minute:"2-digit",meridiem:"short"});class iv extends rs{render(){let{props:i,context:t}=this,{options:o}=t,{seg:r,timeHeaderId:g,eventHeaderId:E,dateHeaderId:W}=i,Ie=o.eventTimeFormat||zy;return un(Ip,Object.assign({},i,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function Jy(n,i){let t=Ch(n,i);return un("a",Object.assign({},t),n.eventRange.def.title)}(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(it,nt)=>un(Go,null,function ov(n,i,t,o,r){let{options:g}=t;if(!1!==g.displayEventTime){let it,W=n.eventRange.instance,Ie=!1;return n.eventRange.def.allDay?Ie=!0:function mb(n){let i=eu(n);return vc(i.start,i.end)>1}(n.eventRange.range)?n.isStart?it=Zu(n,i,t,null,null,W.range.start,n.end):n.isEnd?it=Zu(n,i,t,null,null,n.start,W.range.end):Ie=!0:it=Zu(n,i,t),Ie?un(xa,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${o} ${r}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:g.allDayContent,defaultGenerator:Qy,classNameGenerator:g.allDayClassNames,didMount:g.allDayDidMount,willUnmount:g.allDayWillUnmount}):un("td",{className:"fc-list-event-time"},it)}return null}(r,Ie,t,g,W),un("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},un("span",{className:"fc-list-event-dot",style:{borderColor:nt.borderColor||nt.backgroundColor}})),un(it,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${E} ${W}`}})))}}function Qy(n){return n.text}function Gy(n){return n.text}function Wm(n){let i=ts(n.renderRange.start),t=n.renderRange.end,o=[],r=[];for(;i<t;)o.push(i),r.push({start:i,end:ur(i,1)}),i=ur(i,1);return{dayDates:o,dayRanges:r}}function lv(n){return!1===n?null:ns(n)}cd(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var Yy=Ic({name:"@fullcalendar/list",optionRefiners:{listDayFormat:lv,listDaySideFormat:lv,noEventsClassNames:Vn,noEventsContent:Vn,noEventsDidMount:Vn,noEventsWillUnmount:Vn},views:{list:{component:class sv extends Gl{constructor(){super(...arguments),this.computeDateVars=nn(Wm),this.eventStoreToSegs=nn(this._eventStoreToSegs),this.state={timeHeaderId:Zl(),eventHeaderId:Zl(),dateHeaderIdRoot:Zl()},this.setRootEl=i=>{i?this.context.registerInteractiveComponent(this,{el:i}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:i,context:t}=this,{dayDates:o,dayRanges:r}=this.computeDateVars(i.dateProfile),g=this.eventStoreToSegs(i.eventStore,i.eventUiBases,r);return un(Sp,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},un(Z0,{liquid:!i.isHeightAuto,overflowX:i.isHeightAuto?"visible":"hidden",overflowY:i.isHeightAuto?"visible":"auto"},g.length>0?this.renderSegList(g,o):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:i,viewApi:t}=this.context;return un(xa,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:i.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:i.noEventsContent,defaultGenerator:Gy,classNameGenerator:i.noEventsClassNames,didMount:i.noEventsDidMount,willUnmount:i.noEventsWillUnmount},r=>un(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(i,t){let{theme:o,options:r}=this.context,{timeHeaderId:g,eventHeaderId:E,dateHeaderIdRoot:W}=this.state,Ie=function Wy(n){let t,o,i=[];for(t=0;t<n.length;t+=1)o=n[t],(i[o.dayIndex]||(i[o.dayIndex]=[])).push(o);return i}(i);return un(Pg,{unit:"day"},(it,nt)=>{let Kt=[];for(let Yt=0;Yt<Ie.length;Yt+=1){let Qt=Ie[Yt];if(Qt){let _n=rt(t[Yt]),Ln=W+"-"+_n;Kt.push(un(Vy,{key:_n,cellId:Ln,dayDate:t[Yt],todayRange:nt})),Qt=im(Qt,r.eventOrder);for(let Bn of Qt)Kt.push(un(iv,Object.assign({key:_n+":"+Bn.eventRange.instance.instanceId,seg:Bn,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:g,eventHeaderId:E,dateHeaderId:Ln},Ya(Bn,nt,it))))}}return un("table",{className:"fc-list-table "+o.getClass("table")},un("thead",null,un("tr",null,un("th",{scope:"col",id:g},r.timeHint),un("th",{scope:"col","aria-hidden":!0}),un("th",{scope:"col",id:E},r.eventHint))),un("tbody",null,Kt))})}_eventStoreToSegs(i,t,o){return this.eventRangesToSegs(_h(i,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,o)}eventRangesToSegs(i,t){let o=[];for(let r of i)o.push(...this.eventRangeToSegs(r,t));return o}eventRangeToSegs(i,t){let W,Ie,it,{dateEnv:o}=this.context,{nextDayThreshold:r}=this.context.options,g=i.range,E=i.def.allDay,nt=[];for(W=0;W<t.length;W+=1)if(Ie=Nu(g,t[W]),Ie&&(it={component:this,eventRange:i,start:Ie.start,end:Ie.end,isStart:i.isStart&&Ie.start.valueOf()===g.start.valueOf(),isEnd:i.isEnd&&Ie.end.valueOf()===g.end.valueOf(),dayIndex:W},nt.push(it),!it.isEnd&&!E&&W+1<t.length&&g.end<o.add(t[W+1].start,r))){it.end=g.end,it.isEnd=!0;break}return nt}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});Dg.touchMouseIgnoreWait=500;let Ym=0,Lp=0,jm=!1;class cf{constructor(i){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function jy(n){return 0===n.button&&!n.ctrlKey}(t)&&this.tryStart(t)){let o=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",o),this.initScrollWatch(o),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let o=this.createEventFromMouse(t);this.recordCoords(o),this.emitter.trigger("pointermove",o)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let o=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",o),this.initScrollWatch(o);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let o=this.createEventFromTouch(t);this.recordCoords(o),this.emitter.trigger("pointermove",o)},this.handleTouchEnd=t=>{if(this.isDragging){let o=t.target;o.removeEventListener("touchmove",this.handleTouchMove),o.removeEventListener("touchend",this.handleTouchEnd),o.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function Ky(){Ym+=1,setTimeout(()=>{Ym-=1},Dg.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let o=window.pageXOffset-this.prevScrollX+this.prevPageX,r=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:o,pageY:r,deltaX:o-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=i,this.emitter=new _p,i.addEventListener("mousedown",this.handleMouseDown),i.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function $y(){Lp+=1,1===Lp&&window.addEventListener("touchmove",cv,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function qy(){Lp-=1,Lp||window.removeEventListener("touchmove",cv,{passive:!1})}()}tryStart(i){let t=this.querySubjectEl(i);return!(!t||this.handleSelector&&!ga(i.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){jm=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(i){return this.selector?ga(i.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Ym||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(jm=!0)}initScrollWatch(i){this.shouldWatchScroll&&(this.recordCoords(i),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(i){this.shouldWatchScroll&&(this.prevPageX=i.pageX,this.prevPageY=i.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(i,t){let o=0,r=0;return t?(this.origPageX=i.pageX,this.origPageY=i.pageY):(o=i.pageX-this.origPageX,r=i.pageY-this.origPageY),{origEvent:i,isTouch:!1,subjectEl:this.subjectEl,pageX:i.pageX,pageY:i.pageY,deltaX:o,deltaY:r}}createEventFromTouch(i,t){let r,g,o=i.touches,E=0,W=0;return o&&o.length?(r=o[0].pageX,g=o[0].pageY):(r=i.pageX,g=i.pageY),t?(this.origPageX=r,this.origPageY=g):(E=r-this.origPageX,W=g-this.origPageY),{origEvent:i,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:g,deltaX:E,deltaY:W}}}function cv(n){jm&&n.preventDefault()}class Xy{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(i,t,o){this.sourceEl=i,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=o-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(i,t){this.deltaX=i-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(i){i?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=i,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=i)}stop(i,t){let o=()=>{this.cleanup(),t()};i&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(o,this.revertDuration):setTimeout(o,0)}doRevertAnimation(i,t){let o=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();o.style.transition="top "+t+"ms,left "+t+"ms",_c(o,{left:r.left,top:r.top}),function Mf(n,i){let t=o=>{i(o),yl.forEach(r=>{n.removeEventListener(r,t)})};yl.forEach(o=>{n.addEventListener(o,t)})}(o,()=>{o.style.transition="",i()})}cleanup(){this.mirrorEl&&($p(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&_c(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let i=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),_c(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:i.right-i.left,height:i.bottom-i.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class uv extends Cp{constructor(i,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=i,this.doesListening=t,this.scrollTop=this.origScrollTop=i.getScrollTop(),this.scrollLeft=this.origScrollLeft=i.getScrollLeft(),this.scrollWidth=i.getScrollWidth(),this.scrollHeight=i.getScrollHeight(),this.clientWidth=i.getClientWidth(),this.clientHeight=i.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(i){this.scrollController.setScrollTop(i),this.doesListening||(this.scrollTop=Math.max(Math.min(i,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(i){this.scrollController.setScrollLeft(i),this.doesListening||(this.scrollLeft=Math.max(Math.min(i,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class dv extends uv{constructor(i,t){super(new qf(i),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Ib(this.scrollController.el)}}class pv extends uv{constructor(i){super(new Xf,i)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Km="function"==typeof performance?performance.now:Date.now;class e4{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let i=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(i){let t=Km();this.handleSide(i,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(i,t,o){this.isEnabled&&(this.scrollCaches=this.buildCaches(o),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(i,t))}handleMove(i,t){if(this.isEnabled){let o=i-window.pageXOffset,r=t-window.pageYOffset,g=null===this.pointerScreenY?0:r-this.pointerScreenY,E=null===this.pointerScreenX?0:o-this.pointerScreenX;g<0?this.everMovedUp=!0:g>0&&(this.everMovedDown=!0),E<0?this.everMovedLeft=!0:E>0&&(this.everMovedRight=!0),this.pointerScreenX=o,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Km()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let i of this.scrollCaches)i.destroy();this.scrollCaches=null}}requestAnimation(i){this.msSinceRequest=i,requestAnimationFrame(this.animate)}handleSide(i,t){let{scrollCache:o}=i,{edgeThreshold:r}=this,g=r-i.distance,E=g*g/(r*r)*this.maxVelocity*t,W=1;switch(i.name){case"left":W=-1;case"right":o.setScrollLeft(o.getScrollLeft()+E*W);break;case"top":W=-1;case"bottom":o.setScrollTop(o.getScrollTop()+E*W)}}computeBestEdge(i,t){let{edgeThreshold:o}=this,r=null,g=this.scrollCaches||[];for(let E of g){let W=E.clientRect,Ie=i-W.left,it=W.right-i,nt=t-W.top,Kt=W.bottom-t;Ie>=0&&it>=0&&nt>=0&&Kt>=0&&(nt<=o&&this.everMovedUp&&E.canScrollUp()&&(!r||r.distance>nt)&&(r={scrollCache:E,name:"top",distance:nt}),Kt<=o&&this.everMovedDown&&E.canScrollDown()&&(!r||r.distance>Kt)&&(r={scrollCache:E,name:"bottom",distance:Kt}),Ie<=o&&this.everMovedLeft&&E.canScrollLeft()&&(!r||r.distance>Ie)&&(r={scrollCache:E,name:"left",distance:Ie}),it<=o&&this.everMovedRight&&E.canScrollRight()&&(!r||r.distance>it)&&(r={scrollCache:E,name:"right",distance:it}))}return r}buildCaches(i){return this.queryScrollEls(i).map(t=>t===window?new pv(!1):new dv(t,!1))}queryScrollEls(i){let t=[];for(let o of this.scrollQuery)"object"==typeof o?t.push(o):t.push(...Array.prototype.slice.call(i.getRootNode().querySelectorAll(o)));return t}}class Rp extends class Fb{constructor(i,t){this.emitter=new _p}destroy(){}setMirrorIsVisible(i){}setMirrorNeedsRevert(i){}setAutoScrollEnabled(i){}}{constructor(i,t){super(i),this.containerEl=i,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function Of(n){n.style.userSelect="none",n.addEventListener("selectstart",Na)}(document.body),function pd(n){n.addEventListener("contextmenu",Na)}(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let E,g=this.minDistance,{deltaX:W,deltaY:Ie}=r;E=W*W+Ie*Ie,E>=g*g&&this.handleDistanceSurpassed(r)}this.isDragging&&("scroll"!==r.origEvent.type&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,function ig(n){n.style.userSelect="",n.removeEventListener("selectstart",Na)}(document.body),function og(n){n.removeEventListener("contextmenu",Na)}(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let o=this.pointer=new cf(i);o.emitter.on("pointerdown",this.onPointerDown),o.emitter.on("pointermove",this.onPointerMove),o.emitter.on("pointerup",this.onPointerUp),t&&(o.selector=t),this.mirror=new Xy,this.autoScroller=new e4}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(i){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(i)},this.delay):this.handleDelayEnd(i)}handleDelayEnd(i){this.isDelayEnded=!0,this.tryStartDrag(i)}handleDistanceSurpassed(i){this.isDistanceSurpassed=!0,this.tryStartDrag(i)}tryStartDrag(i){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(i.pageX,i.pageY,this.containerEl),this.emitter.trigger("dragstart",i),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(i){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,i))}stopDrag(i){this.isDragging=!1,this.emitter.trigger("dragend",i)}setIgnoreMove(i){this.pointer.shouldIgnoreMove=i}setMirrorIsVisible(i){this.mirror.setIsVisible(i)}setMirrorNeedsRevert(i){this.mirrorNeedsRevert=i}setAutoScrollEnabled(i){this.autoScroller.isEnabled=i}}class hv{constructor(i){this.origRect=fh(i),this.scrollCaches=Tg(i).map(t=>new dv(t,!0))}destroy(){for(let i of this.scrollCaches)i.destroy()}computeLeft(){let i=this.origRect.left;for(let t of this.scrollCaches)i+=t.origScrollLeft-t.getScrollLeft();return i}computeTop(){let i=this.origRect.top;for(let t of this.scrollCaches)i+=t.origScrollTop-t.getScrollTop();return i}isWithinClipping(i,t){let o={left:i,top:t};for(let r of this.scrollCaches)if(!t4(r.getEventTarget())&&!Wf(o,r.clientRect))return!1;return!0}}function t4(n){let i=n.tagName;return"HTML"===i||"BODY"===i}class Dh{constructor(i,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=o=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(o),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",o)):r.setIgnoreMove(!0)},this.handleDragStart=o=>{this.emitter.trigger("dragstart",o),this.handleMove(o,!0)},this.handleDragMove=o=>{this.emitter.trigger("dragmove",o),this.handleMove(o)},this.handlePointerUp=o=>{this.releaseHits(),this.emitter.trigger("pointerup",o)},this.handleDragEnd=o=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,o),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",o)},this.droppableStore=t,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("dragmove",this.handleDragMove),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd),this.dragging=i,this.emitter=new _p}processFirstCoord(i){let g,t={left:i.pageX,top:i.pageY},o=t,r=i.subjectEl;r instanceof HTMLElement&&(g=fh(r),o=function Xx(n,i){return{left:Math.min(Math.max(n.left,i.left),i.right),top:Math.min(Math.max(n.top,i.top),i.bottom)}}(o,g));let E=this.initialHit=this.queryHitForOffset(o.left,o.top);if(E){if(this.useSubjectCenter&&g){let W=$_(g,E.rect);W&&(o=function eI(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(W))}this.coordAdjust=function _b(n,i){return{left:n.left-i.left,top:n.top-i.top}}(o,t)}else this.coordAdjust={left:0,top:0}}handleMove(i,t){let o=this.queryHitForOffset(i.pageX+this.coordAdjust.left,i.pageY+this.coordAdjust.top);(t||!uf(this.movingHit,o))&&(this.movingHit=o,this.emitter.trigger("hitupdate",o,!1,i))}prepareHits(){this.offsetTrackers=xl(this.droppableStore,i=>(i.component.prepareHits(),new hv(i.el)))}releaseHits(){let{offsetTrackers:i}=this;for(let t in i)i[t].destroy();this.offsetTrackers={}}queryHitForOffset(i,t){let{droppableStore:o,offsetTrackers:r}=this,g=null;for(let E in o){let W=o[E].component,Ie=r[E];if(Ie&&Ie.isWithinClipping(i,t)){let it=Ie.computeLeft(),nt=Ie.computeTop(),Kt=i-it,Yt=t-nt,{origRect:Qt}=Ie,_n=Qt.right-Qt.left,Ln=Qt.bottom-Qt.top;if(Kt>=0&&Kt<_n&&Yt>=0&&Yt<Ln){let Bn=W.queryHit(Kt,Yt,_n,Ln);Bn&&yg(Bn.dateProfile.activeRange,Bn.dateSpan.range)&&(!g||Bn.layer>g.layer)&&(Bn.componentId=E,Bn.context=W.context,Bn.rect.left+=it,Bn.rect.right+=it,Bn.rect.top+=nt,Bn.rect.bottom+=nt,g=Bn)}}}return g}}function uf(n,i){return!n&&!i||Boolean(n)===Boolean(i)&&function sm(n,i){return function yb(n,i){return(null===n.start?null:n.start.valueOf())===(null===i.start?null:i.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===i.end?null:i.end.valueOf())}(n.range,i.range)&&n.allDay===i.allDay&&function rm(n,i){for(let t in i)if("range"!==t&&"allDay"!==t&&n[t]!==i[t])return!1;for(let t in n)if(!(t in i))return!1;return!0}(n,i)}(n.dateSpan,i.dateSpan)}function Mh(n,i){let t={};for(let o of i.pluginHooks.datePointTransforms)Object.assign(t,o(n,i));return Object.assign(t,function $m(n,i){return{date:i.toDate(n.range.start),dateStr:i.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,i.dateEnv)),t}let df=(()=>{class n extends Ad{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=W=>{let Ie=W.origEvent.target,{component:it,dragging:nt}=this,{mirror:Kt}=nt,{options:Yt}=it.context,Qt=it.context;this.subjectEl=W.subjectEl;let _n=this.subjectSeg=vp(W.subjectEl),Bn=(this.eventRange=_n.eventRange).instance.instanceId;this.relevantEvents=zf(Qt.getCurrentData().eventStore,Bn),nt.minDistance=W.isTouch?0:Yt.eventDragMinDistance,nt.delay=W.isTouch&&Bn!==it.props.eventSelection?function fv(n){let{options:i}=n.context,t=i.eventLongPressDelay;return null==t&&(t=i.longPressDelay),t}(it):null,Kt.parentNode=Yt.fixedMirrorParent?Yt.fixedMirrorParent:ga(Ie,".fc"),Kt.revertDuration=Yt.dragRevertDuration;let jn=it.isValidSegDownEl(Ie)&&!ga(Ie,".fc-event-resizer");nt.setIgnoreMove(!jn),this.isDragging=jn&&W.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=W=>{let Ie=this.component.context,it=this.eventRange,nt=it.instance.instanceId;W.isTouch?nt!==this.component.props.eventSelection&&Ie.dispatch({type:"SELECT_EVENT",eventInstanceId:nt}):Ie.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(Ie.calendarApi.unselect(W),Ie.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ps(Ie,it.def,it.instance),jsEvent:W.origEvent,view:Ie.viewApi}))},this.handleHitUpdate=(W,Ie)=>{if(!this.isDragging)return;let it=this.relevantEvents,nt=this.hitDragging.initialHit,Kt=this.component.context,Yt=null,Qt=null,_n=null,Ln=!1,Bn={affectedEvents:it,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(W){Yt=W.context;let jn=Yt.options;Kt===Yt||jn.editable&&jn.droppable?(Qt=function s4(n,i,t){let o=n.dateSpan,r=i.dateSpan,g=o.range.start,E=r.range.start,W={};o.allDay!==r.allDay&&(W.allDay=r.allDay,W.hasEnd=i.context.options.allDayMaintainDuration,r.allDay&&(g=ts(g)));let Ie=Lu(g,E,n.context.dateEnv,n.componentId===i.componentId?n.largeUnit:null);Ie.milliseconds&&(W.allDay=!1);let it={datesDelta:Ie,standardProps:W};for(let nt of t)nt(it,n,i);return it}(nt,W,Yt.getCurrentData().pluginHooks.eventDragMutationMassagers),Qt&&(_n=d0(it,Yt.getCurrentData().eventUiBases,Qt,Yt),Bn.mutatedEvents=_n,R0(Bn,W.dateProfile,Yt)||(Ln=!0,Qt=null,_n=null,Bn.mutatedEvents={defs:{},instances:{}}))):Yt=null}this.displayDrag(Yt,Bn),Ln?ap():th(),Ie||(Kt===Yt&&uf(nt,W)&&(Qt=null),this.dragging.setMirrorNeedsRevert(!Qt),this.dragging.setMirrorIsVisible(!W||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=Yt,this.validMutation=Qt,this.mutatedRelevantEvents=_n)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=W=>{if(this.isDragging){let Ie=this.component.context,it=Ie.viewApi,{receivingContext:nt,validMutation:Kt}=this,Yt=this.eventRange.def,Qt=this.eventRange.instance,_n=new Ps(Ie,Yt,Qt),Ln=this.relevantEvents,Bn=this.mutatedRelevantEvents,{finalHit:jn}=this.hitDragging;if(this.clearDrag(),Ie.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_n,jsEvent:W.origEvent,view:it}),Kt){if(nt===Ie){let Ii=new Ps(Ie,Bn.defs[Yt.defId],Qt?Bn.instances[Qt.instanceId]:null);Ie.dispatch({type:"MERGE_EVENTS",eventStore:Bn});let to={oldEvent:_n,event:Ii,relatedEvents:Bu(Bn,Ie,Qt),revert(){Ie.dispatch({type:"MERGE_EVENTS",eventStore:Ln})}},Hi={};for(let Ao of Ie.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Hi,Ao(Kt,Ie));Ie.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},to),Hi),{el:W.subjectEl,delta:Kt.datesDelta,jsEvent:W.origEvent,view:it})),Ie.emitter.trigger("eventChange",to)}else if(nt){let Ii={event:_n,relatedEvents:Bu(Ln,Ie,Qt),revert(){Ie.dispatch({type:"MERGE_EVENTS",eventStore:Ln})}};Ie.emitter.trigger("eventLeave",Object.assign(Object.assign({},Ii),{draggedEl:W.subjectEl,view:it})),Ie.dispatch({type:"REMOVE_EVENTS",eventStore:Ln}),Ie.emitter.trigger("eventRemove",Ii);let Hi=Bn.instances[Qt.instanceId],Ao=new Ps(nt,Bn.defs[Yt.defId],Hi);nt.dispatch({type:"MERGE_EVENTS",eventStore:Bn});let ms={event:Ao,relatedEvents:Bu(Bn,nt,Hi),revert(){nt.dispatch({type:"REMOVE_EVENTS",eventStore:Bn})}};nt.emitter.trigger("eventAdd",ms),W.isTouch&&nt.dispatch({type:"SELECT_EVENT",eventInstanceId:Qt.instanceId}),nt.emitter.trigger("drop",Object.assign(Object.assign({},Mh(jn.dateSpan,nt)),{draggedEl:W.subjectEl,jsEvent:W.origEvent,view:jn.context.viewApi})),nt.emitter.trigger("eventReceive",Object.assign(Object.assign({},ms),{draggedEl:W.subjectEl,view:jn.context.viewApi}))}}else Ie.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:o}=this,{options:r}=o.context,g=this.dragging=new Rp(t.el);g.pointer.selector=n.SELECTOR,g.touchScrollAllowed=!1,g.autoScroller.isEnabled=r.dragScroll;let E=this.hitDragging=new Dh(this.dragging,dm);E.useSubjectCenter=t.useEventCenter,E.emitter.on("pointerdown",this.handlePointerDown),E.emitter.on("dragstart",this.handleDragStart),E.emitter.on("hitupdate",this.handleHitUpdate),E.emitter.on("pointerup",this.handlePointerUp),E.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,o){let g=this.receivingContext;g&&g!==t&&g.dispatch(g===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:o.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:o})}clearDrag(){let t=this.component.context,{receivingContext:o}=this;o&&o.dispatch({type:"UNSET_EVENT_DRAG"}),t!==o&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const kI={fixedMirrorParent:Vn},_v={dateClick:Vn,eventDragStart:Vn,eventDragStop:Vn,eventDrop:Vn,eventResizeStart:Vn,eventResizeStop:Vn,eventResize:Vn,drop:Vn,eventReceive:Vn,eventLeave:Vn};Dg.dataAttrPrefix="";var Cv=Ic({name:"@fullcalendar/interaction",componentInteractions:[class gv extends Ad{constructor(i){super(i),this.handlePointerDown=o=>{let{dragging:r}=this;r.setIgnoreMove(!this.component.isValidDateDownEl(o.origEvent.target))},this.handleDragEnd=o=>{let{component:r}=this,{pointer:g}=this.dragging;if(!g.wasTouchScroll){let{initialHit:E,finalHit:W}=this.hitDragging;if(E&&W&&uf(E,W)){let{context:Ie}=r,it=Object.assign(Object.assign({},Mh(E.dateSpan,Ie)),{dayEl:E.dayEl,jsEvent:o.origEvent,view:Ie.viewApi||Ie.calendarApi.view});Ie.emitter.trigger("dateClick",it)}}},this.dragging=new Rp(i.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Dh(this.dragging,kg(i));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class qm extends Ad{constructor(i){super(i),this.dragSelection=null,this.handlePointerDown=E=>{let{component:W,dragging:Ie}=this,{options:it}=W.context,nt=it.selectable&&W.isValidDateDownEl(E.origEvent.target);Ie.setIgnoreMove(!nt),Ie.delay=E.isTouch?function n4(n){let{options:i}=n.context,t=i.selectLongPressDelay;return null==t&&(t=i.longPressDelay),t}(W):null},this.handleDragStart=E=>{this.component.context.calendarApi.unselect(E)},this.handleHitUpdate=(E,W)=>{let{context:Ie}=this.component,it=null,nt=!1;if(E){let Kt=this.hitDragging.initialHit;E.componentId===Kt.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(Kt,E)||(it=function o4(n,i,t){let o=n.dateSpan,r=i.dateSpan,g=[o.range.start,o.range.end,r.range.start,r.range.end];g.sort(ag);let E={};for(let W of t){let Ie=W(n,i);if(!1===Ie)return null;Ie&&Object.assign(E,Ie)}return E.range={start:g[0],end:g[3]},E.allDay=o.allDay,E}(Kt,E,Ie.pluginHooks.dateSelectionTransformers)),(!it||!function dI(n,i,t){return!!yg(i.validRange,n.range)&&N0({dateSelection:n},t)}(it,E.dateProfile,Ie))&&(nt=!0,it=null)}it?Ie.dispatch({type:"SELECT_DATES",selection:it}):W||Ie.dispatch({type:"UNSELECT_DATES"}),nt?ap():th(),W||(this.dragSelection=it)},this.handlePointerUp=E=>{this.dragSelection&&(Sb(this.dragSelection,E,this.component.context),this.dragSelection=null)};let{component:t}=i,{options:o}=t.context,r=this.dragging=new Rp(i.el);r.touchScrollAllowed=!1,r.minDistance=o.selectMinDistance||0,r.autoScroller.isEnabled=o.dragScroll;let g=this.hitDragging=new Dh(this.dragging,kg(i));g.emitter.on("pointerdown",this.handlePointerDown),g.emitter.on("dragstart",this.handleDragStart),g.emitter.on("hitupdate",this.handleHitUpdate),g.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},df,class Np extends Ad{constructor(i){super(i),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=g=>{let{component:E}=this,Ie=vp(this.querySegEl(g)),it=this.eventRange=Ie.eventRange;this.dragging.minDistance=E.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(g.origEvent.target)||g.isTouch&&this.component.props.eventSelection!==it.instance.instanceId)},this.handleDragStart=g=>{let{context:E}=this.component,W=this.eventRange;this.relevantEvents=zf(E.getCurrentData().eventStore,this.eventRange.instance.instanceId);let Ie=this.querySegEl(g);this.draggingSegEl=Ie,this.draggingSeg=vp(Ie),E.calendarApi.unselect(),E.emitter.trigger("eventResizeStart",{el:Ie,event:new Ps(E,W.def,W.instance),jsEvent:g.origEvent,view:E.viewApi})},this.handleHitUpdate=(g,E,W)=>{let{context:Ie}=this.component,it=this.relevantEvents,nt=this.hitDragging.initialHit,Kt=this.eventRange.instance,Yt=null,Qt=null,_n=!1,Ln={affectedEvents:it,mutatedEvents:{defs:{},instances:{}},isEvent:!0};g&&(g.componentId===nt.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(nt,g)||(Yt=function mv(n,i,t,o){let r=n.context.dateEnv,W=Lu(n.dateSpan.range.start,i.dateSpan.range.start,r,n.largeUnit);if(t){if(r.add(o.start,W)<o.end)return{startDelta:W}}else if(r.add(o.end,W)>o.start)return{endDelta:W};return null}(nt,g,W.subjectEl.classList.contains("fc-event-resizer-start"),Kt.range))),Yt&&(Qt=d0(it,Ie.getCurrentData().eventUiBases,Yt,Ie),Ln.mutatedEvents=Qt,R0(Ln,g.dateProfile,Ie)||(_n=!0,Yt=null,Qt=null,Ln.mutatedEvents=null)),Ie.dispatch(Qt?{type:"SET_EVENT_RESIZE",state:Ln}:{type:"UNSET_EVENT_RESIZE"}),_n?ap():th(),E||(Yt&&uf(nt,g)&&(Yt=null),this.validMutation=Yt,this.mutatedRelevantEvents=Qt)},this.handleDragEnd=g=>{let{context:E}=this.component,W=this.eventRange.def,Ie=this.eventRange.instance,it=new Ps(E,W,Ie),nt=this.relevantEvents,Kt=this.mutatedRelevantEvents;if(E.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:it,jsEvent:g.origEvent,view:E.viewApi}),this.validMutation){let Yt=new Ps(E,Kt.defs[W.defId],Ie?Kt.instances[Ie.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:Kt});let Qt={oldEvent:it,event:Yt,relatedEvents:Bu(Kt,E,Ie),revert(){E.dispatch({type:"MERGE_EVENTS",eventStore:nt})}};E.emitter.trigger("eventResize",Object.assign(Object.assign({},Qt),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||go(0),endDelta:this.validMutation.endDelta||go(0),jsEvent:g.origEvent,view:E.viewApi})),E.emitter.trigger("eventChange",Qt)}else E.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=i,o=this.dragging=new Rp(i.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Dh(this.dragging,kg(i));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(i){return ga(i.subjectEl,".fc-event")}}],calendarInteractions:[class r4{constructor(i){this.context=i,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=o=>{o.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=o=>{let r=this.context.options.unselectCancel,g=dd(o.origEvent);this.matchesCancel=!!ga(g,r),this.matchesEvent=!!ga(g,df.SELECTOR)},this.onDocumentPointerUp=o=>{let{context:r}=this,{documentPointer:g}=this,E=r.getCurrentData();if(!g.wasTouchScroll){if(E.dateSelection&&!this.isRecentPointerDateSelect){let W=r.options.unselectAuto;W&&(!W||!this.matchesCancel)&&r.calendarApi.unselect(o)}E.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new cf(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),i.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:Rp,optionRefiners:kI,listenerRefiners:_v}),pr=C(7579),ja=C(5677),Qu=C(4881),vv=C(1e3),Md=C(3640);const d4=["*"],bv=["rootEl"],Oh=function(n){return{$implicit:n}};function yv(n,i){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Oh,t.renderProps))}}function p4(n,i){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Oh,t.renderProps))}}function h4(n,i){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Oh,t.renderProps))}}function DI(n,i){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Oh,t.renderProps))}}function MI(n,i){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Oh,t.renderProps))}}function g4(n,i){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Oh,t.renderProps))}}const f4=["dayHeaderContent"],xv=["dayCellContent"],Iv=["weekNumberContent"],Tv=["nowIndicatorContent"],Av=["eventContent"],wv=["slotLaneContent"],Ev=["slotLabelContent"],Sv=["allDayContent"],kv=["moreLinkContent"],m4=["noEventsContent"],Dv=["resourceAreaHeaderContent"],Ph=["resourceGroupLabelContent"],Mv=["resourceLabelContent"],Ov=["resourceLaneContent"],Pv=["resourceGroupLaneContent"];function Lv(n,i){if(1&n&&e._UZ(0,"transport-container",1),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",o.templateMap[t.generatorName])("renderProps",t.renderProps)}}const t_={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Rv=["events","eventSources","resources"],_4=Object.prototype.hasOwnProperty;function n_(n){return Array.isArray(n)?n.map(n_):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?i_(n,n_):n}function i_(n,i){const t={};for(const o in n)_4.call(n,o)&&(t[o]=i(n[o],o));return t}function hf(n,i){if(n===i)return!0;if(n&&i&&"object"==typeof n&&"object"==typeof i){if(n.constructor!==i.constructor)return!1;var t,o,r;if(Array.isArray(n)){if((t=n.length)!=i.length)return!1;for(o=t;0!=o--;)if(!hf(n[o],i[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if((t=(r=Object.keys(n)).length)!==Object.keys(i).length)return!1;for(o=t;0!=o--;)if(!Object.prototype.hasOwnProperty.call(i,r[o]))return!1;for(o=t;0!=o--;){var g=r[o];if(!hf(n[g],i[g]))return!1}return!0}return n!=n&&i!=i}const o_=document.createDocumentFragment();let Nv=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){o_.appendChild(this.element.nativeElement)}ngOnDestroy(){o_.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:d4,decls:1,vars:0,template:function(t,o){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})();const Lh=document.createDocumentFragment();let Rh=(()=>{class n{ngAfterViewInit(){var t;const o=null===(t=this.rootElRef)||void 0===t?void 0:t.nativeElement;Fv(o,this.inPlaceOf),Nh(o,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(o)}ngOnChanges(t){var o;const r=null===(o=this.rootElRef)||void 0===o?void 0:o.nativeElement;if(r)if(this.inPlaceOf.parentNode!==Lh)Fv(r,this.inPlaceOf),Nh(r,void 0,this.elAttrs),this.reportEl(r);else{const g=t.elAttrs;g&&Nh(r,g.previousValue,g.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Lh&&Lh.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,o){if(1&t&&e.Gf(bv,5),2&t){let r;e.iGM(r=e.CRH())&&(o.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){1&t&&(e.YNc(0,yv,3,6,"ng-template",0),e.YNc(1,p4,3,6,"ng-template",0),e.YNc(2,h4,3,6,"ng-template",0),e.YNc(3,DI,3,6,"ng-template",0),e.YNc(4,MI,3,6,"ng-template",0),e.YNc(5,g4,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==o.elTag),e.xp6(1),e.Q6J("ngIf","span"==o.elTag),e.xp6(1),e.Q6J("ngIf","a"==o.elTag),e.xp6(1),e.Q6J("ngIf","tr"==o.elTag),e.xp6(1),e.Q6J("ngIf","th"==o.elTag),e.xp6(1),e.Q6J("ngIf","td"==o.elTag))},dependencies:[D.O5,D.mk,D.PC,D.tP],encapsulation:2}),n})();function Fv(n,i){var t;null===(t=i.parentNode)||void 0===t||t.insertBefore(n,i.nextSibling),Lh.appendChild(i)}function Nh(n,i={},t={}){for(const o in i)o in t||(n[o]=null);for(const o in t)n[o]=t[o]}let Ac=(()=>{class n{constructor(t,o){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const r=new Vg;r.subscribe(g=>{this.customRenderingMap=g,this.customRenderingArray=void 0,o.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,o=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=i_(o,(W,Ie)=>t&&t_[Ie]?n_(W):W);const r=this.element.nativeElement,g=this.calendar=new _y(r,Object.assign(Object.assign({},o),this.buildExtraOptions())),E=r.closest("ion-content");E&&E.componentOnReady?E.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{g.render()})}):g.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:o}=this,r=Object.assign(Object.assign({},this.options),this.buildInputOptions()),g={},E=[];for(const Ie in r)if(r.hasOwnProperty(Ie)){let it=r[Ie];t&&t_[Ie]?hf(o[Ie],it)||(o[Ie]=n_(it),E.push(Ie)):o[Ie]!==it&&(o[Ie]=it,E.push(Ie)),g[Ie]=it}const W=Object.keys(o);for(const Ie of W)Ie in r||(delete o[Ie],E.push(Ie));E.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},g),this.buildExtraOptions()),E))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const o of Rv){const r=this[o];null!=r&&(t[o]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}trackCustomRendering(t,o){return o.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,f4,7),e.Suo(r,xv,7),e.Suo(r,Iv,7),e.Suo(r,Tv,7),e.Suo(r,Av,7),e.Suo(r,wv,7),e.Suo(r,Ev,7),e.Suo(r,Sv,7),e.Suo(r,kv,7),e.Suo(r,m4,7),e.Suo(r,Dv,7),e.Suo(r,Ph,7),e.Suo(r,Mv,7),e.Suo(r,Ov,7),e.Suo(r,Pv,7)),2&t){let g;e.iGM(g=e.CRH())&&(o.dayHeaderContent=g.first),e.iGM(g=e.CRH())&&(o.dayCellContent=g.first),e.iGM(g=e.CRH())&&(o.weekNumberContent=g.first),e.iGM(g=e.CRH())&&(o.nowIndicatorContent=g.first),e.iGM(g=e.CRH())&&(o.eventContent=g.first),e.iGM(g=e.CRH())&&(o.slotLaneContent=g.first),e.iGM(g=e.CRH())&&(o.slotLabelContent=g.first),e.iGM(g=e.CRH())&&(o.allDayContent=g.first),e.iGM(g=e.CRH())&&(o.moreLinkContent=g.first),e.iGM(g=e.CRH())&&(o.noEventsContent=g.first),e.iGM(g=e.CRH())&&(o.resourceAreaHeaderContent=g.first),e.iGM(g=e.CRH())&&(o.resourceGroupLabelContent=g.first),e.iGM(g=e.CRH())&&(o.resourceLabelContent=g.first),e.iGM(g=e.CRH())&&(o.resourceLaneContent=g.first),e.iGM(g=e.CRH())&&(o.resourceGroupLaneContent=g.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,o){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,Lv,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.customRenderings)("ngForTrackBy",o.trackCustomRendering))},dependencies:[Nv,Rh,D.sg],encapsulation:2}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[D.ez]]}),n})();var Fh=C(330);const Bh=["taskPanel"],v4=["eventMenu"],b4=["scheduleTaskDialog"],y4=function(){return{width:"40vw",minWidth:"min-content"}};var ka=(()=>{return(n=ka||(ka={})).RANGE="RANGE",n.START="START",n.END="END",ka;var n})();let wc=class{constructor(i,t,o,r){this.api=i,this.rt=t,this.router=o,this.confirmation=r,this.taskEvent=[],this.hoveredTask=0,this.subscriptionsHolder=new x.xf,this.eventMenuModel=[],this.taskPreviewVisible$=new pr.x,this.taskPreviewVisibleSub=this.taskPreviewVisible$.pipe((0,No.b)(200),(0,F.w)(g=>g?this.api.getTask(parseInt(g.event.id)).pipe((0,ft.U)(E=>({task:E,event:g.jsEvent,el:g.el}))):(0,Tn.of)(null))).subscribe(g=>{var E,W,Ie;g?(this.previewTask=g.task,null!==(E=this.taskPanel)&&void 0!==E&&E.overlayVisible?(this.taskPanel.target=g.el,this.taskPanel.align()):null===(W=this.taskPanel)||void 0===W||W.show(g.event,g.el)):null===(Ie=this.taskPanel)||void 0===Ie||Ie.hide()}),this.mouseDownSub=(0,b.R)(window,"mousedown").subscribe(()=>this.taskPreviewVisible$.next(null)),this.currentCalendarRange={start:0,end:0},this.calendarOptions={initialView:"dayGridMonth",locale:"ru",aspectRatio:1.5,selectable:!0,nowIndicator:!0,slotEventOverlap:!1,plugins:[dr,Hy,Yy,Cv],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listWeek,timeGridDay"},editable:!0,eventMouseEnter:g=>this.taskPreviewVisible$.next(g),eventMouseLeave:()=>this.taskPreviewVisible$.next(null),eventDrop:this.scheduleMove.bind(this),eventResize:this.scheduleResizing.bind(this),eventClick:this.openContextOfTask.bind(this),select:this.openContextOfSelectDate.bind(this),datesSet:g=>{this.currentCalendarRange.start=g.start.getTime(),this.currentCalendarRange.end=g.end.getTime(),this.api.getScheduledTask(x.cQ.dateFormatTS(g.start),x.cQ.dateFormatTS(g.end)).pipe((0,ft.U)(this.tasksToEvents.bind(this))).subscribe(E=>this.taskEvent=E)},firstDay:1,buttonText:{today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c"},allDayText:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",weekText:"\u041d\u0435\u0434\u0435\u043b\u044f",moreLinkText:"\u0411\u043e\u043b\u044c\u0448\u0435",noEventsText:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442",navLinks:!0},this.scheduleType=ka.RANGE}unscheduleTask(i){this.api.clearActualFromDate(i).subscribe(),this.api.clearActualToDate(i).subscribe()}ngOnInit(){this.subscriptionsHolder.addSubscription("updTsk",this.rt.taskUpdated().subscribe(this.updateCalendar.bind(this)))}ngOnDestroy(){this.subscriptionsHolder.unsubscribeAll()}openContextOfTask(i){this.eventMenuModel=[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-open_in_new",command:this.openTask.bind(this,i)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-event_busy",command:this.confirmUnschedulingTask.bind(this,i)}],setTimeout(()=>{var t;null===(t=this.eventMenu)||void 0===t||t.show(i.jsEvent)})}openContextOfSelectDate(i){this.eventMenuModel=[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",icon:"mdi-date_range",command:this.openSelectTaskDialog.bind(this,i,ka.RANGE)},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-today",command:this.openSelectTaskDialog.bind(this,i,ka.START)},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-free_cancellation",command:this.openSelectTaskDialog.bind(this,i,ka.END)}],setTimeout(()=>{var t;i.jsEvent&&(null===(t=this.eventMenu)||void 0===t||t.show(i.jsEvent))})}confirmUnschedulingTask(i){if(!i.event.id)return;const t=parseInt(i.event.id);this.confirmation.confirm({header:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f",message:`\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${i.event.id}?`,accept:this.unscheduleTask.bind(this,t)})}openSelectTaskDialog(i,t){var o;this.scheduleType=t,this.scheduleDate=i,null===(o=this.scheduleTaskDialog)||void 0===o||o.open("single")}confirmScheduleTask(i){if(!this.scheduleDate)return;let t="";switch(this.scheduleType){case ka.RANGE:t=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${i} \u0441 ${x.cQ.dateFormatTS(this.scheduleDate.start)} \u043f\u043e ${x.cQ.dateFormatTS(this.scheduleDate.end)}`;break;case ka.START:t=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${i} \u0441 ${x.cQ.dateFormatTS(this.scheduleDate.start)}`;break;case ka.END:t=`\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0434\u0430\u0447\u0438 #${i} \u043f\u043e ${x.cQ.dateFormatTS(this.scheduleDate.end)}`}this.confirmation.confirm({header:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",message:t,accept:this.scheduleTask.bind(this,i)})}scheduleTask(i){var t,o,r,g;if(this.scheduleDate)switch(this.scheduleType){case ka.RANGE:this.api.changeTaskActualFrom(i,null===(t=this.scheduleDate)||void 0===t?void 0:t.start).subscribe(),this.api.changeTaskActualTo(i,null===(o=this.scheduleDate)||void 0===o?void 0:o.end).subscribe();break;case ka.START:this.api.changeTaskActualFrom(i,null===(r=this.scheduleDate)||void 0===r?void 0:r.start).subscribe();break;case ka.END:this.api.changeTaskActualTo(i,null===(g=this.scheduleDate)||void 0===g?void 0:g.end).subscribe()}}taskToEvent(i){var t,o,r,g,E;const W={id:i.taskId.toString(),title:(null===(t=i.modelWireframe)||void 0===t?void 0:t.name)+" #"+i.taskId,start:i.actualFrom,end:i.actualTo,backgroundColor:x.cQ.stringToColor(null!==(r=null===(o=i.modelWireframe)||void 0===o?void 0:o.name)&&void 0!==r?r:"",70,95,70,90),borderColor:x.cQ.stringToColor(null!==(E=null===(g=i.modelWireframe)||void 0===g?void 0:g.name)&&void 0!==E?E:"",80,100,30,80)};return i.actualFrom||(W.start=i.actualTo,W.borderColor="#ff0000"),W}tasksToEvents(i){return i.map(this.taskToEvent.bind(this))}scheduleMove(i){this.api.moveScheduledTask(parseInt(i.event.id),i.delta).subscribe()}scheduleResizing(i){}updateCalendar(i){let t=this.taskEvent.findIndex(g=>parseInt(g.id)===i.taskId),o=!1,r=!1;if(i.actualFrom){const g=new Date(i.actualFrom).getTime();o=this.currentCalendarRange.start<=g&&g<=this.currentCalendarRange.end}if(i.actualTo){const g=new Date(i.actualTo).getTime();r=this.currentCalendarRange.start<=g&&g<=this.currentCalendarRange.end}(o||r)&&-1!==t?(this.taskEvent[t]=this.taskToEvent(i),this.taskEvent=[...this.taskEvent]):(o||r)&&-1===t?this.taskEvent=[...this.taskEvent,this.taskToEvent(i)]:!o&&!r&&-1!==t&&(this.taskEvent.splice(t,1),this.taskEvent=[...this.taskEvent])}openTask(i){this.router.navigate(["/task",i.event.id]).then()}};wc.\u0275fac=function(i){return new(i||wc)(e.Y36(O.s),e.Y36(me.U),e.Y36(d.F0),e.Y36(N.YP))},wc.\u0275cmp=e.Xpm({type:wc,selectors:[["ng-component"]],viewQuery:function(i,t){if(1&i&&(e.Gf(Bh,5),e.Gf(v4,5),e.Gf(b4,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.taskPanel=o.first),e.iGM(o=e.CRH())&&(t.eventMenu=o.first),e.iGM(o=e.CRH())&&(t.scheduleTaskDialog=o.first)}},decls:9,vars:10,consts:[[1,"flex","flex-grow-1","h-screen","p-3"],[1,"flex-grow-1",3,"events","options"],["appendTo","body",3,"dismissable"],["taskPanel",""],[3,"isHover","item"],["appendTo","body",3,"model"],["eventMenu",""],["header","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onlyMy","onSelected"],["scheduleTaskDialog",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"full-calendar",1),e.qZA(),e.TgZ(2,"p-overlayPanel",2,3),e._UZ(4,"app-task-list-element",4),e.qZA(),e._UZ(5,"p-contextMenu",5,6),e.TgZ(7,"app-task-selecting-dialog",7,8),e.NdJ("onSelected",function(r){return t.confirmScheduleTask(r)}),e.qZA()),2&i&&(e.xp6(1),e.Q6J("events",t.taskEvent)("options",t.calendarOptions),e.xp6(1),e.Q6J("dismissable",!0),e.xp6(2),e.Akn(e.DdM(9,y4)),e.Q6J("isHover",!1)("item",t.previewTask),e.xp6(1),e.Q6J("model",t.eventMenuModel),e.xp6(2),e.Q6J("onlyMy",!0))},dependencies:[Qu.E,vv.h,Md.T,Ac,Fh.xV],styles:["[_nghost-%COMP%]{flex-grow:1}"]}),wc=(0,To.gn)([(0,ja.kG)()],wc);const x4=["vs"];function I4(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.Tol(o.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}function Bv(n,i){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"elapsedTime"),e.ALo(3,"elapsedTime"),e.ALo(4,"elapsedTime"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq(" ",e.gM2(2,3,null==t.parserState?null:t.parserState.elapsedTime,"\u041f\u0440\u043e\u0448\u043b\u043e ","",!0)," / ",e.gM2(3,8,null==t.parserState?null:t.parserState.averageTimePerTask,"\u041d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 ","",!0)," / ",e.gM2(4,13,null==t.parserState?null:t.parserState.remainingTime,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ","",!0)," ")}}function Zv(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.startParsing())}),e.qZA()}}function s_(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.stopParsing())}),e.qZA()}}function Uv(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.currentCorrectingStreetAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctStreet(r.streetToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.streetToCorrect[0]),e.xp6(2),e.lnq("",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].streetRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].houseRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].address)}}function T4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.currentCorrectingHouseAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctHouse(r.houseToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.houseToCorrect[0]),e.xp6(2),e.lnq("",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].streetRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].houseRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].address)}}function A4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.currentCorrectingApartAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctApart(r.apartmentToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.apartmentToCorrect[0]),e.xp6(2),e.lnq("",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].streetRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].houseRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].address)}}let w4=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this.settingsForm=new p.cw({startId:new p.NI(0,[p.kI.required]),endId:new p.NI(0,[p.kI.required]),trackerLogin:new p.NI("",[p.kI.required]),trackerPassword:new p.NI("",[p.kI.required]),trackerUrl:new p.NI("",[p.kI.required]),bindings:new p.NI({})}),this.messages=[],this.subscribes=new x.xf,this.currentCorrectingStreetAddress={},this.currentCorrectingHouseAddress={},this.currentCorrectingApartAddress={},this.listOfCorrectedStreets=[],this.listOfCorrectedHouses=[],this.listOfCorrectedApartments=[],this.streetToCorrect=[null,null],this.houseToCorrect=[null,null],this.apartmentToCorrect=[null,null]}get progress(){if(this.parserState){const{startId:t,endId:o}=this.parserState.settings,{currentTask:r}=this.parserState;if(r){const g=(r-t)/(o-t)*100;return g>100?100:parseFloat(g.toFixed(2))}}return 0}ngOnInit(){this.api.getTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this)),this.subscribes.addSubscription("updState",this.rt.updateTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this))),this.subscribes.addSubscription("updMessages",this.rt.parserMessageReceived().subscribe(t=>{this.messages=[...this.messages,t],this.vs&&this.vs.scrollToIndex(this.messages.length,"auto")})),this.settingsForm.valueChanges.subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}ngOnDestroy(){this.subscribes.unsubscribeAll()}submitSaveSettings(){this.api.saveTrackerParserSettings(this.settingsForm.getRawValue()).subscribe()}startParsing(){this.api.startTrackerParser().subscribe()}stopParsing(){this.api.stopTrackerParser().subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}messageClass(t){return"simple-message "+t.severity.toLowerCase()}correctStreet(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(Object.entries(this.addressCorrectingPool).forEach(o=>{const[r,g]=o;null==t[0]||null==t[1]||g.streetRaw===t[1].streetRaw&&(this.addressCorrectingPool&&this.currentCorrectingStreetAddress.street&&(this.addressCorrectingPool[r].address.street=Object.assign({},this.currentCorrectingStreetAddress.street)),this.listOfCorrectedStreets=[...this.listOfCorrectedStreets,r])}),this.sendCorrectedAddress(),this.updateStreetToCorrect())}updateStreetToCorrect(){var t;this.addressCorrectingPool&&(this.streetToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(o=>{const[r,g]=o;return g.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(r)})[0])&&void 0!==t?t:[null,null])}updateHouseToCorrect(){var t;this.addressCorrectingPool&&(this.houseToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(o=>{const[r,g]=o;return g.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(r)})[0])&&void 0!==t?t:[null,null])}updateApartmentToCorrect(){var t;this.addressCorrectingPool&&(this.apartmentToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(o=>{const[r,g]=o;return g.types.includes("APART")&&!this.listOfCorrectedApartments.includes(r)})[0])&&void 0!==t?t:[null,null])}setCurrentTrackerParserState(t){this.parserState=t,this.settingsForm.setValue(t.settings)}correctHouse(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.houseNum=this.currentCorrectingHouseAddress.houseNum,this.addressCorrectingPool[t[0]].address.fraction=this.currentCorrectingHouseAddress.fraction,this.addressCorrectingPool[t[0]].address.build=this.currentCorrectingHouseAddress.build,this.addressCorrectingPool[t[0]].address.letter=this.currentCorrectingHouseAddress.letter,this.listOfCorrectedHouses=[...this.listOfCorrectedHouses,t[0]],this.sendCorrectedAddress(),this.updateHouseToCorrect())}correctApart(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.entrance=this.currentCorrectingApartAddress.entrance,this.addressCorrectingPool[t[0]].address.floor=this.currentCorrectingApartAddress.floor,this.addressCorrectingPool[t[0]].address.apartmentNum=this.currentCorrectingApartAddress.apartmentNum,this.addressCorrectingPool[t[0]].address.apartmentMod=this.currentCorrectingApartAddress.apartmentMod,this.listOfCorrectedApartments=[...this.listOfCorrectedApartments,t[0]],this.sendCorrectedAddress(),this.updateApartmentToCorrect())}gettingFullCorrectedAddress(){return this.addressCorrectingPool?Object.entries(this.addressCorrectingPool).filter(t=>{let o=!0,r=!0,g=!0;const[E,W]=t;return W.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(E)&&(o=!1),W.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(E)&&(r=!1),W.types.includes("APART")&&!this.listOfCorrectedApartments.includes(E)&&(g=!1),o&&r&&g}).reduce((t,o)=>{const[r,g]=o;return t[r]=g,t},{}):{}}sendCorrectedAddress(){const t=this.gettingFullCorrectedAddress();this.api.sendCorrectedAddress(t).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&e.Gf(x4,5),2&t){let r;e.iGM(r=e.CRH())&&(o.vs=r.first)}},decls:24,vars:12,consts:[["appExtendPageHeight","",1,"flexed","gap10","p20"],[1,"flexed","column","gap10",3,"formGroup"],["formControlName","trackerUrl","pInputText","","placeholder","Url \u0422\u0440\u0435\u043a\u0435\u0440\u0430","type","text"],["formControlName","trackerLogin","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text"],["formControlName","trackerPassword","pInputText","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","type","text"],["formControlName","startId","placeholder","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 id"],["formControlName","endId","placeholder","\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 id"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","bindings"],[1,"flexed","column","stretched","gap10"],[1,"console",3,"value","itemSize","scrollHeight"],["vs",""],["pTemplate","item"],[1,"flexed","gap10"],[1,"stretched","flexed","column","gap3","vcenter"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"full-width",3,"value"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick",4,"ngIf"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["class","flexed column gap5",3,"width",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","column","gap5"],[1,"flexed","hcenter","vcenter","caption","size-big"],[1,"flexed","hcenter","vcenter","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","ngModelChange"],["label","\u041e\u0442\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"p-inputNumber",5)(6,"p-inputNumber",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return o.submitSaveSettings()}),e.qZA(),e._UZ(8,"app-tracker-bindings-input",8),e.qZA(),e.TgZ(9,"div",9)(10,"p-virtualScroller",10,11),e.YNc(12,I4,2,3,"ng-template",12),e.qZA(),e.TgZ(13,"div",13)(14,"div",14),e.YNc(15,Bv,5,18,"span",15),e._UZ(16,"p-progressBar",16),e.qZA(),e.TgZ(17,"span"),e.YNc(18,Zv,1,0,"p-button",17),e.YNc(19,s_,1,0,"p-button",18),e.qZA()(),e.TgZ(20,"div",13),e.YNc(21,Uv,7,7,"div",19),e.YNc(22,T4,7,7,"div",19),e.YNc(23,A4,7,7,"div",19),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.settingsForm),e.xp6(6),e.Q6J("disabled",!!o.parserState&&o.parserState.isRunning),e.xp6(3),e.Q6J("value",o.messages)("itemSize",29)("scrollHeight","715px"),e.xp6(5),e.Q6J("ngIf",null==o.parserState?null:o.parserState.remainingTime),e.xp6(1),e.Q6J("value",o.progress),e.xp6(2),e.Q6J("ngIf",o.parserState&&!o.parserState.isRunning),e.xp6(1),e.Q6J("ngIf",o.parserState&&o.parserState.isRunning),e.xp6(2),e.Q6J("ngIf",o.streetToCorrect[0]),e.xp6(1),e.Q6J("ngIf",o.houseToCorrect[0]),e.xp6(1),e.Q6J("ngIf",o.apartmentToCorrect[0]))},styles:[".console[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid var(--bgc-200)}"]}),n})();const r_=["messageListEl"];function a_(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Tol(o.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}let Hv=(()=>{class n{constructor(t,o){this.rt=t,this.api=o,this.messages=[]}ngOnInit(){this.subscription=this.rt.parserMessageReceived().subscribe(t=>{var o;this.messages.push(t),null!==(o=this.messageListEl)&&void 0!==o&&o.nativeElement&&(this.messageListEl.nativeElement.scrollTop=this.messageListEl.nativeElement.scrollHeight-this.messageListEl.nativeElement.clientHeight)})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}messageClass(t){return"simple-message "+t.severity.toLowerCase()}startParse(){this.api.startAddressParse().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(me.U),e.Y36(O.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&e.Gf(r_,5),2&t){let r;e.iGM(r=e.CRH())&&(o.messageListEl=r.first)}},decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flexed","column",3,"limited"],[1,"list-view","p20"],["messageListEl",""],[4,"ngFor","ngForOf"],[1,"flexed","vend","p10"],["styleClass","p-button-success","label","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430",3,"onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,a_,3,3,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"p-button",5),e.NdJ("onClick",function(){return o.startParse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(3),e.Q6J("ngForOf",o.messages))},dependencies:[V,D.sg,P.zx]}),n})();var Zh=C(590);let l_=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this.filtrationForm=new p.cw({date:new p.NI(new Date),position:new p.NI(null)}),this.accountingMenuItems$=this.filtrationForm.valueChanges.pipe((0,ft.U)(r=>{var g;return[{label:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",url:"/api/private/accounting/monthly-salary-report-table?date="+(null===(g=r.date)||void 0===g?void 0:g.getTime())}]})),this.subscriptions=new x.xf,this.tableLoadingState=Ce.Gu.LOADING,this.tableLoad$=this.filtrationForm.valueChanges.pipe((0,En.b)(()=>{this.tableLoadingState=Ce.Gu.LOADING,this.selectDay(null)}),(0,F.w)(r=>this.api.getSalaryTable(r).pipe((0,ft.U)(g=>({table:g,update:null})))),(0,En.b)({next:()=>this.tableLoadingState=Ce.Gu.READY,error:()=>this.tableLoadingState=Ce.Gu.ERROR}),(0,an.d)(1)),this.tableUpdate$=this.rt.salaryTableUpdated().pipe((0,F.w)(r=>this.tableLoad$.pipe((0,ft.U)(g=>({table:g.table,update:r}))))),this.salaryTable$=(0,Ar.T)(this.tableLoad$,this.tableUpdate$).pipe((0,ft.U)(r=>{if(r.update){for(let[g,E]of r.update.employees.entries()){const W=r.table.employees.findIndex(Ie=>Ie.login===E.login);-1!==W&&(r.table.employees[W]=E,r.table.payload[W]=r.update.payload[g],r.table.totalSum[W]=r.update.totalSum[g],r.table.totalSumAllEmployees=r.update.totalSumAllEmployees)}this.selectedDay$.pipe((0,Zh.P)()).subscribe(g=>{if(null===g)return;const E=r.update.employees.findIndex(W=>W.login===g.employee.login);if(-1!==E){const W=r.update.payload[E].find(Ie=>Ie.date===g.date);W&&this.updateDaySubject.next(W)}})}return r.table}),(0,an.d)(1)),this.ndflSwitch=new p.NI(!1),this.ndflValue$=this.ndflSwitch.valueChanges.pipe((0,an.d)(1)),this.positions$=this.api.getPositions().pipe((0,ft.U)(r=>[{label:"\u0412\u0441\u0435",value:null},...r.map(({name:g,positionId:E})=>({label:g,value:E}))])),this.selectDaySubject=new pr.x,this.updateDaySubject=new pr.x,this.selectedDay$=(0,Ar.T)(this.selectDaySubject.asObservable(),this.updateDaySubject.asObservable()).pipe((0,an.d)(1)),this.calculatedLoadingState=Ce.Gu.LOADING,this.workingDay$=this.selectedDay$.pipe((0,ft.U)(r=>r?[new Date(r.date),r.employee.login]:null),(0,En.b)(()=>this.calculatedLoadingState=Ce.Gu.LOADING),(0,Pa.z)(r=>r?this.api.getWorkingDay(r[0],r[1]):(0,Tn.of)(null)),(0,En.b)(()=>{setTimeout(()=>window.scrollTo({top:document.body.scrollHeight}))}),(0,En.b)({next:r=>this.calculatedLoadingState=null===r?Ce.Gu.EMPTY:Ce.Gu.READY,error:()=>this.calculatedLoadingState=Ce.Gu.ERROR})),setTimeout(()=>{this.filtrationForm.patchValue(this.filtrationForm.value)})}trackByCell(t,o){return null==o?void 0:o.date}selectDay(t,o,r){this.selectDaySubject.next(t),this.highlightedDay=void 0===o||void 0===r?void 0:{row:o,col:r}}getReport(t,o){var r;return t.isForceClosed?t.forceClosedReason:null===(r=t.workReports.find(g=>g.author.login===o))||void 0===r?void 0:r.description}isSelected(t,o){var r,g;return(null===(r=this.highlightedDay)||void 0===r?void 0:r.row)===t&&(null===(g=this.highlightedDay)||void 0===g?void 0:g.col)===o}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s),e.LFG(me.U))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c_=C(2777),Ec=C(1110);let E4=(()=>{class n{constructor(t){this.el=t,this.tooltip=document.createElement("div")}onmouseenter(){const t=this.el.nativeElement,o=t.getBoundingClientRect();if(t.offsetHeight>=t.scrollHeight)return;this.tooltip.innerText=t.innerText;const r=window.getComputedStyle(t);this.tooltip.style.fontSize=r.fontSize,this.tooltip.style.fontFamily=r.fontFamily,this.tooltip.style.fontWeight=r.fontWeight,this.tooltip.style.fontStyle=r.fontStyle,this.tooltip.style.padding=r.padding,this.tooltip.style.lineHeight=r.lineHeight,this.tooltip.style.letterSpacing=r.letterSpacing,this.tooltip.style.color=r.color,this.tooltip.className="p-3 panel absolute pointer-events-none",document.body.appendChild(this.tooltip),this.tooltip.style.left=o.left-13+"px",this.tooltip.style.width=`${o.width+26}px`;const g=o.top+window.scrollY-13;this.tooltip.style.top=`${g}px`,setTimeout(()=>{let Ie=this.tooltip.getBoundingClientRect().bottom+document.documentElement.scrollTop-(document.documentElement.scrollTop+window.innerHeight);Ie<0&&(Ie=0),this.tooltip.style.top=g-Ie+"px"})}onmouseleave(){try{document.body.removeChild(this.tooltip)}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTooltip",""]],hostBindings:function(t,o){1&t&&e.NdJ("mouseenter",function(){return o.onmouseenter()})("mouseleave",function(){return o.onmouseleave()})}}),n})();var u_=C(5652),au=C(1874),Zs=C(8952);function Vv(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"span",18),e._UZ(2,"i",19),e.TgZ(3,"span"),e._uU(4,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e._UZ(5,"p-dropdown",20),e.qZA()),2&n){const t=i.ngIf;e.xp6(5),e.Q6J("options",t)}}function zv(n,i){if(1&n&&(e.TgZ(0,"th",26),e._uU(1),e.qZA()),2&n){const t=i.$implicit,o=i.index,r=e.oxw().$implicit;e.Q6J("frozen",0===o||o===r.length-1)("alignFrozen",o===r.length-1?"right":""),e.xp6(1),e.hij(" ",t," ")}}function Jv(n,i){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,zv,2,3,"th",25),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const Qv=function(n,i){return{"text-bluegray-200":n,"text-primary-400 bg-blue-50":i}};function S4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",31),e.NdJ("click",function(){const r=e.CHM(t),g=r.$implicit,E=r.index,W=e.oxw().rowIndex,Ie=e.oxw(3);return e.KtG(Ie.cache.selectDay(g,W,E))}),e._uU(1),e.ALo(2,"number"),e.ALo(3,"async"),e.qZA()}if(2&n){const t=i.$implicit,o=i.index,r=e.oxw().rowIndex,g=e.oxw(3);e.Q6J("ngClass",e.WLB(7,Qv,0===t.sumWithNDFL,g.cache.isSelected(r,o))),e.xp6(1),e.hij(" ",e.xi3(2,2,e.lcZ(3,5,g.cache.ndflValue$)?t.sumWithNDFL:t.sumWithoutNDFL,"1.0-2")," ")}}function Gv(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",27),e._UZ(2,"app-employee-label",28),e.qZA(),e.YNc(3,S4,4,10,"td",29),e.TgZ(4,"td",30),e._uU(5),e.ALo(6,"async"),e.qZA()()),2&n){const t=i.rowIndex,o=i.$implicit,r=e.oxw(2).ngIf,g=e.oxw();e.xp6(2),e.Q6J("employee",r.employees[t]),e.xp6(1),e.Q6J("ngForOf",o)("ngForTrackBy",g.cache.trackByCell),e.xp6(2),e.hij(" ",e.lcZ(6,4,g.cache.ndflValue$)?r.totalSum[t].sumWithNDFL:r.totalSum[t].sumWithoutNDFL," ")}}function Wv(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",21),e.YNc(2,Jv,2,1,"ng-template",22),e.YNc(3,Gv,7,6,"ng-template",23),e.qZA(),e.TgZ(4,"div",24)(5,"span"),e._uU(6,"\u0418\u0442\u043e\u0433:"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf,o=e.oxw();e.xp6(1),e.Q6J("columns",t.headers)("value",t.payload)("scrollable",!0),e.xp6(7),e.hij("",e.lcZ(9,4,o.cache.ndflValue$)?t.totalSumAllEmployees.sumWithNDFL:t.totalSumAllEmployees.sumWithoutNDFL," \u0440\u0443\u0431.")}}function k4(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Wv,10,6,"ng-container",14),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","READY"===t.cache.tableLoadingState)}}function Yv(n,i){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-progressSpinner",35),e.qZA()),2&n&&e.Udp("width","64rem")}function jv(n,i){if(1&n&&(e.ynx(0,32),e.YNc(1,Yv,2,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cache.tableLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function Ua(n,i){1&n&&(e.TgZ(0,"tr",45),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3," \u0418\u0414 "),e.qZA(),e.TgZ(4,"th"),e._uU(5," \u0417\u0430\u0434\u0430\u0447\u0430 "),e.qZA(),e.TgZ(6,"th"),e._uU(7," \u041e\u0442\u0447\u0451\u0442 "),e.qZA(),e.TgZ(8,"th"),e._uU(9," \u0414\u043e\u043b\u044f "),e.qZA(),e.TgZ(10,"th"),e._uU(11," \u0421\u0447\u0438\u0442\u0430\u043b "),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u041f\u043b\u0430\u0442\u043d\u0430\u044f? "),e.qZA(),e.TgZ(14,"th"),e._uU(15," \u0421\u0443\u043c\u043c\u0430 "),e.qZA(),e.TgZ(16,"th"),e._uU(17," \u0421\u0443\u043c\u043c\u0430 \u0431\u0435\u0437 \u041d\u0414\u0424\u041b "),e.qZA(),e.TgZ(18,"th"),e._uU(19," \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c "),e.qZA()())}function Fp(n,i){if(1&n&&e._UZ(0,"button",52),2&n){const t=e.oxw(),r=t.$implicit;e.Q6J("icon",t.expanded?"pi pi-chevron-down":"pi pi-chevron-right")("pRowToggler",r)}}function D4(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.amountOfMoneyTaken,"1.0-2"),"\u0440\u0443\u0431. ")}}function M4(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sum,"1.0-2"),"\u0440\u0443\u0431. ")}}function OI(n,i){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sumWithoutNDFL,"1.0-2"),"\u0440\u0443\u0431. ")}}const PI=function(n){return{workLogId:n}},Kv=function(){return["/salary","estimation"]};function $v(n,i){if(1&n&&(e.TgZ(0,"tr",46)(1,"td"),e.YNc(2,Fp,1,2,"button",47),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-task-link",48),e.qZA(),e.TgZ(7,"td")(8,"span",49),e._uU(9),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-employee-label",28),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",50),e.YNc(18,D4,3,4,"ng-container",14),e.YNc(19,M4,3,4,"ng-container",14),e.qZA(),e.YNc(20,OI,3,4,"td",14),e.TgZ(21,"td"),e._UZ(22,"p-button",51),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw(3).ngIf,r=e.oxw();e.xp6(2),e.Q6J("ngIf",t.lastEdit),e.xp6(2),e.hij(" ",t.workCalculationId," "),e.xp6(2),e.Q6J("task",t.workLog.task),e.xp6(2),e.Udp("max-width","20rem"),e.xp6(1),e.hij(" ",r.cache.getReport(t.workLog,o.employee.login)," "),e.xp6(2),e.hij(" ",e.xi3(12,17,100*t.ratio,"1.2-2"),"% "),e.xp6(3),e.Q6J("employee",t.lastEdit?t.lastEdit.employee:t.creator),e.xp6(2),e.hij(" ",t.isPaidWork?"\u0414\u0430":"\u041d\u0435\u0442"," "),e.xp6(1),e.Udp("text-align",t.isPaidWork?"center":""),e.Q6J("colSpan",t.isPaidWork?2:1),e.xp6(1),e.Q6J("ngIf",t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(2),e.Q6J("queryParams",e.VKq(20,PI,t.workLog.workLogId))("routerLink",e.DdM(22,Kv))}}function Uh(n,i){if(1&n&&(e.TgZ(0,"div",56)(1,"div",57)(2,"div",58),e._UZ(3,"span",59),e.TgZ(4,"span"),e._uU(5,"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043d"),e.qZA()(),e.TgZ(6,"span",60),e._uU(7),e.qZA()(),e.TgZ(8,"div",61),e._UZ(9,"app-employee-label",28),e.TgZ(10,"span",62),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(6),e.Udp("max-width","50rem"),e.xp6(1),e.Oqu(t.description),e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(12,5,e.xi3(13,7,t.timestamp,"EEEE, dd MMMM yyyy HH:mm")))}}function O4(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",53)(2,"div",54),e.YNc(3,Uh,14,10,"div",55),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(3),e.Q6J("ngForOf",t.editedBy)}}function d_(n,i){if(1&n&&(e.TgZ(0,"p-table",43),e.YNc(1,Ua,20,0,"ng-template",22),e.YNc(2,$v,23,23,"ng-template",23),e.YNc(3,O4,4,1,"ng-template",44),e.qZA()),2&n){const t=e.oxw().ngIf;e.Q6J("value",t.calculations)}}function P4(n,i){if(1&n&&(e.ynx(0),e.YNc(1,d_,4,1,"p-table",42),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","READY"===t.cache.calculatedLoadingState)}}function qv(n,i){1&n&&e._UZ(0,"p-progressSpinner",35)}function L4(n,i){1&n&&(e.TgZ(0,"div",67),e._UZ(1,"span",68),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function R4(n,i){1&n&&(e.TgZ(0,"div",69),e._UZ(1,"span",68),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()())}function N4(n,i){if(1&n&&(e.TgZ(0,"div",63),e.ynx(1,32),e.YNc(2,qv,1,0,"p-progressSpinner",64),e.YNc(3,L4,4,0,"div",65),e.YNc(4,R4,4,0,"div",66),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",t.cache.calculatedLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function p_(n,i){if(1&n&&(e.TgZ(0,"div",36)(1,"div",37),e._UZ(2,"app-employee-label",28),e.TgZ(3,"span",38),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div",39)(8,"span",40),e._uU(9,"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.YNc(10,P4,2,1,"ng-container",14),e.ALo(11,"async"),e.YNc(12,N4,5,4,"div",41),e.qZA()()),2&n){const t=i.ngIf,o=e.oxw();e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(5,4,e.xi3(6,6,t.date,"EEEE, dd MMMM yyyy"))),e.xp6(6),e.Q6J("ngIf",e.lcZ(11,9,o.cache.workingDay$)),e.xp6(2),e.Q6J("ngIf","READY"!==o.cache.calculatedLoadingState)}}const Xv=function(){return[]};let e1=(()=>{class n{constructor(t){this.cache=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:19,consts:[[1,"flex","flex-column","flex-grow-1"],[1,"flex","align-items-center","px-5","py-4","border-bottom-1","border-bluegray-100"],[1,"text-2xl","text-bluegray-500","font-semibold"],[1,"flex","gap-3","p-3","bg-bluegray-50","border-bottom-1","border-bluegray-100",3,"formGroup"],[1,"p-inputgroup","w-max"],[1,"p-inputgroup-addon"],[1,"mdi-calendar_month"],["appendTo","body","dateFormat","MM yy","formControlName","date","inputStyleClass","border-noround-left","view","month",3,"readonlyInput","firstDayOfWeek"],["class","flex gap-2 align-items-center",4,"ngIf"],[1,"flex-grow-1"],["appendTo","body",3,"popup","model"],["otchetMenu",""],["type","button","pButton","","label","\u041e\u0442\u0447\u0435\u0442\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446",3,"click"],["offLabel","\u0411\u0415\u0417 \u041d\u0414\u0424\u041b","onLabel","\u0421 \u041d\u0414\u0424\u041b",3,"formControl"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["class","flex flex-column p-3 gap-3 border-top-1 border-bluegray-100",4,"ngIf"],[1,"flex","gap-2","align-items-center"],[1,"caption","wt-black","f-color-500","size-small","with-icon"],[1,"mdi-group"],["appendTo","body","formControlName","position","placeholder","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",3,"options"],["scrollHeight","50rem","scrollDirection","horizontal","styleClass","p-datatable-sm",3,"columns","value","scrollable"],["pTemplate","header"],["pTemplate","body"],[1,"flexed","gap5","vend","caption","size-big","wt-tiny","p10"],["class","caption size-tiny","pFrozenColumn","",3,"frozen","alignFrozen",4,"ngFor","ngForOf"],["pFrozenColumn","",1,"caption","size-tiny",3,"frozen","alignFrozen"],["pFrozenColumn",""],[3,"employee"],["class","caption size-tiny f-inline cursor-pointer hover:text-primary-400",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["pFrozenColumn","","alignFrozen","right",1,"caption","size-tiny"],[1,"caption","size-tiny","f-inline","cursor-pointer","hover:text-primary-400",3,"ngClass","click"],[3,"ngSwitch"],["class","flex align-items-center justify-content-center p-3",3,"width",4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-3"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","p-3","gap-3","border-top-1","border-bluegray-100"],[1,"flex","align-items-center","gap-3"],[1,"caption","text-sm","text-bluegray-400"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-lg","font-semibold"],["class","flex align-items-center justify-content-center p-3 border-round-md border-1 border-bluegray-100 overflow-hidden",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value"],["pTemplate","rowexpansion"],[1,"text-sm"],[1,"text-bluegray-500"],["class","p-button-text p-button-rounded p-button-plain","pButton","","pRipple","","type","button",3,"icon","pRowToggler",4,"ngIf"],[3,"task"],["appTooltip","",1,"text-max-lines-3","text-sm"],[3,"colSpan"],["icon","mdi-edit","styleClass","p-button-icon p-button-warning p-button-text",3,"queryParams","routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-rounded","p-button-plain",3,"icon","pRowToggler"],["colspan","9"],[1,"flex","flex-column"],["class","grid split-line py-3",4,"ngFor","ngForOf"],[1,"grid","split-line","py-3"],[1,"col-10","gap-2","flex","flex-column"],[1,"flex","align-items-center","font-bold","text-bluegray-500"],[1,"mdi-autorenew"],[1,"text-sm","text-primary-400","ml-3"],[1,"col-2"],[1,"text-xs","text-bluegray-400","font-semibold"],[1,"flex","align-items-center","justify-content-center","p-3","border-round-md","border-1","border-bluegray-100","overflow-hidden"],["class","custom-spinner custom-spinner-8xl custom-spinner-primary","strokeWidth","1",4,"ngSwitchCase"],["class","flex flex-column text-danger align-items-center text-xl",4,"ngSwitchCase"],["class","flex flex-column text-bluegray-400 align-items-center text-xl",4,"ngSwitchCase"],[1,"flex","flex-column","text-danger","align-items-center","text-xl"],[1,"mds-error"],[1,"flex","flex-column","text-bluegray-400","align-items-center","text-xl"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," \u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 "),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"p-calendar",7),e.qZA(),e.YNc(9,Vv,6,1,"div",8),e.ALo(10,"async"),e._UZ(11,"div",9)(12,"p-menu",10,11),e.ALo(14,"async"),e.TgZ(15,"button",12),e.NdJ("click",function(E){e.CHM(r);const W=e.MAs(13);return e.KtG(W.toggle(E))}),e.qZA(),e._UZ(16,"p-toggleButton",13),e.qZA(),e.YNc(17,k4,2,1,"ng-container",14),e.ALo(18,"async"),e.YNc(19,jv,2,2,"ng-container",15),e.YNc(20,p_,13,11,"div",16),e.ALo(21,"async"),e.qZA()}if(2&t){let r;e.xp6(4),e.Q6J("formGroup",o.cache.filtrationForm),e.xp6(4),e.Q6J("readonlyInput",!0)("firstDayOfWeek",1),e.xp6(1),e.Q6J("ngIf",e.lcZ(10,10,o.cache.positions$)),e.xp6(3),e.Q6J("popup",!0)("model",null!==(r=e.lcZ(14,12,o.cache.accountingMenuItems$))&&void 0!==r?r:e.DdM(18,Xv)),e.xp6(4),e.Q6J("formControl",o.cache.ndflSwitch),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,14,o.cache.salaryTable$)),e.xp6(2),e.Q6J("ngIf","READY"!==o.cache.tableLoadingState),e.xp6(1),e.Q6J("ngIf",e.lcZ(21,16,o.cache.selectedDay$))}},dependencies:[c_.U,Ec.x,E4,d.rH,p.JJ,p.JL,N.jx,D.sg,p.oH,p.sg,p.u,Be.Lt,_e,D.O5,P.Hq,P.zx,D.RF,D.n9,u_.f,au.v2,D.mk,ot.G,we.H,Zs.iA,Zs.on,Zs.jB,D.Ov,D.uU,D.rS,D.JJ],styles:["[_nghost-%COMP%]{flex-grow:1}"]}),n})();function gf(n,i){1&n&&(e.TgZ(0,"span",28),e._uU(1," (\u0443\u0434\u0430\u043b\u0435\u043d) "),e.qZA())}function h_(n,i){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function LI(n,i){1&n&&(e.TgZ(0,"span",28),e._uU(1," \u0411\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f "),e.qZA())}function t1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.openCreationDialog(r))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,g=e.oxw(2);return e.KtG(g.deletePaidAction(r.paidActionId))}),e.qZA()()}}function F4(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"span",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,gf,2,0,"span",20),e.qZA(),e.YNc(6,h_,2,1,"span",21),e.YNc(7,LI,2,0,"span",20),e.qZA(),e.YNc(8,t1,3,0,"div",22),e.TgZ(9,"div",23)(10,"span",24),e._uU(11),e.ALo(12,"currency"),e.ALo(13,"unitName"),e.qZA(),e._UZ(14,"app-employee-label",25)(15,"div",26),e.TgZ(16,"span",27),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(3),e.AsE(" ",e.xi3(12,9,t.cost,"RUB"),"/",e.lcZ(13,12,t.unit)," "),e.xp6(3),e.Q6J("employee",t.creator),e.xp6(3),e.hij(" ",e.xi3(18,14,t.created,"dd MMMM yyyy HH:mm")," ")}}function n1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,F4,19,17,"div",16),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.paidActionsPage?null:t.paidActionsPage.content)("ngForTrackBy",t.trackByPaidAction)}}function Bp(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"p-progressSpinner",34),e.qZA(),e.BQk())}function B4(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function o1(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"span",38),e.TgZ(3,"span"),e._uU(4,"\u041f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function g_(n,i){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"unitName"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" \u0411\u0435\u0437 \u041d\u0414\u0424\u041b: ",e.xi3(2,2,t.withoutNDFL,"RUB"),"/",e.lcZ(3,5,t.createForm.value.unit)," ")}}function RI(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function Z4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.editPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function NI(n,i){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"input",40)(2,"textarea",41)(3,"p-inputNumber",42)(4,"p-dropdown",43),e.TgZ(5,"div",44),e.YNc(6,g_,4,7,"span",45),e._UZ(7,"div",26),e.YNc(8,RI,1,3,"p-button",46),e.YNc(9,Z4,1,3,"p-button",47),e.qZA()()),2&n){const t=e.oxw();e.Udp("margin-top",".2rem"),e.Q6J("formGroup",t.createForm),e.xp6(2),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("maxFractionDigits",1),e.xp6(1),e.Q6J("options",t.typeOptions),e.xp6(1),e.Q6J("ngSwitch",t.createDialogMode),e.xp6(1),e.Q6J("ngIf",t.withoutNDFL>0&&t.createForm.value.unit),e.xp6(2),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}const U4=function(){return{grid:"1fr min-content/1fr"}},H4=function(){return{width:"40rem"}};let s1=(()=>{class n{constructor(t,o,r,g,E){this.api=t,this.rt=o,this.route=r,this.router=g,this.confirm=E,this.loadingState=Ce.Gu.LOADING,this.subscriptions=new x.xf,this.filterForm=new p.cw({nameQuery:new p.NI(""),includeDeleted:new p.NI(!1)}),this.page=0,this.createDialogVisible=!1,this.createDialogMode="create",this.createForm=new p.cw({name:new p.NI("",[p.kI.required]),description:new p.NI(""),cost:new p.NI(0,[p.kI.required]),unit:new p.NI("",[p.kI.required])}),this.typeOptions=[{label:"\u0417\u0430 \u0448\u0442\u0443\u043a\u0443",value:Ce.b9.AMOUNT},{label:"\u0417\u0430 \u043c\u0435\u0442\u0440",value:Ce.b9.METRES},{label:"\u0417\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c",value:Ce.b9.KILOGRAMS}],this.beginCreate=!1}get withoutNDFL(){return this.createForm.value.cost?Math.round(this.createForm.value.cost-.13*this.createForm.value.cost):0}unitName(t){switch(t){case Ce.b9.AMOUNT:return"\u0448\u0442.";case Ce.b9.METRES:return"\u043c\u0435\u0442\u0440";case Ce.b9.KILOGRAMS:return"\u043a\u0433."}}get createDialogHeader(){return"create"===this.createDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}trackByPaidAction(t,o){return o.paidActionId+o.name+o.description+o.cost+o.unit}ngOnInit(){this.filterForm.valueChanges.pipe((0,No.b)(1e3),(0,ko.x)()).pipe((0,ft.U)(r=>{let g={includeDeleted:r.includeDeleted};return r.nameQuery&&(g.nameQuery=r.nameQuery),this.page=0,g})).subscribe(r=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:r}).then()});const t=this.route.params.pipe((0,ko.x)()),o=this.route.queryParams.pipe((0,ko.x)());(0,Po.a)([t,o]).subscribe(([r,g])=>{var E;this.loadingState=Ce.Gu.LOADING,this.filterForm.patchValue({nameQuery:null!==(E=g.nameQuery)&&void 0!==E?E:"",includeDeleted:"true"===g.includeDeleted}),this.api.getPageOfPaidActions(r.page-1,g).subscribe({next:W=>{this.loadingState=W.totalElements>0?Ce.Gu.READY:Ce.Gu.EMPTY,this.paidActionsPage=W},error:()=>this.loadingState=Ce.Gu.ERROR,complete:()=>{this.page=r.page||0}})}),this.subscriptions.addSubscription("paCr",this.rt.paidActionCreated().subscribe(r=>{var g,E,W;null!==(g=this.paidActionsPage)&&void 0!==g&&g.content.find(it=>it.identifier===r.identifier)||(null===(E=this.paidActionsPage)||void 0===E||E.content.unshift(r),this.paidActionsPage&&this.paidActionsPage.content.length>25&&(null===(W=this.paidActionsPage)||void 0===W||W.content.pop()))})),this.subscriptions.addSubscription("paEd",this.rt.paidActionUpdated().subscribe(r=>{if(!this.paidActionsPage)return;const g=this.paidActionsPage.content.findIndex(E=>E.identifier===r.identifier);-1!==g&&(this.paidActionsPage.content[g]=r)})),this.subscriptions.addSubscription("paDe",this.rt.paidActionDeleted().subscribe(r=>{if(!this.paidActionsPage)return;const g=this.paidActionsPage.content.findIndex(E=>E.identifier===r.identifier);-1!==g&&(this.paidActionsPage.content.splice(g,1),this.paidActionsPage.totalElements--)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}changePage(t){this.router.navigate(["/salary","paid-actions",t+1],{queryParamsHandling:"merge"})}openCreationDialog(t){var o;this.createForm.reset(),this.createDialogMode=t?"edit":"create",this.editingPaidActionId=null==t?void 0:t.paidActionId,t&&this.createForm.setValue({name:t.name,description:null!==(o=t.description)&&void 0!==o?o:"",cost:t.cost,unit:t.unit}),this.createDialogVisible=!0}createPaidAction(){this.createForm.valid&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.createPaidAction(this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}editPaidAction(){this.createForm.valid&&this.editingPaidActionId&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.editPaidAction(this.editingPaidActionId,this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}deletePaidAction(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",accept:()=>{this.api.deletePaidAction(t).subscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(d.gz),e.Y36(d.F0),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:18,vars:23,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"grided","gap10","stretched"],[1,"flexed","gap10","panel","p10","vcenter",3,"formGroup"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["formControlName","nameQuery","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","includeDeleted","offIcon","mdi-visibility","offLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onIcon","mdi-visibility_off","onLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"grided","panel","p10",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange"],["appendTo","body",3,"visible","draggable","dismissableMask","header","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column"],["class","flexed p10 gap10 h-fit split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","p10","gap10","h-fit","split-line"],[1,"flexed","column","stretched"],[1,"caption","size-big","flexed","hcenter","gap3"],["class","caption size-small f-color-500",4,"ngIf"],["class","caption size-small",4,"ngIf"],["class","flexed column gap5",4,"ngIf"],[1,"flexed","column","gap5","vend","hstart"],[1,"caption"],[3,"employee"],[1,"stretched"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","f-color-500"],[1,"caption","size-small"],[1,"flexed","column","gap5"],["icon","mdi-edit","styleClass","p-button-warning p-button-icon p-button-outlined",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-outlined",3,"onClick"],[1,"grided","vcenter","hcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","grided","vcenter","hcenter"],[1,"mds-error"],[1,"caption","size-big","wt-bold","f-color-500","grided","vcenter","hcenter"],[1,"mds-search_off"],[1,"grided","gap10",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",3,"autoResize","cols","rows"],["currency","RUB","formControlName","cost","locale","ru-RU","mode","currency","placeholder","\u0421\u0443\u043c\u043c\u0430...",3,"maxFractionDigits"],["appendTo","body","formControlName","unit","placeholder","\u0422\u0438\u043f",3,"options"],[1,"flexed","hcenter",3,"ngSwitch"],["class","caption size-big f-color-500",4,"ngIf"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],[1,"caption","size-big","f-color-500"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4)(5,"span",5),e._UZ(6,"i",6),e.qZA(),e._UZ(7,"input",7),e.qZA(),e._UZ(8,"p-toggleButton",8),e.TgZ(9,"p-button",9),e.NdJ("onClick",function(){return o.openCreationDialog()}),e.qZA()(),e.TgZ(10,"div",10),e.YNc(11,n1,3,2,"ng-container",11),e.YNc(12,Bp,3,0,"ng-container",11),e.YNc(13,B4,5,0,"ng-container",11),e.YNc(14,o1,5,0,"ng-container",11),e.TgZ(15,"p-paginator",12),e.NdJ("onPageChange",function(g){return o.changePage(g.page)}),e.qZA()()()()(),e.TgZ(16,"p-dialog",13),e.NdJ("visibleChange",function(g){return o.createDialogVisible=g}),e.YNc(17,NI,10,12,"ng-template",14),e.qZA()),2&t){let r;e.xp6(2),e.Udp("grid","min-content 1fr/1fr"),e.xp6(1),e.Q6J("formGroup",o.filterForm),e.xp6(7),e.Akn(e.DdM(21,U4)),e.Q6J("ngSwitch",o.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("first",25*(o.page-1))("rows",25)("totalRecords",null!==(r=null==o.paidActionsPage?null:o.paidActionsPage.totalElements)&&void 0!==r?r:0),e.xp6(1),e.Akn(e.DdM(22,H4)),e.Q6J("visible",o.createDialogVisible)("draggable",!1)("dismissableMask",!0)("header",o.createDialogHeader)("modal",!0)("resizable",!1)}}}),n})();var ff=C(2629);const r1=function(){return{padding:"0 0 0 1rem"}};function V4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(3,"div",27),e.TgZ(4,"p-button",28),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const g=e.MAs(16);return e.KtG(g.toggle(r))}),e.qZA()()}2&n&&e.Akn(e.DdM(2,r1))}function a1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",29)(1,"p-button",30),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const g=e.MAs(18);return e.KtG(g.toggle(r))}),e.qZA()()}}function l1(n,i){1&n&&e.GkF(0)}function z4(n,i){if(1&n&&(e.ynx(0),e.YNc(1,l1,1,0,"ng-container",31),e.BQk()),2&n){e.oxw();const t=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function J4(n,i){1&n&&e.GkF(0)}function c1(n,i){1&n&&e.GkF(0)}function Q4(n,i){1&n&&e.GkF(0)}function u1(n,i){1&n&&e.GkF(0)}const Od=function(n){return{$implicit:n}};function d1(n,i){if(1&n&&(e.ynx(0),e.YNc(1,u1,1,0,"ng-container",37),e.BQk()),2&n){const t=i.$implicit;e.oxw(4);const o=e.MAs(36);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Od,t))}}function p1(n,i){1&n&&e.GkF(0)}function G4(n,i){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",t.selectedNodeInTree.data.description," ")}}const h1=function(){return{alignContent:"flex-start"}};function FI(n,i){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,c1,1,0,"ng-container",37),e.TgZ(2,"div",38),e.YNc(3,Q4,1,0,"ng-container",31),e.YNc(4,d1,2,4,"ng-container",39),e.YNc(5,p1,1,0,"ng-container",31),e.qZA(),e.YNc(6,G4,5,1,"div",40),e.qZA()),2&n){const t=e.oxw(3),o=e.MAs(26),r=e.MAs(32),g=e.MAs(34);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(10,Od,t.selectedNodeInTree)),e.xp6(1),e.Akn(e.DdM(12,h1)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngForOf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.children)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",g),e.xp6(1),e.Q6J("ngIf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description)}}function g1(n,i){1&n&&e.GkF(0)}function BI(n,i){1&n&&e.GkF(0)}function ZI(n,i){if(1&n&&(e.ynx(0),e.YNc(1,BI,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function UI(n,i){1&n&&e.GkF(0)}function HI(n,i){if(1&n&&(e.ynx(0),e.YNc(1,UI,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(30);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function VI(n,i){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(null==t.currentWork?null:t.currentWork.description)}}function zI(n,i){1&n&&e.GkF(0)}function JI(n,i){if(1&n&&(e.ynx(0),e.YNc(1,zI,1,0,"ng-container",37),e.BQk()),2&n){const t=i.$implicit;e.oxw(5);const o=e.MAs(24);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Od,t))}}function QI(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.YNc(2,VI,5,1,"div",46),e.TgZ(3,"div",47)(4,"span",48),e._uU(5," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f "),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,JI,2,4,"ng-container",39),e.qZA(),e._UZ(8,"div",49),e.TgZ(9,"div",50)(10,"span"),e._uU(11,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t.currentWork?null:t.currentWork.description),e.xp6(5),e.Q6J("ngForOf",null==t.currentWork?null:t.currentWork.actions)("ngForTrackBy",t.trackByAction),e.xp6(6),e.hij("",t.currentWorkActionsSum," \u0440\u0443\u0431")}}function mf(n,i){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,g1,1,0,"ng-container",37),e.ynx(2,8),e.YNc(3,ZI,2,1,"ng-container",9),e.YNc(4,HI,2,1,"ng-container",9),e.YNc(5,QI,14,4,"ng-container",9),e.BQk(),e.qZA()),2&n){const t=e.oxw(3),o=e.MAs(26);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(6,Od,t.selectedNodeInTree)),e.xp6(1),e.Q6J("ngSwitch",t.workLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY")}}function GI(n,i){if(1&n&&(e.ynx(0,8),e.YNc(1,FI,7,13,"div",34),e.YNc(2,mf,6,8,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.selectedNodeInTree.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function f1(n,i){1&n&&e.GkF(0)}function _f(n,i){if(1&n&&(e.ynx(0),e.YNc(1,f1,1,0,"ng-container",37),e.BQk()),2&n){const t=i.$implicit;e.oxw(3);const o=e.MAs(36);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Od,t))}}function m1(n,i){1&n&&e.GkF(0)}function _1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e.YNc(3,_f,2,4,"ng-container",39),e.YNc(4,m1,1,0,"ng-container",31),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(34);e.xp6(2),e.Akn(e.DdM(6,h1)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.treeMenuItems)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function WI(n,i){if(1&n&&(e.ynx(0),e.YNc(1,GI,3,3,"ng-container",32),e.YNc(2,_1,5,7,"ng-container",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedNodeInTree),e.xp6(1),e.Q6J("ngIf",!t.selectedNodeInTree)}}function f_(n,i){1&n&&e.GkF(0)}function C1(n,i){1&n&&e.GkF(0)}function W4(n,i){1&n&&e.GkF(0)}function v1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,f_,1,0,"ng-container",37),e.TgZ(3,"div",53),e.YNc(4,C1,1,0,"ng-container",31),e.YNc(5,W4,1,0,"ng-container",31),e.TgZ(6,"div",55),e._UZ(7,"span",56),e.TgZ(8,"span"),e._uU(9,"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(26),r=e.MAs(32),g=e.MAs(34);e.xp6(2),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(4,Od,t.selectedNodeInTree)),e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngTemplateOutlet",g)}}function YI(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function Y4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const b1=function(){return{maxWidth:"15rem"}};function j4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("keyup.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.enterButtonPress())}),e._UZ(1,"input",58)(2,"textarea",59),e.ynx(3,8),e.YNc(4,YI,1,2,"p-button",60),e.YNc(5,Y4,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createGroupForm),e.xp6(1),e.Akn(e.DdM(7,b1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("ngSwitch",t.createGroupDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function Cf(n,i){if(1&n&&(e.TgZ(0,"div",74)(1,"p-inputNumber",75),e.NdJ("mousedown",function(o){return o.stopPropagation()})("dblclick",function(o){return o.stopPropagation()}),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("formGroup",t.control),e.xp6(1),e.Q6J("size",4)("min",.01)("minFractionDigits",0)("maxFractionDigits",2)("max",99999)("allowEmpty",!1)}}function K4(n,i){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"span",71),e._uU(3),e.qZA(),e.TgZ(4,"span",72),e._uU(5),e.ALo(6,"unitName"),e.qZA()(),e.YNc(7,Cf,2,7,"div",73),e.qZA()),2&n){const t=i.$implicit;e.xp6(2),e.Udp("max-width","15rem"),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431./",e.lcZ(6,6,t.unit)," "),e.xp6(2),e.Q6J("ngIf","select"===t.mode)}}function jI(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function KI(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const $4=function(){return{height:"30rem"}};function q4(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e._UZ(1,"input",65)(2,"textarea",66),e.TgZ(3,"p-pickList",67),e.NdJ("onMoveToSource",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.unselectPaidAction(r))})("onMoveToTarget",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.selectPaidAction(r))}),e.YNc(4,K4,8,8,"ng-template",68),e.qZA(),e.ynx(5,8),e.YNc(6,jI,1,2,"p-button",60),e.YNc(7,KI,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createWorkForm),e.xp6(1),e.Akn(e.DdM(14,b1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("source",t.availablePaidActions)("sourceStyle",e.DdM(15,$4))("targetStyle",e.DdM(16,$4))("target",t.selectedPaidActions),e.xp6(2),e.Q6J("ngSwitch",t.createWorkDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function X4(n,i){if(1&n&&(e.TgZ(0,"div",76)(1,"div",47)(2,"span",77),e._uU(3),e.qZA(),e.TgZ(4,"span",78),e._UZ(5,"span",79),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"unitName"),e.qZA()()(),e._UZ(9,"div",27),e.TgZ(10,"span",80),e._uU(11),e.ALo(12,"unitName"),e.qZA(),e.TgZ(13,"span",81),e._uU(14),e.qZA()()),2&n){const t=i.$implicit;e.xp6(3),e.hij(" ",t.action.name," "),e.xp6(4),e.AsE(" ",t.action.cost," \u0440\u0443\u0431/",e.lcZ(8,6,t.action.unit)," "),e.xp6(4),e.AsE(" \u041a\u043e\u043b-\u0432\u043e: ",t.count," ",e.lcZ(12,8,t.action.unit)," "),e.xp6(3),e.hij(" \u0421\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: ",t.action.cost*t.count," \u0440\u0443\u0431 ")}}function ex(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",82)(2,"span"),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",t.data.name," ")}}function $I(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",83)(2,"p-button",84),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.back())}),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"p-button",85),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,g=e.oxw();return g.editingWorkId=r.data.id,e.KtG(g.openEditWorkDialog())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.data.name," ")}}function tx(n,i){if(1&n&&(e.ynx(0,8),e.YNc(1,ex,4,1,"ng-container",9),e.YNc(2,$I,7,1,"ng-container",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function y1(n,i){1&n&&e.YNc(0,tx,3,3,"ng-container",32),2&n&&e.Q6J("ngIf",i.$implicit)}function x1(n,i){1&n&&(e.TgZ(0,"div",86),e._UZ(1,"p-progressSpinner",87),e.qZA())}function qI(n,i){1&n&&(e.TgZ(0,"div",86)(1,"div",88),e._UZ(2,"span",89),e.TgZ(3,"span"),e._uU(4," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()())}function Kl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.back())}),e._UZ(1,"span",92),e.TgZ(2,"span",93),e._uU(3,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()()}}function nx(n,i){if(1&n&&e.YNc(0,Kl,4,0,"div",90),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedNodeInTree)}}function m_(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(r){e.CHM(t),e.oxw();const g=e.MAs(18);return e.KtG(g.toggle(r))}),e._UZ(1,"span",94),e.TgZ(2,"span",93),e._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),e.qZA()()}}function ix(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.selectGroupInView(g))}),e._UZ(1,"span"),e.TgZ(2,"span",95),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(1),e.Tol("group"===t.type?"mds-folder":"mds-construction"),e.xp6(2),e.Oqu(t.data.name)}}const El=function(){return{padding:"0"}};let I1=(()=>{class n{constructor(t,o,r){this.api=t,this.rt=o,this.confirmation=r,this.rootContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog()},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog()}],this.treeMenuItems=[],this.createGroupDialogVisible=!1,this.createGroupDialogMode="create",this.createGroupForm=new p.cw({name:new p.NI("",[p.kI.required]),description:new p.NI(""),parentGroupId:new p.NI(null)}),this.treeContextMenuItems=[],this.subscriptions=new x.xf,this.createWorkDialogVisible=!1,this.createWorkDialogMode="create",this.createWorkForm=new p.cw({name:new p.NI("",[p.kI.required]),description:new p.NI(""),parentGroupId:new p.NI(null),actions:new p.Oe([],[R.d.notEmpty])}),this.breadcrumbHome={icon:"mdi-home",command:()=>{this.selectedNodeInTree=void 0,this.changeBreadcrumbs()}},this.breadcrumb=[],this.availablePaidActions=[],this.selectedPaidActions=[],this.loadingTreeState=Ce.Gu.LOADING,this.workLoadingState=Ce.Gu.LOADING,this.inViewContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}],ff.mp.prototype.isNodeLeaf=g=>g.leaf}get currentWorkActionsSum(){return this.currentWork?this.currentWork.actions.reduce((t,o)=>t+o.count*o.action.cost,0):0}trackByAction(t,o){return o.paidActionTemplateId+o.count}trackByNode(t,o){var r,g;return null!==(g=null!==(r=o.key)&&void 0!==r?r:""+o.leaf)&&void 0!==g?g:""+o.label+JSON.stringify(o.data)}selectPaidAction(t){t.items.forEach(o=>{o.mode="select",o.controlIndex=this.createWorkForm.controls.actions.length,o.control=new p.cw({actionId:new p.NI(o.paidActionId),count:new p.NI(1)}),this.createWorkForm.controls.actions.push(o.control)})}unselectPaidAction(t){t.items.forEach(o=>{o.mode=void 0,o.control=void 0,this.createWorkForm.controls.actions.removeAt(o.controlIndex)})}unitName(t){switch(t){case Ce.b9.AMOUNT:return"\u0448\u0442.";case Ce.b9.METRES:return"\u043c.";case Ce.b9.KILOGRAMS:return"\u043a\u0433."}}changeContextMenuItems(){var t,o,r;if(this.selectedNodeInTree)switch(this.selectedNodeInTree.type){case"group":this.treeContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",items:[{label:"\u0413\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0420\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditGroupDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteGroup()}];break;case"work":this.treeContextMenuItems=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditWorkDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteWork()}]}"group"===(null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.type)?this.loadOfGroup({node:this.selectedNodeInTree},()=>this.changeBreadcrumbs()):"work"===(null===(o=this.selectedNodeInTree)||void 0===o?void 0:o.type)&&null!==(r=this.selectedNodeInTree)&&void 0!==r&&r.key&&this.loadWork(this.selectedNodeInTree.key)}changeBreadcrumbs(){if(this.selectedNodeInTree){let t=this.selectedNodeInTree;const o=[];for(;t;){let r=t.key;o.push({label:t.label,key:r,command:()=>{var g;if((null===(g=this.selectedNodeInTree)||void 0===g?void 0:g.key)===r)return;let E;const W=[];for(let Ie of this.breadcrumb)if(void 0===E?E=this.treeMenuItems.find(it=>it.key===Ie.key):E.children&&(E=E.children.find(it=>it.key===Ie.key)),W.push(Ie),E&&E.key===r)break;this.selectedNodeInTree=E,this.breadcrumb=W}}),t=t.parent}this.breadcrumb=o.reverse()}else this.breadcrumb=[]}openCreateGroupDialog(t){this.createGroupForm.reset(),this.createGroupDialogMode="create",this.createGroupDialogVisible=!0,this.createGroupForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null})}openEditGroupDialog(){var t,o,r,g,E,W,Ie,it,nt,Kt;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createGroupForm.reset(),this.editingGroupId=parseInt(null===(o=this.selectedNodeInTree)||void 0===o?void 0:o.key.substring(1)),this.createGroupDialogMode="edit",this.createGroupDialogVisible=!0,this.createGroupForm.setValue({name:null!==(g=null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.label)&&void 0!==g?g:"",description:null!==(W=null===(E=this.selectedNodeInTree)||void 0===E?void 0:E.data.description)&&void 0!==W?W:"",parentGroupId:null!==(it=null===(Ie=this.selectedNodeInTree)||void 0===Ie?void 0:Ie.parent)&&void 0!==it&&it.key?parseInt(null===(Kt=null===(nt=this.selectedNodeInTree)||void 0===nt?void 0:nt.parent)||void 0===Kt?void 0:Kt.key):null}))}openCreateWorkDialog(t){this.createWorkForm.reset(),this.createWorkDialogMode="create",this.createWorkDialogVisible=!0,this.createWorkForm.controls.actions.clear(),this.createWorkForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null}),this.selectedPaidActions=[],this.api.getListAvailablePaidActions().subscribe({next:o=>this.availablePaidActions=o})}openEditWorkDialog(){var t,o,r,g,E,W,Ie,it,nt,Kt;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createWorkForm.reset(),this.editingWorkId=parseInt(null===(o=this.selectedNodeInTree)||void 0===o?void 0:o.key.substring(1)),this.createWorkDialogMode="edit",this.createWorkDialogVisible=!0,this.createWorkForm.patchValue({name:null!==(g=null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.label)&&void 0!==g?g:"",description:null!==(W=null===(E=this.selectedNodeInTree)||void 0===E?void 0:E.data.description)&&void 0!==W?W:"",parentGroupId:null!==(it=null===(Ie=this.selectedNodeInTree)||void 0===Ie?void 0:Ie.parent)&&void 0!==it&&it.key?parseInt(null===(Kt=null===(nt=this.selectedNodeInTree)||void 0===nt?void 0:nt.parent)||void 0===Kt?void 0:Kt.key):null}),this.selectedPaidActions=[],this.createWorkForm.controls.actions.clear(),this.api.getListAvailablePaidActions().subscribe({next:Yt=>{var Qt;!(null===(Qt=this.selectedNodeInTree)||void 0===Qt)&&Qt.data.actions&&this.selectedNodeInTree.data.actions.forEach(_n=>{let Ln=structuredClone(_n.action);Ln.mode="select",Ln.controlIndex=this.createWorkForm.controls.actions.length,Ln.control=new p.cw({actionId:new p.NI(Ln.paidActionId),count:new p.NI(_n.count)}),this.selectedPaidActions.push(Ln),this.createWorkForm.controls.actions.push(Ln.control)}),this.availablePaidActions=Yt.filter(_n=>-1===this.selectedPaidActions.findIndex(Ln=>Ln.paidActionId===_n.paidActionId))}}))}ngOnInit(){this.api.getRootTreeOfWorks().subscribe({next:t=>{this.treeMenuItems=t,this.loadingTreeState=t.length>0?Ce.Gu.READY:Ce.Gu.EMPTY},error:()=>{this.loadingTreeState=Ce.Gu.ERROR}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const o=this.foundNodeByPath(t.sourcePath),r=this.foundNodeByPath(t.targetPath);if(o){if(o.children){const g=o.children.findIndex(E=>E.key===t.object.key&&E.type===t.object.type);g>-1&&o.children.splice(g,1),0===o.children.length&&(o.leaf=!0)}}else{const g=this.treeMenuItems.findIndex(E=>E.key===t.object.key&&E.type===t.object.type);g>-1&&this.treeMenuItems.splice(g,1)}r?(r.children?-1===r.children.findIndex(E=>E.key===t.object.key&&E.type===t.object.type)&&r.children.push(t.object):(r.children=[],r.children.push(t.object)),r.leaf=!1):-1===this.treeMenuItems.findIndex(E=>E.key===t.object.key&&E.type===t.object.type)&&this.treeMenuItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var o,r;const g=this.foundNodeByPath(t.path);if(g&&g.children){const E=null===(o=g.children)||void 0===o?void 0:o.findIndex(W=>W.key===t.object.key&&W.type===t.object.type);E>-1&&(g.children[E]=t.object)}else if(!g){const E=this.treeMenuItems.findIndex(W=>W.key===t.object.key&&W.type===t.object.type);E>-1&&(this.treeMenuItems[E]=t.object)}(null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.key)===t.object.key&&(this.selectedNodeInTree=t.object)})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const o=this.foundNodeByPath(t.path);o?(o.children||(o.children=[]),o.children.push(t.object),o.children.sort((r,g)=>r.position-g.position),o.leaf=!1):(this.treeMenuItems.push(t.object),this.treeMenuItems.sort((r,g)=>r.position-g.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var o;const r=this.foundNodeByPath(t.path);if(r&&r.children){const g=r.children.findIndex(E=>E.key===t.object.key);this.selectedNodeInTree===r.children[g]&&(this.selectedNodeInTree=void 0),g>-1&&(null===(o=r.children)||void 0===o||o.splice(g,1))}else if(!r){const g=this.treeMenuItems.findIndex(E=>E.key===t.object.key);this.selectedNodeInTree===this.treeMenuItems[g]&&(this.selectedNodeInTree=void 0),g>-1&&this.treeMenuItems.splice(g,1)}})),this.subscriptions.addSubscription("workUp",this.rt.paidWorkUpdated().subscribe({next:t=>{var o;(null===(o=this.currentWork)||void 0===o?void 0:o.paidWorkId)===t.paidWorkId&&(this.currentWork=t)}})),this.subscriptions.addSubscription("sort",this.rt.worksTreeReposition().subscribe(t=>{t.forEach(o=>{const r="group"===o.type?"g":"w";if(o.path&&o.path.length>0){const g=this.foundNodeByPath(o.path);g&&g.children&&(g.children.find(W=>W.key===r+o.id).position=o.position,g.children.sort((W,Ie)=>W.position-Ie.position))}else this.treeMenuItems.find(E=>E.key===r+o.id).position=o.position,this.treeMenuItems.sort((E,W)=>E.position-W.position)})}))}foundNodeByPath(t){var o;if(!t||0===t.length)return null;let r=null,g=this.treeMenuItems;for(let E of t){if(!g)return null;if(r=null!==(o=g.find(W=>W.key==="g"+E))&&void 0!==o?o:null,!r)return null;g=r.children}return r}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createGroup(){this.createGroupForm.valid&&this.api.createPaidWorkGroup(this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}updateGroup(){this.editingGroupId&&this.createGroupForm.valid&&this.api.editPaidWorkGroup(this.editingGroupId,this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}nodeDrop(t){this.api.treeWorksDragDrop(new Ce.AE(t)).subscribe(),this.api.paidWorkTreeReposition(this.getPositions(t)).subscribe(()=>this.changeBreadcrumbs())}getPositions(t){const o=t.dragNode.parent,r=t.dropNode.parent;let g=[];return o||r?o?r?o===r&&(g=[...o.children.map((E,W)=>({id:E.key.substring(1),type:E.type,position:W}))]):g=[...o.children.map((E,W)=>({id:E.key.substring(1),type:E.type,position:W})),...this.treeMenuItems.map((E,W)=>({id:E.key.substring(1),type:E.type,position:W}))]:g=[...this.treeMenuItems.map((E,W)=>({id:E.key.substring(1),type:E.type,position:W})),...r.children.map((E,W)=>({id:E.key.substring(1),type:E.type,position:W}))]:g=this.treeMenuItems.map((E,W)=>({id:E.key.substring(1),type:E.type,position:W})),g}loadOfGroup(t,o=(()=>{})){"group"!==t.node.type||t.node.children&&t.node.children.length>0?"group"===t.node.type&&(this.loadingTreeState=Ce.Gu.READY,o()):(this.loadingTreeState=Ce.Gu.LOADING,this.api.getWorksOfGroup(t.node.key.substring(1)).subscribe({next:r=>{t.node.children=r,this.loadingTreeState=r.length>0?Ce.Gu.READY:Ce.Gu.EMPTY,o()},error:()=>{this.loadingTreeState=Ce.Gu.ERROR}}))}createWork(){this.createWorkForm.valid&&this.api.createPaidWork(this.createWorkForm.value).subscribe({next:()=>{this.createWorkDialogVisible=!1},error:()=>{}})}updateWork(){this.editingWorkId&&this.createWorkForm.valid&&this.api.editPaidWork(this.editingWorkId,this.createWorkForm.value).subscribe(()=>{this.createWorkDialogVisible=!1})}selectNode(t){var o;"group"===t.node.type?this.loadOfGroup(t,()=>this.changeBreadcrumbs()):null!==(o=this.selectedNodeInTree)&&void 0!==o&&o.key&&this.loadWork(this.selectedNodeInTree.key)}selectGroupInView(t){setTimeout(()=>{var o,r;this.selectedNodeInTree&&!this.selectedNodeInTree.leaf&&(this.selectedNodeInTree.expanded=!0),this.selectedNodeInTree=t,"group"===(null===(o=this.selectedNodeInTree)||void 0===o?void 0:o.type)?this.loadOfGroup({node:t},()=>this.changeBreadcrumbs()):null!==(r=this.selectedNodeInTree)&&void 0!==r&&r.key&&this.loadWork(this.selectedNodeInTree.key)},200)}loadWork(t){this.loadingTreeState=Ce.Gu.READY,this.workLoadingState=Ce.Gu.LOADING,this.api.getPaidWorkById(parseInt(t.substring(1))).subscribe({next:o=>{this.currentWork=o,this.workLoadingState=Ce.Gu.READY,this.changeBreadcrumbs()},error:()=>{this.workLoadingState=Ce.Gu.ERROR}})}back(){var t;this.loadingTreeState=Ce.Gu.READY,this.selectedNodeInTree&&(this.selectedNodeInTree.expanded=!1),this.selectedNodeInTree=null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.parent,this.changeBreadcrumbs()}deleteGroup(){var t,o;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingGroupId=parseInt(null===(o=this.selectedNodeInTree)||void 0===o?void 0:o.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0440\u0430\u0431\u043e\u0442? (\u0420\u0430\u0431\u043e\u0442\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442)",accept:()=>{!this.editingGroupId||this.api.deletePaidWorkGroup(this.editingGroupId).subscribe(()=>{})}}))}deleteWork(){var t,o;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingWorkId=parseInt(null===(o=this.selectedNodeInTree)||void 0===o?void 0:o.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?",accept:()=>{!this.editingWorkId||this.api.deletePaidWork(this.editingWorkId).subscribe(()=>{})}}))}enterButtonPress(){"create"===this.createGroupDialogMode?this.createGroup():"edit"===this.createGroupDialogMode&&this.updateGroup()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([N.Y])],decls:37,vars:32,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","mb-3","px-3"],[1,"flexed","column","gap10","stretched","panel","p10"],[3,"home","model"],[1,"flexed","gap10","stretched"],["styleClass","work-tree","draggableScope","self","droppableScope","self","selectionMode","single",3,"selection","contextMenu","draggableNodes","droppableNodes","lazy","loading","value","onNodeContextMenuSelect","onNodeDrop","onNodeExpand","onNodeSelect","onNodeUnselect","selectionChange"],["pTemplate","header"],["pTemplate","empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appendTo","body",3,"model"],["treeContextMenu",""],[3,"model","popup"],["rootTreeMenu",""],["inViewContextMenu",""],["appendTo","body",3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],[3,"visible","dismissableMask","autoZIndex","baseZIndex","header","resizable","visibleChange"],["workEntryRef",""],["nodeTitleRef",""],["loadingRef",""],["errorRef",""],["backButtonRef",""],["createButtonRef",""],["nodeRef",""],[1,"flexed","hcenter","gap10"],[1,"caption","size-big","f-inline"],[1,"stretched"],["icon","mdi-more_vert","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"flexed","p10","w-full","vcenter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add","styleClass","p-button-secondary p-button-text",3,"onClick"],[4,"ngTemplateOutlet"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["class","flexed column gap10 stretched",4,"ngSwitchCase"],["class","flexed column stretched",4,"ngSwitchCase"],[1,"flexed","column","gap10","stretched"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","wrapped","gap10","stretched"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","group-description",4,"ngIf"],[1,"group-description"],[1,"caption","size-small","f-inline"],[1,"caption"],[1,"flexed","column","stretched"],[1,"flexed","column","gap10","p10"],["class","flexed column",4,"ngIf"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-500"],[1,"terminator-bottom"],[1,"flexed","gap5","vend","hcenter","caption","wt-tiny","f-color-primary","size-big","p10"],[1,"caption","indent1"],[1,"flexed","column","gap10"],[1,"flexed","wrapped","gap10"],[1,"flexed","column","gap10","relative","stretched"],[1,"center-of-content","flexed","column","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-receipt_long"],[1,"flexed","column","gap10","p1",3,"formGroup","keyup.enter"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","autofocus",""],["cols","50","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","rows","5",3,"autoResize"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],[1,"flexed","column","gap10","p1",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","autofocus",""],["cols","70","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","rows","5",3,"autoResize"],["filterBy","name","sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","targetHeader","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"dragdrop","showSourceControls","showTargetControls","source","sourceStyle","targetStyle","target","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flexed","gap5"],[1,"flexed","column","gap5","stretched"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","f-color-500"],["class","w-min z-5",3,"formGroup",4,"ngIf"],[1,"w-min","z-5",3,"formGroup"],["formControlName","count",3,"size","min","minFractionDigits","maxFractionDigits","max","allowEmpty","mousedown","dblclick"],[1,"flexed","gap5","hcenter","p10","split-line"],[1,"caption","size-big","f-color-600"],[1,"caption","with-icon","size-small","f-color-500","wt-black"],[1,"mdi-payments"],[1,"caption","size-big","wt-tiny"],[1,"caption","size-big","f-color-primary","wt-tiny"],[1,"caption","size-huge","f-color-500","wt-bold","f-inline"],[1,"flexed","hcenter","gap5","p3","caption","size-huge","f-color-500","wt-bold","f-inline"],["styleClass","p-button-text p-button-secondary p-button-icon","icon","mdi-arrow_back",3,"onClick"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"onClick"],[1,"relative","stretched"],[1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","hcenter","column","caption","size-big","wt-bold","f-color-danger","center-of-content"],[1,"mds-error"],["class","group-list-el primary","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"group-list-el","primary",3,"click"],[1,"mds-arrow_top_left"],[1,"name"],[1,"mds-add"],["appTicker","",1,"name"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-breadcrumb",3),e.TgZ(4,"div",4)(5,"p-tree",5),e.NdJ("onNodeContextMenuSelect",function(){return o.changeContextMenuItems()})("onNodeDrop",function(g){return o.nodeDrop(g)})("onNodeExpand",function(g){return o.loadOfGroup(g)})("onNodeSelect",function(g){return o.selectNode(g)})("onNodeUnselect",function(){return o.changeBreadcrumbs()})("selectionChange",function(g){return o.selectedNodeInTree=g}),e.YNc(6,V4,5,3,"ng-template",6),e.YNc(7,a1,2,0,"ng-template",7),e.qZA(),e.ynx(8,8),e.YNc(9,z4,2,1,"ng-container",9),e.YNc(10,J4,1,0,"ng-container",9),e.YNc(11,WI,3,2,"ng-container",9),e.YNc(12,v1,10,6,"ng-container",9),e.BQk(),e.qZA()()()(),e._UZ(13,"p-contextMenu",10,11)(15,"p-menu",12,13)(17,"p-menu",12,14),e.TgZ(19,"p-dialog",15),e.NdJ("visibleChange",function(g){return o.createGroupDialogVisible=g}),e.YNc(20,j4,6,8,"ng-template",16),e.qZA(),e.TgZ(21,"p-dialog",17),e.NdJ("visibleChange",function(g){return o.createWorkDialogVisible=g}),e.YNc(22,q4,8,17,"ng-template",16),e.qZA(),e.YNc(23,X4,15,10,"ng-template",null,18,e.W1O),e.YNc(25,y1,1,1,"ng-template",null,19,e.W1O),e.YNc(27,x1,2,0,"ng-template",null,20,e.W1O),e.YNc(29,qI,5,0,"ng-template",null,21,e.W1O),e.YNc(31,nx,1,1,"ng-template",null,22,e.W1O),e.YNc(33,m_,4,0,"ng-template",null,23,e.W1O),e.YNc(35,ix,4,3,"ng-template",null,24,e.W1O)),2&t){const r=e.MAs(14);e.xp6(3),e.Q6J("home",o.breadcrumbHome)("model",o.breadcrumb),e.xp6(2),e.Akn(e.DdM(31,El)),e.Q6J("selection",o.selectedNodeInTree)("contextMenu",r)("draggableNodes",!0)("droppableNodes",!0)("lazy",!0)("loading","LOADING"===o.loadingTreeState)("value",o.treeMenuItems),e.xp6(3),e.Q6J("ngSwitch",o.loadingTreeState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("model",o.treeContextMenuItems),e.xp6(2),e.Q6J("model",o.rootContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("model",o.inViewContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("visible",o.createGroupDialogVisible)("dismissableMask",!0)("header","create"===o.createGroupDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b")("resizable",!1),e.xp6(2),e.Q6J("visible",o.createWorkDialogVisible)("dismissableMask",!0)("autoZIndex",!1)("baseZIndex",4400)("header","create"===o.createWorkDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b")("resizable",!1)}},styles:[".group-list-el[_ngcontent-%COMP%]{cursor:pointer;display:grid;align-items:center;justify-content:center;justify-items:center;padding:.2rem 1rem 1rem;border-radius:.5rem;border:1px solid var(--bgc-200);font-size:.85rem;font-weight:700;color:var(--tc-600);width:min-content;transition:all .1s ease-in-out}.group-list-el[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;width:100%;text-align:center}.group-list-el[_ngcontent-%COMP%]:hover{border-color:var(--mc-100);color:var(--mc-400)}.empty-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group-description[_ngcontent-%COMP%]{display:grid;border-top:1px solid var(--bgc-200);padding-top:.5rem}"],data:{animation:[u.S9]}}),n})();function __(n,i){1&n&&e.GkF(0)}function ox(n,i){if(1&n&&(e.ynx(0),e.YNc(1,__,1,0,"ng-container",7),e.BQk()),2&n){e.oxw();const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function sx(n,i){1&n&&e.GkF(0)}function C_(n,i){if(1&n&&(e.ynx(0),e.YNc(1,sx,1,0,"ng-container",7),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function T1(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",14)(2,"span",15),e._uU(3," \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c "),e.qZA(),e.TgZ(4,"p-button",16),e.NdJ("onClick",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(null==r?null:r.equalize())}),e.qZA()(),e.TgZ(5,"app-employee-sum-distribution",17,18),e.NdJ("onRemoveFactorAction",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onRemoveFactorAction(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("actionPicker",t.worksPickerForm$)("employees",t.selectedWorkLog.employees)("formControl",t.employeeRatioForm)}}function A1(n,i){1&n&&e._UZ(0,"p-inputNumber",19)}function rx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.sendCalculation())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function w1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",23),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.openRecalculationConformationDialog())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function E1(n,i){if(1&n&&(e.ynx(0),e.YNc(1,rx,1,1,"p-button",20),e.YNc(2,w1,1,1,"p-button",21),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf","CALCULATE"===t),e.xp6(1),e.Q6J("ngIf","RECALCULATE"===t)}}function ax(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8),e.YNc(2,T1,7,3,"ng-container",1),e.ALo(3,"async"),e.TgZ(4,"div",9)(5,"div",10)(6,"span",11),e._uU(7,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(8,"p-inputSwitch",12),e.YNc(9,A1,1,0,"p-inputNumber",13),e.qZA(),e.YNc(10,E1,3,2,"ng-container",1),e.ALo(11,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,t.worksPickerForm$)),e.xp6(3),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,6,t.recalculate$))}}function S1(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0417\u0430\u0434\u0430\u0447\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0410\u0434\u043c\u0438\u043d"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"),e.qZA()())}function lx(n,i){1&n&&e._UZ(0,"app-employee-label",31),2&n&&e.Q6J("employee",i.$implicit)}function Hh(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(!g.isReportsUncompleted&&E.selectWork(g))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"app-task-link",30),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-employee-label",31),e.qZA(),e.TgZ(7,"td")(8,"div",32),e.YNc(9,lx,1,1,"app-employee-label",33),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"titlecase"),e.ALo(17,"date"),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("pTooltip",t.isReportsUncompleted?o.getUncompletedMessage(t):"")("ngClass",t.isReportsUncompleted?"opacity-50":"cursor-pointer hover:bg-bluegray-50"),e.xp6(2),e.Oqu(t.workLogId),e.xp6(2),e.Q6J("task",t.task),e.xp6(2),e.Q6J("employee",t.creator),e.xp6(3),e.Q6J("ngForOf",t.employees),e.xp6(2),e.Oqu(e.lcZ(12,8,e.xi3(13,10,t.created,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(16,13,e.xi3(17,15,t.closed,"EEEE, dd MMMM yyyy HH:mm")))}}function Sc(n,i){if(1&n&&(e.TgZ(0,"div",24)(1,"span",25),e._uU(2," \u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435 \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()(),e.TgZ(3,"p-table",26),e.YNc(4,S1,13,0,"ng-template",27),e.YNc(5,Hh,18,18,"ng-template",28),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.uncalculatedWorkLogs)("loading","LOADING"===t.loadingState)}}function k1(n,i){1&n&&(e.TgZ(0,"span",51),e._uU(1,"(\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430)"),e.qZA())}function v_(n,i){1&n&&(e.TgZ(0,"div",42),e._UZ(1,"span",52),e.TgZ(2,"span"),e._uU(3," \u0426\u0435\u043b\u044c "),e.qZA()())}function lu(n,i){if(1&n&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription," ")}}function cx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unselectWork())}),e.qZA(),e.TgZ(2,"span",25),e._uU(3),e.qZA(),e.YNc(4,k1,2,0,"span",36),e.qZA(),e.TgZ(5,"div",37),e._UZ(6,"app-task-fields-table-view",38),e.TgZ(7,"div",39),e.YNc(8,v_,4,0,"div",40),e.YNc(9,lu,2,1,"div",41),e.qZA(),e.TgZ(10,"div",39)(11,"div",42),e._UZ(12,"span",43),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"div",44),e._uU(16),e.qZA()(),e.TgZ(17,"div",45)(18,"app-label",46),e._UZ(19,"app-employee-label",31),e.qZA(),e.TgZ(20,"app-label",47),e._UZ(21,"app-duration",48),e.qZA()(),e._UZ(22,"div",49)(23,"app-works-picker",50),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isSendingCalculation),e.xp6(2),e.hij(" \u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 #",null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.taskId," "),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.isForceClosed),e.xp6(2),e.Q6J("task",null==t.selectedWorkLog?null:t.selectedWorkLog.task)("isTaskBody",!1),e.xp6(2),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(5),e.hij(" ",null!=t.selectedWorkLog&&t.selectedWorkLog.isForceClosed?"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f":"\u041e\u0442\u0447\u0435\u0442"," "),e.xp6(2),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.report," "),e.xp6(3),e.Q6J("employee",null==t.selectedWorkLog?null:t.selectedWorkLog.creator),e.xp6(2),e.Q6J("short",!1)("ms",null==t.selectedWorkLog?null:t.selectedWorkLog.leadTime),e.xp6(2),e.Q6J("employees",null==t.selectedWorkLog?null:t.selectedWorkLog.employees)("formControl",t.worksPickerForm)}}function XI(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",56),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.emptyCalculationDescription=r)}),e.qZA()(),e.TgZ(5,"div",57)(6,"p-button",58),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.emptyCalculationConformationDialogVisible=!1,e.KtG(r.emptyCalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",59),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendEmptyCalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.emptyCalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.emptyCalculationDescription)("loading",t.isSendingCalculation)}}function ux(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",56),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.recalculationDescription=r)}),e.qZA()(),e.TgZ(5,"div",57)(6,"p-button",58),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.recalculationConformationDialogVisible=!1,e.KtG(r.recalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendRecalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.recalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.recalculationDescription)("loading",t.isSendingCalculation)}}const D1=function(){return{width:"50vw",minWidth:"fit-content"}};let M1=(()=>{class n{constructor(t,o,r,g,E,W){this.api=t,this.confirmation=o,this.rt=r,this.router=g,this.route=E,this.nav=W,this.uncalculatedWorkLogs=[],this.loadingState=Ce.Gu.LOADING,this.actionsTaken=[],this.employeeRatioForm=new p.NI({}),this.factorsActions=[],this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.isSendingCalculation=!1,this.subscriptions=new x.xf,this.removeWorkLogFromListHandler={next:Ie=>{this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(it=>it.workLogId!==Ie.workLogId)}},this.addWorkLogToListHandler={next:Ie=>{this.uncalculatedWorkLogs.unshift(Ie)}},this.sendingCalculationHandlers={next:()=>{this.isSendingCalculation=!1,this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.resetCalculation(),this.selectedWorkLog&&(this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(Ie=>{var it;return Ie.workLogId!==(null===(it=this.selectedWorkLog)||void 0===it?void 0:it.workLogId)}),this.uncalculatedWorkLogs.length>0&&this.selectWork(this.uncalculatedWorkLogs[0]))},error:()=>{this.isSendingCalculation=!1}},this.worksPickerForm=new p.NI(null),this.worksPickerForm$=this.worksPickerForm.valueChanges.pipe((0,an.d)(1)),this.workLogId$=this.route.queryParams.pipe((0,ft.U)(Ie=>Ie.workLogId)),this.selectedWorkLog$=this.workLogId$.pipe((0,F.w)(Ie=>Ie?this.api.getWorkLog(Ie,!0):(0,Tn.of)(void 0))),this.setupFormValues$=this.selectedWorkLog$.pipe((0,F.w)(Ie=>Ie?this.api.getAlreadyCalculatedWorkForm(null==Ie?void 0:Ie.workLogId):(0,Tn.of)(null))),this.recalculate$=this.setupFormValues$.pipe((0,ft.U)(Ie=>Ie?"RECALCULATE":"CALCULATE")),this.paidWorkForm=new p.cw({isPaidWork:new p.NI(!1),amountOfMoneyTaken:new p.NI(null,[p.kI.min(0),p.kI.required])})}get totalCostOfWork(){return this.actionsTaken.reduce((t,o)=>t+o.cost,0)}trackByField(t,o){return o.name+o.textRepresentation+o.modelItemId}trackByEmployee(t,o){return o.login+o.fullName+o.avatar}trackByWorkLog(t,o){return o.workLogId}getUncompletedMessage(t){const o=t.workReports.filter(r=>r.awaitingWriting);return o.length>0?`\u041d\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u043e\u0442\u0447\u0435\u0442\u044b: ${o.map(r=>r.author.fullName).join(", ")}`:""}ngOnInit(){this.loadUncalculatedWorkLogs(),this.subscriptions.addSubscription("wp",this.worksPickerForm.valueChanges.subscribe(t=>{var o;!t||(this.actionsTaken=t.actionsTaken,this.factorsActions=null!==(o=t.factorsActions)&&void 0!==o?o:[])})),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().subscribe(()=>this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?Ce.Gu.READY:Ce.Gu.EMPTY},error:t=>{this.loadingState=Ce.Gu.ERROR}}))),this.subscriptions.addSubscription("chQue",this.selectedWorkLog$.subscribe(t=>this.selectedWorkLog=t)),this.subscriptions.addSubscription("setupForm",this.setupFormValues$.subscribe(t=>{var o,r;t?(this.worksPickerForm.setValue({actionsTaken:t.actions,factorsActions:t.factorsActions}),this.employeeRatioForm.setValue(t.employeesRatio),this.paidWorkForm.setValue({isPaidWork:null!==(o=t.isPaidWork)&&void 0!==o&&o,amountOfMoneyTaken:null!==(r=t.amountOfMoneyTaken)&&void 0!==r?r:null})):(this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadUncalculatedWorkLogs(){this.loadingState=Ce.Gu.LOADING,this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?Ce.Gu.READY:Ce.Gu.EMPTY},error:t=>{this.loadingState=Ce.Gu.ERROR}}),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().pipe((0,s.h)(t=>t.calculated)).subscribe(this.removeWorkLogFromListHandler)),this.subscriptions.addSubscription("wlCr",this.rt.workLogClosed().pipe((0,s.h)(t=>!t.calculated)).subscribe(this.addWorkLogToListHandler))}selectWork(t){this.router.navigate(["."],{relativeTo:this.route,queryParams:{workLogId:t.workLogId}}).then()}unselectWork(){this.nav.backOrDefault(["/salary","estimation"]),this.resetCalculation()}resetCalculation(){this.worksPickerForm.reset(),this.employeeRatioForm.reset()}sendCalculation(){if(this.paidWorkForm.markAllAsTouched(),!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid){if(0===this.actionsTaken.length)return void(this.emptyCalculationConformationDialogVisible=!0);this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442?",accept:()=>{!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(o=>o).map(o=>({factor:o.factor,name:o.name,actionUuids:o.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}})}}openRecalculationConformationDialog(){this.recalculationConformationDialogVisible=!0}sendRecalculation(){this.paidWorkForm.markAllAsTouched(),(!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid)&&(!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),emptyDescription:0===this.actionsTaken.length?this.recalculationDescription:null,editingDescription:this.recalculationDescription,spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(o=>o).map(o=>({factor:o.factor,name:o.name,actionUuids:o.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers)))}sendEmptyCalculation(){this.paidWorkForm.value.isPaidWork&&this.paidWorkForm.invalid||!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,emptyDescription:this.emptyCalculationDescription,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(o=>o).map(o=>({factor:o.factor,name:o.name,actionUuids:o.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}getFactorsActions(t){return this.factorsActions.filter(o=>o.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(o=>o.uuid!==t)}hasWorkActionRatio(t){return this.factorsActions.find(o=>o.login===t)}onRemoveFactorAction(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(N.YP),e.Y36(me.U),e.Y36(d.F0),e.Y36(d.gz),e.Y36(Ct.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([N.Y])],decls:12,vars:19,consts:[[1,"flex","flex-column","flex-grow-1"],[4,"ngIf"],["uncalculatedListTemp",""],["selectedWorkTemp",""],["header","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0430\u0441\u0447\u0435\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],[4,"ngTemplateOutlet"],[1,"flexed","column","gap15","stretched","p20"],[1,"flex","gap-3","align-items-center","align-self-end"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","class","touched-error","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],[1,"flexed","gap10","hcenter","spbtw"],[1,"caption","size-huge"],["icon","mdi-equalizer","label","\u0420\u0430\u0432\u043d\u044b\u0435 \u0434\u043e\u043b\u0438","styleClass","p-button-text p-button-secondary",3,"onClick"],[3,"actionPicker","employees","formControl","onRemoveFactorAction"],["sumDistr",""],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",1,"touched-error"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],[1,"flex","align-items-center","px-5","py-4","border-bottom-1","border-bluegray-100"],[1,"text-2xl","text-bluegray-500","font-semibold"],["dataKey","workLogId",3,"value","loading"],["pTemplate","header"],["pTemplate","body"],["tooltipPosition","bottom",3,"pTooltip","ngClass","click"],[3,"task"],[3,"employee"],[1,"flex","flex-wrap","gap-2"],[3,"employee",4,"ngFor","ngForOf"],[1,"flex","align-items-center","px-5","py-4","gap-3","border-bottom-1","border-bluegray-100"],["icon","mdi-arrow_back","styleClass","p-button-text p-button-icon",3,"disabled","onClick"],["class","caption f-color-danger wt-bold size-big",4,"ngIf"],[1,"flexed","column","p-sides-20","gap10"],[3,"task","isTaskBody"],[1,"flexed","column","gap3"],["class","caption f-color-700 size-big with-icon",4,"ngIf"],["class","flexed column p-sides-20",4,"ngIf"],[1,"caption","f-color-700","size-big","with-icon"],[1,"mdi-feed"],[1,"caption","prewrap","p-sides-20"],[1,"flex","flex-column","gap-2"],["label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u043b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432","styleClass","translate-x-0"],["label","\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","styleClass","translate-x-0"],[3,"short","ms"],[1,"terminator-bottom"],[1,"mb-4",3,"employees","formControl"],[1,"caption","f-color-danger","wt-bold","size-big"],[1,"mdi-radar"],[1,"flexed","column","p-sides-20"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"disabled","loading","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ox,2,1,"ng-container",1),e.YNc(2,C_,2,1,"ng-container",1),e.YNc(3,ax,12,8,"ng-container",1),e.qZA(),e.YNc(4,Sc,6,2,"ng-template",null,2,e.W1O),e.YNc(6,cx,24,14,"ng-template",null,3,e.W1O),e.TgZ(8,"p-dialog",4),e.NdJ("visibleChange",function(g){return o.emptyCalculationConformationDialogVisible=g}),e.YNc(9,XI,8,6,"ng-template",5),e.qZA(),e.TgZ(10,"p-dialog",6),e.NdJ("visibleChange",function(g){return o.recalculationConformationDialogVisible=g}),e.YNc(11,ux,8,6,"ng-template",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",o.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",o.selectedWorkLog),e.xp6(5),e.Akn(e.DdM(17,D1)),e.Q6J("visible",o.emptyCalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(18,D1)),e.Q6J("visible",o.recalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},styles:["[_nghost-%COMP%]{flex-grow:1}.table-wrapper[_ngcontent-%COMP%]{border:1px solid var(--bgc-300);border-radius:var(--br-200);overflow:hidden}"]}),n})();var dx=C(262);let O1=(()=>{class n{constructor(t){this.api=t,this.users=[],this.page=[],this.first=0,this.PAGE_SIZE=10,this.userLoadingState=Ce.Gu.EMPTY,this.filtrationForm=new p.cw({mode:new p.NI("address"),query:new p.NI(""),isActive:new p.NI(!0)}),this.changeUsersSubject=new pr.x,this.changeUsers$=this.changeUsersSubject.asObservable(),this.enterSearch=new pr.x,this.enterDown$=this.enterSearch.pipe((0,Ri.O)(!0)),this.modeChange$=this.filtrationForm.controls.mode.valueChanges.pipe((0,Ri.O)("address")),this.activeChange$=this.filtrationForm.controls.isActive.valueChanges.pipe((0,Ri.O)(!1)),this.enterSearch$=(0,Po.a)([this.enterDown$,this.modeChange$,this.activeChange$]).pipe((0,No.b)(100),(0,ft.U)(()=>this.filtrationForm.value),(0,ft.U)(o=>(o.query&&(o.query=o.query.trim()),o))),this.users$=this.enterSearch$.pipe((0,En.b)(o=>{this.userLoadingState=Ce.Gu.LOADING}),(0,F.w)(o=>{if(!o.query)return(0,Tn.of)([]);switch(o.mode){case"login":return this.api.getBillingUsersByLogin(o.query,!o.isActive);case"fio":return this.api.getBillingUsersByFio(o.query,!o.isActive);case"address":return this.api.getBillingUsersByAddress(o.query,!o.isActive)}return(0,Tn.of)([])}),(0,dx.K)((o,r)=>(this.userLoadingState=Ce.Gu.ERROR,this.users=[],(0,Tn.of)([])))),this.usersHandler={next:o=>{this.userLoadingState=o&&0!==o.length?Ce.Gu.READY:Ce.Gu.EMPTY,this.users=o&&0!==o.length?o.sort((r,g)=>r.addr<g.addr?-1:r.addr>g.addr?1:0):[],this.first=1,this.page=this.users.slice(0,this.PAGE_SIZE)}},this.users$.subscribe(o=>this.changeUsersSubject.next(o)),this.changeUsers$.subscribe(this.usersHandler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eT(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0424\u0418\u041e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0430\u0440\u0438\u0444"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA()())}function P1(n,i){1&n&&e._UZ(0,"app-colored-tag",20)}const px=function(n){return["/clients","billing","user",n]};function L1(n,i){if(1&n&&(e.TgZ(0,"tr",17)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-colored-tag",18),e.YNc(13,P1,1,0,"app-colored-tag",19),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("routerLink",e.VKq(10,px,t.uname)),e.xp6(2),e.Oqu(t.uname),e.xp6(2),e.Oqu(t.addr),e.xp6(2),e.Oqu(t.fio),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.tarif?t.tarif:"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"),e.xp6(2),e.Q6J("caption",t.stateName)("color",t.stateColor),e.xp6(1),e.Q6J("ngIf","11"===t.utype),e.xp6(2),e.Oqu(t.coment)}}let hx=(()=>{class n{constructor(t){this.busService=t,this.filterModeItems=[{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"},{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"}]}ngOnInit(){}pageChange(t){this.busService.first=t.first,this.busService.page=this.busService.users.slice(t.first,t.first+t.rows)}clearSearchQuery(){this.busService.filtrationForm.patchValue({query:""})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O1))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:6,consts:[[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","gap-3","p-4","border-bottom-1","border-bluegray-100"],[1,"text-bluegray-500","text-3xl"],[1,"flex","flex-column","gap-1",3,"formGroup"],[1,"flex","gap-3","align-items-end"],[1,"input-label-wrapper"],["formControlName","mode",3,"options"],["formControlName","isActive","offLabel","\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435","onLabel","\u0412\u0441\u0435"],[1,"input-label-wrapper","stretched"],[1,"p-inputgroup"],["formControlName","query","pInputText","","type","text",3,"appPreventInput","keydown.enter","focus"],["mainInput",""],["icon","mdi-search","pButton","","pRipple","","type","button",3,"click"],["icon","mdi-cancel","label","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-outlined p-button-secondary",3,"disabled","onClick"],["dataKey","id",3,"loading","value"],["pTemplate","header"],["pTemplate","body"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"routerLink"],[3,"caption","color"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)",4,"ngIf"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u041f\u043e\u0438\u0441\u043a \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"label"),e._uU(8,"\u0420\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430"),e.qZA(),e._UZ(9,"p-selectButton",6),e.qZA(),e._UZ(10,"p-toggleButton",7),e.TgZ(11,"div",8)(12,"label"),e._uU(13,"\u0417\u0430\u043f\u0440\u043e\u0441"),e.qZA(),e.TgZ(14,"div",9)(15,"input",10,11),e.NdJ("keydown.enter",function(){return o.busService.enterSearch.next(!0)})("focus",function(){e.CHM(r);const E=e.MAs(16);return e.KtG(E.select())}),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return o.busService.enterSearch.next(!0)}),e.qZA()()(),e.TgZ(18,"p-button",13),e.NdJ("onClick",function(){return o.clearSearchQuery()}),e.qZA()()()(),e.TgZ(19,"p-table",14),e.YNc(20,eT,15,0,"ng-template",15),e.YNc(21,L1,16,12,"ng-template",16),e.qZA()()}2&t&&(e.xp6(4),e.Q6J("formGroup",o.busService.filtrationForm),e.xp6(5),e.Q6J("options",o.filterModeItems),e.xp6(6),e.Q6J("appPreventInput","LOADING"===o.busService.userLoadingState),e.xp6(3),e.Q6J("disabled","LOADING"===o.busService.userLoadingState),e.xp6(1),e.Q6J("loading","LOADING"===o.busService.userLoadingState)("value",o.busService.users))},styles:["[_nghost-%COMP%]{flex-grow:1}.subscriber-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:.5rem;padding:1rem;cursor:pointer;transition:background-color .1s ease-in-out,color .1s ease-in-out}.subscriber-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}.subscriber-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:var(--mc-500)}"],data:{animation:[u.S9]}}),n})();var ma=C(1135),Vh=C(6768);function R1(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",49),e._UZ(2,"p-progressSpinner",50),e.qZA(),e.BQk())}function N1(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",49)(2,"div",51),e._UZ(3,"span",52),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function F1(n,i){1&n&&e.GkF(0)}function B1(n,i){if(1&n&&(e.ynx(0),e.YNc(1,F1,1,0,"ng-container",53),e.BQk()),2&n){e.oxw();const t=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function vf(n,i){1&n&&e.GkF(0)}function bf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",74),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.update$.next(r.currentLogin))}),e.qZA()}}function Z1(n,i){1&n&&e.GkF(0)}function gx(n,i){1&n&&e.GkF(0)}function U1(n,i){1&n&&e.GkF(0)}function H1(n,i){1&n&&e.GkF(0)}function fx(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,t.state.date,"dd MMMM yyyy")))}}function mx(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),e.qZA())}function tT(n,i){if(1&n&&(e.TgZ(0,"div",75),e.YNc(1,fx,4,6,"span",35),e.YNc(2,mx,2,0,"span",35),e.qZA()),2&n){const t=i.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!o.isToday(t.state.date)),e.xp6(1),e.Q6J("ngIf",o.isToday(t.state.date))}}function nT(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("-",e.xi3(2,1,t.state.startTime,"HH:mm"),"")}}function V1(n,i){1&n&&e._UZ(0,"span",79)}function _x(n,i){if(1&n&&(e.TgZ(0,"span",80),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Udp("color",t.state.color),e.xp6(1),e.Oqu(t.state.numbers)}}function Cx(n,i){if(1&n&&(e.TgZ(0,"div",76)(1,"span")(2,"span"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,nT,3,4,"span",35),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,V1,1,0,"span",77),e.YNc(9,_x,2,3,"span",78),e.qZA()),2&n){const t=i.$implicit;e.Udp("background-color",t.state.color),e.xp6(3),e.Oqu(e.xi3(4,7,t.state.endTime,"HH:mm")),e.xp6(2),e.Q6J("ngIf",t.state.startTime!==t.state.endTime),e.xp6(2),e.Oqu(t.state.description),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1)}}function vx(n,i){1&n&&(e.TgZ(0,"div",81)(1,"span"),e._uU(2,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),e.qZA()())}function iT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",82),e.NdJ("onClick",function(r){e.CHM(t),e.oxw(2);const g=e.MAs(74);return e.KtG(g.toggle(r))}),e.qZA()}}function oT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",83),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openPaymentDialog())}),e.qZA()}}function sT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",84),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openRecalculationDialog())}),e.qZA()}}function rT(n,i){if(1&n&&(e.TgZ(0,"span",85),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.Udp("letter-spacing","2px"),e.xp6(1),e.hij(" \u041a\u0440\u0435\u0434\u0438\u0442: ",e.xi3(2,3,t.creditAmount,"RUB")," ")}}function aT(n,i){if(1&n&&(e.TgZ(0,"span",93),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u0437\u0430\u0434\u0430\u0447\u0430","\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447")," ")}}function bx(n,i){if(1&n&&e._UZ(0,"app-task-list-element",97),2&n){const t=i.$implicit;e.Q6J("inlined",!0)("item",t)}}function yf(n,i){if(1&n&&(e.TgZ(0,"div",94)(1,"div",95),e.YNc(2,bx,1,2,"app-task-list-element",96),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Udp("max-height","30rem"),e.xp6(1),e.Q6J("ngForOf",t.value)}}function yx(n,i){1&n&&(e.TgZ(0,"div",98),e._UZ(1,"p-progressSpinner",50),e.qZA()),2&n&&e.Udp("height","30rem")}function xx(n,i){1&n&&(e.TgZ(0,"div",99)(1,"div",100),e._UZ(2,"span",101),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()())}function z1(n,i){1&n&&(e.TgZ(0,"div",99)(1,"div",102),e._UZ(2,"span",52),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function Pd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",103),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw(3);return e.KtG(g.changeTaskHistoryPage.next(r.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.Q6J("first",5*t.pageNumber)("rows",5)("totalRecords",t.totalElements)}}function J1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0)(2,"div",86),e._UZ(3,"span",87),e.TgZ(4,"span",79),e._uU(5,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(6,aT,3,7,"span",88),e.qZA(),e.ynx(7,1),e.YNc(8,yf,3,3,"div",89),e.YNc(9,yx,2,2,"div",90),e.YNc(10,xx,5,0,"div",91),e.YNc(11,z1,5,0,"div",91),e.BQk(),e.YNc(12,Pd,1,3,"p-paginator",92),e.qZA(),e.BQk()),2&n){const t=i.ngIf;e.xp6(6),e.Q6J("ngIf",t.totalElements>0),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState)}}const zh=function(){return{"max-height":"250px"}},b_=function(n,i){return{"f-color-primary":n,"f-color-danger":i}};function Ix(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",54)(2,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.customNav.backOrDefault(["/clients","billing","search"]))}),e.qZA(),e.TgZ(3,"span",56),e._UZ(4,"span",57),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.YNc(7,vf,1,0,"ng-container",53),e._UZ(8,"div",58),e.TgZ(9,"span",59),e._uU(10,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e "),e._UZ(11,"app-time-elapsed",60),e._uU(12," \u043d\u0430\u0437\u0430\u0434"),e.qZA(),e.YNc(13,bf,1,0,"p-button",61),e.qZA(),e.TgZ(14,"div",62)(15,"div",63),e.YNc(16,Z1,1,0,"ng-container",53),e.YNc(17,gx,1,0,"ng-container",53),e.YNc(18,U1,1,0,"ng-container",53),e.qZA(),e.TgZ(19,"div",0),e.YNc(20,H1,1,0,"ng-container",53),e.TgZ(21,"p-listbox",64),e.NdJ("onClick",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.copyMacAddress(r))})("onScrollDown",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.logsLoad(r.currentLogin))}),e.YNc(22,tT,3,2,"ng-template",65),e.YNc(23,Cx,10,10,"ng-template",45),e.YNc(24,vx,3,0,"ng-template",66),e.qZA()()(),e.TgZ(25,"div",67)(26,"p-button",68),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const g=e.MAs(34);return e.KtG(g.toggle(r))}),e.qZA(),e.YNc(27,iT,1,0,"p-button",69),e.YNc(28,oT,1,0,"p-button",70),e.YNc(29,sT,1,0,"p-button",71),e._UZ(30,"div",58),e.YNc(31,rT,3,6,"span",72),e.TgZ(32,"span",73),e._uU(33),e.ALo(34,"currency"),e.qZA()()(),e.YNc(35,J1,13,7,"ng-container",35),e.ALo(36,"async")}if(2&n){const t=e.oxw(),o=e.MAs(8),r=e.MAs(10),g=e.MAs(12),E=e.MAs(14),W=e.MAs(32);e.xp6(6),e.hij(" ",null==t.userInfo?null:t.userInfo.uname," "),e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(4),e.Q6J("startTime",t.loadingTimestamp),e.xp6(2),e.Q6J("ngIf",t.currentLogin),e.xp6(3),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngTemplateOutlet",g),e.xp6(1),e.Q6J("ngTemplateOutlet",E),e.xp6(2),e.Q6J("ngTemplateOutlet",W),e.xp6(1),e.Q6J("group",!0)("listStyle",e.DdM(25,zh))("options",t.dhcpLogsGroupedList),e.xp6(6),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_CASH)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_RECALCULATION)),e.xp6(2),e.Q6J("ngIf",t.creditAmount),e.xp6(1),e.Udp("letter-spacing","2px"),e.Q6J("ngClass",e.WLB(26,b_,t.moneyAmount>=0,t.moneyAmount<0)),e.xp6(1),e.hij(" \u0411\u0430\u043b\u0430\u043d\u0441: ",e.xi3(34,20,t.moneyAmount,"RUB")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(36,23,t.tasks$))}}function y_(n,i){1&n&&e._UZ(0,"app-colored-tag",107)}function x_(n,i){if(1&n&&(e.TgZ(0,"div",104),e._UZ(1,"app-colored-tag",105),e.YNc(2,y_,1,0,"app-colored-tag",106),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("caption",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusName)("color",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusColor),e.xp6(1),e.Q6J("ngIf",t.hasCredit)}}function xf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",115)(1,"div",116),e._UZ(2,"span",117),e.TgZ(3,"span",118),e._uU(4," \u041b\u043e\u0433\u0438\u043d \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d, \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u041b\u041a \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d "),e.qZA()(),e.TgZ(5,"p-button",119),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.enableLogin())}),e.qZA()()}}function lT(n,i){1&n&&e.GkF(0)}function cT(n,i){1&n&&e.GkF(0)}function uT(n,i){1&n&&e.GkF(0)}function dT(n,i){1&n&&e.GkF(0)}function Q1(n,i){1&n&&e.GkF(0)}const Tx=function(n){return{label:"\u0410\u0434\u0440\u0435\u0441",value:n}},Ax=function(n){return{label:"\u0424\u0418\u041e",value:n}},wx=function(n){return{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:n}},Ex=function(n){return{label:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d",value:n}},G1=function(n){return{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:n}};function W1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",108)(1,"div",109)(2,"span",110),e._uU(3," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(4,"button",111),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openEditUserDialog())}),e.qZA()(),e.TgZ(5,"div",112),e.YNc(6,xf,6,0,"div",113),e.YNc(7,lT,1,0,"ng-container",114),e.YNc(8,cT,1,0,"ng-container",114),e.YNc(9,uT,1,0,"ng-container",114),e.YNc(10,dT,1,0,"ng-container",114),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,Q1,1,0,"ng-container",114),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(16);e.xp6(6),e.Q6J("ngIf",!t.isLoginEnable),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(16,Tx,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.addr)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(18,Ax,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.fio)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(20,wx,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.phone)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(22,Ex,e.lcZ(11,11,e.xi3(12,13,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.ddog,"EEEE dd-MM-yyyy")))),e.xp6(3),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(24,G1,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.coment))}}function Y1(n,i){if(1&n&&(e.TgZ(0,"span",122),e._UZ(1,"span",117),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=i.ngIf;e.xp6(3),e.hij(" ",t," ")}}function Sx(n,i){1&n&&e.GkF(0)}function kx(n,i){1&n&&e.GkF(0)}function j1(n,i){1&n&&e.GkF(0)}function I_(n,i){1&n&&e.GkF(0)}const pT=function(n,i){return{label:"\u0421\u0442\u0430\u0442\u0443\u0441",value:n,valueClass:i}},K1=function(n){return{label:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",value:n}},T_=function(n){return{label:"IP",value:n}},Mx=function(n){return{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0443."}};function hT(n,i){if(1&n&&(e.TgZ(0,"div",124),e.YNc(1,Sx,1,0,"ng-container",114),e.YNc(2,kx,1,0,"ng-container",114),e.YNc(3,j1,1,0,"ng-container",114),e.YNc(4,I_,1,0,"ng-container",114),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()),2&n){const t=e.oxw().ngIf;e.oxw(2);const o=e.MAs(16);let r;e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(13,pT,"ONLINE"===t.onlineStatus?"\u041e\u043d\u043b\u0430\u0439\u043d":"\u041e\u0444\u043b\u0430\u0439\u043d","ONLINE"===t.onlineStatus?"text-green-400":"text-red-400")),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(16,K1,null!==(r=null!==(r=t.dhcpClient)&&void 0!==r?r:""+t.dhcpHostname)&&void 0!==r?r:"")),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(18,T_,t.ipaddr)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(20,Mx,e.lcZ(5,8,e.xi3(6,10,t.leaseStart,"dd-MM-yyyy HH:mm:ss"))))}}function gT(n,i){if(1&n&&(e.ynx(0),e.YNc(1,hT,7,22,"div",123),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t&&t.isAuth)}}function Ox(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",125),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.isAuthDialogVisible=!0)}),e.qZA()}}function Px(n,i){if(1&n&&(e.TgZ(0,"div",108)(1,"span",110),e._uU(2," \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.YNc(3,Y1,4,1,"span",120),e.ALo(4,"async"),e.YNc(5,gT,2,1,"ng-container",35),e.ALo(6,"async"),e.YNc(7,Ox,1,0,"p-button",121),e.ALo(8,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,t.hardwareEmptyMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,t.activeBinding$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(8,7,t.activeBinding$))}}function Lx(n,i){1&n&&e.GkF(0)}function fT(n,i){1&n&&e.GkF(0)}const mT=function(n){return{label:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b",template:n}};function _T(n,i){if(1&n&&(e.ynx(0),e.YNc(1,fT,1,0,"ng-container",114),e.BQk()),2&n){e.oxw(2);const t=e.MAs(18),o=e.MAs(22);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,mT,o))}}function CT(n,i){1&n&&e.GkF(0)}function vT(n,i){1&n&&e.GkF(0)}function Rx(n,i){1&n&&e.GkF(0)}function bT(n,i){1&n&&e.GkF(0)}function yT(n,i){1&n&&e.GkF(0)}const xT=function(n){return{label:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439",template:n}},IT=function(n){return{label:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",value:n}},TT=function(n){return{label:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",template:n}},AT=function(n){return{label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0442\u0430\u0440\u0438\u0444\u0430",value:n}},a=function(n){return[n,"","",!1,!0]},l=function(n){return{label:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437",value:n}},v=function(n){return{label:"\u0418\u0437\u043c. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430. (\u041f\u0440\u0438\u043c. \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u043e\u0442\u043b. \u043f\u043b\u0430\u0442\u0435\u0436)"}};function S(n,i){if(1&n&&(e.TgZ(0,"div",108)(1,"span",110),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u044b "),e.qZA(),e.TgZ(3,"div",124),e.YNc(4,Lx,1,0,"ng-container",114),e.YNc(5,_T,2,4,"ng-container",126),e.YNc(6,CT,1,0,"ng-container",114),e.YNc(7,vT,1,0,"ng-container",114),e.YNc(8,Rx,1,0,"ng-container",114),e.ALo(9,"titlecase"),e.ALo(10,"date"),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,bT,1,0,"ng-container",114),e.ALo(14,"elapsedTime"),e.YNc(15,yT,1,0,"ng-container",114),e.ALo(16,"titlecase"),e.ALo(17,"date"),e.qZA()()),2&n){const t=e.oxw(),o=e.MAs(18),r=e.MAs(20),g=e.MAs(26),E=e.MAs(16),W=e.MAs(30);e.xp6(4),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(35,xT,r)),e.xp6(1),e.Q6J("ngIf",t.services.length>0)("ngIfElse",g),e.xp6(1),e.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",e.VKq(37,IT,t.totalCost+" \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434")),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(39,TT,W)),e.xp6(1),e.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",e.VKq(41,AT,e.lcZ(9,14,e.xi3(10,16,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.hdate,"dd-MM-yyyy HH:mm"))+" \u0434\u043e "+e.lcZ(11,19,e.xi3(12,21,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate,"dd-MM-yyyy HH:mm")))),e.xp6(5),e.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",e.VKq(45,l,e.G7q(14,24,e.VKq(43,a,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate)))),e.xp6(2),e.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",e.VKq(47,v,e.lcZ(16,30,e.xi3(17,32,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.endstate,"dd-MM-yyyy HH:mm"))))}}function B(n,i){if(1&n&&e._UZ(0,"span",131),2&n){const t=e.oxw().help;e.Q6J("pTooltip",t)}}function ae(n,i){if(1&n&&(e.TgZ(0,"span",127)(1,"span",128),e._uU(2),e.qZA(),e.TgZ(3,"span",129),e._uU(4),e.qZA(),e.YNc(5,B,1,1,"span",130),e.qZA()),2&n){const t=i.help,o=i.label,r=i.value,g=i.valueClass;let E;e.xp6(2),e.hij(" ",o,": "),e.xp6(1),e.Q6J("ngClass",g),e.xp6(1),e.hij(" ",null!==(E=r)&&void 0!==E?E:"-"," "),e.xp6(1),e.Q6J("ngIf",t)}}function Se(n,i){1&n&&e.GkF(0)}function He(n,i){if(1&n&&(e.TgZ(0,"span",132)(1,"span",128),e._uU(2),e.qZA(),e.TgZ(3,"span",133),e.YNc(4,Se,1,0,"ng-container",53),e.qZA()()),2&n){const t=i.label,o=i.template;e.xp6(2),e.hij(" ",t,": "),e.xp6(2),e.Q6J("ngTemplateOutlet",o)}}function at(n,i){if(1&n&&(e.TgZ(0,"span",137),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.mainTariff?null:t.mainTariff.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 ")}}function Rt(n,i){1&n&&e.GkF(0)}const Wt=function(){return["text-bluegray-400","hover:text-green-400"]},bn=function(n){return{icon:"mdi-edit",label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",btnClass:n}};function Dn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",138),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw(2),E=e.MAs(66);return e.KtG(g.getTariffList(r,E))}),e.YNc(1,Rt,1,0,"ng-container",114),e.qZA()}if(2&n){e.oxw(2);const t=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,bn,e.DdM(2,Wt)))}}function Wn(n,i){if(1&n&&(e.TgZ(0,"span",134)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,at,2,1,"span",135),e.YNc(4,Dn,2,5,"span",136),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",null!=t.mainTariff&&t.mainTariff.service?null==t.mainTariff?null:t.mainTariff.service:"\u041d\u0435\u0442 \u0442\u0430\u0440\u0438\u0444\u0430"," "),e.xp6(1),e.Q6J("ngIf",null==t.mainTariff?null:t.mainTariff.service),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function ii(n,i){1&n&&e.GkF(0)}const hi=function(n){return{service:n}};function Si(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ii,1,0,"ng-container",114),e.BQk()),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(24);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,hi,t))}}function Bi(n,i){1&n&&e.GkF(0)}function Kn(n,i){if(1&n&&(e.TgZ(0,"div",139),e.YNc(1,Si,2,4,"ng-container",140),e.YNc(2,Bi,1,0,"ng-container",53),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(26);e.xp6(1),e.Q6J("ngForOf",t.services),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function zi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",143),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().service,g=e.oxw();return e.KtG(g.removeService(r.service))}),e.qZA()}}function Ho(n,i){if(1&n&&(e.TgZ(0,"div",141)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",137),e._uU(4),e.qZA(),e.YNc(5,zi,1,0,"div",142),e.qZA()),2&n){const t=i.service,o=e.oxw();e.xp6(2),e.hij(" ",t.service," "),e.xp6(2),e.hij(" ",t.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 "),e.xp6(1),e.Q6J("ngIf",o.personality.isHasAccess(o.AccessFlag.MANAGE_SUBSCRIBERS))}}function js(n,i){1&n&&e.GkF(0)}const Ld=function(n){return{icon:"mdi-add",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441",btnClass:n}};function A_(n,i){if(1&n&&(e.ynx(0),e.YNc(1,js,1,0,"ng-container",114),e.BQk()),2&n){e.oxw(3);const t=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,Ld,e.DdM(2,Wt)))}}function w_(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",138),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw(2),E=e.MAs(70);return e.KtG(g.getServiceList(r,E))}),e.YNc(1,A_,2,5,"ng-container",35),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function E_(n,i){if(1&n&&e.YNc(0,w_,2,1,"span",136),2&n){const t=e.oxw();e.Q6J("ngIf",!(null==t.mainTariff||!t.mainTariff.service))}}function S_(n,i){if(1&n&&(e.TgZ(0,"span",144),e._UZ(1,"span",145),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const o=i.icon,r=i.label;e.Q6J("ngClass",i.btnClass),e.xp6(1),e.Q6J("ngClass",o),e.xp6(2),e.hij(" ",r," ")}}function k_(n,i){if(1&n&&(e.TgZ(0,"div",146)(1,"span")(2,"span"),e._uU(3," \u041f\u043e \u0442\u0430\u0440\u0438\u0444\u0443 "),e.qZA(),e.TgZ(4,"span",137),e._uU(5),e.qZA()(),e.TgZ(6,"span")(7,"span"),e._uU(8," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f "),e.qZA(),e.TgZ(9,"span",137),e._uU(10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.tspeed," \u041c\u0431\u0438\u0442/\u0441 "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.speed," \u041c\u0431\u0438\u0442/\u0441 ")}}function D_(n,i){if(1&n&&e._UZ(0,"app-bindings-table",154),2&n){const t=e.oxw(2).ngIf,o=e.oxw(2);e.Q6J("filterId",t)("inline",!0)("preparedAuthLogin",o.currentLogin)}}function M_(n,i){1&n&&(e.TgZ(0,"p-tabPanel",153),e.YNc(1,D_,1,3,"ng-template",20),e.qZA())}function O_(n,i){if(1&n&&e._UZ(0,"app-commutators-table",156),2&n){const t=e.oxw(2).ngIf;e.Q6J("buildId",t)("inline",!0)}}function P_(n,i){1&n&&(e.TgZ(0,"p-tabPanel",155),e.YNc(1,O_,1,2,"ng-template",20),e.qZA())}function VA(n,i){if(1&n&&(e.ynx(0),e.YNc(1,M_,2,0,"p-tabPanel",151),e.YNc(2,P_,2,0,"p-tabPanel",152),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",t)}}function zA(n,i){if(1&n&&(e.TgZ(0,"div",147)(1,"p-tabView",148)(2,"p-tabPanel",149),e._UZ(3,"app-bindings-table",150),e.ALo(4,"async"),e.qZA(),e.YNc(5,VA,3,2,"ng-container",35),e.ALo(6,"async"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("filterId",e.lcZ(4,4,t.login$))("inline",!0)("preparedAuthLogin",t.currentLogin),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,6,t.activeBuildingId$))}}function JA(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"VLAN"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"\u0421\u043c\u0435\u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f"),e.qZA()(),e.TgZ(17,"tr",165)(18,"th"),e._UZ(19,"input",166),e.qZA(),e.TgZ(20,"th"),e._UZ(21,"input",167),e.qZA(),e._UZ(22,"th")(23,"th"),e.TgZ(24,"th"),e._UZ(25,"app-acp-house-input",168),e.qZA(),e.TgZ(26,"th"),e._UZ(27,"app-ip-input",169),e.qZA(),e.TgZ(28,"th"),e._UZ(29,"p-inputNumber",170),e.qZA(),e._UZ(30,"th"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(17),e.Q6J("formGroup",t.lastBindingsFilterForm),e.xp6(2),e.Q6J("size",14),e.xp6(2),e.Q6J("size",8),e.xp6(8),e.Q6J("max",4096)("size",4)}}function QA(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function GA(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function WA(n,i){1&n&&(e.TgZ(0,"span",176),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function YA(n,i){1&n&&(e.TgZ(0,"span",177),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function jA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",171),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(3);return e.KtG(E.authConfirm(g))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",172),e.YNc(7,QA,2,1,"ng-container",35),e.YNc(8,GA,2,1,"ng-container",35),e.qZA()(),e.TgZ(9,"td"),e.ynx(10,1),e.YNc(11,WA,2,0,"span",173),e.YNc(12,YA,2,0,"span",174),e.BQk(),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._UZ(20,"app-time-elapsed",175),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.macaddr),e.xp6(2),e.Oqu(t.authName),e.xp6(2),e.Udp("max-width","7rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(2),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr),e.xp6(2),e.Oqu(t.vlanid),e.xp6(2),e.Q6J("startTime",t.leaseStart)}}function KA(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",157)(2,"div",158),e._uU(3),e.ALo(4,"decline"),e.qZA(),e._UZ(5,"p-toggleButton",159),e.TgZ(6,"p-button",160),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.lastBindingsFilterForm.reset({state:!0}))}),e.qZA()(),e.TgZ(7,"p-table",161),e.YNc(8,JA,31,5,"ng-template",162),e.YNc(9,jA,21,14,"ng-template",163),e.qZA(),e.TgZ(10,"p-paginator",164),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.changeLastBindingsPage.next(r.page))}),e.qZA(),e.BQk()}if(2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("formGroup",o.lastBindingsFilterForm),e.xp6(2),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(4,10,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," "),e.xp6(2),e.Q6J("disabled",o.isLoadingLastBindings),e.xp6(2),e.Q6J("loading",o.isLoadingLastBindings)("scrollable",!0)("value",t.content),e.xp6(3),e.Q6J("first",15*t.number)("rows",15)("totalRecords",t.totalElements)}}function $A(n,i){if(1&n&&(e.YNc(0,KA,11,15,"ng-container",126),e.ALo(1,"async")),2&n){const t=e.oxw(),o=e.MAs(64);e.Q6J("ngIf",e.lcZ(1,2,t.lastBindingsPage$))("ngIfElse",o)}}const qA=function(){return{width:"20rem",height:"20rem"}};function XA(n,i){1&n&&(e.TgZ(0,"div",179),e._UZ(1,"p-progressSpinner",180),e.qZA()),2&n&&e.Akn(e.DdM(2,qA))}function ew(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306"),e.qZA()())}function tw(n,i){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u041f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}function nw(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.Udp("color",t.ptypeColor),e.xp6(1),e.Oqu(t.ptypeName),e.xp6(2),e.Oqu(e.xi3(5,7,t.bmoney,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,10,e.xi3(9,12,t.pdate,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(t.who),e.xp6(2),e.Oqu(t.cmt)}}function iw(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA()())}function ow(n,i){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0421\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}const sw=function(n,i){return{"text-green-400":n,"text-red-400":i}};function rw(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td",186),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.Udp("color",t.eventColor),e.xp6(1),e.Oqu(t.eventName),e.xp6(2),e.Oqu(e.lcZ(5,8,e.xi3(6,10,t.evTimeStamp,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(3),e.Q6J("ngClass",e.WLB(16,sw,t.moneyDirection>0,t.moneyDirection<0)),e.xp6(1),e.Oqu(e.xi3(9,13,t.money,"RUB")),e.xp6(3),e.Oqu(t.info),e.xp6(2),e.Oqu(t.coment)}}function aw(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0430\u0440\u0438\u0444"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041d\u0430\u0447\u0430\u043b\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435"),e.qZA()())}function lw(n,i){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",4))}function cw(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.service),e.xp6(2),e.Oqu(e.xi3(5,4,t.price,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,7,e.xi3(9,9,t.hdate,"dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(12,12,e.xi3(13,14,t.edate,"dd MMMM yyyy HH:mm")))}}const $1=function(){return[]};function uw(n,i){if(1&n&&(e.TgZ(0,"p-tabView")(1,"p-tabPanel",181)(2,"p-table",182),e.YNc(3,ew,11,0,"ng-template",162),e.YNc(4,tw,3,1,"ng-template",183),e.YNc(5,nw,14,15,"ng-template",163),e.qZA()(),e.TgZ(6,"p-tabPanel",184)(7,"p-table",182),e.YNc(8,iw,11,0,"ng-template",162),e.YNc(9,ow,3,1,"ng-template",183),e.YNc(10,rw,14,19,"ng-template",163),e.qZA()(),e.TgZ(11,"p-tabPanel",185)(12,"p-table",182),e.YNc(13,aw,9,0,"ng-template",162),e.YNc(14,lw,3,1,"ng-template",183),e.YNc(15,cw,14,17,"ng-template",163),e.qZA()()()),2&n){const t=e.oxw(2);let o,r,g;e.xp6(2),e.Q6J("scrollable",!0)("value",null!==(o=null==t.userEvents?null:t.userEvents.pays)&&void 0!==o?o:e.DdM(6,$1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(r=null==t.userEvents?null:t.userEvents.events)&&void 0!==r?r:e.DdM(7,$1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(g=null==t.userEvents?null:t.userEvents.tarifs)&&void 0!==g?g:e.DdM(8,$1))}}function dw(n,i){if(1&n&&(e.YNc(0,XA,2,3,"div",178),e.YNc(1,uw,16,9,"p-tabView",35)),2&n){const t=e.oxw();e.Q6J("ngIf","LOADING"===t.userEventsLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===t.userEventsLoadingState)}}const pw=function(n,i,t){return{gridArea:n,backgroundColor:i,border:t}};function hw(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"div",189),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.ALo(4,"titlecase"),e.ALo(5,"date"),e.BQk()),2&n){const t=i.$implicit,o=e.oxw().index;e.xp6(1),e.Akn(e.kEZ(13,pw,o+1+"/"+(t.percentStart+2)+"/"+(o+2)+"/"+(t.percentEnd+2),t.color,"1px solid "+t.borderColor)),e.Q6J("pTooltip","\u041d\u0430\u0447\u0430\u043b\u043e: "+e.lcZ(2,3,e.xi3(3,5,t.timeStart,"EEEE dd MMMM yyyy HH:mm"))+" \u041a\u043e\u043d\u0435\u0446: "+e.lcZ(4,8,e.xi3(5,10,t.timeEnd,"EEEE dd MMMM yyyy HH:mm")))}}const gw=function(n){return{gridArea:n}};function fw(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",188),e._uU(2),e.qZA(),e.YNc(3,hw,6,17,"ng-container",140),e.BQk()),2&n){const t=i.$implicit,o=i.index,r=e.oxw(2).ngIf;e.xp6(1),e.Akn(e.VKq(4,gw,o+1+"/1/"+(o+2)+"/2")),e.xp6(1),e.Oqu(t.key),e.xp6(1),e.Q6J("ngForOf",r.nclItems[t.key])}}const mw=function(){return{gridArea:"-1/2/-1/-1"}};function _w(n,i){if(1&n&&(e.ynx(0),e.YNc(1,fw,4,6,"ng-container",140),e.ALo(2,"keyvalue"),e.TgZ(3,"div",187)(4,"span"),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"titlecase"),e.ALo(11,"date"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,5,t.nclItems)),e.xp6(2),e.Akn(e.DdM(17,mw)),e.xp6(2),e.Oqu(e.lcZ(6,7,e.xi3(7,9,t.from,"EEEE dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(10,12,e.xi3(11,14,t.to,"EEEE dd MMMM yyyy HH:mm")))}}const Nx=function(){return{gridAreaColumn:"1/-1"}};function Cw(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",190),e._UZ(2,"p-progressSpinner",180),e.TgZ(3,"span",191),e._uU(4,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Nx)))}function vw(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",192),e._UZ(2,"span",52),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Nx)))}function bw(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",193),e._UZ(2,"span",194),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Nx)))}function yw(n,i){if(1&n&&(e.ynx(0)(1,1),e.YNc(2,_w,12,18,"ng-container",2),e.YNc(3,Cw,5,3,"ng-container",2),e.YNc(4,vw,5,3,"ng-container",2),e.YNc(5,bw,5,3,"ng-container",2),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.nclHistoryLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function xw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",195)(1,"form",22),e._UZ(2,"p-dropdown",196),e.ALo(3,"async"),e._UZ(4,"p-inputNumber",197)(5,"textarea",198),e.qZA(),e.TgZ(6,"p-button",199),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendBalance())}),e.qZA()()}if(2&n){const t=e.oxw();let o;e.xp6(1),e.Q6J("formGroup",t.balanceForm),e.xp6(1),e.Q6J("options",null!==(o=e.lcZ(3,6,t.billingPaymentTypes$))&&void 0!==o?o:e.DdM(8,$1)),e.xp6(3),e.Q6J("autoResize",!0)("cols",40)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceForm.valid)}}function Iw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",195),e._UZ(1,"textarea",200),e.TgZ(2,"p-button",201),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendBalanceReset())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("autoResize",!0)("cols",40)("formControl",t.balanceResetCommentControl)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceResetCommentControl.valid)}}function Tw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",202),e._UZ(1,"p-selectButton",203)(2,"input",204),e.qZA(),e._UZ(3,"textarea",198),e.TgZ(4,"p-button",205),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendPayment())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.paymentModeOptions),e.xp6(1),e.Q6J("size",10),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.paymentForm.valid)}}function Aw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",202),e._UZ(1,"p-selectButton",206)(2,"input",207),e.qZA(),e._UZ(3,"textarea",198),e.TgZ(4,"p-button",208),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendRecalculation())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.recalculationModeOptions),e.xp6(1),e.Q6J("placeholder","DAYS"===t.recalculationForm.value.mode?"\u041a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439":"\u041a\u043e\u043b-\u0432\u043e \u0440\u0443\u0431\u043b\u0435\u0439")("size",12),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.recalculationForm.valid)}}function ww(n,i){1&n&&(e.TgZ(0,"div",99),e._UZ(1,"p-progressSpinner",209),e.qZA())}function Ew(n,i){if(1&n&&(e.TgZ(0,"div",210)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}function Sw(n,i){if(1&n&&(e.TgZ(0,"div",210)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}const kw=function(){return{width:"90rem"}},Dw=function(){return{display:"grid",alignItems:"center"}};let Zp=class{constructor(i,t,o,r,g,E,W,Ie,it){this.api=i,this.rt=t,this.route=o,this.customNav=r,this.taskCreation=g,this.toast=E,this.confirm=W,this.blockUiService=Ie,this.personality=it,this.AccessFlag=Li.j,this.loadingState=Ce.Gu.LOADING,this.loadingTimestamp=new Date,this.update$=new pr.x,this.subscriptions=new x.xf,this.userInfoHandler={next:nt=>{this.userInfo=void 0,setTimeout(()=>{this.userInfo=nt,this.initControlMenuItems(),this.loadingTimestamp=new Date}),this.loadingState=Ce.Gu.READY},error:()=>{this.userInfo=void 0,this.loadingState=Ce.Gu.ERROR}},this.wireframes=[],this.houseBindingsPage=new ma.X(0),this.houseBindingsPage$=this.houseBindingsPage.pipe((0,Ri.O)(0),(0,an.d)(1)),this.houseBindingsLoadingState=Ce.Gu.LOADING,this.changeTaskHistoryPage=new ma.X(0),this.bindingContextMenuItems=[],this.isLoadingLastBindings=!0,this.isAuthDialogVisible=!1,this.openAuthDialog=new pr.x,this.changeLastBindingsPage=new ma.X(0),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,En.b)(()=>this.isLoadingLastBindings=!0),(0,an.d)(1)),this.openAuthDialog$=this.openAuthDialog.pipe((0,En.b)(()=>{this.isAuthDialogVisible=!0,this.isLoadingLastBindings=!0})),this.lastBindingsFilterForm=new p.cw({state:new p.NI(!0),macaddr:new p.NI(null),login:new p.NI(null),ip:new p.NI(null),vlan:new p.NI(null),buildingId:new p.NI(null)}),this.lastBindingsFilter$=this.lastBindingsFilterForm.valueChanges.pipe((0,Ri.O)(this.lastBindingsFilterForm.value),(0,No.b)(1e3),(0,En.b)(()=>this.isLoadingLastBindings=!0),(0,ft.U)(nt=>({state:nt.state?1:0,macaddr:nt.macaddr,login:nt.login,ip:nt.ip,vlan:nt.vlan,buildingId:nt.buildingId&&nt.buildingId.buildingId})),(0,an.d)(1)),this.lastBindingsPage$=(0,Po.a)([this.openAuthDialog$,this.changeLastBindingsPage$,this.lastBindingsFilter$]).pipe((0,F.w)(([nt,Kt,{state:Yt,macaddr:Qt,vlan:_n,login:Ln,ip:Bn,buildingId:jn}])=>this.api.getLastBindings(Kt,Yt,Qt,Ln,Bn,_n,jn)),(0,En.b)(()=>this.isLoadingLastBindings=!1),(0,an.d)(1)),this.isHistoryDialogVisible=!1,this.isNCLHistoryDialogVisible=!1,this.userEventsLoadingState=Ce.Gu.LOADING,this.billingPaymentTypes$=this.api.getBillingPaymentTypesList(),this.isBalanceDialogVisible=!1,this.isBalanceResetDialogVisible=!1,this.isPaymentDialogVisible=!1,this.balanceResetCommentControl=new p.NI("",[p.kI.required]),this.paymentModeOptions=[{label:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",value:1,icon:"mdi-money"},{label:"\u041a\u0430\u0440\u0442\u0430",value:25,icon:"mdi-credit_card"}],this.isRecalculationDialogVisible=!1,this.recalculationModeOptions=[{label:"\u0412 \u0434\u043d\u044f\u0445",value:"DAYS",icon:"mdi-today"},{label:"\u0412 \u0440\u0443\u0431\u043b\u044f\u0445",value:"MONEY",icon:"mdi-money"}],this.recalculationForm=new p.cw({mode:new p.NI("DAYS",[p.kI.required]),count:new p.NI(null,[p.kI.required]),comment:new p.NI(null,[p.kI.required])}),this.balanceForm=new p.cw({payType:new p.NI(null,[p.kI.required]),sum:new p.NI(null,[p.kI.required]),comment:new p.NI(null,[p.kI.required])}),this.paymentForm=new p.cw({paymentType:new p.NI(1,[p.kI.required]),sum:new p.NI(null,[p.kI.required]),comment:new p.NI(null,[p.kI.required])}),this.controlMenuItems=[],this.pathChange$=this.route.params.pipe((0,En.b)(nt=>{this.currentLogin=nt.login}),(0,ft.U)(nt=>nt.login)),this.tasks$=x.aN.ofPage((0,Po.a)([this.pathChange$,this.changeTaskHistoryPage]),this.api.getTasksByLogin.bind(this.api),"taskId",this.rt.taskCreated().pipe((0,s.h)(nt=>{var Kt,Yt;return null!==(Yt=null===(Kt=null==nt?void 0:nt.fields)||void 0===Kt?void 0:Kt.some(Qt=>Qt.stringData===this.currentLogin))&&void 0!==Yt&&Yt})),this.rt.taskUpdated(),this.rt.taskDeleted()),this.login$=(0,Ar.T)(this.pathChange$,this.update$),this.activeBinding$=this.login$.pipe((0,F.w)(nt=>this.api.getActiveBindingByLogin(nt))),this.activeBuildingId$=this.activeBinding$.pipe((0,F.w)(nt=>null!=nt&&nt.vlanid?this.api.getBuildingIdByVlan(null==nt?void 0:nt.vlanid):(0,Tn.of)(null))),this.loadUser$=this.login$.pipe((0,F.w)(nt=>this.api.getBillingUserInfo(nt))),this.updateUser$=this.login$.pipe((0,F.w)(nt=>this.rt.billingUserUpdated(nt))),this.isLoginEnable=!0,this.isLoginEnableSub=(0,Ar.T)(this.loadUser$,this.updateUser$).pipe((0,F.w)(nt=>this.api.isLoginEnable(nt.uname))).subscribe(nt=>this.isLoginEnable=nt),this.loadUserSub=this.loadUser$.subscribe(this.userInfoHandler),this.updateUserSub=this.updateUser$.subscribe(this.userInfoHandler),this.dhcpLogsUpdateSub=this.login$.subscribe(nt=>{this.dhcpLogsPageNum=0,this.dhcpLogsIsLastPage=!1,this.logsLoad(nt)}),this.hardwareEmptyMessage$=this.activeBinding$.pipe((0,ft.U)(nt=>nt?nt.isAuth?null:"\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f":"\u041d\u0435\u0442 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f")),this.nclHistory$=new ma.X(null),this.nclHistoryLoadingState=Ce.Gu.LOADING,this.nclHistoryViewStyle$=this.nclHistory$.pipe((0,ft.U)(nt=>{if(nt)try{const Kt=Object.entries(nt.nclItems).length;return 0===Kt?{display:"grid",alignItems:"center"}:{display:"grid",grid:`repeat(${Kt}, 1.5rem)/max-content repeat(100,1fr)`,alignItems:"center"}}catch(Kt){return{display:"grid",alignItems:"center"}}return{display:"grid",alignItems:"center"}})),this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsPageNum=0,this.dhcpLogsLoadingState=Ce.Gu.READY,this.dhcpLogsIsLastPage=!1,this.tariffList=[],this.serviceList=[],this.selectedServices=[],this.isUserEditDialogVisible=!1,this.userEditForm=new p.cw({address:new p.NI("",[p.kI.required]),fullName:new p.NI("",[p.kI.required]),phone:new p.NI("",[p.kI.required]),comment:new p.NI("")}),this.logsLoadHandler={next:nt=>{this.dhcpLogsLoadingState=Ce.Gu.READY,this.dhcpLogs=0===this.dhcpLogsPageNum?[...nt.logs]:[...this.dhcpLogs,...nt.logs],this.dhcpLogsIsLastPage=nt.isLast,this.dhcpLogsGroupedList=this.dhcpLogs.reduce((Kt,Yt)=>{var Qt;const _n=new Date(Yt.startDatetime).toLocaleDateString(),Ln=Kt.find(Bn=>Bn.label===_n);return Ln?null===(Qt=Ln.items)||void 0===Qt||Qt.push({state:{startTime:Yt.startDatetime,endTime:Yt.endDatetime,color:this.logColor(Yt.type),description:Yt.description,numbers:Yt.numberRepetitions,macAddresses:Yt.macAddresses}}):Kt.push({label:_n,state:{date:Yt.startDatetime},items:[{state:{startTime:Yt.startDatetime,endTime:Yt.endDatetime,color:this.logColor(Yt.type),description:Yt.description,numbers:Yt.numberRepetitions,macAddresses:Yt.macAddresses}}]}),Kt},[]),this.dhcpLogsPageNum++},error:()=>{this.dhcpLogsLoadingState=Ce.Gu.ERROR,this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsIsLastPage=!1}}}get isEndTariffDateAfter(){var i,t,o,r;return(null===(t=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)||void 0===t?void 0:t.edate)&&new Date(null===(r=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===r?void 0:r.edate).getTime()>(new Date).getTime()}get isOnline(){var i,t;return 1===(null===(t=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)||void 0===t?void 0:t.online)}get hasCredit(){var i,t;return(null===(t=null===(i=this.userInfo)||void 0===i?void 0:i.ibase)||void 0===t?void 0:t.credit)&&this.userInfo.ibase.credit>0}get mainTariff(){var i,t;return null!==(i=this.userInfo)&&void 0!==i&&i.oldTarif[0]?null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif[0]:null}get services(){var i,t,o;return(null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif.slice(1):[]}get totalCost(){var i,t;return(null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?this.userInfo.oldTarif.reduce((o,r)=>o+r.price,0):0}get creditAmount(){var i,t,o;return null!==(o=null===(t=null===(i=this.userInfo)||void 0===i?void 0:i.ibase)||void 0===t?void 0:t.credit)&&void 0!==o?o:0}get moneyAmount(){var i,t,o;return null!==(o=null===(t=null===(i=this.userInfo)||void 0===i?void 0:i.ibase)||void 0===t?void 0:t.money)&&void 0!==o?o:0}get paymentTypeName(){switch(this.paymentForm.value.paymentType){case 1:return"\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0445";case 25:return"\u043a\u0430\u0440\u0442\u044b"}return null}get recalculationModeName(){switch(this.recalculationForm.value.mode){case"DAYS":return"\u0432 \u0434\u043d\u044f\u0445";case"MONEY":return"\u0432 \u0440\u0443\u0431\u043b\u044f\u0445"}return null}initControlMenuItems(){var i,t,o,r,g,E,W,Ie;this.controlMenuItems=[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439",icon:"mdi-event_note",command:()=>this.openHistoryDialog()},{label:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439",icon:"mdi-more_time",disabled:!(null!==(t=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)&&void 0!==t&&t.isPossibleEnableDeferredPayment),styleClass:"warning-menu-button",command:()=>this.confirmEnableDeferredPayment()},{label:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",icon:"mdi-account_balance",command:()=>this.openBalanceDialog()},{label:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441",icon:"mdi-exposure_zero",command:()=>this.openBalanceResetDialog()},{label:null!==(r=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)&&void 0!==r&&r.isServiceSuspended?"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435":"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",icon:null!==(E=null===(g=this.userInfo)||void 0===g?void 0:g.newTarif)&&void 0!==E&&E.isServiceSuspended?"mdi-play_arrow":"mdi-pause",styleClass:null!==(Ie=null===(W=this.userInfo)||void 0===W?void 0:W.newTarif)&&void 0!==Ie&&Ie.isServiceSuspended?"success-menu-button":"danger-menu-button",command:()=>this.confirmSuspendService()}]}confirmSuspendService(){var i,t,o;null===(i=this.userInfo)||void 0===i||!i.newTarif||(null!==(o=null===(t=this.userInfo)||void 0===t?void 0:t.newTarif)&&void 0!==o&&o.isServiceSuspended?this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.startUserService(this.currentLogin).subscribe()}):this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.stopUserService(this.currentLogin).subscribe()}))}confirmEnableDeferredPayment(){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),this.api.setDeferredPayment(this.currentLogin).subscribe({next:()=>this.unblock(),error:()=>this.unblock()}))}})}trackByDhcpBinding(i,t){var o;return t.vlanid+t.ipaddr+t.state+t.id+t.isAuth+t.authName+t.authExpire+(null===(o=t.lastConnectionLocation)||void 0===o?void 0:o.checkedAt)}ngOnInit(){this.api.getWireframesNames().subscribe(i=>{this.wireframes=i.map(t=>({label:t.name,command:()=>{var o,r;this.api.convertBillingAddress(null===(r=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===r?void 0:r.addr).subscribe(g=>{this.currentLogin?this.taskCreation.wireframe(t.wireframeId,{login:this.currentLogin,address:g}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})})}}))})}logsLoad(i){!this.dhcpLogsIsLastPage&&i&&this.dhcpLogsLoadingState===Ce.Gu.READY&&(this.dhcpLogsLoadingState=Ce.Gu.LOADING,this.api.getDhcpLogsByLogin(i,this.dhcpLogsPageNum).subscribe(this.logsLoadHandler))}copyMacAddress(i){i.value&&x.cQ.copyToClipboard(i.value.state.macAddresses,this.toast,"MAC \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c MAC \u0430\u0434\u0440\u0435\u0441\u0430")}isToday(i){return new Date(i).toDateString()===(new Date).toDateString()}logColor(i){switch(i){case"SIMPLE_ONLINE":return"#16e116";case"SIMPLE_OFFLINE":return"#db21ec";case"REPEATED":return"#e81f1f";case"EMPTY":return"#838383";case"USER_AUTH":return"#16d0e1";case"USER_AUTH_FAIL":return"#2132ec"}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}checkRemoteControl(i){this.api.checkRemoteControl(i).subscribe({next:t=>{},error:t=>{console.log("Error ",t)}})}openBindingContextMenu(i,t,o){this.bindingContextMenuItems=[{label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c (\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u043e\u0433\u0438\u043d)",command:()=>this.authCurrentLogin(t.macaddr),disabled:t.isAuth&&t.authName===this.currentLogin},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",command:()=>this.openNCLHistoryDialog(t)}],o.toggle(i)}authCurrentLogin(i){this.currentLogin?this.api.authDhcpBinding(this.currentLogin,i).subscribe(()=>{this.toast.add({detail:"\u041b\u043e\u0433\u0438\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",severity:"dark",key:"darktoast",icon:"mdi-verified",closable:!1}),this.currentLogin&&this.update$.next(this.currentLogin)}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})}authConfirm(i){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+i.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c "+this.currentLogin+"?",accept:()=>{this.authCurrentLogin(i.macaddr)}})}getHistory(){!this.currentLogin||(this.userEvents=void 0,this.userEventsLoadingState=Ce.Gu.LOADING,this.api.getBillingUserEvents(this.currentLogin).subscribe({next:i=>{this.userEvents=i,this.userEventsLoadingState=Ce.Gu.READY},error:i=>{this.userEventsLoadingState=Ce.Gu.ERROR}}))}closeHistoryDialog(){this.userEvents=void 0,this.userEventsLoadingState=Ce.Gu.LOADING}openHistoryDialog(){this.isHistoryDialogVisible=!0}openBalanceDialog(){this.isBalanceDialogVisible=!0}openBalanceResetDialog(){this.isBalanceResetDialogVisible=!0}openPaymentDialog(){this.paymentForm.reset({paymentType:1}),this.isPaymentDialogVisible=!0}openRecalculationDialog(){this.recalculationForm.reset({mode:"DAYS"}),this.isRecalculationDialogVisible=!0}openEditUserDialog(){!this.userInfo||(this.userEditForm.reset({address:this.userInfo.ibase.addr,fullName:this.userInfo.ibase.fio,phone:this.userInfo.ibase.phone,comment:this.userInfo.ibase.coment}),this.isUserEditDialogVisible=!0)}sendBalance(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+" \u043d\u0430 "+this.balanceForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439?",accept:()=>{!this.currentLogin||(this.block("\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u0430\u043b\u0430\u043d\u0441"),this.api.updateBalance(this.currentLogin,this.balanceForm.value).subscribe({next:()=>{this.unblock(),this.isBalanceDialogVisible=!1,this.balanceForm.reset()},error:()=>{this.unblock()}}))}})}sendBalanceReset(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||!this.balanceResetCommentControl.value||(this.block("\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"),this.api.balanceReset(this.currentLogin,this.balanceResetCommentControl.value).subscribe({next:()=>{this.unblock(),this.isBalanceResetDialogVisible=!1,this.balanceResetCommentControl.reset("")},error:()=>{this.unblock()}}))}})}enableLogin(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.enableLogin(this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}sendPayment(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin,message:"\u041f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043e\u043f\u043b\u0430\u0442\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e "+this.paymentTypeName+" \u043d\u0430 "+this.paymentForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439, \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043e\u043f\u043b\u0430\u0442\u0430"),this.api.makePayment(this.currentLogin,this.paymentForm.value).subscribe({next:()=>{this.unblock(),this.isPaymentDialogVisible=!1,this.paymentForm.reset({paymentType:1})},error:()=>{this.unblock()}}))}})}sendRecalculation(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u0430 "+this.currentLogin,message:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442 "+this.recalculationModeName+". \u041a\u043e\u043b-\u0432\u043e: "+this.recalculationForm.value.count+", \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442"),this.api.makeRecalculation(this.currentLogin,this.recalculationForm.value).subscribe({next:()=>{this.unblock(),this.isRecalculationDialogVisible=!1,this.recalculationForm.reset({mode:"DAYS"})},error:()=>{this.unblock()}}))}})}confirmUserEdit(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.editUser(this.currentLogin,this.userEditForm.value).subscribe({next:()=>{this.unblock(),this.isUserEditDialogVisible=!1},error:()=>{this.unblock()}}))}})}openNCLHistoryDialog(i){this.isNCLHistoryDialogVisible=!0,this.nclHistoryLoadingState=Ce.Gu.LOADING,this.api.getNetworkConnectionLocationHistory(i.id).subscribe({next:t=>{this.nclHistory$.next(t),this.nclHistoryLoadingState=Object.entries(t.nclItems).length?Ce.Gu.READY:Ce.Gu.EMPTY},error:()=>this.nclHistoryLoadingState=Ce.Gu.ERROR})}getTariffList(i,t){this.currentLogin&&(t.toggle(i),this.api.getBillingUserTariffs(this.currentLogin).subscribe(o=>{this.tariffList=o,o.filter(r=>{var g;return(null===(g=this.mainTariff)||void 0===g?void 0:g.service)===r.name}).forEach(r=>r.disabled=!0)}))}getServiceList(i,t){this.currentLogin&&(t.toggle(i),this.api.getBillingUserServices(this.currentLogin).subscribe(o=>{this.serviceList=o,o.filter(r=>this.services.some(g=>g.service===r.name)).forEach(r=>r.disabled=!0)}))}appendService(i){this.currentLogin&&this.confirm.confirm({header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+i.option.name+" \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0443?",accept:()=>{this.currentLogin&&(this.block("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.appendServiceToBillingUser(i.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}removeService(i){this.currentLogin&&this.confirm.confirm({header:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+i+"?",accept:()=>{this.currentLogin&&(this.block("\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.removeServiceFromBillingUser(i,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}changeTariff(i){this.currentLogin&&this.confirm.confirm({header:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430",message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430 "+i.option.name+"?",accept:()=>{this.currentLogin&&(this.block("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430"),this.api.changeTariffInBillingUser(i.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}block(i=""){this.blockUiService.wait({message:i})}unblock(){this.blockUiService.unblock()}};Zp.\u0275fac=function(i){return new(i||Zp)(e.Y36(O.s),e.Y36(me.U),e.Y36(d.gz),e.Y36(Ct.r),e.Y36(T.e),e.Y36(N.ez),e.Y36(N.YP),e.Y36(Vh.A),e.Y36(Q.F))},Zp.\u0275cmp=e.Xpm({type:Zp,selectors:[["ng-component"]],decls:75,vars:64,consts:[[1,"flex","flex-column","flex-grow-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],["infoViewTemp",""],["titleTagsTemp",""],["mainUserInfoTemp",""],["hardwareInfoTemp",""],["tariffInfoTemp",""],["infoRowTemplate",""],["infoRowTemplatedTemplate",""],["mainTariffTemplate",""],["serviceListTemplate",""],["serviceItemTemplate",""],["emptyServicesTemplate",""],["inlineButtonTemplate",""],["speedViewTemplate",""],["acpInfo",""],["appendTo","body",3,"model","popup"],["createTaskMenu",""],["appendTo","body","header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",3,"visible","dismissableMask","resizable","onShow","visibleChange"],["pTemplate","content"],["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",3,"visible","dismissableMask","modal","resizable","draggable","visibleChange"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u0410\u0434\u0440\u0435\u0441"],["pInputText","","formControlName","address"],["label","\u0424\u0418\u041e"],["pInputText","","formControlName","fullName"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["pInputText","","formControlName","phone"],["label","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"],["pInputTextarea","","formControlName","comment"],["pButton","","icon","mdi-check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"mt-2",3,"disabled","click"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0437\u0430 \u043f\u043e\u043b\u0433\u043e\u0434\u0430",3,"visible","dismissableMask","modal","resizable","onHide","onShow","visibleChange"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u0439 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",3,"visible","dismissableMask","modal","resizable","visibleChange"],[1,"p-3","border-1","border-bluegray-100","border-round-lg"],[4,"ngIf"],["appendTo","body","header","\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","header","\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041e\u043f\u043b\u0430\u0442\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["pTemplate","content",3,"formGroup"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442",3,"visible","dismissableMask","modal","resizable","visibleChange"],["loading",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["tariffsOverlayPanel",""],["emptyFilterMessage","\u0422\u0430\u0440\u0438\u0444\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionLabel","name","optionValue","id",3,"filter","listStyle","options","onClick"],["pTemplate","item"],["servicesOverlayPanel",""],["emptyFilterMessage","\u0414\u043e\u043f. \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionDisabled","disabled","optionLabel","name","optionValue","id",3,"ngModel","filter","listStyle","options","onClick","ngModelChange"],["controlMenu",""],[1,"flexed","hcenter","vcenter","stretched","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[4,"ngTemplateOutlet"],[1,"flex","gap-3","p-3","align-items-center","border-bottom-1","border-bluegray-100"],["icon","mdi-arrow_back","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"caption","size-huge","wt-tiny","f-color-600","with-icon"],[1,"mds-person","caption","size-xlarge"],[1,"stretched"],[1,"caption","size-tiny","wt-black","f-color-300"],[3,"startTime"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick",4,"ngIf"],[1,"flex","flex-column","gap-3","p-3","terminator-bottom","flex-grow-1","xl:flex-row"],[1,"flex","flex-row","gap-3","xl:flex-column"],["appListElementLazyScroll","","listStyleClass","simple-list",1,"mt-3",3,"group","listStyle","options","onClick","onScrollDown"],["pTemplate","group"],["pTemplate","empty"],[1,"flexed","gap10","p10","hcenter"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","styleClass","p-button-success p-button-text",3,"onClick"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick",4,"ngIf"],["class","text-red-400 text-xl font-bold",3,"letter-spacing",4,"ngIf"],[1,"text-primary","text-xl","font-bold",3,"ngClass"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick"],[1,"flex","align-items-center","text-sm"],[1,"flex","flex-grow-1","m-1","px-3","py-2","gap-2","border-round","align-items-center","text-white","font-bold","text-sm"],["class","flex-grow-1",4,"ngIf"],["class","bg-white border-round px-2 py-1 text-xs",3,"color",4,"ngIf"],[1,"flex-grow-1"],[1,"bg-white","border-round","px-2","py-1","text-xs"],[1,"flex","align-items-center","justify-content-center","text-lg","font-bold","text-bluegray-400"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick"],[1,"text-red-400","text-xl","font-bold"],[1,"flex","align-items-center","p-4","gap-2","border-bluegray-50","border-bottom-1","text-lg","font-light","text-bluegray-400"],[1,"mdi-history"],["class","text-sm text-primary-400 font-bold",4,"ngIf"],["class","flex flex-column p-3",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center p-3",3,"height",4,"ngSwitchCase"],["class","flex align-items-center justify-content-center flex-grow-1 py-5",4,"ngSwitchCase"],["class","p-2",3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"text-sm","text-primary-400","font-bold"],[1,"flex","flex-column","p-3"],[1,"overflow-y-auto"],[3,"inlined","item",4,"ngFor","ngForOf"],[3,"inlined","item"],[1,"flex","justify-content-center","align-items-center","p-3"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5"],[1,"flex","flex-column","align-items-center","text-lg","text-bluegray-400"],[1,"mds-task_alt"],[1,"flex","flex-column","align-items-center","text-lg","text-red-400"],[1,"p-2",3,"first","rows","totalRecords","onPageChange"],[1,"flexed","gap5","hcenter"],[3,"caption","color"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)",4,"ngIf"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)"],[1,"flex","flex-column"],[1,"flex","align-items-center","gap-2"],[1,"text-lg","font-bold","text-gray-600"],["pButton","","icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"p-button-sm","p-button-success","p-button-text",3,"click"],[1,"flex","flex-column","gap-2","p-3","pt-1"],["class","flex gap-2 align-items-center text-red-400",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","align-items-center","text-red-400"],[1,"flex","gap-2","align-items-center","max-w-16rem"],[1,"mdi-warning"],[1,"font-bold"],["icon","mdi-account_box","label","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c","styleClass","p-button-success p-button-sm p-button-outlined",3,"onClick"],["class","flex gap-2 p-3 text-orange-400 font-semibold align-items-center",4,"ngIf"],["class","px-3","icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",3,"onClick",4,"ngIf"],[1,"flex","gap-2","p-3","text-orange-400","font-semibold","align-items-center"],["class","flex flex-column gap-2 p-3",4,"ngIf"],[1,"flex","flex-column","gap-2","p-3"],["icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",1,"px-3",3,"onClick"],[4,"ngIf","ngIfElse"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500","text-lg","max-w-18rem",3,"ngClass"],["class","mdi-help_outline caption size-big f-color-300",3,"pTooltip",4,"ngIf"],[1,"mdi-help_outline","caption","size-big","f-color-300",3,"pTooltip"],[1,"flex","gap-2","align-items-start"],[1,"flex","flex-column","gap-2"],[1,"text-bluegray-500","text-lg","flex","gap-2","align-items-center"],["class","text-primary text-sm",4,"ngIf"],[3,"click",4,"ngIf"],[1,"text-primary","text-sm"],[3,"click"],[1,"flex","flex-column","gap-1"],[4,"ngFor","ngForOf"],[1,"text-bluegray-500","text-lg","flex","align-items-center","gap-2"],["class","mdi-close text-bluegray-500 hover:text-red-400 text-sm cursor-pointer",3,"click",4,"ngIf"],[1,"mdi-close","text-bluegray-500","hover:text-red-400","text-sm","cursor-pointer",3,"click"],[1,"flex","align-items-center","gap-1","cursor-pointer","w-fit",3,"ngClass"],[1,"text-sm",3,"ngClass"],[1,"flex","flex-column","gap-2","text-bluegray-500","text-lg"],[1,"flex","flex-column","overflow-hidden","border-round-md","border-bluegray-100","border-1"],["styleClass","tabview-unpadding"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430"],["filterMode","login",3,"filterId","inline","preparedAuthLogin"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435",4,"ngIf"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b",4,"ngIf"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435"],["filterMode","building","bindingsStatus","online",3,"filterId","inline","preparedAuthLogin"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"],[3,"buildId","inline"],[1,"flex","py-3","gap-3","align-items-end","justify-content-end",3,"formGroup"],[1,"text-primary-400","font-bold"],["formControlName","state","offIcon","mdi-cancel","offLabel","\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438","onIcon","mdi-check_circle","onLabel","\u0412 \u0441\u0435\u0442\u0438",3,"disabled"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440","styleClass","p-button-secondary p-button-text",3,"onClick"],["dataKey","id","scrollHeight","500px",3,"loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"first","rows","totalRecords","onPageChange"],[3,"formGroup"],["formControlName","macaddr","pInputText","","type","text",3,"size"],["formControlName","login","pInputText","","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip"],["formControlName","vlan",3,"max","size"],[1,"cursor-pointer","hover:bg-primary-50","hover:text-primary-400",3,"click"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],["class","text-bluegray-300",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],["type","short",3,"startTime"],[1,"text-bluegray-300"],[1,"text-green-400"],["class","flex align-items-center justify-content-center",3,"style",4,"ngIf"],[1,"flex","align-items-center","justify-content-center"],[1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["header","\u041f\u043b\u0430\u0442\u0435\u0436\u0438"],["scrollHeight","30rem","styleClass","p-datatable-sm border-round-lg border-1 border-bluegray-100 overflow-hidden",3,"scrollable","value"],["pTemplate","emptymessage"],["header","\u0421\u043e\u0431\u044b\u0442\u0438\u044f"],["header","\u0422\u0430\u0440\u0438\u0444\u044b"],[3,"ngClass"],[1,"flex","align-items-center","justify-content-between","text-bluegray-400","text-sm","font-bold"],[1,"text-bluegray-400","mr-2","pr-2","border-right-1","border-bluegray-100"],["tooltipPosition","bottom",1,"h-50","mr-1","opacity-70",3,"pTooltip"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"text-bluegray-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","font-bold","text-lg"],[1,"mds-radar"],[1,"flex","flex-column","gap-4","mt-1"],["appendTo","body","formControlName","payType","placeholder","\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430",3,"options"],["formControlName","sum","placeholder","\u0421\u0443\u043c\u043c\u0430"],["formControlName","comment","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306",3,"autoResize","cols","rows"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306 \u043a \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044e \u0431\u0430\u043b\u0430\u043d\u0441\u0430...",3,"autoResize","cols","formControl","rows"],["icon","mdi-exposure_zero","label","\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],[1,"flex","gap-3","align-items-center"],["formControlName","paymentType",3,"options"],["formControlName","sum","pInputText","","pKeyFilter","pint","placeholder","\u0421\u0443\u043c\u043c\u0430",3,"size"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["formControlName","mode",3,"options"],["formControlName","count","pInputText","","pKeyFilter","int",3,"placeholder","size"],["icon","mdi-restore","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","align-items-center","justify-content-between","w-full","h-full",3,"pTooltip","showDelay"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,R1,3,0,"ng-container",2),e.YNc(3,N1,6,0,"ng-container",2),e.YNc(4,B1,2,1,"ng-container",2),e.BQk(),e.qZA(),e.YNc(5,Ix,37,29,"ng-template",null,3,e.W1O),e.YNc(7,x_,3,3,"ng-template",null,4,e.W1O),e.YNc(9,W1,14,26,"ng-template",null,5,e.W1O),e.YNc(11,Px,9,9,"ng-template",null,6,e.W1O),e.YNc(13,S,18,49,"ng-template",null,7,e.W1O),e.YNc(15,ae,6,4,"ng-template",null,8,e.W1O),e.YNc(17,He,5,2,"ng-template",null,9,e.W1O),e.YNc(19,Wn,5,3,"ng-template",null,10,e.W1O),e.YNc(21,Kn,3,2,"ng-template",null,11,e.W1O),e.YNc(23,Ho,6,3,"ng-template",null,12,e.W1O),e.YNc(25,E_,1,1,"ng-template",null,13,e.W1O),e.YNc(27,S_,4,3,"ng-template",null,14,e.W1O),e.YNc(29,k_,11,2,"ng-template",null,15,e.W1O),e.YNc(31,zA,7,8,"ng-template",null,16,e.W1O),e._UZ(33,"p-menu",17,18),e.TgZ(35,"p-dialog",19),e.NdJ("onShow",function(){return t.openAuthDialog.next(null)})("visibleChange",function(r){return t.isAuthDialogVisible=r}),e.YNc(36,$A,2,4,"ng-template",20),e.qZA(),e.TgZ(37,"p-dialog",21),e.NdJ("visibleChange",function(r){return t.isUserEditDialogVisible=r}),e.TgZ(38,"form",22)(39,"app-label",23),e._UZ(40,"input",24),e.qZA(),e.TgZ(41,"app-label",25),e._UZ(42,"input",26),e.qZA(),e.TgZ(43,"app-label",27),e._UZ(44,"input",28),e.qZA(),e.TgZ(45,"app-label",29),e._UZ(46,"textarea",30),e.qZA(),e.TgZ(47,"button",31),e.NdJ("click",function(){return t.confirmUserEdit()}),e.qZA()()(),e.TgZ(48,"p-dialog",32),e.NdJ("onHide",function(){return t.closeHistoryDialog()})("onShow",function(){return t.getHistory()})("visibleChange",function(r){return t.isHistoryDialogVisible=r}),e.YNc(49,dw,2,2,"ng-template",20),e.qZA(),e.TgZ(50,"p-dialog",33),e.NdJ("visibleChange",function(r){return t.isNCLHistoryDialogVisible=r}),e.TgZ(51,"div",34),e.ALo(52,"async"),e.YNc(53,yw,6,5,"ng-container",35),e.ALo(54,"async"),e.qZA()(),e.TgZ(55,"p-dialog",36),e.NdJ("visibleChange",function(r){return t.isBalanceDialogVisible=r}),e.YNc(56,xw,7,9,"ng-template",20),e.qZA(),e.TgZ(57,"p-dialog",37),e.NdJ("visibleChange",function(r){return t.isBalanceResetDialogVisible=r}),e.YNc(58,Iw,3,5,"ng-template",20),e.qZA(),e.TgZ(59,"p-dialog",38),e.NdJ("visibleChange",function(r){return t.isPaymentDialogVisible=r}),e.YNc(60,Tw,5,6,"ng-template",39),e.qZA(),e.TgZ(61,"p-dialog",40),e.NdJ("visibleChange",function(r){return t.isRecalculationDialogVisible=r}),e.YNc(62,Aw,5,7,"ng-template",39),e.qZA(),e.YNc(63,ww,2,0,"ng-template",null,41,e.W1O),e.TgZ(65,"p-overlayPanel",42,43)(67,"p-listbox",44),e.NdJ("onClick",function(r){return t.changeTariff(r)}),e.YNc(68,Ew,6,7,"ng-template",45),e.qZA()(),e.TgZ(69,"p-overlayPanel",42,46)(71,"p-listbox",47),e.NdJ("onClick",function(r){return t.appendService(r)})("ngModelChange",function(r){return t.selectedServices=r}),e.YNc(72,Sw,6,7,"ng-template",45),e.qZA()(),e._UZ(73,"p-menu",17,48)),2&i&&(e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(29),e.Q6J("model",t.wireframes)("popup",!0),e.xp6(2),e.Q6J("visible",t.isAuthDialogVisible)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isUserEditDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1)("draggable",!0),e.xp6(1),e.Q6J("formGroup",t.userEditForm),e.xp6(9),e.Q6J("disabled",t.userEditForm.invalid),e.xp6(1),e.Q6J("visible",t.isHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(60,kw)),e.Q6J("visible",t.isNCLHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn("READY"===t.nclHistoryLoadingState?e.lcZ(52,56,t.nclHistoryViewStyle$):e.DdM(61,Dw)),e.xp6(2),e.Q6J("ngIf",e.lcZ(54,58,t.nclHistory$)),e.xp6(2),e.Q6J("visible",t.isBalanceDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isBalanceResetDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isPaymentDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.paymentForm),e.xp6(1),e.Q6J("visible",t.isRecalculationDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.recalculationForm),e.xp6(5),e.Q6J("filter",!0)("listStyle",e.DdM(62,zh))("options",t.tariffList),e.xp6(4),e.Q6J("ngModel",t.selectedServices)("filter",!0)("listStyle",e.DdM(63,zh))("options",t.serviceList),e.xp6(2),e.Q6J("model",t.controlMenuItems)("popup",!0))},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),Zp=(0,To.gn)([(0,ja.kG)()],Zp);var Fx=C(5376),Mw=C(5625);function Ow(n,i){1&n&&e.GkF(0)}function Pw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ow,1,0,"ng-container",28),e.BQk()),2&n){e.oxw();const t=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Lw(n,i){1&n&&e.GkF(0)}function Rw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Lw,1,0,"ng-container",28),e.BQk()),2&n){e.oxw();const t=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Nw(n,i){1&n&&e.GkF(0)}function Fw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Nw,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Bw(n,i){1&n&&e.GkF(0)}function Zw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Bw,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Uw(n,i){1&n&&e.GkF(0)}function Hw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Uw,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Vw(n,i){1&n&&e.GkF(0)}function zw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Vw,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Jw(n,i){if(1&n&&(e.ynx(0)(1,1),e.YNc(2,Fw,2,1,"ng-container",2),e.YNc(3,Zw,2,1,"ng-container",2),e.YNc(4,Hw,2,1,"ng-container",2),e.YNc(5,zw,2,1,"ng-container",2),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.viewMode),e.xp6(1),e.Q6J("ngSwitchCase","city"),e.xp6(1),e.Q6J("ngSwitchCase","street"),e.xp6(1),e.Q6J("ngSwitchCase","house"),e.xp6(1),e.Q6J("ngSwitchCase","houseView")}}function Qw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.selectCity(g))}),e._UZ(1,"span",42),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(3),e.Oqu(t.name)}}function Gw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"span",32),e._uU(4," \u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b "),e.qZA(),e._UZ(5,"div",33),e.TgZ(6,"p-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogCreateCity())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",35),e.YNc(9,Qw,4,1,"div",36),e.qZA()(),e.TgZ(10,"div",37)(11,"div",38),e._UZ(12,"span",39),e.TgZ(13,"span",40),e._uU(14,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"),e.qZA()()()()}if(2&n){const t=e.oxw();let o;e.xp6(6),e.Q6J("loading",null!==(o=e.lcZ(7,4,t.beginRequest$))&&void 0!==o&&o)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.cities)("ngForTrackBy",t.trackByCity)}}function Ww(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.selectStreet(g))}),e._UZ(1,"span",54),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(3),e.Oqu(t.nameWithPrefix)}}function Yw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveCity())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let o;e.Q6J("loading",null!==(o=e.lcZ(1,2,t.beginRequest$))&&void 0!==o&&o)("disabled",!t.cityEditingForm.valid||t.cityEditingForm.pristine)}}const jw=function(n){return{"cover-element":n}};function Kw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p-button",43),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",32),e._uU(6," \u0423\u043b\u0438\u0446\u044b "),e.qZA(),e._UZ(7,"div",33),e.TgZ(8,"p-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogCreateStreet())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div")(11,"div",44)(12,"span",45),e._UZ(13,"span",46),e.qZA(),e._UZ(14,"input",47),e.qZA()(),e.TgZ(15,"div",48),e.YNc(16,Ww,4,1,"div",36),e.qZA()(),e.TgZ(17,"div",49)(18,"div",50)(19,"span",32),e._uU(20),e.qZA(),e._UZ(21,"div",33),e.TgZ(22,"p-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteCity())}),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"div",52)(25,"div",11)(26,"label",12),e._uU(27,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(28,"input",17),e.qZA(),e.YNc(29,Yw,2,4,"p-button",53),e.qZA()()()}if(2&n){const t=e.oxw();let o,r,g;e.xp6(3),e.Q6J("loading",null!==(o=e.lcZ(4,13,t.beginRequest$))&&void 0!==o&&o),e.xp6(5),e.Q6J("loading",null!==(r=e.lcZ(9,15,t.beginRequest$))&&void 0!==r&&r)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(6),e.Q6J("appPreventInput",t.streetFiltering)("formControl",t.filterControl),e.xp6(1),e.Q6J("ngClass",e.VKq(19,jw,t.streetFiltering)),e.xp6(1),e.Q6J("ngForOf",t.streets)("ngForTrackBy",t.trackByStreet),e.xp6(4),e.hij(" \u0413\u043e\u0440\u043e\u0434: ",null==t.selectedCity?null:t.selectedCity.name," "),e.xp6(2),e.Q6J("loading",null!==(g=e.lcZ(23,17,t.beginRequest$))&&void 0!==g&&g)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.cityEditingForm),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function $w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",58),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.selectHouse(g))}),e._UZ(1,"span",59),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(3),e.Oqu(t.houseName)}}function qw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveStreet())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let o;e.Q6J("loading",null!==(o=e.lcZ(1,2,t.beginRequest$))&&void 0!==o&&o)("disabled",!t.streetEditingForm.valid||t.streetEditingForm.pristine)}}function Xw(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p-button",43),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",32),e._uU(6," \u0414\u043e\u043c\u0430 "),e.qZA(),e._UZ(7,"div",33),e.TgZ(8,"p-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogCreateHouse())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",35),e.YNc(11,$w,4,1,"div",56),e.qZA()(),e.TgZ(12,"div",49)(13,"div",50)(14,"span",32),e._uU(15),e.qZA(),e._UZ(16,"div",33),e.TgZ(17,"p-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteStreet())}),e.ALo(18,"async"),e.qZA()(),e.TgZ(19,"div",52)(20,"div",11)(21,"label",12),e._uU(22,"\u0422\u0438\u043f"),e.qZA(),e._UZ(23,"p-dropdown",57),e.qZA(),e.TgZ(24,"div",11)(25,"label",12),e._uU(26,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(27,"input",17),e.qZA(),e.TgZ(28,"div",11)(29,"label",12),e._uU(30,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(31,"p-chips",18),e.qZA(),e.TgZ(32,"div",11)(33,"label",12),e._uU(34,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(35,"input",19),e.qZA(),e.YNc(36,qw,2,4,"p-button",53),e.qZA()()()}if(2&n){const t=e.oxw();let o,r,g;e.xp6(3),e.Q6J("loading",null!==(o=e.lcZ(4,14,t.beginRequest$))&&void 0!==o&&o),e.xp6(5),e.Q6J("loading",null!==(r=e.lcZ(9,16,t.beginRequest$))&&void 0!==r&&r)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.houses)("ngForTrackBy",t.trackByHouse),e.xp6(4),e.hij(" \u0423\u043b\u0438\u0446\u0430: ",null==t.selectedStreet?null:t.selectedStreet.streetName," "),e.xp6(2),e.Q6J("loading",null!==(g=e.lcZ(18,18,t.beginRequest$))&&void 0!==g&&g)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.streetEditingForm),e.xp6(4),e.Q6J("options",t.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function e3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.saveHouse())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let o;e.Q6J("loading",null!==(o=e.lcZ(1,2,t.beginRequest$))&&void 0!==o&&o)("disabled",!t.houseEditingForm.valid||t.houseEditingForm.pristine)}}const t3=function(n,i){return[n,i]};function n3(n,i){if(1&n&&e._UZ(0,"ya-placemark",72),2&n){const t=e.oxw(2);e.Q6J("geometry",e.WLB(1,t3,t.housePlace.latitude,t.housePlace.longitude))}}function o3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"p-button",43),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"span",60),e._uU(5),e.qZA(),e.TgZ(6,"p-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteHouse())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",61)(9,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.manualHouseNavigation$.next(-1))}),e.ALo(10,"async"),e.qZA(),e._UZ(11,"div",33),e.TgZ(12,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.manualHouseNavigation$.next(1))}),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"div",64),e.NdJ("@swipe.done",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.animationEnd$.next(!0))}),e.ALo(15,"async"),e.TgZ(16,"div",26)(17,"label",12),e._uU(18,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(19,"p-inputNumber",21),e.qZA(),e.TgZ(20,"div",26)(21,"label",12),e._uU(22,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(23,"p-inputNumber",65),e.qZA(),e.TgZ(24,"div",26)(25,"label",12),e._uU(26,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(27,"input",66),e.qZA(),e.TgZ(28,"div",26)(29,"label",12),e._uU(30,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(31,"p-inputNumber",67),e.qZA(),e.TgZ(32,"div",68),e._UZ(33,"p-checkbox",69),e.TgZ(34,"label",12),e._uU(35,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA()(),e.TgZ(36,"div",26)(37,"label",12),e._uU(38,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(39,"app-acp-house-input",27),e.qZA(),e.YNc(40,e3,2,4,"p-button",53),e.TgZ(41,"ya-map",70),e.NdJ("yaclick",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onMapClick(r))}),e.YNc(42,n3,1,4,"ya-placemark",71),e.qZA()()()}if(2&n){const t=e.oxw();let o,r,g,E;e.xp6(2),e.Q6J("loading",null!==(o=e.lcZ(3,14,t.beginRequest$))&&void 0!==o&&o),e.xp6(3),e.hij(" \u0414\u043e\u043c: ",null==t.selectedHouse?null:t.selectedHouse.addressName," "),e.xp6(1),e.Q6J("loading",null!==(r=e.lcZ(7,16,t.beginRequest$))&&void 0!==r&&r)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("loading",null!==(g=e.lcZ(10,18,t.beginRequest$))&&void 0!==g&&g),e.xp6(3),e.Q6J("loading",null!==(E=e.lcZ(13,20,t.beginRequest$))&&void 0!==E&&E),e.xp6(2),e.Q6J("formGroup",t.houseEditingForm)("@swipe",e.lcZ(15,22,t.animationState$)),e.xp6(19),e.Q6J("binary",!0),e.xp6(7),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(1),e.Q6J("center",t.centerOfMap)("zoom",t.zoom)("options",t.mapOptions),e.xp6(1),e.Q6J("ngIf",t.housePlace)}}function s3(n,i){1&n&&(e.TgZ(0,"div",73),e._UZ(1,"p-progressSpinner",74),e.qZA())}function r3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",75)(1,"div",76),e._UZ(2,"span",77),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA(),e.TgZ(5,"p-button",78),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reload())}),e.qZA()()()}}let wT=(()=>{class n{constructor(t,o,r,g,E){this.api=t,this.rt=o,this.personality=r,this.toast=g,this.confirmationService=E,this.AccessFlag=Li.j,this.cities=[],this.streets=[],this.houses=[],this.streetFiltering=!1,this.viewMode="city",this.loadingState=Ce.Gu.LOADING,this.filterControl=new p.NI(""),this.filterChanged$=this.filterControl.valueChanges.pipe((0,No.b)(1e3),(0,ko.x)()),this.cityEditingForm=new p.cw({name:new p.NI("",[p.kI.required,p.kI.minLength(3)])}),this.streetEditingForm=new p.cw({prefix:new p.NI("",[p.kI.required]),name:new p.NI("",[p.kI.required,p.kI.minLength(3),p.kI.maxLength(48)]),altNames:new p.NI([]),billingAlias:new p.NI("")}),this.houseEditingForm=new p.cw({houseNum:new p.NI(null,[p.kI.required,p.kI.min(1),p.kI.max(999)]),letter:new p.NI(null),fraction:new p.NI(null),build:new p.NI(null),isApartmentHouse:new p.NI(!1),acpHouseBind:new p.NI(null)}),this.subscriptions=new x.xf,this.cityLoad$=(0,Tn.of)(null).pipe((0,F.w)(()=>this.api.getCities()),(0,En.b)(W=>this.cities=W),(0,En.b)(()=>{this.subscriptions.unsubscribe("cityCr"),this.subscriptions.unsubscribe("cityUpd"),this.subscriptions.unsubscribe("cityDel"),this.subscriptions.unsubscribe("streetCr"),this.subscriptions.unsubscribe("streetUpd"),this.subscriptions.unsubscribe("streetDel"),this.subscriptions.unsubscribe("houseCr"),this.subscriptions.unsubscribe("houseUpd"),this.subscriptions.unsubscribe("houseDel"),this.subscriptions.addSubscription("cityCr",this.rt.cityCreated().subscribe(W=>{this.cities=[...this.cities,W]})),this.subscriptions.addSubscription("cityUpd",this.rt.cityUpdated().subscribe(W=>{var Ie;this.cities=this.cities.map(it=>it.cityId===W.cityId?W:it),(null===(Ie=this.selectedCity)||void 0===Ie?void 0:Ie.cityId)===W.cityId&&this.selectCity(W)})),this.subscriptions.addSubscription("cityDel",this.rt.cityDeleted().subscribe(W=>{var Ie;this.cities=this.cities.filter(it=>it.cityId!==W.cityId),(null===(Ie=this.selectedCity)||void 0===Ie?void 0:Ie.cityId)===W.cityId&&(this.viewMode="city")})),this.subscriptions.addSubscription("streetCr",this.rt.streetCreated().subscribe(W=>{var Ie;W.city.cityId===(null===(Ie=this.selectedCity)||void 0===Ie?void 0:Ie.cityId)&&(this.streets=[...this.streets,W].sort(this.streetSort))})),this.subscriptions.addSubscription("streetUpd",this.rt.streetUpdated().subscribe(W=>{var Ie;this.streets=this.streets.map(it=>it.streetId===W.streetId?W:it).sort(this.streetSort),(null===(Ie=this.selectedStreet)||void 0===Ie?void 0:Ie.streetId)===W.streetId&&this.selectStreet(W)})),this.subscriptions.addSubscription("streetDel",this.rt.streetDeleted().subscribe(W=>{var Ie;this.streets=this.streets.filter(it=>it.streetId!==W.streetId),(null===(Ie=this.selectedStreet)||void 0===Ie?void 0:Ie.streetId)===W.streetId&&(this.viewMode="street")})),this.subscriptions.addSubscription("houseCr",this.rt.houseCreated().subscribe(W=>{var Ie;W.streetId===(null===(Ie=this.selectedStreet)||void 0===Ie?void 0:Ie.streetId)&&(this.houses=[...this.houses,W].sort(this.houseSort))})),this.subscriptions.addSubscription("houseUpd",this.rt.houseUpdated().subscribe(W=>{var Ie;this.houses=this.houses.map(it=>it.houseId===W.houseId?W:it).sort(this.houseSort),(null===(Ie=this.selectedHouse)||void 0===Ie?void 0:Ie.houseId)===W.houseId&&this.selectHouse(W)})),this.subscriptions.addSubscription("houseDel",this.rt.houseDeleted().subscribe(W=>{var Ie;this.houses=this.houses.filter(it=>it.houseId!==W.houseId),(null===(Ie=this.selectedHouse)||void 0===Ie?void 0:Ie.houseId)===W.houseId&&(this.viewMode="house")}))})),this.streetPrefixes=[{label:"\u0423\u043b\u0438\u0446\u0430",value:"\u0443\u043b"},{label:"\u0410\u043b\u043b\u0435\u044f",value:"\u0430\u043b\u043b\u0435\u044f"},{label:"\u0411\u0443\u043b\u044c\u0432\u0430\u0440",value:"\u0431-\u0440"},{label:"\u041f\u0435\u0440\u0435\u0443\u043b\u043e\u043a",value:"\u043f\u0435\u0440"},{label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",value:"\u043f\u043b"},{label:"\u041f\u0440\u043e\u0435\u0437\u0434",value:"\u043f\u0440-\u0434"},{label:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442",value:"\u043f\u0440-\u043a\u0442"},{label:"\u0428\u043e\u0441\u0441\u0435",value:"\u0448"}],this.loadingStateHandler={next:()=>{this.loadingState=Ce.Gu.READY},error:()=>{this.loadingState=Ce.Gu.ERROR}},this.createCityVisible=!1,this.createCityForm=new p.cw({name:new p.NI("",[p.kI.required,p.kI.minLength(3)])}),this.createStreetVisible=!1,this.createStreetForm=new p.cw({prefix:new p.NI("",[p.kI.required]),name:new p.NI("",[p.kI.required,p.kI.minLength(3),p.kI.maxLength(48)]),altNames:new p.NI([]),billingAlias:new p.NI("")}),this.createHouseVisible=!1,this.createHouseForm=new p.cw({houseNum:new p.NI(null,[p.kI.required,p.kI.min(1),p.kI.max(999999)]),letter:new p.NI(null,[p.kI.maxLength(1)]),fraction:new p.NI(null,[p.kI.min(1),p.kI.max(999)]),build:new p.NI(null,[p.kI.min(1),p.kI.max(99)]),isApartmentHouse:new p.NI(!1),acpHouseBind:new p.NI(null)}),this.beginRequest$=new ma.X(!1),this.houseNavigation$=(0,b.R)(window,"keyup").pipe((0,s.h)(W=>W.altKey&&!!this.selectedHouse),(0,ft.U)(W=>{switch(W.key){case"n":return 1;case"b":return-1}return 0})),this.manualHouseNavigation$=new pr.x,this.animationEnd$=new pr.x,this.houseBeginningNavigate=!1,this.requestStatusHandler={next:()=>{this.beginRequest$.next(!1)},error:()=>{this.beginRequest$.next(!1)}},this.mapOptions={avoidFractionalZoom:!0},this.centerOfMap=[47.519624,42.206329],this.zoom=12,this._houseViewAnimation=new ma.X([0,0]),this.animationState$=this._houseViewAnimation.pipe((0,F.w)(W=>(0,Tn.of)(...W)),(0,ft.U)(W=>W>0?"right":W<0?"left":"default"))}updateCenterOfMap(){if(this.housePlace)return this.centerOfMap=[this.housePlace.latitude,this.housePlace.longitude],void(this.zoom=17);this.centerOfMap=[47.519624,42.206329],this.zoom=12}trackByHouse(t,o){return o.houseId+o.addressName}trackByStreet(t,o){return o.streetId+o.nameWithPrefix}trackByCity(t,o){return o.cityId+o.name}streetSort(t,o){return t.name<o.name?-1:t.name>o.name?1:0}houseSort(t,o){var r,g,E,W,Ie,it;return t.houseNum-o.houseNum||(null===(r=t.letter)||void 0===r?void 0:r.localeCompare(null!==(g=o.letter)&&void 0!==g?g:""))||(null!==(E=t.fraction)&&void 0!==E?E:0)-(null!==(W=o.fraction)&&void 0!==W?W:0)||(null!==(Ie=t.build)&&void 0!==Ie?Ie:0)-(null!==(it=o.build)&&void 0!==it?it:0)}onMapClick(t){const{event:r}=t,[g,E]=r.get("coords");this.housePlace={placeId:0,latitude:g,longitude:E}}ngOnInit(){this.cityLoad$.subscribe(this.loadingStateHandler),this.subscriptions.addSubscription("hsnav",(0,Ar.T)(this.houseNavigation$,this.manualHouseNavigation$.asObservable()).pipe((0,s.h)(()=>!this.houseBeginningNavigate),(0,En.b)(t=>{this.houseBeginningNavigate=!0,this._houseViewAnimation.next([0,t])}),(0,Fx.j)(()=>this.animationEnd$),(0,En.b)(t=>this._houseViewAnimation.next([t,-t])),(0,Fx.j)(()=>this.animationEnd$),(0,En.b)(t=>{-1===t?this.previousHouse():1===t&&this.nextHouse(),this._houseViewAnimation.next([t,0])}),(0,Fx.j)(()=>this.animationEnd$),(0,Mw.X)()).subscribe({next:t=>{this.houseBeginningNavigate=!1},error:()=>{this.houseBeginningNavigate=!1}})),this.subscriptions.addSubscription("bgreq",this.beginRequest$.subscribe(t=>{t?(this.createCityForm.disable(),this.cityEditingForm.disable(),this.streetEditingForm.disable(),this.createStreetForm.disable(),this.houseEditingForm.disable(),this.createHouseForm.disable()):(this.createCityForm.enable(),this.cityEditingForm.enable(),this.streetEditingForm.enable(),this.createStreetForm.enable(),this.houseEditingForm.enable(),this.createHouseForm.enable())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadStreets$(t,o){return this.api.getStreets(t,null!=o?o:void 0).pipe((0,En.b)(r=>this.streets=r),(0,En.b)(()=>this.viewMode="street"),(0,En.b)(()=>this.streetFiltering=!1))}selectCity(t){let{cityId:o}=t;o?(this.loadingState=Ce.Gu.LOADING,this.selectedCity=t,this.filterControl.reset(),this.cityEditingForm.setValue({name:t.name}),this.subscriptions.unsubscribe("cityLoad"),this.subscriptions.addSubscription("cityLoad",(0,Ar.T)(this.loadStreets$(o),this.filterChanged$.pipe((0,En.b)(()=>this.streetFiltering=!0),(0,Pa.z)(r=>this.loadStreets$(o,r)))).subscribe(this.loadingStateHandler))):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectStreet(t){var o,r,g;t.streetId?(this.loadingState=Ce.Gu.LOADING,this.selectedStreet=t,this.streetEditingForm.setValue({prefix:null!==(o=t.prefix)&&void 0!==o?o:null,name:null!==(r=t.name)&&void 0!==r?r:"",altNames:t.altNames?t.altNames.split(","):[],billingAlias:null!==(g=t.billingAlias)&&void 0!==g?g:""}),this.api.getHouses(t.streetId).pipe((0,En.b)(E=>this.houses=E.sort(this.houseSort)),(0,En.b)(()=>this.viewMode="house")).subscribe(this.loadingStateHandler)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u043b\u0438\u0446\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectHouse(t){var o,r,g;this.viewMode="houseView",this.selectedHouse=t,t.place?(this.housePlace=t.place,this.updateCenterOfMap()):(this.housePlace=void 0,this.updateCenterOfMap()),this.houseEditingForm.setValue({houseNum:t.houseNum,letter:null!==(o=t.letter)&&void 0!==o?o:null,fraction:null!==(r=t.fraction)&&void 0!==r?r:null,build:null!==(g=t.build)&&void 0!==g?g:null,isApartmentHouse:t.isApartmentHouse,acpHouseBind:t.acpHouseBind})}createCity(){this.beginRequest$.next(!0),this.api.createCity(this.createCityForm.value).pipe((0,En.b)(this.requestStatusHandler)).subscribe(()=>this.createCityVisible=!1)}deleteCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.deleteCity(this.selectedCity.cityId).pipe((0,En.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="city")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}saveCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.editCity(this.selectedCity.cityId,this.cityEditingForm.value).pipe((0,En.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}createStreet(){this.selectedCity?(this.beginRequest$.next(!0),this.api.createStreet(this.selectedCity.cityId,this.createStreetForm.value).pipe((0,En.b)(this.requestStatusHandler)).subscribe(()=>this.createStreetVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}deleteStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u043b\u0438\u0446\u0443?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.deleteStreet(this.selectedStreet.streetId).pipe((0,En.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="street")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}saveStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.editStreet(this.selectedStreet.streetId,this.streetEditingForm.value).pipe((0,En.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}createHouse(){this.selectedStreet?(this.beginRequest$.next(!0),this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).pipe((0,En.b)(this.requestStatusHandler)).subscribe(()=>this.createHouseVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}deleteHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043c?",accept:()=>{var t;null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId?(this.beginRequest$.next(!0),this.api.deleteHouse(this.selectedHouse.houseId).pipe((0,En.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="house")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}saveHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;if(null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId){this.beginRequest$.next(!0);const o=this.houseEditingForm.value;this.housePlace&&(o.place=this.housePlace),this.api.editHouse(this.selectedHouse.houseId,o).pipe((0,En.b)(this.requestStatusHandler)).subscribe()}else this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}back(){"houseView"===this.viewMode?(this.viewMode="house",this.selectedHouse=void 0):"house"===this.viewMode?(this.viewMode="street",this.selectedStreet=void 0):"street"===this.viewMode&&(this.viewMode="city",this.selectedCity=void 0)}openDialogCreateHouse(){this.createHouseForm.reset({isApartmentHouse:!1}),this.createHouseVisible=!0}openDialogCreateStreet(){this.createStreetForm.reset(),this.createStreetVisible=!0}openDialogCreateCity(){this.createCityForm.reset(),this.createCityVisible=!0}reload(){this.cities=[],this.streets=[],this.houses=[],this.selectedCity=void 0,this.selectedStreet=void 0,this.selectedHouse=void 0,this.viewMode="city",this.streetFiltering=!1,this.loadingState=Ce.Gu.LOADING,this.filterControl.reset(),this.cityLoad$.subscribe(this.loadingStateHandler)}houseNavigationHandler(t){-1===t?this.previousHouse():1===t&&this.nextHouse()}previousHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t>0?this.houses[t-1]:this.houses[this.houses.length-1])}}nextHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t<this.houses.length-1?this.houses[t+1]:this.houses[0])}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(Q.F),e.Y36(N.ez),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:70,vars:34,consts:[["appExtendPageHeight","",1,"flex","flex-grow-1",3,"limited"],[3,"ngSwitch"],[4,"ngSwitchCase"],["cityList",""],["streetList",""],["houseList",""],["houseView",""],["loadingTemp",""],["errorTemp",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["pInputText","","type","text","formControlName","name"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u043b\u0438\u0446\u0443",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],["appendTo","body","formControlName","prefix",3,"options"],["pInputText","","formControlName","name","type","text"],["formControlName","altNames","separator",",",3,"allowDuplicate","addOnTab","addOnBlur"],["pInputText","","formControlName","billingAlias","type","text"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],[4,"ngTemplateOutlet"],[1,"flex","flex-grow-1"],[1,"flex","flex-column","gap-2","p-4","border-right-1","border-bluegray-100"],[1,"flex","gap-3","align-items-center"],[1,"text-bluegray-500","text-2xl"],[1,"flex-grow-1"],["icon","mdi-add","styleClass","p-button-outlined p-button-success p-button-icon",3,"loading","disabled","onClick"],[1,"list-view"],["class","flex gap-2 p-3 h-min align-items-center text-xl font-bold text-bluegray-500 border-round-md active-element","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","flex-grow-1","align-items-center","justify-content-center"],[1,"flex","flex-column","align-items-center","caption","f-color-500"],[1,"mds-check_circle"],[1,"caption","size-big","f-color-500"],["pRipple","",1,"flex","gap-2","p-3","h-min","align-items-center","text-xl","font-bold","text-bluegray-500","border-round-md","active-element",3,"click"],[1,"mdi-location_city"],["icon","mdi-arrow_back_ios_new","styleClass","p-button-text p-button-secondary p-button-icon",3,"loading","onClick"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b...","type","text",3,"appPreventInput","formControl"],[1,"list-view",3,"ngClass"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","gap-3","p-4","align-items-center","border-bottom-1","border-bluegray-100"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-text p-button-danger","icon","mdi-delete",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-2","p-5",3,"formGroup"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","class","align-self-end","styleClass","p-button-success","icon","mdi-save",3,"loading","disabled","onClick",4,"ngIf"],[1,"mdi-streetview"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success","icon","mdi-save",1,"align-self-end",3,"loading","disabled","onClick"],["class","flexed gap5 p10 h-min hcenter caption wt-bold f-color-600 border-round-md active-element","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","prefix",3,"options"],["pRipple","",1,"flexed","gap5","p10","h-min","hcenter","caption","wt-bold","f-color-600","border-round-md","active-element",3,"click"],[1,"mdi-home"],[1,"text-bluegray-500","text-2xl","flex-grow-1"],[1,"flex","gap-3","pt-5","px-5"],["label","\u041f\u0440\u0435\u0434. (Alt+B)","icon","mdi-arrow_back","styleClass","p-button-text p-button-info",3,"loading","onClick"],["label","\u0421\u043b\u0435\u0434. (Alt+N)","icon","mdi-arrow_forward","iconPos","right","styleClass","p-button-text p-button-info",3,"loading","onClick"],[1,"flex","flex-column","gap-3","flex-grow-1","p-5",3,"formGroup"],["formControlName","fraction"],["pInputText","","formControlName","letter","type","text"],["formControlName","build"],[1,"flex","gap-1","align-items-center"],["formControlName","isApartmentHouse",3,"binary"],[1,"flex-grow-1",3,"center","zoom","options","yaclick"],[3,"geometry",4,"ngIf"],[3,"geometry"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","caption","size-big","f-color-danger"],[1,"flex","flex-column","align-items-center"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","icon","mdi-refresh","styleClass","p-button-success p-button-outlined",1,"mt-3",3,"onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,Pw,2,1,"ng-container",2),e.YNc(3,Rw,2,1,"ng-container",2),e.YNc(4,Jw,6,5,"ng-container",2),e.BQk(),e.qZA(),e.YNc(5,Gw,15,6,"ng-template",null,3,e.W1O),e.YNc(7,Kw,30,21,"ng-template",null,4,e.W1O),e.YNc(9,Xw,37,20,"ng-template",null,5,e.W1O),e.YNc(11,o3,43,24,"ng-template",null,6,e.W1O),e.YNc(13,s3,2,0,"ng-template",null,7,e.W1O),e.YNc(15,r3,6,0,"ng-template",null,8,e.W1O),e.TgZ(17,"p-dialog",9),e.NdJ("visibleChange",function(g){return o.createCityVisible=g}),e.TgZ(18,"div",10)(19,"div",11)(20,"label",12),e._uU(21,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(22,"input",13),e.qZA(),e.TgZ(23,"p-button",14),e.NdJ("onClick",function(){return o.createCity()}),e.qZA()()(),e.TgZ(24,"p-dialog",15),e.NdJ("visibleChange",function(g){return o.createStreetVisible=g}),e.TgZ(25,"div",10)(26,"div",11)(27,"label",12),e._uU(28,"\u0422\u0438\u043f"),e.qZA(),e._UZ(29,"p-dropdown",16),e.qZA(),e.TgZ(30,"div",11)(31,"label",12),e._uU(32,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(33,"input",17),e.qZA(),e.TgZ(34,"div",11)(35,"label",12),e._uU(36,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(37,"p-chips",18),e.qZA(),e.TgZ(38,"div",11)(39,"label",12),e._uU(40,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(41,"input",19),e.qZA(),e.TgZ(42,"p-button",14),e.NdJ("onClick",function(){return o.createStreet()}),e.qZA()()(),e.TgZ(43,"p-dialog",20),e.NdJ("visibleChange",function(g){return o.createHouseVisible=g}),e.TgZ(44,"div",10)(45,"div",11)(46,"label",12),e._uU(47,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(48,"p-inputNumber",21),e.qZA(),e.TgZ(49,"div",11)(50,"label",12),e._uU(51,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(52,"p-inputNumber",22),e.qZA(),e.TgZ(53,"div",11)(54,"label",12),e._uU(55,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(56,"p-inputMask",23),e.qZA(),e.TgZ(57,"div",11)(58,"label",12),e._uU(59,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(60,"p-inputNumber",24),e.qZA(),e.TgZ(61,"div",11)(62,"label",12),e._uU(63,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA(),e._UZ(64,"p-inputSwitch",25),e.qZA(),e.TgZ(65,"div",26)(66,"label",12),e._uU(67,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(68,"app-acp-house-input",27),e.qZA(),e.TgZ(69,"p-button",14),e.NdJ("onClick",function(){return o.createHouse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(1),e.Q6J("ngSwitch",o.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(13),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",o.createCityVisible),e.xp6(1),e.Q6J("formGroup",o.createCityForm),e.xp6(5),e.Q6J("disabled",!o.createCityForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",o.createStreetVisible),e.xp6(1),e.Q6J("formGroup",o.createStreetForm),e.xp6(4),e.Q6J("options",o.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("disabled",!o.createStreetForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",o.createHouseVisible),e.xp6(1),e.Q6J("formGroup",o.createHouseForm),e.xp6(8),e.Q6J("min",1)("max",999),e.xp6(8),e.Q6J("min",1)("max",99),e.xp6(9),e.Q6J("disabled",!o.createHouseForm.valid))},styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.aq]}}),n})();var ET=C(9182),cu=C(7010),ST=C(4776),kT=C(3078);function a3(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.Tol("caption "+(o.getWorkActionsRatioSum(t.uuid)>0?"f-color-success":"f-color-danger")),e.xp6(1),e.hij(" ",o.getWorkActionsRatioSum(t.uuid),"\u0440\u0443\u0431. ")}}function l3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",18),e._uU(2),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA(),e.YNc(5,a3,2,3,"span",21),e.TgZ(6,"app-tiny-button",22),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(3);return e.KtG(E.removeWorkActionRatio(g.uuid))}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.hij("x",null==t?null:t.factor,""),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("size",.8)("disabled",o.isDisabled)}}function c3(n,i){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2,"\u0414\u043e\u043f. \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b:"),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,l3,7,5,"div",17),e.qZA(),e.TgZ(5,"span",18),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(4),e.Q6J("ngForOf",o.getFactorsActions(t.login))("ngForTrackBy",o.trackByWar),e.xp6(2),e.hij("\u0418\u0442\u043e\u0433: ",o.getEmployeeTotalPayment(t.login)," \u0440\u0443\u0431.")}}function u3(n,i){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-avatar",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.ynx(4,9),e.TgZ(5,"div",10),e._UZ(6,"p-slider",11),e.TgZ(7,"span",12),e._uU(8),e.ALo(9,"number"),e.qZA()(),e._UZ(10,"p-inputNumber",13),e.YNc(11,c3,7,3,"div",14),e.BQk(),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("deleted",t.deleted)("name",t.fullName)("size",5)("src",t.avatar),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("formGroupName",t.login),e.xp6(2),e.Q6J("max",1)("min",0)("step",.01)("disabled",o.isDisabled),e.xp6(2),e.hij(" ",e.xi3(9,13,100*o.employeeRatioForm.value[t.login].ratio,"1.2-2"),"% "),e.xp6(2),e.Q6J("disabled",0===o.totalCostOfWork||o.isDisabled),e.xp6(1),e.Q6J("ngIf",o.hasWorkActionRatio(t.login))}}let DT=(()=>{class n{constructor(){this.employeeRatioSubscriptions=new x.xf,this.employeeRatioForm=new p.cw({}),this.isDisabled=!1,this._employees=[],this._factorsActions=[],this._actionsTaken=[],this.onRemoveFactorAction=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){var o;if(null==t)return void(this._employees=[]);this._employees=t;const g=1/t.length;this.employeeRatioForm=new p.cw(t.reduce((E,W)=>{const Ie=new p.cw({ratio:new p.NI(g),sum:new p.NI(Math.round(g*this.totalCostOfWork))});return this.employeeRatioSubscriptions.addSubscription(W.login+"rt",Ie.controls.ratio.valueChanges.subscribe(it=>{if(null===it)return;const nt=W.login,Kt=Object.keys(this.employeeRatioForm.value).filter(Yt=>Yt!==nt).map(Yt=>this.employeeRatioForm.value[Yt].ratio).reduce((Yt,Qt)=>Yt+Qt,0);if(it+Kt>1){const Yt=it+Kt-1,Qt={};for(let _n in this.employeeRatioForm.value){if(Qt[_n]={ratio:0,sum:0},_n===nt)continue;const Ln=this.employeeRatioForm.value[_n].ratio;Qt[_n].ratio=Ln-Yt*(Ln/Kt),Qt[_n].sum=Math.round(Qt[_n].ratio*this.totalCostOfWork)}Qt[nt].ratio=it,Qt[nt].sum=Math.round(it*this.totalCostOfWork),this.employeeRatioForm.patchValue(Qt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[nt]:{ratio:it,sum:Math.round(it*this.totalCostOfWork)}},{emitEvent:!1})})),this.employeeRatioSubscriptions.addSubscription(W.login+"sum",Ie.controls.sum.valueChanges.subscribe(it=>{if(null!==it&&it>this.totalCostOfWork&&(it=this.totalCostOfWork),null===it)return;const nt=W.login,Kt=Object.keys(this.employeeRatioForm.value).filter(Yt=>Yt!==nt).map(Yt=>this.employeeRatioForm.value[Yt].sum).reduce((Yt,Qt)=>Yt+Qt,0);if(it+Kt>this.totalCostOfWork){const Yt=it+Kt-this.totalCostOfWork,Qt={};for(let _n in this.employeeRatioForm.value){if(Qt[_n]={ratio:0,sum:0},_n===nt)continue;const Ln=this.employeeRatioForm.value[_n].sum;Qt[_n].sum=Math.round(Ln-Yt*(Ln/Kt)),Qt[_n].ratio=Qt[_n].sum/this.totalCostOfWork}Qt[nt].sum=Math.round(it),Qt[nt].ratio=it/this.totalCostOfWork,this.employeeRatioForm.patchValue(Qt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[nt]:{ratio:it/this.totalCostOfWork,sum:Math.round(it)}},{emitEvent:!1})})),Object.assign(Object.assign({},E),{[W.login]:Ie})},{})),setTimeout(()=>this.onChange(this.employeeRatioForm.value)),null===(o=this.formSub)||void 0===o||o.unsubscribe(),this.formSub=this.employeeRatioForm.valueChanges.subscribe(E=>{this.onChange(E),this.onTouched()})}set actionPicker(t){var o;null===(o=this.actionPickerSub)||void 0===o||o.unsubscribe(),null!=t?(this.actionPicker$=t,this.actionPickerSub=this.actionPicker$.subscribe(r=>{var g;!r||(this._actionsTaken=r.actionsTaken,this._factorsActions=null!==(g=r.factorsActions)&&void 0!==g?g:[],this.recalculateAmountsForEmployees())})):this.actionPicker$=void 0}get factorsActions(){return this._factorsActions}get actionsTaken(){return this._actionsTaken}get totalCostOfWork(){return this.actionsTaken.reduce((t,o)=>t+o.cost,0)}get allMoney(){return this.employeeRatioForm.value?Object.values(this.employeeRatioForm.value).reduce((t,o)=>t+o.sum,0):0}get allMoneyWithRatio(){return this.allMoney+this.getTotalWorkActionsRatioSum()}getTotalWorkActionsRatioSum(){return this.factorsActions.reduce((t,o)=>t+this.getWorkActionsRatioSum(o.uuid),0)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.formSub)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}equalize(){const o=1/this.employees.length,r=Object.keys(this.employeeRatioForm.value).map(g=>g).reduce((g,E)=>Object.assign(Object.assign({},g),{[E]:{ratio:o,sum:Math.round(o*this.totalCostOfWork)}}),{});this.employeeRatioForm.patchValue(r)}setDisabledState(t){this.isDisabled=t}writeValue(t){this.employeeRatioForm.patchValue(t,{emitEvent:!1})}trackByEmployee(t,o){return o.login+o.fullName+o.avatar}trackByWar(t,o){return o.uuid+o.name+o.factor}hasWorkActionRatio(t){return this.factorsActions.find(o=>o.login===t)}getFactorsActions(t){return this.factorsActions.filter(o=>o.login===t)}removeWorkActionRatio(t){this.onRemoveFactorAction.emit(this.factorsActions.filter(o=>o.uuid!==t))}getEmployeeTotalPayment(t){return this.employeeRatioForm.value[t].sum+this.getFactorsActions(t).reduce((o,r)=>o+this.getWorkActionsRatioSum(r.uuid),0)}getWorkActionsRatioSum(t){const o=this.factorsActions.find(r=>r.uuid===t);if(o){const E=o.actionUuids.reduce((W,Ie)=>{const it=this.actionsTaken.find(nt=>nt.uuid===Ie);return it?W+it.cost:W},0)*this.employeeRatioForm.value[o.login].ratio;return Math.round(E*o.factor-E)}return 0}recalculateAmountsForEmployees(){for(const t in this.employeeRatioForm.value){const o=this.employeeRatioForm.value[t];this.employeeRatioForm.patchValue({[t]:{ratio:o.ratio,sum:Math.round(o.ratio*this.totalCostOfWork)}},{emitEvent:!1})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-sum-distribution"]],inputs:{employees:"employees",actionPicker:"actionPicker"},outputs:{onRemoveFactorAction:"onRemoveFactorAction"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:5,consts:[[1,"flex","flex-column","gap-4"],[1,"flexed","gap10","sparnd",3,"formGroup"],["class","flexed column vcenter gap5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","vend","hcenter","gap10"],[1,"caption","wt-bold","f-color-500"],[1,"caption","size-big","wt-bold","f-color-primary"],[1,"flexed","column","vcenter","gap5"],[3,"deleted","name","size","src"],[1,"caption","size-big"],[3,"formGroupName"],[1,"flexed","gap10","hcenter","w-full"],["formControlName","ratio",1,"w-full",3,"max","min","step","disabled"],[1,"caption","size-tiny","wt-bold","f-color-500"],["formControlName","sum","suffix"," \u0440\u0443\u0431.",3,"disabled"],["class","flexed column gap2",4,"ngIf"],[1,"flexed","column","gap2"],[1,"caption","size-tiny","wt-bold"],["class","flexed hcenter gap3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"caption"],[1,"flexed","hcenter","gap3"],[1,"caption","size-tiny","wt-bold","f-color-primary"],[3,"class",4,"ngIf"],["icon","delete","model","danger",3,"size","disabled","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,u3,12,16,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.employeeRatioForm),e.xp6(1),e.Q6J("ngForOf",o.employees)("ngForTrackBy",o.trackByEmployee),e.xp6(3),e.hij(" \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",o.allMoney," \u0440\u0443\u0431. "),e.xp6(2),e.hij(" \u0418\u0442\u043e\u0433 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u044d\u0444.: ",o.allMoneyWithRatio," \u0440\u0443\u0431. "))},dependencies:[D.sg,D.O5,p.JJ,p.JL,cu.Rn,p.sg,p.u,p.x0,ST.iR,y.A,kT.g,D.JJ]}),n})();var Jh=C(242),Qh=C(5055);function d3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-listbox",17),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.selectTemplate(r.value))}),e.qZA()}if(2&n){const t=i.ngIf,o=e.oxw();e.Q6J("disabled","LOADING"===o.templateLoadingState)("hidden","READY"!==o.wireframesLoadingState)("options",t)}}function p3(n,i){1&n&&e.GkF(0)}function h3(n,i){if(1&n&&e._UZ(0,"app-task-template-input",19),2&n){const t=i.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function g3(n,i){if(1&n&&(e.ynx(0),e.YNc(1,h3,1,2,"app-task-template-input",18),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.taskFields)}}function f3(n,i){1&n&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"span",22),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA()()())}function m3(n,i){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"p-progressSpinner",23),e.qZA())}function _3(n,i){1&n&&e._UZ(0,"app-employee-label",32),2&n&&e.Q6J("employee",i.$implicit)}const C3=function(){return{"max-height":"200px"}};function v3(n,i){if(1&n&&(e.TgZ(0,"section",24)(1,"div",5)(2,"span",6),e._uU(3,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(4,"p-listbox",25),e.YNc(5,_3,1,1,"ng-template",26),e.qZA()(),e.TgZ(6,"div",27)(7,"div",5)(8,"span",6),e._uU(9,"\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(10,"p-calendar",28),e.qZA(),e.TgZ(11,"div",5)(12,"span",6),e._uU(13,"\u0422\u0435\u0433\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(14,"app-task-tag-selector",29),e.qZA(),e.TgZ(15,"div",30)(16,"span",6),e._uU(17,"\u041e\u0442\u0447\u0435\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445"),e.qZA(),e._UZ(18,"textarea",31),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.installersReportForm),e.xp6(4),e.Q6J("checkbox",!0)("metaKeySelection",!1)("multiple",!0)("listStyle",e.DdM(12,C3))("options",t.installers),e.xp6(6),e.Q6J("readonlyInput",!0)("selectOtherMonths",!0)("firstDayOfWeek",1),e.xp6(4),e.Q6J("autoAccept",!0),e.xp6(4),e.Q6J("autoResize",!0)("rows",4)}}function b3(n,i){if(1&n&&(e.TgZ(0,"section",4),e._UZ(1,"app-works-picker",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("employees",t.installersReportForm.value.installers)("formControl",t.worksPickerForm)}}function y3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"section",4)(1,"app-employee-sum-distribution",34),e.NdJ("onRemoveFactorAction",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.removeFactorActionHandler(r))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.employeeRatioForm)("employees",t.installersReportForm.value.installers)("actionPicker",t.worksPickerForm.valueChanges)}}function x3(n,i){1&n&&e._UZ(0,"p-inputNumber",41)}function I3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"section",35)(1,"div",36)(2,"span",37),e._uU(3,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(4,"p-inputSwitch",38),e.YNc(5,x3,1,0,"p-inputNumber",39),e.qZA(),e.TgZ(6,"p-button",40),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createTaskAndCalculate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("loading",t.isSendingCalculation)}}function T3(n,i){1&n&&(e.TgZ(0,"span",47),e._UZ(1,"span",48),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function A3(n,i){1&n&&(e.TgZ(0,"span",49),e._UZ(1,"span",50),e.TgZ(2,"span"),e._uU(3,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()())}function w3(n,i){1&n&&(e.ynx(0),e._UZ(1,"p-skeleton",51)(2,"p-skeleton",51)(3,"p-skeleton",51),e.BQk())}function E3(n,i){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,T3,4,0,"span",44),e.YNc(2,A3,4,0,"span",45),e.YNc(3,w3,4,0,"ng-container",46),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.wireframesLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function S3(n,i){if(1&n&&e.YNc(0,E3,4,4,"div",42),2&n){const t=e.oxw();e.Q6J("ngIf","READY"!==t.wireframesLoadingState)}}let k3=(()=>{class n{constructor(t,o){this.api=t,this.toast=o,this.wireframesLoadingState=Ce.Gu.LOADING,this.wireframes$=(0,Tn.of)(null).pipe((0,En.b)(()=>{this.wireframesLoadingState=Ce.Gu.LOADING}),(0,F.w)(()=>this.api.getWireframes(!1)),(0,En.b)({next:r=>{this.wireframesLoadingState=r.length>0?Ce.Gu.READY:Ce.Gu.EMPTY},error:()=>{this.wireframesLoadingState=Ce.Gu.ERROR}}),(0,ft.U)(r=>r.map(g=>({label:g.name,value:g.wireframeId})))),this.templateLoadingState=Ce.Gu.EMPTY,this.taskFields=[],this.taskInformationForm=new p.cw({}),this.installers=[],this.loadingInstallers$=this.api.getInstallersEmployees().pipe((0,En.b)({next:r=>{this.installers=r},error:()=>{}})),this.installersReportForm=new p.cw({installers:new p.NI([],[p.kI.required]),report:new p.NI("",[p.kI.required]),tags:new p.NI([]),date:new p.NI(new Date,[p.kI.required])}),this.subscriptions=new x.xf,this.worksPickerForm=new p.NI(null,[this.worksPickerValidator]),this.isSendingCalculation=!1,this.employeeRatioForm=new p.NI({}),this.paidWorkForm=new p.cw({isPaidWork:new p.NI(!1),amountOfMoneyTaken:new p.NI(null)}),this._selectTemplateSubject=new pr.x,this.selectWireframe$=this._selectTemplateSubject.pipe((0,En.b)(()=>{this.templateLoadingState=Ce.Gu.LOADING}),(0,F.w)(r=>this.api.getWireframe(r)),(0,En.b)(()=>this.loadingInstallers$.subscribe()),(0,En.b)({next:r=>{var g,E,W;this.taskFields=null!==(g=r.allFields)&&void 0!==g?g:[],this.selectedWireframe=r,this.taskInformationForm=new p.cw(null!==(W=null===(E=r.allFields)||void 0===E?void 0:E.reduce((Ie,it)=>Object.assign(Object.assign({},Ie),{[it.id]:new p.NI(null,R.d.taskInput(it.type,it.variation))}),{}))&&void 0!==W?W:new p.cw({})),this.templateLoadingState=Ce.Gu.READY},error:()=>{this.templateLoadingState=Ce.Gu.ERROR}})),this.sendingCalculationHandler={next:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable(),this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset(),this.installersReportForm.reset({installers:[],report:"",tags:[],date:new Date}),this.taskInformationForm.reset()},error:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable()}}}worksPickerValidator(t){const o=t.value;return null==o?{required:!0}:"actionsTaken"in o?null==o.actionsTaken||0===o.actionsTaken.length?{required:!0}:null:{required:!0}}ngOnInit(){this.subscriptions.addSubscription("selwf",this.selectWireframe$.subscribe())}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplate(t){this._selectTemplateSubject.next(t)}getFactorsActions(t){var o,r;return null!==(o=this.worksPickerForm.value)&&void 0!==o&&o.factorsActions?null===(r=this.worksPickerForm.value)||void 0===r?void 0:r.factorsActions.filter(g=>g.login===t):[]}createTaskAndCalculate(){var t;const o=this.installersReportForm.value.installers;this.taskInformationForm.markAllAsTouched(),this.worksPickerForm.markAllAsTouched(),this.installersReportForm.markAllAsTouched(),this.taskInformationForm.invalid?this.toast.add({detail:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u0434\u0430\u0447\u0435",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.installersReportForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0442\u0447\u0435\u0442",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.worksPickerForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u044b",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):!o||null===(t=this.worksPickerForm.value)||void 0===t||!t.actionsTaken||!this.selectedWireframe||this.paidWorkForm.value.isPaidWork&&(!this.paidWorkForm.value.amountOfMoneyTaken||this.paidWorkForm.value.amountOfMoneyTaken<1)||(this.isSendingCalculation=!0,this.worksPickerForm.disable(),this.employeeRatioForm.disable(),this.installersReportForm.disable(),this.taskInformationForm.disable(),this.paidWorkForm.disable(),this.api.sendBypassWorkCalculation({taskInfo:{wireframeId:this.selectedWireframe.wireframeId,fields:x.PU.convert(this.taskInformationForm.value,this.selectedWireframe)},reportInfo:this.installersReportForm.value,actions:this.worksPickerForm.value.actionsTaken.map(r=>({workId:r.workId,actionId:r.actionId,count:r.count,uuid:r.uuid})),spreading:o.map(r=>({login:r.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[r.login].ratio:0,factorsActions:this.getFactorsActions(r.login).filter(g=>g).map(g=>({factor:g.factor,name:g.name,actionUuids:g.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandler))}removeFactorActionHandler(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(N.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:26,vars:13,consts:[[1,"flex","flex-column","flex-grow-1"],[1,"flex","align-items-center","px-5","py-4","border-bottom-1","border-bluegray-100"],[1,"text-2xl","text-bluegray-500","font-semibold"],[1,"flex","flex-column","px-4"],[1,"flex","gap-4","p-4","terminator-bottom"],[1,"flex","flex-column","gap-1"],[1,"caption","wt-bold","f-color-500"],[3,"disabled","hidden","options","onChange",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"flex","flex-grow-1","flex-column","gap-2",3,"formGroup"],[4,"ngIf"],[3,"ngSwitch"],["class","flex justify-content-center",4,"ngSwitchCase"],["class","flex gap-4 p-4 terminator-bottom",3,"formGroup",4,"ngIf"],["class","flex gap-4 p-4 terminator-bottom",4,"ngIf"],["class","flex gap-3 w-max align-self-end my-3",4,"ngIf"],["wireframesLoadingTemp",""],[3,"disabled","hidden","options","onChange"],[3,"field","formControlName",4,"ngFor","ngForOf"],[3,"field","formControlName"],[1,"flex","justify-content-center"],[1,"flex","align-items-center","caption","size-big","wt-bold","f-color-400"],[1,"mds-done"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","gap-4","p-4","terminator-bottom",3,"formGroup"],["formControlName","installers",3,"checkbox","metaKeySelection","multiple","listStyle","options"],["pTemplate","item"],[1,"flex","flex-column","gap-2","flex-grow-1"],["selectionMode","single","appendTo","body","formControlName","date",3,"readonlyInput","selectOtherMonths","firstDayOfWeek"],["formControlName","tags",3,"autoAccept"],[1,"flex","flex-column","gap-1","flex-grow-1"],["pInputTextarea","","formControlName","report",3,"autoResize","rows"],[3,"employee"],[1,"flex-grow-1",3,"employees","formControl"],[1,"w-full",3,"formControl","employees","actionPicker","onRemoveFactorAction"],[1,"flex","gap-3","w-max","align-self-end","my-3"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB"],["class","border-round-md border-1 border-solid border-300 p-3 flex flex-column gap-2",3,"ngSwitch",4,"ngIf"],[1,"border-round-md","border-1","border-solid","border-300","p-3","flex","flex-column","gap-2",3,"ngSwitch"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-danger",4,"ngSwitchCase"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-300",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-300"],[1,"mdi-backpack"],["width","10rem","height","2.8rem"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()(),e.TgZ(4,"div",3)(5,"section",4)(6,"div")(7,"div",5)(8,"span",6),e._uU(9,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.YNc(10,d3,1,3,"p-listbox",7),e.ALo(11,"async"),e.YNc(12,p3,1,0,"ng-container",8),e.qZA()(),e.TgZ(13,"div",9)(14,"span",6),e._uU(15,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e.YNc(16,g3,2,1,"ng-container",10),e.ynx(17,11),e.YNc(18,f3,5,0,"div",12),e.YNc(19,m3,2,0,"div",12),e.BQk(),e.qZA()(),e.YNc(20,v3,19,13,"section",13),e.YNc(21,b3,2,2,"section",14),e.YNc(22,y3,2,3,"section",14),e.YNc(23,I3,7,3,"section",15),e.qZA()(),e.YNc(24,S3,1,1,"ng-template",null,16,e.W1O)),2&t){const r=e.MAs(25);e.xp6(10),e.Q6J("ngIf",e.lcZ(11,11,o.wireframes$)),e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("formGroup",o.taskInformationForm),e.xp6(3),e.Q6J("ngIf","READY"===o.templateLoadingState),e.xp6(1),e.Q6J("ngSwitch",o.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngIf","READY"===o.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===o.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===o.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===o.templateLoadingState)}},dependencies:[k.o,Ec.x,be,ET.x,DT,Jh.Ql,p.Fj,p.JJ,p.JL,N.jx,D.sg,p.oH,p.sg,p.u,D.O5,ct.g,P.zx,D.tP,D.RF,D.n9,u_.f,ot.G,yo.O,cu.Rn,Qh.Ri,D.Ov],styles:["[_nghost-%COMP%]{flex-grow:1}"]}),n})();function D3(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"app-ip-input",12),e.qZA()(),e.TgZ(28,"div",13)(29,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.billingConfigForm),e.xp6(8),e.Q6J("max",65538)("min",1),e.xp6(18),e.Q6J("loading",t.isSaving)("disabled",!t.billingConfigForm.valid)}}function M3(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",15)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"p-skeleton",16),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-skeleton",17),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"p-skeleton",16),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"p-skeleton",16),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"p-skeleton",16),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"p-skeleton",18),e.qZA()(),e.TgZ(28,"div",13),e._UZ(29,"p-skeleton",19),e.qZA(),e.BQk())}let MT=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this.billingConfigForm=new p.cw({host:new p.NI("",[p.kI.required]),port:new p.NI(80,[p.kI.required]),login:new p.NI("",[p.kI.required]),password:new p.NI("",[p.kI.required]),daemonName:new p.NI("",[p.kI.required]),selfIp:new p.NI("",[p.kI.required])}),this.isLoading=!0,this.isSaving=!1}ngOnInit(){this.api.getBillingConfiguration().subscribe(t=>{this.billingConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.billingConfigChanged().subscribe(t=>this.billingConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.billingConfigForm.disable({emitEvent:!1}),this.api.setBillingConfiguration(this.billingConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","host","pInputText","","type","text"],["formControlName","port",3,"max","min"],["formControlName","login","pInputText","","type","text"],["formControlName","password","pInputText","","type","text"],["formControlName","daemonName","pInputText","","type","text"],["formControlName","selfIp"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["width","15rem","height","3rem"],["width","16rem","height","3rem"],["height","3rem","width","10rem"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,D3,30,5,"ng-container",3),e.YNc(4,M3,30,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading))}}),n})();function O3(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"input",9),e.qZA()(),e.TgZ(16,"div",10)(17,"p-button",11),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.telegramConfigForm),e.xp6(14),e.Q6J("loading",t.isSaving)("disabled",!t.telegramConfigForm.valid)}}function P3(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",12)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"p-skeleton",13),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"p-skeleton",13),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"p-skeleton",13),e.qZA()(),e.TgZ(16,"div",10),e._UZ(17,"p-skeleton",14),e.qZA(),e.BQk())}let OT=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this.isLoading=!0,this.isSaving=!1,this.telegramConfigForm=new p.cw({botToken:new p.NI("",[p.kI.required]),botName:new p.NI("",[p.kI.required]),dhcpNotificationChatId:new p.NI("")})}ngOnInit(){this.api.getTelegramConfiguration().subscribe(t=>{this.telegramConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.telegramConfigChanged().subscribe(t=>this.telegramConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.telegramConfigForm.disable({emitEvent:!1}),this.api.setTelegramConfiguration(this.telegramConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","botToken","pInputText","","type","text"],["formControlName","botName","pInputText","","type","text"],["formControlName","dhcpNotificationChatId","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,O3,18,3,"ng-container",3),e.YNc(4,P3,18,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading))}}),n})();function L3(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"input",7),e.qZA()(),e.TgZ(8,"div",8)(9,"p-button",9),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.acpConfigForm),e.xp6(6),e.Q6J("loading",t.isSaving)("disabled",!t.acpConfigForm.valid)}}function R3(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",10)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"p-skeleton",11),e.qZA()(),e.TgZ(8,"div",8),e._UZ(9,"p-skeleton",12),e.qZA(),e.BQk())}let PT=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this.isLoading=!0,this.isSaving=!1,this.acpConfigForm=new p.cw({acpFlexConnectorEndpoint:new p.NI("",[p.kI.required])})}ngOnInit(){this.api.getAcpConfiguration().subscribe(t=>{this.acpConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.acpConfigChanged().subscribe(t=>this.acpConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.acpConfigForm.disable({emitEvent:!1}),this.api.setAcpConfiguration(this.acpConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","h-fit","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","acpFlexConnectorEndpoint","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,L3,10,3,"ng-container",3),e.YNc(4,R3,10,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading))}}),n})();var N3=C(7570);let F3=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","w-full"],[1,"flex-grow-1"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-files-viewer",1),e.qZA())},dependencies:[V,N3.M]}),n})();var B3=C(5107);let Z3=(()=>{class n{constructor(){}canActivate(t,o){return!x.Ke.loadOrDefault("isOffsite",!1)}canActivateChild(t,o){return!x.Ke.loadOrDefault("isOffsite",!1)}canLoad(t,o){return!x.Ke.loadOrDefault("isOffsite",!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var If=C(9814),Tf=C(9873);const U3=["dropEl"],H3=function(n,i){return{"mdi-expand_more":n,"mdi-expand_less":i}};function V3(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleExpand())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(1,H3,!t.expand,t.expand))}}const z3=function(){return{width:"20px"}};function J3(n,i){1&n&&e._UZ(0,"div"),2&n&&e.Akn(e.DdM(2,z3))}function Q3(n,i){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Oqu(t)}}function G3(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Q3,2,1,"span",11),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(11);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.counter))("ngIfElse",o)}}function W3(n,i){if(1&n&&(e.ynx(0),e.YNc(1,G3,3,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(11);e.xp6(1),e.Q6J("ngIf",!t.isCounterLoading)("ngIfElse",o)}}function Y3(n,i){1&n&&e.GkF(0)}function j3(n,i){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Y3,1,0,"ng-container",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",t.contentTemplateData)}}function K3(n,i){1&n&&e._UZ(0,"p-skeleton",15)}const $3=function(n,i){return[n,i]};let LT=(()=>{class n{constructor(t){this.router=t,this.expand=!1,this.expandChange=new e.vpe(!0),this.autoExpand=!0,this.link="",this.label="",this.isEmpty=!0,this.isCounterLoading=!1,this.onDrop=new e.vpe,this.onClick=new e.vpe}ngOnInit(){this.link&&this.router.isActive(this.link,!1)&&this.autoExpand&&this.setExpand(!0),this.clearClassesOnDropSub=(0,b.R)(window,"dragend").subscribe(t=>{this.dropEl&&this.dropEl.nativeElement&&this.dropEl.nativeElement.classList.remove("p-draggable-enter")})}ngOnDestroy(){var t;null===(t=this.clearClassesOnDropSub)||void 0===t||t.unsubscribe()}toggleExpand(){this.setExpand(!this.expand)}setExpand(t){this.expand!==t&&(this.expand=t,this.expandChange.emit(this.expand))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-menu-item"]],viewQuery:function(t,o){if(1&t&&e.Gf(U3,5),2&t){let r;e.iGM(r=e.CRH())&&(o.dropEl=r.first)}},inputs:{expand:"expand",autoExpand:"autoExpand",link:"link",label:"label",counter:"counter",isEmpty:"isEmpty",contentTemplate:"contentTemplate",contentTemplateData:"contentTemplateData",droppable:"droppable",isCounterLoading:"isCounterLoading"},outputs:{expandChange:"expandChange",onDrop:"onDrop",onClick:"onClick"},decls:12,vars:12,consts:[[1,"flex","flex-column"],[1,"flex","align-items-center","p-2","text-bluegray-600","user-select-none"],["class","hover:text-primary cursor-pointer",3,"ngClass","click",4,"ngIf"],[3,"style",4,"ngIf"],["routerLinkActive","text-write bg-primary cursor-default",1,"flex-grow-1","px-2","py-1","border-round-sm","cursor-pointer","white-space-nowrap",3,"pDroppable","pDroppableDisabled","ngClass","routerLink","onDrop","click"],["dropEl","","rla","routerLinkActive"],[4,"ngIf"],["class","pl-4 flex flex-column",4,"ngIf"],["loading",""],[1,"hover:text-primary","cursor-pointer",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["class","font-bold text-sm ml-2",4,"ngIf","ngIfElse"],[1,"font-bold","text-sm","ml-2"],[1,"pl-4","flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["width","1rem","height","1rem","borderRadius",".2rem",1,"ml-3"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,V3,1,4,"span",2),e.YNc(3,J3,1,3,"div",3),e.TgZ(4,"span",4,5),e.NdJ("onDrop",function(E){e.CHM(r);const W=e.MAs(5);return e.KtG(o.onDrop.emit({$event:E,dropEl:W}))})("click",function(){return o.autoExpand&&o.setExpand(!0),o.onClick.emit()}),e._uU(7),e.qZA(),e.YNc(8,W3,2,2,"ng-container",6),e.qZA(),e.YNc(9,j3,2,2,"div",7),e.qZA(),e.YNc(10,K3,1,0,"ng-template",null,8,e.W1O)}if(2&t){const r=e.MAs(6);let g;e.xp6(2),e.Q6J("ngIf",!o.isEmpty),e.xp6(1),e.Q6J("ngIf",o.isEmpty),e.xp6(1),e.Q6J("pDroppable",null!==(g=o.droppable)&&void 0!==g?g:"")("pDroppableDisabled",!o.droppable)("ngClass",e.WLB(9,$3,r.isActive?"hover:text-white hover:bg-primary-700":"hover:text-primary hover:bg-white",o.droppable?"droppable":""))("routerLink",o.link),e.xp6(3),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.counter),e.xp6(1),e.Q6J("ngIf",o.expand&&o.contentTemplate)}},dependencies:[D.mk,D.O5,D.tP,d.rH,d.Od,yo.O,Tf.bK,D.Ov],styles:[".droppable.p-draggable-enter[_ngcontent-%COMP%]{background-color:var(--orange-500)!important;color:#fff!important}"]}),n})();var Bx=C(7658),RT=C(7433);function q3(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"p-breadcrumb",42),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("model",t)}}function X3(n,i){1&n&&e.GkF(0)}function eE(n,i){1&n&&e.GkF(0)}function tE(n,i){1&n&&e.GkF(0)}function nE(n,i){1&n&&e.GkF(0)}function iE(n,i){1&n&&e.GkF(0)}function oE(n,i){1&n&&e._UZ(0,"div",43)}const Zx=function(n){return{status:"ACTIVE",schedulingType:n}};function sE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",44),e.NdJ("expandChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.rootExpandMap.active=r)})("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cacheService.unExpandOtherCatalog("active"))}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(22);e.Q6J("contentTemplate",o)("expand",t.cacheService.rootExpandMap.active)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Zx,t.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435")("link","/tasks/catalog/active")}}const L_=function(n){return{wireframe:n}},rE=function(n,i){return{status:"ACTIVE",cls:n,schedulingType:i}};function aE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(24);let g;e.Q6J("contentTemplateData",e.VKq(6,L_,t))("contentTemplate",r)("counter",o.cacheService.getTasksCounter(null,e.WLB(8,rE,t.wireframeId,o.SchedulingType.EXCEPT_PLANNED)))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/catalog/active/"+t.wireframeId)}}function lE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,aE,1,11,"app-catalog-menu-item",45),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function cE(n,i){if(1&n&&(e.YNc(0,lE,2,1,"ng-container",3),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const R_=function(n,i){return{wireframe:n,stage:i}},NT=function(n,i,t){return{status:"ACTIVE",cls:n,type:i,schedulingType:t}};function uE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw(),g=e.MAs(26);e.Q6J("contentTemplateData",e.WLB(6,R_,o,t))("contentTemplate",g)("counter",r.cacheService.getTasksCounter(null,e.kEZ(9,NT,o.wireframeId,t.stageId,r.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/active/"+o.wireframeId+"/"+t.stageId)}}function dE(n,i){1&n&&e.YNc(0,uE,1,13,"app-catalog-menu-item",45),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}const pE=function(n,i,t){return{wireframe:n,stage:i,directory:t}},FT=function(n,i,t,o){return{status:"ACTIVE",cls:n,type:i,directory:t,schedulingType:o}};function hE(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-catalog-menu-item",48),e.NdJ("onDrop",function(){const g=e.CHM(t).$implicit,E=e.oxw(3);return e.KtG(E.cacheService.moveToDirectory(g))}),e.qZA(),e.BQk()}if(2&n){const t=i.$implicit,o=e.oxw(2),r=o.wireframe,g=o.stage,E=e.oxw(),W=e.MAs(28);e.xp6(1),e.Akn(E.cacheService.catalogHighlight(t.taskTypeDirectoryId)),e.Q6J("autoExpand",!1)("contentTemplateData",e.kEZ(10,pE,r,g,t))("contentTemplate",W)("counter",E.cacheService.getTasksCounter("dir",e.l5B(14,FT,r.wireframeId,g.stageId,t.taskTypeDirectoryId,E.SchedulingType.EXCEPT_PLANNED)))("droppable",g.stageId)("isEmpty",!1)("label",t.name)("link","/tasks/catalog/active/"+r.wireframeId+"/"+g.stageId+"/dir/"+t.taskTypeDirectoryId)}}function gE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,hE,2,19,"ng-container",47),e.BQk()),2&n){const t=e.oxw().stage;e.xp6(1),e.Q6J("ngForOf",t.directories)}}function fE(n,i){1&n&&e.GkF(0)}function mE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,fE,1,0,"ng-container",49),e.BQk()),2&n){const t=e.oxw(),o=t.wireframe,r=t.stage;e.oxw();const g=e.MAs(66);e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.WLB(2,R_,o,r))}}function _E(n,i){if(1&n&&(e.YNc(0,gE,2,1,"ng-container",3),e.YNc(1,mE,2,5,"ng-container",3)),2&n){const t=i.stage;e.Q6J("ngIf",t.directories&&t.directories.length>0),e.xp6(1),e.Q6J("ngIf",!(t.directories&&t.directories.length>0))}}function CE(n,i){1&n&&e.GkF(0)}const vE=function(n,i,t,o){return{tag:n,wireframe:i,stage:t,dir:o}};function bE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,CE,1,0,"ng-container",49),e.BQk()),2&n){const t=i.$implicit,o=e.oxw(3),r=o.wireframe,g=o.stage,E=o.directory;e.oxw();const W=e.MAs(68);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,vE,t,r,g,E))}}function yE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,bE,2,7,"ng-container",47),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function xE(n,i){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,yE,2,1,"ng-container",52),e.qZA()),2&n){const t=i.ngIf;e.oxw(2);const o=e.MAs(76);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",o)}}function IE(n,i){if(1&n&&(e.YNc(0,xE,2,2,"div",50),e.ALo(1,"async")),2&n){const t=i.directory,o=i.stage,r=i.wireframe,g=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,g.cacheService.getTagsFromCatalog(e.l5B(3,FT,r.wireframeId,o.stageId,t.taskTypeDirectoryId,g.SchedulingType.EXCEPT_PLANNED))))}}const TE=function(n){return{status:"PROCESSING",schedulingType:n}};function AE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",44),e.NdJ("expandChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.rootExpandMap.processing=r)})("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cacheService.unExpandOtherCatalog("processing"))}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(32);e.Q6J("contentTemplate",o)("expand",t.cacheService.rootExpandMap.processing)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,TE,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432")("link","/tasks/catalog/processing")}}const wE=function(n,i){return{status:"PROCESSING",cls:n,schedulingType:i}};function EE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(34);let g;e.Q6J("contentTemplateData",e.VKq(6,L_,t))("contentTemplate",r)("counter",o.cacheService.getTasksCounter(null,e.WLB(8,wE,t.wireframeId,o.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/catalog/processing/"+t.wireframeId)}}function SE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,EE,1,11,"app-catalog-menu-item",45),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function kE(n,i){if(1&n&&(e.YNc(0,SE,2,1,"ng-container",3),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const DE=function(n,i,t){return{status:"PROCESSING",cls:n,type:i,schedulingType:t}};function ME(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",54),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw();e.Q6J("counter",r.cacheService.getTasksCounter(null,e.kEZ(4,DE,o.wireframeId,t.stageId,r.SchedulingType.UNSCHEDULED)))("isEmpty",!0)("label",t.label)("link","/tasks/catalog/processing/"+o.wireframeId+"/"+t.stageId)}}function OE(n,i){1&n&&e.YNc(0,ME,1,8,"app-catalog-menu-item",53),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}const PE=function(n){return{status:"CLOSE",schedulingType:n}};function LE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cacheService.unExpandOtherCatalog("close"))})("expandChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.rootExpandMap.close=r)}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(38);e.Q6J("contentTemplate",o)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,PE,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.close)("label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435")("link","/tasks/catalog/close")}}const RE=function(n,i){return{status:"CLOSE",cls:n,schedulingType:i}};function NE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(40);let g;e.Q6J("contentTemplateData",e.VKq(6,L_,t))("contentTemplate",r)("counter",o.cacheService.getTasksCounter(null,e.WLB(8,RE,t.wireframeId,o.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/catalog/close/"+t.wireframeId)}}function FE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,NE,1,11,"app-catalog-menu-item",45),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function BE(n,i){if(1&n&&(e.YNc(0,FE,2,1,"ng-container",3),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const ZE=function(n,i,t){return{status:"CLOSE",cls:n,type:i,schedulingType:t}};function UE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw(),g=e.MAs(42);e.Q6J("contentTemplateData",e.WLB(6,R_,o,t))("contentTemplate",g)("counter",r.cacheService.getTasksCounter(null,e.kEZ(9,ZE,o.wireframeId,t.stageId,r.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/close/"+o.wireframeId+"/"+t.stageId)}}function HE(n,i){1&n&&e.YNc(0,UE,1,13,"app-catalog-menu-item",45),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}const Af=function(n){return{timeFrame:n}},BT=function(n,i,t,o){return{status:"CLOSE",cls:n,type:i,dateOfClose:t,schedulingType:o}},Ux=function(n,i,t){return{wireframe:n,stage:i,timeFrame:t}};function VE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=i.$implicit,o=e.oxw(),r=o.wireframe,g=o.stage,E=e.oxw(),W=e.MAs(44);e.Q6J("counter",E.cacheService.getTasksCounter("close-time",e.l5B(9,BT,r.wireframeId,g.stageId,e.VKq(7,Af,t.id),E.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",W)("contentTemplateData",e.kEZ(14,Ux,r,g,t.id))("link","/tasks/catalog/close/"+r.wireframeId+"/"+g.stageId+"/close-time/"+t.id)}}function zE(n,i){if(1&n&&e.YNc(0,VE,1,18,"app-catalog-menu-item",56),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.beforeTemporaryMap)}}function JE(n,i){1&n&&e.GkF(0)}const Hx=function(n,i,t,o){return{tag:n,wireframe:i,stage:t,timeFrame:o}};function QE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,JE,1,0,"ng-container",49),e.BQk()),2&n){const t=i.$implicit,o=e.oxw(3),r=o.wireframe,g=o.stage,E=o.timeFrame;e.oxw();const W=e.MAs(70);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,Hx,t,r,g,E))}}function GE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,QE,2,7,"ng-container",47),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function WE(n,i){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,GE,2,1,"ng-container",52),e.qZA()),2&n){const t=i.ngIf;e.oxw(2);const o=e.MAs(76);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",o)}}function YE(n,i){if(1&n&&(e.YNc(0,WE,2,2,"div",50),e.ALo(1,"async")),2&n){const t=i.stage,o=i.wireframe,r=i.timeFrame,g=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,g.cacheService.getTagsFromCatalog(e.l5B(5,BT,o.wireframeId,t.stageId,e.VKq(3,Af,r),g.SchedulingType.UNSCHEDULED))))}}function jE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cacheService.unExpandOtherCatalog("scheduled"))})("expandChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.rootExpandMap.scheduled=r)}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(48);e.Q6J("contentTemplate",o)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Zx,t.SchedulingType.PLANNED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.scheduled)("label","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435")("link","/tasks/catalog/scheduled/active")}}const ZT=function(n,i){return{status:"ACTIVE",schedulingType:n,cls:i}};function KE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(50);let g;e.Q6J("contentTemplateData",e.VKq(6,L_,t))("contentTemplate",r)("counter",o.cacheService.getTasksCounter(null,e.WLB(8,ZT,o.SchedulingType.PLANNED,t.wireframeId)))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/catalog/scheduled/active/"+t.wireframeId)}}function $E(n,i){if(1&n&&(e.ynx(0),e.YNc(1,KE,1,11,"app-catalog-menu-item",45),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function qE(n,i){if(1&n&&(e.YNc(0,$E,2,1,"ng-container",3),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const UT=function(n,i,t){return{status:"ACTIVE",schedulingType:n,cls:i,type:t}};function XE(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw(),g=e.MAs(52);e.Q6J("contentTemplateData",e.WLB(6,R_,o,t))("contentTemplate",g)("counter",r.cacheService.getTasksCounter(null,e.kEZ(9,UT,r.SchedulingType.PLANNED,o.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/scheduled/active/"+o.wireframeId+"/"+t.stageId)}}function eS(n,i){1&n&&e.YNc(0,XE,1,13,"app-catalog-menu-item",45),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}const HT=function(n,i,t,o){return{status:"ACTIVE",schedulingType:n,cls:i,type:t,actualFrom:o}};function tS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=i.$implicit,o=e.oxw(),r=o.wireframe,g=o.stage,E=e.oxw(),W=e.MAs(54);e.Q6J("counter",E.cacheService.getTasksCounter("actual-time",e.l5B(9,HT,E.SchedulingType.PLANNED,r.wireframeId,g.stageId,e.VKq(7,Af,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",W)("contentTemplateData",e.kEZ(14,Ux,r,g,t.id))("link","/tasks/catalog/scheduled/active/"+r.wireframeId+"/"+g.stageId+"/actual-time/"+t.id)}}function nS(n,i){if(1&n&&e.YNc(0,tS,1,18,"app-catalog-menu-item",56),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function iS(n,i){1&n&&e.GkF(0)}function oS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,iS,1,0,"ng-container",49),e.BQk()),2&n){const t=i.$implicit,o=e.oxw(3),r=o.wireframe,g=o.stage,E=o.timeFrame;e.oxw();const W=e.MAs(72);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,Hx,t,r,g,E))}}function sS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,oS,2,7,"ng-container",47),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function rS(n,i){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,sS,2,1,"ng-container",52),e.qZA()),2&n){const t=i.ngIf;e.oxw(2);const o=e.MAs(76);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",o)}}function aS(n,i){if(1&n&&(e.YNc(0,rS,2,2,"div",50),e.ALo(1,"async")),2&n){const t=i.stage,o=i.wireframe,r=i.timeFrame,g=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,g.cacheService.getTagsFromCatalog(e.l5B(5,HT,g.SchedulingType.PLANNED,o.wireframeId,t.stageId,e.VKq(3,Af,r)))))}}function lS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cacheService.unExpandOtherCatalog("term"))})("expandChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.rootExpandMap.term=r)}),e.qZA()}if(2&n){const t=e.oxw(),o=e.MAs(58);e.Q6J("contentTemplate",o)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Zx,t.SchedulingType.DEADLINE)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.term)("label","\u0421\u0440\u043e\u043a")("link","/tasks/catalog/term/active")}}function cS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(60);let g;e.Q6J("contentTemplateData",e.VKq(6,L_,t))("contentTemplate",r)("counter",o.cacheService.getTasksCounter(null,e.WLB(8,ZT,o.SchedulingType.DEADLINE,t.wireframeId)))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/catalog/term/active/"+t.wireframeId)}}function uS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,cS,1,11,"app-catalog-menu-item",45),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function dS(n,i){if(1&n&&(e.YNc(0,uS,2,1,"ng-container",3),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function pS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",46),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw(),g=e.MAs(62);e.Q6J("contentTemplateData",e.WLB(6,R_,o,t))("contentTemplate",g)("counter",r.cacheService.getTasksCounter(null,e.kEZ(9,UT,r.SchedulingType.DEADLINE,o.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/term/active/"+o.wireframeId+"/"+t.stageId)}}function hS(n,i){1&n&&e.YNc(0,pS,1,13,"app-catalog-menu-item",45),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}const VT=function(n,i,t,o){return{status:"ACTIVE",schedulingType:n,cls:i,type:t,actualTo:o}};function gS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=i.$implicit,o=e.oxw(),r=o.wireframe,g=o.stage,E=e.oxw(),W=e.MAs(64);e.Q6J("counter",E.cacheService.getTasksCounter("term-time",e.l5B(9,VT,E.SchedulingType.DEADLINE,r.wireframeId,g.stageId,e.VKq(7,Af,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",W)("contentTemplateData",e.kEZ(14,Ux,r,g,t.id))("link","/tasks/catalog/term/active/"+r.wireframeId+"/"+g.stageId+"/term-time/"+t.id)}}function fS(n,i){if(1&n&&e.YNc(0,gS,1,18,"app-catalog-menu-item",56),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function mS(n,i){1&n&&e.GkF(0)}function _S(n,i){if(1&n&&(e.ynx(0),e.YNc(1,mS,1,0,"ng-container",49),e.BQk()),2&n){const t=i.$implicit,o=e.oxw(3),r=o.wireframe,g=o.stage,E=o.timeFrame;e.oxw();const W=e.MAs(74);e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.l5B(2,Hx,t,r,g,E))}}function CS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_S,2,7,"ng-container",47),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function vS(n,i){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,CS,2,1,"ng-container",52),e.qZA()),2&n){const t=i.ngIf;e.oxw(2);const o=e.MAs(76);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",o)}}function bS(n,i){if(1&n&&(e.YNc(0,vS,2,2,"div",50),e.ALo(1,"async")),2&n){const t=i.stage,o=i.wireframe,r=i.timeFrame,g=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,g.cacheService.getTagsFromCatalog(e.l5B(5,VT,g.SchedulingType.DEADLINE,o.wireframeId,t.stageId,e.VKq(3,Af,r)))))}}function yS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",58),2&n){const t=i.stage,o=i.wireframe,r=e.oxw();e.Q6J("autoExpand",!1)("counter",r.cacheService.getTasksCounter(null,e.kEZ(3,NT,o.wireframeId,t.stageId,r.SchedulingType.EXCEPT_PLANNED)))("link","/tasks/catalog/active/"+o.wireframeId+"/"+t.stageId)}}const q1=function(n,i,t){return{border:n,backgroundColor:i,cursor:t}},Up=function(n){return{color:n}};function xS(n,i){if(1&n&&(e.TgZ(0,"div",59,60)(2,"div",4),e._uU(3),e.qZA(),e.TgZ(4,"div",61),e._uU(5),e.qZA()()),2&n){const t=i.dir,o=i.stage,r=i.tag,g=i.wireframe,E=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,q1,E.isActive?null:"solid 1px "+r.color,E.isActive?r.color:null,E.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/active/"+g.wireframeId+"/"+o.stageId+"/dir/"+t.taskTypeDirectoryId+"/"+r.id),e.xp6(2),e.Akn(e.VKq(13,Up,E.isActive?"white":r.color)),e.xp6(1),e.hij(" ",r.name," "),e.xp6(1),e.Akn(e.VKq(15,Up,E.isActive?"white":r.color)),e.xp6(1),e.hij(" ",r.count," ")}}function IS(n,i){if(1&n&&(e.TgZ(0,"div",59,60)(2,"div",4),e._uU(3),e.qZA(),e.TgZ(4,"div",61),e._uU(5),e.qZA()()),2&n){const t=i.stage,o=i.tag,r=i.wireframe,g=i.timeFrame,E=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,q1,E.isActive?null:"solid 1px "+o.color,E.isActive?o.color:null,E.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/close/"+r.wireframeId+"/"+t.stageId+"/close-time/"+g+"/"+o.id),e.xp6(2),e.Akn(e.VKq(13,Up,E.isActive?"white":o.color)),e.xp6(1),e.hij(" ",o.name," "),e.xp6(1),e.Akn(e.VKq(15,Up,E.isActive?"white":o.color)),e.xp6(1),e.hij(" ",o.count," ")}}function TS(n,i){if(1&n&&(e.TgZ(0,"div",59,60)(2,"div",4),e._uU(3),e.qZA(),e.TgZ(4,"div",61),e._uU(5),e.qZA()()),2&n){const t=i.stage,o=i.tag,r=i.wireframe,g=i.timeFrame,E=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,q1,E.isActive?null:"solid 1px "+o.color,E.isActive?o.color:null,E.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/scheduled/active/"+r.wireframeId+"/"+t.stageId+"/actual-time/"+g+"/"+o.id),e.xp6(2),e.Akn(e.VKq(13,Up,E.isActive?"white":o.color)),e.xp6(1),e.hij(" ",o.name," "),e.xp6(1),e.Akn(e.VKq(15,Up,E.isActive?"white":o.color)),e.xp6(1),e.hij(" ",o.count," ")}}function AS(n,i){if(1&n&&(e.TgZ(0,"div",59,60)(2,"div",4),e._uU(3),e.qZA(),e.TgZ(4,"div",61),e._uU(5),e.qZA()()),2&n){const t=i.stage,o=i.tag,r=i.wireframe,g=i.timeFrame,E=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,q1,E.isActive?null:"solid 1px "+o.color,E.isActive?o.color:null,E.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/term/active/"+r.wireframeId+"/"+t.stageId+"/term-time/"+g+"/"+o.id),e.xp6(2),e.Akn(e.VKq(13,Up,E.isActive?"white":o.color)),e.xp6(1),e.hij(" ",o.name," "),e.xp6(1),e.Akn(e.VKq(15,Up,E.isActive?"white":o.color)),e.xp6(1),e.hij(" ",o.count," ")}}function wS(n,i){1&n&&(e.TgZ(0,"div",62),e._uU(1," \u0417\u0430\u0434\u0430\u0447 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438 \u043d\u0435\u0442 "),e.qZA())}const ES=function(){return["/tasks","search"]};let SS=(()=>{class n{constructor(t){this.cacheService=t,this.SchedulingType=Ce.dH}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(If.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:79,vars:12,consts:[[1,"flex","flex-grow-1"],[1,"flex","flex-column","flex-grow-1"],[1,"sticky","z-1","top-0","flex","bg-white","p-2","align-items-center","border-bottom-1","border-bluegray-100"],[4,"ngIf"],[1,"flex-grow-1"],["label","\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447","icon","mdi-search","styleClass","p-button-sm",3,"routerLink"],[1,"flex","flex-column","bg-white","overflow-x-visible","w-fit","h-screen","border-left-1","border-bluegray-100","sticky","top-0"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],[4,"ngTemplateOutlet"],["class","absolute top-0 left-0 w-full h-full bg-black-alpha-30",4,"ngIf"],["activeTasksMenuItemTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypesItemsTemplate",""],["activeTasksDirectoryItemsTemplate",""],["activeTasksTagsItemsTemplate",""],["processingTasksMenuItemTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypesItemsTemplate",""],["closeTasksMenuItemTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypesItemsTemplate",""],["closeTasksTemporaryItemsTemplate",""],["closeTasksTagsItemsTemplate",""],["scheduledTasksMenuItemTemplate",""],["scheduledTasksClassItemsTemplate",""],["scheduledTasksTypesItemsTemplate",""],["scheduledTasksTemporaryItemsTemplate",""],["scheduledTasksTagsItemsTemplate",""],["termTasksMenuItemTemplate",""],["termTasksClassItemsTemplate",""],["termTasksTypesItemsTemplate",""],["termTasksTemporaryItemsTemplate",""],["termTasksTagsItemsTemplate",""],["emptyTasksDirectoriesItem",""],["tagItemTemplate",""],["tagCloseTaskItemTemplate",""],["tagScheduleTaskItemTemplate",""],["tagTermTaskItemTemplate",""],["emptyTagsTemplate",""],[3,"blocked"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["styleClass","border-0 py-0 px-2",3,"model"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black-alpha-30"],[3,"contentTemplate","expand","counter","isEmpty","label","link","expandChange","onClick"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link"],[4,"ngFor","ngForOf"],[3,"autoExpand","contentTemplateData","contentTemplate","counter","droppable","isEmpty","label","link","onDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","flex flex-column gap-1 pl-3",4,"ngIf"],[1,"flex","flex-column","gap-1","pl-3"],[4,"ngIf","ngIfElse"],[3,"counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","link"],[3,"contentTemplate","counter","isEmpty","expand","label","link","onClick","expandChange"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link"],["label","\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",3,"autoExpand","counter","link"],[1,"border-round-3xl","px-3","py-1","flex","align-items-baseline","font-semibold","user-select-none","gap-2",3,"ngStyle","routerLinkActive","routerLink"],["rla","routerLinkActive"],[1,"text-sm"],[1,"text-bluegray-300","text-sm","font-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,q3,2,1,"ng-container",3),e.ALo(4,"async"),e._UZ(5,"div",4)(6,"p-button",5),e.qZA(),e.TgZ(7,"div",1),e._UZ(8,"router-outlet"),e.qZA()(),e.TgZ(9,"div",6)(10,"span",7),e._uU(11,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,X3,1,0,"ng-container",9),e.YNc(14,eE,1,0,"ng-container",9),e.YNc(15,tE,1,0,"ng-container",9),e.YNc(16,nE,1,0,"ng-container",9),e.YNc(17,iE,1,0,"ng-container",9),e.YNc(18,oE,1,0,"div",10),e.qZA()()(),e.YNc(19,sE,1,8,"ng-template",null,11,e.W1O),e.YNc(21,cE,2,3,"ng-template",null,12,e.W1O),e.YNc(23,dE,1,1,"ng-template",null,13,e.W1O),e.YNc(25,_E,2,2,"ng-template",null,14,e.W1O),e.YNc(27,IE,2,8,"ng-template",null,15,e.W1O),e.YNc(29,AE,1,8,"ng-template",null,16,e.W1O),e.YNc(31,kE,2,3,"ng-template",null,17,e.W1O),e.YNc(33,OE,1,1,"ng-template",null,18,e.W1O),e.YNc(35,LE,1,8,"ng-template",null,19,e.W1O),e.YNc(37,BE,2,3,"ng-template",null,20,e.W1O),e.YNc(39,HE,1,1,"ng-template",null,21,e.W1O),e.YNc(41,zE,1,1,"ng-template",null,22,e.W1O),e.YNc(43,YE,2,10,"ng-template",null,23,e.W1O),e.YNc(45,jE,1,8,"ng-template",null,24,e.W1O),e.YNc(47,qE,2,3,"ng-template",null,25,e.W1O),e.YNc(49,eS,1,1,"ng-template",null,26,e.W1O),e.YNc(51,nS,1,1,"ng-template",null,27,e.W1O),e.YNc(53,aS,2,10,"ng-template",null,28,e.W1O),e.YNc(55,lS,1,8,"ng-template",null,29,e.W1O),e.YNc(57,dS,2,3,"ng-template",null,30,e.W1O),e.YNc(59,hS,1,1,"ng-template",null,31,e.W1O),e.YNc(61,fS,1,1,"ng-template",null,32,e.W1O),e.YNc(63,bS,2,10,"ng-template",null,33,e.W1O),e.YNc(65,yS,1,7,"ng-template",null,34,e.W1O),e.YNc(67,xS,6,17,"ng-template",null,35,e.W1O),e.YNc(69,IS,6,17,"ng-template",null,36,e.W1O),e.YNc(71,TS,6,17,"ng-template",null,37,e.W1O),e.YNc(73,AS,6,17,"ng-template",null,38,e.W1O),e.YNc(75,wS,2,0,"ng-template",null,39,e.W1O),e.TgZ(77,"p-blockUI",40),e._UZ(78,"p-progressSpinner",41),e.qZA()),2&t){const r=e.MAs(20),g=e.MAs(30),E=e.MAs(36),W=e.MAs(46),Ie=e.MAs(56);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,9,o.cacheService.breadCrumbsModel$)),e.xp6(3),e.Q6J("routerLink",e.DdM(11,ES)),e.xp6(7),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngTemplateOutlet",g),e.xp6(1),e.Q6J("ngTemplateOutlet",E),e.xp6(1),e.Q6J("ngTemplateOutlet",W),e.xp6(1),e.Q6J("ngTemplateOutlet",Ie),e.xp6(1),e.Q6J("ngIf",void 0!==o.cacheService.highlightCatalogs),e.xp6(59),e.Q6J("blocked",o.cacheService.blockVisible)}},dependencies:[LT,d.lC,d.rH,d.Od,D.PC,D.sg,D.O5,P.zx,D.tP,ot.G,Bx.a,RT.b,D.Ov],styles:["[_nghost-%COMP%]{flex-grow:1}.directory[_ngcontent-%COMP%]   .p-draggable-enter[_ngcontent-%COMP%]{opacity:.3}"]}),n})();var Rd=C(4132);function kS(n,i){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"p-progressSpinner",8),e.qZA())}function DS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("onDragStart",function(){const g=e.CHM(t).$implicit,E=e.oxw(3);return e.KtG(E.cacheService.taskMovingStart(g))}),e.TgZ(1,"app-task-list-element",13),e.NdJ("onStartEdit",function(r){e.CHM(t);const g=e.oxw(3);return e.KtG(g.cacheService.taskEditStart(r))})("onStopEdit",function(r){e.CHM(t);const g=e.oxw(3);return e.KtG(g.cacheService.taskEditStop(r))}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(3);let r;e.Q6J("pDraggable",null!==(r=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==r?r:""),e.xp6(1),e.Q6J("externalUpdater",o.cacheService.getTaskUpdater(t.taskId))("isCommentInput",!0)("item",t)}}function MS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,DS,2,4,"div",11),e.qZA(),e.BQk()),2&n){const t=i.ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function OS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,MS,3,1,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.cacheService.tasks$))}}function PS(n,i){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"i",15),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function LS(n,i){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function RS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-paginator",19,20),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.pageControl.setValue(r.page))}),e.qZA()()}if(2&n){const t=i.ngIf,o=e.oxw();let r;e.Q6J("hidden","READY"!==o.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(r=o.cacheService.pageControl.value)&&void 0!==r?r:0))}}let Ha=(()=>{class n{constructor(t,o){this.route=t,this.cacheService=o,this.subscriptions=new x.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Po.a)([this.route.params,this.route.data]).subscribe(([t,o])=>this.cacheService.updatePath(t,o)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(If.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:8,consts:[[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"flex-grow-1"],["class","sticky bottom-0",3,"hidden",4,"ngIf"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngIf"],[1,"flex","flex-column"],["class","flex relative",3,"pDraggable","onDragStart",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable","onDragStart"],[3,"externalUpdater","isCommentInput","item","onStartEdit","onStopEdit"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"sticky","bottom-0",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","border-top-1 border-bluegray-100 border-noround",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""]],template:function(t,o){1&t&&(e.ynx(0,0),e.YNc(1,kS,2,0,"div",1),e.YNc(2,OS,3,3,"ng-container",2),e.YNc(3,PS,4,0,"div",3),e.YNc(4,LS,4,0,"div",4),e.BQk(),e._UZ(5,"div",5),e.YNc(6,RS,3,6,"div",6),e.ALo(7,"async")),2&t&&(e.Q6J("ngSwitch",o.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,6,o.cacheService.tasks$)))},dependencies:[Qu.E,D.sg,D.O5,D.RF,D.n9,ot.G,Rd.D,Tf._l,D.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})();class NS{constructor(){this.content=[],this.empty=!0,this.first=!0,this.last=!0,this.number=0,this.numberOfElements=0,this.pageable={offset:0,sort:{empty:!0,sorted:!1,unsorted:!0},pageSize:0,pageNumber:0,paged:!0,unpaged:!1},this.size=0,this.sort={empty:!0,sorted:!1,unsorted:!0},this.totalElements=0,this.totalPages=0}}let zT=(()=>{class n{constructor(t){this.api=t,this.searchSubject=new pr.x,this.search$=this.searchSubject.pipe((0,En.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=Ce.Gu.LOADING}),(0,an.d)(1)),this.filterForm=new p.cw({searchPhrase:new p.NI(""),author:new p.NI(null),assignedEmployee:new p.NI(null),dateOfCreation:new p.NI(null),dateOfClose:new p.NI(null),tags:new p.NI(null),fieldFilters:new p.Oe([new p.cw({name:new p.NI("\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),type:new p.NI(Ce.nC.TEXT),textValue:new p.NI("")}),new p.cw({name:new p.NI("\u041b\u043e\u0433\u0438\u043d"),type:new p.NI(Ce.nC.LOGIN),textValue:new p.NI("")}),new p.cw({name:new p.NI("\u0410\u0434\u0440\u0435\u0441"),type:new p.NI(Ce.nC.ADDRESS),addressValue:new p.NI(null)}),new p.cw({name:new p.NI("\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),type:new p.NI(Ce.nC.PHONE),textValue:new p.NI("")}),new p.cw({name:new p.NI("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"),type:new p.NI(Ce.nC.AD_SOURCE),adSourceValue:new p.NI(null)}),new p.cw({name:new p.NI("\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),type:new p.NI(Ce.nC.CONNECTION_TYPE),connectionTypeValue:new p.NI(null)}),new p.cw({name:new p.NI("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430"),type:new p.NI(Ce.nC.CONNECTION_SERVICE),connectionServiceValue:new p.NI(null)})])}),this.filtersChange$=this.filterForm.valueChanges.pipe((0,an.d)(1)),this.filtersNames={searchPhrase:"\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",author:"\u0410\u0432\u0442\u043e\u0440",dateOfCreation:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",dateOfClose:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f",tags:"\u0422\u0435\u0433\u0438"},this.applySearch$=this.search$.pipe((0,ft.U)(()=>this.filterForm.value)),this.applyingFilters$=this.applySearch$.pipe((0,ft.U)(o=>{const r=[];for(const g in o)!o[g]||"fieldFilters"===g||Array.isArray(o[g])&&0===o[g].length||r.push({label:this.filtersNames[g],value:g,type:"unfield"});return r})),this.applyingFieldFilters$=this.applySearch$.pipe((0,ft.U)(o=>{const r=[];for(const g of o.fieldFilters)!g.textValue&&!g.addressValue&&!g.adSourceValue&&!g.connectionTypeValue&&!g.connectionServiceValue||r.push({label:g.name,value:g.name,type:"field"});return r})),this.applyingAllFilters$=(0,Po.a)([this.applyingFilters$,this.applyingFieldFilters$]).pipe((0,ft.U)(([o,r])=>o.concat(r)),(0,an.d)(1)),this.statusSubject=new ma.X(null),this.classSubject=new ma.X(null),this.typeSubject=new ma.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageControl=new p.NI(0),this.taskLoadingState=Ce.Gu.EMPTY,this.lastRoute$=(0,Po.a)([this.status$,this.class$,this.type$]).pipe((0,No.b)(1),(0,ko.x)((o,r)=>JSON.stringify(o)===JSON.stringify(r)),(0,En.b)(()=>{this.pageControl.setValue(0)}),(0,an.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,Ri.O)(0),(0,ko.x)(),(0,En.b)(()=>{window.scrollTo({top:0})}),(0,an.d)(1)),this.taskCountersMap=new Map,this.taskCountersLoadingMap=new Map,this.wireframes$=this.api.getWireframes().pipe((0,an.d)(1)),this.tasks$=(0,Po.a)([this.page$,this.search$,this.lastRoute$]).pipe((0,En.b)(()=>this.taskLoadingState=Ce.Gu.LOADING),(0,F.w)(([o,r,[g,E,W]])=>{if(n.isFiltersEmpty(r))return(0,Tn.of)(new NS);const Ie=Object.assign(Object.assign({},r),n.getFilterPath(g,E,W));return this.api.getPageOfTasks(null!=o?o:0,Ie)}),(0,En.b)({next:o=>this.taskLoadingState=0===o.totalElements?Ce.Gu.EMPTY:Ce.Gu.READY,error:()=>this.taskLoadingState=Ce.Gu.ERROR}),(0,an.d)(1)),this.adSources$=this.api.getAdSourcesList(),this.connectionTypes$=this.api.getConnectionTypesList(),this.connectionServices$=this.api.getConnectionServicesList()}static getFilterPath(t,o,r){const g={};return t&&(g.status=[t.toUpperCase()]),o&&(g.template=[o]),r&&(g.stage=r),g}static isFiltersEmpty(t){for(const o in t)if("fieldFilters"!==o){if(t[o]&&(!Array.isArray(t[o])||0!==t[o].length))return!1}else for(const r of t[o])if(r.textValue||r.addressValue||r.adSourceValue||r.connectionTypeValue||r.connectionServiceValue)return!1;return!0}getTasksLoadingCounter(t,o,r){var g;const E=n.pathKeyGenerate(t,o,r);return this.taskCountersLoadingMap.has(E)?null!==(g=this.taskCountersLoadingMap.get(E))&&void 0!==g&&g:(this.taskCountersLoadingMap.set(E,!1),!1)}setTasksLoadingCounter(t,o){this.taskCountersLoadingMap.set(t,o)}getTasksCounter(t,o,r){const g=n.pathKeyGenerate(t,o,r);if(this.taskCountersMap.has(g))return this.taskCountersMap.get(g);const E=this.search$.pipe((0,En.b)(()=>this.setTasksLoadingCounter(g,!0)),(0,F.w)(W=>{if(n.isFiltersEmpty(W))return(0,Tn.of)("0");const Ie=Object.assign(Object.assign({},W),n.getFilterPath(t,o,r));return this.api.getCountTasks(Ie).pipe((0,ft.U)(it=>it.toString()))}),(0,Ri.O)("0"),(0,En.b)(()=>this.setTasksLoadingCounter(g,!1)),(0,an.d)(1));return this.taskCountersMap.set(g,E),E}updatePath(t){var o,r;this.statusSubject.next(null!==(o=t.status)&&void 0!==o?o:null),this.classSubject.next(t.class?parseInt(t.class):null),this.typeSubject.next(null!==(r=t.type)&&void 0!==r?r:null)}search(){this.searchSubject.next(this.filterForm.value)}clearFilter(t,o){if("field"===o){const W=this.filterForm.controls.fieldFilters.controls.find(Ie=>Ie.value.name===t);if(!W)return;return W.patchValue({textValue:null,addressValue:null,adSourceValue:null,connectionTypeValue:null,connectionServiceValue:null}),void this.search()}const g=Object.entries(this.filterForm.controls).find(([E,W])=>E===t);!g||(g[1]instanceof p.Oe||g[1].setValue(null),this.search())}static pathKeyGenerate(t,o,r){let g=""+t+o+r;return!t&&!o&&!r&&(g="all"),g}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cacheService.filterForm.controls.searchPhrase.setValue(""))}),e.qZA()}}function BS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-chip",51),e.NdJ("onRemove",function(){const g=e.CHM(t).$implicit,E=e.oxw(3);return e.KtG(E.cacheService.clearFilter(g.value,g.type))}),e.qZA()}2&n&&e.Q6J("label",i.$implicit.label)("removable",!0)}function ZS(n,i){if(1&n&&(e.TgZ(0,"div",48)(1,"span",49),e._uU(2,"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b:"),e.qZA(),e.YNc(3,BS,1,2,"p-chip",50),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(3),e.Q6J("ngForOf",t)}}function US(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ZS,4,1,"div",47),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function HS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",52)(1,"app-catalog-menu-item",53)(2,"app-catalog-menu-item",54),2&n){const t=e.oxw(),o=e.MAs(24),r=e.MAs(28),g=e.MAs(32);e.Q6J("contentTemplate",o)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("active"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("active"))("link","/tasks/search/active"),e.xp6(1),e.Q6J("contentTemplate",r)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("processing"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("processing"))("link","/tasks/search/processing"),e.xp6(1),e.Q6J("contentTemplate",g)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("close"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("close"))("link","/tasks/search/close")}}const Vx=function(n){return{wireframe:n}};function VS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",56),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(26);let g;e.Q6J("counter",o.cacheService.getTasksCounter("active",t.wireframeId))("isCounterLoading",o.cacheService.getTasksLoadingCounter("active",t.wireframeId))("contentTemplate",r)("contentTemplateData",e.VKq(7,Vx,t))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/search/active/"+t.wireframeId)}}function zS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,VS,1,9,"app-catalog-menu-item",55),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function JS(n,i){if(1&n&&(e.YNc(0,zS,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function QS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",58),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw();e.Q6J("counter",r.cacheService.getTasksCounter("active",o.wireframeId,t.stageId))("isCounterLoading",r.cacheService.getTasksLoadingCounter("active",o.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/active/"+o.wireframeId+"/"+t.stageId)}}function GS(n,i){1&n&&e.YNc(0,QS,1,5,"app-catalog-menu-item",57),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}function WS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",56),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(30);let g;e.Q6J("counter",o.cacheService.getTasksCounter("processing",t.wireframeId))("isCounterLoading",o.cacheService.getTasksLoadingCounter("processing",t.wireframeId))("contentTemplate",r)("contentTemplateData",e.VKq(7,Vx,t))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/search/processing/"+t.wireframeId)}}function YS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,WS,1,9,"app-catalog-menu-item",55),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function jS(n,i){if(1&n&&(e.YNc(0,YS,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function KS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",58),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw();e.Q6J("counter",r.cacheService.getTasksCounter("processing",o.wireframeId,t.stageId))("isCounterLoading",r.cacheService.getTasksLoadingCounter("processing",o.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/processing/"+o.wireframeId+"/"+t.stageId)}}function $S(n,i){1&n&&e.YNc(0,KS,1,5,"app-catalog-menu-item",57),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}function qS(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",56),2&n){const t=i.$implicit,o=e.oxw(3),r=e.MAs(34);let g;e.Q6J("counter",o.cacheService.getTasksCounter("close",t.wireframeId))("isCounterLoading",o.cacheService.getTasksLoadingCounter("close",t.wireframeId))("contentTemplate",r)("contentTemplateData",e.VKq(7,Vx,t))("isEmpty",0===(null!==(g=null==t.stages?null:t.stages.length)&&void 0!==g?g:0))("label",t.name)("link","/tasks/search/close/"+t.wireframeId)}}function XS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,qS,1,9,"app-catalog-menu-item",55),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function e2(n,i){if(1&n&&(e.YNc(0,XS,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function t2(n,i){if(1&n&&e._UZ(0,"app-catalog-menu-item",58),2&n){const t=i.$implicit,o=e.oxw().wireframe,r=e.oxw();e.Q6J("counter",r.cacheService.getTasksCounter("close",o.wireframeId,t.stageId))("isCounterLoading",r.cacheService.getTasksLoadingCounter("close",o.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/close/"+o.wireframeId+"/"+t.stageId)}}function n2(n,i){1&n&&e.YNc(0,t2,1,5,"app-catalog-menu-item",57),2&n&&e.Q6J("ngForOf",i.wireframe.stages)}function o2(n,i){1&n&&e.GkF(0)}const s2=function(n){return{$implicit:n}};function r2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,o2,1,0,"ng-container",59),e.BQk()),2&n){const t=i.$implicit;e.oxw();const o=e.MAs(70);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,s2,t))}}function a2(n,i){if(1&n&&(e.TgZ(0,"app-label",68),e._UZ(1,"input",69),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function l2(n,i){if(1&n&&(e.TgZ(0,"app-label",70),e._UZ(1,"input",69),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function c2(n,i){if(1&n&&(e.TgZ(0,"app-label",71),e._UZ(1,"app-address-input-alt",72),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.addressValue)}}function u2(n,i){if(1&n&&(e.TgZ(0,"app-label",73),e._UZ(1,"input",69),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}const zx=function(){return[]};function d2(n,i){if(1&n&&(e.TgZ(0,"app-label",74),e._UZ(1,"p-dropdown",75),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw();let r;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(r=e.lcZ(2,3,o.cacheService.adSources$))&&void 0!==r?r:e.DdM(5,zx))("formControl",t.controls.adSourceValue)}}function p2(n,i){if(1&n&&(e.TgZ(0,"app-label",76),e._UZ(1,"p-dropdown",75),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw();let r;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(r=e.lcZ(2,3,o.cacheService.connectionTypes$))&&void 0!==r?r:e.DdM(5,zx))("formControl",t.controls.connectionTypeValue)}}function h2(n,i){if(1&n&&(e.TgZ(0,"app-label",77),e._UZ(1,"p-dropdown",75),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw();let r;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(r=e.lcZ(2,3,o.cacheService.connectionServices$))&&void 0!==r?r:e.DdM(5,zx))("formControl",t.controls.connectionServiceValue)}}function g2(n,i){if(1&n&&(e.ynx(0,60),e.YNc(1,a2,2,1,"app-label",61),e.YNc(2,l2,2,1,"app-label",62),e.YNc(3,c2,2,1,"app-label",63),e.YNc(4,u2,2,1,"app-label",64),e.YNc(5,d2,3,6,"app-label",65),e.YNc(6,p2,3,6,"app-label",66),e.YNc(7,h2,3,6,"app-label",67),e.BQk()),2&n){const t=i.$implicit;e.Q6J("ngSwitch",t.value.type)("formGroup",t),e.xp6(1),e.Q6J("ngSwitchCase","TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICE")}}const f2=function(){return["/tasks","catalog","active"]},m2=function(n){return{width:n}};let JT=(()=>{class n{constructor(t,o,r){this.nav=t,this.cacheService=o,this.catalogService=r,this.isSearchInputFocused=!1,this.catalogCachedRoute$=this.catalogService.lastRoute$.pipe((0,ft.U)(g=>If.d.convertToPath(g,!0)),(0,ft.U)(g=>["/tasks","catalog",...g])),this.allFiltersVisible=!1,this.allFiltersPanelWidth=""}ngOnInit(){}resizeFilterPanel(t,o){this.allFiltersPanelWidth=t,setTimeout(()=>{o.align()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ct.r),e.Y36(zT),e.Y36(If.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-catalog-search-page"]],decls:71,vars:21,consts:[[1,"flex","flex-grow-1"],[1,"flex","flex-column","flex-grow-1"],[1,"sticky","top-0","z-1","flex","flex-column","flex-grow-1"],[1,"flex","bg-white","border-bottom-1","py-2","pr-2","pl-3","gap-2","align-items-center",3,"formGroup","ngClass"],["searchPanelElement",""],["placeholder","\u041f\u043e\u0438\u0441\u043a...","formControlName","searchPhrase",1,"border-0","flex-grow-1","h-full","outline-none","border-none",3,"focus","blur","keydown.enter"],["searchPhraseInput",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick",4,"ngIf"],["label","\u041d\u0430\u0439\u0442\u0438","icon","mdi-search","styleClass","p-button-sm",3,"onClick"],["label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","icon","mdi-filter_alt","styleClass","p-button-sm p-button-help",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","icon","mdi-close","styleClass","p-button-sm p-button-secondary",3,"routerLink"],[4,"ngIf"],[1,"flex","flex-column","bg-white","overflow-x-visible","w-fit","h-screen","border-left-1","border-bluegray-100","sticky","top-0"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],["label","\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","link","/tasks/search",3,"contentTemplate","isEmpty","counter","isCounterLoading"],["tasksStatusItemsTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypeItemsTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypeItemsTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypeItemsTemplate",""],["appendTo","body",3,"dismissable","onShow"],["allFiltersPanel",""],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"flex","align-items-center","gap-3"],[1,"text-bluegray-500","text-xl"],[1,"flex-grow-1"],["icon","mdi-done","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm",3,"onClick"],["icon","mdi-close","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-outlined p-button-sm p-button-secondary",3,"onClick"],[1,"flex","flex-column","gap-2","pl-2"],[1,"text-bluegray-500","text-lg"],[1,"flex","flex-wrap","column-gap-3","row-gap-1"],["label","\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"],["formControlName","dateOfCreation"],["label","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"],["formControlName","dateOfClose"],["label","\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","author"],["label","\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","assignedEmployee"],["formControlName","tags"],["formArrayName","fieldFilters",1,"flex","flex-wrap","column-gap-3","row-gap-1"],[4,"ngFor","ngForOf"],["filterFieldTemplate",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick"],["class","flex flex-wrap bg-white gap-2 align-items-center p-2 border-bottom-1 border-bluegray-100",4,"ngIf"],[1,"flex","flex-wrap","bg-white","gap-2","align-items-center","p-2","border-bottom-1","border-bluegray-100"],[1,"text-sm","text-bluegray-400","font-bold"],[3,"label","removable","onRemove",4,"ngFor","ngForOf"],[3,"label","removable","onRemove"],["label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link"],[3,"counter","isCounterLoading","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","isEmpty","label","link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch","formGroup"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",4,"ngSwitchCase"],["label","\u041b\u043e\u0433\u0438\u043d",4,"ngSwitchCase"],["label","\u0410\u0434\u0440\u0435\u0441",4,"ngSwitchCase"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",4,"ngSwitchCase"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",4,"ngSwitchCase"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",4,"ngSwitchCase"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438",4,"ngSwitchCase"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"],["pInputText","",3,"formControl"],["label","\u041b\u043e\u0433\u0438\u043d"],["label","\u0410\u0434\u0440\u0435\u0441"],[3,"formControl"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"showClear","options","formControl"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"input",5,6),e.NdJ("focus",function(){e.CHM(r);const E=e.MAs(6);return o.isSearchInputFocused=!0,e.KtG(E.select())})("blur",function(){return o.isSearchInputFocused=!1})("keydown.enter",function(){return o.cacheService.search()}),e.qZA(),e.YNc(7,FS,1,0,"p-button",7),e.TgZ(8,"p-button",8),e.NdJ("onClick",function(){return o.cacheService.search()}),e.qZA(),e.TgZ(9,"p-button",9),e.NdJ("onClick",function(E){e.CHM(r);const W=e.MAs(4),Ie=e.MAs(36);return e.KtG(Ie.toggle(E,W))}),e.qZA(),e._UZ(10,"p-button",10),e.ALo(11,"async"),e.qZA(),e.YNc(12,US,2,1,"ng-container",11),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"div",1),e._UZ(15,"router-outlet"),e.qZA()(),e.TgZ(16,"div",12)(17,"span",13),e._uU(18,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(19,"div",14),e._UZ(20,"app-catalog-menu-item",15),e.qZA()()(),e.YNc(21,HS,3,15,"ng-template",null,16,e.W1O),e.YNc(23,JS,2,3,"ng-template",null,17,e.W1O),e.YNc(25,GS,1,1,"ng-template",null,18,e.W1O),e.YNc(27,jS,2,3,"ng-template",null,19,e.W1O),e.YNc(29,$S,1,1,"ng-template",null,20,e.W1O),e.YNc(31,e2,2,3,"ng-template",null,21,e.W1O),e.YNc(33,n2,1,1,"ng-template",null,22,e.W1O),e.TgZ(35,"p-overlayPanel",23,24),e.NdJ("onShow",function(){e.CHM(r);const E=e.MAs(4),W=e.MAs(36);return e.KtG(o.resizeFilterPanel(E.offsetWidth+"px",W))}),e.TgZ(37,"div",25)(38,"div",26)(39,"span",27),e._uU(40," \u0424\u0438\u043b\u044c\u0442\u0440\u044b "),e.qZA(),e._UZ(41,"div",28),e.TgZ(42,"p-button",29),e.NdJ("onClick",function(){e.CHM(r);const E=e.MAs(36);return o.cacheService.search(),e.KtG(E.hide())}),e.qZA(),e.TgZ(43,"p-button",30),e.NdJ("onClick",function(){e.CHM(r);const E=e.MAs(36);return e.KtG(E.hide())}),e.qZA()(),e.TgZ(44,"div",31)(45,"span",32),e._uU(46," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435/\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 "),e.qZA(),e.TgZ(47,"div",33)(48,"app-label",34),e._UZ(49,"app-data-range-input",35),e.qZA(),e.TgZ(50,"app-label",36),e._UZ(51,"app-data-range-input",37),e.qZA()()(),e.TgZ(52,"div",31)(53,"span",32),e._uU(54," \u0410\u0432\u0442\u043e\u0440/\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(55,"div",33)(56,"app-label",38),e._UZ(57,"app-employee-selector",39),e.qZA(),e.TgZ(58,"app-label",40),e._UZ(59,"app-employee-selector",41),e.qZA()()(),e.TgZ(60,"div",31)(61,"span",32),e._uU(62," \u0422\u0435\u0433\u0438 "),e.qZA(),e._UZ(63,"app-task-tag-filter-input",42),e.qZA(),e.TgZ(64,"div",31)(65,"span",32),e._uU(66," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 "),e.qZA(),e.TgZ(67,"div",43),e.YNc(68,r2,2,4,"ng-container",44),e.qZA()()()(),e.YNc(69,g2,8,9,"ng-template",null,45,e.W1O)}if(2&t){const r=e.MAs(22);let g;e.xp6(3),e.Q6J("formGroup",o.cacheService.filterForm)("ngClass",o.isSearchInputFocused?"border-primary":"border-bluegray-100"),e.xp6(4),e.Q6J("ngIf",o.cacheService.filterForm.controls.searchPhrase.value),e.xp6(3),e.Q6J("routerLink",null!==(g=e.lcZ(11,14,o.catalogCachedRoute$))&&void 0!==g?g:e.DdM(18,f2)),e.xp6(2),e.Q6J("ngIf",e.lcZ(13,16,o.cacheService.applyingAllFilters$)),e.xp6(8),e.Q6J("contentTemplate",r)("isEmpty",!1)("counter",o.cacheService.getTasksCounter())("isCounterLoading",o.cacheService.getTasksLoadingCounter()),e.xp6(15),e.Akn(e.VKq(19,m2,o.allFiltersPanelWidth)),e.Q6J("dismissable",!1),e.xp6(2),e.Q6J("formGroup",o.cacheService.filterForm),e.xp6(31),e.Q6J("ngForOf",o.cacheService.filterForm.controls.fieldFilters.controls)}},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),n})();function _2(n,i){1&n&&e.GkF(0)}function C2(n,i){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"app-task-list-element",12),e.qZA()),2&n){const t=i.$implicit;let o;e.Q6J("pDraggable",null!==(o=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==o?o:""),e.xp6(1),e.Q6J("isCommentInput",!0)("item",t)}}function v2(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,C2,2,3,"div",10),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function b2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_2,1,0,"ng-container",7),e.YNc(2,v2,3,1,"ng-container",8),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("ngIf","READY"===t.cacheService.taskLoadingState)}}function y2(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-paginator",14,15),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.cacheService.pageControl.setValue(r.page))}),e.qZA()()}if(2&n){const t=i.ngIf,o=e.oxw();let r;e.Q6J("hidden","READY"!==o.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(r=o.cacheService.pageControl.value)&&void 0!==r?r:0))}}function x2(n,i){1&n&&e.GkF(0)}function I2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,x2,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function T2(n,i){1&n&&e.GkF(0)}function A2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,T2,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function w2(n,i){1&n&&e.GkF(0)}function E2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,w2,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function S2(n,i){if(1&n&&(e.ynx(0,16),e.YNc(1,I2,2,1,"ng-container",17),e.YNc(2,A2,2,1,"ng-container",17),e.YNc(3,E2,2,1,"ng-container",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR")}}function k2(n,i){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"p-progressSpinner",19),e.qZA())}function D2(n,i){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"i",21),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function M2(n,i){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}let X1=(()=>{class n{constructor(t,o){this.route=t,this.cacheService=o,this.subscriptions=new x.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Po.a)([this.route.params]).subscribe(([t])=>this.cacheService.updatePath(t)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(zT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:13,vars:7,consts:[[4,"ngIf","ngIfElse"],[1,"flex-grow-1"],["class","sticky bottom-0",3,"hidden",4,"ngIf"],["statesTemplate",""],["loadingTemplate",""],["emptyTemplate",""],["errorTemplate",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"flex","flex-column"],["class","flex relative",3,"pDraggable",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable"],[3,"isCommentInput","item"],[1,"sticky","bottom-0",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","border-top-1 border-bluegray-100 border-noround",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-bluegray-400","text-lg","font-bold"],[1,"mds-search_off"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-red-400","text-lg","font-bold"],[1,"mdi-error"]],template:function(t,o){if(1&t&&(e.YNc(0,b2,3,2,"ng-container",0),e.ALo(1,"async"),e._UZ(2,"div",1),e.YNc(3,y2,3,6,"div",2),e.ALo(4,"async"),e.YNc(5,S2,4,4,"ng-template",null,3,e.W1O),e.YNc(7,k2,2,0,"ng-template",null,4,e.W1O),e.YNc(9,D2,4,0,"ng-template",null,5,e.W1O),e.YNc(11,M2,4,0,"ng-template",null,6,e.W1O)),2&t){const r=e.MAs(6);e.Q6J("ngIf",e.lcZ(1,3,o.cacheService.tasks$))("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,5,o.cacheService.tasks$))}},dependencies:[Qu.E,D.sg,D.O5,D.tP,D.RF,D.n9,ot.G,Rd.D,Tf._l,D.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})(),O2=(()=>{class n{constructor(t,o){this.personality=t,this.router=o}canActivate(...t){return this.personality.userData$.pipe((0,Zh.P)(),(0,ft.U)(o=>this.personality.isHasAccess(...t)||this.router.createUrlTree(["/"])))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.F),e.LFG(d.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _a(...n){return(i,t)=>(0,e.f3M)(O2).canActivate(...n)}let P2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[d.lC],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),n})();var Nd=C(4707);function L2(n,i){1&n&&(e.TgZ(0,"div",13),e._UZ(1,"p-progressSpinner",14),e.qZA())}function R2(n,i){1&n&&(e.TgZ(0,"div",15),e._UZ(1,"span",16),e.TgZ(2,"span",17),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function N2(n,i){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"span",19),e.TgZ(2,"span",17),e._uU(3,"\u041d\u0435\u0442 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u0438\u0435\u043c\u043a\u0438"),e.qZA()())}function F2(n,i){1&n&&e._UZ(0,"app-contract-inspection-item",21),2&n&&e.Q6J("workLog",i.$implicit)}function B2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,F2,1,1,"app-contract-inspection-item",20),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function Z2(n,i){1&n&&e._UZ(0,"div",22)}function U2(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.YNc(1,L2,2,0,"div",7),e.YNc(2,R2,4,0,"div",8),e.YNc(3,N2,4,0,"div",9),e.YNc(4,B2,2,1,"ng-container",10),e.YNc(5,Z2,1,0,"div",11),e.TgZ(6,"p-paginator",12),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.pageControl.setValue(r.page))}),e.qZA()()}if(2&n){const t=i.ngIf,o=e.oxw();let r;e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase",o.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",o.LoadingState.ERROR),e.xp6(1),e.Q6J("ngSwitchCase",o.LoadingState.EMPTY),e.xp6(1),e.Q6J("ngSwitchCase",o.LoadingState.READY),e.xp6(1),e.Q6J("ngIf",t.loadingState===o.LoadingState.READY),e.xp6(1),e.Q6J("hidden",t.loadingState!==o.LoadingState.READY)("first",15*(null!==(r=o.pageControl.value)&&void 0!==r?r:0))("totalRecords",t.totalElements)("alwaysShow",!0)("rows",15)}}class Fd{constructor(i,t){this.api=i,this.rt=t,this.LoadingState=Ce.Gu,this.pageControl=new p.NI(0),this.filterControls=new p.cw({searchQuery:new p.NI("")}),this.searchInputKeyDown$=new Nd.t(1),this.clickSearchButton$=new Nd.t(1),this.clickClearButton$=new Nd.t(1),this.enterDown$=this.searchInputKeyDown$.pipe((0,s.h)(o=>"Enter"===o.key),(0,Ri.O)(null)),this.search$=this.clickSearchButton$.pipe((0,Ri.O)(null)),this.cleared$=this.clickClearButton$.pipe((0,En.b)(this.clearFilters.bind(this)),(0,Ri.O)(null)),this.filterValue$=this.filterControls.valueChanges.pipe((0,an.d)(1)),this.doSearch$=(0,Po.a)([this.enterDown$,this.search$,this.cleared$]).pipe((0,En.b)(()=>this.pageControl.setValue(0)),(0,ft.U)(()=>this.filterControls.value)),this.controlsChange$=(0,Po.a)([this.pageControl.valueChanges.pipe((0,Ri.O)(0)),this.doSearch$]).pipe((0,No.b)(100)),this.workLogs$=x.aN.ofPageAltAll(this.controlsChange$,this.api.getWorkLogsUnconfirmedContracts.bind(this.api),[this.rt.updatingMarkedContracts()])}ngOnInit(){}clearFilters(){this.filterControls.reset({searchQuery:""})}}function H2(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-contract-item",15),e.NdJ("onEdit",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.openEditDialog(r))})("onDelete",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.openDeleteDialog(r))}),e.qZA()}2&n&&e.Q6J("typeContract",i.$implicit)}function V2(n,i){if(1&n&&(e.ynx(0),e.YNc(1,H2,1,1,"app-contract-item",14),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function z2(n,i){1&n&&e.GkF(0)}function J2(n,i){1&n&&e.GkF(0)}Fd.\u0275fac=function(i){return new(i||Fd)(e.Y36(O.s),e.Y36(me.U))},Fd.\u0275cmp=e.Xpm({type:Fd,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"flex","align-items-center","px-5","py-4","bg-white","gap-3","sticky","top-0","z-1","border-bottom-1","border-bluegray-100",3,"formGroup"],[1,"text-2xl","text-bluegray-500","font-semibold"],["pInputText","","id","searchInput","formControlName","searchQuery","placeholder","\u041b\u043e\u0433\u0438\u043d / \u0410\u0434\u0440\u0435\u0441 / \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a...",1,"flex-grow-1"],["pButton","","id","searchButton","icon","mdi-search","label","\u041f\u043e\u0438\u0441\u043a"],["pButton","","id","clearButton","icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",1,"p-button-secondary","p-button-text"],["class","flex flex-column gap-2 relative flex-grow-1",3,"ngSwitch",4,"ngIf"],[1,"flex","flex-column","gap-2","relative","flex-grow-1",3,"ngSwitch"],["class","flex align-items-center justify-content-center flex-grow-1",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-red-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flex-grow-1",4,"ngIf"],["styleClass","border-noround",1,"sticky","bottom-0","border-top-1","border-bluegray-100",3,"hidden","first","totalRecords","alwaysShow","rows","onPageChange"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","absolute","top-50","left-50","-translate-50"],[1,"mds-error"],[1,"text-lg","font-bold"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","absolute","top-50","left-50","-translate-50"],[1,"mds-scan_delete"],[3,"workLog",4,"ngFor","ngForOf"],[3,"workLog"],[1,"flex-grow-1"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2," \u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),e.qZA(),e._UZ(3,"input",2)(4,"button",3)(5,"button",4),e.qZA(),e.YNc(6,U2,7,11,"div",5),e.ALo(7,"async")),2&i&&(e.Q6J("formGroup",t.filterControls),e.xp6(6),e.Q6J("ngIf",e.lcZ(7,2,t.workLogs$)))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]}),(0,To.gn)([(0,ja.v4)("searchInput","keydown")],Fd.prototype,"searchInputKeyDown$",void 0),(0,To.gn)([(0,ja.v4)("searchButton","click")],Fd.prototype,"clickSearchButton$",void 0),(0,To.gn)([(0,ja.v4)("clearButton","click")],Fd.prototype,"clickClearButton$",void 0);const QT=function(){return{showDeleted:!1,showOffsite:!1}};function Q2(n,i){if(1&n&&(e.TgZ(0,"div",16)(1,"app-label",17),e._UZ(2,"input",18),e.qZA(),e.TgZ(3,"app-label",19),e._UZ(4,"textarea",20),e.qZA(),e.TgZ(5,"app-label",21),e._UZ(6,"app-employee-multiply-selector",22),e.qZA(),e.TgZ(7,"app-label",23),e._UZ(8,"app-employee-multiply-selector",24),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.typeContractForm),e.xp6(2),e.Q6J("size",30),e.xp6(2),e.Q6J("autoResize",!0)("rows",4),e.xp6(2),e.Q6J("options",e.DdM(6,QT)),e.xp6(2),e.Q6J("options",e.DdM(7,QT))}}let GT=(()=>{class n{constructor(t,o,r){this.api=t,this.rt=o,this.confirmService=r,this.typesContracts$=x.aN.of(this.api.getContractTypesList(),"typeOfContractId",this.rt.createTypeOfContract(),this.rt.updateTypeOfContract(),this.rt.deleteTypeOfContract()),this.createDialogVisible=!1,this.editDialogVisible=!1,this.isRequestSending=!1,this.typeContractForm=new p.cw({name:new p.NI("",[p.kI.required,p.kI.minLength(3)]),description:new p.NI(""),receivers:new p.NI([],[p.kI.required,p.kI.minLength(1),p.kI.maxLength(10)]),archivers:new p.NI([],[p.kI.required,p.kI.minLength(1),p.kI.maxLength(10)])})}ngOnInit(){}openCreateDialog(){this.createDialogVisible=!0,this.typeContractForm.reset({name:"",description:"",receivers:[],archivers:[]})}openEditDialog(t){this.editDialogVisible=!0,this.editingContractTypeId=t.typeContract.typeOfContractId,this.typeContractForm.reset({name:t.typeContract.name,description:t.typeContract.description,receivers:t.typeContract.receivers,archivers:t.typeContract.archivers})}openDeleteDialog(t){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430?",accept:()=>{this.api.removeContractType(t.typeContract.typeOfContractId).subscribe()}})}createTypeOfContract(){var t,o;this.isRequestSending=!0;const{name:r,description:g,receivers:E,archivers:W}=this.typeContractForm.value;this.api.createContractType({name:null!=r?r:"",description:null!=g?g:"",receivers:null!==(t=null==E?void 0:E.map(Ie=>Ie.login))&&void 0!==t?t:[],archivers:null!==(o=null==W?void 0:W.map(Ie=>Ie.login))&&void 0!==o?o:[]}).subscribe({next:()=>{this.createDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}editTypeOfContract(){var t,o;if(!this.editingContractTypeId)return;this.isRequestSending=!0;const{name:r,description:g,receivers:E,archivers:W}=this.typeContractForm.value;this.api.updateContractType(this.editingContractTypeId,{name:null!=r?r:"",description:null!=g?g:"",receivers:null!==(t=null==E?void 0:E.map(Ie=>Ie.login))&&void 0!==t?t:[],archivers:null!==(o=null==W?void 0:W.map(Ie=>Ie.login))&&void 0!==o?o:[]}).subscribe({next:()=>{this.editDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:13,consts:[[1,"flex","flex-column","text-bluegray-500","bg-white","border-round","shadow-1"],[1,"flex","align-items-center","pt-2","pl-3","pr-2","pb-1","select-none"],[1,"text-lg","text-bluegray-600","font-semibold","mr-3","white-space-nowrap"],[1,"flex-grow-1"],["styleClass","p-button-sm p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flex","flex-column","p-4"],[4,"ngIf"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],[4,"ngTemplateOutlet"],[1,"flex","justify-content-end"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"onClick"],["typeContractFormTemplate",""],["class","terminated",3,"typeContract","onEdit","onDelete",4,"ngFor","ngForOf"],[1,"terminated",3,"typeContract","onEdit","onDelete"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputText","","formControlName","name",3,"size"],["label","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputTextarea","","formControlName","description",3,"autoResize","rows"],["label","\u041f\u0440\u0438\u0435\u043c\u0449\u0438\u043a\u0438"],["formControlName","receivers",3,"options"],["label","\u0410\u0440\u0445\u0438\u0432\u0430\u0442\u043e\u0440\u044b"],["formControlName","archivers",3,"options"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"p-button",4),e.NdJ("onClick",function(){return o.openCreateDialog()}),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,V2,2,1,"ng-container",6),e.ALo(8,"async"),e.qZA()(),e.TgZ(9,"p-dialog",7),e.NdJ("visibleChange",function(g){return o.createDialogVisible=g}),e.YNc(10,z2,1,0,"ng-container",8),e.TgZ(11,"div",9)(12,"p-button",10),e.NdJ("onClick",function(){return o.createTypeOfContract()}),e.qZA()()(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(g){return o.editDialogVisible=g}),e.YNc(14,J2,1,0,"ng-container",8),e.TgZ(15,"div",9)(16,"p-button",12),e.NdJ("onClick",function(){return o.editTypeOfContract()}),e.qZA()()(),e.YNc(17,Q2,9,8,"ng-template",null,13,e.W1O)),2&t){const r=e.MAs(18);e.xp6(7),e.Q6J("ngIf",e.lcZ(8,11,o.typesContracts$)),e.xp6(2),e.Q6J("visible",o.createDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Q6J("visible",o.editDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}},styles:["[_nghost-%COMP%]{width:100%}"]}),n})(),G2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"router-outlet"),e.qZA()()())},dependencies:[V,d.lC]}),n})();function W2(n,i){1&n&&e.GkF(0)}function Y2(n,i){1&n&&e.GkF(0)}function j2(n,i){1&n&&e.GkF(0)}function K2(n,i){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"span",9),e.TgZ(2,"span",10),e._uU(3," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(4,"div",11),e.YNc(5,j2,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(14);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function $2(n,i){1&n&&e.GkF(0)}function q2(n,i){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,$2,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function X2(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",23),e._uU(2,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a"),e.qZA(),e.TgZ(3,"th",24),e._uU(4,"\u0417\u0430\u0434\u0430\u0447\u0430"),e.qZA(),e.TgZ(5,"th",24),e._uU(6,"\u0422\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"\u0414\u0435\u043d\u044c\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA()(),e.TgZ(9,"tr")(10,"th"),e._uU(11,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"\u0421\u0440. \u0437\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\u041e\u0442\u0434./\u041f\u0440\u0438\u043d."),e.qZA(),e.TgZ(20,"th"),e._uU(21,"\u041e\u0442\u0434./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(22,"th"),e._uU(23,"\u041f\u0440\u0438\u043d./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(24,"th"),e._uU(25,"\u0394 \u041c\u0435\u0436\u0434\u0443 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"\u0417\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"\u0417\u0430 \u0447\u0430\u0441"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"\u0417\u0430 \u0437\u0430\u0434\u0430\u0447\u0443"),e.qZA()())}function ek(n,i){1&n&&e.GkF(0)}const tk=function(n){return{employeeRow:n}};function nk(n,i){if(1&n&&e.YNc(0,ek,1,0,"ng-container",26),2&n){const t=i.$implicit;e.oxw(3);const o=e.MAs(10);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,tk,t))}}function ik(n,i){1&n&&(e.TgZ(0,"tr")(1,"td",27),e._uU(2," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0435\u0442 "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",10))}function ok(n,i){if(1&n&&(e.TgZ(0,"div",14)(1,"p-table",15),e.YNc(2,X2,32,0,"ng-template",16),e.YNc(3,nk,1,4,"ng-template",17),e.YNc(4,ik,3,1,"ng-template",18),e.qZA(),e.TgZ(5,"div",19)(6,"span",20),e._uU(7," \u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(8,"p-chart",21),e.qZA(),e.TgZ(9,"div",19)(10,"span",20),e._uU(11," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(12,"p-chart",22),e.qZA(),e.TgZ(13,"div",19)(14,"span",20),e._uU(15," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(16,"p-chart",22),e.qZA()()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("value",t.rows),e.xp6(7),e.Q6J("data",t.taskCountChart),e.xp6(4),e.Q6J("data",t.timingsChart)("options",o.timingsChartOptions),e.xp6(4),e.Q6J("data",t.moneyChart)("options",o.moneyChartOptions)}}function sk(n,i){if(1&n&&(e.YNc(0,ok,17,6,"div",13),e.ALo(1,"async")),2&n){const t=e.oxw(),o=e.MAs(12);e.Q6J("ngIf",e.lcZ(1,2,t.statisticsTable$))("ngIfElse",o)}}function rk(n,i){if(1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-employee-label",30),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.employeeRowSpanCount),e.xp6(1),e.Q6J("employee",t.employee)}}function ak(n,i){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.taskClassRowSpanCount),e.xp6(1),e.Oqu(t.className)}}function lk(n,i){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,rk,2,2,"td",28),e.YNc(2,ak,2,2,"td",28),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-duration",29),e.qZA(),e._UZ(15,"td"),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"currency"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.employee),e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(2),e.Oqu(t.taskType.name),e.xp6(2),e.Oqu(t.taskType.count),e.xp6(2),e.Oqu(t.taskType.quantityPerShift),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.taskType.timings.receivedAndClosed),e.xp6(3),e.Oqu(e.xi3(18,11,t.taskType.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(21,14,t.taskType.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(24,17,t.taskType.money.quantityPerTask,"RUB"))}}function ck(n,i){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.xp6(1),e.Oqu(t.className)}}function uk(n,i){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,ck,2,1,"td",31),e._UZ(2,"td"),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._UZ(8,"app-duration",29),e.qZA(),e.TgZ(9,"td",32),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td",32),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td",32),e._UZ(14,"app-duration",29),e.qZA(),e.TgZ(15,"td",32),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"td",32),e._uU(19),e.ALo(20,"currency"),e.qZA(),e.TgZ(21,"td",32),e._uU(22),e.ALo(23,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(3),e.Oqu(t.total.taskCount),e.xp6(2),e.Oqu(t.total.taskQuantityPerShift),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.receivedAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.delayBetween),e.xp6(2),e.Oqu(e.xi3(17,10,t.total.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(20,13,t.total.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(23,16,t.total.money.quantityPerTask,"RUB"))}}function dk(n,i){if(1&n&&(e.YNc(0,lk,25,20,"tr",28),e.YNc(1,uk,24,19,"tr",28)),2&n){const t=i.employeeRow;e.Q6J("ngIf",t.taskType&&!t.total),e.xp6(1),e.Q6J("ngIf",!t.taskType&&t.total)}}function pk(n,i){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"span",34),e.TgZ(2,"span",35),e._uU(3," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 "),e.qZA()())}function hk(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"app-data-range-input",37),e.NdJ("ngModelChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.statisticsPeriod=r)}),e.qZA(),e._UZ(2,"button",38),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.statisticsPeriod)}}class Gh{constructor(i,t){this.api=i,this.blockService=t,this.statisticsPeriod=null,this.submit$=new Nd.t(1),this.statisticsTable$=this.submit$.pipe((0,s.h)(()=>!!this.statisticsPeriod),(0,En.b)(()=>this.blockService.wait({message:"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"})),(0,F.w)(()=>this.api.getEmployeeWorkStatistics({period:this.statisticsPeriod})),(0,En.b)({next:()=>this.blockService.unblock(),error:()=>this.blockService.unblock()}),(0,an.d)(1)),this.timingsChartOptions={scales:{y:{ticks:{callback:this.amountTimeMapping}}},plugins:{tooltip:{callbacks:{label:o=>{let r=o.dataset.label||"";return r&&(r+=": "),null!==o.parsed.y&&(r+=this.amountTimeMapping(o.parsed.y)),r}}}}},this.moneyChartOptions={scales:{y:{ticks:{callback:(o,r,g)=>o+" \u0440."}}}}}ngOnInit(){}amountTimeMapping(i){const t=Math.floor(i/36e5),o=Math.floor((i-36e5*t)/6e4),r=Math.floor((i-36e5*t-6e4*o)/1e3);let g="";return t&&(g+=t+" \u0447."),o&&(g+=o+" \u043c\u0438\u043d."),!t&&r&&(g+=r+" \u0441\u0435\u043a."),!t&&!o&&!r&&(g+=i+" \u043c\u0441."),g}}Gh.\u0275fac=function(i){return new(i||Gh)(e.Y36(O.s),e.Y36(Vh.A))},Gh.\u0275cmp=e.Xpm({type:Gh,selectors:[["ng-component"]],decls:15,vars:2,consts:[[1,"flex","flex-column","bg-white","border-round","shadow-1","w-full","h-full","text-bluegray-500"],[4,"ngTemplateOutlet"],["titleTemplate",""],["contentTemplate",""],["statisticsTableTemplate",""],["taskStatisticsRowTemplate",""],["emptyTableTemplate",""],["periodStatisticsFormTemplate",""],[1,"flex","align-items-center","pl-4","pt-2","pr-2","pb-2","gap-2","border-bottom-1","border-bluegray-100"],[1,"mdi-work_history"],[1,"text-xl","font-semibold"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-2","flex-grow-1"],["class","flex flex-column gap-3",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-3"],[3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","flex-column","p-4","align-self-center"],[1,"font-bold","text-bluegray-500","text-lg"],["type","bar","width","1000px",3,"data"],["type","bar","width","1000px",3,"data","options"],["rowspan","2"],["colspan","4"],["colspan","3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-400","text-center","font-bold"],[4,"ngIf"],[3,"ms"],[3,"employee"],["class","font-bold",4,"ngIf"],[1,"font-bold"],[1,"text-bluegray-400","flex","flex-column","align-items-center","justify-content-center","w-full","h-full"],[1,"mds-date_range"],[1,"max-w-20rem","text-2xl","font-semibold","text-center"],[1,"flex","gap-2","p-2","border-round-xl","border-1","border-bluegray-100"],[3,"ngModel","ngModelChange"],["pButton","","label","\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c","id","submitButton"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,W2,1,0,"ng-container",1),e.YNc(2,Y2,1,0,"ng-container",1),e.qZA(),e.YNc(3,K2,6,1,"ng-template",null,2,e.W1O),e.YNc(5,q2,2,1,"ng-template",null,3,e.W1O),e.YNc(7,sk,2,4,"ng-template",null,4,e.W1O),e.YNc(9,dk,2,2,"ng-template",null,5,e.W1O),e.YNc(11,pk,4,0,"ng-template",null,6,e.W1O),e.YNc(13,hk,3,1,"ng-template",null,7,e.W1O)),2&i){const o=e.MAs(4),r=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),(0,To.gn)([(0,ja.v4)("submitButton","click")],Gh.prototype,"submit$",void 0);let gk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"flex","flex-grow-1"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[d.lC],styles:["[_nghost-%COMP%]{flex-grow:1}"]}),n})();var fk=C(2587);const mk=function(n){return["/topology","house",n]},_k=function(n,i){return{highlighted:n,"hover:text-primary hover:border-primary cursor-pointer":i}};function Ck(n,i){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("routerLink",e.VKq(3,mk,t.buildingId))("ngClass",e.WLB(5,_k,t.highlighted,t.highlighted)),e.xp6(1),e.hij(" ",t.houseNum," ")}}const vk=function(n){return{highlighted:n}};function bk(n,i){if(1&n&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,Ck,2,8,"span",11),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("ngClass",e.VKq(3,vk,t.highlighted)),e.xp6(2),e.hij(" ",t.streetName," "),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function yk(n,i){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,bk,5,5,"div",7),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function xk(n,i){1&n&&e._UZ(0,"p-skeleton",18)}function Ik(n,i){if(1&n&&(e.TgZ(0,"div",15),e._UZ(1,"p-skeleton",16),e.TgZ(2,"div",10),e.YNc(3,xk,1,0,"p-skeleton",17),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("width",t.stWidth+"px"),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function Tk(n,i){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Ik,4,2,"div",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.topologyLoadingSkeleton)}}class Wh{constructor(i){this.api=i,this.search$=new Nd.t(1),this.searchQuery$=this.search$.pipe((0,ft.U)(t=>t.target.value),(0,Ri.O)("")),this.topology$=this.api.getTopology().pipe((0,an.d)(1),(0,Pa.z)(t=>this.searchQuery$.pipe((0,En.b)(()=>window.scrollTo(0,0)),(0,ft.U)(o=>{if(!o||0==(o=o.trim().toLowerCase()).length)return t.map(E=>(E.highlighted=!0,E.houses.forEach(W=>W.highlighted=!0),E));const r=(o=fk.s.translate(o)).split(" "),g=t.map(E=>{const W=E.houses.filter(Ie=>r.some(it=>Ie.houseNum.toLowerCase().includes(it)));return E.highlighted=W.length>0&&1===r.length||r.some(Ie=>E.streetName.toLowerCase().includes(Ie)),E.houses.forEach(Ie=>Ie.highlighted=W.some(it=>it.buildingId===Ie.buildingId)),E}).sort((E,W)=>E.highlighted?-1:W.highlighted?1:0);return g.filter(E=>E.highlighted&&E.houses.every(W=>!W.highlighted)).forEach(E=>E.houses.forEach(W=>W.highlighted=!0)),g})))),this.topologyLoadingSkeleton=x.mQ}ngOnInit(){}}Wh.\u0275fac=function(i){return new(i||Wh)(e.Y36(O.s))},Wh.\u0275cmp=e.Xpm({type:Wh,selectors:[["ng-component"]],decls:9,vars:4,consts:[[1,"flex","flex-column"],[1,"flex","gap-3","border-bottom-1","border-bluegray-100","bg-white","align-items-center","p-4","sticky","top-0"],[1,"text-2xl","text-bluegray-500","font-semibold"],["id","searchInput","pInputText","","placeholder","\u041d\u0430\u0439\u0442\u0438 \u0434\u043e\u043c..."],["class","flex flex-column gap-1 cursor-default p-5 bg-white border-round-2xl shadow-1",4,"ngIf","ngIfElse"],["topologyLoadingTemplate",""],[1,"flex","flex-column","gap-1","cursor-default","p-5","bg-white","border-round-2xl","shadow-1"],["class","flex align-items-center gap-2 text-sm topology",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm","topology",3,"ngClass"],[1,"white-space-nowrap","font-bold"],[1,"flex","flex-wrap","gap-1"],["class","border-1 border-bluegray-100 p-1 border-round topology",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"border-1","border-bluegray-100","p-1","border-round","topology",3,"routerLink","ngClass"],[1,"flex","flex-column","gap-1","cursor-default","p-3","bg-white","border-round-2xl","shadow-1"],["class","flex align-items-center gap-2 text-sm",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm"],[3,"width"],["width","23px","height","1.5rem",4,"ngFor","ngForOf"],["width","23px","height","1.5rem"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f \u0434\u043e\u043c\u043e\u0432"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.YNc(5,yk,2,1,"div",4),e.ALo(6,"async"),e.qZA(),e.YNc(7,Tk,2,1,"ng-template",null,5,e.W1O)),2&i){const o=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,2,t.topology$))("ngIfElse",o)}},styles:[".topology[_ngcontent-%COMP%]:not(.highlighted){opacity:.2}"]}),(0,To.gn)([(0,ja.v4)("searchInput","input")],Wh.prototype,"search$",void 0);var WT=C(9664);let Ak=(()=>{class n{constructor(t,o,r){this.api=t,this.rt=o,this.telnetService=r,this.tableOffset=0,this.tableLazyLoad$=new pr.x,this.previousPageRequest="",this.tableLazyLoadDistinctChanges$=this.tableLazyLoad$.pipe((0,qt.g)(1),(0,ko.x)((g,E)=>this.previousPageRequest===JSON.stringify(E)),(0,En.b)(g=>this.previousPageRequest=JSON.stringify(g))),this.updateContent$=new ma.X(!0),this.tableContentLoading=!1,(0,Po.a)([this.tableLazyLoadDistinctChanges$,this.updateContent$]).pipe((0,En.b)(()=>this.tableContentLoading=!0),(0,F.w)(([g])=>(delete g.filters.global,this.api.getCommutatorsTable(g)))).subscribe(g=>{this.tableContent=g,this.tableContentLoading=!1})}openCommutatorWeb(t){window.open(`http://${t}`,"_blank")}openTelnetTerminal(t,o){this.telnetService.connect(t,o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s),e.LFG(me.U),e.LFG(WT.M))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wk(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",16),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openCreateCommutatorDialog())}),e.qZA(),e.TgZ(1,"p-button",17),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.service.updateContent$.next(!0))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_SWITCH))}}function Ek(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",18)(2,"div",19)(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(5,"p-columnFilter",20)(6,"p-sortIcon",21),e.qZA()(),e.TgZ(7,"th",18)(8,"div",19)(9,"span"),e._uU(10,"IP \u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(11,"p-columnFilter",22)(12,"p-sortIcon",23),e.qZA()(),e.TgZ(13,"th",18)(14,"div",19)(15,"span"),e._uU(16,"\u0422\u0438\u043f"),e.qZA(),e._UZ(17,"p-columnFilter",24)(18,"p-sortIcon",25),e.qZA()(),e.TgZ(19,"th",18)(20,"div",19)(21,"span"),e._uU(22,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e._UZ(23,"p-columnFilter",26)(24,"p-sortIcon",27),e.qZA()(),e.TgZ(25,"th",18)(26,"div",19)(27,"span"),e._uU(28,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(29,"p-columnFilter",28)(30,"p-sortIcon",29),e.qZA()(),e._UZ(31,"th"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("pSortableColumn","name"),e.xp6(6),e.Q6J("pSortableColumn","ipaddr"),e.xp6(6),e.Q6J("pSortableColumn","swtype"),e.xp6(6),e.Q6J("pSortableColumn","swmodelId"),e.xp6(6),e.Q6J("pSortableColumn","buildId"))}function Sk(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",30)(13,"span",31),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.service.openCommutatorWeb(g.ip))}),e._uU(14," Web "),e.qZA(),e.TgZ(15,"span",31),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.service.openTelnetTerminal(g.name,g.ip))}),e._uU(16," Telnet "),e.qZA(),e.TgZ(17,"span",31),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw();return e.KtG(E.openCommutatorViewDialog(g))}),e._uU(18," \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),e.qZA(),e.TgZ(19,"span",31),e.NdJ("click",function(r){const E=e.CHM(t).$implicit,W=e.oxw(),Ie=e.MAs(16);return W.openContextMenu(E),e.KtG(Ie.toggle(r))}),e._uU(20," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.ip),e.xp6(2),e.hij("L",t.type+1,""),e.xp6(2),e.Oqu(t.model),e.xp6(2),e.Oqu(t.address)}}function kk(n,i){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"p-progressSpinner",33),e.qZA())}function Dk(n,i){if(1&n&&e._UZ(0,"span",45),2&n){const t=e.oxw().commutator;e.Q6J("pTooltip",t.errorMessage)}}const Mk=function(n,i){return{"text-bluegray-300":n,"text-primary-400":i}};function Ok(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"div",36),e._UZ(3,"span",37),e.TgZ(4,"span",38),e._uU(5),e.qZA(),e.TgZ(6,"span",39),e._uU(7),e.qZA()(),e.TgZ(8,"div",40)(9,"span"),e._uU(10),e.qZA(),e.TgZ(11,"span",41),e._uU(12),e.qZA()()(),e.YNc(13,Dk,1,1,"span",42),e.TgZ(14,"p-button",43),e.NdJ("onClick",function(){const g=e.CHM(t).commutator,E=e.oxw();return e.KtG(E.openCommutatorViewDialog(g))}),e.qZA(),e.TgZ(15,"p-button",44),e.NdJ("onClick",function(r){const E=e.CHM(t).commutator,W=e.oxw(),Ie=e.MAs(16);return W.openContextMenu(E),e.KtG(Ie.toggle(r))}),e.qZA()()}if(2&n){const t=i.commutator;e.xp6(3),e.Q6J("ngClass",t.isOnline?"bg-green-400":"bg-red-400"),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",e.WLB(7,Mk,1===t.type,2===t.type)),e.xp6(1),e.Oqu(1===t.type?"L2":"L3"),e.xp6(3),e.Oqu(t.ip),e.xp6(2),e.Oqu(t.model),e.xp6(1),e.Q6J("ngIf",t.isHasError)}}function Pk(n,i){if(1&n&&e._UZ(0,"app-commutator-view",49),2&n){const t=e.oxw(2);e.Q6J("commutator",t.selectedToViewCommutator)}}function Lk(n,i){1&n&&(e.TgZ(0,"div")(1,"div",50),e._UZ(2,"span",51),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function Rk(n,i){1&n&&(e.TgZ(0,"div")(1,"div",52),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0435 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()()())}function Nk(n,i){1&n&&(e.TgZ(0,"div")(1,"div",32),e._UZ(2,"p-progressSpinner",54),e.qZA()())}function Fk(n,i){if(1&n&&(e.ynx(0,46),e.YNc(1,Pk,1,1,"app-commutator-view",47),e.YNc(2,Lk,5,0,"div",48),e.YNc(3,Rk,5,0,"div",48),e.YNc(4,Nk,3,0,"div",48),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.commutatorInfoLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function Bk(n,i){1&n&&(e.TgZ(0,"span",55),e._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d"),e.qZA())}function Zk(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}function Uk(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",74),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.editCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.commutatorFormErrors.length>0||!t.commutatorForm.dirty)("loading",t.beginCommutatorsEditing)}}function Hk(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",75),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.commutatorForm.valid)("loading",t.beginCommutatorsEditing)}}const Vk=function(){return{label:"L2",value:1}},zk=function(){return{label:"L3",value:2}},Jk=function(n,i){return[n,i]},Jx=function(){return[]};function Qk(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",57)(2,"div",58),e._UZ(3,"p-selectButton",59),e.TgZ(4,"div",60)(5,"label"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"p-autoComplete",61),e.NdJ("completeMethod",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.commutatorModelQueryChange.next(r.query))})("onClear",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.commutatorForm.controls.model.setValue(null))}),e.ALo(8,"async"),e.qZA()()(),e.TgZ(9,"div",58)(10,"div",60)(11,"label"),e._uU(12,"\u0418\u043c\u044f"),e.qZA(),e._UZ(13,"input",62),e.qZA(),e.TgZ(14,"div",60)(15,"label"),e._uU(16,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(17,"app-ip-input",63),e.qZA()(),e.TgZ(18,"div",58)(19,"div",60)(20,"label"),e._uU(21,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(22,"app-address-input-alt",64),e.qZA(),e.TgZ(23,"div",60)(24,"label"),e._uU(25,"\u041f\u043e\u0434\u044a\u0435\u0437\u0434"),e.qZA(),e._UZ(26,"p-inputNumber",65),e.qZA(),e.TgZ(27,"div",60)(28,"label"),e._uU(29,"\u042d\u0442\u0430\u0436"),e.qZA(),e._UZ(30,"p-inputNumber",66),e.qZA()(),e.TgZ(31,"div",58)(32,"div",60)(33,"label"),e._uU(34,"Uplink"),e.qZA(),e.TgZ(35,"p-autoComplete",67),e.NdJ("completeMethod",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.commutatorUplinkQuerySearch.next(r.query))})("onClear",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.commutatorForm.controls.uplink.setValue(null))}),e.ALo(36,"async"),e.qZA()(),e.TgZ(37,"div",60)(38,"label"),e._uU(39,"Nagios"),e.qZA(),e._UZ(40,"p-inputSwitch",68),e.qZA(),e.TgZ(41,"div",60)(42,"label"),e._uU(43,"SMS"),e.qZA(),e._UZ(44,"p-inputSwitch",69),e.qZA()()(),e.TgZ(45,"div",70),e.YNc(46,Zk,2,1,"span",71),e.qZA(),e.YNc(47,Uk,1,2,"p-button",72),e.YNc(48,Hk,1,2,"ng-template",null,73,e.W1O),e.qZA()}if(2&n){const t=e.MAs(49),o=e.oxw();let r,g;e.xp6(1),e.Q6J("formGroup",o.commutatorForm),e.xp6(2),e.Q6J("options",e.WLB(26,Jk,e.DdM(24,Vk),e.DdM(25,zk))),e.xp6(4),e.Q6J("showClear",!0)("suggestions",null!==(r=e.lcZ(8,20,o.commutatorModels$))&&void 0!==r?r:e.DdM(29,Jx)),e.xp6(6),e.Q6J("pKeyFilter",o.commutatorNameKeyFilter)("size",35),e.xp6(9),e.Q6J("isAcpConnected",!0)("isHouseOnly",!0),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(5),e.Q6J("showClear",!0)("size",40)("suggestions",null!==(g=e.lcZ(36,22,o.commutatorUplinks$))&&void 0!==g?g:e.DdM(30,Jx)),e.xp6(11),e.Q6J("ngForOf",o.commutatorFormErrors),e.xp6(1),e.Q6J("ngIf",o.editableSwitch)("ngIfElse",t)}}const Gk=function(){return{field:"name",order:1}},Wk=function(n){return[n]},Yk=function(){return[25,50,100]};let YT=(()=>{class n{constructor(t,o,r,g,E){this.api=t,this.rt=o,this.service=r,this.personality=g,this.confirm=E,this.AccessFlag=Li.j,this.pageNum=0,this.commutatorFilterForm=new p.cw({name:new p.NI(null),ip:new p.NI(null),address:new p.NI(null)}),this.changeFilterForm$=this.commutatorFilterForm.valueChanges.pipe((0,Ri.O)(this.commutatorFilterForm.value),(0,No.b)(1e3),(0,En.b)(()=>this.pageNum=0)),this.changeCommutatorPage=new ma.X(0),this.page$=this.changeCommutatorPage.pipe((0,En.b)(W=>this.pageNum=W)),this.loadingState=Ce.Gu.LOADING,this.changePageOrFilters$=(0,Po.a)([this.page$,this.changeFilterForm$]).pipe((0,ft.U)(([W,Ie])=>{var it,nt;return[this.pageNum,Ie.name,Ie.ip,null===(nt=null===(it=Ie.address)||void 0===it?void 0:it.acpHouseBind)||void 0===nt?void 0:nt.buildingId]})),this.commutatorPage$=x.aN.ofPageAlt(this.changePageOrFilters$,this.api.getCommutators.bind(this.api),"id",this.rt.acpBaseCommutatorCreated(),this.rt.acpBaseCommutatorUpdated(),this.rt.acpBaseCommutatorDeleted()),this.commutatorDialogVisible=!1,this.commutatorModelQueryChange=new pr.x,this.commutatorModels$=this.commutatorModelQueryChange.pipe((0,No.b)(1e3),(0,F.w)(W=>this.api.getCommutatorModels(W)),(0,an.d)(1)),this.commutatorNameKeyFilter=/^[^\u0410-\u044f ]+$/,this.commutatorUplinkQuerySearch=new pr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,No.b)(1e3),(0,F.w)(W=>this.api.searchCommutators(W)),(0,ft.U)(W=>W.filter(Ie=>{var it;return Ie.value!==(null===(it=this.editableSwitch)||void 0===it?void 0:it.id)})),(0,an.d)(1)),this.beginCommutatorsEditing=!1,this.contextMenuItems=[],this.commutatorViewDialogVisible=!1,this.commutatorInfoLoadingState=Ce.Gu.LOADING,this.subscriptions=new x.xf,this.commutatorNameValidator=W=>(0,Tn.of)(W.value).pipe((0,qt.g)(700),(0,F.w)(()=>this.api.checkCommutatorNameExist(W.value)),(0,ft.U)(Ie=>Ie?{nameAlreadyExists:!0}:null)),this.commutatorIpValidator=W=>(0,Tn.of)(W.value).pipe((0,qt.g)(700),(0,F.w)(()=>this.api.checkCommutatorIpExist(W.value)),(0,ft.U)(Ie=>Ie?{ipAlreadyExists:!0}:null)),this.commutatorForm=new p.cw({type:new p.NI(1,[p.kI.required]),model:new p.NI(null,[p.kI.required]),name:new p.NI(null,[p.kI.required],[this.commutatorNameValidator]),ipaddr:new p.NI(null,[p.kI.required],[this.commutatorIpValidator]),address:new p.NI(null,[p.kI.required]),entrance:new p.NI(0,[p.kI.required]),floor:new p.NI(0,[p.kI.required]),uplink:new p.NI(null,[p.kI.required]),nagios:new p.NI(!1),sms:new p.NI(!1)})}scrollTop(){window.scroll(0,0)}get commutatorFormErrors(){return Object.entries(this.commutatorForm.controls).flatMap(([t,o])=>o.dirty?null===o.errors?[]:Object.entries(o.errors).map(([r,g])=>{switch(t){case"model":if("required"===r)return"\u041c\u043e\u0434\u0435\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430";break;case"name":if("required"===r)return"\u0418\u043c\u044f \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e";if("nameAlreadyExists"===r)return"\u0418\u043c\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"ipaddr":if("required"===r)return"IP-\u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d";if("ipAlreadyExists"===r)return"IP-\u0430\u0434\u0440\u0435\u0441 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"address":if("required"===r)return"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d";break;case"uplink":if("required"===r)return"Uplink \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"}return t+": \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}):[])}get commutatorFormValue(){var t;const{type:o,model:r,name:g,ipaddr:E,address:W,entrance:Ie,floor:it,uplink:nt,nagios:Kt,sms:Yt}=this.commutatorForm.value;return{swtype:o,swmodelId:null==r?void 0:r.id,name:g,ipaddr:E,buildId:null===(t=null==W?void 0:W.acpHouseBind)||void 0===t?void 0:t.buildingId,entrance:Ie,storey:it,phyUplinkId:null==nt?void 0:nt.value,enableMonitor:Kt?1:0,enableSms:Yt?1:0}}openContextMenu(t){this.contextMenuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",disabled:!this.personality.isHasAccess(Li.j.EDIT_SWITCH),command:()=>this.openEditCommutatorDialog(t.id)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",styleClass:"danger-menu-button",icon:"mdi-delete",disabled:!this.personality.isHasAccess(Li.j.EDIT_SWITCH),command:()=>this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+t.name+" \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440?",accept:()=>this.deleteCommutator(t.id)})},{label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:"mdi-sync",command:()=>this.commutatorRemoteUpdate(t.id)}]}trackByCommutator(t,o){return o.id+o.ip+o.name+o.model+o.isOnline}ngOnInit(){this.subscriptions.addSubscription("updCom",this.rt.acpCommutatorUpdated().subscribe(t=>{var o;t.id===(null===(o=this.selectedToViewCommutator)||void 0===o?void 0:o.id)&&(this.selectedToViewCommutator=t)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}openCreateCommutatorDialog(){this.commutatorDialogVisible=!0,this.editableSwitch=void 0,this.commutatorForm=new p.cw({type:new p.NI(1,[p.kI.required]),model:new p.NI(null,[p.kI.required]),name:new p.NI(null,[p.kI.required],[this.commutatorNameValidator]),ipaddr:new p.NI(null,[p.kI.required],[this.commutatorIpValidator]),address:new p.NI(null,[p.kI.required]),entrance:new p.NI(0,[p.kI.required]),floor:new p.NI(0,[p.kI.required]),uplink:new p.NI(null,[p.kI.required]),nagios:new p.NI(!1),sms:new p.NI(!1)})}openEditCommutatorDialog(t){this.api.getCommutatorEditingPreset(t).subscribe(o=>{this.commutatorForm=new p.cw({type:new p.NI(o.targetCommutator.swtype,[p.kI.required]),model:new p.NI(o.model,[p.kI.required]),name:new p.NI(o.targetCommutator.name,[p.kI.required],[this.commutatorNameValidator]),ipaddr:new p.NI(o.targetCommutator.ipaddr,[p.kI.required],[this.commutatorIpValidator]),address:new p.NI(o.address,[p.kI.required]),entrance:new p.NI(o.targetCommutator.entrance,[p.kI.required]),floor:new p.NI(o.targetCommutator.storey,[p.kI.required]),uplink:new p.NI(o.uplinkCommutator,[p.kI.required]),nagios:new p.NI(1===o.targetCommutator.enableMonitor),sms:new p.NI(1===o.targetCommutator.enableSms)}),this.commutatorDialogVisible=!0,this.editableSwitch=o.targetCommutator})}editCommutator(){void 0!==this.editableSwitch&&(this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.editCommutator(this.editableSwitch.id,this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}}))}createCommutator(){this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.createCommutator(this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}})}deleteCommutator(t){this.api.deleteCommutator(t).subscribe()}commutatorRemoteUpdate(t){return this.api.commutatorRemoteUpdate(t).subscribe()}openCommutatorViewDialog(t){this.selectedToViewCommutator=void 0,this.commutatorInfoLoadingState=Ce.Gu.LOADING,this.commutatorViewDialogVisible=!0,this.api.getCommutator(t.id).subscribe({next:o=>{var r;null!==(r=null==o?void 0:o.commutator)&&void 0!==r&&r.additionalInfo?(this.commutatorInfoLoadingState=Ce.Gu.READY,this.selectedToViewCommutator=o.commutator):this.commutatorInfoLoadingState=Ce.Gu.EMPTY},error:()=>{this.commutatorInfoLoadingState=Ce.Gu.ERROR}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(Ak),e.Y36(Q.F),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:21,vars:27,consts:[[1,"flex","flex-column","flex-grow-1"],[1,"flex","align-items-center","px-5","py-4"],[1,"text-2xl","text-bluegray-500","font-semibold"],["currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432","paginatorDropdownAppendTo","body","sortMode","multiple","styleClass","p-datatable-sm",3,"first","lazyLoadOnInit","lazy","loading","multiSortMeta","paginator","rowsPerPageOptions","rows","showCurrentPageReport","totalRecords","value","onLazyLoad","firstChange","onPage"],["registryTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["loading",""],["commutatorItem",""],[3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],["appendTo","body",3,"model","popup"],["contextMenu",""],["noAddress",""],[3,"visible","dismissableMask","header","modal","resizable","visibleChange"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-text p-button-success",3,"disabled","onClick"],["type","button","icon","mdi-update","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text",3,"onClick"],[3,"pSortableColumn"],[1,"flex","align-items-center"],["field","name","type","text","display","menu"],["field","name"],["field","ipaddr","type","text","display","menu"],["field","ipaddr"],["field","swtype","type","text","display","menu"],["field","swtype"],["field","swmodelId","type","text","display","menu"],["field","swmodelId"],["field","buildId","type","text","display","menu"],["field","buildId"],[1,"flex","flex-wrap","gap-2"],[1,"text-primary","font-bold","hover:text-primary-700","cursor-pointer",3,"click"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","gap-2","split-line","p-3","align-items-center"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","gap-2"],[1,"border-circle","w-1rem","h-1rem",3,"ngClass"],[1,"font-bold","text-sm"],[1,"text-xs","font-bold",3,"ngClass"],[1,"flex","gap-2"],[1,"text-bluegray-400"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","mdi-visibility","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],["icon","mdi-more_vert","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],[1,"mdi-warning","text-red-400",3,"pTooltip"],[3,"ngSwitch"],[3,"commutator",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"commutator"],[1,"flex","flex-column","flex-grow-1","text-red-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-error"],[1,"flex","flex-column","flex-grow-1","text-bluegray-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-dns"],["strokeWidth","2",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"text-bluegray-300"],[1,"flex","flex-column"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"flex","gap-4","align-items-end"],["formControlName","type",3,"options"],[1,"input-label-wrapper"],["appendTo","body","field","name","formControlName","model","placeholder","Huawei",3,"showClear","suggestions","completeMethod","onClear"],["formControlName","name","pInputText","","placeholder","KM44.DES16.3.2","type","text",3,"pKeyFilter","size"],["formControlName","ipaddr"],["formControlName","address",3,"isAcpConnected","isHouseOnly"],["formControlName","entrance",3,"max","min","size"],["formControlName","floor",3,"max","min","size"],["appendTo","body","field","label","formControlName","uplink","placeholder","\u0418\u043c\u044f, IP-\u0430\u0434\u0440\u0435\u0441, \u0410\u0434\u0440\u0435\u0441",3,"showClear","size","suggestions","completeMethod","onClear"],["formControlName","nagios"],["formControlName","sms"],[1,"flex","flex-column","gap-1","py-2","text-xs","font-bold","text-red-400"],[4,"ngFor","ngForOf"],["class","align-self-end","icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick",4,"ngIf","ngIfElse"],["createButton",""],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," \u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),e.qZA()(),e.TgZ(4,"p-table",3,4),e.NdJ("onLazyLoad",function(g){return o.service.tableLazyLoad$.next(g)})("firstChange",function(g){return o.service.tableOffset=g})("onPage",function(){return o.scrollTop()}),e.YNc(6,wk,2,1,"ng-template",5),e.YNc(7,Ek,32,5,"ng-template",6),e.YNc(8,Sk,21,5,"ng-template",7),e.qZA()(),e.YNc(9,kk,2,0,"ng-template",null,8,e.W1O),e.YNc(11,Ok,16,10,"ng-template",null,9,e.W1O),e.TgZ(13,"p-dialog",10),e.NdJ("visibleChange",function(g){return o.commutatorViewDialogVisible=g}),e.YNc(14,Fk,5,5,"ng-template",11),e.qZA(),e._UZ(15,"p-menu",12,13),e.YNc(17,Bk,2,0,"ng-template",null,14,e.W1O),e.TgZ(19,"p-dialog",15),e.NdJ("visibleChange",function(g){return o.commutatorDialogVisible=g}),e.YNc(20,Qk,50,31,"ng-template",11),e.qZA()),2&t){let r,g,E;e.xp6(4),e.Q6J("first",o.service.tableOffset)("lazyLoadOnInit",!0)("lazy",!0)("loading",o.service.tableContentLoading)("multiSortMeta",e.VKq(23,Wk,e.DdM(22,Gk)))("paginator",!0)("rowsPerPageOptions",e.DdM(25,Yk))("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(r=null==o.service.tableContent?null:o.service.tableContent.totalElements)&&void 0!==r?r:0)("value",null!==(g=null==o.service.tableContent?null:o.service.tableContent.content)&&void 0!==g?g:e.DdM(26,Jx)),e.xp6(9),e.Q6J("visible",o.commutatorViewDialogVisible)("dismissableMask",!0)("header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 "+(null!==(E=null==o.selectedToViewCommutator?null:o.selectedToViewCommutator.name)&&void 0!==E?E:"\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"))("resizable",!1),e.xp6(2),e.Q6J("model",o.contextMenuItems)("popup",!0),e.xp6(4),e.Q6J("visible",o.commutatorDialogVisible)("dismissableMask",!0)("header",o.editableSwitch?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430")("modal",!0)("resizable",!1)}},styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.S9]}}),n})(),jk=(()=>{class n{constructor(t,o,r){this.api=t,this.blockService=o,this.toast=r,this.tableOffset=0,this.bindingsUserBriefs={},this.tableLazyLoad$=new pr.x,this.previousPageRequest="",this.tableLazyLoadDistinctChanges$=this.tableLazyLoad$.pipe((0,qt.g)(1),(0,ko.x)((g,E)=>this.previousPageRequest===JSON.stringify(E)),(0,En.b)(g=>this.previousPageRequest=JSON.stringify(g))),this.updateContent$=new ma.X(!0),this.tableContentLoading=!1,this.bindingContextOptions=[],this.userAuthDialogVisible=!1,this.selectBindingForAuth=null,this.authUserForm=new p.cw({login:new p.NI("",[p.kI.required]),macaddr:new p.NI("",[p.kI.required])}),(0,Po.a)([this.tableLazyLoadDistinctChanges$,this.updateContent$]).pipe((0,En.b)(()=>this.tableContentLoading=!0),(0,F.w)(([g])=>(delete g.filters.global,this.api.getBindingsTable(g)))).subscribe(g=>{this.tableContent=g,this.tableContentLoading=!1,this.api.getBulkUserBriefInfo(g.content.filter(E=>E.authName).map(E=>E.authName)).subscribe(E=>this.bindingsUserBriefs=E)})}selectBinding(t,o,r){const{clientX:g,clientY:E}=t,W=document.createElement("div");W.className="fixed w-1rem h-1rem pointer-events-none",W.style.left=g+"px",W.style.top=E+"px",document.body.appendChild(W),this.bindingContextOptions=[{icon:"mdi-web",label:"\u0423\u0434\u0430\u043b\u0435\u043d\u043a\u0430",disabled:!o.ipaddr,command:()=>{this.openWeb(o.ipaddr)}},{icon:"mdi-password",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",command:()=>{this.selectBindingForAuth=o,this.userAuthDialogVisible=!0,this.authUserForm.reset({login:"",macaddr:o.macaddr})}}],r.show(t),setTimeout(()=>{r.target=W,r.alignOverlay(),document.body.removeChild(W)})}openWeb(t){this.blockService.wait({message:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),this.api.checkRemoteControl(t).subscribe({next:o=>{this.blockService.unblock(),o.hasAccess&&o.webPort?window.open(`http://${t}:${o.webPort}`,"_blank"):this.toast.add({detail:"\u041d\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430",severity:"dark",key:"darktoast",icon:"mdi-web",closable:!1})},error:()=>{this.blockService.unblock()}})}authUser(){const{login:t,macaddr:o}=this.authUserForm.value;!t||!o||(this.blockService.wait({message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),this.api.authDhcpBinding(t,o).subscribe({next:()=>{this.blockService.unblock(),this.userAuthDialogVisible=!1},error:()=>this.blockService.unblock()}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s),e.LFG(Vh.A),e.LFG(N.ez))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kk(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043b\u043e\u0433\u0438\u043d\u0430"),e.qZA(),e.TgZ(3,"th",18),e._uU(4," \u041b\u043e\u0433\u0438\u043d "),e._UZ(5,"p-columnFilter",19)(6,"p-sortIcon",20),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA(),e.TgZ(9,"th",21),e._uU(10,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),e._UZ(11,"p-sortIcon",22),e.qZA(),e.TgZ(12,"th",23),e._uU(13,"\u0412 \u0441\u0435\u0442\u0438 "),e._UZ(14,"p-sortIcon",24),e.qZA(),e.TgZ(15,"th"),e._uU(16,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(17,"th",25),e._uU(18," IP \u0410\u0434\u0440\u0435\u0441 "),e._UZ(19,"p-columnFilter",26)(20,"p-sortIcon",27),e.qZA(),e.TgZ(21,"th",28),e._uU(22," MAC \u0410\u0434\u0440\u0435\u0441 "),e._UZ(23,"p-columnFilter",29)(24,"p-sortIcon",30),e.qZA(),e.TgZ(25,"th",31),e._uU(26," VLAN "),e._UZ(27,"p-sortIcon",32),e.qZA(),e.TgZ(28,"th",33),e._uU(29," \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),e._UZ(30,"p-columnFilter",34)(31,"p-sortIcon",35),e.qZA()())}function $k(n,i){if(1&n&&e._UZ(0,"app-colored-tag",47),2&n){const t=i.ngIf;e.Q6J("caption",t.statusName)("color",t.statusColor)}}function qk(n,i){1&n&&e.GkF(0)}const Xk=function(){return{width:"65px"}};function eD(n,i){if(1&n&&(e.ynx(0),e.YNc(1,qk,1,0,"ng-container",48),e.BQk()),2&n){e.oxw(3);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(2,Xk))}}function tD(n,i){if(1&n&&(e.ynx(0),e.YNc(1,$k,1,2,"app-colored-tag",45),e.YNc(2,eD,2,3,"ng-container",46),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.service.bindingsUserBriefs[t.authName]),e.xp6(1),e.Q6J("ngIf",!o.service.bindingsUserBriefs[t.authName])}}const nD=function(n){return["/clients","billing","user",n]};function iD(n,i){if(1&n&&(e.TgZ(0,"span",49),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(2,nD,t.authName)),e.xp6(1),e.hij(" ",t.authName," ")}}function oD(n,i){1&n&&(e.TgZ(0,"span",50),e._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d"),e.qZA())}function sD(n,i){1&n&&(e.TgZ(0,"span",51),e._uU(1,"\u041e\u0444\u043b\u0430\u0439\u043d"),e.qZA())}function rD(n,i){1&n&&(e.TgZ(0,"span",50),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function aD(n,i){1&n&&(e.TgZ(0,"span",51),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function lD(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.hij(" ",t.address," ")}}function cD(n,i){1&n&&e.GkF(0)}const uD=function(){return{width:"105px"}};function dD(n,i){if(1&n&&(e.ynx(0),e.YNc(1,cD,1,0,"ng-container",48),e.BQk()),2&n){e.oxw(3);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(2,uD))}}function pD(n,i){if(1&n&&(e.ynx(0),e.YNc(1,lD,2,1,"span",46),e.YNc(2,dD,2,3,"ng-container",46),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.service.bindingsUserBriefs[t.authName]),e.xp6(1),e.Q6J("ngIf",!o.service.bindingsUserBriefs[t.authName])}}function hD(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",36),e.NdJ("click",function(r){const E=e.CHM(t).$implicit,W=e.oxw(),Ie=e.MAs(14);return e.KtG(W.service.selectBinding(r,E,Ie))}),e.TgZ(1,"td"),e.YNc(2,tD,3,2,"ng-container",37),e.qZA(),e.TgZ(3,"td",38),e.NdJ("click",function(r){return r.stopPropagation()}),e.YNc(4,iD,2,4,"span",39),e.qZA(),e.TgZ(5,"td"),e.YNc(6,oD,2,0,"span",40),e.YNc(7,sD,2,0,"span",41),e.qZA(),e.TgZ(8,"td"),e.YNc(9,rD,2,0,"span",40),e.YNc(10,aD,2,0,"span",41),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-time-elapsed",42),e.qZA(),e.TgZ(13,"td"),e.YNc(14,pD,3,2,"ng-container",37),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._UZ(18,"app-binding-connection-location-view",43),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td")(22,"div",44),e._uU(23),e.qZA()()()}if(2&n){const t=i.$implicit;e.oxw();const o=e.MAs(12);e.xp6(2),e.Q6J("ngIf",t.authName)("ngIfElse",o),e.xp6(2),e.Q6J("ngIf",t.authName)("ngIfElse",o),e.xp6(2),e.Q6J("ngIf","ONLINE"===t.onlineStatus),e.xp6(1),e.Q6J("ngIf","ONLINE"!==t.onlineStatus),e.xp6(2),e.Q6J("ngIf",t.isAuth),e.xp6(1),e.Q6J("ngIf",!t.isAuth),e.xp6(2),e.Q6J("startTime",t.leaseStart),e.xp6(2),e.Q6J("ngIf",t.authName)("ngIfElse",o),e.xp6(2),e.Oqu(t.ipaddr),e.xp6(2),e.Q6J("binding",t),e.xp6(2),e.Oqu(t.vlanid),e.xp6(3),e.hij(" ",t.dhcpHostname," ")}}function gD(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",52),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.service.updateContent$.next(!0))}),e.qZA()}}function fD(n,i){1&n&&e._UZ(0,"p-skeleton",53),2&n&&e.Q6J("width",i.width)}function mD(n,i){1&n&&(e.TgZ(0,"span",54),e._uU(1," - "),e.qZA())}const _D=function(n){return{field:"leaseStart",order:n}},CD=function(n){return[n]},vD=function(){return[25,50,100]},bD=function(){return[]};let jT=(()=>{class n{constructor(t,o,r,g){this.api=t,this.rt=o,this.service=r,this.confirm=g,this.pageNum=0,this.isLoadingLastBindings=!0,this.openAuthDialog=new pr.x,this.changeLastBindingsPage=new ma.X(0),this.page$=this.changeLastBindingsPage.pipe((0,En.b)(E=>this.pageNum=E)),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,En.b)(()=>this.isLoadingLastBindings=!0),(0,an.d)(1)),this.lastBindingsFilterForm=new p.cw({state:new p.NI(1),macaddr:new p.NI(null),login:new p.NI(null),ip:new p.NI(null),vlan:new p.NI(null),buildingId:new p.NI(null),commutator:new p.NI(null,R.d.typeIsSwitchWithAddress),port:new p.NI(null)}),this.lastBindingFilterForm$=this.lastBindingsFilterForm.valueChanges.pipe((0,Ri.O)(this.lastBindingsFilterForm.value),(0,No.b)(1e3),(0,ft.U)(E=>(this.pageNum=0,{state:null!==E.state?E.state:void 0,macaddr:E.macaddr,login:E.login,ip:E.ip,vlan:E.vlan,buildingId:E.buildingId&&E.buildingId.buildingId,commutator:E.commutator&&E.commutator.commutator?E.commutator.commutator.id:void 0,port:E.port}))),this.lastBindingsFilter$=(0,Po.a)([this.page$,this.lastBindingFilterForm$]).pipe((0,ft.U)(([E,W])=>[this.pageNum,W.state,W.macaddr,W.login,W.ip,W.vlan,W.buildingId,W.commutator,W.port])),this.ipKeyFilter=/[\d\.]+/,this.lastBindingsPage$=x.aN.ofPage(this.lastBindingsFilter$,this.api.getLastBindings.bind(this.api),"id",null,this.rt.acpDhcpBindingUpdated(),null),this.commutatorUplinkQuerySearch=new pr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,No.b)(1e3),(0,F.w)(E=>this.api.searchCommutators(E)),(0,an.d)(1)),this.statusOptions=[{label:"\u0412 \u0441\u0435\u0442\u0438",value:1},{label:"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",value:0},{label:"\u041b\u044e\u0431\u044b\u0435",value:null}],this.numberMask=/^\d{1,4}$/}ngOnInit(){}trackByDhcpBinding(t,o){return o.macaddr+o.ipaddr+o.id+o.onlineStatus+o.authExpire+o.authName}authConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+t.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c ?",accept:()=>{this.authCurrentLogin(t.macaddr)}})}authCurrentLogin(t){}scrollTop(){window.scrollTo(0,0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(jk),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:29,consts:[[1,"flex","flex-column","flex-grow-1"],[1,"flex","align-items-center","px-5","py-4"],[1,"text-2xl","text-bluegray-500","font-semibold"],["currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432","paginatorDropdownAppendTo","body","sortMode","multiple","styleClass","p-datatable-sm",3,"first","lazyLoadOnInit","lazy","loading","multiSortMeta","paginator","rowsPerPageOptions","rows","showCurrentPageReport","totalRecords","value","onLazyLoad","firstChange","onPage"],["registryTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","caption"],["loadingCellTemplate",""],["emptyCellTemplate",""],["appendTo","body",3,"popup","model"],["bindingContextPanel",""],["header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c","appendTo","body","contentStyleClass","flex flex-column gap-3",3,"visible","modal","draggable","dismissableMask","visibleChange"],["userAuthDialog",""],[1,"font-bold","text-bluegray-500"],[1,"flex","gap-3",3,"formGroup"],["pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","login",1,"flex-grow-1",3,"autofocus"],["pButton","","type","button","label","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",1,"p-button-success",3,"disabled","click"],["pSortableColumn","authName"],["field","authName","type","text","display","menu","matchMode","contains"],["field","authName"],["pSortableColumn","authExpire"],["field","authExpire"],["pSortableColumn","leaseStart"],["field","leaseStart"],["pSortableColumn","ipaddr"],["field","ipaddr","type","text","display","menu","matchMode","contains"],["field","ipaddr"],["pSortableColumn","macaddr"],["field","macaddr","type","text","display","menu","matchMode","contains"],["field","macaddr"],["pSortableColumn","vlanid"],["field","vlanid"],["pSortableColumn","dhcpHostname"],["field","dhcpHostname","type","text","display","menu","matchMode","contains"],["field","dhcpHostname"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],[4,"ngIf","ngIfElse"],[1,"font-bold","text-primary","hover:text-primary-700","cursor-pointer",3,"click"],[3,"routerLink",4,"ngIf","ngIfElse"],["class","font-bold text-green-400",4,"ngIf"],["class","font-bold text-gray-400",4,"ngIf"],["type","short",3,"startTime"],[3,"binding"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[3,"caption","color",4,"ngIf"],[4,"ngIf"],[3,"caption","color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink"],[1,"font-bold","text-green-400"],[1,"font-bold","text-gray-400"],["type","button","icon","mdi-update","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text",3,"onClick"],[3,"width"],[1,"text-bluegray-300","text-xl","font-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," \u0421\u0435\u0441\u0441\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 "),e.qZA()(),e.TgZ(4,"p-table",3,4),e.NdJ("onLazyLoad",function(g){return o.service.tableLazyLoad$.next(g)})("firstChange",function(g){return o.service.tableOffset=g})("onPage",function(){return o.scrollTop()}),e.YNc(6,Kk,32,0,"ng-template",5),e.YNc(7,hD,24,15,"ng-template",6),e.YNc(8,gD,1,0,"ng-template",7),e.qZA()(),e.YNc(9,fD,1,1,"ng-template",null,8,e.W1O),e.YNc(11,mD,2,0,"ng-template",null,9,e.W1O),e._UZ(13,"p-menu",10,11),e.TgZ(15,"p-dialog",12,13),e.NdJ("visibleChange",function(g){return o.service.userAuthDialogVisible=g}),e.TgZ(17,"span",14),e._uU(18),e.qZA(),e.TgZ(19,"div",15),e._UZ(20,"input",16),e.TgZ(21,"button",17),e.NdJ("click",function(){return o.service.authUser()}),e.qZA()()()),2&t){let r,g;e.xp6(4),e.Q6J("first",o.service.tableOffset)("lazyLoadOnInit",!0)("lazy",!0)("loading",o.service.tableContentLoading)("multiSortMeta",e.VKq(25,CD,e.VKq(23,_D,-1)))("paginator",!0)("rowsPerPageOptions",e.DdM(27,vD))("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(r=null==o.service.tableContent?null:o.service.tableContent.totalElements)&&void 0!==r?r:0)("value",null!==(g=null==o.service.tableContent?null:o.service.tableContent.content)&&void 0!==g?g:e.DdM(28,bD)),e.xp6(9),e.Q6J("popup",!0)("model",o.service.bindingContextOptions),e.xp6(2),e.Q6J("visible",o.service.userAuthDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(3),e.lnq("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 ",null==o.service.selectBindingForAuth?null:o.service.selectBindingForAuth.dhcpHostname," ",null==o.service.selectBindingForAuth?null:o.service.selectBindingForAuth.ipaddr," ",null==o.service.selectBindingForAuth?null:o.service.selectBindingForAuth.macaddr,""),e.xp6(1),e.Q6J("formGroup",o.service.authUserForm),e.xp6(1),e.Q6J("autofocus",!0),e.xp6(1),e.Q6J("disabled",o.service.authUserForm.invalid)}},styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.S9]}}),n})();var KT=C(3064);function yD(n,i){1&n&&e.GkF(0)}function xD(n,i){if(1&n&&(e.ynx(0),e.YNc(1,yD,1,0,"ng-container",10),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ID(n,i){1&n&&e.GkF(0)}const Qx=function(n){return{building:n}};function TD(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ID,1,0,"ng-container",11),e.BQk()),2&n){const t=e.oxw().ngIf;e.oxw();const o=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,Qx,t))}}function AD(n,i){if(1&n&&(e.ynx(0)(1,8),e.YNc(2,xD,2,1,"ng-container",9),e.YNc(3,TD,2,4,"ng-container",9),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.houseLoadingState),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.READY)}}function wD(n,i){1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"p-skeleton",14)(3,"p-skeleton",15),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"p-skeleton",17)(6,"p-skeleton",17)(7,"p-skeleton",18),e.qZA()())}const $T=function(n){return["/topology","house",n]};function ED(n,i){if(1&n&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&n){const t=e.oxw().building;e.Q6J("routerLink",e.VKq(2,$T,null==t.uplink?null:t.uplink.buildingId)),e.xp6(1),e.hij(" Uplink: ",null==t.uplink?null:t.uplink.fullName," ")}}function SD(n,i){1&n&&e.GkF(0)}function kD(n,i){1&n&&e.GkF(0)}function DD(n,i){1&n&&e.GkF(0)}function MD(n,i){if(1&n&&(e.TgZ(0,"div",19)(1,"div",20)(2,"span",21),e._uU(3),e.qZA(),e.YNc(4,ED,2,4,"span",22),e.qZA(),e.TgZ(5,"div",23)(6,"div",24),e.YNc(7,SD,1,0,"ng-container",11),e.YNc(8,kD,1,0,"ng-container",11),e._UZ(9,"app-commutators-table",25),e.ALo(10,"async"),e.YNc(11,DD,1,0,"ng-container",10),e.qZA(),e._UZ(12,"app-bindings-table",26),e.ALo(13,"async"),e.qZA()()),2&n){const t=i.building,o=e.oxw(),r=e.MAs(9),g=e.MAs(11),E=e.MAs(13);e.xp6(3),e.hij(" ",t.fullName," "),e.xp6(1),e.Q6J("ngIf",t.uplink),e.xp6(3),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(13,Qx,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(15,Qx,t)),e.xp6(1),e.Q6J("buildId",e.lcZ(10,9,o.buildId$)),e.xp6(2),e.Q6J("ngTemplateOutlet",E),e.xp6(1),e.Q6J("filterId",e.lcZ(13,11,o.buildId$))}}function OD(n,i){1&n&&(e.ynx(0),e._uU(1," DHCP "),e.BQk())}function PD(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.ynx(6,8),e.YNc(7,OD,2,0,"ng-container",9),e.BQk(),e.qZA()()),2&n){const t=i.network;e.xp6(2),e.Oqu(t.network),e.xp6(2),e.Oqu(t.vid),e.xp6(2),e.Q6J("ngSwitch",t.nettype),e.xp6(1),e.Q6J("ngSwitchCase",1)}}function LD(n,i){if(1&n&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,$T,t.buildingId)),e.xp6(1),e.hij(" ",t.fullName," ")}}function RD(n,i){if(1&n&&(e.TgZ(0,"div",29)(1,"div",30),e._uU(2," Downlinks "),e.qZA(),e.TgZ(3,"div",31),e.YNc(4,LD,3,4,"div",32),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(4),e.Q6J("ngForOf",t)}}function ND(n,i){if(1&n&&(e.ynx(0),e.YNc(1,RD,5,1,"div",28),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function FD(n,i){1&n&&e.YNc(0,ND,2,1,"ng-container",0),2&n&&e.Q6J("ngIf",i.building.downlinks)}function BD(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u0435\u0442\u044c"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Vlan"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0422\u0438\u043f"),e.qZA()())}function ZD(n,i){1&n&&e.GkF(0)}const UD=function(n){return{network:n}};function HD(n,i){if(1&n&&e.YNc(0,ZD,1,0,"ng-container",11),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(7);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,UD,t))}}function VD(n,i){if(1&n&&(e.TgZ(0,"div",35)(1,"p-table",36),e.YNc(2,BD,7,0,"ng-template",37),e.YNc(3,HD,1,4,"ng-template",38),e.qZA()()),2&n){const t=i.building;e.xp6(1),e.Q6J("value",t.networks)}}function zD(n,i){1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3,"\u0418\u043c\u044f"),e.qZA()())}function JD(n,i){1&n&&e.GkF(0)}const QD=function(n){return{file:n}};function GD(n,i){if(1&n&&e.YNc(0,JD,1,0,"ng-container",11),2&n){const t=i.$implicit;e.oxw(2);const o=e.MAs(15);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,QD,t))}}const WD=function(){return[]};function YD(n,i){if(1&n&&(e.TgZ(0,"div",39)(1,"p-table",36),e.ALo(2,"async"),e.YNc(3,zD,4,0,"ng-template",37),e.YNc(4,GD,1,4,"ng-template",38),e.qZA()()),2&n){const t=e.oxw();let o;e.xp6(1),e.Q6J("value",null!==(o=e.lcZ(2,1,t.files$))&&void 0!==o?o:e.DdM(3,WD))}}function jD(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",40),e.NdJ("click",function(){const g=e.CHM(t).file,E=e.oxw();return e.KtG(E.openFile(g))}),e.TgZ(1,"td",41),e._UZ(2,"app-thumbnail-preview",42),e.qZA(),e.TgZ(3,"td")(4,"div",43),e._uU(5),e.qZA()()()}if(2&n){const t=i.file;e.xp6(2),e.Q6J("data",t),e.xp6(3),e.hij(" ",t.name," ")}}let Bd=class{constructor(i,t,o){this.api=i,this.route=t,this.fileViewer=o,this.LoadingState=Ce.Gu,this.houseLoadingState=Ce.Gu.LOADING,this.streetNameSchemesTranslation=new Map([["\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u043a\u0430 \u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430","\u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430"],["\u0412\u0435\u043b\u0438\u043a\u043e\u0439 \u041f\u043e\u0431\u0435\u0434\u044b","\u0411\u0412\u041f"],["\u041a.\u041c\u0430\u0440\u043a\u0441\u0430","\u041a\u041c"],["\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u043e\u0435","\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u043e\u0435 \u0448\u043e\u0441\u0441\u0435"]]),this.buildIdParam$=new Nd.t(1),this.buildId$=this.buildIdParam$.pipe((0,ft.U)(r=>Number.parseInt(r))),this.building$=this.buildId$.pipe((0,En.b)(()=>this.houseLoadingState=Ce.Gu.LOADING),(0,F.w)(r=>this.api.getBuilding(r)),(0,En.b)({next:()=>this.houseLoadingState=Ce.Gu.READY,error:()=>this.houseLoadingState=Ce.Gu.ERROR}),(0,an.d)(1)),this.files$=this.building$.pipe((0,ft.U)(r=>{var g;let E=r.streetName.match(/([\u0410-\u044f\d \.]+), /),W=r.houseNum.match(/(\d+)/);if(!(E&&E[1]&&W&&W[1]))return null;let Ie=E[1],it=W[1];return this.streetNameSchemesTranslation.has(Ie)&&(Ie=null!==(g=this.streetNameSchemesTranslation.get(Ie))&&void 0!==g?g:""),console.log(Ie+" "+it),Ie+" "+it}),(0,F.w)(r=>this.api.getFilesSuggestions(r)))}ngOnInit(){}openFile(i){switch(i.type){case"PHOTO":case"VIDEO":case"AUDIO":this.fileViewer.showMedia({fileSystemItemId:i.id,name:i.name,type:i.type});break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+i.id,"_blank")}}};Bd.\u0275fac=function(i){return new(i||Bd)(e.Y36(O.s),e.Y36(d.gz),e.Y36(KT.E))},Bd.\u0275cmp=e.Xpm({type:Bd,selectors:[["ng-component"]],decls:16,vars:3,consts:[[4,"ngIf"],["loadingTemplate",""],["houseTemplate",""],["networkItemTemplate",""],["downlinksListTemplate",""],["networksTableTemplate",""],["filesTableTemplate",""],["fileItemTemplate",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-column","flex-grow-1","h-fit","bg-white","border-round","shadow-1"],[1,"flex","flex-column","p-3","gap-1"],["width","12rem","height","1.7rem"],["width","8rem","height","1.1rem"],[1,"flex","gap-2","p-4","pt-1"],["width","200px","height","150px"],["width","auto","height","150px",1,"flex-grow-1"],[1,"flex","flex-column","flex-grow-1","h-fit","bg-white"],[1,"flex","flex-column","px-5","py-4","border-bottom-1","border-bluegray-100"],[1,"text-bluegray-500","text-xl","font-semibold"],["class","text-primary font-bold cursor-pointer hover:text-primary-700",3,"routerLink",4,"ngIf"],[1,"flex","flex-column","gap-2","p-4"],[1,"flex","gap-2"],[1,"flex-grow-1",3,"buildId"],["filterMode","building",3,"filterId"],[1,"text-primary","font-bold","cursor-pointer","hover:text-primary-700",3,"routerLink"],["class","flex flex-column border-1 border-bluegray-100 border-round overflow-hidden",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-100","border-round","overflow-hidden"],[1,"text-bluegray-500","font-bold","p-2","bg-gray-50","border-bottom-1","border-bluegray-100"],[1,"flex","flex-column","px-3","py-2"],["class","flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2"],[1,"text-primary","cursor-pointer","hover:text-primary-700",3,"routerLink"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100","flex-grow-1"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],[1,"text-center"],[3,"data"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"]],template:function(i,t){1&i&&(e.YNc(0,AD,4,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,wD,8,0,"ng-template",null,1,e.W1O),e.YNc(4,MD,14,17,"ng-template",null,2,e.W1O),e.YNc(6,PD,8,4,"ng-template",null,3,e.W1O),e.YNc(8,FD,1,1,"ng-template",null,4,e.W1O),e.YNc(10,VD,4,1,"ng-template",null,5,e.W1O),e.YNc(12,YD,5,4,"ng-template",null,6,e.W1O),e.YNc(14,jD,6,2,"ng-template",null,7,e.W1O)),2&i&&e.Q6J("ngIf",e.lcZ(1,1,t.building$))},styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),(0,To.gn)([(0,ja.Hw)("id")],Bd.prototype,"buildIdParam$",void 0),Bd=(0,To.gn)([(0,ja.kG)()],Bd);let KD=(()=>{class n{constructor(t){this.api=t,this.taskStatusSelector=new p.NI(Ce.hY.ACTIVE),this.taskStatusOptions=[{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:Ce.hY.ACTIVE},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:Ce.hY.CLOSE},{label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",value:Ce.hY.PROCESSING}],this.taskClassSelector=new p.NI(null),this.taskClassOptions=[],this.tagFilterModeSelector=new p.NI("all"),this.tagFilterModeOptions=[{label:"\u0412\u0441\u0435",value:"all"},{label:"\u0422\u0435\u0433\u0438",value:"selected"},{label:"\u0411\u0435\u0437 \u0442\u0435\u0433\u043e\u0432",value:"none"}],this.taskStatus$=this.taskStatusSelector.valueChanges.pipe((0,Ri.O)(Ce.hY.ACTIVE)),this.taskClass$=this.taskClassSelector.valueChanges.pipe((0,an.d)(1)),this.tagsSelector=new p.NI(null),this.tagMode$=this.tagFilterModeSelector.valueChanges.pipe((0,Ri.O)("all"),(0,En.b)(o=>{"selected"!=o&&this.tagsSelector.reset(null)}),(0,an.d)(1)),this.isTagMode$=this.tagMode$.pipe((0,ft.U)(o=>"selected"===o)),this.tagModeWithTags$=this.tagMode$.pipe((0,F.w)(o=>"all"===o||"none"===o?(0,Tn.of)({mode:o,tags:null}):this.tagsSelector.valueChanges.pipe((0,ft.U)(r=>({mode:o,tags:r}))))),this.changeTableType$=(0,Po.a)([this.taskStatus$,this.taskClass$,this.tagModeWithTags$]).pipe((0,En.b)(()=>this.tableOffset=0)),this.tabelColumns$=this.changeTableType$.pipe((0,F.w)(([o,r,g])=>this.api.getTaskRegistryTableHeaders(o,r)),(0,an.d)(1)),this.tableOffset=0,this.tableLazyLoad$=new Nd.t(1),this.updateContent$=new ma.X(!0),this.tableLazyLoadDistinctChanges$=this.tableLazyLoad$.pipe((0,qt.g)(1),(0,ko.x)((o,r)=>JSON.stringify(o)===JSON.stringify(r))),this.taskTypesList$=this.taskClass$.pipe((0,F.w)(o=>this.api.getWireframe(o)),(0,ft.U)(o=>{var r,g;return null!==(g=null===(r=o.stages)||void 0===r?void 0:r.map(E=>({label:E.label,value:E.stageId})))&&void 0!==g?g:[]}),(0,an.d)(1)),this.taskCategoriesList$=this.taskClass$.pipe((0,F.w)(o=>this.api.getWireframe(o)),(0,ft.U)(o=>{var r,g;return null!==(g=null===(r=o.stages)||void 0===r?void 0:r.flatMap(E=>E.directories.map(W=>({label:`${E.label} \u2022 ${W.name}`,value:W.taskTypeDirectoryId.toString()}))))&&void 0!==g?g:[]}),(0,an.d)(1)),this.employeesList$=this.api.getEmployees(void 0,!1,!1).pipe((0,ft.U)(o=>o.map(r=>({label:r.fullName,value:r.login})))),this.connectionTypesList$=this.api.getConnectionTypesList(),this.connectionServicesList$=this.api.getConnectionServicesList(),this.equipmentsList$=this.api.getClientEquipments(null,!1).pipe((0,ft.U)(o=>o.map(r=>({label:r.name,value:r.clientEquipmentId})))),this.tableContentLoading=!1,this.api.getWireframes().subscribe(o=>{this.taskClassOptions=o.map(r=>({label:r.name,value:r.wireframeId})),this.taskClassSelector.setValue(this.taskClassOptions[0].value)}),(0,Po.a)([this.changeTableType$,this.tableLazyLoadDistinctChanges$,this.updateContent$]).pipe((0,En.b)(()=>this.tableContentLoading=!0),(0,F.w)(([[o,r,{mode:g,tags:E}],W])=>(delete W.filters.global,this.api.getTaskRegistryTableContent(o,r,g,E,W)))).subscribe(o=>{this.tableContent=o,this.tableContentLoading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $D(n,i){if(1&n&&e._UZ(0,"app-task-tag-filter-input",16),2&n){const t=e.oxw(3);e.Q6J("formControl",t.service.tagsSelector)}}function qD(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"p-dropdown",8),e.NdJ("onChange",function(){e.CHM(t),e.oxw();const r=e.MAs(2);return e.KtG(r.reset())}),e.qZA(),e.TgZ(2,"p-dropdown",8),e.NdJ("onChange",function(){e.CHM(t),e.oxw();const r=e.MAs(2);return e.KtG(r.reset())}),e.qZA(),e._UZ(3,"p-selectButton",9),e.YNc(4,$D,1,1,"app-task-tag-filter-input",10),e.ALo(5,"async"),e._UZ(6,"div",11),e.TgZ(7,"span",12),e._UZ(8,"i",13),e.TgZ(9,"input",14),e.NdJ("delayInput",function(r){e.CHM(t),e.oxw();const g=e.MAs(2);return e.KtG(g.filterGlobal(r,"contains"))}),e.qZA()(),e.TgZ(10,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.service.updateContent$.next(!0))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("formControl",t.service.taskStatusSelector)("options",t.service.taskStatusOptions),e.xp6(1),e.Q6J("formControl",t.service.taskClassSelector)("options",t.service.taskClassOptions),e.xp6(1),e.Q6J("options",t.service.tagFilterModeOptions)("formControl",t.service.tagFilterModeSelector),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,9,t.service.isTagMode$)),e.xp6(5),e.Q6J("delay",1e3),e.xp6(1),e.Q6J("loading",t.service.tableContentLoading)}}function XD(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"p-columnFilter",21),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("field",t.field)("type",t.filterType)}}const Hp=function(){return[]};function eM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",33),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(6);let r;e.Q6J("ngModel",t)("options",null!==(r=e.lcZ(1,3,o.service.taskTypesList$))&&void 0!==r?r:e.DdM(5,Hp))("showClear",!0)}}function tM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",34),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(6);let r;e.Q6J("ngModel",t)("options",null!==(r=e.lcZ(1,3,o.service.taskCategoriesList$))&&void 0!==r?r:e.DdM(5,Hp))("showClear",!0)}}function nM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",35),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(6);let r;e.Q6J("filter",!0)("ngModel",t)("options",null!==(r=e.lcZ(1,4,o.service.employeesList$))&&void 0!==r?r:e.DdM(6,Hp))("showClear",!0)}}function iM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"input",36),e.NdJ("delayInput",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("delay",1500)("ngModel",t)}}function oM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",37),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(6);let r;e.Q6J("ngModel",t)("options",null!==(r=e.lcZ(1,3,o.service.connectionTypesList$))&&void 0!==r?r:e.DdM(5,Hp))("showClear",!0)}}function sM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",38),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(6);let r;e.Q6J("ngModel",t)("options",null!==(r=e.lcZ(1,3,o.service.connectionServicesList$))&&void 0!==r?r:e.DdM(5,Hp))("showClear",!0)}}function rM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",39),e.NdJ("onChange",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(6);let r;e.Q6J("ngModel",t)("options",null!==(r=e.lcZ(1,3,o.service.equipmentsList$))&&void 0!==r?r:e.DdM(5,Hp))("showClear",!0)}}function aM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"input",40),e.NdJ("delayInput",function(r){e.CHM(t);const g=e.oxw().filterCallback;return e.KtG(g(r))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("delay",1500)("ngModel",t)}}function lM(n,i){if(1&n&&(e.ynx(0,24),e.YNc(1,eM,2,6,"p-dropdown",25),e.YNc(2,tM,2,6,"p-dropdown",26),e.YNc(3,nM,2,7,"p-dropdown",27),e.YNc(4,iM,1,2,"input",28),e.YNc(5,oM,2,6,"p-dropdown",29),e.YNc(6,sM,2,6,"p-dropdown",30),e.YNc(7,rM,2,6,"p-dropdown",31),e.YNc(8,aM,1,2,"input",32),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngSwitch",t.filterType),e.xp6(1),e.Q6J("ngSwitchCase","taskType"),e.xp6(1),e.Q6J("ngSwitchCase","taskDir"),e.xp6(1),e.Q6J("ngSwitchCase","employee"),e.xp6(1),e.Q6J("ngSwitchCase","address"),e.xp6(1),e.Q6J("ngSwitchCase","conType"),e.xp6(1),e.Q6J("ngSwitchCase","conSrv"),e.xp6(1),e.Q6J("ngSwitchCase","equipment"),e.xp6(1),e.Q6J("ngSwitchCase","passport")}}function cM(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"p-columnFilter",22),e.YNc(2,lM,9,9,"ng-template",23),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("field",t.field)("showApplyButton",!1)("showMatchModes",!1)}}function uM(n,i){if(1&n&&(e.ynx(0),e.YNc(1,XD,2,2,"ng-container",0),e.YNc(2,cM,3,3,"ng-container",0),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.isStandardFilterType(t.filterType)),e.xp6(1),e.Q6J("ngIf",!o.isStandardFilterType(t.filterType))}}function dM(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"th",18)(2,"div",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,uM,3,2,"ng-container",0),e._UZ(6,"p-sortIcon",20),e.qZA()(),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("pSortableColumnDisabled",!t.isSort)("pSortableColumn",t.field),e.xp6(3),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",t.filterType),e.xp6(1),e.Q6J("field",t.field)}}function pM(n,i){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,dM,7,5,"ng-container",17),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}const hM=function(n){return{color:n}};function gM(n,i){if(1&n&&(e.TgZ(0,"span",49),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngStyle",e.VKq(2,hM,t.color)),e.xp6(1),e.hij(" ",t.name," ")}}function fM(n,i){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,gM,2,4,"span",48),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngForOf",t.tags)}}function mM(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,fM,2,1,"div",46),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(3),e.hij(" ",null==o.main[t.field]?null:o.main[t.field].value," "),e.xp6(1),e.Q6J("ngIf",o.tags.length>0)}}function _M(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==o.main[t.field]?null:o.main[t.field].value," ")}}function CM(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==o.main[t.field]?null:o.main[t.field].value,"dd-MM-yyyy HH:mm")," ")}}function vM(n,i){1&n&&(e.ynx(0),e._uU(1," - "),e.BQk())}function bM(n,i){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,CM,3,4,"ng-container",0),e.YNc(2,vM,2,0,"ng-container",0),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==o.main[t.field]?null:o.main[t.field].value),e.xp6(1),e.Q6J("ngIf",!(null!=o.main[t.field]&&o.main[t.field].value))}}function yM(n,i){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"app-billing-login",51),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("loginData",null==o.main[t.field]?null:o.main[t.field].value)("popup",!0)}}function xM(n,i){if(1&n&&(e.TgZ(0,"span"),e._UZ(1,"app-dial-buttons-list",52),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("phoneData",null==o.main[t.field]?null:o.main[t.field].value)}}function IM(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_M,2,1,"span",50),e.YNc(2,bM,3,2,"span",50),e.YNc(3,yM,2,2,"span",50),e.YNc(4,xM,2,1,"span",50),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngSwitchCase",t.CellType.STRING),e.xp6(1),e.Q6J("ngSwitchCase",t.CellType.DATE),e.xp6(1),e.Q6J("ngSwitchCase",t.CellType.LOGIN),e.xp6(1),e.Q6J("ngSwitchCase",t.CellType.PHONE)}}function TM(n,i){if(1&n&&(e.TgZ(0,"td",44),e.ynx(1,24),e.YNc(2,mM,5,2,"ng-container",0),e.YNc(3,IM,5,4,"ng-container",0),e.BQk(),e.qZA()),2&n){const t=i.$implicit,o=e.oxw().$implicit;e.uIk("rowspan",null==o.main[t.field]?null:o.main[t.field].rowSpan),e.xp6(1),e.Q6J("ngSwitch",null==o.main[t.field]?null:o.main[t.field].type),e.xp6(1),e.Q6J("ngIf","currentStage.label"===t.field),e.xp6(1),e.Q6J("ngIf","currentStage.label"!==t.field)}}function AM(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",53),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.uIk("colspan",null==t.largeText?null:t.largeText.colSpan),e.xp6(1),e.hij(" ",null==t.largeText?null:t.largeText.value," ")}}const wM=function(n){return["/task",n]};function EM(n,i){if(1&n&&(e.TgZ(0,"tr",41),e.YNc(1,TM,4,4,"td",42),e.qZA(),e.YNc(2,AM,3,2,"tr",17),e.TgZ(3,"tr"),e._UZ(4,"td",43),e.qZA()),2&n){const t=i.$implicit,o=e.oxw().ngIf;e.Q6J("routerLink",e.VKq(6,wM,t.taskId)),e.xp6(1),e.Q6J("ngForOf",o),e.xp6(1),e.Q6J("ngForOf",t.additional),e.xp6(2),e.Udp("height",".5rem"),e.uIk("colspan",o.length)}}const SM=function(n){return{field:"created",order:n}},kM=function(n){return[n]},DM=function(){return[50,100,250]};function MM(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-table",2,3),e.NdJ("onLazyLoad",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.service.tableLazyLoad$.next(r))})("firstChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.service.tableOffset=r)})("onPage",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.scrollTop())}),e.YNc(3,qD,11,11,"ng-template",4),e.YNc(4,pM,2,1,"ng-template",5),e.YNc(5,EM,5,8,"ng-template",6),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();let o,r;e.xp6(1),e.Q6J("first",t.service.tableOffset)("lazyLoadOnInit",!0)("lazy",!0)("loading",t.service.tableContentLoading)("multiSortMeta",e.VKq(13,kM,e.VKq(11,SM,-1)))("paginator",!0)("rowsPerPageOptions",e.DdM(15,DM))("rows",100)("showCurrentPageReport",!0)("totalRecords",null!==(o=null==t.service.tableContent?null:t.service.tableContent.totalElements)&&void 0!==o?o:0)("value",null!==(r=null==t.service.tableContent?null:t.service.tableContent.content)&&void 0!==r?r:e.DdM(16,Hp))}}function OM(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"p-columnFilter",21),e.BQk()),2&n){const t=e.oxw(2).column;e.xp6(1),e.Q6J("field",t.field)("type",t.filterType)}}function PM(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",56),e.NdJ("onChange",function(r){const E=e.CHM(t).filterCallback;return e.KtG(E(r.value))}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw(5);let r;e.Q6J("ngModel",t)("options",null!==(r=e.lcZ(1,3,o.service.taskTypesList$))&&void 0!==r?r:e.DdM(5,Hp))("showClear",!0)}}function LM(n,i){if(1&n&&(e.TgZ(0,"p-columnFilter",55),e.YNc(1,PM,2,6,"ng-template",23),e.qZA()),2&n){const t=e.oxw(3).column;e.Q6J("field",t.field)}}function RM(n,i){if(1&n&&(e.ynx(0)(1,24),e.YNc(2,LM,2,1,"p-columnFilter",54),e.BQk()()),2&n){const t=e.oxw(2).column;e.xp6(1),e.Q6J("ngSwitch",t.filterType),e.xp6(1),e.Q6J("ngSwitchCase","taskType")}}function NM(n,i){if(1&n&&(e.ynx(0),e.YNc(1,OM,2,2,"ng-container",0),e.YNc(2,RM,3,2,"ng-container",0),e.BQk()),2&n){const t=e.oxw().column,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.isStandardFilterType(t.filterType)),e.xp6(1),e.Q6J("ngIf",!o.isStandardFilterType(t.filterType))}}function FM(n,i){1&n&&e.YNc(0,NM,3,2,"ng-container",0),2&n&&e.Q6J("ngIf",i.column.filterType)}let qT=(()=>{class n{constructor(t){this.service=t,this.CellType=Ce.k5}ngOnInit(){}isNotLargeText(t){return!Object.keys(t).includes("largeText")}isStandardFilterType(t){return"text"===t||"number"===t||"date"===t||"boolean"===t}scrollTop(){window.scroll(0,0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(KD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:3,consts:[[4,"ngIf"],["filterTemplate",""],["currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0437\u0430\u0434\u0430\u0447","paginatorDropdownAppendTo","body","sortMode","multiple","styleClass","p-datatable-sm",3,"first","lazyLoadOnInit","lazy","loading","multiSortMeta","paginator","rowsPerPageOptions","rows","showCurrentPageReport","totalRecords","value","onLazyLoad","firstChange","onPage"],["registryTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","gap-2"],[3,"formControl","options","onChange"],[3,"options","formControl"],[3,"formControl",4,"ngIf"],[1,"flex-grow-1"],[1,"p-input-icon-left"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a","type","text",3,"delay","delayInput"],["pButton","","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","icon","mdi-update",3,"loading","click"],[3,"formControl"],[4,"ngFor","ngForOf"],[1,"text-sm",3,"pSortableColumnDisabled","pSortableColumn"],[1,"flex","align-items-center"],[3,"field"],["display","menu",3,"field","type"],["display","menu","matchMode","equals",3,"field","showApplyButton","showMatchModes"],["pTemplate","filter"],[3,"ngSwitch"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"ngModel","options","showClear","onChange",4,"ngSwitchCase"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0437\u0430\u0434\u0430\u0447\u0438",3,"ngModel","options","showClear","onChange",4,"ngSwitchCase"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"filter","ngModel","options","showClear","onChange",4,"ngSwitchCase"],["appDelayedInput","","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441...",3,"delay","ngModel","delayInput",4,"ngSwitchCase"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",3,"ngModel","options","showClear","onChange",4,"ngSwitchCase"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441",3,"ngModel","options","showClear","onChange",4,"ngSwitchCase"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",3,"ngModel","options","showClear","onChange",4,"ngSwitchCase"],["appDelayedInput","","pInputText","","placeholder","\u041f\u0430\u0441\u043f\u043e\u0440\u0442...",3,"delay","ngModel","delayInput",4,"ngSwitchCase"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"ngModel","options","showClear","onChange"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0437\u0430\u0434\u0430\u0447\u0438",3,"ngModel","options","showClear","onChange"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"filter","ngModel","options","showClear","onChange"],["appDelayedInput","","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441...",3,"delay","ngModel","delayInput"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",3,"ngModel","options","showClear","onChange"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441",3,"ngModel","options","showClear","onChange"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",3,"ngModel","options","showClear","onChange"],["appDelayedInput","","pInputText","","placeholder","\u041f\u0430\u0441\u043f\u043e\u0440\u0442...",3,"delay","ngModel","delayInput"],[1,"hover:bg-bluegray-50","cursor-pointer",3,"routerLink"],["class","text-sm",4,"ngFor","ngForOf"],[1,"bg-gray-100","p-0"],[1,"text-sm"],[1,"flex","flex-column","gap-2"],["class","flex flex-wrap gap-2",4,"ngIf"],[1,"flex","flex-wrap","gap-2"],["class","font-bold",3,"ngStyle",4,"ngFor","ngForOf"],[1,"font-bold",3,"ngStyle"],[4,"ngSwitchCase"],[3,"loginData","popup"],[3,"phoneData"],[1,"white-space-nowrap","text-overflow-ellipsis","overflow-hidden","max-w-0","text-sm"],["display","menu","matchMode","equals",3,"field",4,"ngSwitchCase"],["display","menu","matchMode","equals",3,"field"],["optionLabel","name","optionValue","value","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"ngModel","options","showClear","onChange"]],template:function(t,o){1&t&&(e.YNc(0,MM,6,17,"ng-container",0),e.ALo(1,"async"),e.YNc(2,FM,1,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.service.tabelColumns$))},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),n})();const UM=[{path:"",component:C(4495).n,children:[{path:"",component:$r},{path:"tasks/registry",component:qT},{path:"tasks/search",component:JT,children:[{path:"",component:X1},{path:":status",component:X1},{path:":status/:class",component:X1},{path:":status/:class/:type",component:X1}]},{path:"tasks",pathMatch:"full",redirectTo:"tasks/catalog/active"},{path:"tasks/catalog",component:SS,children:[{path:"scheduled/:status",component:Ha,data:{scheduled:Ce.dH.PLANNED}},{path:"scheduled/:status/:class",component:Ha,data:{scheduled:Ce.dH.PLANNED}},{path:"scheduled/:status/:class/:type",component:Ha,data:{scheduled:Ce.dH.PLANNED}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime",component:Ha,data:{scheduled:Ce.dH.PLANNED,pageType:"actual-time"}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime/:tag",component:Ha,data:{scheduled:Ce.dH.PLANNED,pageType:"actual-time"}},{path:"term/:status",component:Ha,data:{scheduled:Ce.dH.DEADLINE}},{path:"term/:status/:class",component:Ha,data:{scheduled:Ce.dH.DEADLINE}},{path:"term/:status/:class/:type",component:Ha,data:{scheduled:Ce.dH.DEADLINE}},{path:"term/:status/:class/:type/term-time/:termTime",component:Ha,data:{scheduled:Ce.dH.DEADLINE,pageType:"term-time"}},{path:"term/:status/:class/:type/term-time/:termTime/:tag",component:Ha,data:{scheduled:Ce.dH.DEADLINE,pageType:"term-time"}},{path:":status",component:Ha},{path:":status/:class",component:Ha},{path:":status/:class/:type",component:Ha},{path:":status/:class/:type/dir/:directory",component:Ha,data:{pageType:"dir"}},{path:":status/:class/:type/dir/:directory/:tag",component:Ha,data:{pageType:"dir"}},{path:":status/:class/:type/close-time/:closeTime",component:Ha,data:{pageType:"close-time"}},{path:":status/:class/:type/close-time/:closeTime/:tag",component:Ha,data:{pageType:"close-time"}}],canActivate:[(()=>{class n{constructor(t,o){this.service=t,this.router=o,this.catalogCachedRoute$=this.service.lastRoute$.pipe((0,ft.U)(r=>["/tasks","catalog",...If.d.convertToPath(r,!0)]))}canActivate(t,o){return!this.service.hasCachedRoute||this.catalogCachedRoute$.pipe((0,ft.U)(r=>r.join("/")===o.url||this.router.createUrlTree(r)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(If.d),e.LFG(d.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"tasks/calendar",component:wc},{path:"task/create",component:Ze},{path:"task/:id",component:hr},{path:"tasks/templates",component:Ht,canActivate:[_a(Li.j.EDIT_TASK_TEMPLATES,Li.j.EDIT_TASK_TAGS,Li.j.EDIT_DEVICES)]},{path:"tasks/templates/constructor",component:So,canActivate:[_a(Li.j.EDIT_TASK_TEMPLATES)]},{path:"employees",component:lr,canActivate:[_a(Li.j.MANAGE_EMPLOYEES)]},{path:"testing",component:Lc},{path:"parser/tracker",component:w4},{path:"parser/address",component:Hv},{path:"salary",pathMatch:"full",redirectTo:"salary/table"},{path:"salary/table",component:e1,canActivate:[_a(Li.j.COUNT_SALARY)]},{path:"salary/paid-actions",redirectTo:"/salary/paid-actions/1?includeDeleted=false",pathMatch:"full"},{path:"salary/paid-actions/:page",component:s1,canActivate:[_a(Li.j.EDIT_PRICE)]},{path:"salary/works",component:I1,canActivate:[_a(Li.j.EDIT_PRICE)]},{path:"salary/estimation",component:M1,canActivate:[_a(Li.j.COUNT_SALARY)]},{path:"salary/estimation/bypass",component:k3,canActivate:[_a(Li.j.COUNT_SALARY)]},{path:"clients/billing/search",component:hx,canActivate:[_a(Li.j.BILLING)]},{path:"clients/billing/user/:login",component:Zp,canActivate:[_a(Li.j.BILLING)]},{path:"addresses",pathMatch:"full",redirectTo:"addresses/list"},{path:"addresses/list",component:wT,canActivate:[_a(Li.j.EDIT_ADDRESS_BOOK,Li.j.EDIT_HOUSE_ADDRESS_BOOK)]},{path:"system",pathMatch:"full",redirectTo:"system/billing"},{path:"system/billing",component:MT,canActivate:[_a(Li.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/telegram",component:OT,canActivate:[_a(Li.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/acp",component:PT,canActivate:[_a(Li.j.MANAGE_SYSTEM_SETTINGS)]},{path:"files",component:F3,canActivate:[_a(Li.j.READ_WRITE_FILES)]},{path:"contracts",pathMatch:"full",redirectTo:"contracts/inspection"},{path:"contracts",component:P2,children:[{path:"inspection",component:Fd,canActivate:[_a(Li.j.VIEW_CONTRACTS)]},{path:"types",component:GT,canActivate:[_a(Li.j.MANAGE_CONTRACTS_TYPES)]}]},{path:"statistics",pathMatch:"full",redirectTo:"statistics/employee-works"},{path:"statistics",component:G2,children:[{path:"employee-works",component:Gh}],canActivate:[_a(Li.j.VIEW_STATISTICS)]},{path:"topology",pathMatch:"full",redirectTo:"topology/houses"},{path:"topology",component:gk,children:[{path:"houses",component:Wh},{path:"house/:id",component:Bd},{path:"commutators",component:YT,canActivate:[_a(Li.j.VIEW_SWITCH,Li.j.EDIT_SWITCH)]},{path:"sessions",component:jT,canActivate:[_a(Li.j.BILLING)]}]}],canActivate:[B3.a,Z3]}];let HM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(UM),d.Bz]}),n})();var VM=C(4488);const zM=["paginator"];function JM(n,i){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"p-progressSpinner",29),e.qZA())}function QM(n,i){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=i.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}function GM(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,QM,1,2,"app-task-list-element",31),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",o.trackByTask)}}function WM(n,i){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function YM(n,i){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function jM(n,i){if(1&n){const t=e.EpF();e.ynx(0)(1,20),e.YNc(2,JM,2,0,"div",21),e.YNc(3,GM,3,2,"ng-container",22),e.YNc(4,WM,4,0,"div",23),e.YNc(5,YM,4,0,"div",24),e.BQk(),e.TgZ(6,"div",25)(7,"p-paginator",26,27),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.taskService.pageNumber.setValue(r.page))}),e.qZA()(),e.BQk()}if(2&n){const t=i.ngIf,o=e.oxw();let r;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("alwaysShow",!0)("rows",o.taskService.TASK_PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",(null!==(r=o.taskService.pageNumber.value)&&void 0!==r?r:0)*o.taskService.TASK_PAGE_SIZE)}}function KM(n,i){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function $M(n,i){if(1&n&&(e.TgZ(0,"div",14)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",37),e.YNc(4,KM,5,2,"ng-template",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.taskService.stageList)}}function qM(n,i){if(1&n&&e._UZ(0,"input",40),2&n){const t=e.oxw();e.Q6J("formControl",t.taskService.tagsFilterControl)}}function XM(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",41),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function eO(n,i){if(1&n&&(e.TgZ(0,"span",38)(1,"div",39),e._uU(2),e.qZA(),e.YNc(3,XM,2,2,"ng-container",8),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function tO(n,i){1&n&&e._UZ(0,"app-task-template-filter-input",50),2&n&&e.Q6J("field",i.$implicit)}const nO=function(){return[]};function iO(n,i){if(1&n&&(e.ynx(0),e.YNc(1,tO,1,1,"app-task-template-filter-input",49),e.BQk()),2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("ngForOf",null!==(o=t.taskService.mainFilterForm.controls.templateFilter.controls)&&void 0!==o?o:e.DdM(2,nO))("ngForTrackBy",t.trackByField)}}function oO(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43),e.ynx(2,9),e.TgZ(3,"span",14)(4,"label"),e._uU(5,"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"app-employee-selector",44),e.qZA(),e.TgZ(7,"span",14)(8,"label"),e._uU(9,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(10,"app-data-range-input",45),e.qZA(),e.BQk(),e.YNc(11,iO,2,3,"ng-container",8),e.qZA(),e.TgZ(12,"span",46)(13,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.filterDialogVisible=!1,e.KtG(r.taskService.applyFilters())}),e.qZA(),e.TgZ(14,"p-button",48),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.filterDialogVisible=!1,e.KtG(r.taskService.clearFilters())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.taskService.mainFilterForm),e.xp6(9),e.Q6J("ngIf",t.taskService.mainFilterForm.controls.templateFilter.length>0)}}const sO=function(){return{width:"25rem"}},rO=function(){return{"960px":"640px","640px":"100vw"}};let aO=(()=>{class n{constructor(t,o,r){this.taskService=t,this.api=o,this.route=r,this.employees=[],this.loadingItems=Array.from({length:10}).fill(null),this.filterDialogVisible=!1}trackByField(t,o){return o.value.id+o.value.wireframeFieldType+o.value.name}trackByTask(t,o){var r;return o.taskId+(null!==(r=o.updated)&&void 0!==r?r:"")}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t})}ngAfterViewInit(){}ngOnDestroy(){}isNewDate(t,o){if(0===o)return!0;const r=t[o-1],g=t[o];if(!r||!g)return!1;const E=new Date(r.created);E.setHours(0,0,0,0);const W=new Date(g.created);return W.setHours(0,0,0,0),E.getTime()>W.getTime()}taskLazyLoad(t){(!t.fields||0===t.fields.length)&&this.api.getFieldsTask(t.taskId).subscribe(o=>{t.fields=o})}clearTemplateFilters(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(VM.U),e.Y36(O.s),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&e.Gf(zM,5),2&t){let r;e.iGM(r=e.CRH())&&(o.paginator=r.first)}},decls:25,vars:22,consts:[["appExtendPageHeight","",1,"flex","gap-3","px-3"],[1,"tasks-list"],[1,"flex","flex-wrap","gap-4","bg-white","shadow-1","border-round-md","overflow-hidden","p-3",3,"formGroup"],[1,"p-input-icon-left","flex-grow-1"],[1,"mdi-search"],["formControlName","searchPhrase","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text",1,"full-width"],["formControlName","status"],["icon","mdi-filter_alt","label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","styleClass","p-button-text",3,"badge","onClick"],[4,"ngIf"],[3,"formGroup"],[1,"flex","flex-column","gap-3","h-fit","px-2","pb-3","sticky-type-selector"],["countersType","all","formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["header","\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange","onShow","onHide"],["pTemplate","content"],[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"sticky","bottom1"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[3,"color","caption"],[1,"flexed","column","gap15"],[1,"flexed","column","gap5"],["formControlName","author"],["formControlName","dateOfCreation"],[1,"flex","gap-3","align-items-center","justify-content-between"],["icon","mdi-filter_alt","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-secondary p-button-outlined",3,"onClick"],[3,"field",4,"ngFor","ngForOf","ngForTrackBy"],[3,"field"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"i",4)(5,"input",5),e.qZA(),e._UZ(6,"app-task-status-chooser",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return o.filterDialogVisible=!0}),e.ALo(8,"async"),e.qZA()(),e.YNc(9,jM,9,10,"ng-container",8),e.ALo(10,"async"),e.qZA(),e.ynx(11,9),e.TgZ(12,"div",10),e._UZ(13,"app-task-template-multi-selector",11),e.TgZ(14,"div",12),e.YNc(15,$M,5,1,"div",13),e.TgZ(16,"div",14)(17,"label"),e._uU(18,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(19,"p-listbox",15),e.YNc(20,qM,1,1,"ng-template",16),e.YNc(21,eO,4,4,"ng-template",17),e.qZA()()()(),e.BQk(),e.qZA(),e._UZ(22,"p-scrollTop"),e.TgZ(23,"p-dialog",18),e.NdJ("visibleChange",function(g){return o.filterDialogVisible=g})("onShow",function(){return o.taskService.cacheFilters()})("onHide",function(){return o.taskService.applyFilters()}),e.YNc(24,oO,15,2,"ng-template",19),e.qZA()),2&t){let r;e.xp6(2),e.Q6J("formGroup",o.taskService.mainFilterForm),e.xp6(5),e.Q6J("badge",null!==(r=e.lcZ(8,16,o.taskService.templateFilterCount$))&&void 0!==r?r:""),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,18,o.taskService.taskPage$)),e.xp6(2),e.Q6J("formGroup",o.taskService.mainFilterForm),e.xp6(4),e.Q6J("ngIf",o.taskService.stageList.length>1&&o.taskService.isSelectOneTemplate),e.xp6(4),e.Q6J("options",o.taskService.tagsList)("multiple",!0)("checkbox",!0),e.xp6(4),e.Akn(e.DdM(20,sO)),e.Q6J("visible",o.filterDialogVisible)("breakpoints",e.DdM(21,rO))("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1)}},styles:[".top-interceptor[_ngcontent-%COMP%]{position:fixed;width:100vw;height:50px;top:0;left:0;border:1px solid var(--tc-700)}.global-filters[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-content:center;background-color:#fff;box-shadow:var(--shadow-0);border-radius:var(--br-200);padding:1rem;width:-moz-fit-content;width:fit-content;place-self:center}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.tasks-list[_ngcontent-%COMP%]{display:grid;position:relative;grid:min-content 1fr min-content/1fr;gap:1rem;flex:1;padding-bottom:2rem}"]}),n})();var XT=C(9354),lO=C(8576),uu=C(3725),Va=C(5315),cs=C(1777);function cO(n,i){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.uIk("id",t.id+"_header"),e.xp6(1),e.Oqu(t.header)}}function uO(n,i){1&n&&e.GkF(0)}function dO(n,i){}function pO(n,i){1&n&&e.YNc(0,dO,0,0,"ng-template")}function hO(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onIconClick(r))})("keydown.enter",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onIconClick(r))}),e._UZ(1,"span"),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("aria-label","collapse button")("id",t.id+"-label")("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Tol(t.collapsed?t.expandIcon:t.collapseIcon)}}const gO=function(n,i,t){return{"p-panel-icons-start":n,"p-panel-icons-end":i,"p-panel-icons-center":t}};function fO(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onHeaderClick(r))}),e.YNc(1,cO,2,2,"span",7),e.Hsn(2,1),e.YNc(3,uO,1,0,"ng-container",4),e.TgZ(4,"div",8),e.YNc(5,pO,1,0,null,4),e.YNc(6,hO,2,6,"button",9),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("id",t.id+"-titlebar"),e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngClass",e.kEZ(6,gO,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",t.toggleable)}}function mO(n,i){1&n&&e.GkF(0)}function _O(n,i){1&n&&e.GkF(0)}function CO(n,i){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,2),e.YNc(2,_O,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const vO=["*",[["p-header"]],[["p-footer"]]],bO=function(n,i){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":i}},yO=function(n){return{transitionParams:n,height:"0",opacity:"0"}},xO=function(n){return{value:"hidden",params:n}},IO=function(n){return{transitionParams:n,height:"*",opacity:"1"}},TO=function(n){return{value:"visible",params:n}},AO=["*","p-header","p-footer"];let wO=0,eA=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+wO++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"icons":this.iconTemplate=t.template}})}onHeaderClick(t){"header"===this.toggler&&this.toggle(t)}onIconClick(t){"icon"===this.toggler&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-panel"]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,N.$_,5),e.Suo(r,N.jx,4)),2&t){let g;e.iGM(g=e.CRH())&&(o.footerFacet=g.first),e.iGM(g=e.CRH())&&(o.templates=g)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:AO,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(t,o){1&t&&(e.F$t(vO),e.TgZ(0,"div",0),e.YNc(1,fO,7,10,"div",1),e.TgZ(2,"div",2),e.NdJ("@panelContent.done",function(g){return o.onToggleDone(g)}),e.TgZ(3,"div",3),e.Hsn(4),e.YNc(5,mO,1,0,"ng-container",4),e.qZA(),e.YNc(6,CO,3,1,"div",5),e.qZA()()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngClass",e.WLB(12,bO,o.toggleable,!o.collapsed&&o.toggleable))("ngStyle",o.style),e.uIk("id",o.id),e.xp6(1),e.Q6J("ngIf",o.showHeader),e.xp6(1),e.Q6J("@panelContent",o.collapsed?e.VKq(17,xO,e.VKq(15,yO,o.animating?o.transitionOptions:"0ms")):e.VKq(21,TO,e.VKq(19,IO,o.animating?o.transitionOptions:"0ms"))),e.uIk("id",o.id+"-content")("aria-hidden",o.collapsed)("aria-labelledby",o.id+"-titlebar"),e.xp6(3),e.Q6J("ngTemplateOutlet",o.contentTemplate),e.xp6(1),e.Q6J("ngIf",o.footerFacet||o.footerTemplate))},dependencies:[D.mk,D.O5,D.tP,D.PC,we.H],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,cs.X$)("panelContent",[(0,cs.SB)("hidden",(0,cs.oB)({height:"0"})),(0,cs.SB)("void",(0,cs.oB)({height:"{{height}}"}),{params:{height:"0"}}),(0,cs.SB)("visible",(0,cs.oB)({height:"*"})),(0,cs.eR)("visible <=> hidden",[(0,cs.jt)("{{transitionParams}}")]),(0,cs.eR)("void => hidden",(0,cs.jt)("{{transitionParams}}")),(0,cs.eR)("void => visible",(0,cs.jt)("{{transitionParams}}"))])]},changeDetection:0}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,N.m8,we.T,N.m8]}),n})();var N_=C(1208),SO=C(9114);let RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,N.m8]}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[D.ez,p.u5]]}),n})();var Yh=C(5730),Sl=C(5921);const jO=function(n,i){return{showTransitionParams:n,hideTransitionParams:i}},KO=function(n){return{value:"open",params:n}};function $O(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("@animation.start",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onEnter(r))})("@animation.done",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onLeave(r))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onClick())}),e._UZ(1,"span",2),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("@animation",e.VKq(11,KO,e.WLB(8,jO,t.showTransitionOptions,t.hideTransitionOptions)))("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass","p-scrolltop-icon")}}let qO=(()=>{class n{constructor(t,o,r){this.el=t,this.cd=o,this.config=r,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(t){switch(t.toState){case"open":this.overlay=t.element,Sl.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(t){"void"===t.toState&&Sl.P9.clear(t.element)}checkVisibility(t){this.visible=t>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(Yh.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(Sl.P9.clear(this.overlay),this.overlay=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(t,o){1&t&&e.YNc(0,$O,2,13,"button",0),2&t&&e.Q6J("ngIf",o.visible)},dependencies:[D.mk,D.O5,D.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,cs.X$)("animation",[(0,cs.SB)("void",(0,cs.oB)({opacity:0})),(0,cs.SB)("open",(0,cs.oB)({opacity:1})),(0,cs.eR)("void => open",(0,cs.jt)("{{showTransitionParams}}")),(0,cs.eR)("open => void",(0,cs.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez]}),n})();var jh=C(4119);let lP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,d.Bz,jh.z,d.Bz,jh.z]}),n})();var wf=C(5573);const cP=["listelement"],uP=["filter"];function dP(n,i){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function pP(n,i){1&n&&e.GkF(0)}function hP(n,i){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,dP,2,1,"div",14),e.YNc(2,pP,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function gP(n,i){1&n&&e.GkF(0)}const fP=function(n){return{options:n}};function mP(n,i){if(1&n&&(e.ynx(0),e.YNc(1,gP,1,0,"ng-container",20),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,fP,t.filterOptions))}}function _P(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("keyup",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.onFilterKeyup(r))}),e.qZA(),e._UZ(3,"span",24),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function CP(n,i){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,mP,2,4,"ng-container",18),e.YNc(2,_P,4,3,"ng-template",null,19,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.filterTemplate)("ngIfElse",t)}}function vP(n,i){1&n&&e.GkF(0)}const bP=function(n,i){return{"p-highlight":n,"p-disabled":i}},yP=function(n,i){return{$implicit:n,index:i}};function xP(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",26),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw(),E=g.$implicit,W=g.index,Ie=e.oxw();return e.KtG(Ie.onItemClick(r,E,W))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const g=e.oxw(),E=g.$implicit,W=g.index,Ie=e.oxw();return e.KtG(Ie.onItemKeydown(r,E,W))}),e.YNc(1,vP,1,0,"ng-container",20),e.qZA()}if(2&n){const t=e.oxw(),o=t.$implicit,r=t.index,g=e.oxw();e.Q6J("ngClass",e.WLB(6,bP,g.isSelected(o),g.disabled))("cdkDragData",o)("cdkDragDisabled",!g.dragdrop),e.uIk("aria-selected",g.isSelected(o)),e.xp6(1),e.Q6J("ngTemplateOutlet",g.itemTemplate)("ngTemplateOutletContext",e.WLB(9,yP,o,r))}}function IP(n,i){if(1&n&&e.YNc(0,xP,2,12,"li",25),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("ngIf",o.isItemVisible(t))}}function TP(n,i){1&n&&e.GkF(0)}function AP(n,i){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,TP,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function wP(n,i){1&n&&e.GkF(0)}function EP(n,i){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,wP,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTemplate)}}function SP(n,i){if(1&n&&(e.ynx(0),e.YNc(1,AP,2,1,"li",27),e.YNc(2,EP,2,1,"li",27),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValue||!t.emptyFilterMessageTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValue)}}const kP=function(n,i,t){return{"p-orderlist p-component":!0,"p-orderlist-striped":n,"p-orderlist-controls-left":i,"p-orderlist-controls-right":t}};let DP=(()=>{class n{constructor(t,o,r){this.el=t,this.cd=o,this.filterService=r,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.disabled=!1,this.selectionChange=new e.vpe,this.trackBy=(g,E)=>E,this.onReorder=new e.vpe,this.onSelectionChange=new e.vpe,this.onFilterEvent=new e.vpe,this._selection=[],this.id=(0,Sl.Th)()}get selection(){return this._selection}set selection(t){this._selection=t}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterKeyup(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"emptyfilter":this.emptyFilterMessageTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let o,t=Yh.p.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(o=this.movedUp?t[0]:t[t.length-1],Yh.p.scrollInView(this.listViewChild.nativeElement,o)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(t){this._value=t,this.filterValue&&this.filter()}onItemClick(t,o,r){this.itemTouched=!1;let g=Sl.gb.findIndexInList(o,this.selection),E=-1!=g;if(!this.itemTouched&&this.metaKeySelection){let Ie=t.metaKey||t.ctrlKey||t.shiftKey;E&&Ie?this._selection=this._selection.filter((it,nt)=>nt!==g):(this._selection=Ie&&this._selection?[...this._selection]:[],Sl.gb.insertIntoOrderedArray(o,r,this._selection,this.value))}else E?this._selection=this._selection.filter((Ie,it)=>it!==g):(this._selection=this._selection?[...this._selection]:[],Sl.gb.insertIntoOrderedArray(o,r,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:t,value:this._selection})}onFilterKeyup(t){this.filterValue=t.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})}filter(){let t=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,t,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let o=0;o<this.visibleOptions.length;o++)if(t==this.visibleOptions[o])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(t){return-1!=Sl.gb.findIndexInList(t,this.selection)}isEmpty(){return this.filterValue?!this.visibleOptions||0===this.visibleOptions.length:!this.value||0===this.value.length}moveUp(){if(this.selection){for(let t=0;t<this.selection.length;t++){let r=Sl.gb.findIndexInList(this.selection[t],this.value);if(0==r)break;{let E=this.value[r-1];this.value[r-1]=this.value[r],this.value[r]=E}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let r=Sl.gb.findIndexInList(this.selection[t],this.value);if(0==r)break;{let g=this.value.splice(r,1)[0];this.value.unshift(g)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let r=Sl.gb.findIndexInList(this.selection[t],this.value);if(r==this.value.length-1)break;{let E=this.value[r+1];this.value[r+1]=this.value[r],this.value[r]=E}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let t=0;t<this.selection.length;t++){let r=Sl.gb.findIndexInList(this.selection[t],this.value);if(r==this.value.length-1)break;{let g=this.value.splice(r,1)[0];this.value.push(g)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(t){let o=t.previousIndex,r=t.currentIndex;o!==r&&(this.visibleOptions&&(this.filterValue&&(o=Sl.gb.findIndexInList(t.item.data,this.value),r=Sl.gb.findIndexInList(this.visibleOptions[r],this.value)),(0,wf.bA)(this.visibleOptions,t.previousIndex,t.currentIndex)),(0,wf.bA)(this.value,o,r),this.onReorder.emit([t.item.data]))}onItemKeydown(t,o,r){let g=t.currentTarget;switch(t.which){case 40:var E=this.findNextItem(g);E&&E.focus(),t.preventDefault();break;case 38:var W=this.findPrevItem(g);W&&W.focus(),t.preventDefault();break;case 13:this.onItemClick(t,o,r),t.preventDefault()}}findNextItem(t){let o=t.nextElementSibling;return o?!Yh.p.hasClass(o,"p-orderlist-item")||Yh.p.isHidden(o)?this.findNextItem(o):o:null}findPrevItem(t){let o=t.previousElementSibling;return o?!Yh.p.hasClass(o,"p-orderlist-item")||Yh.p.isHidden(o)?this.findPrevItem(o):o:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-orderList"]],contentQueries:function(t,o,r){if(1&t&&e.Suo(r,N.jx,4),2&t){let g;e.iGM(g=e.CRH())&&(o.templates=g)}},viewQuery:function(t,o){if(1&t&&(e.Gf(cP,5),e.Gf(uP,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.listViewChild=r.first),e.iGM(r=e.CRH())&&(o.filterViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",disabled:"disabled",trackBy:"trackBy",selection:"selection",value:"value"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:13,vars:18,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[4,"ngIf"],[1,"p-orderlist-header"],["class","p-orderlist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["filter",""],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],["class","p-orderlist-empty-message",4,"ngIf"],[1,"p-orderlist-empty-message"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.moveUp()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return o.moveTop()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return o.moveDown()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return o.moveBottom()}),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,hP,3,2,"div",7),e.YNc(8,CP,4,2,"div",8),e.TgZ(9,"ul",9,10),e.NdJ("cdkDropListDropped",function(g){return o.onDrop(g)}),e.YNc(11,IP,1,1,"ng-template",11),e.YNc(12,SP,3,2,"ng-container",12),e.qZA()()()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngClass",e.kEZ(14,kP,o.stripedRows,"left"===o.controlsPosition,"right"===o.controlsPosition))("ngStyle",o.style),e.xp6(2),e.Q6J("disabled",o.moveDisabled()),e.xp6(1),e.Q6J("disabled",o.moveDisabled()),e.xp6(1),e.Q6J("disabled",o.moveDisabled()),e.xp6(1),e.Q6J("disabled",o.moveDisabled()),e.xp6(2),e.Q6J("ngIf",o.header||o.headerTemplate),e.xp6(1),e.Q6J("ngIf",o.filterBy),e.xp6(1),e.Q6J("ngStyle",o.listStyle),e.xp6(2),e.Q6J("ngForTrackBy",o.trackBy)("ngForOf",o.value),e.xp6(1),e.Q6J("ngIf",o.isEmpty()&&(o.emptyMessageTemplate||o.emptyFilterMessageTemplate)))},dependencies:[D.mk,D.sg,D.O5,D.tP,D.PC,P.Hq,we.H,wf.Wj,wf.Zt],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-orderlist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-orderlist-item,.p-orderlist.p-state-disabled .p-button{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,P.hJ,N.m8,we.T,wf._t,N.m8,wf._t]}),n})();var or=C(1424),OP=C(9925),PP=C(6526),tA=C(5132);const LP=["pOrganizationChartNode",""];function RP(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function NP(n,i){1&n&&e.GkF(0)}const FP=function(n){return{$implicit:n}};function BP(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,NP,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,FP,t.node))}}const ZP=function(n,i){return{"pi-chevron-down":n,"pi-chevron-up":i}};function UP(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.toggleNode(r,g.node))})("keydown.enter",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.toggleNode(r,g.node))}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,ZP,t.node.expanded,!t.node.expanded))}}function HP(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",t.colspan)}}const nA=function(n){return{"p-organizationchart-line-top":n}};function VP(n,i){if(1&n&&(e.TgZ(0,"td",11),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",12),e._uU(3,"\xa0"),e.qZA()),2&n){const o=i.last;e.Q6J("ngClass",e.VKq(2,nA,!i.first)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,nA,!o))}}function zP(n,i){if(1&n&&(e.ynx(0),e.YNc(1,VP,4,6,"ng-template",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function JP(n,i){if(1&n&&(e.TgZ(0,"td",13),e._UZ(1,"table",14),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("node",t)}}const QP=function(n,i){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":i}};function GP(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onNodeClick(r,g.node))}),e.YNc(4,RP,2,1,"div",0),e.YNc(5,BP,2,4,"div",0),e.YNc(6,UP,2,4,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,HP,3,1,"ng-container",0),e.YNc(12,zP,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,JP,2,1,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.colspan),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(17,QP,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.uIk("colspan",t.colspan),e.xp6(2),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function WP(n,i){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const YP=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let jP=(()=>{class n{constructor(t,o){this.cd=o,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,o){this.chart.onNodeClick(t,o)}toggleNode(t,o){o.expanded=!o.expanded,o.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>iA)),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:LP,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],[1,"p-node-toggler-icon","pi",3,"ngClass"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,o){1&t&&e.YNc(0,GP,15,20,"tbody",0),2&t&&e.Q6J("ngIf",o.node)},dependencies:[D.mk,D.sg,D.O5,D.tP,n],styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,cs.X$)("childState",[(0,cs.SB)("in",(0,cs.oB)({opacity:1})),(0,cs.eR)("void => *",[(0,cs.oB)({opacity:0}),(0,cs.jt)(150)]),(0,cs.eR)("* => void",[(0,cs.jt)(150,(0,cs.oB)({opacity:0}))])])]},changeDetection:0}),n})(),iA=(()=>{class n{constructor(t,o){this.el=t,this.cd=o,this.preserveSpace=!0,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.selectionSource=new pr.x,this.selectionSource$=this.selectionSource.asObservable()}get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,o){let r=t.target;if((!r.className||-1===r.className.indexOf("p-node-toggler")&&-1===r.className.indexOf("p-node-toggler-icon"))&&this.selectionMode){if(!1===o.selectable)return;let g=this.findIndexInSelection(o),E=g>=0;"single"===this.selectionMode?E?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:o})):(this.selection=o,this.onNodeSelect.emit({originalEvent:t,node:o})):"multiple"===this.selectionMode&&(E?(this.selection=this.selection.filter((W,Ie)=>Ie!=g),this.onNodeUnselect.emit({originalEvent:t,node:o})):(this.selection=[...this.selection||[],o],this.onNodeSelect.emit({originalEvent:t,node:o}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let o=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)o=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let r=0;r<this.selection.length;r++)if(this.selection[r]==t){o=r;break}return o}isSelected(t){return-1!=this.findIndexInSelection(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(t,o,r){if(1&t&&e.Suo(r,N.jx,4),2&t){let g;e.iGM(g=e.CRH())&&(o.templates=g)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,WP,1,1,"table",1),e.qZA()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngStyle",o.style)("ngClass",e.VKq(5,YP,o.preserveSpace)),e.xp6(1),e.Q6J("ngIf",o.root))},dependencies:[D.mk,D.O5,D.PC,jP],encapsulation:2,changeDetection:0}),n})(),KP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,N.m8]}),n})();var oA=C(6888),$P=C(6731),sA=C(7307),rA=C(7172),qP=C(9770),eb=C(2722),tb=C(5698),XP=C(9718);function e6(n,i){}const nb=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let t6=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const aA=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ib=(n,i,t)=>(0,b.R)(n,i).pipe((0,eb.R)(t)),lA=(n,i)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:i;let cA=0;const uA=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),dA=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),s6=(n,i)=>dA(n).concat(dA(i)),r6=()=>{},pA=n=>null==n,a6=(()=>{let n={script$:null};return{load:(o,r)=>n.script$||(n.script$=(0,qP.P)(()=>{const g=o.createElement("script");return g.referrerPolicy="origin",g.type="application/javascript",g.src=r,o.head.appendChild(g),(0,b.R)(g,"load").pipe((0,tb.q)(1),(0,XP.h)(void 0))}).pipe((0,an.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),l6=new e.OlP("TINYMCE_SCRIPT_SRC"),c6={provide:p.JU,useExisting:(0,e.Gpc)(()=>gA),multi:!0};let gA=(()=>{class n extends t6{constructor(t,o,r,g){super(),this.platformId=r,this.tinymceScriptSrc=g,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=r6,this.destroy$=new pr.x,this.initialise=()=>{const E=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:s6(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:W=>{this._editor=W,ib(W,"init",this.destroy$).subscribe(()=>{this.initEditor(W)}),((n,i,t)=>{(n=>{const i=lA(n.ignoreEvents,[]);return lA(n.allowedEvents,aA).filter(o=>aA.includes(o)&&!i.includes(o))})(n).forEach(r=>{const g=n[r];ib(i,r.substring(2),t).subscribe(E=>{g.observers.length>0&&n.ngZone.run(()=>g.emit({event:E,editor:i}))})})})(this,W,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(W)}});uA(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{nb().init(E)})},this._elementRef=t,this.ngZone=o}set disabled(t){var o;this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof(null===(o=this._editor.mode)||void 0===o?void 0:o.set)?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(pA(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){var t;(0,D.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),o=Math.floor(1e9*Math.random());return cA++,"tiny-angular_"+o+cA+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(t=this.init)||void 0===t||!t.inline),this.createElement(),null!==nb()?this.initialise():this._element&&this._element.ownerDocument&&a6.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,eb.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==nb()&&nb().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,uA(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return pA(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){ib(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),ib(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(l6,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([c6]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,o){1&t&&e.YNc(0,e6,0,0,"ng-template")},dependencies:[D.ez,p.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var ob=C(8913);let u6=(()=>{class n{constructor(t,o,r){this.api=t,this.rt=o,this.personality=r,this.scrollPos=0,this.pageControl=new p.NI(0),this.filtersForm=new p.cw({limit:new p.NI(15),template:new p.NI(x.Ke.loadOrDefault("incomListPageTempFilter",[])),stage:new p.NI(null),tags:new p.NI([])}),this.searchPhrase=new p.NI(""),this.pageChange$=this.pageControl.valueChanges.pipe((0,Ri.O)(0),(0,En.b)(()=>window.scrollTo({top:0}))),this.filtersChange$=this.filtersForm.valueChanges.pipe((0,En.b)(()=>this.pageControl.setValue(0)),(0,Ri.O)(this.filtersForm.value)),this.filters$=(0,Po.a)([this.pageChange$,this.filtersChange$]).pipe((0,ft.U)(([g,E])=>[g,Object.assign(Object.assign({},E),{searchPhrase:this.searchPhrase.value})]),(0,an.d)(1)),this.stageList=[],this.tagsList=[],this.stageList$=this.filtersForm.controls.template.valueChanges.pipe((0,Ri.O)(this.filtersForm.controls.template.value),(0,En.b)(g=>x.Ke.save("incomListPageTempFilter",g)),(0,F.w)(g=>(this.filtersForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==g?void 0:g.length)?this.api.getWireframeStages(g[0]).pipe((0,Pa.z)(E=>this.api.getCountIncomingTasksByStages(g[0]).pipe((0,ft.U)(W=>E.map(Ie=>({label:Ie.label,value:Ie.stageId,orderIndex:Ie.orderIndex,tasksCount:W[Ie.stageId]||0})))))):[])),(0,ft.U)(g=>{const E=g.sort((W,Ie)=>W.orderIndex-Ie.orderIndex);return E.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:g.reduce((W,Ie)=>W+Ie.tasksCount,0)}),E}),(0,an.d)(1)),this.tagsFilterControl=new p.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,No.b)(300),(0,ko.x)()),this.tagsFilters$=(0,Po.a)([this.tagsNameFilter$.pipe((0,Ri.O)("")),this.filtersForm.controls.template.valueChanges.pipe((0,Ri.O)(this.filtersForm.controls.template.value))]).pipe((0,ft.U)(([g,E])=>[g,!1])),this.tagsList$=x.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,F.w)(g=>{var E;return this.api.getCountIncomingTasksByWireframeIdByTags(null!==(E=this.filtersForm.controls.template.value)&&void 0!==E?E:[]).pipe((0,ft.U)(W=>(g.value.map(Ie=>(Ie.tasksCount=W[Ie.taskTagId]||0,Ie)),g)))})),this.taskPage$=x.aN.ofPageAltAll(this.filters$,this.api.getIncomingTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,an.d)(1)),this.stageList$.subscribe(g=>this.stageList=[...g]),this.tagsList$.subscribe(g=>this.tagsList=[...g.value]),this.searchPhrase.valueChanges.pipe((0,No.b)(1e3),(0,s.h)(g=>null===g||0===g.length)).subscribe(()=>this.pageControl.setValue(0)),this.personality.userLogin$.subscribe(g=>{this.rt.incomingTaskCountChange(g).pipe((0,s.h)(E=>this.isSelectOneTemplate&&E.id===this.firstWireframeId)).subscribe(E=>{this.stageList.forEach(Ie=>{const it=E.stages.find(nt=>Ie.value===nt.id);Ie.tasksCount=it?it.num:0});const W=this.stageList.find(Ie=>null===Ie.value);W&&(W.tasksCount=E.stages.reduce((Ie,it)=>Ie+it.num,0))}),this.rt.incomingTagTaskCountChange(g).subscribe(E=>{this.tagsList.forEach(W=>{var Ie;const it=E[W.taskTagId];if(it){let nt=0;null===(Ie=this.filtersForm.value.template)||void 0===Ie||Ie.forEach(Kt=>{it[Kt]&&(nt+=it[Kt])}),W.tasksCount=nt}else W.tasksCount=0})})})}get tagsListNames(){return this.tagsList.map(t=>t.name)}get isSelectOneTemplate(){var t;return 1===(null===(t=this.filtersForm.controls.template.value)||void 0===t?void 0:t.length)}get firstWireframeId(){return this.filtersForm.controls.template.value?this.filtersForm.controls.template.value[0]:0}saveScrollPos(t){this.scrollPos=t}readScrollPos(){return this.scrollPos}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.s),e.LFG(me.U),e.LFG(Q.F))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d6(n,i){1&n&&e.GkF(0)}function p6(n,i){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function h6(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",17),e.YNc(4,p6,5,2,"ng-template",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.ic.stageList)}}function g6(n,i){if(1&n&&e._UZ(0,"input",20),2&n){const t=e.oxw();e.Q6J("formControl",t.ic.tagsFilterControl)}}function f6(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",22),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function m6(n,i){if(1&n&&(e.TgZ(0,"span",18)(1,"div",19),e._uU(2),e.qZA(),e.YNc(3,f6,2,2,"ng-container",21),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function _6(n,i){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=i.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}const C6=function(){return{flex:"1",minHeight:"2rem"}},v6=function(){return{bottom:"1rem"}};function b6(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e.YNc(2,_6,1,2,"app-task-list-element",28),e.qZA(),e._UZ(3,"div"),e.TgZ(4,"div",29)(5,"p-paginator",30,31),e.NdJ("onPageChange",function(r){e.CHM(t);const g=e.oxw(3);return e.KtG(g.ic.pageControl.setValue(r.page))}),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,o=e.oxw(2);let r,g,E;e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",o.taskTrack),e.xp6(1),e.Akn(e.DdM(11,C6)),e.xp6(1),e.Akn(e.DdM(12,v6)),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",null!==(r=o.ic.filtersForm.value.limit)&&void 0!==r?r:1)("showCurrentPageReport",!0)("totalRecords",null!==(g=null==t?null:t.totalElements)&&void 0!==g?g:0)("first",(null!==(E=o.ic.filtersForm.value.limit)&&void 0!==E?E:1)*(null!==(E=o.ic.pageControl.value)&&void 0!==E?E:0))}}function y6(n,i){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"p-progressSpinner",34),e.qZA())}function x6(n,i){1&n&&(e.TgZ(0,"div",33)(1,"span",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4," \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442 "),e.qZA()()())}function I6(n,i){if(1&n&&(e.ynx(0)(1,23),e.YNc(2,b6,7,13,"div",24),e.YNc(3,y6,2,0,"div",25),e.YNc(4,x6,5,0,"div",25),e.BQk()()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function T6(n,i){if(1&n&&(e.YNc(0,I6,5,4,"ng-container",21),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.ic.taskPage$))}}let A6=(()=>{class n{constructor(t,o,r,g){this.api=t,this.rt=o,this.personality=r,this.ic=g}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}taskTrack(t,o){return o.taskId}isNewDate(t,o){if(0===o)return!0;const r=t[o-1],g=t[o];if(!r||!g)return!1;const E=new Date(r.created);E.setHours(0,0,0,0);const W=new Date(g.created);return W.setHours(0,0,0,0),E.getTime()>W.getTime()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(Q.F),e.Y36(u6))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:21,vars:7,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","gap-3","h-fit","sticky-type-selector","px-2","pb-3",3,"formGroup"],[1,"flex","flex-column","bg-white","shadow-1","border-round","p-3","gap-2"],[1,"text-bluegray-400","text-lg","font-bold"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u0417\u0430\u043f\u0440\u043e\u0441...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["taskList",""],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[4,"ngIf"],[3,"color","caption"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter self-center",4,"ngSwitchCase"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","shadow-1","border-round-md","overflow-hidden","bg-bluegray-100","gap-1","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","self-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-500","flexed","column","hcenter","vcenter"],[1,"mds-inbox"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,d6,1,0,"ng-container",2),e.TgZ(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6,"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.TgZ(7,"div",6)(8,"input",7),e.NdJ("keydown.enter",function(){return o.ic.pageControl.setValue(0)}),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return o.ic.pageControl.setValue(0)}),e.qZA()()(),e._UZ(10,"app-task-template-multi-selector",9),e.TgZ(11,"div",10),e.YNc(12,h6,5,1,"div",11),e.TgZ(13,"div",12)(14,"label"),e._uU(15,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(16,"p-listbox",13),e.YNc(17,g6,1,1,"ng-template",14),e.YNc(18,m6,4,4,"ng-template",15),e.qZA()()()()()(),e.YNc(19,T6,2,3,"ng-template",null,16,e.W1O)),2&t){const r=e.MAs(20);e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("formGroup",o.ic.filtersForm),e.xp6(5),e.Q6J("formControl",o.ic.searchPhrase),e.xp6(4),e.Q6J("ngIf",o.ic.stageList.length>1&&o.ic.isSelectOneTemplate),e.xp6(4),e.Q6J("options",o.ic.tagsList)("multiple",!0)("checkbox",!0)}}}),n})();var F_=C(5871);const w6=["scroller"];function E6(n,i){1&n&&e.GkF(0)}function S6(n,i){if(1&n&&(e.TgZ(0,"div",8),e.Hsn(1),e.YNc(2,E6,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function k6(n,i){1&n&&e.GkF(0)}const fA=function(n){return{height:n}},D6=function(n,i){return{$implicit:n,options:i}};function M6(n,i){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,k6,1,0,"ng-container",11),e.qZA()),2&n){const t=i.$implicit,o=i.options,r=e.oxw();e.Q6J("ngStyle",e.VKq(3,fA,r.itemSize+"px")),e.xp6(1),e.Q6J("ngTemplateOutlet",t?r.itemTemplate:r.loadingItemTemplate)("ngTemplateOutletContext",e.WLB(5,D6,t,o))}}function O6(n,i){1&n&&e.GkF(0)}function P6(n,i){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.YNc(2,O6,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const L6=[[["p-header"]],[["p-footer"]]],R6=["p-header","p-footer"];let N6=(()=>{class n{constructor(t,o){this.el=t,this.cd=o,this.delay=250,this.onLazyLoad=new e.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"loadingItem":this.loadingItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}onLazyItemLoad(t){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Object.assign(Object.assign({},t),{rows:t.last-t.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(t,o){var r;null===(r=this.scroller)||void 0===r||r.scrollToIndex(t,o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-virtualScroller"]],contentQueries:function(t,o,r){if(1&t&&(e.Suo(r,N.h4,5),e.Suo(r,N.$_,5),e.Suo(r,N.jx,4)),2&t){let g;e.iGM(g=e.CRH())&&(o.header=g.first),e.iGM(g=e.CRH())&&(o.footer=g.first),e.iGM(g=e.CRH())&&(o.templates=g)}},viewQuery:function(t,o){if(1&t&&e.Gf(w6,5),2&t){let r;e.iGM(r=e.CRH())&&(o.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",options:"options",delay:"delay"},outputs:{onLazyLoad:"onLazyLoad"},ngContentSelectors:R6,decls:8,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],["styleClass","p-virtualscroller-list",3,"items","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,o){1&t&&(e.F$t(L6),e.TgZ(0,"div",0),e.YNc(1,S6,3,1,"div",1),e.TgZ(2,"div",2,3)(4,"p-scroller",4,5),e.NdJ("onLazyLoad",function(g){return o.onLazyItemLoad(g)}),e.YNc(6,M6,2,8,"ng-template",6),e.qZA()(),e.YNc(7,P6,3,1,"div",7),e.qZA()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngClass","p-virtualscroller p-component")("ngStyle",o.style),e.xp6(1),e.Q6J("ngIf",o.header||o.headerTemplate),e.xp6(3),e.Akn(e.VKq(12,fA,o.scrollHeight)),e.Q6J("items",o.value)("itemSize",o.itemSize)("lazy",o.lazy)("options",o.options),e.xp6(3),e.Q6J("ngIf",o.footer||o.footerTemplate))},dependencies:[D.mk,D.O5,D.tP,D.PC,N.jx,F_.T],encapsulation:2}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,N.m8,F_.v,N.m8,F_.v]}),n})();var _A=C(8185),B_=C(7102),F6=C(9618);let hL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,Rd.U,we.T,F_.v,N.m8,F_.v]}),n})();var gL=C(4496),fL=C(9955);const mL=["inputtext"];function _L(n,i){1&n&&e.GkF(0)}function CL(n,i){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Oqu(o.field?o.resolveFieldData(t,o.field):t)}}function vL(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw().index,E=e.oxw();return e.KtG(E.removeItem(r,g))}),e.qZA()}}const bL=function(n){return{$implicit:n}};function yL(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(r){const E=e.CHM(t).$implicit,W=e.oxw();return e.KtG(W.onItemClick(r,E))}),e.YNc(2,_L,1,0,"ng-container",9),e.YNc(3,CL,2,1,"span",10),e.YNc(4,vL,1,0,"span",11),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.VKq(4,bL,t)),e.xp6(1),e.Q6J("ngIf",!o.itemTemplate),e.xp6(1),e.Q6J("ngIf",!o.disabled)}}function xL(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clear())}),e.qZA()}}const IL=function(n,i){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":i}},TL=function(n){return{"p-chips-clearable":n}},AL={provide:p.JU,useExisting:(0,e.Gpc)(()=>vA),multi:!0};let vA=(()=>{class n{constructor(t,o){this.el=t,this.cd=o,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onChipClick=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.itemTemplate=t.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(r=>{this.addItem(t,r,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,o){this.onChipClick.emit({originalEvent:t,value:o})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,o){if(t&&o){if(-1==o.indexOf("."))return t[o];{let E=o.split("."),W=t;for(var r=0,g=E.length;r<g;++r)W=W[E[r]];return W}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,o){if(this.disabled)return;let r=this.value[o];this.value=this.value.filter((g,E)=>E!=o),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:r}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,o,r){this.value=this.value||[],o&&o.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(o))&&(this.value=[...this.value,o],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:o})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",r&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let o=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:o}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chips"]],contentQueries:function(t,o,r){if(1&t&&e.Suo(r,N.jx,4),2&t){let g;e.iGM(g=e.CRH())&&(o.templates=g)}},viewQuery:function(t,o){if(1&t&&e.Gf(mL,5),2&t){let r;e.iGM(r=e.CRH())&&(o.inputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,o){2&t&&e.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus)("p-chips-clearable",o.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([AL])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,yL,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(g){return o.onKeydown(g)})("input",function(){return o.onInput()})("paste",function(g){return o.onPaste(g)})("focus",function(g){return o.onInputFocus(g)})("blur",function(g){return o.onInputBlur(g)}),e.qZA()(),e.TgZ(6,"li"),e.YNc(7,xL,1,0,"i",6),e.qZA()()()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",o.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,IL,o.focus,o.disabled)),e.xp6(1),e.Q6J("ngForOf",o.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,TL,o.showClear&&!o.disabled)),e.xp6(1),e.Tol(o.inputStyleClass),e.Q6J("disabled",o.disabled)("ngStyle",o.inputStyle),e.uIk("id",o.inputId)("placeholder",o.value&&o.value.length?null:o.placeholder)("tabindex",o.tabindex)("aria-labelledby",o.ariaLabelledBy),e.xp6(3),e.Q6J("ngIf",null!=o.value&&o.filled&&!o.disabled&&o.showClear))},dependencies:[D.mk,D.sg,D.O5,D.tP,D.PC],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),wL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez,or.j,N.m8,or.j,N.m8]}),n})();var bA=C(2537),EL=C(5032);const yA=new da.y(EL.Z);var xA=C(2076),SL=C(2843);const kL=["container"];class IA{constructor(i){this.ngZone=i,this.pending=[],this.listeners=[],this.targetStream=new ma.X(void 0)}getLazyEmitter(i){return this.targetStream.pipe((0,F.w)(t=>{const o=new da.y(r=>{if(!t)return void this.pending.push({observable:o,observer:r});const g=W=>{const Ie={event:W,target:t,ymaps};this.ngZone.run(()=>r.next(Ie))},E=t.events.add(i,g);return this.listeners.push({name:i,callback:g,manager:E}),()=>E.remove(i,g)});return o}))}setTarget(i){const t=this.targetStream.value;i!==t&&(t&&(this.clearListeners(),this.pending=[]),this.targetStream.next(i),this.pending.forEach(o=>o.observable.subscribe(o.observer)),this.pending=[])}destroy(){this.clearListeners(),this.pending=[],this.targetStream.complete()}clearListeners(){this.listeners.forEach(i=>{const{name:t,callback:o,manager:r}=i;r.remove(t,o)}),this.listeners=[]}}const TA=new e.OlP("YA_CONFIG");let ML=(()=>{class n{constructor(t,o,r){this.document=o,this.isBrowser=(0,D.NF)(r),this.config=Object.assign(Object.assign({},{lang:"ru_RU"}),t)}load(){if(!this.isBrowser)return yA;if(window.ymaps)return(0,xA.D)(ymaps.ready()).pipe((0,ft.U)(()=>ymaps));if(!this.script){const r=this.document.createElement("script");r.type="text/javascript",r.src=this.getScriptSource(this.config),r.id="yandexMapsApiScript",r.async=!0,r.defer=!0,this.script=this.document.body.appendChild(r)}const t=(0,b.R)(this.script,"load").pipe((0,F.w)(()=>(0,xA.D)(ymaps.ready())),(0,ft.U)(()=>ymaps)),o=(0,b.R)(this.script,"error").pipe((0,F.w)(SL._));return(0,Ar.T)(t,o).pipe((0,tb.q)(1))}getScriptSource(t){const{enterprise:o,version:r="2.1"}=t,g=(0,To._T)(t,["enterprise","version"]);return`https://${o?"enterprise.":""}api-maps.yandex.ru/${r}/?${this.convertConfigIntoQueryParams(g)}`}convertConfigIntoQueryParams(t){return Object.entries(t).map(([o,r])=>`${o}=${r}`).join("&")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(TA,8),e.LFG(D.K0),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AA=(()=>{class n{constructor(t,o){this.ngZone=t,this.yaApiLoaderService=o,this.destroy$=new pr.x,this.eventManager=new IA(this.ngZone),this.map$=new ma.X(null),this.ready=new e.vpe,this.actionbegin=this.eventManager.getLazyEmitter("actionbegin"),this.actionbreak=this.eventManager.getLazyEmitter("actionbreak"),this.actionend=this.eventManager.getLazyEmitter("actionend"),this.actiontick=this.eventManager.getLazyEmitter("actiontick"),this.actiontickcomplete=this.eventManager.getLazyEmitter("actiontickcomplete"),this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.boundschange=this.eventManager.getLazyEmitter("boundschange"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.destroy=this.eventManager.getLazyEmitter("destroy"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.marginchange=this.eventManager.getLazyEmitter("marginchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.sizechange=this.eventManager.getLazyEmitter("sizechange"),this.typechange=this.eventManager.getLazyEmitter("typechange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){const o=this.map$.value;if(o){const{center:r,zoom:g,state:E,options:W}=t;E&&this.setState(this.combineState(),o),r&&o.setCenter(r.currentValue),g&&o.setZoom(g.currentValue),W&&o.options.set(W.currentValue)}}ngAfterViewInit(){this.yaApiLoaderService.load().pipe((0,tb.q)(1),(0,eb.R)(this.destroy$)).subscribe(()=>{const t=`f${Date.now().toString(16)}`,o=this.createMap(t);this.map$.next(o),this.eventManager.setTarget(o),this.ngZone.run(()=>this.ready.emit({ymaps,target:o}))})}ngOnDestroy(){this.eventManager.destroy(),this.destroy$.next(),this.destroy$.complete()}setState(t,o){const{behaviors:r,bounds:g,center:E,controls:W,margin:Ie,type:it,zoom:nt}=t;r&&o.behaviors.enable(r),g&&o.setBounds(g),E&&o.setCenter(E),W&&W.forEach(Kt=>o.controls.add(Kt)),Ie&&o.margin.setDefaultMargin(Ie),it&&o.setType(it),nt&&o.setZoom(nt)}createMap(t){const o=this.container.nativeElement;return o.setAttribute("id",t),o.style.cssText="width: 100%; height: 100%;",new ymaps.Map(t,this.combineState(),this.options||{})}combineState(){var t,o;const r=this.state||{};return Object.assign(Object.assign({},r),{center:this.center||r.center||[0,0],zoom:null!==(o=null!==(t=this.zoom)&&void 0!==t?t:r.zoom)&&void 0!==o?o:10})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(ML))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ya-map"]],viewQuery:function(t,o){if(1&t&&e.Gf(kL,5),2&t){let r;e.iGM(r=e.CRH())&&(o.container=r.first)}},inputs:{center:"center",zoom:"zoom",state:"state",options:"options"},outputs:{ready:"ready",actionbegin:"actionbegin",actionbreak:"actionbreak",actionend:"actionend",actiontick:"actiontick",actiontickcomplete:"actiontickcomplete",balloonclose:"balloonclose",balloonopen:"balloonopen",boundschange:"boundschange",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",destroy:"destroy",hintclose:"hintclose",hintopen:"hintopen",marginchange:"marginchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",sizechange:"sizechange",typechange:"typechange",yawheel:"yawheel"},features:[e.TTD],decls:2,vars:0,consts:[["container",""]],template:function(t,o){1&t&&e._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})(),OL=(()=>{class n{constructor(t,o){this.ngZone=t,this.yaMapComponent=o,this.destroy$=new pr.x,this.eventManager=new IA(this.ngZone),this.ready=new e.vpe,this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.beforedrag=this.eventManager.getLazyEmitter("beforedrag"),this.beforedragstart=this.eventManager.getLazyEmitter("beforedragstart"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.yadrag=this.eventManager.getLazyEmitter("drag"),this.yadragend=this.eventManager.getLazyEmitter("dragend"),this.yadragstart=this.eventManager.getLazyEmitter("dragstart"),this.editorstatechange=this.eventManager.getLazyEmitter("editorstatechange"),this.geometrychange=this.eventManager.getLazyEmitter("geometrychange"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.mapchange=this.eventManager.getLazyEmitter("mapchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.overlaychange=this.eventManager.getLazyEmitter("overlaychange"),this.parentchange=this.eventManager.getLazyEmitter("parentchange"),this.propertieschange=this.eventManager.getLazyEmitter("propertieschange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){var o;const{placemark:r}=this;if(r){const{geometry:g,properties:E,options:W}=t;g&&(null===(o=r.geometry)||void 0===o||o.setCoordinates(g.currentValue)),E&&r.properties.set(E.currentValue),W&&r.options.set(W.currentValue)}}ngOnInit(){this.yaMapComponent.map$.pipe((0,s.h)(Boolean),(0,tb.q)(1),(0,eb.R)(this.destroy$)).subscribe(t=>{const o=this.createPlacemark();this.placemark=o,t.geoObjects.add(o),this.eventManager.setTarget(o),this.ngZone.run(()=>this.ready.emit({ymaps,target:o}))})}ngOnDestroy(){var t,o;this.placemark&&(null===(o=null===(t=this.yaMapComponent)||void 0===t?void 0:t.map$.value)||void 0===o||o.geoObjects.remove(this.placemark),this.eventManager.destroy()),this.destroy$.next(),this.destroy$.complete()}createPlacemark(){return new ymaps.Placemark(this.geometry,this.properties,this.options)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(AA))},n.\u0275dir=e.lG2({type:n,selectors:[["ya-placemark"]],inputs:{geometry:"geometry",properties:"properties",options:"options"},outputs:{ready:"ready",balloonclose:"balloonclose",balloonopen:"balloonopen",beforedrag:"beforedrag",beforedragstart:"beforedragstart",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",yadrag:"yadrag",yadragend:"yadragend",yadragstart:"yadragstart",editorstatechange:"editorstatechange",geometrychange:"geometrychange",hintclose:"hintclose",hintopen:"hintopen",mapchange:"mapchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",overlaychange:"overlaychange",parentchange:"parentchange",propertieschange:"propertieschange",yawheel:"yawheel"},features:[e.TTD]}),n})(),PL=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:TA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var sb=C(657),LL=C(6954);function RL(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"img",6),e.NdJ("error",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.imageError(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("src",t.image,e.LSH)}}function NL(n,i){if(1&n&&e._UZ(0,"span",8),2&n){const t=e.oxw(3);e.Tol(t.icon),e.Q6J("ngClass","p-chip-icon")}}function FL(n,i){if(1&n&&e.YNc(0,NL,1,3,"span",7),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.icon)}}function BL(n,i){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.label)}}function ZL(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",10),e.NdJ("click",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.close(r))})("keydown.enter",function(r){e.CHM(t);const g=e.oxw(2);return e.KtG(g.close(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Tol(t.removeIcon),e.Q6J("ngClass","pi-chip-remove-icon")}}function UL(n,i){if(1&n&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,RL,1,1,"img",2),e.YNc(3,FL,1,1,"ng-template",null,3,e.W1O),e.YNc(5,BL,2,1,"div",4),e.YNc(6,ZL,1,3,"span",5),e.qZA()),2&n){const t=e.MAs(4),o=e.oxw();e.Tol(o.styleClass),e.Q6J("ngClass",o.containerClass())("ngStyle",o.style),e.xp6(2),e.Q6J("ngIf",o.image)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",o.label),e.xp6(1),e.Q6J("ngIf",o.removable)}}const HL=["*"];let VL=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new e.vpe,this.onImageError=new e.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(t){this.visible=!1,this.onRemove.emit(t)}imageError(t){this.onImageError.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},ngContentSelectors:HL,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src","error",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src","error"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(t,o){1&t&&(e.F$t(),e.YNc(0,UL,7,8,"div",0)),2&t&&e.Q6J("ngIf",o.visible)},dependencies:[D.mk,D.O5,D.PC],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),zL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[D.ez]}),n})();var wA=C(7575),JL=C(430),Z_=C(1828),QL=C(8506),GL=C(5834),EA=C(1412),SA=C(7190),Wx=C(5197),Sf=C(7514),Ur=C(4028),WL=C(4304),YL=C(1819),jL=C(6288),KL=C(85);function $L(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u043e\u0442\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.images.length.toString())}}function qL(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const g=e.CHM(t).index,E=e.oxw();return e.KtG(E.viewerService.showMediaAlbum(g,E.images))}),e._UZ(1,"img",14),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("src",o.baseUrl+t.name,e.LSH)}}function XL(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0412\u0438\u0434\u0435\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.videos.length.toString())}}function eR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const g=e.CHM(t).index,E=e.oxw();return e.KtG(E.viewerService.showMediaAlbum(g,E.videos))}),e.TgZ(1,"span",16),e._uU(2,"movie"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function tR(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0410\u0443\u0434\u0438\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.audios.length.toString())}}function nR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const g=e.CHM(t).index,E=e.oxw();return e.KtG(E.viewerService.showMediaAlbum(g,E.audios))}),e.TgZ(1,"span",16),e._uU(2,"music_note"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function iR(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.documents.length.toString())}}function oR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.click())}),e.TgZ(1,"span",16),e._uU(2,"picture_as_pdf"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",18,19),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("href",o.baseUrl+t.name+"/",e.LSH)}}function sR(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u0430\u0439\u043b\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.files.length.toString())}}function rR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.click())}),e.TgZ(1,"span",16),e._uU(2,"description"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",20,19),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("download",t.name)("href",o.baseUrl+t.name+"/",e.LSH)}}let aR=(()=>{class n{constructor(t,o){this.api=t,this.viewerService=o,this.show=!1,this.showChange=new e.vpe,this.baseUrl="/api/private/attachment/",this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}ngOnInit(){this.clearAllAttachments(),this.taskId&&this.api.getAllTaskAttachments(this.taskId).subscribe(t=>{for(const o of t)switch(o.type){case Ce.sf.PHOTO:this.images.push(o);break;case Ce.sf.VIDEO:this.videos.push(o);break;case Ce.sf.AUDIO:this.audios.push(o);break;case Ce.sf.DOCUMENT:this.documents.push(o);break;case Ce.sf.FILE:this.files.push(o)}})}clearAllAttachments(){this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(KT.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachments-history-dialog"]],inputs:{taskId:"taskId",show:"show"},outputs:{showChange:"showChange"},decls:22,vars:10,consts:[["header","\u0424\u0430\u0439\u043b\u044b \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"draggable","dismissableMask","visible","modal","resizable","visibleChange"],["header","\u0424\u043e\u0442\u043e"],["pTemplate","header"],[1,"flexed-list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],["header","\u0412\u0438\u0434\u0435\u043e"],["class","list-item p5",3,"click",4,"ngFor","ngForOf"],["header","\u0410\u0443\u0434\u0438\u043e"],["header","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["header","\u0424\u0430\u0439\u043b\u044b"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"value"],[1,"list-item",3,"click"],[3,"src"],[1,"list-item","p5",3,"click"],[1,"material-icons-round"],[1,"filename"],["target","_blank",3,"href"],["link",""],[3,"download","href"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(g){return o.showChange.emit(g)})("visibleChange",function(g){return o.show=g}),e.TgZ(1,"p-tabView")(2,"p-tabPanel",1),e.YNc(3,$L,4,1,"ng-template",2),e.TgZ(4,"div",3),e.YNc(5,qL,2,1,"div",4),e.qZA()(),e.TgZ(6,"p-tabPanel",5),e.YNc(7,XL,4,1,"ng-template",2),e.TgZ(8,"div",3),e.YNc(9,eR,5,1,"div",6),e.qZA()(),e.TgZ(10,"p-tabPanel",7),e.YNc(11,tR,4,1,"ng-template",2),e.TgZ(12,"div",3),e.YNc(13,nR,5,1,"div",6),e.qZA()(),e.TgZ(14,"p-tabPanel",8),e.YNc(15,iR,4,1,"ng-template",2),e.TgZ(16,"div",3),e.YNc(17,oR,7,4,"div",6),e.qZA()(),e.TgZ(18,"p-tabPanel",9),e.YNc(19,sR,4,1,"ng-template",2),e.TgZ(20,"div",3),e.YNc(21,rR,7,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("draggable",!1)("dismissableMask",!0)("visible",o.show)("modal",!0)("resizable",!1),e.xp6(5),e.Q6J("ngForOf",o.images),e.xp6(4),e.Q6J("ngForOf",o.videos),e.xp6(4),e.Q6J("ngForOf",o.audios),e.xp6(4),e.Q6J("ngForOf",o.documents),e.xp6(4),e.Q6J("ngForOf",o.files))},dependencies:[D.sg,N.jx,Va.V,uu.xf,uu.x4,KL.Ct],styles:[".flexed-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;overflow-x:auto;width:50vw;max-height:40vh;min-width:100%}.list-item[_ngcontent-%COMP%]{width:19%;aspect-ratio:1;border:1px solid var(--bgc-300);max-width:15rem;min-width:7rem;overflow:hidden;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;width:auto;height:auto}.filename[_ngcontent-%COMP%]{display:inline-block;color:var(--tc-500);font-size:.8rem;font-weight:500;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}"]}),n})(),kA=(()=>{class n{constructor(t){this.el=t}get colorString(){return this._colorString}set colorString(t){var o,r;this._colorString=t,this.el.nativeElement.style.color=x.cQ.stringToColor(null!==(r=null===(o=this._colorString)||void 0===o?void 0:o.trim())&&void 0!==r?r:"")}ngAfterViewInit(){this.el.nativeElement.style.color=x.cQ.stringToColor(this.el.nativeElement.innerText.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appColorize",""]],inputs:{colorString:"colorString"}}),n})(),lR=(()=>{class n{constructor(t){this.el=t,this.isMouseDown=!1,t.nativeElement.style.cursor="grab",t.nativeElement.style.userSelect="none"}onMouseDown(t){0===t.button&&(this.isMouseDown=!0,this.el.nativeElement.style.cursor="grabbing")}onMouseUp(t){0===t.button&&(this.isMouseDown=!1,this.el.nativeElement.style.cursor="grab")}onMouseMove(t){if(this.isMouseDown){const o=this.el.nativeElement;o.scrollTo(o.scrollLeft-t.movementX,o.scrollTop-t.movementY)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDragScrolling",""]],hostBindings:function(t,o){1&t&&e.NdJ("mousedown",function(g){return o.onMouseDown(g)})("mouseup",function(g){return o.onMouseUp(g)})("mousemove",function(g){return o.onMouseMove(g)})}}),n})();var cR=C(7231),uR=C(5651);let dR=(()=>{class n{constructor(){this.loading=!1,this.loadingChange=new e.vpe,this.load=new e.vpe,this.initialScrollPos=0,this.initialScrollPosChange=new e.vpe}ngOnInit(){setTimeout(()=>window.scrollTo({top:this.initialScrollPos,behavior:"instant"}),100)}windowScroll(t){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)==0&&!this.loading&&(this.loading=!0,this.loadingChange.emit(!0),this.load.emit()),this.initialScrollPos=window.scrollY,this.initialScrollPosChange.emit(window.scrollY)}windowResize(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appLazyPageLoader",""]],hostBindings:function(t,o){1&t&&e.NdJ("scroll",function(g){return o.windowScroll(g)},!1,e.Jf7)("resize",function(g){return o.windowResize(g)},!1,e.Jf7)},inputs:{loading:"loading",initialScrollPos:"initialScrollPos"},outputs:{loadingChange:"loadingChange",load:"load",initialScrollPosChange:"initialScrollPosChange"}}),n})();function pR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showContent())}),e.TgZ(1,"span",3),e._uU(2,"visibility"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.buttonCaption," ")}}function hR(n,i){1&n&&(e.ynx(0),e.Hsn(1),e.BQk())}const gR=["*"];let fR=(()=>{class n{constructor(){this.buttonCaption="",this.display=!1,this.displayChange=new e.vpe}ngOnInit(){}showContent(){this.display=!0,this.displayChange.emit(this.display)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expanding-panel"]],inputs:{buttonCaption:"buttonCaption",display:"display"},outputs:{displayChange:"displayChange"},ngContentSelectors:gR,decls:3,vars:2,consts:[["class","expand-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"expand-button",3,"click"],[1,"material-icons-round","parent-inherit"]],template:function(t,o){1&t&&(e.F$t(),e.ynx(0),e.YNc(1,pR,4,1,"span",0),e.YNc(2,hR,2,0,"ng-container",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.display),e.xp6(1),e.Q6J("ngIf",o.display))},dependencies:[D.O5],styles:[".expand-button[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:600;color:var(--mc-500);line-height:normal;padding:.3rem .5rem;border-radius:.3rem;align-self:center;align-items:center;justify-content:center;gap:.2rem;transition:background-color .2s ease-out}.expand-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mc-500)}.expand-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}"]}),n})();var mR=C(2716),rb=C(417);let _R=(()=>{class n{transform(t){if(!("type"in t))return"";switch(t.type){case Ce.dA.CHANGE_STAGE:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ";case Ce.dA.CREATE_WORK_LOG:return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case Ce.dA.FORCE_CLOSE_WORK_LOG:return"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case Ce.dA.CLOSE_WORK_LOG:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case Ce.dA.CHANGE_RESPONSIBILITY:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439: ";case Ce.dA.LINKED_TO_PARENT_TASK:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435";case Ce.dA.UNLINKED_FROM_PARENT_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";case Ce.dA.UNLINK_CHILD_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0447";case Ce.dA.LINKED_TO_CHILD_TASKS:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";case Ce.dA.CHANGE_TAGS:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b \u0442\u0435\u0433\u0438: ";case Ce.dA.CLEAN_TAGS:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0447\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u0442\u0435\u0433\u043e\u0432";case Ce.dA.CHANGE_OBSERVERS:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438: ";case Ce.dA.UNBIND_RESPONSIBLE:return"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u0431\u0440\u0430\u043d";case Ce.dA.CHANGE_ACTUAL_FROM:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430: ";case Ce.dA.CHANGE_ACTUAL_TO:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ";case Ce.dA.CLEAR_ACTUAL_FROM_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0434\u0430\u0442\u0430";case Ce.dA.CLEAR_ACTUAL_TO_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f";case Ce.dA.CLOSE_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430";case Ce.dA.REOPEN_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0430";case Ce.dA.EDIT_FIELDS:return"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430";case Ce.dA.REPORT_CREATED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435: ";case Ce.dA.MOVED_TO_DIRECTORY:return"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e: "}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"taskEventTranslate",type:n,pure:!0}),n})();function CR(n,i){1&n&&e.GkF(0)}function vR(n,i){1&n&&e._UZ(0,"div",17)}function bR(n,i){1&n&&e.GkF(0)}function yR(n,i){if(1&n&&e._UZ(0,"quill-view-html",18),2&n){const t=e.oxw(2).$implicit;e.Q6J("content",t.message)}}function xR(n,i){if(1&n&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.message)}}function IR(n,i){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.ALo(3,"taskEventTranslate"),e.qZA(),e.YNc(4,xR,2,1,"span",20),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(2),e.Q6J("ngIf",t.message)}}function TR(n,i){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",i.$implicit)}function AR(n,i){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",i.$implicit)}function wR(n,i){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,AR,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(3).$implicit,o=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(o.getAttachmentsCount(t)-3)+"+"),e.xp6(1),e.Q6J("ngForOf",o.getAttachments(t,!1))("ngForTrackBy",o.trackByAttachment)}}function ER(n,i){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,TR,1,1,"app-attachment-link",23),e.YNc(2,wR,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getAttachments(t))("ngForTrackBy",o.trackByAttachment),e.xp6(1),e.Q6J("ngIf",o.getAttachmentsCount(t)>3)}}function SR(n,i){1&n&&e.GkF(0)}function kR(n,i){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",i.$implicit)}function DR(n,i){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",i.$implicit)}function MR(n,i){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,DR,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(4).$implicit,o=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(o.getAttachmentsCount(o.getReplyComment(t))-3)+"+"),e.xp6(1),e.Q6J("ngForOf",o.getAttachments(o.getReplyComment(t),!1))("ngForTrackBy",o.trackByAttachment)}}function OR(n,i){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,kR,1,1,"app-attachment-link",23),e.YNc(2,MR,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(3).$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getAttachments(o.getReplyComment(t)))("ngForTrackBy",o.trackByAttachment),e.xp6(1),e.Q6J("ngIf",o.getAttachmentsCount(o.getReplyComment(t))>3)}}const PR=function(n){return{$implicit:n,reply:!0}};function LR(n,i){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",9),e._UZ(3,"app-avatar",29),e.qZA(),e.YNc(4,SR,1,0,"ng-container",7),e.TgZ(5,"div",30),e._UZ(6,"markdown",31),e.YNc(7,OR,3,3,"div",14),e.qZA()()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(),r=e.MAs(6);let g,E,W;e.xp6(3),e.Q6J("name",null==(g=o.getReplyComment(t))||null==g.creator?null:g.creator.fullName)("src",null==(E=o.getReplyComment(t))||null==E.creator?null:E.creator.avatar)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(7,PR,o.getReplyComment(t))),e.xp6(2),e.Q6J("data",null==(W=o.getReplyComment(t))?null:W.message),e.xp6(1),e.Q6J("ngIf",o.hasAttachments(o.getReplyComment(t)))}}function RR(n,i){1&n&&e._UZ(0,"div",32)}const DA=function(n,i){return{event:n,reply:i}},NR=function(n){return{$implicit:n}},FR=function(n){return{$implicit:n,reply:!1}};function BR(n,i){if(1&n&&(e.TgZ(0,"div",6),e.ynx(1),e.YNc(2,CR,1,0,"ng-container",7),e.YNc(3,vR,1,0,"div",8),e.TgZ(4,"div",9),e._UZ(5,"app-avatar",10),e.qZA(),e.YNc(6,bR,1,0,"ng-container",7),e.TgZ(7,"div",11),e.YNc(8,yR,1,1,"quill-view-html",12),e.YNc(9,IR,5,4,"div",13),e.YNc(10,ER,3,3,"div",14),e.qZA(),e.YNc(11,LR,8,9,"div",15),e.YNc(12,RR,1,0,"div",16),e.BQk(),e.qZA()),2&n){const t=e.oxw(),o=t.$implicit,r=t.index,g=e.oxw(),E=e.MAs(4),W=e.MAs(6);e.Q6J("@fade",void 0)("ngClass",e.WLB(16,DA,!g.isComment(o),g.isHasReply(o))),e.xp6(2),e.Q6J("ngTemplateOutlet",E)("ngTemplateOutletContext",e.VKq(19,NR,o)),e.xp6(1),e.Q6J("ngIf",r<g.displayedEntries.length-1),e.xp6(2),e.Q6J("src",o.creator.avatar)("name",o.creator.fullName)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",e.VKq(21,FR,o)),e.xp6(1),e.Q6J("ngClass",e.WLB(23,DA,!g.isComment(o),g.isHasReply(o))),e.xp6(1),e.Q6J("ngIf",g.isComment(o)),e.xp6(1),e.Q6J("ngIf",!g.isComment(o)),e.xp6(1),e.Q6J("ngIf",g.hasAttachments(o)),e.xp6(1),e.Q6J("ngIf",g.isHasReply(o)),e.xp6(1),e.Q6J("ngIf",!g.isComment(o))}}function ZR(n,i){if(1&n&&(e.ynx(0),e.YNc(1,BR,13,26,"div",5),e.BQk()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.isComment(t)&&o.showEvents||o.isComment(t))}}function UR(n,i){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-skeleton",35)(2,"p-skeleton",36),e.TgZ(3,"div",37)(4,"div",38),e._UZ(5,"p-skeleton",39)(6,"p-skeleton",40),e.qZA()(),e._UZ(7,"p-skeleton",41),e.qZA()),2&n&&(e.xp6(5),e.Udp("padding-bottom",".5rem"))}function HR(n,i){if(1&n&&(e.ynx(0),e.YNc(1,UR,8,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.skeletons)}}function VR(n,i){if(1&n&&(e.TgZ(0,"span",42)(1,"span",43),e._uU(2),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw();e.Udp("background-color",o.getEventColor(t)),e.xp6(2),e.Oqu(o.getEventIcon(t))}}function zR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,g=e.oxw();return e.KtG(g.selectCommentToReply(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function JR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-icon-button",52),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const g=e.MAs(10);return e.KtG(g.toggle(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function QR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,g=e.MAs(10);return e.oxw().selectCommentToEdit(r),e.KtG(g.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function GR(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,g=e.MAs(10);return e.oxw().confirmToDeleteComment(r),e.KtG(g.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function WR(n,i){if(1&n&&(e.YNc(0,QR,1,1,"app-button",53),e.YNc(1,GR,1,1,"app-button",54)),2&n){const t=e.oxw(),o=t.$implicit,r=t.reply,g=e.oxw();e.Q6J("ngIf",g.isMyComment(o)&&!r),e.xp6(1),e.Q6J("ngIf",g.isMyComment(o)&&!r)}}function YR(n,i){if(1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",44),e._uU(3),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.ALo(6,"elapsedTime"),e.qZA()(),e.YNc(7,zR,1,1,"app-button",46),e.YNc(8,JR,1,1,"app-icon-button",47),e.TgZ(9,"p-overlayPanel",48,49),e.YNc(11,WR,2,2,"ng-template",50),e.qZA()()),2&n){const t=i.$implicit,o=i.reply,r=e.oxw();e.xp6(3),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.Dn7(6,4,t.created,t.type?"":"\u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430) "," \u043d\u0430\u0437\u0430\u0434")),e.xp6(2),e.Q6J("ngIf",r.isComment(t)&&!o),e.xp6(1),e.Q6J("ngIf",r.isMyComment(t)&&!o)}}let jR=(()=>{class n{constructor(t,o,r,g){this.api=t,this.personality=o,this.confirmation=r,this.rt=g,this.rtSubscriptions=new x.xf,this.replyCommentChange=new e.vpe,this.editCommentChange=new e.vpe,this.onFirstLoad=new e.vpe,this.entries=[],this.journalIsFullyLoaded=!1,this.skeletons=Array.from({length:10}),this.totalEntries=0,this.loading=!1,this.firstLoad=!0,this.showEvents=!0,this._sortingType=x.Ke.loadOrDefault("taskJournalSortingType",Ce.Rh.CREATE_DATE_DESC),this._taskId=-1}get displayedEntries(){return this.showEvents?this.entries:this.entries.filter(t=>"commentId"in t)}set sortingType(t){t!==this._sortingType&&(this._sortingType=t,x.Ke.save("taskJournalSortingType",t),this.clearEntries(),this.loadComments())}get sortingType(){return this._sortingType}trackByEntry(t,o){return"commentId"in o?o.commentId+o.message+o.edited:"taskEventId"in o?o.taskEventId:null}set taskId(t){this._taskId=t,this.clearEntries(),this.loadComments(),this.rtSubscriptions.addSubscription("crCom",this.rt.commentCreated(t).subscribe(this.onCommentCreate.bind(this))),this.rtSubscriptions.addSubscription("crUpt",this.rt.commentUpdated(t).subscribe(this.onCommentUpdate.bind(this))),this.rtSubscriptions.addSubscription("crDel",this.rt.commentDeleted(t).subscribe(this.onCommentDelete.bind(this))),this.rtSubscriptions.addSubscription("crEv",this.rt.taskEventCreated(t).subscribe(this.onEventCreate.bind(this))),this.rtSubscriptions.addSubscription("empUpt",this.rt.employeeUpdated().subscribe(this.onEmployeeUpdate.bind(this)))}get taskId(){return this._taskId}onCommentCreate(t){if(!this.entries.some(o=>"commentId"in o&&o.commentId===t.commentId))switch(this.sortingType){case Ce.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.totalEntries++,this.onFirstLoad.emit(!0);break;case Ce.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.totalEntries++,this.onFirstLoad.emit(!0))}}onCommentDelete(t){const o=this.entries.findIndex(r=>"commentId"in r&&r.commentId===t.commentId);-1!==o&&(this.entries.splice(o,1),this.totalEntries--)}onCommentUpdate(t){const o=this.entries.findIndex(r=>"commentId"in r&&r.commentId===t.commentId);-1!==o&&this.entries.splice(o,1,t)}onEventCreate(t){if(!this.entries.some(o=>"taskEventId"in o&&o.taskEventId===t.taskEventId))switch(this.sortingType){case Ce.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.onFirstLoad.emit(!0);break;case Ce.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.onFirstLoad.emit(!0))}}ngOnDestroy(){this.rtSubscriptions.unsubscribeAll()}ngOnInit(){}loadComments(){if(!this._taskId)return;const t=this.entries.filter(o=>"commentId"in o).length;t<this.totalEntries?this.api.getTaskJournal(this._taskId,t,10,this._sortingType).subscribe(o=>{0===this.entries.length&&(this.totalEntries=o.totalElements),this.entries=[...this.entries,...o.content],this.loading=!1}):this.firstLoad?this.api.getTaskJournal(this._taskId,0,10,this._sortingType).subscribe(o=>{this.totalEntries=o.totalElements,this.entries=o.content,this.loading=!1,this.firstLoad=!1,this.onFirstLoad.emit(this.totalEntries>0||o.content.length>0)}):setTimeout(()=>{this.loading=!1,this.journalIsFullyLoaded=!0})}isComment(t){return"commentId"in t}isMyComment(t){var o,r;return"commentId"in t&&(null===(o=this.personality.me)||void 0===o?void 0:o.login)===(null===(r=t.creator)||void 0===r?void 0:r.login)}isAnActionOnComments(){return!!this.replyComment||!!this.editComment}getEventIcon(t){if(!("type"in t))return"comment";switch(t.type){case Ce.dA.CHANGE_STAGE:return"swipe_right_alt";case Ce.dA.CREATE_WORK_LOG:return"assignment";case Ce.dA.FORCE_CLOSE_WORK_LOG:case Ce.dA.CLOSE_WORK_LOG:return"assignment_return";case Ce.dA.CHANGE_RESPONSIBILITY:return"person";case Ce.dA.LINKED_TO_PARENT_TASK:return"link";case Ce.dA.UNLINKED_FROM_PARENT_TASK:case Ce.dA.UNLINK_CHILD_TASK:return"link_off";case Ce.dA.LINKED_TO_CHILD_TASKS:return"link";case Ce.dA.CHANGE_TAGS:return"label";case Ce.dA.CLEAN_TAGS:return"label_off";case Ce.dA.CHANGE_OBSERVERS:return"groups";case Ce.dA.UNBIND_RESPONSIBLE:return"person_off";case Ce.dA.CHANGE_ACTUAL_FROM:return"pending_actions";case Ce.dA.CHANGE_ACTUAL_TO:return"today";case Ce.dA.CLEAR_ACTUAL_FROM_TASK:return"alarm_off";case Ce.dA.CLEAR_ACTUAL_TO_TASK:return"hourglass_disabled";case Ce.dA.CLOSE_TASK:return"swipe_down_alt";case Ce.dA.REOPEN_TASK:return"swipe_up_alt";case Ce.dA.EDIT_FIELDS:return"edit";case Ce.dA.REPORT_CREATED:return"history_edu";case Ce.dA.MOVED_TO_DIRECTORY:return"double_arrow";default:return"adjust"}}getEventColor(t){if(!("type"in t))return"#7a7f8d";switch(t.type){case Ce.dA.CHANGE_STAGE:return"#289de7";case Ce.dA.CREATE_WORK_LOG:return"#49DF30";case Ce.dA.FORCE_CLOSE_WORK_LOG:return"#e81a30";case Ce.dA.CLOSE_WORK_LOG:return"#52ff89";case Ce.dA.CHANGE_RESPONSIBILITY:return"#ff9f3b";case Ce.dA.LINKED_TO_PARENT_TASK:return"#9933ec";case Ce.dA.UNLINKED_FROM_PARENT_TASK:case Ce.dA.UNLINK_CHILD_TASK:return"#ef369d";case Ce.dA.LINKED_TO_CHILD_TASKS:return"#9933ec";case Ce.dA.CHANGE_TAGS:return"#13c587";case Ce.dA.CLEAN_TAGS:return"#c73953";case Ce.dA.CHANGE_OBSERVERS:return"#ff763b";case Ce.dA.UNBIND_RESPONSIBLE:return"#3bdbff";case Ce.dA.CHANGE_ACTUAL_FROM:return"#3bff3e";case Ce.dA.CHANGE_ACTUAL_TO:return"#a7e52e";case Ce.dA.CLEAR_ACTUAL_FROM_TASK:return"#c79436";case Ce.dA.CLEAR_ACTUAL_TO_TASK:return"#a65c48";case Ce.dA.CLOSE_TASK:return"#866e6e";case Ce.dA.REOPEN_TASK:return"#1a7ae8";case Ce.dA.EDIT_FIELDS:return"#61d78d";case Ce.dA.REPORT_CREATED:return"#ff9f3b";case Ce.dA.MOVED_TO_DIRECTORY:return"#95e31c";default:return"#ff0000"}}hasAttachments(t){var o,r;return!!t&&"attachments"in t&&(null!==(r=null===(o=t.attachments)||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0}getAttachments(t,o=!0){if(!t)return[];const r="attachments"in t&&t.attachments?t.attachments:[];return o?r.slice(0,3):r.slice(3)}getAttachmentsCount(t){return t&&"attachments"in t&&t.attachments?t.attachments.length:0}trackByAttachment(t,o){return o?o.name:t}selectCommentToReply(t){this.replyComment=t,this.replyCommentChange.emit(this.replyComment)}selectCommentToEdit(t){this.editComment=t,this.editCommentChange.emit(this.editComment)}isHasReply(t){return"replyComment"in t&&t.replyComment}getReplyComment(t){return"replyComment"in t?t.replyComment:void 0}confirmToDeleteComment(t){this.confirmation.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",accept:()=>this.api.deleteComment(t.commentId).subscribe()})}onEmployeeUpdate(t){var o;for(const r of this.entries)(null===(o=r.creator)||void 0===o?void 0:o.login)===t.login&&(r.creator=t)}clearEntries(){this.entries=[],this.totalEntries=0,this.firstLoad=!0,this.journalIsFullyLoaded=!1,this.loading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(Q.F),e.Y36(N.YP),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-journal"]],inputs:{replyComment:"replyComment",editComment:"editComment",showEvents:"showEvents",sortingType:"sortingType",taskId:"taskId"},outputs:{replyCommentChange:"replyCommentChange",editCommentChange:"editCommentChange",onFirstLoad:"onFirstLoad"},decls:7,vars:4,consts:[["appLazyPageLoader","",1,"journal",3,"loading","load","loadingChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["eventIcon",""],["eventHeader",""],["class","journal-item",3,"ngClass",4,"ngIf"],[1,"journal-item",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","vertical-line",4,"ngIf"],[1,"employee-avatar-wrapper"],[3,"src","name","size"],[1,"journal-event-body",3,"ngClass"],["appTextRevival","",3,"content",4,"ngIf"],["class","flexed gap5 hcenter",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","reply-comment",4,"ngIf"],["class","event-footer",4,"ngIf"],[1,"vertical-line"],["appTextRevival","",3,"content"],[1,"flexed","gap5","hcenter"],["appTextRevival","",4,"ngIf"],["appTextRevival",""],[1,"attachments-list"],[3,"attachment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonCaption",4,"ngIf"],[3,"attachment"],[3,"buttonCaption"],[1,"reply-comment"],[1,"reply-marker"],[3,"name","src","size"],[1,"journal-event-body"],[3,"data"],[1,"event-footer"],["class","journal-item skeleton",4,"ngFor","ngForOf"],[1,"journal-item","skeleton"],["shape","circle","size","2rem",1,"event-type-wrapper","skeleton"],["shape","circle","size","2.8rem",1,"employee-avatar-wrapper"],[1,"journal-event-header"],[1,"basic-information"],["height","1rem","width","10rem"],["height",".8rem","width","7rem"],["height","6rem",1,"journal-event-body"],[1,"event-type-wrapper"],[1,"material-icons-round"],[1,"employee-name"],[1,"creation-time"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick",4,"ngIf"],["icon","more_vert",3,"disabled","onClick",4,"ngIf"],["appendTo","body"],["ownCommentMenu",""],["pTemplate","content"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick"],["icon","more_vert",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick",4,"ngIf"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.NdJ("load",function(){return o.loadComments()})("loadingChange",function(g){return o.loading=g}),e.YNc(1,ZR,2,1,"ng-container",1),e.YNc(2,HR,2,1,"ng-container",2),e.qZA(),e.YNc(3,VR,3,3,"ng-template",null,3,e.W1O),e.YNc(5,YR,12,8,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("loading",o.loading),e.xp6(1),e.Q6J("ngForOf",o.displayedEntries)("ngForTrackBy",o.trackByEntry),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[D.mk,D.sg,D.O5,D.tP,N.jx,yo.O,XT.lF,Md.T,ob.qH,cR.D,y.A,w.r,uR.r,dR,fR,mR.J,rb.t,_R],styles:['.journal[_ngcontent-%COMP%]{display:flex;flex-direction:column}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]{display:grid;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body"}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]   .journal-event-body[_ngcontent-%COMP%]:not(.event):not(.reply){padding-bottom:3rem}.journal[_ngcontent-%COMP%]   .journal-item.event[_ngcontent-%COMP%]{grid:min-content min-content/repeat(3,max-content) 1fr;grid-template-areas:"event-type employee-avatar event-header event-body" "event-stick event-footer event-footer event-footer"}.journal[_ngcontent-%COMP%]   .journal-item.reply[_ngcontent-%COMP%]{grid:repeat(3,min-content)/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body" "event-stick reply-comment reply-comment"}.event-type-wrapper[_ngcontent-%COMP%]{grid-area:event-type;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;color:#fff;border-radius:9999px;align-self:center}.event-type-wrapper[_ngcontent-%COMP%]:not(.skeleton){background-color:var(--gray-600)}.event-type-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.employee-avatar-wrapper[_ngcontent-%COMP%]{align-items:center;grid-area:employee-avatar;display:flex;padding:0 1rem 0 1.5rem}.journal-item[_ngcontent-%COMP%]:not(:last-child)   .vertical-line[_ngcontent-%COMP%]{grid-area:event-stick;background-color:var(--bgc-300);width:1px;justify-self:center}.journal-event-header[_ngcontent-%COMP%]{grid-area:event-header;display:flex;align-items:center;gap:1rem}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]{display:flex;align-self:center;flex-direction:column}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--tc-800);line-height:normal}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .creation-time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);line-height:normal}.journal-event-body[_ngcontent-%COMP%]{grid-area:event-body;padding-top:.5rem}.journal-event-body.event[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:1.2rem;display:flex;align-items:center}.reply-comment[_ngcontent-%COMP%]{grid-area:reply-comment;display:grid;opacity:.9;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"reply-marker employee-avatar event-header" "reply-marker . event-body"}.reply-comment[_ngcontent-%COMP%]   .reply-marker[_ngcontent-%COMP%]{grid-area:reply-marker;margin:0 0 2rem 2.8rem;background-color:var(--mc-300);width:3px;border-radius:3px}.reply-comment[_ngcontent-%COMP%]   .journal-event-header[_ngcontent-%COMP%], .reply-comment[_ngcontent-%COMP%]   .employee-avatar-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.event-footer[_ngcontent-%COMP%]{grid-area:event-footer;height:2rem}.attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;padding-top:.6rem}'],data:{animation:[u.U1]}}),n})();var KR=C(3460);const $R=["panel"],qR=["target"],XR=["list"],eN=function(n){return{selected:n}};function tN(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2),W=e.MAs(3);return null==W||W.hide(),e.KtG(E.onSelect.emit(g))})("mouseenter",function(){const g=e.CHM(t).index,E=e.oxw(2);return e.KtG(E.selectedEmployeeIndex=g)}),e._UZ(1,"app-employee-label",9),e.qZA()}if(2&n){const t=i.$implicit,o=i.index,r=e.oxw(2);e.Q6J("ngClass",e.VKq(2,eN,r.selectedEmployeeIndex===o)),e.xp6(1),e.Q6J("employee",t)}}function nN(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.navigate(r))}),e.YNc(2,tN,2,4,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("tabIndex",0),e.xp6(2),e.Q6J("ngForOf",t.employees)}}let iN=(()=>{class n{constructor(t){this.api=t,this.targetPosition={top:"0px",left:"0px"},this.employees=[],this.selectedEmployeeIndex=0,this.onSelect=new e.vpe,this.onReturnFocus=new e.vpe}setQuillEvent(t){var o;!x.cQ.isCorrectSequenceOfCharacters(t,"@",[" ","\n"])||(null===(o=this.panel)||void 0===o||o.hide(),this.api.getEmployees(void 0,!1,!1).subscribe(r=>{var g,E,W;this.employees=r;const{editor:it}=t,Kt=it.getSelection(),{top:Yt,left:Qt}=it.getBounds(null!==(g=null==Kt?void 0:Kt.index)&&void 0!==g?g:0),Bn=t.editor.root.getBoundingClientRect();this.targetPosition={left:Qt+Bn.x+window.scrollX+"px",top:Yt+Bn.y+window.scrollY+"px"},null===(E=this.panel)||void 0===E||E.show(new MouseEvent("click"),null===(W=this.target)||void 0===W?void 0:W.nativeElement),setTimeout(()=>{var jn,Ii;null===(Ii=null===(jn=this.list)||void 0===jn?void 0:jn.nativeElement)||void 0===Ii||Ii.focus()},100)}))}ngOnInit(){}navigate(t){var o,r;switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex++,this.selectedEmployeeIndex>=this.employees.length&&(this.selectedEmployeeIndex=0);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex--,this.selectedEmployeeIndex<0&&(this.selectedEmployeeIndex=this.employees.length-1);break;case"Enter":null===(o=this.panel)||void 0===o||o.hide(),this.onSelect.emit(this.employees[this.selectedEmployeeIndex]);break;default:null===(r=this.panel)||void 0===r||r.hide(),this.onReturnFocus.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-insert-panel"]],viewQuery:function(t,o){if(1&t&&(e.Gf($R,5),e.Gf(qR,5),e.Gf(XR,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.panel=r.first),e.iGM(r=e.CRH())&&(o.target=r.first),e.iGM(r=e.CRH())&&(o.list=r.first)}},outputs:{onSelect:"onSelect",onReturnFocus:"onReturnFocus"},decls:5,vars:3,consts:[[1,"overlay-target"],["target",""],["appCloseIfScroll","","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["panel",""],["pTemplate","content"],[1,"list-view",3,"tabIndex","keydown"],["list",""],["class","p5",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"p5",3,"ngClass","click","mouseenter"],[3,"employee"]],template:function(t,o){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"p-overlayPanel",2,3),e.YNc(4,nN,3,2,"ng-template",4),e.qZA()),2&t&&(e.Akn(o.targetPosition),e.xp6(2),e.Q6J("dismissable",!0))},dependencies:[D.mk,D.sg,N.jx,Md.T,Ec.x,KR.j],styles:[".overlay-target[_ngcontent-%COMP%]{width:1px;height:13px;position:absolute;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]{outline:0}.list-view[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]   *.selected[_ngcontent-%COMP%]{background-color:var(--gray-200)}"]}),n})();var oN=C(7805),sN=C(1787);function rN(n,i){1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"i",9),e.TgZ(3,"span"),e._uU(4," \u041d\u0435\u0442 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()()())}function aN(n,i){1&n&&e.GkF(0)}function lN(n,i){if(1&n&&(e.TgZ(0,"span",27)(1,"span",15),e._UZ(2,"i",28),e.TgZ(3,"span"),e._uU(4,"\u041e\u0442\u0447\u0435\u0442"),e.qZA()(),e.TgZ(5,"span",29),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.report)}}const cN=function(n){return{$implicit:n}};function uN(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,aN,1,0,"ng-container",13),e.TgZ(2,"span",14)(3,"span")(4,"span",15),e._UZ(5,"i",16),e.TgZ(6,"span"),e._uU(7,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b:"),e.qZA()(),e._UZ(8,"app-avatar-list",17),e.qZA(),e.TgZ(9,"span")(10,"span",15),e._UZ(11,"i",16),e.TgZ(12,"span"),e._uU(13,"\u041f\u0440\u0438\u043d\u044f\u043b\u0438:"),e.qZA()(),e._UZ(14,"app-avatar-list",17),e.qZA(),e.TgZ(15,"span")(16,"span",15),e._UZ(17,"i",16),e.TgZ(18,"span"),e._uU(19,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438:"),e.qZA()(),e._UZ(20,"app-avatar-list",17),e.qZA(),e.TgZ(21,"span")(22,"span",15),e._UZ(23,"i",18),e.TgZ(24,"span"),e._uU(25,"\u0421\u043e\u0437\u0434\u0430\u043b:"),e.qZA()(),e._UZ(26,"app-employee-label",19),e.qZA()(),e.TgZ(27,"span",20)(28,"span",21)(29,"span",15),e._UZ(30,"i",22),e.TgZ(31,"span"),e._uU(32,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA()(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"span",21)(37,"span",15),e._UZ(38,"i",23),e.TgZ(39,"span"),e._uU(40,"\u0417\u0430\u043a\u0440\u044b\u0442:"),e.qZA()(),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"date"),e.qZA()(),e.TgZ(44,"span",21)(45,"span",15),e._UZ(46,"i",24),e.TgZ(47,"span"),e._uU(48,"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),e.qZA()(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"elapsedTime"),e.qZA()()(),e.TgZ(52,"span",14)(53,"p-button",25),e.NdJ("onClick",function(){const g=e.CHM(t).$implicit,E=e.oxw(3);return e.KtG(E.chatService.open.emit(g.chat.chatId))}),e.qZA()(),e.YNc(54,lN,7,1,"span",26),e.qZA()}if(2&n){const t=i.$implicit;e.oxw(3);const o=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(22,cN,t.status)),e.xp6(7),e.Q6J("employees",t.employees),e.xp6(6),e.Q6J("employees",t.whoAccepted),e.xp6(6),e.Q6J("employees",t.whoClosed),e.xp6(6),e.Q6J("employee",t.creator)("size",2),e.xp6(8),e.Oqu(e.xi3(35,11,t.created,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.xi3(43,14,t.closed,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.gM2(51,17,t.leadTime,"","",!0)),e.xp6(4),e.Q6J("ngIf",t.report)}}function dN(n,i){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,uN,55,24,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workLogs)("ngForTrackBy",t.trackByWorkLog)}}function pN(n,i){1&n&&e.GkF(0)}function hN(n,i){if(1&n&&(e.ynx(0),e.YNc(1,pN,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function gN(n,i){if(1&n&&(e.YNc(0,rN,5,0,"div",4),e.YNc(1,dN,2,2,"div",5),e.YNc(2,hN,2,1,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading&&!t.workLogs.length),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.workLogs.length),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const fN=function(){return{color:"var(--warm-600)"}};function mN(n,i){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3," \u0412 \u0440\u0430\u0431\u043e\u0442\u0435 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,fN))}const _N=function(){return{color:"var(--green-400)"}};function CN(n,i){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",35),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,_N))}const vN=function(){return{color:"var(--red-400)"}};function bN(n,i){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&n&&e.Akn(e.DdM(2,vN))}function yN(n,i){1&n&&(e.ynx(0,31),e.YNc(1,mN,4,3,"span",32),e.YNc(2,CN,4,3,"span",32),e.YNc(3,bN,4,3,"span",32),e.BQk()),2&n&&(e.Q6J("ngSwitch",i.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","ACTIVE"),e.xp6(1),e.Q6J("ngSwitchCase","CLOSE"),e.xp6(1),e.Q6J("ngSwitchCase","FORCE_CLOSE"))}function xN(n,i){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-skeleton",38),e.TgZ(2,"span",14)(3,"span"),e._UZ(4,"p-skeleton",39),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"p-skeleton",39),e.qZA(),e.TgZ(7,"span"),e._UZ(8,"p-skeleton",39),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"p-skeleton",39),e.qZA()(),e.TgZ(11,"span",20)(12,"span",21),e._UZ(13,"p-skeleton",40),e.qZA(),e.TgZ(14,"span",21),e._UZ(15,"p-skeleton",40),e.qZA(),e.TgZ(16,"span",21),e._UZ(17,"p-skeleton",40),e.qZA()(),e.TgZ(18,"span",14),e._UZ(19,"p-skeleton",41)(20,"p-skeleton",42),e.qZA(),e._UZ(21,"p-skeleton",43),e.qZA())}function IN(n,i){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,xN,22,0,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.loadingPlaceholders)}}const TN=function(){return{maxWidth:"50vw",width:"fit-content",maxHeight:"60vh",minHeight:"10rem"}},AN=function(){return{"960px":"75vw","640px":"100vw"}},wN=function(){return{display:"grid"}};let EN=(()=>{class n{constructor(t,o,r){this.api=t,this.rt=o,this.chatService=r,this.dialogVisible=!1,this.workLogs=[],this.isLoading=!1,this.subscriptions=new x.xf,this.loadingPlaceholders=Array(3).fill(null)}ngOnInit(){this.rt.workLogCreated().subscribe(this.workLogCreate.bind(this)),this.rt.workLogUpdated().subscribe(this.workLogUpdate.bind(this)),this.rt.workLogDeleted().subscribe(this.workLogDelete.bind(this))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}workLogCreate(t){this.workLogs.unshift(t)}workLogUpdate(t){const o=this.workLogs.findIndex(r=>r.workLogId===t.workLogId);this.workLogs[o]=t}workLogDelete(t){const o=this.workLogs.findIndex(r=>r.workLogId===t.workLogId);this.workLogs.splice(o,1)}trackByWorkLog(t,o){return o.workLogId+o.status+o.whoAccepted.length+o.workReports.length}open(t){this.dialogVisible=!0,this.isLoading=!0,this.api.getWorkLogsByTaskId(t).subscribe({next:this.loadWorkLogs.bind(this),error:this.onErrorDuringLoad.bind(this)})}loadWorkLogs(t){this.isLoading=!1,this.workLogs=t}onErrorDuringLoad(){this.isLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U),e.Y36(xt.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-work-logs-dialog"]],decls:6,vars:12,consts:[["appendTo","body","header","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","contentStyle","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["statusCaption",""],["loadingPlaceholderEl",""],["class","flexed column hcenter vcenter p10",4,"ngIf"],["class","flexed gap5 column list-view",4,"ngIf"],[4,"ngIf"],[1,"flexed","column","hcenter","vcenter","p10"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-playlist_remove"],[1,"flexed","gap5","column","list-view"],["class","work-log-element",4,"ngFor","ngForOf","ngForTrackBy"],[1,"work-log-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","gap10"],[1,"flexed","gap3","hcenter","caption","size-small","wt-bold","f-color-500"],[1,"mdi-groups"],[3,"employees"],[1,"mdi-person"],[3,"employee","size"],[1,"flexed","gap10","caption","size-small"],[1,"flexed","column"],[1,"mdi-schedule_send"],[1,"mdi-cancel_schedule_send"],[1,"mdi-timelapse"],["icon","mdi-history","label","\u0427\u0430\u0442","styleClass","p-button-secondary p-button-outlined",3,"onClick"],["class","report",4,"ngIf"],[1,"report"],[1,"mdi-summarize"],[1,"report-text"],[4,"ngTemplateOutlet"],[3,"ngSwitch"],["class","caption size-small f-color-500 flexed hcenter gap3",3,"style",4,"ngSwitchCase"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-engineering"],[1,"mdi-verified"],[1,"mdi-close"],["class","work-log-element",4,"ngFor","ngForOf"],["height",".9rem","width","10rem"],["height","3.5rem","width","5rem"],["height","2rem","width","7rem"],["height","2.5rem","width","5rem"],["height","2.5rem","width","6rem"],["height","5rem","width","25rem"]],template:function(t,o){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(g){return o.dialogVisible=g}),e.YNc(1,gN,3,3,"ng-template",1),e.qZA(),e.YNc(2,yN,4,4,"ng-template",null,2,e.W1O),e.YNc(4,IN,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Akn(e.DdM(9,TN)),e.Q6J("visible",o.dialogVisible)("breakpoints",e.DdM(10,AN))("contentStyle",e.DdM(11,wN))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0))},dependencies:[D.sg,D.O5,D.tP,D.RF,D.n9,P.zx,N.jx,Va.V,yo.O,Ec.x,sN.k,rb.t,D.uU],styles:[".work-log-element[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/1fr;gap:.5rem;padding:1rem}.work-log-element[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.report[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{white-space:pre-line;font-size:.9rem;color:var(--tc-700)}"]}),n})();var MA=C(6759),SN=C(1403),kN=C(6501),DN=C(1318),MN=C(3435),ON=C(6083),PN=C(7728),LN=C(1886),U_=C(1560),ab=C(1179);const RN=function(){return[]};function NN(n,i){if(1&n&&(e._UZ(0,"p-dropdown",4),e.ALo(1,"async")),2&n){const t=i.$implicit,o=e.oxw();let r;e.Q6J("formControlName",t.name)("options",null!==(r=e.lcZ(1,3,o.templates$))&&void 0!==r?r:e.DdM(5,RN))("placeholder",t.name)}}const FN=function(){return{}};function BN(n,i){if(1&n&&(e._UZ(0,"p-dropdown",7),e.ALo(1,"async")),2&n){const t=i.$implicit,o=e.oxw().$implicit,r=e.oxw();let g;e.Q6J("formControlName",t)("options",r.fieldOfWireframe((null!==(g=e.lcZ(1,3,r.templateBinds$))&&void 0!==g?g:e.DdM(5,FN))[o.name]))("placeholder",t)}}function ZN(n,i){if(1&n&&(e.TgZ(0,"fieldset",5)(1,"legend"),e._uU(2),e.qZA(),e.YNc(3,BN,2,6,"p-dropdown",6),e.qZA()),2&n){const t=i.$implicit;e.Q6J("formGroupName",t.name),e.xp6(2),e.hij("\u0428\u0430\u0431\u043b\u043e\u043d: ",t.name,""),e.xp6(1),e.Q6J("ngForOf",t.fields)}}let UN=(()=>{class n{constructor(t){this.api=t,this.controls=[{name:"accident",fields:["description","address","login","phone","workReport"]},{name:"connection",fields:["address","login","phone","advertisingSource","fullName","password","takenFrom","techInfo","type"]},{name:"privateSectorRM",fields:["address","advertisingSource","name","phone","gardening"]},{name:"privateSectorVD",fields:["name","address","advertisingSource","phone","district"]}],this.selectionBindsMap={},this.templatesBindingsMap={},this.templates$=this.api.getWireframes(),this.templateLinkToBindsForm=new p.cw({accident:new p.NI(null),connection:new p.NI(null),privateSectorRM:new p.NI(null),privateSectorVD:new p.NI(null)}),this.bindingsForm=new p.cw({accident:new p.cw({description:new p.NI(""),address:new p.NI(""),login:new p.NI(""),phone:new p.NI(""),workReport:new p.NI(""),wireframe:new p.NI(null)}),connection:new p.cw({address:new p.NI(""),login:new p.NI(""),phone:new p.NI(""),advertisingSource:new p.NI(""),fullName:new p.NI(""),password:new p.NI(""),takenFrom:new p.NI(""),techInfo:new p.NI(""),type:new p.NI(""),wireframe:new p.NI(null)}),privateSectorRM:new p.cw({address:new p.NI(""),advertisingSource:new p.NI(""),name:new p.NI(""),phone:new p.NI(""),gardening:new p.NI(""),wireframe:new p.NI(null)}),privateSectorVD:new p.cw({name:new p.NI(""),address:new p.NI(""),advertisingSource:new p.NI(""),phone:new p.NI(""),district:new p.NI(""),wireframe:new p.NI(null)})}),this.templateBinds$=this.templateLinkToBindsForm.valueChanges.pipe((0,En.b)(o=>{const r={};Object.entries(o).forEach(g=>{r[g[0]]={},r[g[0]].wireframe=g[1]}),this.bindingsForm.patchValue(r)}),(0,ft.U)(o=>Object.assign({},o))),this.onChange=o=>{},this.onTouched=()=>{}}get setOfFieldsForSelectingTemplates(){return Object.keys(this.controls)}bindEntries(t){return Object.keys(this.controls[t])}fieldOfWireframe(t){return t?t.steps.reduce((o,r)=>o.concat(r.fields),[]):[]}bindMapTrack(t,o){return o.key}ngOnInit(){this.bindingsForm.valueChanges.subscribe(t=>{this.onChange(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){t&&this.bindingsForm.patchValue(t)}changeTemplateSelection(t,o){this.selectionBindsMap[t]={binds:this.bindEntries(t),wireframe:o.value}}ngOnDestroy(){var t;null===(t=this.formSubscribtion)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tracker-bindings-input"]],features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:4,consts:[[1,"flexed","column","gap5",3,"formGroup"],[1,"node","flexed","gap5","column"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["class","node flexed gap5 column",3,"formGroupName",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder"],[1,"node","flexed","gap5","column",3,"formGroupName"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend"),e._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e\u0434 \u0442\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,NN,2,6,"p-dropdown",2),e.qZA()(),e.TgZ(5,"div",0),e.ynx(6),e.YNc(7,ZN,4,3,"fieldset",3),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",o.templateLinkToBindsForm),e.xp6(4),e.Q6J("ngForOf",o.controls),e.xp6(1),e.Q6J("formGroup",o.bindingsForm),e.xp6(2),e.Q6J("ngForOf",o.controls))},dependencies:[D.sg,p.JJ,p.JL,Be.Lt,p.sg,p.u,p.x0,D.Ov]}),n})();var OA=C(6252);function HN(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.hours," ",t.hourSuffix,"")}}function VN(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.minutes," ",t.minuteSuffix,"")}}function zN(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.seconds," ",t.secondSuffix,"")}}function JN(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.ms," \u043c\u0441.")}}function QN(n,i){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,HN,2,2,"span",4),e.YNc(2,VN,2,2,"span",4),e.YNc(3,zN,2,2,"span",4),e.YNc(4,JN,2,1,"span",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.hours),e.xp6(1),e.Q6J("ngIf",t.minutes),e.xp6(1),e.Q6J("ngIf",t.seconds&&!t.minutes&&!t.hours),e.xp6(1),e.Q6J("ngIf",!t.seconds&&!t.minutes&&!t.hours)}}function GN(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}class Kh{constructor(){this.short=!0,this.hours=0,this.hourSuffix="",this.minutes=0,this.minuteSuffix="",this.seconds=0,this.secondSuffix=""}ngOnInit(){}msChange(i){this.hours=Math.floor(i/36e5),this.hourSuffix=this.short?"\u0447.":x.cQ.declineOfNumber(this.hours,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),this.minutes=Math.floor((i-36e5*this.hours)/6e4),this.minuteSuffix=this.short?"\u043c.":x.cQ.declineOfNumber(this.minutes,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),this.seconds=Math.floor((i-36e5*this.hours-6e4*this.minutes)/1e3),this.secondSuffix=this.short?"\u0441.":x.cQ.declineOfNumber(this.seconds,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}}Kh.\u0275fac=function(i){return new(i||Kh)},Kh.\u0275cmp=e.Xpm({type:Kh,selectors:[["app-duration"]],inputs:{ms:"ms",short:"short"},decls:4,vars:2,consts:[[1,"text-bluegray-500","white-space-nowrap"],["class","flex gap-2",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"flex","gap-2"],[4,"ngIf"]],template:function(i,t){if(1&i&&(e.TgZ(0,"span",0),e.YNc(1,QN,5,4,"span",1),e.qZA(),e.YNc(2,GN,2,0,"ng-template",null,2,e.W1O)),2&i){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.ms)("ngIfElse",o)}},dependencies:[D.O5]}),(0,To.gn)([(0,ja.GU)("ms")],Kh.prototype,"msChange",null);let PA=(()=>{class n{constructor(){this.appPreventInput=!1}onKeyDown(t){this.appPreventInput&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appPreventInput",""]],hostBindings:function(t,o){1&t&&e.NdJ("keydown",function(g){return o.onKeyDown(g)})},inputs:{appPreventInput:"appPreventInput"}}),n})();var Yx=C(1921),LA=C(6847),RA=C(9138);let WN=(()=>{class n{constructor(t){this.element=t,this.subscriptions=new x.xf,this.onScrollDown=new e.vpe}ngOnInit(){const o=this.element.el.nativeElement.children.item(0);if(o){const r=o.children.item(0);r&&(this.scroll$=(0,b.R)(r,"scroll").pipe((0,ft.U)(g=>g.target),(0,Ri.O)(r),(0,No.b)(200),(0,s.h)(g=>g.scrollHeight-(g.scrollTop+g.offsetHeight)<10)),this.subscriptions.addSubscription("scroll",this.scroll$.subscribe(()=>this.onScrollDown.emit())))}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Qh.Ri))},n.\u0275dir=e.lG2({type:n,selectors:[["p-listbox","appListElementLazyScroll",""]],outputs:{onScrollDown:"onScrollDown"}}),n})();var NA=C(6081),FA=C(8322);function YN(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Ping"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"\u0421\u0435\u0441\u0441\u0438\u0438"),e.qZA()())}function jN(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",11)(2,"span"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngClass",t.styleClass),e.xp6(2),e.hij(" ",999===t.latency?"- ":e.xi3(4,3,t.latency,"1.2-2"),"\u043c\u0441 "),e.xp6(3),e.hij(" ",e.xi3(7,6,t.loss,"1.2-2"),"% ")}}function KN(n,i){1&n&&e.GkF(0)}const $N=function(){return{width:"85px"}};function qN(n,i){if(1&n&&(e.ynx(0),e.YNc(1,KN,1,0,"ng-container",12),e.BQk()),2&n){e.oxw(3);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(2,$N))}}function XN(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,jN,8,9,"ng-container",8),e.ALo(11,"async"),e.YNc(12,qN,2,3,"ng-container",8),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"td")(15,"span",9)(16,"span",10),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.openCommutatorWeb(g.ip))}),e._uU(17," Web "),e.qZA(),e.TgZ(18,"span",10),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.openTelnetTerminal(g.name,g.ip))}),e._uU(19," Telnet "),e.qZA()()(),e.TgZ(20,"td")(21,"span",10),e.NdJ("click",function(){const g=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.openCommutatorView(g))}),e._uU(22," \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),e.qZA()()()}if(2&n){const t=i.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.model),e.xp6(2),e.Oqu(t.ip),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,6,o.commutatorsPings[t.ip])),e.xp6(2),e.Q6J("ngIf",!e.lcZ(13,8,o.commutatorsPings[t.ip]))}}const eF=function(n){return{"overflow-hidden border-round border-1 border-bluegray-100":n}};function tF(n,i){if(1&n&&(e.TgZ(0,"div",4)(1,"p-table",5),e.YNc(2,YN,15,0,"ng-template",6),e.YNc(3,XN,23,10,"ng-template",7),e.qZA()()),2&n){const t=i.ngIf,o=e.oxw();e.Q6J("ngClass",e.VKq(2,eF,!o.inline)),e.xp6(1),e.Q6J("value",t)}}function nF(n,i){1&n&&e._UZ(0,"p-skeleton",13),2&n&&e.Q6J("width",i.width)}function iF(n,i){if(1&n&&e._UZ(0,"app-commutator-view",14),2&n){const t=e.oxw();e.Q6J("commutator",t.commutatorForView)}}let Zd=class{constructor(i,t,o){this.api=i,this.rt=t,this.telnetService=o,this.LoadingState=Ce.Gu,this.inline=!1,this.buildId$=new Nd.t(1),this.commutatorLoadingState=Ce.Gu.LOADING,this.commutatorsPings={},this.commutatorsInitiators$=(0,Ar.T)(this.rt.acpCommutatorCreated(),this.rt.acpCommutatorUpdated(),this.rt.acpCommutatorDeleted()).pipe((0,s.h)(r=>r.buildId===this.buildId),(0,Ri.O)(null)),this.commutatorsLoader$=this.buildId$.pipe((0,s.h)(r=>!!r),(0,En.b)(()=>this.commutatorLoadingState=Ce.Gu.LOADING),(0,F.w)(r=>this.api.getCommutatorsByBuildingId(r)),(0,En.b)({next:r=>{this.commutatorLoadingState=Ce.Gu.READY,this.commutatorsPings={};for(const{ip:g}of r)this.commutatorsPings[g]=this.ping(g)},error:()=>this.commutatorLoadingState=Ce.Gu.ERROR})),this.commutators$=this.commutatorsInitiators$.pipe((0,F.w)(()=>this.commutatorsLoader$)),this.commutatorViewVisible=!1,this.commutatorViewHeader="",this.updateCommutatorSub=this.rt.acpCommutatorUpdated().subscribe(r=>{var g;(null===(g=this.commutatorForView)||void 0===g?void 0:g.id)===r.id&&(this.commutatorForView=r)})}ngOnInit(){}openCommutatorWeb(i){window.open(`http://${i}`,"_blank")}openTelnetTerminal(i,t){this.telnetService.connect(i,t)}openCommutatorView(i){this.commutatorViewHeader=i.name+"\u30fb"+i.ip,this.api.getCommutator(i.id).subscribe(t=>{this.commutatorForView=t.commutator,this.commutatorViewVisible=!0})}ping(i){return this.rt.pingMonitoring(i).pipe((0,ft.U)(t=>{const o=100-t.reachablePercentage;return{online:t.isReachable,latency:t.delayAvg,loss:o,styleClass:o>0?"text-red-400":"text-green-400"}}))}};Zd.\u0275fac=function(i){return new(i||Zd)(e.Y36(O.s),e.Y36(me.U),e.Y36(WT.M))},Zd.\u0275cmp=e.Xpm({type:Zd,selectors:[["app-commutators-table"]],inputs:{buildId:"buildId",inline:"inline"},decls:6,vars:9,consts:[["class","flex flex-grow-1",3,"ngClass",4,"ngIf"],["loadingCellTemplate",""],["appendTo","body","contentStyle","",3,"visible","modal","draggable","dismissableMask","header","visibleChange"],[3,"commutator",4,"ngIf"],[1,"flex","flex-grow-1",3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1",1,"flex-grow-1",3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[1,"text-primary","font-bold","hover:text-primary-700","cursor-pointer",3,"click"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"width"],[3,"commutator"]],template:function(i,t){1&i&&(e.YNc(0,tF,4,4,"div",0),e.ALo(1,"async"),e.YNc(2,nF,1,1,"ng-template",null,1,e.W1O),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(r){return t.commutatorViewVisible=r}),e.YNc(5,iF,1,1,"app-commutator-view",3),e.qZA()),2&i&&(e.Q6J("ngIf",e.lcZ(1,7,t.commutators$)),e.xp6(4),e.Q6J("visible",t.commutatorViewVisible)("modal",!0)("draggable",!0)("dismissableMask",!0)("header",t.commutatorViewHeader),e.xp6(1),e.Q6J("ngIf",t.commutatorForView))},dependencies:[D.mk,D.O5,D.tP,N.jx,Va.V,yo.O,Zs.iA,FA.S,D.Ov,D.JJ],styles:["[_nghost-%COMP%]{display:flex}"]}),(0,To.gn)([(0,ja.bQ)("buildId")],Zd.prototype,"buildId$",void 0),Zd=(0,To.gn)([(0,ja.kG)()],Zd);let oF=(()=>{class n{transform(t,o,r,g){return x.cQ.declineOfNumber(t,[o,r,g])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"decline",type:n,pure:!0}),n})();var BA=C(2062);function sF(n,i){1&n&&e._UZ(0,"app-employee-label",10),2&n&&e.Q6J("employee",i.$implicit)}function rF(n,i){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=i.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function aF(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.receiveCheck())}),e.qZA()}}function lF(n,i){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=i.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function cF(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.archiveCheck())}),e.qZA()}}function uF(n,i){if(1&n&&(e.TgZ(0,"div",1),e._UZ(1,"app-task-list-element",2),e.TgZ(2,"div",3)(3,"div",4)(4,"span",5),e._uU(5,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430:"),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",4)(10,"span",5),e._uU(11,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438:"),e.qZA(),e.YNc(12,sF,1,1,"app-employee-label",7),e.qZA(),e.TgZ(13,"div",4)(14,"span",5),e._uU(15,"\u041f\u0440\u0438\u0435\u043c\u043a\u0430:"),e.qZA(),e.YNc(16,rF,6,5,"div",8),e.YNc(17,aF,1,0,"p-button",9),e.ALo(18,"async"),e.qZA(),e.TgZ(19,"div",4)(20,"span",5),e._uU(21,"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f:"),e.qZA(),e.YNc(22,lF,6,5,"div",8),e.YNc(23,cF,1,0,"p-button",9),e.ALo(24,"async"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("item",t.workLog.task)("inlined",!0),e.xp6(6),e.Oqu(e.xi3(8,8,t.workLog.closed,"dd-MM-yyyy HH:mm")),e.xp6(5),e.Q6J("ngForOf",t.workLog.employees),e.xp6(4),e.Q6J("ngForOf",t.receiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,t.receiveHasChanged$)),e.xp6(5),e.Q6J("ngForOf",t.archiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(24,13,t.archiveHasChanged$))}}let dF=(()=>{class n{constructor(t,o,r){this.api=t,this.blockService=o,this.personality=r,this.receiveContracts=new p.Oe([]),this.initialReceiveValues=[],this.archiveContracts=new p.Oe([]),this.initialArchiveValues=[],this.receiveHasChanged$=this.receiveContracts.valueChanges.pipe((0,ft.U)(g=>this.hasChangeForm(g,this.initialReceiveValues))),this.archiveHasChanged$=this.archiveContracts.valueChanges.pipe((0,ft.U)(g=>this.hasChangeForm(g,this.initialArchiveValues)))}ngOnInit(){}ngOnChanges(t){const o=t.workLog;this.receiveContracts.clear(),this.archiveContracts.clear(),o&&o.currentValue&&this.personality.userLogin$.pipe((0,Zh.P)()).subscribe(r=>{const{concludedContracts:g}=o.currentValue;this.setupControls(g,r)})}receiveCheck(){this.blockService.wait({message:"\u041f\u0440\u0438\u0435\u043c\u043a\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsReceived(this.receiveContracts.value.filter(t=>this.hasChange(t,this.initialReceiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}archiveCheck(){this.blockService.wait({message:"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsArchived(this.archiveContracts.value.filter(t=>this.hasChange(t,this.initialArchiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}hasChangeForm(t,o){return t.reduce((r,g)=>r||this.hasChange(g,o),!1)}hasChange(t,o){var r;return t.checked!==(null===(r=o.find(g=>g.id===t.id))||void 0===r?void 0:r.checked)}setupControls(t,o){this.receiveContracts.clear(),this.archiveContracts.clear();for(let r of t)this.appendReceiveControls(r,o),this.appendArchiveControls(r,o);this.initialReceiveValues=this.receiveContracts.value,this.initialArchiveValues=this.archiveContracts.value}appendReceiveControls(t,o){const r=new p.cw({name:new p.NI(t.typeOfContract.name),id:new p.NI(t.contractId),checked:new p.NI(!!t.received),count:new p.NI(t.count)});(!!t.received||this.loginIsNotInTheList(o,t.typeOfContract.receivers))&&r.disable(),this.receiveContracts.push(r)}appendArchiveControls(t,o){const r=new p.cw({name:new p.NI(t.typeOfContract.name),id:new p.NI(t.contractId),checked:new p.NI(!!t.archived),count:new p.NI(t.count)});(!t.received||!!t.archived||this.loginIsNotInTheList(o,t.typeOfContract.archivers))&&r.disable(),this.archiveContracts.push(r)}loginIsNotInTheList(t,o){return!o.map(r=>r.login).includes(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(Vh.A),e.Y36(Q.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-inspection-item"]],inputs:{workLog:"workLog"},features:[e.TTD],decls:1,vars:1,consts:[["class","bg-white flex flex-column pb-2 border-1 border-bluegray-100",4,"ngIf"],[1,"bg-white","flex","flex-column","pb-2","border-1","border-bluegray-100"],[3,"item","inlined"],[1,"flex","flex-column","gap-2","mx-3","mt-3"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500"],[3,"employee",4,"ngFor","ngForOf"],["class","p-2 border-round border-1 border-bluegray-100",3,"formGroup",4,"ngFor","ngForOf"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick",4,"ngIf"],[3,"employee"],[1,"p-2","border-round","border-1","border-bluegray-100",3,"formGroup"],[1,"text-primary"],[3,"binary","formControl"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick"]],template:function(t,o){1&t&&e.YNc(0,uF,25,15,"div",0),2&t&&e.Q6J("ngIf",o.workLog)},dependencies:[D.sg,D.O5,P.zx,p.JJ,p.JL,N_.XZ,p.oH,p.sg,Qu.E,Ec.x,D.Ov,D.uU]}),n})();function pF(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"span",2),e._uU(2),e.qZA(),e._UZ(3,"div",3),e.TgZ(4,"p-button",4),e.NdJ("onClick",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onEdit.emit({event:r,typeContract:g.typeContract}))}),e.qZA(),e.TgZ(5,"p-button",5),e.NdJ("onClick",function(r){e.CHM(t);const g=e.oxw();return e.KtG(g.onDelete.emit({event:r,typeContract:g.typeContract}))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.typeContract.name," ")}}let hF=(()=>{class n{constructor(){this.onEdit=new e.vpe,this.onDelete=new e.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-item"]],inputs:{typeContract:"typeContract"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:1,vars:1,consts:[["class","flex align-items-center gap-2 p-3",4,"ngIf"],[1,"flex","align-items-center","gap-2","p-3"],[1,"text-bluegray-500","font-bold"],[1,"flex-grow-1"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-warning",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-danger",3,"onClick"]],template:function(t,o){1&t&&e.YNc(0,pF,6,1,"div",0),2&t&&e.Q6J("ngIf",o.typeContract)},dependencies:[D.O5,P.zx]}),n})();function gF(n,i){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=i.$implicit;e.Q6J("size",1.4)("employee",t)}}function fF(n,i){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=i.$implicit;e.Q6J("size",1.4)("employee",t)}}let mF=(()=>{class n{constructor(t,o){this.api=t,this.rt=o,this._options={},this.employees=[],this.employeesSuggestions=[],this.control=new p.NI([]),this.isDisabled=!1,this.subscriptions=new x.xf,this.onChange=r=>{},this.onTouched=()=>{}}set options(t){this._options=t,this.initEmployeeLoader()}ngOnInit(){this.subscriptions.addSubscription("chg",this.control.valueChanges.subscribe(t=>this.onChange(t||[]))),this.initEmployeeLoader()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){Array.isArray(t)?this.control.setValue(t||[]):this.control.setValue([])}search(t){this.employeesSuggestions=this.employees.filter(o=>{var r;return null===(r=o.fullName)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase())})}initEmployeeLoader(){const t=(0,Ar.T)(this.rt.employeeCreated(),this.rt.employeeUpdated(),this.rt.employeeDeleted()).pipe((0,Ri.O)(null),(0,F.w)(()=>this.api.getEmployees(void 0,this._options.showDeleted,this._options.showOffsite)));this.subscriptions.addSubscription("employees",t.subscribe(o=>this.employees=o))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.s),e.Y36(me.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-multiply-selector"]],inputs:{options:"options"},features:[e._Bn([{provide:p.JU,useExisting:n,multi:!0}])],decls:3,vars:6,consts:[["appendTo","body","dataKey","login","emptyMessage","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430...",3,"autoHighlight","forceSelection","formControl","multiple","showEmptyMessage","suggestions","completeMethod"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"size","employee"]],template:function(t,o){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(g){return o.search(g.query)}),e.YNc(1,gF,1,2,"ng-template",1),e.YNc(2,fF,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("autoHighlight",!0)("forceSelection",!0)("formControl",o.control)("multiple",!0)("showEmptyMessage",!0)("suggestions",o.employeesSuggestions)},dependencies:[p.JJ,N.jx,p.oH,U.Qc,Ec.x]}),n})();function _F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"img",9),e.NdJ("load",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.thumbnailLoad=!0)}),e.qZA()}if(2&n){const t=e.oxw(2).ngIf,o=e.oxw();e.Q6J("src","/api/private/file-thumbnail/"+t,e.LSH)("height",32)("hidden",!o.thumbnailLoad)}}function CF(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"img",9),e.NdJ("load",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.thumbnailLoad=!0)}),e.qZA()}if(2&n){const t=e.oxw(2).ngIf,o=e.oxw();e.Q6J("src","/api/private/file-thumbnail/"+t,e.LSH)("height",32)("hidden",!o.thumbnailLoad)}}function vF(n,i){1&n&&e._UZ(0,"span",12)}function bF(n,i){1&n&&e._UZ(0,"span",13)}function yF(n,i){if(1&n&&(e.ynx(0),e.YNc(1,vF,1,0,"span",10),e.YNc(2,bF,1,0,"span",11),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitchCase",t.AttachmentType.PHOTO),e.xp6(1),e.Q6J("ngSwitchCase",t.AttachmentType.VIDEO)}}function xF(n,i){1&n&&e._UZ(0,"span",14)}function IF(n,i){1&n&&e._UZ(0,"span",15)}function TF(n,i){1&n&&e._UZ(0,"span",16)}function AF(n,i){if(1&n&&(e.ynx(0,3),e.YNc(1,_F,1,3,"img",4),e.YNc(2,CF,1,3,"img",4),e.YNc(3,yF,3,2,"ng-container",5),e.YNc(4,xF,1,0,"span",6),e.YNc(5,IF,1,0,"span",7),e.YNc(6,TF,1,0,"span",8),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase",o.AttachmentType.PHOTO),e.xp6(1),e.Q6J("ngSwitchCase",o.AttachmentType.VIDEO),e.xp6(1),e.Q6J("ngIf",!o.thumbnailLoad),e.xp6(1),e.Q6J("ngSwitchCase",o.AttachmentType.DOCUMENT),e.xp6(1),e.Q6J("ngSwitchCase",o.AttachmentType.AUDIO),e.xp6(1),e.Q6J("ngSwitchCase",o.AttachmentType.FILE)}}function wF(n,i){if(1&n&&(e.ynx(0),e.YNc(1,AF,7,7,"ng-container",2),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.fileType$))}}function EF(n,i){1&n&&e._UZ(0,"p-skeleton",17)}class kf{constructor(){this.AttachmentType=Ce.sf,this.dataChange$=new Nd.t(1),this.fileId$=this.dataChange$.pipe((0,En.b)(()=>this.thumbnailLoad=!1),(0,ft.U)(i=>i.id)),this.fileType$=this.dataChange$.pipe((0,ft.U)(i=>i.type)),this.thumbnailLoad=!1}ngOnInit(){}}kf.\u0275fac=function(i){return new(i||kf)},kf.\u0275cmp=e.Xpm({type:kf,selectors:[["app-thumbnail-preview"]],inputs:{data:"data"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"src","height","hidden","load",4,"ngSwitchCase"],[4,"ngIf"],["class","mds-description text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-music_note text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-draft text-4xl text-bluegray-300",4,"ngSwitchCase"],[3,"src","height","hidden","load"],["class","mds-image text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-movie text-4xl text-bluegray-300",4,"ngSwitchCase"],[1,"mds-image","text-4xl","text-bluegray-300"],[1,"mds-movie","text-4xl","text-bluegray-300"],[1,"mds-description","text-4xl","text-bluegray-300"],[1,"mds-music_note","text-4xl","text-bluegray-300"],[1,"mds-draft","text-4xl","text-bluegray-300"],["width","32px","height","32px"]],template:function(i,t){if(1&i&&(e.YNc(0,wF,3,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,EF,1,0,"ng-template",null,1,e.W1O)),2&i){const o=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,t.fileId$))("ngIfElse",o)}},dependencies:[D.O5,D.RF,D.n9,yo.O,D.Ov]}),(0,To.gn)([(0,ja.bQ)("data")],kf.prototype,"dataChange$",void 0);var SF=C(4383),kF=C(2553),DF=C(9850);const MF={apikey:"008574e5-f34b-4270-b3d5-91aaabd036e8",lang:"ru_RU"};let OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N.ez,{provide:e.soG,useValue:"ru"},N.YP],imports:[lO.U,HM,XT.JP.forRoot({sanitize:e.q3G.NONE}),Jh.Iu,p.u5,uu.LU,Va.S,p.UX,Be.kW,EO,Xe,N_.nD,ct.A,SO.D,RO,YO,u_._8,XO,mA,lP,MP,au.$9,or.j,OP.z,PP.q4,Md.y,tA.f,ot.L,yo.m,KP,oA.e4,$P.Cl,Rd.U,sA.n,Qh.ON,rA.W6,gA,ob.g6,ob.qH,C4,Fh.vI,mA,_A.q,B_.Qy,F6.E,Bx.w,ff.xc,we.T,hL,Tf._t,Zs.U$,ST.JH,gL.ce,fL.l,wL,bA.zz,PL.forRoot(MF),U.WN,sb.kK,LL.x,RT.u,zL,wA.S,JL.qZ]}),n})();e.B6R(aO,function(){return[Qu.E,V,Z_.C,QL.p,GL.E,EA.t,SA.i,Wx.L,Sf.x,Ur.M,p.Fj,p.JJ,p.JL,N.jx,D.sg,Va.V,p.oH,p.sg,p.u,D.O5,P.zx,D.RF,D.n9,qO,or.o,ot.G,Rd.D,Qh.Ri]},function(){return[D.Ov]}),e.B6R(Ht,function(){return[w.r,Ur.M,d.rH,Jh.Ql,p.Fj,p.JJ,p.JL,uu.xf,uu.x4,N.jx,D.sg,Va.V,p.oH,p.sg,p.u,_e,D.O5,ct.g,P.zx,D.tP,or.o,D.mk,oA.zH,cu.Rn,Zs.iA]},function(){return[D.Ov,D.uU]}),e.B6R(So,function(){return[y.A,w.r,WL.h,k.o,YL.g,V,H,Ur.M,p.Fj,p.JJ,p.JL,p.On,N.jx,D.sg,Va.V,p.sg,p.u,Be.Lt,eA,D.O5,ct.g,P.zx,D.tP,D.RF,D.n9,D.ED,jh.u,DP,au.v2,or.o,D.mk,Qh.Ri,Tf._l,Tf.bK]},function(){return[D.Ov]}),e.B6R(hr,function(){return[y.A,w.r,jL.Y,aR,Qu.E,kA,V,lR,jR,kT.g,c_.U,Ec.x,iN,oN.y,vv.h,EN,MA.C,SN.a,kN.g,DN.s,MN.M,ON.j,Ur.M,p.Fj,p.JJ,p.JL,p.On,uu.xf,uu.x4,N.jx,D.sg,Va.V,p.oH,p.sg,p.u,Be.Lt,_e,N_.XZ,D.O5,P.zx,D.RF,D.n9,jh.u,au.v2,or.o,Md.T,D.mk,ot.G,iA,sA.P,rA.nm,ob.g6,sb.Fr]},function(){return[D.Ov,D.uU,PN.A,D.rS]}),e.B6R(lr,function(){return[y.A,w.r,LN.k,kA,V,U_._,Ur.M,Jh.Ql,p._Y,p.Fj,p.JJ,p.JL,p.On,D.PC,uu.xf,uu.x4,N.jx,D.sg,Va.V,p.oH,p.sg,p.u,p.x0,Be.Lt,eA,_e,N_.XZ,D.O5,ct.g,P.zx,D.tP,or.o]},[]),e.B6R(Lc,function(){return[V,ab.r,P.Hq]},[]),e.B6R(A6,function(){return[Qu.E,V,Z_.C,EA.t,Sf.x,Ur.M,p.Fj,p.JJ,p.JL,N.jx,D.sg,p.oH,p.sg,p.u,D.O5,P.Hq,D.tP,D.RF,D.n9,or.o,ot.G,Rd.D,Qh.Ri,we.H]},function(){return[D.Ov]}),e.B6R(w4,function(){return[V,UN,ab.r,Ur.M,p.Fj,p.JJ,p.JL,p.On,N.jx,p.sg,p.u,D.O5,P.zx,N6,or.o,cu.Rn,_A.k]},function(){return[rb.t]}),e.B6R(s1,function(){return[V,Ec.x,Ur.M,p.Fj,p.JJ,p.JL,N.jx,D.sg,Va.V,p.sg,p.u,Be.Lt,_e,D.O5,ct.g,P.zx,D.RF,D.n9,or.o,ot.G,Rd.D,cu.Rn]},function(){return[D.uU,OA.l,D.H9]}),e.B6R(I1,function(){return[V,Sf.x,Ur.M,p.Fj,p.JJ,p.JL,N.jx,D.sg,Va.V,p.sg,p.u,D.O5,ct.g,P.zx,D.tP,D.RF,D.n9,au.v2,or.o,tA.G,ot.G,cu.Rn,Fh.xV,Bx.a,ff.mp,we.H]},function(){return[OA.l]}),e.B6R(M1,function(){return[c_.U,Ec.x,ET.x,DT,MA.C,U_._,Kh,Jh.Ql,p.Fj,p.JJ,p.JL,p.On,N.jx,D.sg,Va.V,p.oH,p.sg,p.u,D.O5,ct.g,P.zx,D.tP,jh.u,D.mk,cu.Rn,Zs.iA]},function(){return[D.Ov,D.uU,D.rS]}),e.B6R(hx,function(){return[Z_.C,PA,Ur.M,d.rH,p.Fj,p.JJ,p.JL,N.jx,p.sg,p.u,_e,D.O5,P.Hq,P.zx,or.o,B_.UN,we.H,Zs.iA]},[]),e.B6R(Zp,function(){return[Qu.E,Yx.Z,Z_.C,LA.j,Sf.x,RA.N,WN,U_._,NA.G,Zd,Ur.M,p._Y,p.Fj,p.JJ,p.JL,p.On,uu.xf,uu.x4,N.jx,D.sg,Va.V,p.oH,p.sg,p.u,Be.Lt,_e,D.O5,ct.g,P.Hq,P.zx,D.tP,D.RF,D.n9,jh.u,au.v2,or.o,Md.T,D.mk,ot.G,Rd.D,cu.Rn,Qh.Ri,B_.UN,Zs.iA,sb.Fr]},function(){return[D.Ov,D.uU,rb.t,oF,D.Nd,D.rS,D.H9]}),e.B6R(wT,function(){return[V,PA,RA.N,Ur.M,Jh.Ql,p.Fj,p.JJ,p.JL,D.sg,Va.V,p.oH,p.sg,p.u,Be.Lt,N_.XZ,D.O5,P.zx,D.tP,D.RF,D.n9,or.o,D.mk,ot.G,cu.Rn,we.H,vA,bA.vy,AA,OL]},function(){return[D.Ov]}),e.B6R(MT,function(){return[V,Yx.Z,Ur.M,p.Fj,p.JJ,p.JL,p.sg,p.u,D.O5,P.zx,or.o,yo.O,cu.Rn]},[]),e.B6R(OT,function(){return[V,Ur.M,p.Fj,p.JJ,p.JL,p.sg,p.u,D.O5,P.zx,or.o,yo.O]},[]),e.B6R(PT,function(){return[V,Ur.M,p.Fj,p.JJ,p.JL,p.sg,p.u,D.O5,P.zx,or.o,yo.O]},[]),e.B6R(JT,function(){return[BA.F,SA.i,Wx.L,LT,U_._,ab.r,Ur.M,d.lC,d.rH,p.Fj,p.JJ,p.JL,D.sg,p.oH,p.sg,p.u,p.CE,Be.Lt,D.O5,P.zx,D.tP,D.RF,D.n9,or.o,Md.T,D.mk,VL]},function(){return[D.Ov]}),e.B6R(Fd,function(){return[dF,Ur.M,p.Fj,p.JJ,p.JL,D.sg,p.sg,p.u,D.O5,P.Hq,D.RF,D.n9,or.o,ot.G,Rd.D]},function(){return[D.Ov]}),e.B6R(GT,function(){return[U_._,hF,mF,Ur.M,p.Fj,p.JJ,p.JL,D.sg,Va.V,p.sg,p.u,D.O5,ct.g,P.zx,D.tP,or.o]},function(){return[D.Ov]}),e.B6R(Gh,function(){return[Ec.x,Wx.L,Kh,p.JJ,p.On,N.jx,D.O5,P.Hq,D.tP,Zs.iA,wA.C]},function(){return[D.Ov,D.H9]}),e.B6R(Wh,function(){return[Ur.M,d.rH,D.sg,D.O5,or.o,D.mk,yo.O]},function(){return[D.Ov]}),e.B6R(Bd,function(){return[Sf.x,NA.G,Zd,kf,d.rH,N.jx,D.sg,D.O5,D.tP,D.RF,D.n9,yo.O,Zs.iA]},function(){return[D.Ov]}),e.B6R(jT,function(){return[Z_.C,LA.j,Sf.x,SF.O,Ur.M,d.rH,p.Fj,p.JJ,p.JL,N.jx,Va.V,p.sg,p.u,D.O5,P.Hq,P.zx,D.tP,au.v2,or.o,yo.O,Zs.iA,Zs.lQ,Zs.fz,Zs.xl]},[]),e.B6R(YT,function(){return[Yx.Z,FA.S,ab.r,Ur.M,Jh.Ql,p.Fj,p.JJ,p.JL,N.jx,D.sg,Va.V,p.sg,p.u,D.O5,P.zx,D.RF,D.n9,jh.u,au.v2,or.o,D.mk,ot.G,cu.Rn,B_.UN,Zs.iA,Zs.lQ,Zs.fz,Zs.xl,U.Qc,sb.Fr]},function(){return[D.Ov]}),e.B6R(qT,function(){return[BA.F,kF.O,DF.p,Ur.M,d.rH,p.Fj,p.JJ,p.On,D.PC,N.jx,D.sg,p.oH,Be.Lt,D.O5,P.Hq,D.RF,D.n9,or.o,B_.UN,Zs.iA,Zs.lQ,Zs.fz,Zs.xl]},function(){return[D.Ov,D.uU]})},4495:(dn,pt,C)=>{"use strict";C.d(pt,{n:()=>te});var e=C(655),d=C(8505),u=C(5677),p=C(5e3),x=C(3470),R=C(9744),b=C(8007),s=C(9014),F=C(2248),O=C(6768);const Q=["chatPanelEl"];function N(ce,J){1&ce&&p._UZ(0,"app-main-menu-panel")}function T(ce,J){if(1&ce&&(p.TgZ(0,"div",21),p._uU(1),p.qZA()),2&ce){const ve=J.$implicit;p.xp6(1),p.hij(" ",ve.name," ")}}function y(ce,J){if(1&ce){const ve=p.EpF();p.TgZ(0,"span",13)(1,"p-button",14),p.NdJ("onClick",function(){p.CHM(ve);const Be=p.oxw(3);return p.KtG(Be.commutatorRemoteUpdatePoolVisible=!0)}),p.qZA(),p.TgZ(2,"p-overlay",15,16),p.NdJ("visibleChange",function(Be){p.CHM(ve);const we=p.oxw(3);return p.KtG(we.commutatorRemoteUpdatePoolVisible=Be)}),p.TgZ(4,"span",17),p._uU(5," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),p.qZA(),p.TgZ(6,"div",18),p.YNc(7,T,2,1,"div",19),p.qZA()(),p._UZ(8,"p-badge",20),p.qZA()}if(2&ce){const ve=p.MAs(3),be=p.oxw().ngIf,Be=p.oxw(2);p.xp6(2),p.Q6J("visible",Be.commutatorRemoteUpdatePoolVisible)("baseZIndex",2e3)("isVisible",ve.visible)("alignFn",ve.alignOverlay.bind(ve)),p.xp6(5),p.Q6J("ngForOf",be),p.xp6(1),p.Q6J("value",be.length.toString())}}function w(ce,J){if(1&ce&&(p.ynx(0),p.YNc(1,y,9,6,"span",12),p.BQk()),2&ce){const ve=J.ngIf;p.xp6(1),p.Q6J("ngIf",ve&&ve.length>0)}}function k(ce,J){if(1&ce&&(p.YNc(0,w,2,1,"ng-container",0),p.ALo(1,"async")),2&ce){const ve=p.oxw();p.Q6J("ngIf",p.lcZ(1,1,ve.commutatorRemoteUpdatePool$))}}function V(ce,J){if(1&ce){const ve=p.EpF();p.TgZ(0,"span",22),p._UZ(1,"i",23),p._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),p.qZA(),p._UZ(3,"div",24),p.TgZ(4,"p-button",25),p.NdJ("onClick",function(){p.CHM(ve);const Be=p.oxw();return p.KtG(Be.notifyService.readAllNotifications())}),p.qZA()}if(2&ce){const ve=p.oxw();p.xp6(4),p.Q6J("disabled",!ve.notifyService.isHasUnread)}}function U(ce,J){1&ce&&p._UZ(0,"app-notification-item",30),2&ce&&p.Q6J("notification",J.$implicit)}function oe(ce,J){if(1&ce){const ve=p.EpF();p.TgZ(0,"div",28),p.NdJ("onScrollToBottom",function(){p.CHM(ve);const Be=p.oxw(2);return p.KtG(!Be.notifyService.isLast&&Be.notifyService.load())}),p.YNc(1,U,1,1,"app-notification-item",29),p.qZA()}if(2&ce){const ve=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",ve.notifyService.list)}}function K(ce,J){if(1&ce){const ve=p.EpF();p.TgZ(0,"div",31)(1,"span",32),p._UZ(2,"i",33),p._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),p.qZA(),p.TgZ(4,"p-button",34),p.NdJ("onClick",function(){p.CHM(ve);const Be=p.oxw(2);return p.KtG(Be.notifyService.changeNotificationViewMode("ALL"))}),p.qZA()()}2&ce&&p.Udp("padding-top","10rem")}function H(ce,J){if(1&ce&&(p.YNc(0,oe,2,1,"div",26),p.YNc(1,K,5,2,"div",27)),2&ce){const ve=p.oxw();p.Q6J("ngIf",!ve.notifyService.isEmpty),p.xp6(1),p.Q6J("ngIf",ve.notifyService.isEmpty)}}function D(ce,J){if(1&ce&&p._UZ(0,"span"),2&ce){const ve=p.oxw().$implicit;p.Tol(ve.icon+" text-xl")}}function P(ce,J){if(1&ce&&(p.TgZ(0,"div",35),p.YNc(1,D,1,2,"span",36),p.TgZ(2,"span",37),p._uU(3),p.qZA()()),2&ce){const ve=J.$implicit;p.xp6(1),p.Q6J("ngIf",ve.icon),p.xp6(2),p.hij(" ",ve.detail," ")}}function Y(ce,J){if(1&ce&&p._UZ(0,"span"),2&ce){const ve=p.oxw().$implicit;p.Tol(ve.icon+" text-xl")}}function re(ce,J){if(1&ce&&(p.TgZ(0,"div",35),p.YNc(1,Y,1,2,"span",36),p.TgZ(2,"span",37),p._uU(3),p.qZA()()),2&ce){const ve=J.$implicit;p.xp6(1),p.Q6J("ngIf",ve.icon),p.xp6(2),p.hij(" ",ve.detail," ")}}function j(ce,J){1&ce&&p._UZ(0,"p-progressSpinner",42)}function G(ce,J){if(1&ce&&p._UZ(0,"span",43),2&ce){const ve=p.oxw(2);p.Tol(ve.blockUiService.icon),p.Q6J("ngClass",ve.blockUiService.styleClass)}}function ie(ce,J){if(1&ce&&(p.TgZ(0,"span",43),p._uU(1),p.qZA()),2&ce){const ve=p.oxw(2);p.Q6J("ngClass",ve.blockUiService.styleClass),p.xp6(1),p.Oqu(ve.blockUiService.message)}}function Te(ce,J){if(1&ce&&(p.TgZ(0,"div",38),p.YNc(1,j,1,0,"p-progressSpinner",39),p.YNc(2,G,1,3,"span",40),p.YNc(3,ie,2,2,"span",41),p.qZA()),2&ce){const ve=p.oxw();p.xp6(1),p.Q6J("ngIf",ve.blockUiService.isWait),p.xp6(1),p.Q6J("ngIf",!!ve.blockUiService.icon),p.xp6(1),p.Q6J("ngIf",ve.blockUiService.message)}}const Me=function(){return{width:"max-content",maxWidth:"30vw"}},de=function(ce,J){return{alignItems:ce,justifyContent:J}};let te=class{constructor(J,ve,be,Be,we,ke,X){this.router=J,this.notifyService=ve,this.rt=be,this.route=Be,this.chatService=we,this.taskCreator=ke,this.blockUiService=X,this.isTaskCreationPage=!1,this.openChatSub=this.chatService.open.subscribe(q=>{this.chatPanelEl&&this.chatPanelEl.show(q)}),this.commutatorRemoteUpdatePoolVisible=!1,this.commutatorRemoteUpdatePool$=this.rt.acpCommutatorsRemoteUpdatePool().pipe((0,d.b)(q=>{(!q||0===q.length)&&(this.commutatorRemoteUpdatePoolVisible=!1)}))}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.route.url.subscribe(console.log)}};te.\u0275fac=function(J){return new(J||te)(p.Y36(x.F0),p.Y36(R.T),p.Y36(b.U),p.Y36(x.gz),p.Y36(s.a),p.Y36(F.e),p.Y36(O.A))},te.\u0275cmp=p.Xpm({type:te,selectors:[["ng-component"]],viewQuery:function(J,ve){if(1&J&&p.Gf(Q,5),2&J){let be;p.iGM(be=p.CRH())&&(ve.chatPanelEl=be.first)}},decls:21,vars:17,consts:[[4,"ngIf"],["chatPanelEl",""],["commutatorPullRemoteUpdates",""],["appScrollToBottomEmitter","",3,"visible","blockScroll","position","showCloseIcon","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["key","darktoast","position","bottom-center"],["pTemplate","message"],["key","redtoast","position","bottom-center"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","p-4","w-full","h-full"],["class","flex flex-column gap-2 align-items-center justify-content-center bg-white border-round-2xl shadow-2 p-4 text-lg text-primary-400 font-semibold",4,"ngIf"],["class","flex relative",4,"ngIf"],[1,"flex","relative"],["icon","mdi-upgrade","styleClass","p-button-outlined p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["appendTo","body","contentStyleClass","overlay flex flex-column","appCloseIfScroll","",3,"visible","baseZIndex","isVisible","alignFn","visibleChange"],["commOver",""],[1,"text-bluegray-400","font-bold","p-2"],[1,"flex","flex-column","max-h-20rem","overflow-y-auto"],["class","flex align-items-center p-3",4,"ngFor","ngForOf"],[1,"ur-badge",3,"value"],[1,"flex","align-items-center","p-3"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],[1,"stretched"],["icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],["appScrollToBottomEmitter","","class","list-view flexed v-scroll",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"],[1,"flex","gap-3","flex-grow-1","h-full","align-items-center"],[3,"class",4,"ngIf"],[1,"font-bold"],[1,"flex","flex-column","gap-2","align-items-center","justify-content-center","bg-white","border-round-2xl","shadow-2","p-4","text-lg","text-primary-400","font-semibold"],["class","custom-spinner custom-spinner-primary custom-spinner-8xl","strokeWidth","2",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass",4,"ngIf"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[3,"ngClass"]],template:function(J,ve){1&J&&(p.YNc(0,N,1,0,"app-main-menu-panel",0),p._UZ(1,"router-outlet")(2,"app-notifications-popup-panel")(3,"p-confirmDialog")(4,"app-media-viewer")(5,"app-chat-panel",null,1),p.YNc(7,k,2,3,"ng-template",null,2,p.W1O),p.TgZ(9,"p-sidebar",3),p.NdJ("onHide",function(){return ve.notifyService.readAllNotifications()})("onShow",function(){return ve.notifyService.load()})("visibleChange",function(Be){return ve.notifyService.displaySideBar=Be}),p.YNc(10,V,5,1,"ng-template",4),p.YNc(11,H,2,2,"ng-template",5),p.qZA(),p.TgZ(12,"p-toast",6),p.YNc(13,P,4,2,"ng-template",7),p.qZA(),p.TgZ(14,"p-toast",8),p.YNc(15,re,4,2,"ng-template",7),p.qZA(),p._UZ(16,"app-float-dock-panel")(17,"app-terminal-float-panel"),p.TgZ(18,"p-blockUI",9)(19,"div",10),p.YNc(20,Te,4,3,"div",11),p.qZA()()),2&J&&(p.Q6J("ngIf",!ve.isTaskCreationPage),p.xp6(9),p.Akn(p.DdM(13,Me)),p.Q6J("visible",ve.notifyService.displaySideBar)("blockScroll",!0)("position","right")("showCloseIcon",!1),p.xp6(9),p.Q6J("blocked",ve.blockUiService.blocked)("autoZIndex",!ve.blockUiService.zIndex)("baseZIndex",ve.blockUiService.zIndex),p.xp6(1),p.Akn(p.WLB(14,de,ve.blockUiService.align,ve.blockUiService.justify)),p.xp6(1),p.Q6J("ngIf",ve.blockUiService.isWait||ve.blockUiService.message||ve.blockUiService.icon))},styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;width:100%}"]}),te=(0,e.gn)([(0,u.kG)()],te)},417:(dn,pt,C)=>{"use strict";C.d(pt,{t:()=>u});var e=C(383),d=C(5e3);let u=(()=>{class p{transform(R,b,s,F,O){let Q,N;if(F)N=R;else{if(Q=new Date(R),"Invalid Date"===Q.toString())return"\u041d\u0435 \u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";N=Math.abs(Date.now()-Q.getTime())}const T=Math.floor(N/36e5),y=Math.floor(N%36e5/6e4),w=Math.floor(N%6e4/1e3);if(O&&T>0){if(T<24)return`${b}${T} ${e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${s}`;{const k=Math.floor(T/24),V=Math.floor(T%24);return`${b}${k} ${e.cQ.declineOfNumber(k,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])} ${V} ${e.cQ.declineOfNumber(V,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${s}`}}return T>0&&T<13?`${b}${T} ${e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${s}`:0===T&&y>0?`${b}${y} ${e.cQ.declineOfNumber(y,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}${s}`:0===T&&0===y&&w>0?`${b}${w} ${e.cQ.declineOfNumber(w,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}${s}`:0===T&&0===y&&0===w?`${b}${N.toFixed(2)} ${e.cQ.declineOfNumber(N,["\u043c\u0441","\u043c\u0441","\u043c\u0441"])}${s}`:!F&&Q?Q.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return p.\u0275fac=function(R){return new(R||p)},p.\u0275pipe=d.Yjl({name:"elapsedTime",type:p,pure:!0}),p})()},7728:(dn,pt,C)=>{"use strict";C.d(pt,{A:()=>u});var e=C(7384),d=C(5e3);let u=(()=>{class p{transform(R){if(!R)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";switch(R.taskStatus){case e.hY.ACTIVE:return"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f";case e.hY.PROCESSING:return"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";case e.hY.CLOSE:return"\u0417\u0430\u043a\u0440\u044b\u0442\u0430\u044f";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return p.\u0275fac=function(R){return new(R||p)},p.\u0275pipe=d.Yjl({name:"taskStatus",type:p,pure:!0}),p})()},6252:(dn,pt,C)=>{"use strict";C.d(pt,{l:()=>u});var e=C(7384),d=C(5e3);let u=(()=>{class p{transform(R){switch(R){case e.b9.AMOUNT:return"\u0448\u0442.";case e.b9.METRES:return"\u043c.";case e.b9.KILOGRAMS:return"\u043a\u0433."}return""}}return p.\u0275fac=function(R){return new(R||p)},p.\u0275pipe=d.Yjl({name:"unitName",type:p,pure:!0}),p})()},8738:(dn,pt,C)=>{"use strict";C.d(pt,{s:()=>K});var e=C(5861),d=C(4004),u=C(8505),p=C(4326),x=C(9751),R=C(8421);const{isArray:b}=Array;var F=C(515),O=C(5403),Q=C(3269);var T=C(9646),y=C(3099),w=C(262),k=C(383),V=C(5e3),U=C(520),oe=C(9783);let K=(()=>{class H{constructor(P,Y){this.client=P,this.toast=Y,this.requestCacheMap={},this.loggedIn=!1}getWireframe(P){return this.sendGet("api/private/wireframe/"+P)}getWireframeDashboardStatistic(P){return this.sendGet("api/private/wireframe/"+P+"/dashboard-statistic")}getWireframeFields(P){return this.sendGet("api/private/wireframe/"+P+"/fields")}getWireframes(P){return null==P?this.sendGet("api/private/wireframes"):this.sendGet("api/private/wireframes",{includingRemoved:P})}getWireframesNames(){return this.sendGet("api/private/wireframes/names")}createWireframe(P){return this.sendPost("api/private/wireframe",P)}updateWireframe(P,Y){return this.sendPatch("api/private/wireframe/"+P,Y)}createTask(P){return this.sendPost("api/private/task",P)}deleteTask(P){return this.sendDelete("api/private/task/"+P)}getTask(P,Y=!1){const re="api/private/task/"+P;return Y?this.sendGetSilent(re):this.sendGet(re)}getTasksByLogin(P,Y){return this.sendGet(`api/private/task/page/by-login/${P}`,{page:Y})}getWorkLogsByTaskId(P){return this.sendGet(`api/private/work-log/task/${P}/list`)}getCountOfActiveWorkLogs(){return this.sendGet("api/private/work-log/active/count")}getRootTask(P){return this.sendGet("api/private/task/"+P+"/root")}getFieldsTask(P){return this.sendGet(`api/private/task/${P}/fields`)}getPageOfTasks(P,Y){return this.sendPost(`api/private/task/page/${P}`,Y)}getWireframeFiltrationFields(P){return this.sendGet(`api/private/wireframe/${P}/filter-fields`)}checkCompatibility(P,Y){return this.sendGet(`api/private/task/${P}/check-compatibility/${Y}`)}connectToOldTracker(P,Y){return this.sendPatch(`api/private/task/${P}/connect-to/${Y}`,{})}getHouses(P){return this.sendGet(`api/private/houses/${P}`)}getStreets(P,Y){return Y?this.sendGet("api/private/streets/"+P,{filter:Y}):this.sendGet("api/private/streets/"+P)}getStreetSuggestions(P){return this.sendGet("api/private/suggestions/street",{query:P})}getCities(){return this.sendGet("api/private/cities")}getAvailableObservers(){return this.sendGet("api/private/available-observers")}getAvailableObserversSuggestions(P){return this.sendGet(`api/private/available-observers/${P}`)}createComment(P,Y,re,j){return this.sendPost("api/private/comment",{taskId:Y,text:P||"",files:re||[],replyComment:j})}getComments(P,Y,re){return this.sendGet("api/private/comments",{taskId:P,offset:Y,limit:re})}getTaskJournal(P,Y,re,j){return this.sendGet(`api/private/task/${P}/journal`,{offset:Y,limit:re,sorting:j})}getEmployees(P,Y,re){const j={};return P&&(j.globalFilter=P),"boolean"==typeof Y&&!Y&&(j.showDeleted=Y),"boolean"==typeof re&&!re&&(j.showOffsite=re),this.sendGet("api/private/employees/list",j)}getEmployeesOptionsList(P){return this.sendGet("api/private/employees/list",{globalFilter:null!=P?P:""}).pipe((0,d.U)(Y=>Y.map(re=>{const{firstName:j,secondName:G,lastName:ie,login:Te}=re;return{label:j&&G&&ie?`${ie} ${j} ${G}`:Te,value:Te}})))}getAllTaskAttachments(P){return this.sendGet("api/private/task/"+P+"/attachments")}getCountAllTaskAttachments(P){return this.sendGet("api/private/task/"+P+"/attachments/count")}getDepartments(){return this.sendGet("api/private/departments")}getPositions(){return this.sendGet("api/private/positions")}createDepartment(P){return this.sendPost("api/private/department",P)}editDepartment(P,Y){return this.sendPatch("api/private/department/"+Y,P)}deleteDepartment(P){return this.sendDelete("api/private/department/"+P)}createPosition(P){return this.sendPost("api/private/position",P)}editPosition(P,Y){return this.sendPatch("api/private/position/"+Y,P)}deletePosition(P){return this.sendDelete("api/private/position/"+P)}createEmployee(P){return this.sendPost("api/private/employee",P)}editEmployee(P,Y){return this.sendPatch("api/private/employee/"+Y,P)}deleteEmployee(P){return this.sendDelete("api/private/employee/"+P)}getEmployee(P,Y=!1){const re="api/private/employee/"+P;return Y?this.sendGetSilent(re):this.sendGet(re)}signIn(P){return this.sendPost("api/public/sign-in",P).pipe((0,u.b)(Y=>{k.Ke.save("token",Y.tokenChain.token),k.Ke.save("isOffsite",Y.employee.offsite),this.loggedIn=!0}),(0,p.g)(100))}authCheckout(){return this.sendGet("api/public/auth-checkout").pipe((0,u.b)(P=>{P&&localStorage.setItem("token",P.token)}))}getMe(){return this.sendGet("api/private/me")}setAvatar(P){return this.sendPost("api/private/employee/avatar",P)}getResponsible(){return function N(...H){const D=(0,Q.jO)(H),P=function s(H){return 1===H.length&&b(H[0])?H[0]:H}(H);return P.length?new x.y(Y=>{let re=P.map(()=>[]),j=P.map(()=>!1);Y.add(()=>{re=j=null});for(let G=0;!Y.closed&&G<P.length;G++)(0,R.Xf)(P[G]).subscribe(new O.Q(Y,ie=>{if(re[G].push(ie),re.every(Te=>Te.length)){const Te=re.map(Me=>Me.shift());Y.next(D?D(...Te):Te),re.some((Me,de)=>!Me.length&&j[de])&&Y.complete()}},()=>{j[G]=!0,!re[G].length&&Y.complete()}));return()=>{re=j=null}}):F.E}(this.sendGet("api/private/departments"),this.sendGet("api/private/employees/list")).pipe((0,d.U)(P=>P.flat()),(0,d.U)(P=>P.filter(Y=>!Y.deleted)))}getActiveTaskInStage(P,Y,re,j){return this.sendGet(`api/private/task/page/template/${re}/stage/${j}`,{offset:P,limit:Y})}getActiveTaskInNullStage(P,Y,re){return this.sendGet(`api/private/task/page/template/${re}/stage`,{offset:P,limit:Y})}changeTaskStage(P,Y){return this.sendPatch(`api/private/task/${P}/stage`,{stageId:Y})}getActiveTaskIdsInStage(P,Y){return this.sendGet(`api/private/task/template/${P}/stage/${Y}/taskIdOnly`)}getActiveTaskIdsInNullStage(P){return this.sendGet(`api/private/task/template/${P}/stage/taskIdOnly`)}updateComment(P){return this.sendPatch("api/private/comment",P)}deleteComment(P){return this.sendDelete("api/private/comment/"+P)}getInstallersEmployees(){return this.sendGet("api/private/employees/installers")}assignInstallersToTask(P,Y){return this.sendPost("api/private/task/"+P+"/assign-installers",Y)}saveReport(P){return this.sendPatch("api/private/work-log/writing-report",P)}forceCloseWorkLog(P,Y){return this.sendPost("api/private/task/"+P+"/force-close-work-log",Y)}changeTaskObservers(P,Y,re){return this.sendPatch("api/private/task/"+P+"/observers",{departmentObservers:Y,personalObservers:re})}unlinkParentTask(P){return this.sendPatch("api/private/task/"+P+"/unlink-parent",{})}changeLinkToParentTask(P,Y){return this.sendPatch("api/private/task/"+P+"/link-to-parent",{parentTaskId:Y})}appendLinksToChildrenTasks(P,Y){return this.sendPatch("api/private/task/"+P+"/append-links-to-children",Y)}getTaskTag(P){return this.sendGet("api/private/task-tag/"+P)}getTaskTags(P,Y){const re={};return P&&(re.query=P),null!=Y&&(re.includingRemove=Y),this.sendGet("api/private/task-tags",re)}createTaskTag(P){return this.sendPost("api/private/task-tag",P)}modifyTaskTag(P){return this.sendPatch("api/private/task-tag",P)}deleteTaskTag(P){return this.sendDelete("api/private/task-tag/"+P)}setTaskTags(P,Y){return this.sendPatch(`api/private/task/${P}/tags`,Y)}changeTaskResponsible(P,Y){return this.sendPatch("api/private/task/"+P+"/responsible",Y)}unbindResponsible(P){return this.sendPatch("api/private/task/"+P+"/unbind-responsible",{})}changeTaskActualFrom(P,Y){return this.sendPatch("api/private/task/"+P+"/actual-from",Y)}changeTaskActualTo(P,Y){return this.sendPatch("api/private/task/"+P+"/actual-to",Y)}clearActualFromDate(P){return this.sendPatch("api/private/task/"+P+"/clear-actual-from-date",{})}clearActualToDate(P){return this.sendPatch("api/private/task/"+P+"/clear-actual-to-date",{})}closeTask(P){return this.sendPatch("api/private/task/"+P+"/close",{})}reopenTask(P){return this.sendPatch("api/private/task/"+P+"/reopen",{})}editTask(P,Y){return this.sendPatch("api/private/task/"+P+"/edit-fields",Y)}moveTaskToDirectory(P,Y){return this.sendPatch("api/private/task/move-to-directory",{taskIds:P,directoryId:Y})}getEditTaskSnapshots(P){return this.sendGet("api/private/task/"+P+"/edit-snapshots")}getNotifications(P,Y,re=!1){return this.sendGet("api/private/notifications",{first:P,limit:Y,unreadOnly:re})}getCountOfUnreadNotifications(){return this.sendGet("api/private/notifications/unread-count")}getAvailableTaskTypesToChange(P){return this.sendGet("api/private/task/"+P+"/type-list/available-to-change")}getAvailableDirectoriesToChange(P){return this.sendGet("api/private/task/"+P+"/directory-list/available-to-change")}getDepartment(P,Y=!1){return Y?this.sendGetSilent("api/private/department/"+P):this.sendGet("api/private/department/"+P)}getWorkLog(P,Y=!1){return Y?this.sendGetSilent("api/private/work-log/"+P):this.sendGet("api/private/work-log/"+P)}getActiveWorkLogByTaskId(P){return this.sendGetSilent("api/private/work-log/task/"+P+"/active")}readAllNotifications(){return this.sendPatch("api/private/notifications/read-all",{})}changeMyStatus(P){return this.sendPatch("api/private/employee/status",P)}getChatMessages(P,Y,re){return this.sendGet("api/private/chat/"+P+"/messages",{first:Y,limit:re})}setMessagesAsRead(P){return this.sendPatch("api/private/chat/messages/read",P)}getActiveTaskChat(P){return this.sendGet("api/private/task/"+P+"/active-chat")}getChat(P){return this.sendGet("api/private/chat/"+P)}sendChatMessage(P,Y,re,j){return this.sendPost("api/private/chat/"+P+"/message",{text:Y,files:re,replyMessageId:j})}editChatMessage(P,Y){return this.sendPatch("api/private/chat/message/"+P,Y)}deleteChatMessage(P,Y){return this.sendDelete("api/private/chat/message/"+Y)}getMyActiveChats(){return this.sendGet("api/private/chats/my/active")}getIncomingTasks(P,Y){return this.sendGet(`api/private/task/page/incoming/${P}`,k.cQ.prepareForHttpRequest(Y))}getWireframeStages(P){return this.sendGet("api/private/wireframe/"+P+"/stages")}getCountIncomingTasks(){return this.sendGet("api/private/task/incoming/count",{})}getCountIncomingTasksByWireframeId(P){return this.sendGet("api/private/task/incoming/wireframe/"+P+"/count",{})}getCountTasksByWireframeIdByTags(P){return 0===P.length?(0,T.of)({}):this.sendGet("api/private/task/wireframe/by-tags/count",{wireframeIds:P})}getCountIncomingTasksByWireframeIdByTags(P){return 0===P.length?(0,T.of)({}):this.sendGet("api/private/task/incoming/wireframe/by-tags/count",{wireframeIds:P})}getCountAllTasksByWireframeId(P){return this.sendGet("api/private/task/wireframe/"+P+"/count",{})}getCountIncomingTasksByStages(P){return P?this.sendGet(`api/private/task/incoming/wireframe/${P}/by-stages/count`,{}):(0,T.of)({})}getCountTasksByStages(P){return P?this.sendGet(`api/private/task/wireframe/${P}/by-stages/count`,{}):(0,T.of)({})}getCountTasks(P={}){return this.sendPost("api/private/task/count",P)}getTagsListFromCatalog(P={}){return this.sendPost("api/private/tags/catalog/list",P)}getScheduledTask(P,Y){return this.sendGet("api/private/task/list/scheduled",{start:P,end:Y})}moveScheduledTask(P,Y){return this.sendPatch(`api/private/task/${P}/scheduled/move`,Y)}signOut(){return this.sendPost("api/public/sign-out",{}).pipe((0,u.b)(()=>{this.loggedIn=!1}))}deleteWireframe(P){return this.sendDelete(`api/private/wireframe/${P}`)}getTrackerParserState(){return this.sendGet("api/private/parser/tracker")}saveTrackerParserSettings(P){return this.sendPatch("api/private/parser/tracker/settings",P)}startTrackerParser(){return this.sendPost("api/private/parser/tracker/start",{})}stopTrackerParser(){return this.sendPost("api/private/parser/tracker/stop",{})}getAddressCorrectingPool(){return this.sendGet("api/private/parser/tracker/address-correcting-pool")}sendCorrectedAddress(P){return this.sendPost("api/private/parser/tracker/address-correcting-pool",P)}startAddressParse(){return this.sendPost("api/private/parser/addresses/start",{})}getAddressSuggestions(P,Y,re){return this.sendGet("api/private/suggestions/address",{query:P,isAcpConnected:Y,isHouseOnly:re})}getAddressSuggestionsAlt(P,Y,re,j){return this.sendGet("api/private/suggestions/address/alt",{streetId:P,query:Y,isAcpConnected:re,isHouseOnly:j})}getCountOfUnreadMessages(P){return this.sendGet("api/private/chat/"+P+"/messages/unread-count")}getPageOfPaidActions(P,Y){return this.sendGet(`api/private/salary/paid-actions/${P}`,Y)}getListAvailablePaidActions(){return this.sendGet("api/private/salary/paid-actions/available")}createPaidAction(P){return this.sendPost("api/private/salary/paid-action",P)}editPaidAction(P,Y){return this.sendPatch("api/private/salary/paid-action/"+P,Y)}deletePaidAction(P){return this.sendDelete("api/private/salary/paid-action/"+P)}getRootTreeOfWorks(P){return this.sendGet("api/private/salary/paid-works-tree/root",{groupsUndraggable:null!=P&&P})}getWorksOfGroup(P,Y){return this.sendGet(`api/private/salary/paid-works-tree/${P}`,{groupsUndraggable:null!=Y&&Y})}treeWorksDragDrop(P){return this.sendPatch("api/private/salary/paid-works-tree/drag-drop",P)}createPaidWorkGroup(P){return this.sendPost("api/private/salary/paid-work-group",P)}editPaidWorkGroup(P,Y){return this.sendPatch("api/private/salary/paid-work-group/"+P,Y)}deletePaidWorkGroup(P){return this.sendDelete("api/private/salary/paid-work-group/"+P)}createPaidWork(P){return this.sendPost("api/private/salary/paid-work",P)}editPaidWork(P,Y){return this.sendPatch("api/private/salary/paid-work/"+P,Y)}deletePaidWork(P){return this.sendDelete("api/private/salary/paid-work/"+P)}getPaidWorkById(P){return this.sendGet("api/private/salary/paid-work/"+P)}paidWorkTreeReposition(P){return this.sendPatch("api/private/salary/paid-works-tree/reposition",P)}getUncalculatedWorkLogs(){return this.sendGet("api/private/work-log/uncalculated/list")}getAfterWorkList(){return this.sendGet("api/private/work-log/after-work/list")}getUncompletedReports(){return this.sendGet("api/private/uncompleted-reports")}sendWorkCalculation(P){return this.sendPost("api/private/salary/work-calculation",P)}sendBypassWorkCalculation(P){return this.sendPost("api/private/salary/work-calculation/bypass",P)}getSalaryTable(P){return this.sendGet("api/private/salary/table",P)}getBillingUsersByLogin(P,Y){return this.sendGet("api/private/billing/users/by-login",{login:P,isActive:Y})}getBillingUsersByFio(P,Y){return this.sendGet("api/private/billing/users/by-fio",{query:P,isActive:Y})}getBillingUsersByAddress(P,Y){return this.sendGet("api/private/billing/users/by-address",{address:P,isActive:Y})}getBillingUserInfo(P){return this.sendGet(`api/private/billing/user/${encodeURIComponent(P)}`)}getBillingUserEvents(P){return this.sendGet(`api/private/billing/user/${encodeURIComponent(P)}/events`)}updateBalance(P,Y){return this.sendPost(`api/private/billing/user/${encodeURIComponent(P)}/update-balance`,Y)}setDeferredPayment(P){return this.sendPost(`api/private/billing/user/${encodeURIComponent(P)}/deferred-payment`,{})}startUserService(P){return this.sendPost(`api/private/billing/user/${encodeURIComponent(P)}/start-service`,{})}stopUserService(P){return this.sendPost(`api/private/billing/user/${encodeURIComponent(P)}/stop-service`,{})}balanceReset(P,Y){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/balance-reset`,Y)}isLoginEnable(P){return this.sendGetSilent(`api/private/billing/user/${encodeURIComponent(P)}/is-enable`)}enableLogin(P){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/enable-login`,{})}changeUserAddress(P,Y){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/change/address`,Y)}changeUserFullName(P,Y){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/change/full-name`,Y)}changeUserPhone(P,Y){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/change/phone`,Y)}changeUserComment(P,Y){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/change/comment`,Y)}editUser(P,Y){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(P)}/edit`,Y)}convertBillingAddress(P){return this.sendGet("api/private/convert/billing-address-string",{addressString:P})}createCity(P){return this.sendPost("api/private/city",P)}editCity(P,Y){return this.sendPatch(`api/private/city/${P}`,Y)}deleteCity(P){return this.sendDelete(`api/private/city/${P}`)}createStreet(P,Y){return this.sendPost(`api/private/city/${P}/street`,Y)}editStreet(P,Y){return this.sendPatch(`api/private/street/${P}`,Y)}deleteStreet(P){return this.sendDelete(`api/private/street/${P}`)}createHouse(P,Y){return this.sendPost(`api/private/street/${P}/house`,Y)}editHouse(P,Y){return this.sendPatch(`api/private/house/${P}`,Y)}makeHouseAnApartmentsBuilding(P){return this.sendPatch(`api/private/house/${P}/to-apartments-building`,{})}deleteHouse(P){return this.sendDelete(`api/private/house/${P}`)}getWorkingDay(P,Y){return this.sendGet("api/private/working-day/",{date:P,login:Y})}getAlreadyCalculatedWorkForm(P){return this.sendGet(`api/private/salary/already-calculated-work/${P}/form`)}getDhcpBindingsByLogin(P){return this.sendGet("api/private/acp/dhcp/bindings",{login:P})}getDhcpLogsByLogin(P,Y=0){return this.sendGet(`api/private/acp/dhcp/binding/${P}/logs/${Y}`,{})}getLastBindings(P,Y,re,j,G,ie,Te,Me,de){return this.sendGet("api/private/acp/dhcp/bindings/"+P+"/last",{state:Y,macaddr:re,login:j,ip:G,vlan:ie,buildingId:Te,commutator:Me,port:de})}getDhcpBindingsByVlan(P,Y,re){return this.sendGet("api/private/acp/vlan/"+Y+"/dhcp/bindings/"+P,{excludeLogin:re})}authDhcpBinding(P,Y){return this.sendPost("api/private/acp/dhcp/binding/auth",{login:P,macaddr:Y})}getNetworkConnectionLocationHistory(P){return this.sendGet("api/private/acp/dhcp/binding/"+P+"/ncl-history",{})}getBuildings(P){return this.sendGet("api/private/acp/buildings",{query:P})}getCommutators(P,Y,re,j){return this.sendGet("api/private/acp/commutators/"+P+"/page",{name:Y,ip:re,buildingId:j})}getCommutatorsTable(P){return this.sendPost("api/private/acp/commutators/table",P)}getCommutator(P){return this.sendGet("api/private/acp/commutator/"+P)}getCommutatorEditingPreset(P){return this.sendGet("api/private/acp/commutator/"+P+"/editing-preset")}searchCommutators(P){return this.sendGet("api/private/acp/commutators/search",{query:P})}getCommutatorModels(P){return this.sendGet("api/private/acp/commutator/models",{query:P})}getCommutatorModel(P){return this.sendGet(`api/private/acp/commutator/model/${P}`)}getBuildingAddress(P){return this.sendGet(`api/private/acp/building/${P}/address`)}checkCommutatorNameExist(P){return this.sendGet("api/private/acp/commutator/check-exist/name",{name:P})}checkCommutatorIpExist(P){return this.sendGet("api/private/acp/commutator/check-exist/ip",{ip:P})}checkRemoteControl(P){return this.sendGet(`api/private/remote-control/${P}/check-access`)}getDocumentTemplateTypes(){return this.sendGet("api/private/types/document-template")}getFieldDisplayTypes(){return this.sendGet("api/private/types/field-display")}getWireframeFieldTypesList(){return this.sendGet("api/private/types/wireframe-field")}getConnectionServicesList(){return this.sendGet("api/private/types/connection-service")}getConnectionServicesSuggestionsList(P){return this.sendGet("api/private/types/connection-service/suggestions",{query:P})}getBillingPaymentTypesList(){return this.sendGet("api/private/types/billing-payment-type")}getConnectionTypesList(){return this.sendGet("api/private/types/connection-type")}getAdSourcesList(){return this.sendGet("api/private/types/advertising-source")}getFilesSortingTypes(){return this.sendGet("api/private/types/files-sorting")}getBillingConfiguration(){return this.sendGet("api/private/billing/configuration")}getTelegramConfiguration(){return this.sendGet("api/private/configuration/telegram")}getAcpConfiguration(){return this.sendGet("api/private/acp/configuration")}setBillingConfiguration(P){return this.sendPost("api/private/billing/configuration",P)}setTelegramConfiguration(P){return this.sendPost("api/private/configuration/telegram",P)}setAcpConfiguration(P){return this.sendPatch("api/private/acp/configuration",P)}getClientEquipments(P,Y){return this.sendGet("api/private/client-equipments",{query:P,isDeleted:Y})}getClientEquipmentsSuggestions(P){return this.sendGet("api/private/client-equipments/suggestions",{query:P})}createClientEquipment(P){return this.sendPost("api/private/client-equipment",P)}editClientEquipment(P,Y){return this.sendPatch(`api/private/client-equipment/${P}`,Y)}deleteClientEquipment(P){return this.sendDelete(`api/private/client-equipment/${P}`)}createCommutator(P){return this.sendPost("api/private/acp/commutator",P)}editCommutator(P,Y){return this.sendPatch(`api/private/acp/commutator/${P}`,Y)}deleteCommutator(P){return this.sendDelete(`api/private/acp/commutator/${P}`)}commutatorRemoteUpdate(P){return this.sendPost(`api/private/acp/commutator/${P}/get-remote-update`,{})}commutatorRemoteUpdateByVlan(P){return this.sendPost(`api/private/acp/commutators/vlan/${P}/get-remote-update`,{})}fdbTableByPort(P){return this.sendGet(`api/private/acp/commutator/port/${P}/fdb`)}getCommutatorsByVlan(P){return this.sendGet(`api/private/acp/commutators/vlan/${P}`)}getTopology(){return this.sendGet("api/private/acp/topology")}getBuilding(P){return this.sendGet("api/private/acp/building/"+P)}getCommutatorsByBuildingId(P){return this.sendGet("api/private/acp/building/"+P+"/commutators")}getBindingsByLogin(P,Y,re){return this.sendPost("api/private/acp/user/"+P+"/bindings/"+Y,re)}getBindingsByVlan(P,Y,re){return this.sendPost("api/private/acp/vlan/"+P+"/bindings/"+Y,re)}getBindingsByBuildingId(P,Y,re){return this.sendPost("api/private/acp/building/"+P+"/bindings/"+Y,re)}getBindingsFromBuildingByLogin(P,Y,re){return this.sendPost("api/private/acp/user/"+P+"/bindings-from-building/"+Y,re)}getBindingsByCommutator(P,Y,re){return this.sendPost(`api/private/acp/commutator/${P}/bindings/${Y}`,re)}getBindingsTable(P){return this.sendPost("api/private/acp/bindings/table",P)}getActiveBindingByLogin(P){return this.sendGet("api/private/acp/user/"+P+"/active-binding")}getBuildingIdByVlan(P){return this.sendGet("api/private/acp/vlan/"+P+"/building-id")}getUserBriefInfo(P){return this.sendGet(`api/private/acp/user/${P}/brief-info`)}getBulkUserBriefInfo(P){return this.sendPost("api/private/acp/user/brief-info/bulk",P)}getCountingLivesCalculation(P){return this.sendPost("api/private/billing/counting-lives",P)}attachToTask(P,Y,re){return this.sendPost(`api/private/chat/${Y}/message/${P}/attach-to-task`,{description:re})}getFilesSuggestions(P){return this.sendGet("api/private/files/suggestions",{query:P})}getFilesRoot(P){return this.sendGet("api/private/files/root",{sortingType:P})}getFilesDirectory(P,Y){return this.sendGet(`api/private/files/directory/${P}`,{sortingType:Y})}filesMoveTo(P,Y){return this.sendPatch("api/private/files/move-to",{target:P,source:Y})}filesCopyTo(P,Y){return this.sendPatch("api/private/files/copy-to",{target:P,source:Y})}filesDelete(P){return this.sendDelete(`api/private/files/delete/${P}`)}filesRename(P,Y){return this.sendPatch("api/private/files/rename",{id:P,name:Y})}filesCreateDirectory(P,Y){return this.sendPost("api/private/files/create-directory",{parentDirectoryId:Y,name:P})}filesUpload(P){return this.sendPost("api/private/files/load",P)}searchFiles(P,Y){return this.sendGet("api/private/files/search",{query:P,sortingType:Y})}createPhyPhoneBind(P){return this.sendPatch("api/private/employee/phy-phone-bind/create",P)}removePhyPhoneBind(P){return this.sendDelete(`api/private/employee/${P}/phy-phone-bind/remove`)}getPhyPhoneModelsTypes(){return this.sendGet("api/private/types/phy-phone-models")}callToPhone(P){return this.sendPost("api/private/call-to-phone",{phoneNumber:P})}setPhyPhoneBind(P){return this.sendPatch(`api/private/employee/phy-phone/${P}/bind`,{})}getPhyPhoneList(){return this.sendGet("api/private/phy-phone-list")}getOldTrackerClasses(){return this.sendGet("api/private/ot/classes")}changeTaskStageInOldTracker(P,Y){return this.sendPatch(`api/private/task/${P}/old-tracker-stage/${Y}/change`,{})}createUserInBilling(P,Y=!1){return this.sendPost("api/private/billing/user/create",{modelItemId:P,isOrg:Y})}getBillingUserTariffs(P){return this.sendGet(`api/private/billing/user/${P}/tariffs`)}getBillingUserServices(P){return this.sendGet(`api/private/billing/user/${P}/services`)}appendServiceToBillingUser(P,Y){return this.sendPatch(`api/private/billing/user/${Y}/service/${P}/append`,{})}removeServiceFromBillingUser(P,Y){return this.sendPatch(`api/private/billing/user/${Y}/service/${P}/remove`,{})}changeTariffInBillingUser(P,Y){return this.sendPatch(`api/private/billing/user/${Y}/tariff/${P}`,{})}makePayment(P,Y){return this.sendPost(`api/private/billing/user/${P}/make-payment`,Y)}makeRecalculation(P,Y){return this.sendPost(`api/private/billing/user/${P}/make-recalculation`,Y)}markWorkLogAsCompleted(P,Y){return this.sendPatch(`api/private/work-log/${P}/mark-as-completed`,Y)}markWorkLogAsUncompleted(P){return this.sendPatch(`api/private/work-log/${P}/mark-as-uncompleted`,{})}markWorkLogAsUncompletedAndClose(P){return this.sendPatch(`api/private/work-log/${P}/mark-as-uncompleted-and-close`,{})}getWorkLogsUnconfirmedContracts(P,Y){return this.sendPost(`api/private/work-log/unconfirmed-contracts/${P}`,Y)}getEmployeeWorkLogs(){return this.sendGet("api/private/work-log/employee-work-log/list")}getContractTypesList(){return this.sendGet("api/private/contract/type/list")}getContractTypesSuggestionList(P){return this.sendGet("api/private/contract/type/suggestion/list",{query:P})}createContractType(P){return this.sendPost("api/private/contract/type",P)}updateContractType(P,Y){return this.sendPatch(`api/private/contract/type/${P}`,Y)}removeContractType(P){return this.sendDelete(`api/private/contract/type/${P}`)}markContractsAsReceived(P){return this.sendPatch("api/private/contract/mark/received",P)}markContractsAsArchived(P){return this.sendPatch("api/private/contract/mark/archived",P)}getEmployeeWorkStatistics(P){return this.sendPost("api/private/statistics/employee-work",P)}sendDataToTelnetSession(P,Y){return this.sendPost(`api/private/remote/telnet/${P}`,Y)}connectToTelnetSession(P){return this.sendPost("api/private/remote/telnet/connect",P)}getTaskRegistryTableHeaders(P,Y){return this.sendGet(`api/private/task/registry/headers/${P}/${Y}`)}getTaskRegistryTableContent(P,Y,re,j,G){return this.sendPost(`api/private/task/registry/content/${P}/${Y}`,{tagMode:re,tags:j,paging:G})}sendGet(P,Y){var re=this;for(let ie in Y)null==Y[ie]&&delete Y[ie];const j=this.generateHash(P,Y);let G=null;return this.requestCacheMap[j]?G=this.requestCacheMap[j]:(G=this.client.get(P,{params:Y}).pipe((0,y.B)(),(0,w.K)(function(){var ie=(0,e.Z)(function*(Te,Me){throw re.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:Te.error.message}),Te});return function(Te,Me){return ie.apply(this,arguments)}}())),this.requestCacheMap[j]=G,setTimeout(()=>{delete this.requestCacheMap[j]},1e4)),G}sendGetSilent(P,Y){for(let G in Y)null==Y[G]&&delete Y[G];const re=this.generateHash(P,Y);let j=null;return this.requestCacheMap[re]?j=this.requestCacheMap[re]:(j=this.client.get(P,{params:Y}).pipe((0,y.B)()),this.requestCacheMap[re]=j,setTimeout(()=>{delete this.requestCacheMap[re]},1e4)),j}sendPost(P,Y){var re=this;return this.client.post(P,Y).pipe((0,w.K)(function(){var j=(0,e.Z)(function*(G,ie){throw re.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:G.error.message}),G});return function(G,ie){return j.apply(this,arguments)}}()))}sendPatch(P,Y){return this.client.patch(P,Y).pipe((0,w.K)((re,j)=>{throw this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:re.error.message}),re}))}sendDelete(P){var Y=this;return this.client.delete(P).pipe((0,w.K)(function(){var re=(0,e.Z)(function*(j,G){throw Y.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:j.error.message}),j});return function(j,G){return re.apply(this,arguments)}}()))}generateHash(P,Y){return(0,k.d4)(P+JSON.stringify(Y),0)}}return H.\u0275fac=function(P){return new(P||H)(V.LFG(U.eN),V.LFG(oe.ez))},H.\u0275prov=V.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},6768:(dn,pt,C)=>{"use strict";C.d(pt,{A:()=>d});var e=C(5e3);let d=(()=>{class u{constructor(){this.blocked=!1,this.message="",this.isWait=!1,this.icon="",this.styleClass="",this.zIndex=0,this.pos="center"}get align(){switch(this.pos){case"center":case"left":case"right":return"center";case"top":case"top-left":case"top-right":return"flex-start";case"bottom":case"bottom-left":case"bottom-right":return"flex-end"}}get justify(){switch(this.pos){case"center":case"top":case"bottom":return"center";case"left":case"top-left":case"bottom-left":return"flex-start";case"right":case"top-right":case"bottom-right":return"flex-end"}}wait(x){var R,b,s,F;this.blocked=!0,this.isWait=!0,this.message=null!==(R=null==x?void 0:x.message)&&void 0!==R?R:"",this.styleClass=null!==(b=null==x?void 0:x.styleClass)&&void 0!==b?b:"",this.zIndex=null!==(s=null==x?void 0:x.zIndex)&&void 0!==s?s:0,this.icon="",this.pos=null!==(F=null==x?void 0:x.pos)&&void 0!==F?F:"center"}block(x){var R,b,s,F,O;this.blocked=!0,this.isWait=!1,this.message=null!==(R=null==x?void 0:x.message)&&void 0!==R?R:"",this.styleClass=null!==(b=null==x?void 0:x.styleClass)&&void 0!==b?b:"",this.zIndex=null!==(s=null==x?void 0:x.zIndex)&&void 0!==s?s:0,this.icon=null!==(F=null==x?void 0:x.icon)&&void 0!==F?F:"",this.pos=null!==(O=null==x?void 0:x.pos)&&void 0!==O?O:"center"}unblock(){this.blocked=!1}}return u.\u0275fac=function(x){return new(x||u)},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9014:(dn,pt,C)=>{"use strict";C.d(pt,{a:()=>R});var e=C(5e3),d=C(8738),u=C(8007),p=C(8028),x=C(9783);let R=(()=>{class b{constructor(F,O,Q,N){this.api=F,this.rt=O,this.personality=Q,this.messageService=N,this.chats=[],this.open=new e.vpe,this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},Q.userLogin$.subscribe(T=>{this.rt.chatCreated(T).subscribe(this.createChat.bind(this)),this.rt.chatMessageCreated(T).subscribe(y=>{y.parentChatId!==this.currentOpenChat?(this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then(),this.messageService.add({key:"chatMessage",severity:"chatmsg",data:y,life:3e4})):this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then()})}),this.rt.chatUpdated().subscribe(this.updateChat.bind(this)),this.rt.chatClosed().subscribe(this.closeChat.bind(this)),this.open.subscribe(()=>this.messageService.clear("chatMessage"))}createChat(F){this.chats.push(F)}updateChat(F){const O=this.chats.findIndex(Q=>Q.chatId===F.chatId);-1!=O&&(this.chats[O]=F)}closeChat(F){const O=this.chats.findIndex(Q=>Q.chatId===F.chatId);-1!=O&&this.chats.splice(O,1)}getChats(){this.api.getMyActiveChats().subscribe(F=>{this.chats=F;for(const O of F);})}}return b.\u0275fac=function(F){return new(F||b)(e.LFG(d.s),e.LFG(u.U),e.LFG(p.F),e.LFG(x.ez))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},963:(dn,pt,C)=>{"use strict";C.d(pt,{f:()=>u});var e=C(383),d=C(5e3);let u=(()=>{class p{constructor(){this.cachingMap={};const R=e.Ke.loadOrDefault("commentCaching","{}");this.cachingMap=JSON.parse(R)}read(R){var b;return null!==(b=this.cachingMap[R])&&void 0!==b?b:""}write(R,b){""!==b?(this.cachingMap[R]=b,e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))):this.flush(R)}flush(R){delete this.cachingMap[R],e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))}}return p.\u0275fac=function(R){return new(R||p)},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},1514:(dn,pt,C)=>{"use strict";C.d(pt,{r:()=>p});var e=C(5e3),d=C(9808),u=C(3470);let p=(()=>{class x{constructor(b,s){this.location=b,this.router=s}backOrDefault(b){1!==this.location.getState().navigationId?this.location.back():this.router.navigate(b).then()}}return x.\u0275fac=function(b){return new(b||x)(e.LFG(d.Ye),e.LFG(u.F0))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},3064:(dn,pt,C)=>{"use strict";C.d(pt,{E:()=>u});var e=C(7579),d=C(5e3);let u=(()=>{class p{constructor(){this.mediaEmitter$=new e.x,this.mediaAlbumEmitter$=new e.x}showMedia(R){this.mediaEmitter$.next(R)}showMediaAlbum(R,b){this.mediaAlbumEmitter$.next({index:R,album:b})}media(){return this.mediaEmitter$.pipe()}mediaAlbum(){return this.mediaAlbumEmitter$.pipe()}}return p.\u0275fac=function(R){return new(R||p)},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},9744:(dn,pt,C)=>{"use strict";C.d(pt,{T:()=>F});var e=C(7384),d=C(8028),u=C(3900),p=C(5e3),x=C(8738),R=C(8007),s=(()=>{return(O=s||(s={}))[O.ALL=0]="ALL",O[O.UNREAD=1]="UNREAD",s;var O})();let F=(()=>{class O{constructor(N,T,y){this.api=N,this.rt=T,this.personality=y,this.receivedNotifications=[],this.timers={},this.displaySideBar=!1,this.unreadCount=0,this.notificationViewMode=s.UNREAD,this.titles={[e.k$.NEW_COMMENT]:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",[e.k$.TASK_CREATED]:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",[e.k$.TASK_EDITED]:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",[e.k$.TASK_DELETED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",[e.k$.TASK_CLOSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430",[e.k$.TASK_REOPENED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",[e.k$.TASK_PROCESSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430",[e.k$.TASK_STAGE_CHANGED]:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d",[e.k$.YOU_OBSERVER]:"\u0412\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c",[e.k$.YOU_RESPONSIBLE]:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",[e.k$.TASK_HAS_BECOME_ACTUAL]:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f",[e.k$.TASK_EXPIRED]:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a",[e.k$.WORKS_COMPLETED]:"\u0420\u0430\u0431\u043e\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b",[e.k$.REPORT_RECEIVED]:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d",[e.k$.MENTIONED_IN_TASK]:"\u0412\u0430\u0441 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438"},this.icons={[e.k$.NEW_COMMENT]:"mdi-add_comment",[e.k$.TASK_CREATED]:"mdi-add_task",[e.k$.TASK_EDITED]:"mdi-edit",[e.k$.TASK_DELETED]:"mdi-delete",[e.k$.TASK_CLOSED]:"mdi-swipe_down_alt",[e.k$.TASK_REOPENED]:"mdi-swipe_up_alt",[e.k$.TASK_PROCESSED]:"mdi-how_to_reg",[e.k$.TASK_STAGE_CHANGED]:"mdi-next_week",[e.k$.YOU_OBSERVER]:"mdi-visibility",[e.k$.YOU_RESPONSIBLE]:"mdi-person",[e.k$.TASK_HAS_BECOME_ACTUAL]:"mdi-event_available",[e.k$.TASK_EXPIRED]:"mdi-event_busy",[e.k$.WORKS_COMPLETED]:"mdi-fact_check",[e.k$.REPORT_RECEIVED]:"mdi-edit_note",[e.k$.MENTIONED_IN_TASK]:"mdi-campaign"},this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.api.getCountOfUnreadNotifications().subscribe({next:w=>{this.unreadCount=w}}),this.load(),y.userLogin$.pipe((0,u.w)(w=>this.rt.notificationCreated(w))).subscribe(this.createNotificationHandler.bind(this)),y.userLogin$.pipe((0,u.w)(w=>this.rt.notificationUpdated(w))).subscribe(this.updateNotificationHandler.bind(this)),Notification.requestPermission().then(w=>console.log(w))}get isEmpty(){var N;return!(null!==(N=this.notifications)&&void 0!==N&&N.content)||0===this.notifications.content.length}get list(){var N,T;return null!==(T=null===(N=this.notifications)||void 0===N?void 0:N.content)&&void 0!==T?T:[]}get isLast(){var N,T;return null!==(T=null===(N=this.notifications)||void 0===N?void 0:N.last)&&void 0!==T&&T}get isHasUnread(){return this.unreadCount>0}showSideBar(){this.displaySideBar=!0,this.receivedNotifications=[],Object.entries(this.timers).forEach(([N,T])=>{clearTimeout(T),delete this.timers[parseInt(N)]})}changeNotificationViewMode(N){this.notificationViewMode=N,this.notifications=void 0,this.load()}readAllNotifications(){this.isHasUnread&&this.api.readAllNotifications().subscribe({next:()=>{this.unreadCount=0,this.notifications=void 0}}),this.notificationViewMode=s.UNREAD,this.notifications=void 0}load(){this.notifications?this.api.getNotifications(this.notifications.pageable.offset+25,25,this.notificationViewMode===s.UNREAD).subscribe({next:N=>{var T,y;N.content=[...null!==(y=null===(T=this.notifications)||void 0===T?void 0:T.content)&&void 0!==y?y:[],...N.content],this.notifications=N}}):this.api.getNotifications(0,25,this.notificationViewMode===s.UNREAD).subscribe({next:N=>{this.notifications=N}})}suspendClosing(N){!this.timers[N]||(clearTimeout(this.timers[N]),delete this.timers[N])}resumeClosure(N){this.timers[N]||(this.timers[N]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(T=>T.notificationId!==N),delete this.timers[N]},1e4))}close(N){this.timers[N]&&(clearTimeout(this.timers[N]),delete this.timers[N]),this.receivedNotifications=this.receivedNotifications.filter(T=>T.notificationId!==N)}playNotifySound(){this.personality.focusStatus===d.P.FOCUS?this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then():this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then()}showExternalNotification(N){new Notification(this.titles[N.type],{body:N.message})}createNotificationHandler(N){var T,y,w;this.displaySideBar||(this.receivedNotifications.unshift(N),this.timers[N.notificationId]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(k=>k.notificationId!==N.notificationId),delete this.timers[N.notificationId]},1e4)),this.unreadCount++,this.personality.focusStatus===d.P.BLUR&&this.showExternalNotification(N),this.playNotifySound(),null!==(T=this.notifications)&&void 0!==T&&T.content&&(this.notifications.content.find(k=>k.notificationId===N.notificationId)||null===(w=null===(y=this.notifications)||void 0===y?void 0:y.content)||void 0===w||w.unshift(N))}updateNotificationHandler(N){var T;if(null===(T=this.notifications)||void 0===T||!T.content)return;const y=this.notifications.content.findIndex(w=>w.notificationId===N.notificationId);-1!==y&&(this.notifications.content[y]=N)}}return O.\u0275fac=function(N){return new(N||O)(p.LFG(x.s),p.LFG(R.U),p.LFG(d.F))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},8028:(dn,pt,C)=>{"use strict";C.d(pt,{P:()=>K,F:()=>H});var e=C(7384),d=C(1135),u=C(9300),p=C(4782),x=C(1884),R=C(4004),b=C(4968),s=C(8505);function F(D){this.message=D}(F.prototype=new Error).name="InvalidCharacterError";var O="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(D){var P=String(D).replace(/=+$/,"");if(P.length%4==1)throw new F("'atob' failed: The string to be decoded is not correctly encoded.");for(var Y,re,j=0,G=0,ie="";re=P.charAt(G++);~re&&(Y=j%4?64*Y+re:re,j++%4)?ie+=String.fromCharCode(255&Y>>(-2*j&6)):0)re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(re);return ie};function N(D){this.message=D}(N.prototype=new Error).name="InvalidTokenError";var w=C(6309),k=C(5e3),V=C(8738),U=C(8007),oe=C(3470),K=(()=>{return(D=K||(K={})).FOCUS="FOCUS",D.NO_TOUCH="NO_TOUCH",D.BLUR="BLUR",K;var D})();let H=(()=>{class D{constructor(Y,re,j){this.api=Y,this.rt=re,this.router=j,this.focusStatus=K.BLUR,this.onGettingUserData=new d.X(null),this.userData$=this.onGettingUserData.pipe((0,u.h)(G=>!!G),(0,p.d)(1)),this.userLogin$=this.userData$.pipe((0,x.x)((G,ie)=>(null==G?void 0:G.login)===(null==ie?void 0:ie.login)),(0,R.U)(G=>G.login),(0,p.d)(1)),this.lastTouch=0,this.updateMe().subscribe(),(0,b.R)(window,"focus").subscribe(G=>{!this.api.loggedIn||(this.focusStatus=K.FOCUS,this.api.changeMyStatus(e.LE.ONLINE).subscribe())}),(0,b.R)(window,"blur").subscribe(G=>{!this.api.loggedIn||(this.focusStatus=K.BLUR,this.api.changeMyStatus(e.LE.AWAY).subscribe())}),(0,b.R)(document,"mousemove").subscribe(()=>{this.lastTouch=(new Date).getTime()}),setInterval(()=>{!this.api.loggedIn||(new Date).getTime()-this.lastTouch>3e4&&this.focusStatus===K.FOCUS&&(this.focusStatus=K.NO_TOUCH,this.api.changeMyStatus(e.LE.AWAY).subscribe())},1e3),setInterval(()=>{const G=(new Date).getTime(),ie=localStorage.getItem("token");ie&&1e3*function T(D,P){if("string"!=typeof D)throw new N("Invalid token specified");var Y=!0===(P=P||{}).header?0:1;try{return JSON.parse(function Q(D){var P=D.replace(/-/g,"+").replace(/_/g,"/");switch(P.length%4){case 0:break;case 2:P+="==";break;case 3:P+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(O(P).replace(/(.)/g,function(re,j){var G=j.charCodeAt(0).toString(16).toUpperCase();return G.length<2&&(G="0"+G),"%"+G}))}catch(Y){return O(P)}}(D.split(".")[Y]))}catch(re){throw new N("Invalid token specified: "+re.message)}}(ie).exp-G<3e4&&(this.api.authCheckout().subscribe(),console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430"))},1e4)}updateMe(){return this.api.getMe().pipe((0,s.b)({next:Y=>{this.me=Y,this.onGettingUserData.next(Y),this.meUpdate&&this.meUpdate.unsubscribe(),this.meUpdate=this.rt.employeeUpdated(Y.login).subscribe(re=>{this.me=re,this.onGettingUserData.next(re)})}}))}isHasAccess(...Y){var re;return!!this.me&&(this.me.access?w.j.isHasFlag(this.me.access,...Y):!(null===(re=this.me.position)||void 0===re||!re.access)&&w.j.isHasFlag(this.me.position.access,...Y))}}return D.\u0275fac=function(Y){return new(Y||D)(k.LFG(V.s),k.LFG(U.U),k.LFG(oe.F0))},D.\u0275prov=k.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},8007:(dn,pt,C)=>{"use strict";C.d(pt,{U:()=>O});var e=C(8746),d=C(3099),u=C(4004),p=C(383),x=C(9814),R=C(5111),b=C(5e3),s=C(6073),F=C(6768);let O=(()=>{class Q{constructor(T,y){this.stomp=T,this.blockUiService=y,this.watchCacheMap={},this.connectionState$=this.stomp.connectionState$;const w={message:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c",styleClass:"text-red-400",icon:"mds-error",pos:"bottom"};this.connectionState$.subscribe({next:k=>{k===R.U.OPEN?this.blockUiService.unblock():this.blockUiService.block(w)},error:()=>this.blockUiService.block(w)})}commentCreated(T){return this.watch("task",T.toString(),"comment","create")}commentUpdated(T){return this.watch("task",T.toString(),"comment","update")}commentDeleted(T){return this.watch("task",T.toString(),"comment","delete")}taskEventCreated(T){return this.watch("task",T.toString(),"event","create")}employeeCreated(){return this.watch("employee","create")}employeeUpdated(T){return T?this.watch("employee",T,"update"):this.watch("employee","update")}employeeDeleted(){return this.watch("employee","delete")}departmentCreated(){return this.watch("department","create")}departmentUpdated(T){return T?this.watch("department",T.toString(),"update"):this.watch("department","update")}departmentDeleted(){return this.watch("department","delete")}positionCreated(){return this.watch("position","create")}positionUpdated(T){return T?this.watch("position",T.toString(),"update"):this.watch("position","update")}positionDeleted(){return this.watch("position","delete")}taskTagCreated(){return this.watch("task-tag","create")}taskTagUpdated(){return this.watch("task-tag","update")}taskTagDeleted(){return this.watch("task-tag","delete")}taskUpdated(T){return T?this.watch("task",T.toString(),"update"):this.watch("task","update")}taskDeleted(T){return T?this.watch("task",T.toString(),"delete"):this.watch("task","delete")}taskCreated(){return this.watch("task","create")}taskMoved(){return this.watch("task","moved")}incomingTaskCreated(T){return this.watchUnicast(T,"task","create")}incomingTaskDeleted(T){return this.watchUnicast(T,"task","delete")}notificationCreated(T){return this.watchUnicast(T,"notification","create")}notificationUpdated(T){return this.watchUnicast(T,"notification","update")}chatMessageCreated(T){return this.watchUnicast(T,"chat","message","create")}chatMessageCreatedByChat(T){return this.watch("chat",T.toString(),"message","create")}chatMessageUpdated(T){return this.watch("chat",T.toString(),"message","update")}chatMessageDeleted(T){return this.watch("chat",T.toString(),"message","delete")}updateTrackerParserState(){return this.watch("parser","tracker","update")}parserMessageReceived(){return this.watch("parser","message")}updateCountUnreadMessages(T){return this.watchUnicast(T,"chat","message","unread")}chatCreated(T){return this.watchUnicast(T,"chat","create")}chatUpdated(){return this.watch("chat","update")}chatClosed(){return this.watch("chat","close")}workLogCreated(){return this.watch("worklog","create")}workLogUpdated(T){return T?this.watch("work-log",T.toString(),"update"):this.watch("worklog","update")}workLogClosed(){return this.watch("worklog","close")}workLogDeleted(T){return T?this.watch("work-log",T.toString(),"delete"):this.watch("worklog","delete")}wireframeCreated(){return this.watch("wireframe","create")}wireframeUpdated(T){return T?this.watch("wireframe",T.toString(),"update"):this.watch("wireframe","update")}wireframeDeleted(T){return T?this.watch("wireframe",T.toString(),"delete"):this.watch("wireframe","delete")}paidActionCreated(){return this.watch("paid-action","create")}paidActionUpdated(T){return T?this.watch("paid-action",T.toString(),"update"):this.watch("paid-action","update")}paidActionDeleted(T){return T?this.watch("paid-action",T.toString(),"delete"):this.watch("paid-action","delete")}paidWorksTreeMoved(){return this.watch("paid-works","tree","move")}paidWorksTreeUpdated(){return this.watch("paid-works","tree","update")}paidWorksTreeCreated(){return this.watch("paid-works","tree","create")}paidWorksTreeDeleted(){return this.watch("paid-works","tree","delete")}worksTreeReposition(){return this.watch("paid-works","tree","reposition")}paidWorkUpdated(T){return T?this.watch("paid-work",T.toString(),"update"):this.watch("paid-work","update")}cityCreated(){return this.watch("city","create")}cityUpdated(T){return T?this.watch("city",T.toString(),"update"):this.watch("city","update")}cityDeleted(T){return T?this.watch("city",T.toString(),"delete"):this.watch("city","delete")}streetCreated(){return this.watch("street","create")}streetUpdated(T){return T?this.watch("street",T.toString(),"update"):this.watch("street","update")}streetDeleted(T){return T?this.watch("street",T.toString(),"delete"):this.watch("street","delete")}houseCreated(){return this.watch("house","create")}houseUpdated(T){return T?this.watch("house",T.toString(),"update"):this.watch("house","update")}houseDeleted(T){return T?this.watch("house",T.toString(),"delete"):this.watch("house","delete")}billingUserUpdated(T){return T?this.watch("billing","user",T,"update"):this.watch("billing","user","update")}pingMonitoring(T){return this.watch("monitoring","ping",T)}billingConfigChanged(){return this.watch("billing-config","change")}telegramConfigChanged(){return this.watch("telegram-config","change")}acpConfigChanged(){return this.watch("acp-config","change")}salaryTableUpdated(){return this.watch("salary-table","update")}clientEquipmentsCreated(){return this.watch("client-equipment","create")}clientEquipmentsUpdated(){return this.watch("client-equipment","update")}clientEquipmentsDeleted(){return this.watch("client-equipment","delete")}acpDhcpBindingUpdated(){return this.watch("acp","dhcp-binding","update")}acpDhcpBindingHousePageUpdateSignal(){return this.watch("acp","dhcp-binding","house-page","update")}acpCommutatorStatusUpdated(){return this.watch("acp","commutator","status","update")}acpCommutatorCreated(){return this.watch("acp","commutator","create")}acpCommutatorUpdated(){return this.watch("acp","commutator","update")}acpCommutatorDeleted(){return this.watch("acp","commutator","delete")}acpCommutatorsRemoteUpdatePool(){return this.watch("acp","commutator","remote-update-pool")}acpBaseCommutatorCreated(){return this.watch("acp","commutator","base","create")}acpBaseCommutatorUpdated(){return this.watch("acp","commutator","base","update")}acpBaseCommutatorDeleted(){return this.watch("acp","commutator","base","delete")}watchUnicast(...T){return this.getObservable("user",...T)}watch(...T){return this.getObservable("api",...T)}getObservable(T,...y){const w=`/${T}/${y.join("/")}`,k=this.generateHash(w);let V=null;return this.watchCacheMap[k]?V=this.watchCacheMap[k]:(V=this.stomp.watch(w).pipe((0,e.x)(this.deleteFromCache.bind(this,w)),(0,d.B)(),(0,u.U)(U=>JSON.parse(U.body))),this.watchCacheMap[k]=V),V}generateHash(T){return(0,p.d4)(T,0)}deleteFromCache(T){delete this.watchCacheMap[T]}incomingTaskCountChange(T){return this.watchUnicast(T,"task","count","change")}taskCountChange(){return this.watch("task","count","change")}updateTaskCount(T,y,w,k,V,U,oe,K,H,D){var P,Y,re;const j=x.d.convertToPath([T.toLowerCase(),null!=y?y:null,null!=w?w:null,null!=k?k:null,null!=V?V:null,null!=U?U:null,null!==(P=null==oe?void 0:oe.timeFrame)&&void 0!==P?P:null,null!==(Y=null==K?void 0:K.timeFrame)&&void 0!==Y?Y:null,null!==(re=null==H?void 0:H.timeFrame)&&void 0!==re?re:null,null!=D?D:null]);return this.watch("task","counter",...j)}incomingTagTaskCountChange(T){return this.watchUnicast(T,"task","tag","count","change")}tagTaskCountChange(){return this.watch("task","tag","count","change")}updateFilesDirectory(){return this.watch("files","directory","update")}afterWorksAppend(T){return this.watchUnicast(T,"after-work","append")}afterWorksRemoved(T){return this.watchUnicast(T,"after-work","remove")}createTypeOfContract(){return this.watch("contract","type","create")}updateTypeOfContract(){return this.watch("contract","type","update")}deleteTypeOfContract(){return this.watch("contract","type","delete")}updatingMarkedContracts(){return this.watch("contract","marked","update")}remoteTelnetConnection(T,y){return this.watch("remote","telnet",T,y)}telnetConnectionMessage(T){return this.watchUnicast(T,"remote","telnet","connection-message")}}return Q.\u0275fac=function(T){return new(T||Q)(b.LFG(s.f),b.LFG(F.A))},Q.\u0275prov=b.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},6073:(dn,pt,C)=>{"use strict";C.d(pt,{f:()=>re});var e=C(5861),d=C(1135),u=C(9300),p=C(7579),x=C(9751),R=C(5698),b=C(3099),s=C(3905);const F_LF="\n",F_NULL="\0";class O{constructor(G){const{command:ie,headers:Te,body:Me,binaryBody:de,escapeHeaderValues:te,skipContentLengthHeader:ce}=G;this.command=ie,this.headers=Object.assign({},Te||{}),de?(this._binaryBody=de,this.isBinaryBody=!0):(this._body=Me||"",this.isBinaryBody=!1),this.escapeHeaderValues=te||!1,this.skipContentLengthHeader=ce||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(G,ie){const Te={},Me=de=>de.replace(/^\s+|\s+$/g,"");for(const de of G.headers.reverse()){de.indexOf(":");const ce=Me(de[0]);let J=Me(de[1]);ie&&"CONNECT"!==G.command&&"CONNECTED"!==G.command&&(J=O.hdrValueUnEscape(J)),Te[ce]=J}return new O({command:G.command,headers:Te,binaryBody:G.binaryBody,escapeHeaderValues:ie})}toString(){return this.serializeCmdAndHeaders()}serialize(){const G=this.serializeCmdAndHeaders();return this.isBinaryBody?O.toUnit8Array(G,this._binaryBody).buffer:G+this._body+F_NULL}serializeCmdAndHeaders(){const G=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const ie of Object.keys(this.headers||{})){const Te=this.headers[ie];G.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${ie}:${O.hdrValueEscape(`${Te}`)}`:`${ie}:${Te}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&G.push(`content-length:${this.bodyLength()}`),G.join(F_LF)+F_LF+F_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const G=this.binaryBody;return G?G.length:0}static sizeOfUTF8(G){return G?(new TextEncoder).encode(G).length:0}static toUnit8Array(G,ie){const Te=(new TextEncoder).encode(G),Me=new Uint8Array([0]),de=new Uint8Array(Te.length+ie.length+Me.length);return de.set(Te),de.set(ie,Te.length),de.set(Me,Te.length+ie.length),de}static marshall(G){return new O(G).serialize()}static hdrValueEscape(G){return G.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(G){return G.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class w{constructor(G,ie){this.onFrame=G,this.onIncomingPing=ie,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(G,ie=!1){let Te;if(Te="string"==typeof G?this._encoder.encode(G):new Uint8Array(G),ie&&0!==Te[Te.length-1]){const Me=new Uint8Array(Te.length+1);Me.set(Te,0),Me[Te.length]=0,Te=Me}for(let Me=0;Me<Te.length;Me++)this._onByte(Te[Me])}_collectFrame(G){if(0!==G&&13!==G){if(10===G)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(G)}}_collectCommand(G){if(13!==G){if(10===G)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(G)}}_collectHeaders(G){if(13!==G){if(10===G)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(G)}}_reinjectByte(G){this._onByte(G)}_collectHeaderKey(G){if(58===G)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(G)}_collectHeaderValue(G){if(13!==G){if(10===G)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(G)}}_setupCollectBody(){const G=this._results.headers.filter(ie=>"content-length"===ie[0])[0];G?(this._bodyBytesRemaining=parseInt(G[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(G){0!==G?this._consumeByte(G):this._retrievedBody()}_collectBodyFixedSize(G){0!=this._bodyBytesRemaining--?this._consumeByte(G):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(G){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",G)}this._initState()}_consumeByte(G){this._token.push(G)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const G=new Uint8Array(this._token);return this._token=[],G}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var k,j,V;(j=k=k||(k={}))[j.CONNECTING=0]="CONNECTING",j[j.OPEN=1]="OPEN",j[j.CLOSING=2]="CLOSING",j[j.CLOSED=3]="CLOSED",function(j){j[j.ACTIVE=0]="ACTIVE",j[j.DEACTIVATING=1]="DEACTIVATING",j[j.INACTIVE=2]="INACTIVE"}(V=V||(V={}));class U{constructor(G){this.versions=G}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(G=>`v${G.replace(".","")}.stomp`)}}U.V1_0="1.0",U.V1_1="1.1",U.V1_2="1.2",U.default=new U([U.V1_2,U.V1_1,U.V1_0]);class K{constructor(G,ie,Te){this._client=G,this._webSocket=ie,this._connected=!1,this._serverFrameHandlers={CONNECTED:Me=>{this.debug(`connected to server ${Me.headers.server}`),this._connected=!0,this._connectedVersion=Me.headers.version,this._connectedVersion===U.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(Me.headers),this.onConnect(Me)},MESSAGE:Me=>{const de=Me.headers.subscription,te=this._subscriptions[de]||this.onUnhandledMessage,ce=Me,J=this,ve=this._connectedVersion===U.V1_2?ce.headers.ack:ce.headers["message-id"];ce.ack=(be={})=>J.ack(ve,de,be),ce.nack=(be={})=>J.nack(ve,de,be),te(ce)},RECEIPT:Me=>{const de=this._receiptWatchers[Me.headers["receipt-id"]];de?(de(Me),delete this._receiptWatchers[Me.headers["receipt-id"]]):this.onUnhandledReceipt(Me)},ERROR:Me=>{this.onStompError(Me)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=Te.debug,this.stompVersions=Te.stompVersions,this.connectHeaders=Te.connectHeaders,this.disconnectHeaders=Te.disconnectHeaders,this.heartbeatIncoming=Te.heartbeatIncoming,this.heartbeatOutgoing=Te.heartbeatOutgoing,this.splitLargeFrames=Te.splitLargeFrames,this.maxWebSocketChunkSize=Te.maxWebSocketChunkSize,this.forceBinaryWSFrames=Te.forceBinaryWSFrames,this.logRawCommunication=Te.logRawCommunication,this.appendMissingNULLonIncoming=Te.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=Te.discardWebsocketOnCommFailure,this.onConnect=Te.onConnect,this.onDisconnect=Te.onDisconnect,this.onStompError=Te.onStompError,this.onWebSocketClose=Te.onWebSocketClose,this.onWebSocketError=Te.onWebSocketError,this.onUnhandledMessage=Te.onUnhandledMessage,this.onUnhandledReceipt=Te.onUnhandledReceipt,this.onUnhandledFrame=Te.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const G=new w(ie=>{const Te=O.fromRawFrame(ie,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${Te}`),(this._serverFrameHandlers[Te.command]||this.onUnhandledFrame)(Te)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=ie=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const Te=ie.data instanceof ArrayBuffer?(new TextDecoder).decode(ie.data):ie.data;this.debug(`<<< ${Te}`)}G.parseChunk(ie.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=ie=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(ie)},this._webSocket.onerror=ie=>{this.onWebSocketError(ie)},this._webSocket.onopen=()=>{const ie=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),ie["accept-version"]=this.stompVersions.supportedVersions(),ie["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:ie})}}_setupHeartbeat(G){if(G.version!==U.V1_1&&G.version!==U.V1_2||!G["heart-beat"])return;const[ie,Te]=G["heart-beat"].split(",").map(Me=>parseInt(Me,10));if(0!==this.heartbeatOutgoing&&0!==Te){const Me=Math.max(this.heartbeatOutgoing,Te);this.debug(`send PING every ${Me}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===k.OPEN&&(this._webSocket.send(F_LF),this.debug(">>> PING"))},Me)}if(0!==this.heartbeatIncoming&&0!==ie){const Me=Math.max(this.heartbeatIncoming,ie);this.debug(`check PONG every ${Me}ms`),this._ponger=setInterval(()=>{const de=Date.now()-this._lastServerActivityTS;de>2*Me&&(this.debug(`did not receive server activity for the last ${de}ms`),this._closeOrDiscardWebsocket())},Me)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===k.CONNECTING||this._webSocket.readyState===k.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function oe(j,G){j.terminate=function(){const ie=()=>{};this.onerror=ie,this.onmessage=ie,this.onopen=ie;const Te=new Date,Me=Math.random().toString().substring(2,8),de=this.onclose;this.onclose=te=>{const ce=(new Date).getTime()-Te.getTime();G(`Discarded socket (#${Me})  closed after ${ce}ms, with code/reason: ${te.code}/${te.reason}`)},this.close(),null==de||de.call(j,{code:4001,reason:`Quick discarding socket (#${Me}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,G=>this.debug(G)),this._webSocket.terminate()}_transmit(G){const{command:ie,headers:Te,body:Me,binaryBody:de,skipContentLengthHeader:te}=G,ce=new O({command:ie,headers:Te,body:Me,binaryBody:de,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:te});let J=ce.serialize();if(this.debug(this.logRawCommunication?`>>> ${J}`:`>>> ${ce}`),this.forceBinaryWSFrames&&"string"==typeof J&&(J=(new TextEncoder).encode(J)),"string"==typeof J&&this.splitLargeFrames){let ve=J;for(;ve.length>0;){const be=ve.substring(0,this.maxWebSocketChunkSize);ve=ve.substring(this.maxWebSocketChunkSize),this._webSocket.send(be),this.debug(`chunk sent = ${be.length}, remaining = ${ve.length}`)}}else this._webSocket.send(J)}dispose(){if(this.connected)try{const G=Object.assign({},this.disconnectHeaders);G.receipt||(G.receipt="close-"+this._counter++),this.watchForReceipt(G.receipt,ie=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(ie)}),this._transmit({command:"DISCONNECT",headers:G})}catch(G){this.debug(`Ignoring error during disconnect ${G}`)}else(this._webSocket.readyState===k.CONNECTING||this._webSocket.readyState===k.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(G){const{destination:ie,headers:Te,body:Me,binaryBody:de,skipContentLengthHeader:te}=G,ce=Object.assign({destination:ie},Te);this._transmit({command:"SEND",headers:ce,body:Me,binaryBody:de,skipContentLengthHeader:te})}watchForReceipt(G,ie){this._receiptWatchers[G]=ie}subscribe(G,ie,Te={}){(Te=Object.assign({},Te)).id||(Te.id="sub-"+this._counter++),Te.destination=G,this._subscriptions[Te.id]=ie,this._transmit({command:"SUBSCRIBE",headers:Te});const Me=this;return{id:Te.id,unsubscribe:de=>Me.unsubscribe(Te.id,de)}}unsubscribe(G,ie={}){ie=Object.assign({},ie),delete this._subscriptions[G],ie.id=G,this._transmit({command:"UNSUBSCRIBE",headers:ie})}begin(G){const ie=G||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:ie}});const Te=this;return{id:ie,commit(){Te.commit(ie)},abort(){Te.abort(ie)}}}commit(G){this._transmit({command:"COMMIT",headers:{transaction:G}})}abort(G){this._transmit({command:"ABORT",headers:{transaction:G}})}ack(G,ie,Te={}){Te=Object.assign({},Te),this._connectedVersion===U.V1_2?Te.id=G:Te["message-id"]=G,Te.subscription=ie,this._transmit({command:"ACK",headers:Te})}nack(G,ie,Te={}){return Te=Object.assign({},Te),this._connectedVersion===U.V1_2?Te.id=G:Te["message-id"]=G,Te.subscription=ie,this._transmit({command:"NACK",headers:Te})}}class H{constructor(G={}){this.stompVersions=U.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=V.INACTIVE;const ie=()=>{};this.debug=ie,this.beforeConnect=ie,this.onConnect=ie,this.onDisconnect=ie,this.onUnhandledMessage=ie,this.onUnhandledReceipt=ie,this.onUnhandledFrame=ie,this.onStompError=ie,this.onWebSocketClose=ie,this.onWebSocketError=ie,this.logRawCommunication=!1,this.onChangeState=ie,this.connectHeaders={},this._disconnectHeaders={},this.configure(G)}get webSocket(){var G;return null==(G=this._stompHandler)?void 0:G._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(G){this._disconnectHeaders=G,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===V.ACTIVE}_changeState(G){this.state=G,this.onChangeState(G)}configure(G){Object.assign(this,G)}activate(){const G=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(V.ACTIVE),this._connect())};this.state===V.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{G()})):G()}_connect(){var G=this;return(0,e.Z)(function*(){if(yield G.beforeConnect(),G._stompHandler)return void G.debug("There is already a stompHandler, skipping the call to connect");if(!G.active)return void G.debug("Client has been marked inactive, will not attempt to connect");G.connectionTimeout>0&&(G._connectionWatcher&&clearTimeout(G._connectionWatcher),G._connectionWatcher=setTimeout(()=>{G.connected||(G.debug(`Connection not established in ${G.connectionTimeout}ms, closing socket`),G.forceDisconnect())},G.connectionTimeout)),G.debug("Opening Web Socket...");const ie=G._createWebSocket();G._stompHandler=new K(G,ie,{debug:G.debug,stompVersions:G.stompVersions,connectHeaders:G.connectHeaders,disconnectHeaders:G._disconnectHeaders,heartbeatIncoming:G.heartbeatIncoming,heartbeatOutgoing:G.heartbeatOutgoing,splitLargeFrames:G.splitLargeFrames,maxWebSocketChunkSize:G.maxWebSocketChunkSize,forceBinaryWSFrames:G.forceBinaryWSFrames,logRawCommunication:G.logRawCommunication,appendMissingNULLonIncoming:G.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:G.discardWebsocketOnCommFailure,onConnect:Te=>{if(G._connectionWatcher&&(clearTimeout(G._connectionWatcher),G._connectionWatcher=void 0),!G.active)return G.debug("STOMP got connected while deactivate was issued, will disconnect now"),void G._disposeStompHandler();G.onConnect(Te)},onDisconnect:Te=>{G.onDisconnect(Te)},onStompError:Te=>{G.onStompError(Te)},onWebSocketClose:Te=>{G._stompHandler=void 0,G.state===V.DEACTIVATING&&G._changeState(V.INACTIVE),G.onWebSocketClose(Te),G.active&&G._schedule_reconnect()},onWebSocketError:Te=>{G.onWebSocketError(Te)},onUnhandledMessage:Te=>{G.onUnhandledMessage(Te)},onUnhandledReceipt:Te=>{G.onUnhandledReceipt(Te)},onUnhandledFrame:Te=>{G.onUnhandledFrame(Te)}}),G._stompHandler.start()})()}_createWebSocket(){let G;if(this.webSocketFactory)G=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");G=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return G.binaryType="arraybuffer",G}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(G={}){var ie=this;return(0,e.Z)(function*(){var te;const Te=G.force||!1,Me=ie.active;let de;if(ie.state===V.INACTIVE)return ie.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(ie._changeState(V.DEACTIVATING),ie._reconnector&&(clearTimeout(ie._reconnector),ie._reconnector=void 0),!ie._stompHandler||ie.webSocket.readyState===k.CLOSED)return ie._changeState(V.INACTIVE),Promise.resolve();{const ce=ie._stompHandler.onWebSocketClose;de=new Promise((J,ve)=>{ie._stompHandler.onWebSocketClose=be=>{ce(be),J()}})}return Te?null==(te=ie._stompHandler)||te.discardWebsocket():Me&&ie._disposeStompHandler(),de})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(G){this._checkConnection(),this._stompHandler.publish(G)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(G,ie){this._checkConnection(),this._stompHandler.watchForReceipt(G,ie)}subscribe(G,ie,Te={}){return this._checkConnection(),this._stompHandler.subscribe(G,ie,Te)}unsubscribe(G,ie={}){this._checkConnection(),this._stompHandler.unsubscribe(G,ie)}begin(G){return this._checkConnection(),this._stompHandler.begin(G)}commit(G){this._checkConnection(),this._stompHandler.commit(G)}abort(G){this._checkConnection(),this._stompHandler.abort(G)}ack(G,ie,Te={}){this._checkConnection(),this._stompHandler.ack(G,ie,Te)}nack(G,ie,Te={}){this._checkConnection(),this._stompHandler.nack(G,ie,Te)}}var D=C(5111),Y=C(5e3);let re=(()=>{class j extends class P{get stompClient(){return this._stompClient}constructor(G){this._queuedMessages=[];const ie=G||new H;this._stompClient=ie;const Te=()=>{};this._beforeConnect=Te,this._correlateErrors=()=>{},this._debug=Te,this._connectionStatePre$=new d.X(D.U.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,u.h)(Me=>Me===D.U.OPEN)),this.connectionState$=new d.X(D.U.CLOSED),this.connected$=this.connectionState$.pipe((0,u.h)(Me=>Me===D.U.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new d.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,u.h)(Me=>null!==Me)),this.stompErrors$=new p.x,this.unhandledMessage$=new p.x,this.unhandledReceipts$=new p.x,this.unhandledFrame$=new p.x,this.webSocketErrors$=new p.x}configure(G){const ie=Object.assign({},G);ie.beforeConnect&&(this._beforeConnect=ie.beforeConnect,delete ie.beforeConnect),ie.correlateErrors&&(this._correlateErrors=ie.correlateErrors,delete ie.correlateErrors),this._stompClient.configure(ie),ie.debug&&(this._debug=ie.debug)}activate(){var ie,G=this;this._stompClient.configure({beforeConnect:(ie=(0,e.Z)(function*(){G._changeState(D.U.CONNECTING),yield G._beforeConnect(G)}),function(){return ie.apply(this,arguments)}),onConnect:ie=>{this._serverHeadersBehaviourSubject$.next(ie.headers),this._changeState(D.U.OPEN)},onStompError:ie=>{this.stompErrors$.next(ie)},onWebSocketClose:()=>{this._changeState(D.U.CLOSED)},onUnhandledMessage:ie=>{this.unhandledMessage$.next(ie)},onUnhandledReceipt:ie=>{this.unhandledReceipts$.next(ie)},onUnhandledFrame:ie=>{this.unhandledFrame$.next(ie)},onWebSocketError:ie=>{this.webSocketErrors$.next(ie)}}),this._stompClient.activate()}deactivate(G={}){var ie=this;return(0,e.Z)(function*(){ie._changeState(D.U.CLOSING),yield ie._stompClient.deactivate(G),ie._changeState(D.U.CLOSED)})()}connected(){return this.connectionState$.getValue()===D.U.OPEN}get active(){return this.stompClient.active}publish(G){const ie=null==G.retryIfDisconnected||G.retryIfDisconnected;if(this.connected())this._stompClient.publish(G);else{if(!ie)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(G)}}_sendQueuedMessages(){const G=this._queuedMessages;if(this._queuedMessages=[],0!==G.length){this._debug(`Will try sending  ${G.length} queued message(s)`);for(const ie of G)this._debug(`Attempting to send ${ie}`),this.publish(ie)}}watch(G,ie={}){let Me;return Me=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof G?{destination:G,subHeaders:ie}:G),this._debug(`Request to subscribe ${Me.destination}`),x.y.create(te=>{let ce,J,ve=this._connectedPre$;Me.subscribeOnlyOnce&&(ve=ve.pipe((0,R.q)(1)));const be=this.stompErrors$.subscribe(Be=>{this._correlateErrors(Be)===Me.destination&&te.error(Be)});return J=ve.subscribe(()=>{this._debug(`Will subscribe to ${Me.destination}`);let Be=Me.subHeaders;"function"==typeof Be&&(Be=Be()),ce=this._stompClient.subscribe(Me.destination,we=>{te.next(we)},Be)}),()=>{if(this._debug(`Stop watching connection state (for ${Me.destination})`),J.unsubscribe(),be.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${Me.destination} at Stomp`);let Be=Me.unsubHeaders;"function"==typeof Be&&(Be=Be()),ce.unsubscribe(Be)}else this._debug(`Stomp not connected, no need to unsubscribe from ${Me.destination} at Stomp`)}}).pipe((0,b.B)())}watchForReceipt(G,ie){this._stompClient.watchForReceipt(G,ie)}asyncReceipt(G){return(0,s.z)(this.unhandledReceipts$.pipe((0,u.h)(ie=>ie.headers["receipt-id"]===G)))}_changeState(G){this._connectionStatePre$.next(G),this.connectionState$.next(G)}}{constructor(){super()}}return j.\u0275fac=function(ie){return new(ie||j)},j.\u0275prov=Y.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},2248:(dn,pt,C)=>{"use strict";C.d(pt,{e:()=>F});var e=C(7579),d=C(4004),u=C(3900),p=C(4968),x=C(9646),R=C(4326),b=C(8505),s=C(5e3);let F=(()=>{class O{constructor(){this.creationMode="standard",this._dimensions={width:1e3,height:650},this._openSubject=new e.x,this.openObserver.pipe((0,d.U)(()=>window.open("/task/create","_blank",this.features)),(0,u.w)(N=>N?(0,p.R)(N,"load"):(0,x.of)(null)),(0,R.g)(200),(0,b.b)(N=>{N&&N.currentTarget.postMessage(this.transferObject,"*")})).subscribe()}get dependencyIdentifier(){return this._dependencyIdentifier}get wireframeId(){return this._wireframeId}get billingInfo(){return this._billingInfo}get features(){return`popup=yes,width=${this._dimensions.width},height=${this._dimensions.height},left=${screen.width/2-this._dimensions.width/2},top=${screen.height/2-this._dimensions.height/2}`}get mode(){return this.creationMode}get openObserver(){return this._openSubject.asObservable()}get transferObject(){return{mode:this.mode,dependencyIdentifier:this._dependencyIdentifier,wireframeId:this._wireframeId,billingInfo:this._billingInfo}}standard(){this.creationMode="standard",this._dependencyIdentifier=void 0,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}dependency(N,T){this.creationMode="parent"===N?"parent":"child",this._dependencyIdentifier=T,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}wireframe(N,T){this.creationMode="billing",this._dependencyIdentifier=void 0,this._wireframeId=N,this._billingInfo=T,this.open()}open(){this._openSubject.next(void 0)}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=s.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},9814:(dn,pt,C)=>{"use strict";C.d(pt,{d:()=>G});var e=C(2382),d=C(8372),u=C(8675),p=C(1135),x=C(9841),R=C(1884),b=C(8505),s=C(4782),F=C(7579),O=C(9300),Q=C(4482),N=C(5032),T=C(5403),w=C(6451),k=C(3900),V=C(5577),U=C(4004),oe=C(9646),K=C(4968),H=C(4464),D=C(590),P=C(7384),Y=C(5e3),re=C(8738),j=C(8007);let G=(()=>{class ie{constructor(Me,de){this.api=Me,this.rt=de,this.searchPhraseControl=new e.NI(""),this.searchPhrase$=this.searchPhraseControl.valueChanges.pipe((0,d.b)(1200),(0,u.O)("")),this.statusSubject=new p.X("active"),this.classSubject=new p.X(null),this.typeSubject=new p.X(null),this.pageTypeSubject=new p.X(null),this.schedulingSubject=new p.X(null),this.directorySubject=new p.X(null),this.tagSubject=new p.X(null),this.closeTimeSubject=new p.X(null),this.actualTimeSubject=new p.X(null),this.termTimeSubject=new p.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageType$=this.pageTypeSubject.asObservable(),this.scheduling$=this.schedulingSubject.asObservable(),this.directory$=this.directorySubject.asObservable(),this.tag$=this.tagSubject.asObservable(),this.closeTime$=this.closeTimeSubject.asObservable(),this.actualTime$=this.actualTimeSubject.asObservable(),this.termTime$=this.termTimeSubject.asObservable(),this.pageControl=new e.NI(0),this.taskLoadingState=P.Gu.READY,this.hasCachedRoute=!1,this.lastRoute$=(0,x.a)([this.status$,this.class$,this.type$,this.pageType$,this.directory$,this.tag$,this.closeTime$,this.actualTime$,this.termTime$,this.scheduling$]).pipe((0,d.b)(1),(0,R.x)((te,ce)=>JSON.stringify(te)===JSON.stringify(ce)),(0,b.b)(()=>{this.hasCachedRoute=!0,this.pageControl.setValue(0),this.taskLoadingState=P.Gu.LOADING}),(0,s.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,u.O)(0),(0,R.x)(),(0,b.b)(()=>{window.scrollTo({top:0}),this.taskLoadingState=P.Gu.LOADING})),this.isTaskEdit=!1,this.taskEditStopSubject=new F.x,this.directTasksMoved$=this.rt.taskMoved().pipe((0,O.h)(()=>!this.isTaskEdit)),this.delayedTasksMoved$=this.rt.taskMoved().pipe(function y(ie){return(0,Q.e)((Te,Me)=>{let de=!1,te=null;Te.subscribe(new T.Q(Me,J=>{de=!0,te=J})),ie.subscribe(new T.Q(Me,()=>{if(de){de=!1;const J=te;te=null,Me.next(J)}},N.Z))})}(this.taskEditStopSubject)),this.tasksMoved$=(0,w.T)(this.directTasksMoved$,this.delayedTasksMoved$).pipe((0,u.O)(null)),this.taskCountersMap=new Map,this.taskUpdatersMap=new Map,this.tagsMap=new Map,this.updateWireframes$=(0,w.T)(this.rt.wireframeCreated(),this.rt.wireframeUpdated(),this.rt.wireframeDeleted()).pipe((0,u.O)(null)),this.wireframes$=this.updateWireframes$.pipe((0,k.w)(()=>this.api.getWireframes()),(0,s.d)(1)),this.tasks$=(0,x.a)([this.page$,this.tasksMoved$,this.lastRoute$]).pipe((0,k.w)(([te,ce,[J,ve,be,Be,we,ke,X,q,pe,_e]])=>this.api.getPageOfTasks(null!=te?te:0,{status:[J.toUpperCase()],template:ve?[ve]:null,stage:be,directory:we,tags:ke?[ke]:null,dateOfClose:X?{timeFrame:X}:null,actualFrom:q?{timeFrame:q}:null,actualTo:pe?{timeFrame:pe}:null,schedulingType:_e||P.dH.EXCEPT_PLANNED})),(0,b.b)({next:te=>this.taskLoadingState=0===te.totalElements?P.Gu.EMPTY:P.Gu.READY,error:()=>this.taskLoadingState=P.Gu.ERROR}),(0,s.d)(1)),this.blockVisible=!1,this.beforeTemporaryMap=[{id:P.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:P.nv.YESTERDAY,name:"\u0412\u0447\u0435\u0440\u0430"},{id:P.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:P.nv.LAST_WEEK,name:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:P.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:P.nv.LAST_MONTH,name:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.afterTemporaryMap=[{id:P.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:P.nv.TOMORROW,name:"\u0417\u0430\u0432\u0442\u0440\u0430"},{id:P.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:P.nv.NEXT_WEEK,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:P.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:P.nv.NEXT_MONTH,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.breadCrumbsModel$=(0,x.a)([this.wireframes$,this.lastRoute$]).pipe((0,V.z)(([te,ce])=>{const[J,ve,be,Be,we,ke,X,q,pe,_e]=ce;return ke?this.api.getTaskTag(ke).pipe((0,U.U)(Xe=>({wireframes:te,route:ce,tagInfo:Xe}))):(0,oe.of)({wireframes:te,route:ce,tagInfo:null})}),(0,U.U)(({wireframes:te,route:ce,tagInfo:J})=>{var ve,be,Be,we,ke;const X=[],[q,pe,_e,Xe,ct,ot,Zt,Dt,Cn,Xt]=ce;if(Xt===P.dH.PLANNED)X.push({label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435",routerLink:ie.convertToPath([q,null,null,null,null,null,null,null,null,P.dH.PLANNED],!0)});else if(Xt===P.dH.DEADLINE)X.push({label:"\u0421\u0440\u043e\u043a\u0438",routerLink:ie.convertToPath([q,null,null,null,null,null,null,null,null,P.dH.DEADLINE],!0)});else if(q){let jt="";switch(q){case"active":jt="\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435";break;case"processing":jt="\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";break;case"close":jt="\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"}X.push({label:jt,routerLink:ie.convertToPath([q,null,null,null,null,null,null,null,null,Xt],!0)})}if(pe){const jt=te.find(ht=>ht.wireframeId===pe);if(X.push({label:null==jt?void 0:jt.name,routerLink:ie.convertToPath([q,pe,null,null,null,null,null,null,null,Xt],!0)}),_e&&jt){const ht=null===(ve=jt.stages)||void 0===ve?void 0:ve.find(ut=>ut.stageId===_e);if(X.push({label:null==ht?void 0:ht.label,routerLink:ie.convertToPath([q,pe,_e,null,null,null,null,null,null,Xt],!0)}),ct&&ht){const ut=null===(be=ht.directories)||void 0===be?void 0:be.find(xe=>xe.taskTypeDirectoryId===ct);X.push({label:null==ut?void 0:ut.name,routerLink:ie.convertToPath([q,pe,_e,Xe,ct,null,null,null,null,Xt],!0)}),J&&X.push({label:"#"+J.name,routerLink:ie.convertToPath([q,pe,_e,Xe,ct,ot,null,null,null,Xt],!0)})}Zt&&(X.push({label:null===(Be=this.beforeTemporaryMap.find(ut=>ut.id===Zt))||void 0===Be?void 0:Be.name,routerLink:ie.convertToPath([q,pe,_e,Xe,null,null,Zt,null,null,Xt],!0)}),J&&X.push({label:"#"+J.name,routerLink:ie.convertToPath([q,pe,_e,Xe,null,ot,Zt,null,null,Xt],!0)})),Dt&&(X.push({label:null===(we=this.afterTemporaryMap.find(ut=>ut.id===Dt))||void 0===we?void 0:we.name,routerLink:ie.convertToPath([q,pe,_e,Xe,null,null,null,Dt,null,Xt],!0)}),J&&X.push({label:"#"+J.name,routerLink:ie.convertToPath([q,pe,_e,Xe,null,ot,null,Dt,null,Xt],!0)})),Cn&&(X.push({label:null===(ke=this.afterTemporaryMap.find(ut=>ut.id===Cn))||void 0===ke?void 0:ke.name,routerLink:ie.convertToPath([q,pe,_e,Xe,null,null,null,null,Cn,Xt],!0)}),J&&X.push({label:"#"+J.name,routerLink:ie.convertToPath([q,pe,_e,Xe,null,ot,null,null,Cn,Xt],!0)}))}}return X})),this.rootExpandMap={active:!1,processing:!1,close:!1,scheduled:!1,term:!1},(0,K.R)(window,"dragend").subscribe(te=>{this.highlightCatalogs=void 0}),setInterval(()=>{(0,H.n)(this.tasks$.pipe((0,D.P)())).then(te=>{for(const ce of this.taskUpdatersMap.keys())te.content.find(J=>J.taskId===ce)||this.taskUpdatersMap.delete(ce)})},6e5)}static convertToPath(Me,de=!1){const[te,ce,J,ve,be,Be,we,ke,X,q]=Me,pe=[];switch(de?q&&q!==P.dH.EXCEPT_PLANNED&&(q===P.dH.PLANNED?pe.push("scheduled"):q===P.dH.DEADLINE&&pe.push("term")):pe.push(q||P.dH.UNSCHEDULED),te&&pe.push(te),ce&&pe.push(ce.toString()),J&&pe.push(J),ve&&pe.push(ve),ve){case"dir":be&&pe.push(be.toString()),Be&&pe.push(Be.toString());break;case"close-time":we&&pe.push(we),Be&&pe.push(Be.toString());break;case"actual-time":ke&&pe.push(ke),Be&&pe.push(Be.toString());break;case"term-time":X&&pe.push(X),Be&&pe.push(Be.toString())}return pe}getTasksCounter(Me,de){const{status:te,cls:ce,type:J,directory:ve,tag:be,schedulingType:Be,dateOfClose:we,actualFrom:ke,actualTo:X}=de,q=""+te+ce+J+ve+be+Be+JSON.stringify(we)+JSON.stringify(ke)+JSON.stringify(X)+Me;if(this.taskCountersMap.has(q))return this.taskCountersMap.get(q);const pe=(0,w.T)(this.rt.updateTaskCount(null!=te?te:"",ce,J,Me,ve,be,we,ke,X,Be),this.api.getCountTasks(ie.filterOptionsToCondition(de))).pipe((0,U.U)(_e=>_e.toString()),(0,s.d)(1));return this.taskCountersMap.set(q,pe),pe}static filterOptionsToCondition(Me){const de={},{status:te,cls:ce,type:J,directory:ve,dateOfClose:be,actualFrom:Be,actualTo:we,schedulingType:ke}=Me;return te&&(de.status=[te]),ce&&(de.template=[ce]),J&&(de.stage=J),ve&&(de.directory=ve),be&&(de.dateOfClose=be),Be&&(de.actualFrom=Be),we&&(de.actualTo=we),ke&&(de.schedulingType=ke),de}getTagsFromCatalog(Me){const{status:de,cls:te,type:ce,directory:J,dateOfClose:ve,actualFrom:be,actualTo:Be,schedulingType:we}=Me,ke=""+de+te+ce+J+JSON.stringify(ve)+JSON.stringify(be)+JSON.stringify(Be)+we;if(this.tagsMap.has(ke))return this.tagsMap.get(ke);const X=this.tasksMoved$.pipe((0,k.w)(()=>this.api.getTagsListFromCatalog(ie.filterOptionsToCondition(Me))),(0,s.d)(1));return this.tagsMap.set(ke,X),X}updatePath(Me,de){var te,ce,J,ve,be,Be,we;this.statusSubject.next(null!==(te=Me.status)&&void 0!==te?te:"active"),this.classSubject.next(Me.class?parseInt(Me.class):null),this.typeSubject.next(null!==(ce=Me.type)&&void 0!==ce?ce:null),this.pageTypeSubject.next(null!==(J=de.pageType)&&void 0!==J?J:null),this.schedulingSubject.next(null!==(ve=de.scheduled)&&void 0!==ve?ve:null),this.directorySubject.next(Me.directory?parseInt(Me.directory):null),this.tagSubject.next(Me.tag?parseInt(Me.tag):null),this.closeTimeSubject.next(null!==(be=Me.closeTime)&&void 0!==be?be:null),this.actualTimeSubject.next(null!==(Be=Me.actualTime)&&void 0!==Be?Be:null),this.termTimeSubject.next(null!==(we=Me.termTime)&&void 0!==we?we:null)}taskMovingStart(Me){this.movingTask=Me,(0,H.n)(this.wireframes$.pipe((0,D.P)())).then(de=>{var te,ce;const J=de.find(Be=>{var we;return Be.wireframeId===(null===(we=Me.modelWireframe)||void 0===we?void 0:we.wireframeId)});if(!J)return void(this.highlightCatalogs=void 0);const ve=null===(te=J.stages)||void 0===te?void 0:te.find(Be=>{var we;return Be.stageId===(null===(we=Me.currentStage)||void 0===we?void 0:we.stageId)});if(!ve)return void(this.highlightCatalogs=void 0);const be=null===(ce=Me.currentDirectory)||void 0===ce?void 0:ce.taskTypeDirectoryId;this.highlightCatalogs=ve.directories.filter(Be=>Be.taskTypeDirectoryId!==be).map(Be=>Be.taskTypeDirectoryId)})}moveToDirectory(Me){var de;this.movingTask&&this.movingTask.taskId&&(null===(de=this.movingTask.currentDirectory)||void 0===de?void 0:de.taskTypeDirectoryId)!==Me.taskTypeDirectoryId&&(this.blockVisible=!0,this.api.moveTaskToDirectory([this.movingTask.taskId],Me.taskTypeDirectoryId).subscribe({next:()=>this.blockVisible=!1,error:()=>this.blockVisible=!1}))}catalogHighlight(Me){var de;return null!==(de=this.highlightCatalogs)&&void 0!==de&&de.includes(Me)?{"z-index":"999 !important",backgroundColor:"white"}:null}unExpandOtherCatalog(Me){for(const de in this.rootExpandMap)this.rootExpandMap[de]=Me===de}taskEditStart(Me){this.isTaskEdit=!0}taskEditStop(Me){this.isTaskEdit=!1,this.taskEditStopSubject.next(null)}getTaskUpdater(Me){if(this.taskUpdatersMap.has(Me))return this.taskUpdatersMap.get(Me);const de=this.rt.taskUpdated(Me).pipe((0,s.d)(1));return this.taskUpdatersMap.set(Me,de),de}}return ie.\u0275fac=function(Me){return new(Me||ie)(Y.LFG(re.s),Y.LFG(j.U))},ie.\u0275prov=Y.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},4488:(dn,pt,C)=>{"use strict";C.d(pt,{U:()=>k});var e=C(8675),d=C(8372),u=C(9841),p=C(1884),x=C(4004),R=C(3900),b=C(8505),s=C(5577),F=C(4782),O=C(9300),Q=C(2382),N=C(383),T=C(5e3),y=C(8738),w=C(8007);let k=(()=>{class V{constructor(oe,K){this.api=oe,this.rt=K,this.scrollPos=0,this.TASK_PAGE_SIZE=15,this.mainFilterForm=new Q.cw({searchPhrase:new Q.NI(""),status:new Q.NI(["ACTIVE","PROCESSING"]),template:new Q.NI(N.Ke.loadOrDefault("listPageTempFilter",[])),templateFilter:new Q.Oe([]),tags:new Q.NI([]),stage:new Q.NI(null),author:new Q.NI(null),dateOfCreation:new Q.NI(null),limit:new Q.NI(15)}),this.searchPhraseChange$=this.mainFilterForm.controls.searchPhrase.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.searchPhrase.value),(0,d.b)(1500)),this.statusChange$=this.mainFilterForm.controls.status.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.status.value),(0,d.b)(300)),this.templateChange$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,d.b)(300)),this.tagsChange$=this.mainFilterForm.controls.tags.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.tags.value),(0,d.b)(300)),this.stageChange$=this.mainFilterForm.controls.stage.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.stage.value),(0,d.b)(300)),this.delayedFilterChange$=(0,u.a)([this.searchPhraseChange$,this.statusChange$,this.templateChange$,this.tagsChange$,this.stageChange$]),this.beforeFilters="",this.stageList=[],this.tagsList=[],this.tagsFilterControl=new Q.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,d.b)(300),(0,p.x)()),this.tagsFilters$=(0,u.a)([this.tagsNameFilter$.pipe((0,e.O)("")),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value))]).pipe((0,x.U)(([H,D])=>[H,!1])),this.tagsList$=N.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,R.w)(H=>{var D;return this.api.getCountTasksByWireframeIdByTags(null!==(D=this.mainFilterForm.controls.template.value)&&void 0!==D?D:[]).pipe((0,x.U)(P=>(H.value.map(Y=>(Y.tasksCount=P[Y.taskTagId]||0,Y)),H)))})),this.stageList$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,b.b)(H=>N.Ke.save("incomListPageTempFilter",H)),(0,R.w)(H=>(this.mainFilterForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==H?void 0:H.length)?this.api.getWireframeStages(H[0]).pipe((0,s.z)(D=>this.api.getCountTasksByStages(H[0]).pipe((0,x.U)(P=>D.map(Y=>({label:Y.label,value:Y.stageId,orderIndex:Y.orderIndex,tasksCount:P[Y.stageId]||0})))))):[])),(0,x.U)(H=>{const D=H.sort((P,Y)=>P.orderIndex-Y.orderIndex);return D.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:H.reduce((P,Y)=>P+Y.tasksCount,0)}),D}),(0,F.d)(1)),this.pageNumber=new Q.NI(0),this.pageNumberChange$=this.pageNumber.valueChanges.pipe((0,e.O)(0),(0,b.b)(()=>window.scrollTo({top:0})),(0,F.d)(1)),this.filters$=(0,u.a)([this.pageNumberChange$,this.delayedFilterChange$]).pipe((0,x.U)(([H])=>[H,this.mainFilterForm.value])),this.templateFilterCount$=this.filters$.pipe((0,x.U)(()=>{const H=this.mainFilterForm.value;let D=0;return H.author&&D++,!!H.dateOfCreation&&"start"in H.dateOfCreation&&"end"in H.dateOfCreation&&D++,H.templateFilter&&H.templateFilter.length>0&&H.templateFilter.filter(P=>Array.isArray(P.value)?P.value.length>0:!!P.value).forEach(P=>{D++}),D}),(0,x.U)(H=>H?H.toString():""),(0,F.d)(1)),this.taskPage$=N.aN.ofPageAltAll(this.filters$,this.api.getPageOfTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,F.d)(1)),this.stageList$.subscribe(H=>this.stageList=[...H]),this.tagsList$.subscribe(H=>this.tagsList=[...H.value]),this.rt.taskCountChange().pipe((0,O.h)(H=>this.isSelectOneTemplate&&H.id===this.firstWireframeId)).subscribe(H=>{this.stageList.forEach(P=>{const Y=H.stages.find(re=>P.value===re.id);P.tasksCount=Y?Y.num:0});const D=this.stageList.find(P=>null===P.value);D&&(D.tasksCount=H.stages.reduce((P,Y)=>P+Y.num,0))}),this.rt.tagTaskCountChange().subscribe(H=>{this.tagsList.forEach(D=>{var P;const Y=H[D.taskTagId];if(Y){let re=0;null===(P=this.mainFilterForm.value.template)||void 0===P||P.forEach(j=>{Y[j]&&(re+=Y[j])}),D.tasksCount=re}else D.tasksCount=0})}),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.value.template)).subscribe(H=>{N.Ke.save("listPageTempFilter",H),this.mainFilterForm.controls.templateFilter.clear(),null!=H&&1===H.length&&this.api.getWireframeFiltrationFields(H[0]).subscribe(D=>{for(let P of D)this.mainFilterForm.controls.templateFilter.push(new Q.cw({id:new Q.NI(P.id),wireframeFieldType:new Q.NI(P.wireframeFieldType),name:new Q.NI(P.name),value:new Q.NI(null)}))})})}get isSelectOneTemplate(){var oe;return 1===(null===(oe=this.mainFilterForm.value.template)||void 0===oe?void 0:oe.length)}get firstWireframeId(){return this.mainFilterForm.value.template?this.mainFilterForm.value.template[0]:0}applyFilters(){this.beforeFilters!==JSON.stringify(this.mainFilterForm.value)&&this.pageNumber.setValue(0)}cacheFilters(){this.beforeFilters=JSON.stringify(this.mainFilterForm.value)}clearFilters(){var oe;this.mainFilterForm.patchValue({author:null,dateOfCreation:null}),this.mainFilterForm.controls.template.setValue(null!==(oe=this.mainFilterForm.value.template)&&void 0!==oe?oe:null)}saveScrollPos(oe){this.scrollPos=oe}readScrollPos(){return this.scrollPos}}return V.\u0275fac=function(oe){return new(oe||V)(T.LFG(y.s),T.LFG(w.U))},V.\u0275prov=T.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},9664:(dn,pt,C)=>{"use strict";C.d(pt,{M:()=>U});var e=C(3900),d=C(590),u=C(7579),p=C(2722),x=C(4004),R=C(8746),b=C(4782),s=C(1588),F=C(655),O=C(5677),Q=C(5e3),N=C(5330),T=C(430);let y=class{constructor(K,H,D){this.ref=K,this.config=H,this.service=D}ngOnInit(){}ngAfterContentInit(){setTimeout(()=>{this.credentials=this.config.data.credentials,this.dataReceiver=this.config.data.dataReceiver},1)}};y.\u0275fac=function(K){return new(K||y)(Q.Y36(N.E7),Q.Y36(N.S),Q.Y36(U))},y.\u0275cmp=Q.Xpm({type:y,selectors:[["app-terminal-dialog"]],decls:1,vars:1,consts:[[3,"dataSource","keyInput"]],template:function(K,H){1&K&&(Q.TgZ(0,"ng-terminal",0),Q.NdJ("keyInput",function(P){return H.service.send(P,null==H.credentials?null:H.credentials.sessionId)}),Q.qZA()),2&K&&Q.Q6J("dataSource",H.dataReceiver)},dependencies:[T.Eo]}),y=(0,F.gn)([(0,O.kG)()],y);var w=C(8738),k=C(8007),V=C(8028);let U=(()=>{class oe{constructor(H,D,P,Y){this.api=H,this.rt=D,this.personality=P,this.dialogService=Y,this.sessions=[],this.dataReceiversMap=new Map,this.closeStreamSignalMap=new Map,this.openTerminalDialogs=new Map,this.personality.userLogin$.pipe((0,e.w)(re=>this.rt.telnetConnectionMessage(re))).subscribe(re=>this.appendSession(re))}connect(H,D){this.api.connectToTelnetSession({ip:D,name:H,sessionId:(0,s.Z)(),lastState:"ok"}).subscribe()}send(H,D){if(!D)return;const P=this.sessions.find(Y=>Y.sessionId===D);if(P&&"ok"==P.lastState){if("\x7f"===H)return void this.api.sendDataToTelnetSession(D,"\b").subscribe();this.api.sendDataToTelnetSession(D,H).subscribe()}}openTerminalDialog(H){const D=this.dataReceiversMap.get(H.sessionId);!D||this.openTerminal(H,D)}openTerminal(H,D){if(this.openTerminalDialogs.has(H.sessionId))return;const P=this.dialogService.open(y,{header:H.name+"\u30fb"+H.ip,contentStyle:{padding:"0",minWidth:"800px"},resizable:!0,draggable:!0,modal:!1,data:{credentials:H,dataReceiver:D}});P.onClose.pipe((0,d.P)()).subscribe(()=>this.openTerminalDialogs.delete(H.sessionId)),this.openTerminalDialogs.set(H.sessionId,P)}appendSession(H){if(this.sessions.some(re=>re.sessionId===H.sessionId))return;this.sessions.push(H);const P=new u.x,Y=this.rt.remoteTelnetConnection(H.ip,H.sessionId).pipe((0,p.R)(P),(0,x.U)(re=>(H.lastState=re.state,re.data)),(0,R.x)(()=>this.removeSession(H.sessionId)),(0,b.d)(50));this.closeStreamSignalMap.set(H.sessionId,P),this.dataReceiversMap.set(H.sessionId,Y),this.openTerminal(H,Y)}removeSession(H){var D,P;this.sessions=this.sessions.filter(Y=>Y.sessionId!==H),null===(D=this.closeStreamSignalMap.get(H))||void 0===D||D.next(null),this.closeStreamSignalMap.delete(H),this.dataReceiversMap.delete(H),null===(P=this.openTerminalDialogs.get(H))||void 0===P||P.close()}isDialogOpen(H){return this.openTerminalDialogs.has(H)}}return oe.\u0275fac=function(H){return new(H||oe)(Q.LFG(w.s),Q.LFG(k.U),Q.LFG(V.F),Q.LFG(N.xA))},oe.\u0275prov=Q.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},6309:(dn,pt,C)=>{"use strict";C.d(pt,{j:()=>e});let e=(()=>{class d{static getName(p){return 1===p?"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443":2===p?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438":4===p?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u043a\u0430\u0441\u0441\u0443":8===p?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432":16===p?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c\u0438":32===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043c\u043e\u0432 \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439":64===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u043a\u043d\u0438\u0433\u0438":128===p?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":256===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":512===p?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430\u043c\u0438":1024===p?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438":2048===p?"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u044b":4096===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0439\u0441\u0430":8192===p?"\u0427\u0442\u0435\u043d\u0438\u0435/\u0417\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432":16384===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":32768===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":65536===p?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432":131072===p?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438":262144===p?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438":524288===p?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":1048576===p?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":p.toString()+" (\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e)"}static flagList(){return this.array().map(p=>({name:this.getName(p),value:p}))}static read(p){const x=[];for(const R of d.array())p&R&&x.push(R);return x}static array(){return Object.values(d)}static isHasFlag(p,...x){return x.some(R=>(p&R)===R)}static trackByFlag(p,x){return x.value}}return d.BILLING=1,d.MANAGE_SUBSCRIBERS=2,d.MANAGE_CASH=4,d.MANAGE_RECALCULATION=8,d.MANAGE_EMPLOYEES=16,d.EDIT_HOUSE_ADDRESS_BOOK=32,d.EDIT_ADDRESS_BOOK=64,d.VIEW_SWITCH=128,d.EDIT_SWITCH=256,d.MANAGE_DEPARTMENTS=512,d.MANAGE_POSITIONS=1024,d.COUNT_SALARY=2048,d.EDIT_PRICE=4096,d.READ_WRITE_FILES=8192,d.EDIT_TASK_TEMPLATES=16384,d.EDIT_TASK_TAGS=32768,d.EDIT_DEVICES=65536,d.MANAGE_SYSTEM_SETTINGS=131072,d.VIEW_STATISTICS=262144,d.VIEW_CONTRACTS=524288,d.MANAGE_CONTRACTS_TYPES=1048576,d})()},7384:(dn,pt,C)=>{"use strict";C.d(pt,{AE:()=>H,Ez:()=>p,Gu:()=>oe,LE:()=>U,Rh:()=>Me,_r:()=>e,b9:()=>K,dA:()=>y,dH:()=>w,hY:()=>Q,k$:()=>V,k5:()=>ce,nC:()=>R,nv:()=>ie,sf:()=>N});var e=(()=>{return(J=e||(e={})).BOOLEAN="BOOLEAN",J.SMALL_TEXT="SMALL_TEXT",J.LARGE_TEXT="LARGE_TEXT",J.INTEGER="INTEGER",J.FLOAT="FLOAT",J.ADDRESS="ADDRESS",J.LOGIN="LOGIN",J.AD_SOURCE="AD_SOURCE",J.REQUEST_INITIATOR="REQUEST_INITIATOR",J.IP="IP",J.EQUIPMENTS="EQUIPMENTS",J.CONNECTION_SERVICES="CONNECTION_SERVICES",J.CONNECTION_TYPE="CONNECTION_TYPE",J.PHONE_ARRAY="PHONE_ARRAY",J.COUNTING_LIVES="COUNTING_LIVES",J.PASSPORT_DETAILS="PASSPORT_DETAILS",e;var J})(),p=(()=>{return(J=p||(p={})).MODEL="MODEL",J.PIPELINE="PIPELINE",p;var J})(),R=(()=>{return(J=R||(R={})).TEXT="TEXT",J.LOGIN="LOGIN",J.ADDRESS="ADDRESS",J.PHONE="PHONE",J.AD_SOURCE="AD_SOURCE",J.CONNECTION_TYPE="CONNECTION_TYPE",J.CONNECTION_SERVICE="CONNECTION_SERVICE",R;var J})(),Q=(()=>{return(J=Q||(Q={})).ACTIVE="ACTIVE",J.PROCESSING="PROCESSING",J.CLOSE="CLOSE",Q;var J})(),N=(()=>{return(J=N||(N={})).PHOTO="PHOTO",J.VIDEO="VIDEO",J.DOCUMENT="DOCUMENT",J.AUDIO="AUDIO",J.FILE="FILE",N;var J})(),y=(()=>{return(J=y||(y={})).CHANGE_STAGE="CHANGE_STAGE",J.CREATE_WORK_LOG="CREATE_WORK_LOG",J.FORCE_CLOSE_WORK_LOG="FORCE_CLOSE_WORK_LOG",J.CLOSE_WORK_LOG="CLOSE_WORK_LOG",J.CHANGE_RESPONSIBILITY="CHANGE_RESPONSIBILITY",J.LINKED_TO_PARENT_TASK="LINKED_TO_PARENT_TASK",J.UNLINKED_FROM_PARENT_TASK="UNLINKED_FROM_PARENT_TASK",J.UNLINK_CHILD_TASK="UNLINK_CHILD_TASK",J.LINKED_TO_CHILD_TASKS="LINKED_TO_CHILD_TASKS",J.CHANGE_TAGS="CHANGE_TAGS",J.CLEAN_TAGS="CLEAN_TAGS",J.CHANGE_OBSERVERS="CHANGE_OBSERVERS",J.UNBIND_RESPONSIBLE="UNBIND_RESPONSIBLE",J.CHANGE_ACTUAL_FROM="CHANGE_ACTUAL_FROM",J.CHANGE_ACTUAL_TO="CHANGE_ACTUAL_TO",J.CLEAR_ACTUAL_FROM_TASK="CLEAR_ACTUAL_FROM_TASK",J.CLEAR_ACTUAL_TO_TASK="CLEAR_ACTUAL_TO_TASK",J.CLOSE_TASK="CLOSE_TASK",J.REOPEN_TASK="REOPEN_TASK",J.EDIT_FIELDS="EDIT_FIELDS",J.REPORT_CREATED="REPORT_CREATED",J.MOVED_TO_DIRECTORY="MOVED_TO_DIRECTORY",y;var J})(),w=(()=>{return(J=w||(w={})).ALL="ALL",J.SCHEDULED="SCHEDULED",J.UNSCHEDULED="UNSCHEDULED",J.PLANNED="PLANNED",J.DEADLINE="DEADLINE",J.EXCEPT_PLANNED="EXCEPT_PLANNED",w;var J})(),V=(()=>{return(J=V||(V={})).TASK_CREATED="TASK_CREATED",J.TASK_EDITED="TASK_EDITED",J.TASK_CLOSED="TASK_CLOSED",J.TASK_DELETED="TASK_DELETED",J.TASK_PROCESSED="TASK_PROCESSED",J.TASK_REOPENED="TASK_REOPENED",J.TASK_STAGE_CHANGED="TASK_STAGE_CHANGED",J.YOU_RESPONSIBLE="YOU_RESPONSIBLE",J.YOU_OBSERVER="YOU_OBSERVER",J.NEW_COMMENT="NEW_COMMENT",J.TASK_HAS_BECOME_ACTUAL="TASK_HAS_BECOME_ACTUAL",J.TASK_EXPIRED="TASK_EXPIRED",J.WORKS_COMPLETED="WORKS_COMPLETED",J.REPORT_RECEIVED="REPORT_RECEIVED",J.MENTIONED_IN_TASK="MENTIONED_IN_TASK",V;var J})(),U=(()=>{return(J=U||(U={})).ONLINE="ONLINE",J.AWAY="AWAY",J.OFFLINE="OFFLINE",U;var J})(),oe=(()=>{return(J=oe||(oe={})).READY="READY",J.LOADING="LOADING",J.ERROR="ERROR",J.EMPTY="EMPTY",oe;var J})(),K=(()=>{return(J=K||(K={})).AMOUNT="AMOUNT",J.METRES="METRES",J.KILOGRAMS="KILOGRAMS",K;var J})();class H{constructor(ve){this.target=null,this.index=null;const be=ve.dragNode,Be=ve.dropNode;this.index=ve.index,this.source=new D(be),this.target=Be.children&&Be.children.includes(be)?new D(Be):Be.parent?new D(Be.parent):null}}class D{constructor(ve){this.key=ve.key,this.label=ve.label,this.icon=ve.icon,this.type=ve.type}}var ie=(()=>{return(J=ie||(ie={})).NEXT_MONTH="NEXT_MONTH",J.NEXT_WEEK="NEXT_WEEK",J.TOMORROW="TOMORROW",J.TODAY="TODAY",J.YESTERDAY="YESTERDAY",J.THIS_WEEK="THIS_WEEK",J.LAST_WEEK="LAST_WEEK",J.THIS_MONTH="THIS_MONTH",J.LAST_MONTH="LAST_MONTH",ie;var J})(),Me=(()=>{return(J=Me||(Me={})).CREATE_DATE_ASC="CREATE_DATE_ASC",J.CREATE_DATE_DESC="CREATE_DATE_DESC",Me;var J})(),ce=(()=>{return(J=ce||(ce={})).STRING="STRING",J.DATE="DATE",J.LOGIN="LOGIN",J.PHONE="PHONE",ce;var J})()},383:(dn,pt,C)=>{"use strict";C.d(pt,{pd:()=>q,aN:()=>jt,PU:()=>X,Ke:()=>Dt,xf:()=>pe,cQ:()=>ke,EM:()=>ct,d4:()=>ot,xn:()=>ht,cy:()=>Zt,tg:()=>_e,XO:()=>Xe,mQ:()=>ut});var e=C(7384),d=C(5963),u=C(3900),p=C(9646),x=C(4968),R=C(8675),b=C(4004),s=C(6451),F=C(7579),O=C(8505),Q=C(9841),N=C(4782),T=C(9751),y=C(5e3),w=C(4707);const k={schedule(xe,De){const We=setTimeout(xe,De);return()=>clearTimeout(We)},scheduleBeforeRender(xe){if("undefined"==typeof window)return k.schedule(xe,0);if(void 0===window.requestAnimationFrame)return k.schedule(xe,16);const De=window.requestAnimationFrame(xe);return()=>window.cancelAnimationFrame(De)}};let H;function G(xe,De,We){let gt=We;return function U(xe){return!!xe&&xe.nodeType===Node.ELEMENT_NODE}(xe)&&De.some((Tt,Ft)=>!("*"===Tt||!function D(xe,De){if(!H){const We=Element.prototype;H=We.matches||We.matchesSelector||We.mozMatchesSelector||We.msMatchesSelector||We.oMatchesSelector||We.webkitMatchesSelector}return xe.nodeType===Node.ELEMENT_NODE&&H.call(xe,De)}(xe,Tt)||(gt=Ft,0))),gt}class Te{constructor(De,We){this.componentFactory=We.get(y._Vd).resolveComponentFactory(De)}create(De){return new Me(this.componentFactory,De)}}class Me{constructor(De,We){this.componentFactory=De,this.injector=We,this.eventEmitters=new w.t(1),this.events=this.eventEmitters.pipe((0,u.w)(gt=>(0,s.T)(...gt))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:gt})=>gt)),this.ngZone=this.injector.get(y.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(De){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(De)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=k.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(De){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(De):this.componentRef.instance[De])}setInputValue(De,We){this.runInZone(()=>{null!==this.componentRef?function P(xe,De){return xe===De||xe!=xe&&De!=De}(We,this.getInputValue(De))&&(void 0!==We||!this.unchangedInputs.has(De))||(this.recordInputChange(De,We),this.unchangedInputs.delete(De),this.hasInputChanges=!0,this.componentRef.instance[De]=We,this.scheduleDetectChanges()):this.initialInputValues.set(De,We)})}initializeComponent(De){const We=y.zs3.create({providers:[],parent:this.injector}),gt=function j(xe,De){const We=xe.childNodes,gt=De.map(()=>[]);let Tt=-1;De.some((Ft,Ot)=>"*"===Ft&&(Tt=Ot,!0));for(let Ft=0,Ot=We.length;Ft<Ot;++Ft){const Oe=We[Ft],et=G(Oe,De,Tt);-1!==et&&gt[et].push(Oe)}return gt}(De,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(We,gt,De),this.viewChangeDetectorRef=this.componentRef.injector.get(y.sBO),this.implementsOnChanges=function oe(xe){return"function"==typeof xe}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(y.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:De})=>{this.initialInputValues.has(De)&&this.setInputValue(De,this.initialInputValues.get(De))}),this.initialInputValues.clear()}initializeOutputs(De){const We=this.componentFactory.outputs.map(({propName:gt,templateName:Tt})=>De.instance[gt].pipe((0,b.U)(Ot=>({name:Tt,value:Ot}))));this.eventEmitters.next(We)}callNgOnChanges(De){if(!this.implementsOnChanges||null===this.inputChanges)return;const We=this.inputChanges;this.inputChanges=null,De.instance.ngOnChanges(We)}markViewForCheck(De){this.hasInputChanges&&(this.hasInputChanges=!1,De.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=k.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(De,We){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const gt=this.inputChanges[De];if(gt)return void(gt.currentValue=We);const Tt=this.unchangedInputs.has(De),Ft=Tt?void 0:this.getInputValue(De);this.inputChanges[De]=new y.WD2(Ft,We,Tt)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(De){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(De):De()}}class de extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function te(xe,De){const We=function re(xe,De){return De.get(y._Vd).resolveComponentFactory(xe).inputs}(xe,De.injector),gt=De.strategyFactory||new Te(xe,De.injector),Tt=function Y(xe){const De={};return xe.forEach(({propName:We,templateName:gt})=>{De[function V(xe){return xe.replace(/[A-Z]/g,De=>`-${De.toLowerCase()}`)}(gt)]=We}),De}(We);class Ft extends de{constructor(Oe){super(),this.injector=Oe}get ngElementStrategy(){if(!this._ngElementStrategy){const Oe=this._ngElementStrategy=gt.create(this.injector||De.injector);We.forEach(({propName:et})=>{if(!this.hasOwnProperty(et))return;const Ne=this[et];delete this[et],Oe.setInputValue(et,Ne)})}return this._ngElementStrategy}attributeChangedCallback(Oe,et,Ne,yt){this.ngElementStrategy.setInputValue(Tt[Oe],Ne)}connectedCallback(){let Oe=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),Oe=!0),this.ngElementStrategy.connect(this),Oe||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(Oe=>{const et=new CustomEvent(Oe.name,{detail:Oe.value});this.dispatchEvent(et)})}}return Ft.observedAttributes=Object.keys(Tt),We.forEach(({propName:Ot})=>{Object.defineProperty(Ft.prototype,Ot,{get(){return this.ngElementStrategy.getInputValue(Ot)},set(Oe){this.ngElementStrategy.setInputValue(Ot,Oe)},configurable:!0,enumerable:!0})}),Ft}var J=C(1110),ve=C(2777),be=C(7805),Be=C(7092),we=C(6890);class ke{static convertModelItemToString(De){var We,gt;if(De.wireframeFieldType===e._r.ADDRESS){const Tt=De.addressData;return Tt?`${null===(We=Tt.city)||void 0===We?void 0:We.name} ${null===(gt=Tt.street)||void 0===gt?void 0:gt.name} ${Tt.houseNum}${Tt.fraction?"/"+Tt.fraction:""}${Tt.letter}${Tt.build?" \u0441\u0442\u0440."+Tt.build:""} \u043a\u0432.${Tt.apartmentNum}`:""}return""}static isCorrectSequenceOfCharacters(De,We,gt=[]){const Tt=De.delta.ops,Ft=De.oldDelta.ops,Ot=De.editor.getSelection(!0).index;if(!Tt||!Ft)return!1;if(1===Tt.length){if(Tt[0].insert===We)return!0}else if(2===Tt.length){const Oe=Ft.reduce((Ne,yt)=>Ne+yt.insert,"").slice(0,Ot-1),et=Tt[1].insert;if(0===gt.length&&et===We||et===We&&gt.some(Ne=>Oe.endsWith(Ne)))return!0}return!1}static dateFormat(De){return`${De.getFullYear()}-${(De.getMonth()+1).toString().padStart(2,"0")}-${De.getDate().toString().padStart(2,"0")}T${De.getHours().toString().padStart(2,"0")}:${De.getMinutes().toString().padStart(2,"0")}:${De.getSeconds().toString().padStart(2,"0")}Z`}static dateFormatTS(De){return`${De.getFullYear()}-${(De.getMonth()+1).toString().padStart(2,"0")}-${De.getDate().toString().padStart(2,"0")} ${De.getHours().toString().padStart(2,"0")}:${De.getMinutes().toString().padStart(2,"0")}:${De.getSeconds().toString().padStart(2,"0")}`}static stringToColor(De,We=70,gt=100,Tt=50,Ft=80){let Ot=0;for(let yt=0;yt<De.length;yt++)Ot=De.charCodeAt(yt)+((Ot<<5)-Ot);return`hsl(${Ot%360}, ${Math.max(We,Math.min(gt,Ot%100/100*(gt-We)+We))}%, ${Math.max(Tt,Math.min(Ft,Ot%100/100*(Ft-Tt)+Tt))}%)`}static stringToGradient(De,We=90,gt=70,Tt=85,Ft=65){let Ot=0;for(let an=0;an<De.length;an++)Ot=De.charCodeAt(an)+((Ot<<5)-Ot);const Oe=Ot%360,et=Ot%(We-gt+1)+gt,Ne=Ot%(Tt-Ft+1)+Ft;return`linear-gradient(0deg, hsl(${Oe}, ${et}%, ${Ne}%) 0%, hsl(${(Oe-30)%360}, ${et}%, ${Ne-10}%) 100%)`}static declineOfNumber(De,We){const gt=(De=Math.abs(De)%100)%10;return De>10&&De<20?We[2]:gt>1&&gt<5?We[1]:1==gt?We[0]:We[2]}static getValueFromModelItem(De){switch(De.wireframeFieldType){case e._r.ADDRESS:return De.addressData;case e._r.INTEGER:return De.integerData;case e._r.FLOAT:return De.floatData;case e._r.BOOLEAN:return De.booleanData;case e._r.PHONE_ARRAY:return De.phoneData;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:return De.stringData;case e._r.CONNECTION_SERVICES:return De.connectionServicesData;case e._r.EQUIPMENTS:return De.equipmentRealizationsData;case e._r.PASSPORT_DETAILS:return De.passportDetailsData;default:return null}}static setValueToModelItem(De,We){switch(De.wireframeFieldType){case e._r.ADDRESS:De.addressData=We;break;case e._r.INTEGER:De.integerData=We;break;case e._r.FLOAT:De.floatData=We;break;case e._r.BOOLEAN:De.booleanData=We;break;case e._r.PHONE_ARRAY:De.phoneData=We;break;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.CONNECTION_TYPE:case e._r.SMALL_TEXT:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:De.stringData=We;break;case e._r.CONNECTION_SERVICES:De.connectionServicesData=We;break;case e._r.EQUIPMENTS:De.equipmentRealizationsData=We;break;case e._r.PASSPORT_DETAILS:De.passportDetailsData=We}return De}static copyToClipboard(De,We,gt,Tt){var Ft;if(null!==(Ft=navigator.clipboard)&&void 0!==Ft&&Ft.writeText)navigator.clipboard.writeText(De).then(()=>{We.add({detail:gt,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})});else{const Ot=document.createElement("textarea");Ot.style.display="fixed",Ot.style.top="-100",Ot.style.left="-100",Ot.style.opacity="0",Ot.style.userSelect="none",Ot.style.pointerEvents="none",Ot.value=De,document.body.appendChild(Ot),Ot.select();try{document.execCommand("copy"),We.add({detail:gt,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}catch(Oe){We.add({detail:Tt,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}document.body.removeChild(Ot)}}static prepareForHttpRequest(De){if("object"==typeof De)for(let We in De)Array.isArray(De[We])||"string"==typeof De[We]||"number"==typeof De[We]||"boolean"==typeof De[We]?Array.isArray(De[We])&&(De[We]=De[We].map(gt=>"object"==typeof gt?JSON.stringify(gt):gt)):De[We]=JSON.stringify(De[We]);return De}static groupBy(De,We){return De.reduce((gt,Tt)=>Object.assign(Object.assign({},gt),{[Tt[We]]:[...gt[Tt[We]]||[],Tt]}),{})}static arrayEquals(De,We){if(!De||!We||De.length!==We.length)return!1;const gt=new Map;De.forEach(Tt=>{const Ft=gt.get(Tt);gt.set(Tt,Ft?{aCount:Ft.aCount+1,bCount:0}:{aCount:1,bCount:0})}),We.forEach(Tt=>{const Ft=gt.get(Tt);gt.set(Tt,Ft?{aCount:Ft.aCount,bCount:Ft.bCount+1}:{aCount:0,bCount:1})});for(let[Tt,{aCount:Ft,bCount:Ot}]of gt)if(Ft!==Ot)return!1;return!0}static getRandom(De,We){return Math.round(Math.random()*(We-De)+De)}}class X{static convert(De,We){return We.steps.reduce((Tt,Ft)=>[...Tt,...Ft.fields],[]).filter(Tt=>Object.keys(De).includes(Tt.id)).map(Tt=>{const Ft=De[Tt.id],Ot={id:Tt.id,wireframeFieldType:Tt.type,name:Tt.name,variation:Tt.variation,displayType:Tt.displayType};switch(Tt.type){case e._r.SMALL_TEXT:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.IP:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:Ot.stringData=Ft;break;case e._r.ADDRESS:Ot.addressData=Ft;break;case e._r.PHONE_ARRAY:Ot.phoneData=Ft;break;case e._r.INTEGER:Ot.integerData=Ft;break;case e._r.BOOLEAN:Ot.booleanData=Ft;break;case e._r.FLOAT:Ot.floatData=Ft;break;case e._r.CONNECTION_SERVICES:Ot.connectionServicesData=Ft;break;case e._r.EQUIPMENTS:Ot.equipmentRealizationsData=Ft;break;case e._r.PASSPORT_DETAILS:Ot.passportDetailsData=Ft}return Ot})}static editExisting(De,We){return We.map(gt=>ke.setValueToModelItem(gt,De[gt.modelItemId]))}}class q{constructor(){this.observer=(0,d.H)(0,1e3).pipe((0,u.w)(()=>(0,p.of)(this.getTime()))),this.time=0}setTime(De){this.time=De instanceof Date?De.getTime():"string"==typeof De?new Date(De).getTime():"number"==typeof De?De:0}getTime(){if(0===this.time)return{biggestSuffix:"",biggestType:"none",biggestValue:0,current:{days:0,hours:0,minutes:0,seconds:0},mode:"none",timeError:!0,actualLabel:"-"};const De=(new Date).getTime(),We=Math.abs(this.time-De),gt=this.time<De?"after":"before";let Tt=Math.floor(We/864e5),Ft=Math.floor(We%864e5/36e5),Ot=Math.floor(We%36e5/6e4),Oe=Math.floor(We%6e4/1e3);if(Tt>0){const et=ke.declineOfNumber(Tt,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return{biggestSuffix:et,biggestType:"days",biggestValue:Tt,current:{days:Tt,hours:Ft,minutes:Ot,seconds:Oe},mode:gt,timeError:!1,actualLabel:`${Tt} ${et}`}}if(Ft>0){const et=ke.declineOfNumber(Ft,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]);return{biggestSuffix:et,biggestType:"hours",biggestValue:Ft,current:{days:Tt,hours:Ft,minutes:Ot,seconds:Oe},mode:gt,timeError:!1,actualLabel:`${Ft} ${et}`}}if(Ot>0){const et=ke.declineOfNumber(Ot,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]);return{biggestSuffix:et,biggestType:"minutes",biggestValue:Ot,current:{days:Tt,hours:Ft,minutes:Ot,seconds:Oe},mode:gt,timeError:!1,actualLabel:`${Ot} ${et}`}}{const et=ke.declineOfNumber(Oe,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]);return{biggestSuffix:et,biggestType:"seconds",biggestValue:Oe,current:{days:Tt,hours:Ft,minutes:Ot,seconds:Oe},mode:gt,timeError:!1,actualLabel:`${Oe} ${et}`}}}}class pe{constructor(){this.subscriptions=new Map}addSubscription(De,We){const gt=this.subscriptions.get(De);gt&&gt.unsubscribe(),this.subscriptions.set(De,We)}unsubscribeAll(){this.subscriptions.forEach(De=>De.unsubscribe()),this.subscriptions.clear()}unsubscribe(De){const We=this.subscriptions.get(De);We&&We.unsubscribe(),this.subscriptions.delete(De)}}const _e={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]}],["clean"],["link"]]};function Xe(xe){const De={"employee-label-element":te(J.x,{injector:xe}),"task-link-element":te(ve.U,{injector:xe}),"department-label-element":te(be.y,{injector:xe}),"appointed-installers-element":te(Be._,{injector:xe}),"chat-link-element":te(we.K,{injector:xe})};for(const[We,gt]of Object.entries(De))customElements.get(We)||customElements.define(We,gt)}function ct(xe){xe.ripple=!0,xe.setTranslation({startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",noFilter:"\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u0430",lt:"\u041c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c",lte:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",gt:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",gte:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",is:"\u042f\u0432\u043b\u044f\u0435\u0442\u0441\u044f",isNot:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f",before:"\u0414\u043e",after:"\u041f\u043e\u0441\u043b\u0435",dateIs:"\u0414\u0430\u0442\u0430",dateIsNot:"\u0414\u0430\u0442\u0430 \u043d\u0435",dateBefore:"\u0414\u0430\u0442\u0430 \u0440\u0430\u043d\u044c\u0448\u0435",dateAfter:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0441\u043b\u0435",clear:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u043c",matchAny:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438",addRule:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",removeRule:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",accept:"\u0414\u0430",reject:"\u041d\u0435\u0442",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dateFormat:"dd-mm-yy",firstDayOfWeek:0,today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",weekHeader:"\u041d\u0434",weak:"\u041d\u0435\u0434\u0435\u043b\u044f",medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",strong:"\u0416\u0438\u0440\u043d\u044b\u0439",passwordPrompt:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",emptyMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})}function ot(xe,De=0){let We=3735928559^De,gt=1103547991^De;for(let Ft,Tt=0;Tt<xe.length;Tt++)Ft=xe.charCodeAt(Tt),We=Math.imul(We^Ft,2654435761),gt=Math.imul(gt^Ft,1597334677);return We=Math.imul(We^We>>>16,2246822507),We^=Math.imul(gt^gt>>>13,3266489909),gt=Math.imul(gt^gt>>>16,2246822507),gt^=Math.imul(We^We>>>13,3266489909),(4294967296*(2097151&gt)+(We>>>0)).toString(16)}function Zt(xe){const De=window.matchMedia(xe);return(0,x.R)(De,"change").pipe((0,R.O)(De),(0,b.U)(We=>We.matches))}class Dt{static save(De,We){localStorage.setItem(De,JSON.stringify(We))}static load(De){const We=localStorage.getItem(De);return null===We?null:JSON.parse(We)}static loadOrDefault(De,We){const gt=localStorage.getItem(De);return null===gt?We:JSON.parse(gt)}}class Cn{constructor(De){this.loadingState=e.Gu.LOADING,this.value=De}}class Xt{constructor(De){this.loadingState=e.Gu.LOADING,this.pageNumber=0,this.totalElements=0,this.value=De}}class jt{static of(De,We,gt,Tt,Ft){const Ot=new Cn([]),Oe=[De.pipe((0,b.U)(et=>(Ot.loadingState=null==et||0===et.length?e.Gu.EMPTY:e.Gu.READY,Ot.value=et||[],Ot)))];return gt&&Oe.push(gt.pipe((0,b.U)(et=>(Ot.value.some(Ne=>Ne[We]===et[We])||Ot.value.unshift(et),Ot)))),Tt&&Oe.push(Tt.pipe((0,b.U)(et=>{const Ne=Ot.value.findIndex(yt=>yt[We]===et[We]);return-1!==Ne&&(Ot.value[Ne]=et),Ot}))),Ft&&Oe.push(Ft.pipe((0,b.U)(et=>{const Ne=Ot.value.findIndex(yt=>yt[We]===et[We]);return-1!==Ne&&Ot.value.splice(Ne,1),Ot}))),(0,s.T)(...Oe).pipe((0,R.O)(Ot))}static ofWithFilter(De,We,gt,Tt,Ft,Ot){const Oe=new Cn([]),et=new F.x,Ne=et.pipe((0,b.U)(ee=>(Oe.loadingState=ee,Oe))),yt=[De.pipe((0,O.b)({next:()=>et.next(e.Gu.LOADING)}),(0,u.w)(ee=>We(...ee).pipe((0,b.U)(Ze=>(Oe.loadingState=null==Ze||0===Ze.length?e.Gu.EMPTY:e.Gu.READY,Oe.value=Ze||[],Oe)))))];return Tt&&yt.push(Tt.pipe((0,b.U)(ee=>(Oe.value.unshift(ee),Oe)))),Ft&&yt.push(Ft.pipe((0,b.U)(ee=>{const Ze=Oe.value.findIndex(Ce=>Ce[gt]===ee[gt]);return-1!==Ze&&(Oe.value[Ze]=ee),Oe}))),Ot&&yt.push(Ot.pipe((0,b.U)(ee=>{const Ze=Oe.value.findIndex(Ce=>Ce[gt]===ee[gt]);return-1!==Ze&&Oe.value.splice(Ze,1),Oe}))),(0,s.T)(...yt,Ne).pipe((0,R.O)(Oe))}static ofPage(De,We,gt,Tt,Ft,Ot){const Oe=new Xt([]),et=new F.x,Ne=et.pipe((0,b.U)(ee=>(Oe.loadingState=ee,Oe))),yt=[De.pipe((0,O.b)({next:()=>et.next(e.Gu.LOADING)}),(0,u.w)(ee=>We(...ee).pipe((0,b.U)(Ze=>(Oe.loadingState=null==Ze||0===Ze.content.length?e.Gu.EMPTY:e.Gu.READY,Oe.value=Ze.content||[],Oe.pageNumber=Ze.number,Oe.totalElements=Ze.totalElements,Oe)))))];return Tt&&yt.push(Tt.pipe((0,b.U)(ee=>(0===Oe.pageNumber&&Oe.value.unshift(ee),Oe)))),Ft&&yt.push(Ft.pipe((0,b.U)(ee=>{const Ze=Oe.value.findIndex(Ce=>Ce[gt]===ee[gt]);return-1!==Ze&&(Oe.value[Ze]=ee),Oe}))),Ot&&yt.push(Ot.pipe((0,b.U)(ee=>{const Ze=Oe.value.findIndex(Ce=>Ce[gt]===ee[gt]);return-1!==Ze&&Oe.value.splice(Ze,1),Oe}))),(0,s.T)(...yt,Ne).pipe((0,R.O)(Oe))}static ofPageAlt(De,We,gt,Tt,Ft,Ot){const Oe=new Xt([]),et=new F.x,Ne=et.pipe((0,b.U)(ee=>(Oe.loadingState=ee,Oe))),yt=Tt?[(0,Q.a)([Tt.pipe((0,R.O)(null)),De]).pipe((0,O.b)({next:ee=>et.next(e.Gu.LOADING)}),(0,u.w)(([ee,Ze])=>We(...Ze).pipe((0,b.U)(Ce=>(Oe.loadingState=null==Ce||0===Ce.content.length?e.Gu.EMPTY:e.Gu.READY,Oe.value=Ce.content||[],Oe.pageNumber=Ce.number,Oe.totalElements=Ce.totalElements,Oe)))))]:[De.pipe((0,O.b)({next:ee=>et.next(e.Gu.LOADING)}),(0,u.w)(([ee,Ze])=>We(...Ze).pipe((0,b.U)(Ce=>(Oe.loadingState=null==Ce||0===Ce.content.length?e.Gu.EMPTY:e.Gu.READY,Oe.value=Ce.content||[],Oe.pageNumber=Ce.number,Oe.totalElements=Ce.totalElements,Oe)))))];return Ft&&yt.push(Ft.pipe((0,b.U)(ee=>{const Ze=Oe.value.findIndex(Ce=>Ce[gt]===ee[gt]);if(-1!==Ze){const Ce=Oe.value[Ze];for(let ft in Ce)null!=ee[ft]&&(Ce[ft]=ee[ft])}return Oe}))),Ot&&yt.push(Ot.pipe((0,b.U)(ee=>{const Ze=Oe.value.findIndex(Ce=>Ce[gt]===ee[gt]);return-1!==Ze&&Oe.value.splice(Ze,1),Oe}))),(0,s.T)(...yt,Ne).pipe((0,R.O)(Oe))}static ofPageAltAll(De,We,gt){const Tt=new Xt([]),Ft=new F.x,Ot=Ft.pipe((0,b.U)(et=>(Tt.loadingState=et,Tt))),Oe=(0,s.T)(De,(0,s.T)(...gt||[]).pipe((0,u.w)(()=>De.pipe((0,N.d)(1))),(0,b.U)(et=>({filter:et,update:!0})))).pipe((0,O.b)({next:et=>{"update"in et||Ft.next(e.Gu.LOADING)}}),(0,u.w)(et=>We(..."update"in et?et.filter:et).pipe((0,b.U)(Ne=>(Tt.loadingState=null==Ne||0===Ne.content.length?e.Gu.EMPTY:e.Gu.READY,Tt.value=Ne.content||[],Tt.pageNumber=Ne.number,Tt.totalElements=Ne.totalElements,Tt)))));return(0,s.T)(Oe,Ot).pipe((0,R.O)(Tt))}static ofAltAll(De,We,gt){const Tt=new Cn([]),Ft=new F.x,Ot=Ft.pipe((0,b.U)(et=>(Tt.loadingState=et,Tt))),Oe=(0,s.T)(De,(0,s.T)(...gt||[]).pipe((0,u.w)(()=>De.pipe((0,N.d)(1))),(0,b.U)(et=>({filter:et,update:!0})))).pipe((0,O.b)({next:et=>{"update"in et||Ft.next(e.Gu.LOADING)}}),(0,u.w)(et=>We(..."update"in et?et.filter:et).pipe((0,b.U)(Ne=>(Tt.loadingState=null==Ne||0===Ne.length?e.Gu.EMPTY:e.Gu.READY,Tt.value=Ne||[],Tt)))));return(0,s.T)(Oe,Ot).pipe((0,R.O)(Tt))}static ofAll(De,We){const gt=new Cn([]);return(0,s.T)(...We||[]).pipe((0,R.O)(null),(0,u.w)(()=>De.pipe((0,b.U)(Ft=>(gt.loadingState=null==Ft||0===Ft.length?e.Gu.EMPTY:e.Gu.READY,gt.value=Ft||[],gt))))).pipe((0,R.O)(gt))}}const ht=new T.y(xe=>{let De=1;const We=setInterval(()=>{xe.next(".".repeat(De)),De++,De>3&&(De=1)},300);return()=>clearInterval(We)}),ut=[{stWidth:87,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:69,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:109,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:85,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:82,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:102,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:66,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:117,houses:[null,null,null,null,null,null,null,null,null]},{stWidth:68,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:120,houses:[null,null,null,null]},{stWidth:67,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:78,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:122,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:114,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]},2340:(dn,pt,C)=>{"use strict";C.d(pt,{N:()=>e});const e={production:!0,wsHost:"ws://10.128.227.39/socket",hmr:!1}},8255:(dn,pt,C)=>{"use strict";var e=C(2313),d=C(5e3),u=C(383),p=C(3470),x=C(9300),R=C(4326),b=C(9783),s=C(9808),F=C(7773),O=C(1110);function Q(vt,le){if(1&vt&&(d.TgZ(0,"span",9),d._uU(1),d.qZA()),2&vt){const ge=d.oxw().$implicit;d.xp6(1),d.Oqu(ge.data.descriptionOfAttachment)}}function N(vt,le){if(1&vt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&vt){const ge=d.oxw().$implicit;d.xp6(1),d.Oqu(ge.data.text)}}const T=function(){return{marginLeft:"2rem"}};function y(vt,le){if(1&vt&&(d.TgZ(0,"div",2)(1,"div",3),d._UZ(2,"app-employee-label",4),d.qZA(),d.TgZ(3,"div",5),d.YNc(4,Q,2,1,"span",6),d.YNc(5,N,2,1,"span",7),d.qZA(),d.TgZ(6,"div",8)(7,"span"),d._uU(8),d.ALo(9,"date"),d.qZA()()()),2&vt){const ge=le.$implicit;d.xp6(2),d.Q6J("employee",ge.data.author),d.xp6(1),d.Akn(d.DdM(9,T)),d.xp6(1),d.Q6J("ngIf",ge.data.descriptionOfAttachment),d.xp6(1),d.Q6J("ngIf",ge.data.text),d.xp6(3),d.Oqu(d.xi3(9,6,ge.data.sendAt,"dd-MM-yyyy HH:mm"))}}let w=(()=>{class vt{constructor(ge,Ke,It,zt){this.config=ge,this.title="Microel CRM",(0,u.EM)(ge),(0,u.XO)(Ke),It.events.pipe((0,x.h)(pn=>pn instanceof p.Xs)).pipe((0,R.g)(1)).subscribe(pn=>{pn.position?zt.scrollToPosition(pn.position):pn.anchor?zt.scrollToAnchor(pn.anchor):zt.scrollToPosition([0,0])})}}return vt.\u0275fac=function(ge){return new(ge||vt)(d.Y36(b.b4),d.Y36(d.zs3),d.Y36(p.F0),d.Y36(s.EM))},vt.\u0275cmp=d.Xpm({type:vt,selectors:[["app-root"]],decls:4,vars:0,consts:[["position","bottom-right","key","chatMessage"],["pTemplate","message"],[1,"flexed","column","stretched","gap5"],[1,"flexed","hcenter"],[3,"employee"],[1,"flexed","column"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[4,"ngIf"],[1,"flexed","vend","caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","wt-bold","f-color-primary"]],template:function(ge,Ke){1&ge&&(d._UZ(0,"router-outlet")(1,"p-toast"),d.TgZ(2,"p-toast",0),d.YNc(3,y,10,10,"ng-template",1),d.qZA())},dependencies:[p.lC,s.O5,F.FN,b.jx,O.x,s.uU]}),vt})();const k=void 0,U=["ru",[["AM","PM"],k,k],k,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],k,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",k,k,k],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[k,"\u0440."],GEL:[k,"\u10da"],PHP:[k,"\u20b1"],RON:[k,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function V(vt){const ge=Math.floor(Math.abs(vt)),Ke=vt.toString().replace(/^[^.]*\.?/,"").length;return 0===Ke&&ge%10==1&&ge%100!=11?1:0===Ke&&ge%10===Math.floor(ge%10)&&ge%10>=2&&ge%10<=4&&!(ge%100>=12&&ge%100<=14)?3:0===Ke&&ge%10==0||0===Ke&&ge%10===Math.floor(ge%10)&&ge%10>=5&&ge%10<=9||0===Ke&&ge%100===Math.floor(ge%100)&&ge%100>=11&&ge%100<=14?4:5}];var oe=C(975),K=C(9763),H=C(1777);function P(vt){return new d.vHH(3e3,!1)}function Ot(){return"undefined"!=typeof window&&void 0!==window.document}function Oe(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function et(vt){switch(vt.length){case 0:return new H.ZN;case 1:return vt[0];default:return new H.ZE(vt)}}function Ne(vt,le,ge,Ke,It=new Map,zt=new Map){const pn=[],mn=[];let Sn=-1,Gn=null;if(Ke.forEach(Jt=>{const Ve=Jt.get("offset"),Je=Ve==Sn,bt=Je&&Gn||new Map;Jt.forEach((Nt,cn)=>{let wn=cn,Pn=Nt;if("offset"!==cn)switch(wn=le.normalizePropertyName(wn,pn),Pn){case H.k1:Pn=It.get(cn);break;case H.l3:Pn=zt.get(cn);break;default:Pn=le.normalizeStyleValue(cn,wn,Pn,pn)}bt.set(wn,Pn)}),Je||mn.push(bt),Gn=bt,Sn=Ve}),pn.length)throw function Zt(vt){return new d.vHH(3502,!1)}();return mn}function yt(vt,le,ge,Ke){switch(le){case"start":vt.onStart(()=>Ke(ge&&ee(ge,"start",vt)));break;case"done":vt.onDone(()=>Ke(ge&&ee(ge,"done",vt)));break;case"destroy":vt.onDestroy(()=>Ke(ge&&ee(ge,"destroy",vt)))}}function ee(vt,le,ge){const Ke=ge.totalTime,zt=Ze(vt.element,vt.triggerName,vt.fromState,vt.toState,le||vt.phaseName,null==Ke?vt.totalTime:Ke,!!ge.disabled),pn=vt._data;return null!=pn&&(zt._data=pn),zt}function Ze(vt,le,ge,Ke,It="",zt=0,pn){return{element:vt,triggerName:le,fromState:ge,toState:Ke,phaseName:It,totalTime:zt,disabled:!!pn}}function Ce(vt,le,ge){let Ke=vt.get(le);return Ke||vt.set(le,Ke=ge),Ke}function ft(vt){const le=vt.indexOf(":");return[vt.substring(1,le),vt.slice(le+1)]}let an=(vt,le)=>!1,Tn=(vt,le,ge)=>[],qt=null;function xt(vt){const le=vt.parentNode||vt.host;return le===qt?null:le}(Oe()||"undefined"!=typeof Element)&&(Ot()?(qt=(()=>document.documentElement)(),an=(vt,le)=>{for(;le;){if(le===vt)return!0;le=xt(le)}return!1}):an=(vt,le)=>vt.contains(le),Tn=(vt,le,ge)=>{if(ge)return Array.from(vt.querySelectorAll(le));const Ke=vt.querySelector(le);return Ke?[Ke]:[]});let lt=null,$e=!1;const fn=an,Gt=Tn;let Bt=(()=>{class vt{validateStyleProperty(ge){return function Lt(vt){lt||(lt=function sn(){return"undefined"!=typeof document?document.body:null}()||{},$e=!!lt.style&&"WebkitAppearance"in lt.style);let le=!0;return lt.style&&!function me(vt){return"ebkit"==vt.substring(1,6)}(vt)&&(le=vt in lt.style,!le&&$e&&(le="Webkit"+vt.charAt(0).toUpperCase()+vt.slice(1)in lt.style)),le}(ge)}matchesElement(ge,Ke){return!1}containsElement(ge,Ke){return fn(ge,Ke)}getParentElement(ge){return xt(ge)}query(ge,Ke,It){return Gt(ge,Ke,It)}computeStyle(ge,Ke,It){return It||""}animate(ge,Ke,It,zt,pn,mn=[],Sn){return new H.ZN(It,zt)}}return vt.\u0275fac=function(ge){return new(ge||vt)},vt.\u0275prov=d.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),rn=(()=>{class vt{}return vt.NOOP=new Bt,vt})();const Ci="ng-enter",Qi="ng-leave",oo="ng-trigger",$o=".ng-trigger",Vt="ng-animating",Ye=".ng-animating";function Ee(vt){if("number"==typeof vt)return vt;const le=vt.match(/^(-?[\.\d]+)(m?s)/);return!le||le.length<2?0:Qe(parseFloat(le[1]),le[2])}function Qe(vt,le){return"s"===le?1e3*vt:vt}function dt(vt,le,ge){return vt.hasOwnProperty("duration")?vt:function gn(vt,le,ge){let It,zt=0,pn="";if("string"==typeof vt){const mn=vt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===mn)return le.push(P()),{duration:0,delay:0,easing:""};It=Qe(parseFloat(mn[1]),mn[2]);const Sn=mn[3];null!=Sn&&(zt=Qe(parseFloat(Sn),mn[4]));const Gn=mn[5];Gn&&(pn=Gn)}else It=vt;if(!ge){let mn=!1,Sn=le.length;It<0&&(le.push(function Y(){return new d.vHH(3100,!1)}()),mn=!0),zt<0&&(le.push(function re(){return new d.vHH(3101,!1)}()),mn=!0),mn&&le.splice(Sn,0,P())}return{duration:It,delay:zt,easing:pn}}(vt,le,ge)}function xn(vt,le={}){return Object.keys(vt).forEach(ge=>{le[ge]=vt[ge]}),le}function yn(vt){const le=new Map;return Object.keys(vt).forEach(ge=>{le.set(ge,vt[ge])}),le}function ti(vt,le=new Map,ge){if(ge)for(let[Ke,It]of ge)le.set(Ke,It);for(let[Ke,It]of vt)le.set(Ke,It);return le}function li(vt,le,ge){return ge?le+":"+ge+";":""}function mi(vt){let le="";for(let ge=0;ge<vt.style.length;ge++){const Ke=vt.style.item(ge);le+=li(0,Ke,vt.style.getPropertyValue(Ke))}for(const ge in vt.style)vt.style.hasOwnProperty(ge)&&!ge.startsWith("_")&&(le+=li(0,is(ge),vt.style[ge]));vt.setAttribute("style",le)}function oi(vt,le,ge){vt.style&&(le.forEach((Ke,It)=>{const zt=$i(It);ge&&!ge.has(It)&&ge.set(It,vt.style[zt]),vt.style[zt]=Ke}),Oe()&&mi(vt))}function Mi(vt,le){vt.style&&(le.forEach((ge,Ke)=>{const It=$i(Ke);vt.style[It]=""}),Oe()&&mi(vt))}function Wi(vt){return Array.isArray(vt)?1==vt.length?vt[0]:(0,H.vP)(vt):vt}const ai=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gi(vt){let le=[];if("string"==typeof vt){let ge;for(;ge=ai.exec(vt);)le.push(ge[1]);ai.lastIndex=0}return le}function Eo(vt,le,ge){const Ke=vt.toString(),It=Ke.replace(ai,(zt,pn)=>{let mn=le[pn];return null==mn&&(ge.push(function G(vt){return new d.vHH(3003,!1)}()),mn=""),mn.toString()});return It==Ke?vt:It}function Yo(vt){const le=[];let ge=vt.next();for(;!ge.done;)le.push(ge.value),ge=vt.next();return le}const Co=/-+([a-z0-9])/g;function $i(vt){return vt.replace(Co,(...le)=>le[1].toUpperCase())}function is(vt){return vt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fo(vt,le,ge){switch(le.type){case 7:return vt.visitTrigger(le,ge);case 0:return vt.visitState(le,ge);case 1:return vt.visitTransition(le,ge);case 2:return vt.visitSequence(le,ge);case 3:return vt.visitGroup(le,ge);case 4:return vt.visitAnimate(le,ge);case 5:return vt.visitKeyframes(le,ge);case 6:return vt.visitStyle(le,ge);case 8:return vt.visitReference(le,ge);case 9:return vt.visitAnimateChild(le,ge);case 10:return vt.visitAnimateRef(le,ge);case 11:return vt.visitQuery(le,ge);case 12:return vt.visitStagger(le,ge);default:throw function ie(vt){return new d.vHH(3004,!1)}()}}function Oo(vt,le){return window.getComputedStyle(vt)[le]}function ps(vt,le){const ge=[];return"string"==typeof vt?vt.split(/\s*,\s*/).forEach(Ke=>function Dr(vt,le,ge){if(":"==vt[0]){const Sn=function Da(vt,le){switch(vt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(ge,Ke)=>parseFloat(Ke)>parseFloat(ge);case":decrement":return(ge,Ke)=>parseFloat(Ke)<parseFloat(ge);default:return le.push(function _e(vt){return new d.vHH(3016,!1)}()),"* => *"}}(vt,ge);if("function"==typeof Sn)return void le.push(Sn);vt=Sn}const Ke=vt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Ke||Ke.length<4)return ge.push(function pe(vt){return new d.vHH(3015,!1)}()),le;const It=Ke[1],zt=Ke[2],pn=Ke[3];le.push(Po(It,pn));"<"==zt[0]&&!("*"==It&&"*"==pn)&&le.push(Po(pn,It))}(Ke,ge,le)):ge.push(vt),ge}const Hr=new Set(["true","1"]),hr=new Set(["false","0"]);function Po(vt,le){const ge=Hr.has(vt)||hr.has(vt),Ke=Hr.has(le)||hr.has(le);return(It,zt)=>{let pn="*"==vt||vt==It,mn="*"==le||le==zt;return!pn&&ge&&"boolean"==typeof It&&(pn=It?Hr.has(vt):hr.has(vt)),!mn&&Ke&&"boolean"==typeof zt&&(mn=zt?Hr.has(le):hr.has(le)),pn&&mn}}const No=new RegExp("s*:selfs*,?","g");function Li(vt,le,ge,Ke){return new Vr(vt).build(le,ge,Ke)}class Vr{constructor(le){this._driver=le}build(le,ge,Ke){const It=new jo(ge);return this._resetContextStyleTimingState(It),fo(this,Wi(le),It)}_resetContextStyleTimingState(le){le.currentQuerySelector="",le.collectedStyles=new Map,le.collectedStyles.set("",new Map),le.currentTime=0}visitTrigger(le,ge){let Ke=ge.queryCount=0,It=ge.depCount=0;const zt=[],pn=[];return"@"==le.name.charAt(0)&&ge.errors.push(function Me(){return new d.vHH(3006,!1)}()),le.definitions.forEach(mn=>{if(this._resetContextStyleTimingState(ge),0==mn.type){const Sn=mn,Gn=Sn.name;Gn.toString().split(/\s*,\s*/).forEach(Jt=>{Sn.name=Jt,zt.push(this.visitState(Sn,ge))}),Sn.name=Gn}else if(1==mn.type){const Sn=this.visitTransition(mn,ge);Ke+=Sn.queryCount,It+=Sn.depCount,pn.push(Sn)}else ge.errors.push(function de(){return new d.vHH(3007,!1)}())}),{type:7,name:le.name,states:zt,transitions:pn,queryCount:Ke,depCount:It,options:null}}visitState(le,ge){const Ke=this.visitStyle(le.styles,ge),It=le.options&&le.options.params||null;if(Ke.containsDynamicStyles){const zt=new Set,pn=It||{};Ke.styles.forEach(mn=>{mn instanceof Map&&mn.forEach(Sn=>{Gi(Sn).forEach(Gn=>{pn.hasOwnProperty(Gn)||zt.add(Gn)})})}),zt.size&&(Yo(zt.values()),ge.errors.push(function te(vt,le){return new d.vHH(3008,!1)}()))}return{type:0,name:le.name,style:Ke,options:It?{params:It}:null}}visitTransition(le,ge){ge.queryCount=0,ge.depCount=0;const Ke=fo(this,Wi(le.animation),ge);return{type:1,matchers:ps(le.expr,ge.errors),animation:Ke,queryCount:ge.queryCount,depCount:ge.depCount,options:Cs(le.options)}}visitSequence(le,ge){return{type:2,steps:le.steps.map(Ke=>fo(this,Ke,ge)),options:Cs(le.options)}}visitGroup(le,ge){const Ke=ge.currentTime;let It=0;const zt=le.steps.map(pn=>{ge.currentTime=Ke;const mn=fo(this,pn,ge);return It=Math.max(It,ge.currentTime),mn});return ge.currentTime=It,{type:3,steps:zt,options:Cs(le.options)}}visitAnimate(le,ge){const Ke=function os(vt,le){if(vt.hasOwnProperty("duration"))return vt;if("number"==typeof vt)return zr(dt(vt,le).duration,0,"");const ge=vt;if(ge.split(/\s+/).some(zt=>"{"==zt.charAt(0)&&"{"==zt.charAt(1))){const zt=zr(0,0,"");return zt.dynamic=!0,zt.strValue=ge,zt}const It=dt(ge,le);return zr(It.duration,It.delay,It.easing)}(le.timings,ge.errors);ge.currentAnimateTimings=Ke;let It,zt=le.styles?le.styles:(0,H.oB)({});if(5==zt.type)It=this.visitKeyframes(zt,ge);else{let pn=le.styles,mn=!1;if(!pn){mn=!0;const Gn={};Ke.easing&&(Gn.easing=Ke.easing),pn=(0,H.oB)(Gn)}ge.currentTime+=Ke.duration+Ke.delay;const Sn=this.visitStyle(pn,ge);Sn.isEmptyStep=mn,It=Sn}return ge.currentAnimateTimings=null,{type:4,timings:Ke,style:It,options:null}}visitStyle(le,ge){const Ke=this._makeStyleAst(le,ge);return this._validateStyleAst(Ke,ge),Ke}_makeStyleAst(le,ge){const Ke=[],It=Array.isArray(le.styles)?le.styles:[le.styles];for(let mn of It)"string"==typeof mn?mn===H.l3?Ke.push(mn):ge.errors.push(new d.vHH(3002,!1)):Ke.push(yn(mn));let zt=!1,pn=null;return Ke.forEach(mn=>{if(mn instanceof Map&&(mn.has("easing")&&(pn=mn.get("easing"),mn.delete("easing")),!zt))for(let Sn of mn.values())if(Sn.toString().indexOf("{{")>=0){zt=!0;break}}),{type:6,styles:Ke,easing:pn,offset:le.offset,containsDynamicStyles:zt,options:null}}_validateStyleAst(le,ge){const Ke=ge.currentAnimateTimings;let It=ge.currentTime,zt=ge.currentTime;Ke&&zt>0&&(zt-=Ke.duration+Ke.delay),le.styles.forEach(pn=>{"string"!=typeof pn&&pn.forEach((mn,Sn)=>{const Gn=ge.collectedStyles.get(ge.currentQuerySelector),Jt=Gn.get(Sn);let Ve=!0;Jt&&(zt!=It&&zt>=Jt.startTime&&It<=Jt.endTime&&(ge.errors.push(function ve(vt,le,ge,Ke,It){return new d.vHH(3010,!1)}()),Ve=!1),zt=Jt.startTime),Ve&&Gn.set(Sn,{startTime:zt,endTime:It}),ge.options&&function wo(vt,le,ge){const Ke=le.params||{},It=Gi(vt);It.length&&It.forEach(zt=>{Ke.hasOwnProperty(zt)||ge.push(function j(vt){return new d.vHH(3001,!1)}())})}(mn,ge.options,ge.errors)})})}visitKeyframes(le,ge){const Ke={type:5,styles:[],options:null};if(!ge.currentAnimateTimings)return ge.errors.push(function be(){return new d.vHH(3011,!1)}()),Ke;let zt=0;const pn=[];let mn=!1,Sn=!1,Gn=0;const Jt=le.steps.map(Pn=>{const Xn=this._makeStyleAst(Pn,ge);let yi=null!=Xn.offset?Xn.offset:function sr(vt){if("string"==typeof vt)return null;let le=null;if(Array.isArray(vt))vt.forEach(ge=>{if(ge instanceof Map&&ge.has("offset")){const Ke=ge;le=parseFloat(Ke.get("offset")),Ke.delete("offset")}});else if(vt instanceof Map&&vt.has("offset")){const ge=vt;le=parseFloat(ge.get("offset")),ge.delete("offset")}return le}(Xn.styles),Ai=0;return null!=yi&&(zt++,Ai=Xn.offset=yi),Sn=Sn||Ai<0||Ai>1,mn=mn||Ai<Gn,Gn=Ai,pn.push(Ai),Xn});Sn&&ge.errors.push(function Be(){return new d.vHH(3012,!1)}()),mn&&ge.errors.push(function we(){return new d.vHH(3200,!1)}());const Ve=le.steps.length;let Je=0;zt>0&&zt<Ve?ge.errors.push(function ke(){return new d.vHH(3202,!1)}()):0==zt&&(Je=1/(Ve-1));const bt=Ve-1,Nt=ge.currentTime,cn=ge.currentAnimateTimings,wn=cn.duration;return Jt.forEach((Pn,Xn)=>{const yi=Je>0?Xn==bt?1:Je*Xn:pn[Xn],Ai=yi*wn;ge.currentTime=Nt+cn.delay+Ai,cn.duration=Ai,this._validateStyleAst(Pn,ge),Pn.offset=yi,Ke.styles.push(Pn)}),Ke}visitReference(le,ge){return{type:8,animation:fo(this,Wi(le.animation),ge),options:Cs(le.options)}}visitAnimateChild(le,ge){return ge.depCount++,{type:9,options:Cs(le.options)}}visitAnimateRef(le,ge){return{type:10,animation:this.visitReference(le.animation,ge),options:Cs(le.options)}}visitQuery(le,ge){const Ke=ge.currentQuerySelector,It=le.options||{};ge.queryCount++,ge.currentQuery=le;const[zt,pn]=function ws(vt){const le=!!vt.split(/\s*,\s*/).find(ge=>":self"==ge);return le&&(vt=vt.replace(No,"")),vt=vt.replace(/@\*/g,$o).replace(/@\w+/g,ge=>$o+"-"+ge.slice(1)).replace(/:animating/g,Ye),[vt,le]}(le.selector);ge.currentQuerySelector=Ke.length?Ke+" "+zt:zt,Ce(ge.collectedStyles,ge.currentQuerySelector,new Map);const mn=fo(this,Wi(le.animation),ge);return ge.currentQuery=null,ge.currentQuerySelector=Ke,{type:11,selector:zt,limit:It.limit||0,optional:!!It.optional,includeSelf:pn,animation:mn,originalSelector:le.selector,options:Cs(le.options)}}visitStagger(le,ge){ge.currentQuery||ge.errors.push(function X(){return new d.vHH(3013,!1)}());const Ke="full"===le.timings?{duration:0,delay:0,easing:"full"}:dt(le.timings,ge.errors,!0);return{type:12,animation:fo(this,Wi(le.animation),ge),timings:Ke,options:null}}}class jo{constructor(le){this.errors=le,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cs(vt){return vt?(vt=xn(vt)).params&&(vt.params=function Es(vt){return vt?xn(vt):null}(vt.params)):vt={},vt}function zr(vt,le,ge){return{duration:vt,delay:le,easing:ge}}function Yi(vt,le,ge,Ke,It,zt,pn=null,mn=!1){return{type:1,element:vt,keyframes:le,preStyleProps:ge,postStyleProps:Ke,duration:It,delay:zt,totalTime:It+zt,easing:pn,subTimeline:mn}}class gr{constructor(){this._map=new Map}get(le){return this._map.get(le)||[]}append(le,ge){let Ke=this._map.get(le);Ke||this._map.set(le,Ke=[]),Ke.push(...ge)}has(le){return this._map.has(le)}clear(){this._map.clear()}}const fr=new RegExp(":enter","g"),vs=new RegExp(":leave","g");function bs(vt,le,ge,Ke,It,zt=new Map,pn=new Map,mn,Sn,Gn=[]){return(new ys).buildKeyframes(vt,le,ge,Ke,It,zt,pn,mn,Sn,Gn)}class ys{buildKeyframes(le,ge,Ke,It,zt,pn,mn,Sn,Gn,Jt=[]){Gn=Gn||new gr;const Ve=new ks(le,ge,Gn,It,zt,Jt,[]);Ve.options=Sn;const Je=Sn.delay?Ee(Sn.delay):0;Ve.currentTimeline.delayNextStep(Je),Ve.currentTimeline.setStyles([pn],null,Ve.errors,Sn),fo(this,Ke,Ve);const bt=Ve.timelines.filter(Nt=>Nt.containsAnimation());if(bt.length&&mn.size){let Nt;for(let cn=bt.length-1;cn>=0;cn--){const wn=bt[cn];if(wn.element===ge){Nt=wn;break}}Nt&&!Nt.allowOnlyTimelineStyles()&&Nt.setStyles([mn],null,Ve.errors,Sn)}return bt.length?bt.map(Nt=>Nt.buildKeyframes()):[Yi(ge,[],[],[],0,Je,"",!1)]}visitTrigger(le,ge){}visitState(le,ge){}visitTransition(le,ge){}visitAnimateChild(le,ge){const Ke=ge.subInstructions.get(ge.element);if(Ke){const It=ge.createSubContext(le.options),zt=ge.currentTimeline.currentTime,pn=this._visitSubInstructions(Ke,It,It.options);zt!=pn&&ge.transformIntoNewTimeline(pn)}ge.previousNode=le}visitAnimateRef(le,ge){const Ke=ge.createSubContext(le.options);Ke.transformIntoNewTimeline(),this._applyAnimationRefDelays([le.options,le.animation.options],ge,Ke),this.visitReference(le.animation,Ke),ge.transformIntoNewTimeline(Ke.currentTimeline.currentTime),ge.previousNode=le}_applyAnimationRefDelays(le,ge,Ke){var It;for(const zt of le){const pn=null==zt?void 0:zt.delay;if(pn){const mn="number"==typeof pn?pn:Ee(Eo(pn,null!==(It=null==zt?void 0:zt.params)&&void 0!==It?It:{},ge.errors));Ke.delayNextStep(mn)}}}_visitSubInstructions(le,ge,Ke){let zt=ge.currentTimeline.currentTime;const pn=null!=Ke.duration?Ee(Ke.duration):null,mn=null!=Ke.delay?Ee(Ke.delay):null;return 0!==pn&&le.forEach(Sn=>{const Gn=ge.appendInstructionToTimeline(Sn,pn,mn);zt=Math.max(zt,Gn.duration+Gn.delay)}),zt}visitReference(le,ge){ge.updateOptions(le.options,!0),fo(this,le.animation,ge),ge.previousNode=le}visitSequence(le,ge){const Ke=ge.subContextCount;let It=ge;const zt=le.options;if(zt&&(zt.params||zt.delay)&&(It=ge.createSubContext(zt),It.transformIntoNewTimeline(),null!=zt.delay)){6==It.previousNode.type&&(It.currentTimeline.snapshotCurrentStyles(),It.previousNode=Ss);const pn=Ee(zt.delay);It.delayNextStep(pn)}le.steps.length&&(le.steps.forEach(pn=>fo(this,pn,It)),It.currentTimeline.applyStylesToKeyframe(),It.subContextCount>Ke&&It.transformIntoNewTimeline()),ge.previousNode=le}visitGroup(le,ge){const Ke=[];let It=ge.currentTimeline.currentTime;const zt=le.options&&le.options.delay?Ee(le.options.delay):0;le.steps.forEach(pn=>{const mn=ge.createSubContext(le.options);zt&&mn.delayNextStep(zt),fo(this,pn,mn),It=Math.max(It,mn.currentTimeline.currentTime),Ke.push(mn.currentTimeline)}),Ke.forEach(pn=>ge.currentTimeline.mergeTimelineCollectedStyles(pn)),ge.transformIntoNewTimeline(It),ge.previousNode=le}_visitTiming(le,ge){if(le.dynamic){const Ke=le.strValue;return dt(ge.params?Eo(Ke,ge.params,ge.errors):Ke,ge.errors)}return{duration:le.duration,delay:le.delay,easing:le.easing}}visitAnimate(le,ge){const Ke=ge.currentAnimateTimings=this._visitTiming(le.timings,ge),It=ge.currentTimeline;Ke.delay&&(ge.incrementTime(Ke.delay),It.snapshotCurrentStyles());const zt=le.style;5==zt.type?this.visitKeyframes(zt,ge):(ge.incrementTime(Ke.duration),this.visitStyle(zt,ge),It.applyStylesToKeyframe()),ge.currentAnimateTimings=null,ge.previousNode=le}visitStyle(le,ge){const Ke=ge.currentTimeline,It=ge.currentAnimateTimings;!It&&Ke.hasCurrentStyleProperties()&&Ke.forwardFrame();const zt=It&&It.easing||le.easing;le.isEmptyStep?Ke.applyEmptyStep(zt):Ke.setStyles(le.styles,zt,ge.errors,ge.options),ge.previousNode=le}visitKeyframes(le,ge){const Ke=ge.currentAnimateTimings,It=ge.currentTimeline.duration,zt=Ke.duration,mn=ge.createSubContext().currentTimeline;mn.easing=Ke.easing,le.styles.forEach(Sn=>{mn.forwardTime((Sn.offset||0)*zt),mn.setStyles(Sn.styles,Sn.easing,ge.errors,ge.options),mn.applyStylesToKeyframe()}),ge.currentTimeline.mergeTimelineCollectedStyles(mn),ge.transformIntoNewTimeline(It+zt),ge.previousNode=le}visitQuery(le,ge){const Ke=ge.currentTimeline.currentTime,It=le.options||{},zt=It.delay?Ee(It.delay):0;zt&&(6===ge.previousNode.type||0==Ke&&ge.currentTimeline.hasCurrentStyleProperties())&&(ge.currentTimeline.snapshotCurrentStyles(),ge.previousNode=Ss);let pn=Ke;const mn=ge.invokeQuery(le.selector,le.originalSelector,le.limit,le.includeSelf,!!It.optional,ge.errors);ge.currentQueryTotal=mn.length;let Sn=null;mn.forEach((Gn,Jt)=>{ge.currentQueryIndex=Jt;const Ve=ge.createSubContext(le.options,Gn);zt&&Ve.delayNextStep(zt),Gn===ge.element&&(Sn=Ve.currentTimeline),fo(this,le.animation,Ve),Ve.currentTimeline.applyStylesToKeyframe(),pn=Math.max(pn,Ve.currentTimeline.currentTime)}),ge.currentQueryIndex=0,ge.currentQueryTotal=0,ge.transformIntoNewTimeline(pn),Sn&&(ge.currentTimeline.mergeTimelineCollectedStyles(Sn),ge.currentTimeline.snapshotCurrentStyles()),ge.previousNode=le}visitStagger(le,ge){const Ke=ge.parentContext,It=ge.currentTimeline,zt=le.timings,pn=Math.abs(zt.duration),mn=pn*(ge.currentQueryTotal-1);let Sn=pn*ge.currentQueryIndex;switch(zt.duration<0?"reverse":zt.easing){case"reverse":Sn=mn-Sn;break;case"full":Sn=Ke.currentStaggerTime}const Jt=ge.currentTimeline;Sn&&Jt.delayNextStep(Sn);const Ve=Jt.currentTime;fo(this,le.animation,ge),ge.previousNode=le,Ke.currentStaggerTime=It.currentTime-Ve+(It.startTime-Ke.currentTimeline.startTime)}}const Ss={};class ks{constructor(le,ge,Ke,It,zt,pn,mn,Sn){this._driver=le,this.element=ge,this.subInstructions=Ke,this._enterClassName=It,this._leaveClassName=zt,this.errors=pn,this.timelines=mn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ss,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Sn||new Vs(this._driver,ge,0),mn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(le,ge){if(!le)return;const Ke=le;let It=this.options;null!=Ke.duration&&(It.duration=Ee(Ke.duration)),null!=Ke.delay&&(It.delay=Ee(Ke.delay));const zt=Ke.params;if(zt){let pn=It.params;pn||(pn=this.options.params={}),Object.keys(zt).forEach(mn=>{(!ge||!pn.hasOwnProperty(mn))&&(pn[mn]=Eo(zt[mn],pn,this.errors))})}}_copyOptions(){const le={};if(this.options){const ge=this.options.params;if(ge){const Ke=le.params={};Object.keys(ge).forEach(It=>{Ke[It]=ge[It]})}}return le}createSubContext(le=null,ge,Ke){const It=ge||this.element,zt=new ks(this._driver,It,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(It,Ke||0));return zt.previousNode=this.previousNode,zt.currentAnimateTimings=this.currentAnimateTimings,zt.options=this._copyOptions(),zt.updateOptions(le),zt.currentQueryIndex=this.currentQueryIndex,zt.currentQueryTotal=this.currentQueryTotal,zt.parentContext=this,this.subContextCount++,zt}transformIntoNewTimeline(le){return this.previousNode=Ss,this.currentTimeline=this.currentTimeline.fork(this.element,le),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(le,ge,Ke){const It={duration:null!=ge?ge:le.duration,delay:this.currentTimeline.currentTime+(null!=Ke?Ke:0)+le.delay,easing:""},zt=new ia(this._driver,le.element,le.keyframes,le.preStyleProps,le.postStyleProps,It,le.stretchStartingKeyframe);return this.timelines.push(zt),It}incrementTime(le){this.currentTimeline.forwardTime(this.currentTimeline.duration+le)}delayNextStep(le){le>0&&this.currentTimeline.delayNextStep(le)}invokeQuery(le,ge,Ke,It,zt,pn){let mn=[];if(It&&mn.push(this.element),le.length>0){le=(le=le.replace(fr,"."+this._enterClassName)).replace(vs,"."+this._leaveClassName);let Gn=this._driver.query(this.element,le,1!=Ke);0!==Ke&&(Gn=Ke<0?Gn.slice(Gn.length+Ke,Gn.length):Gn.slice(0,Ke)),mn.push(...Gn)}return!zt&&0==mn.length&&pn.push(function q(vt){return new d.vHH(3014,!1)}()),mn}}class Vs{constructor(le,ge,Ke,It){this._driver=le,this.element=ge,this.startTime=Ke,this._elementTimelineStylesLookup=It,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(ge),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(ge,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(le){const ge=1===this._keyframes.size&&this._pendingStyles.size;this.duration||ge?(this.forwardTime(this.currentTime+le),ge&&this.snapshotCurrentStyles()):this.startTime+=le}fork(le,ge){return this.applyStylesToKeyframe(),new Vs(this._driver,le,ge||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(le){this.applyStylesToKeyframe(),this.duration=le,this._loadKeyframe()}_updateStyle(le,ge){this._localTimelineStyles.set(le,ge),this._globalTimelineStyles.set(le,ge),this._styleSummary.set(le,{time:this.currentTime,value:ge})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(le){le&&this._previousKeyframe.set("easing",le);for(let[ge,Ke]of this._globalTimelineStyles)this._backFill.set(ge,Ke||H.l3),this._currentKeyframe.set(ge,H.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(le,ge,Ke,It){var zt;ge&&this._previousKeyframe.set("easing",ge);const pn=It&&It.params||{},mn=function sa(vt,le){const ge=new Map;let Ke;return vt.forEach(It=>{if("*"===It){Ke=Ke||le.keys();for(let zt of Ke)ge.set(zt,H.l3)}else ti(It,ge)}),ge}(le,this._globalTimelineStyles);for(let[Sn,Gn]of mn){const Jt=Eo(Gn,pn,Ke);this._pendingStyles.set(Sn,Jt),this._localTimelineStyles.has(Sn)||this._backFill.set(Sn,null!==(zt=this._globalTimelineStyles.get(Sn))&&void 0!==zt?zt:H.l3),this._updateStyle(Sn,Jt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((le,ge)=>{this._currentKeyframe.set(ge,le)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((le,ge)=>{this._currentKeyframe.has(ge)||this._currentKeyframe.set(ge,le)}))}snapshotCurrentStyles(){for(let[le,ge]of this._localTimelineStyles)this._pendingStyles.set(le,ge),this._updateStyle(le,ge)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const le=[];for(let ge in this._currentKeyframe)le.push(ge);return le}mergeTimelineCollectedStyles(le){le._styleSummary.forEach((ge,Ke)=>{const It=this._styleSummary.get(Ke);(!It||ge.time>It.time)&&this._updateStyle(Ke,ge.value)})}buildKeyframes(){this.applyStylesToKeyframe();const le=new Set,ge=new Set,Ke=1===this._keyframes.size&&0===this.duration;let It=[];this._keyframes.forEach((mn,Sn)=>{const Gn=ti(mn,new Map,this._backFill);Gn.forEach((Jt,Ve)=>{Jt===H.k1?le.add(Ve):Jt===H.l3&&ge.add(Ve)}),Ke||Gn.set("offset",Sn/this.duration),It.push(Gn)});const zt=le.size?Yo(le.values()):[],pn=ge.size?Yo(ge.values()):[];if(Ke){const mn=It[0],Sn=new Map(mn);mn.set("offset",0),Sn.set("offset",1),It=[mn,Sn]}return Yi(this.element,It,zt,pn,this.duration,this.startTime,this.easing,!1)}}class ia extends Vs{constructor(le,ge,Ke,It,zt,pn,mn=!1){super(le,ge,pn.delay),this.keyframes=Ke,this.preStyleProps=It,this.postStyleProps=zt,this._stretchStartingKeyframe=mn,this.timings={duration:pn.duration,delay:pn.delay,easing:pn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let le=this.keyframes,{delay:ge,duration:Ke,easing:It}=this.timings;if(this._stretchStartingKeyframe&&ge){const zt=[],pn=Ke+ge,mn=ge/pn,Sn=ti(le[0]);Sn.set("offset",0),zt.push(Sn);const Gn=ti(le[0]);Gn.set("offset",oa(mn)),zt.push(Gn);const Jt=le.length-1;for(let Ve=1;Ve<=Jt;Ve++){let Je=ti(le[Ve]);const bt=Je.get("offset");Je.set("offset",oa((ge+bt*Ke)/pn)),zt.push(Je)}Ke=pn,ge=0,It="",le=zt}return Yi(this.element,le,this.preStyleProps,this.postStyleProps,Ke,ge,It,!0)}}function oa(vt,le=3){const ge=Math.pow(10,le-1);return Math.round(vt*ge)/ge}class xs{}const Or=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pr extends xs{normalizePropertyName(le,ge){return $i(le)}normalizeStyleValue(le,ge,Ke,It){let zt="";const pn=Ke.toString().trim();if(Or.has(ge)&&0!==Ke&&"0"!==Ke)if("number"==typeof Ke)zt="px";else{const mn=Ke.match(/^[+-]?[\d\.]+([a-z]*)$/);mn&&0==mn[1].length&&It.push(function Te(vt,le){return new d.vHH(3005,!1)}())}return pn+zt}}function St(vt,le,ge,Ke,It,zt,pn,mn,Sn,Gn,Jt,Ve,Je){return{type:0,element:vt,triggerName:le,isRemovalTransition:It,fromState:ge,fromStyles:zt,toState:Ke,toStyles:pn,timelines:mn,queriedElements:Sn,preStyleProps:Gn,postStyleProps:Jt,totalTime:Ve,errors:Je}}const hn={};class ne{constructor(le,ge,Ke){this._triggerName=le,this.ast=ge,this._stateStyles=Ke}match(le,ge,Ke,It){return function At(vt,le,ge,Ke,It){return vt.some(zt=>zt(le,ge,Ke,It))}(this.ast.matchers,le,ge,Ke,It)}buildStyles(le,ge,Ke){let It=this._stateStyles.get("*");return void 0!==le&&(It=this._stateStyles.get(null==le?void 0:le.toString())||It),It?It.buildStyles(ge,Ke):new Map}build(le,ge,Ke,It,zt,pn,mn,Sn,Gn,Jt){var Ve;const Je=[],bt=this.ast.options&&this.ast.options.params||hn,cn=this.buildStyles(Ke,mn&&mn.params||hn,Je),wn=Sn&&Sn.params||hn,Pn=this.buildStyles(It,wn,Je),Xn=new Set,yi=new Map,Ai=new Map,bo="void"===It,Xo={params:Ht(wn,bt),delay:null===(Ve=this.ast.options)||void 0===Ve?void 0:Ve.delay},es=Jt?[]:bs(le,ge,this.ast.animation,zt,pn,cn,Pn,Xo,Gn,Je);let uo=0;if(es.forEach(Zo=>{uo=Math.max(Zo.duration+Zo.delay,uo)}),Je.length)return St(ge,this._triggerName,Ke,It,bo,cn,Pn,[],[],yi,Ai,uo,Je);es.forEach(Zo=>{const xr=Zo.element,la=Ce(yi,xr,new Set);Zo.preStyleProps.forEach(Qs=>la.add(Qs));const Yr=Ce(Ai,xr,new Set);Zo.postStyleProps.forEach(Qs=>Yr.add(Qs)),xr!==ge&&Xn.add(xr)});const ls=Yo(Xn.values());return St(ge,this._triggerName,Ke,It,bo,cn,Pn,es,ls,yi,Ai,uo)}}function Ht(vt,le){const ge=xn(le);for(const Ke in vt)vt.hasOwnProperty(Ke)&&null!=vt[Ke]&&(ge[Ke]=vt[Ke]);return ge}class kn{constructor(le,ge,Ke){this.styles=le,this.defaultParams=ge,this.normalizer=Ke}buildStyles(le,ge){const Ke=new Map,It=xn(this.defaultParams);return Object.keys(le).forEach(zt=>{const pn=le[zt];null!==pn&&(It[zt]=pn)}),this.styles.styles.forEach(zt=>{"string"!=typeof zt&&zt.forEach((pn,mn)=>{pn&&(pn=Eo(pn,It,ge));const Sn=this.normalizer.normalizePropertyName(mn,ge);pn=this.normalizer.normalizeStyleValue(mn,Sn,pn,ge),Ke.set(Sn,pn)})}),Ke}}class pi{constructor(le,ge,Ke){this.name=le,this.ast=ge,this._normalizer=Ke,this.transitionFactories=[],this.states=new Map,ge.states.forEach(It=>{this.states.set(It.name,new kn(It.style,It.options&&It.options.params||{},Ke))}),Ni(this.states,"true","1"),Ni(this.states,"false","0"),ge.transitions.forEach(It=>{this.transitionFactories.push(new ne(le,It,this.states))}),this.fallbackTransition=function Zi(vt,le,ge){return new ne(vt,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pn,mn)=>!0],options:null,queryCount:0,depCount:0},le)}(le,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(le,ge,Ke,It){return this.transitionFactories.find(pn=>pn.match(le,ge,Ke,It))||null}matchStyles(le,ge,Ke){return this.fallbackTransition.buildStyles(le,ge,Ke)}}function Ni(vt,le,ge){vt.has(le)?vt.has(ge)||vt.set(ge,vt.get(le)):vt.has(ge)&&vt.set(le,vt.get(ge))}const ki=new gr;class Is{constructor(le,ge,Ke){this.bodyNode=le,this._driver=ge,this._normalizer=Ke,this._animations=new Map,this._playersById=new Map,this.players=[]}register(le,ge){const Ke=[],zt=Li(this._driver,ge,Ke,[]);if(Ke.length)throw function Dt(vt){return new d.vHH(3503,!1)}();this._animations.set(le,zt)}_buildPlayer(le,ge,Ke){const It=le.element,zt=Ne(0,this._normalizer,0,le.keyframes,ge,Ke);return this._driver.animate(It,zt,le.duration,le.delay,le.easing,[],!0)}create(le,ge,Ke={}){const It=[],zt=this._animations.get(le);let pn;const mn=new Map;if(zt?(pn=bs(this._driver,ge,zt,Ci,Qi,new Map,new Map,Ke,ki,It),pn.forEach(Jt=>{const Ve=Ce(mn,Jt.element,new Map);Jt.postStyleProps.forEach(Je=>Ve.set(Je,null))})):(It.push(function Cn(){return new d.vHH(3300,!1)}()),pn=[]),It.length)throw function Xt(vt){return new d.vHH(3504,!1)}();mn.forEach((Jt,Ve)=>{Jt.forEach((Je,bt)=>{Jt.set(bt,this._driver.computeStyle(Ve,bt,H.l3))})});const Gn=et(pn.map(Jt=>{const Ve=mn.get(Jt.element);return this._buildPlayer(Jt,new Map,Ve)}));return this._playersById.set(le,Gn),Gn.onDestroy(()=>this.destroy(le)),this.players.push(Gn),Gn}destroy(le){const ge=this._getPlayer(le);ge.destroy(),this._playersById.delete(le);const Ke=this.players.indexOf(ge);Ke>=0&&this.players.splice(Ke,1)}_getPlayer(le){const ge=this._playersById.get(le);if(!ge)throw function jt(vt){return new d.vHH(3301,!1)}();return ge}listen(le,ge,Ke,It){const zt=Ze(ge,"","","");return yt(this._getPlayer(le),Ke,zt,It),()=>{}}command(le,ge,Ke,It){if("register"==Ke)return void this.register(le,It[0]);if("create"==Ke)return void this.create(le,ge,It[0]||{});const zt=this._getPlayer(le);switch(Ke){case"play":zt.play();break;case"pause":zt.pause();break;case"reset":zt.reset();break;case"restart":zt.restart();break;case"finish":zt.finish();break;case"init":zt.init();break;case"setPosition":zt.setPosition(parseFloat(It[0]));break;case"destroy":this.destroy(le)}}}const zs="ng-animate-queued",xo="ng-animate-disabled",Ia=[],mr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class _r{constructor(le,ge=""){this.namespaceId=ge;const Ke=le&&le.hasOwnProperty("value");if(this.value=function ji(vt){return null!=vt?vt:null}(Ke?le.value:le),Ke){const zt=xn(le);delete zt.value,this.options=zt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(le){const ge=le.params;if(ge){const Ke=this.options.params;Object.keys(ge).forEach(It=>{null==Ke[It]&&(Ke[It]=ge[It])})}}}const as="void",qs=new _r(as);class ra{constructor(le,ge,Ke){this.id=le,this.hostElement=ge,this._engine=Ke,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+le,Ts(ge,this._hostClassName)}listen(le,ge,Ke,It){if(!this._triggers.has(ge))throw function ht(vt,le){return new d.vHH(3302,!1)}();if(null==Ke||0==Ke.length)throw function ut(vt){return new d.vHH(3303,!1)}();if(!function Ca(vt){return"start"==vt||"done"==vt}(Ke))throw function xe(vt,le){return new d.vHH(3400,!1)}();const zt=Ce(this._elementListeners,le,[]),pn={name:ge,phase:Ke,callback:It};zt.push(pn);const mn=Ce(this._engine.statesByElement,le,new Map);return mn.has(ge)||(Ts(le,oo),Ts(le,oo+"-"+ge),mn.set(ge,qs)),()=>{this._engine.afterFlush(()=>{const Sn=zt.indexOf(pn);Sn>=0&&zt.splice(Sn,1),this._triggers.has(ge)||mn.delete(ge)})}}register(le,ge){return!this._triggers.has(le)&&(this._triggers.set(le,ge),!0)}_getTrigger(le){const ge=this._triggers.get(le);if(!ge)throw function De(vt){return new d.vHH(3401,!1)}();return ge}trigger(le,ge,Ke,It=!0){const zt=this._getTrigger(ge),pn=new Oi(this.id,ge,le);let mn=this._engine.statesByElement.get(le);mn||(Ts(le,oo),Ts(le,oo+"-"+ge),this._engine.statesByElement.set(le,mn=new Map));let Sn=mn.get(ge);const Gn=new _r(Ke,this.id);if(!(Ke&&Ke.hasOwnProperty("value"))&&Sn&&Gn.absorbOptions(Sn.options),mn.set(ge,Gn),Sn||(Sn=qs),Gn.value!==as&&Sn.value===Gn.value){if(!function Pe(vt,le){const ge=Object.keys(vt),Ke=Object.keys(le);if(ge.length!=Ke.length)return!1;for(let It=0;It<ge.length;It++){const zt=ge[It];if(!le.hasOwnProperty(zt)||vt[zt]!==le[zt])return!1}return!0}(Sn.params,Gn.params)){const cn=[],wn=zt.matchStyles(Sn.value,Sn.params,cn),Pn=zt.matchStyles(Gn.value,Gn.params,cn);cn.length?this._engine.reportError(cn):this._engine.afterFlush(()=>{Mi(le,wn),oi(le,Pn)})}return}const Je=Ce(this._engine.playersByElement,le,[]);Je.forEach(cn=>{cn.namespaceId==this.id&&cn.triggerName==ge&&cn.queued&&cn.destroy()});let bt=zt.matchTransition(Sn.value,Gn.value,le,Gn.params),Nt=!1;if(!bt){if(!It)return;bt=zt.fallbackTransition,Nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:le,triggerName:ge,transition:bt,fromState:Sn,toState:Gn,player:pn,isFallbackTransition:Nt}),Nt||(Ts(le,zs),pn.onStart(()=>{Js(le,zs)})),pn.onDone(()=>{let cn=this.players.indexOf(pn);cn>=0&&this.players.splice(cn,1);const wn=this._engine.playersByElement.get(le);if(wn){let Pn=wn.indexOf(pn);Pn>=0&&wn.splice(Pn,1)}}),this.players.push(pn),Je.push(pn),pn}deregister(le){this._triggers.delete(le),this._engine.statesByElement.forEach(ge=>ge.delete(le)),this._elementListeners.forEach((ge,Ke)=>{this._elementListeners.set(Ke,ge.filter(It=>It.name!=le))})}clearElementCache(le){this._engine.statesByElement.delete(le),this._elementListeners.delete(le);const ge=this._engine.playersByElement.get(le);ge&&(ge.forEach(Ke=>Ke.destroy()),this._engine.playersByElement.delete(le))}_signalRemovalForInnerTriggers(le,ge){const Ke=this._engine.driver.query(le,$o,!0);Ke.forEach(It=>{if(It[Vo])return;const zt=this._engine.fetchNamespacesByElement(It);zt.size?zt.forEach(pn=>pn.triggerLeaveAnimation(It,ge,!1,!0)):this.clearElementCache(It)}),this._engine.afterFlushAnimationsDone(()=>Ke.forEach(It=>this.clearElementCache(It)))}triggerLeaveAnimation(le,ge,Ke,It){const zt=this._engine.statesByElement.get(le),pn=new Map;if(zt){const mn=[];if(zt.forEach((Sn,Gn)=>{if(pn.set(Gn,Sn.value),this._triggers.has(Gn)){const Jt=this.trigger(le,Gn,as,It);Jt&&mn.push(Jt)}}),mn.length)return this._engine.markElementAsRemoved(this.id,le,!0,ge,pn),Ke&&et(mn).onDone(()=>this._engine.processLeaveNode(le)),!0}return!1}prepareLeaveAnimationListeners(le){const ge=this._elementListeners.get(le),Ke=this._engine.statesByElement.get(le);if(ge&&Ke){const It=new Set;ge.forEach(zt=>{const pn=zt.name;if(It.has(pn))return;It.add(pn);const Sn=this._triggers.get(pn).fallbackTransition,Gn=Ke.get(pn)||qs,Jt=new _r(as),Ve=new Oi(this.id,pn,le);this._engine.totalQueuedPlayers++,this._queue.push({element:le,triggerName:pn,transition:Sn,fromState:Gn,toState:Jt,player:Ve,isFallbackTransition:!0})})}}removeNode(le,ge){const Ke=this._engine;if(le.childElementCount&&this._signalRemovalForInnerTriggers(le,ge),this.triggerLeaveAnimation(le,ge,!0))return;let It=!1;if(Ke.totalAnimations){const zt=Ke.players.length?Ke.playersByQueriedElement.get(le):[];if(zt&&zt.length)It=!0;else{let pn=le;for(;pn=pn.parentNode;)if(Ke.statesByElement.get(pn)){It=!0;break}}}if(this.prepareLeaveAnimationListeners(le),It)Ke.markElementAsRemoved(this.id,le,!1,ge);else{const zt=le[Vo];(!zt||zt===mr)&&(Ke.afterFlush(()=>this.clearElementCache(le)),Ke.destroyInnerAnimations(le),Ke._onRemovalComplete(le,ge))}}insertNode(le,ge){Ts(le,this._hostClassName)}drainQueuedTransitions(le){const ge=[];return this._queue.forEach(Ke=>{const It=Ke.player;if(It.destroyed)return;const zt=Ke.element,pn=this._elementListeners.get(zt);pn&&pn.forEach(mn=>{if(mn.name==Ke.triggerName){const Sn=Ze(zt,Ke.triggerName,Ke.fromState.value,Ke.toState.value);Sn._data=le,yt(Ke.player,mn.phase,Sn,mn.callback)}}),It.markedForDestroy?this._engine.afterFlush(()=>{It.destroy()}):ge.push(Ke)}),this._queue=[],ge.sort((Ke,It)=>{const zt=Ke.transition.ast.depCount,pn=It.transition.ast.depCount;return 0==zt||0==pn?zt-pn:this._engine.driver.containsElement(Ke.element,It.element)?1:-1})}destroy(le){this.players.forEach(ge=>ge.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,le)}elementContainsData(le){let ge=!1;return this._elementListeners.has(le)&&(ge=!0),ge=!!this._queue.find(Ke=>Ke.element===le)||ge,ge}}class Qn{constructor(le,ge,Ke){this.bodyNode=le,this.driver=ge,this._normalizer=Ke,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(It,zt)=>{}}_onRemovalComplete(le,ge){this.onRemovalComplete(le,ge)}get queuedPlayers(){const le=[];return this._namespaceList.forEach(ge=>{ge.players.forEach(Ke=>{Ke.queued&&le.push(Ke)})}),le}createNamespace(le,ge){const Ke=new ra(le,ge,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,ge)?this._balanceNamespaceList(Ke,ge):(this.newHostElements.set(ge,Ke),this.collectEnterElement(ge)),this._namespaceLookup[le]=Ke}_balanceNamespaceList(le,ge){const Ke=this._namespaceList,It=this.namespacesByHostElement;if(Ke.length-1>=0){let pn=!1,mn=this.driver.getParentElement(ge);for(;mn;){const Sn=It.get(mn);if(Sn){const Gn=Ke.indexOf(Sn);Ke.splice(Gn+1,0,le),pn=!0;break}mn=this.driver.getParentElement(mn)}pn||Ke.unshift(le)}else Ke.push(le);return It.set(ge,le),le}register(le,ge){let Ke=this._namespaceLookup[le];return Ke||(Ke=this.createNamespace(le,ge)),Ke}registerTrigger(le,ge,Ke){let It=this._namespaceLookup[le];It&&It.register(ge,Ke)&&this.totalAnimations++}destroy(le,ge){if(!le)return;const Ke=this._fetchNamespace(le);this.afterFlush(()=>{this.namespacesByHostElement.delete(Ke.hostElement),delete this._namespaceLookup[le];const It=this._namespaceList.indexOf(Ke);It>=0&&this._namespaceList.splice(It,1)}),this.afterFlushAnimationsDone(()=>Ke.destroy(ge))}_fetchNamespace(le){return this._namespaceLookup[le]}fetchNamespacesByElement(le){const ge=new Set,Ke=this.statesByElement.get(le);if(Ke)for(let It of Ke.values())if(It.namespaceId){const zt=this._fetchNamespace(It.namespaceId);zt&&ge.add(zt)}return ge}trigger(le,ge,Ke,It){if(qi(ge)){const zt=this._fetchNamespace(le);if(zt)return zt.trigger(ge,Ke,It),!0}return!1}insertNode(le,ge,Ke,It){if(!qi(ge))return;const zt=ge[Vo];if(zt&&zt.setForRemoval){zt.setForRemoval=!1,zt.setForMove=!0;const pn=this.collectedLeaveElements.indexOf(ge);pn>=0&&this.collectedLeaveElements.splice(pn,1)}if(le){const pn=this._fetchNamespace(le);pn&&pn.insertNode(ge,Ke)}It&&this.collectEnterElement(ge)}collectEnterElement(le){this.collectedEnterElements.push(le)}markElementAsDisabled(le,ge){ge?this.disabledNodes.has(le)||(this.disabledNodes.add(le),Ts(le,xo)):this.disabledNodes.has(le)&&(this.disabledNodes.delete(le),Js(le,xo))}removeNode(le,ge,Ke,It){if(qi(ge)){const zt=le?this._fetchNamespace(le):null;if(zt?zt.removeNode(ge,It):this.markElementAsRemoved(le,ge,!1,It),Ke){const pn=this.namespacesByHostElement.get(ge);pn&&pn.id!==le&&pn.removeNode(ge,It)}}else this._onRemovalComplete(ge,It)}markElementAsRemoved(le,ge,Ke,It,zt){this.collectedLeaveElements.push(ge),ge[Vo]={namespaceId:le,setForRemoval:It,hasAnimation:Ke,removedBeforeQueried:!1,previousTriggersValues:zt}}listen(le,ge,Ke,It,zt){return qi(ge)?this._fetchNamespace(le).listen(ge,Ke,It,zt):()=>{}}_buildInstruction(le,ge,Ke,It,zt){return le.transition.build(this.driver,le.element,le.fromState.value,le.toState.value,Ke,It,le.fromState.options,le.toState.options,ge,zt)}destroyInnerAnimations(le){let ge=this.driver.query(le,$o,!0);ge.forEach(Ke=>this.destroyActiveAnimationsForElement(Ke)),0!=this.playersByQueriedElement.size&&(ge=this.driver.query(le,Ye,!0),ge.forEach(Ke=>this.finishActiveQueriedAnimationOnElement(Ke)))}destroyActiveAnimationsForElement(le){const ge=this.playersByElement.get(le);ge&&ge.forEach(Ke=>{Ke.queued?Ke.markedForDestroy=!0:Ke.destroy()})}finishActiveQueriedAnimationOnElement(le){const ge=this.playersByQueriedElement.get(le);ge&&ge.forEach(Ke=>Ke.finish())}whenRenderingDone(){return new Promise(le=>{if(this.players.length)return et(this.players).onDone(()=>le());le()})}processLeaveNode(le){var ge;const Ke=le[Vo];if(Ke&&Ke.setForRemoval){if(le[Vo]=mr,Ke.namespaceId){this.destroyInnerAnimations(le);const It=this._fetchNamespace(Ke.namespaceId);It&&It.clearElementCache(le)}this._onRemovalComplete(le,Ke.setForRemoval)}!(null===(ge=le.classList)||void 0===ge)&&ge.contains(xo)&&this.markElementAsDisabled(le,!1),this.driver.query(le,".ng-animate-disabled",!0).forEach(It=>{this.markElementAsDisabled(It,!1)})}flush(le=-1){let ge=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Ke,It)=>this._balanceNamespaceList(Ke,It)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Ke=0;Ke<this.collectedEnterElements.length;Ke++)Ts(this.collectedEnterElements[Ke],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Ke=[];try{ge=this._flushAnimations(Ke,le)}finally{for(let It=0;It<Ke.length;It++)Ke[It]()}}else for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++)this.processLeaveNode(this.collectedLeaveElements[Ke]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Ke=>Ke()),this._flushFns=[],this._whenQuietFns.length){const Ke=this._whenQuietFns;this._whenQuietFns=[],ge.length?et(ge).onDone(()=>{Ke.forEach(It=>It())}):Ke.forEach(It=>It())}}reportError(le){throw function We(vt){return new d.vHH(3402,!1)}()}_flushAnimations(le,ge){const Ke=new gr,It=[],zt=new Map,pn=[],mn=new Map,Sn=new Map,Gn=new Map,Jt=new Set;this.disabledNodes.forEach(xi=>{Jt.add(xi);const wi=this.driver.query(xi,".ng-animate-queued",!0);for(let Pi=0;Pi<wi.length;Pi++)Jt.add(wi[Pi])});const Ve=this.bodyNode,Je=Array.from(this.statesByElement.keys()),bt=Ta(Je,this.collectedEnterElements),Nt=new Map;let cn=0;bt.forEach((xi,wi)=>{const Pi=Ci+cn++;Nt.set(wi,Pi),xi.forEach(eo=>Ts(eo,Pi))});const wn=[],Pn=new Set,Xn=new Set;for(let xi=0;xi<this.collectedLeaveElements.length;xi++){const wi=this.collectedLeaveElements[xi],Pi=wi[Vo];Pi&&Pi.setForRemoval&&(wn.push(wi),Pn.add(wi),Pi.hasAnimation?this.driver.query(wi,".ng-star-inserted",!0).forEach(eo=>Pn.add(eo)):Xn.add(wi))}const yi=new Map,Ai=Ta(Je,Array.from(Pn));Ai.forEach((xi,wi)=>{const Pi=Qi+cn++;yi.set(wi,Pi),xi.forEach(eo=>Ts(eo,Pi))}),le.push(()=>{bt.forEach((xi,wi)=>{const Pi=Nt.get(wi);xi.forEach(eo=>Js(eo,Pi))}),Ai.forEach((xi,wi)=>{const Pi=yi.get(wi);xi.forEach(eo=>Js(eo,Pi))}),wn.forEach(xi=>{this.processLeaveNode(xi)})});const bo=[],Xo=[];for(let xi=this._namespaceList.length-1;xi>=0;xi--)this._namespaceList[xi].drainQueuedTransitions(ge).forEach(Pi=>{const eo=Pi.player,Qo=Pi.element;if(bo.push(eo),this.collectedEnterElements.length){const Lo=Qo[Vo];if(Lo&&Lo.setForMove){if(Lo.previousTriggersValues&&Lo.previousTriggersValues.has(Pi.triggerName)){const Rr=Lo.previousTriggersValues.get(Pi.triggerName),Gs=this.statesByElement.get(Pi.element);if(Gs&&Gs.has(Pi.triggerName)){const Ma=Gs.get(Pi.triggerName);Ma.value=Rr,Gs.set(Pi.triggerName,Ma)}}return void eo.destroy()}}const So=!Ve||!this.driver.containsElement(Ve,Qo),ko=yi.get(Qo),Ir=Nt.get(Qo),Io=this._buildInstruction(Pi,Ke,Ir,ko,So);if(Io.errors&&Io.errors.length)return void Xo.push(Io);if(So)return eo.onStart(()=>Mi(Qo,Io.fromStyles)),eo.onDestroy(()=>oi(Qo,Io.toStyles)),void It.push(eo);if(Pi.isFallbackTransition)return eo.onStart(()=>Mi(Qo,Io.fromStyles)),eo.onDestroy(()=>oi(Qo,Io.toStyles)),void It.push(eo);const ca=[];Io.timelines.forEach(Lo=>{Lo.stretchStartingKeyframe=!0,this.disabledNodes.has(Lo.element)||ca.push(Lo)}),Io.timelines=ca,Ke.append(Qo,Io.timelines),pn.push({instruction:Io,player:eo,element:Qo}),Io.queriedElements.forEach(Lo=>Ce(mn,Lo,[]).push(eo)),Io.preStyleProps.forEach((Lo,Rr)=>{if(Lo.size){let Gs=Sn.get(Rr);Gs||Sn.set(Rr,Gs=new Set),Lo.forEach((Ma,Ja)=>Gs.add(Ja))}}),Io.postStyleProps.forEach((Lo,Rr)=>{let Gs=Gn.get(Rr);Gs||Gn.set(Rr,Gs=new Set),Lo.forEach((Ma,Ja)=>Gs.add(Ja))})});if(Xo.length){const xi=[];Xo.forEach(wi=>{xi.push(function Tt(vt,le){return new d.vHH(3505,!1)}())}),bo.forEach(wi=>wi.destroy()),this.reportError(xi)}const es=new Map,uo=new Map;pn.forEach(xi=>{const wi=xi.element;Ke.has(wi)&&(uo.set(wi,wi),this._beforeAnimationBuild(xi.player.namespaceId,xi.instruction,es))}),It.forEach(xi=>{const wi=xi.element;this._getPreviousPlayers(wi,!1,xi.namespaceId,xi.triggerName,null).forEach(eo=>{Ce(es,wi,[]).push(eo),eo.destroy()})});const ls=wn.filter(xi=>Pt(xi,Sn,Gn)),Zo=new Map;Fs(Zo,this.driver,Xn,Gn,H.l3).forEach(xi=>{Pt(xi,Sn,Gn)&&ls.push(xi)});const la=new Map;bt.forEach((xi,wi)=>{Fs(la,this.driver,new Set(xi),Sn,H.k1)}),ls.forEach(xi=>{var wi,Pi;const eo=Zo.get(xi),Qo=la.get(xi);Zo.set(xi,new Map([...Array.from(null!==(wi=null==eo?void 0:eo.entries())&&void 0!==wi?wi:[]),...Array.from(null!==(Pi=null==Qo?void 0:Qo.entries())&&void 0!==Pi?Pi:[])]))});const Yr=[],Qs=[],za={};pn.forEach(xi=>{const{element:wi,player:Pi,instruction:eo}=xi;if(Ke.has(wi)){if(Jt.has(wi))return Pi.onDestroy(()=>oi(wi,eo.toStyles)),Pi.disabled=!0,Pi.overrideTotalTime(eo.totalTime),void It.push(Pi);let Qo=za;if(uo.size>1){let ko=wi;const Ir=[];for(;ko=ko.parentNode;){const Io=uo.get(ko);if(Io){Qo=Io;break}Ir.push(ko)}Ir.forEach(Io=>uo.set(Io,Qo))}const So=this._buildAnimation(Pi.namespaceId,eo,es,zt,la,Zo);if(Pi.setRealPlayer(So),Qo===za)Yr.push(Pi);else{const ko=this.playersByElement.get(Qo);ko&&ko.length&&(Pi.parentPlayer=et(ko)),It.push(Pi)}}else Mi(wi,eo.fromStyles),Pi.onDestroy(()=>oi(wi,eo.toStyles)),Qs.push(Pi),Jt.has(wi)&&It.push(Pi)}),Qs.forEach(xi=>{const wi=zt.get(xi.element);if(wi&&wi.length){const Pi=et(wi);xi.setRealPlayer(Pi)}}),It.forEach(xi=>{xi.parentPlayer?xi.syncPlayerEvents(xi.parentPlayer):xi.destroy()});for(let xi=0;xi<wn.length;xi++){const wi=wn[xi],Pi=wi[Vo];if(Js(wi,Qi),Pi&&Pi.hasAnimation)continue;let eo=[];if(mn.size){let So=mn.get(wi);So&&So.length&&eo.push(...So);let ko=this.driver.query(wi,Ye,!0);for(let Ir=0;Ir<ko.length;Ir++){let Io=mn.get(ko[Ir]);Io&&Io.length&&eo.push(...Io)}}const Qo=eo.filter(So=>!So.destroyed);Qo.length?aa(this,wi,Qo):this.processLeaveNode(wi)}return wn.length=0,Yr.forEach(xi=>{this.players.push(xi),xi.onDone(()=>{xi.destroy();const wi=this.players.indexOf(xi);this.players.splice(wi,1)}),xi.play()}),Yr}elementContainsData(le,ge){let Ke=!1;const It=ge[Vo];return It&&It.setForRemoval&&(Ke=!0),this.playersByElement.has(ge)&&(Ke=!0),this.playersByQueriedElement.has(ge)&&(Ke=!0),this.statesByElement.has(ge)&&(Ke=!0),this._fetchNamespace(le).elementContainsData(ge)||Ke}afterFlush(le){this._flushFns.push(le)}afterFlushAnimationsDone(le){this._whenQuietFns.push(le)}_getPreviousPlayers(le,ge,Ke,It,zt){let pn=[];if(ge){const mn=this.playersByQueriedElement.get(le);mn&&(pn=mn)}else{const mn=this.playersByElement.get(le);if(mn){const Sn=!zt||zt==as;mn.forEach(Gn=>{Gn.queued||!Sn&&Gn.triggerName!=It||pn.push(Gn)})}}return(Ke||It)&&(pn=pn.filter(mn=>!(Ke&&Ke!=mn.namespaceId||It&&It!=mn.triggerName))),pn}_beforeAnimationBuild(le,ge,Ke){const zt=ge.element,pn=ge.isRemovalTransition?void 0:le,mn=ge.isRemovalTransition?void 0:ge.triggerName;for(const Sn of ge.timelines){const Gn=Sn.element,Jt=Gn!==zt,Ve=Ce(Ke,Gn,[]);this._getPreviousPlayers(Gn,Jt,pn,mn,ge.toState).forEach(bt=>{const Nt=bt.getRealPlayer();Nt.beforeDestroy&&Nt.beforeDestroy(),bt.destroy(),Ve.push(bt)})}Mi(zt,ge.fromStyles)}_buildAnimation(le,ge,Ke,It,zt,pn){const mn=ge.triggerName,Sn=ge.element,Gn=[],Jt=new Set,Ve=new Set,Je=ge.timelines.map(Nt=>{const cn=Nt.element;Jt.add(cn);const wn=cn[Vo];if(wn&&wn.removedBeforeQueried)return new H.ZN(Nt.duration,Nt.delay);const Pn=cn!==Sn,Xn=function st(vt){const le=[];return ze(vt,le),le}((Ke.get(cn)||Ia).map(es=>es.getRealPlayer())).filter(es=>!!es.element&&es.element===cn),yi=zt.get(cn),Ai=pn.get(cn),bo=Ne(0,this._normalizer,0,Nt.keyframes,yi,Ai),Xo=this._buildPlayer(Nt,bo,Xn);if(Nt.subTimeline&&It&&Ve.add(cn),Pn){const es=new Oi(le,mn,cn);es.setRealPlayer(Xo),Gn.push(es)}return Xo});Gn.forEach(Nt=>{Ce(this.playersByQueriedElement,Nt.element,[]).push(Nt),Nt.onDone(()=>function ro(vt,le,ge){let Ke=vt.get(le);if(Ke){if(Ke.length){const It=Ke.indexOf(ge);Ke.splice(It,1)}0==Ke.length&&vt.delete(le)}return Ke}(this.playersByQueriedElement,Nt.element,Nt))}),Jt.forEach(Nt=>Ts(Nt,Vt));const bt=et(Je);return bt.onDestroy(()=>{Jt.forEach(Nt=>Js(Nt,Vt)),oi(Sn,ge.toStyles)}),Ve.forEach(Nt=>{Ce(It,Nt,[]).push(bt)}),bt}_buildPlayer(le,ge,Ke){return ge.length>0?this.driver.animate(le.element,ge,le.duration,le.delay,le.easing,Ke):new H.ZN(le.duration,le.delay)}}class Oi{constructor(le,ge,Ke){this.namespaceId=le,this.triggerName=ge,this.element=Ke,this._player=new H.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(le){this._containsRealPlayer||(this._player=le,this._queuedCallbacks.forEach((ge,Ke)=>{ge.forEach(It=>yt(le,Ke,void 0,It))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(le.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(le){this.totalTime=le}syncPlayerEvents(le){const ge=this._player;ge.triggerCallback&&le.onStart(()=>ge.triggerCallback("start")),le.onDone(()=>this.finish()),le.onDestroy(()=>this.destroy())}_queueEvent(le,ge){Ce(this._queuedCallbacks,le,[]).push(ge)}onDone(le){this.queued&&this._queueEvent("done",le),this._player.onDone(le)}onStart(le){this.queued&&this._queueEvent("start",le),this._player.onStart(le)}onDestroy(le){this.queued&&this._queueEvent("destroy",le),this._player.onDestroy(le)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(le){this.queued||this._player.setPosition(le)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(le){const ge=this._player;ge.triggerCallback&&ge.triggerCallback(le)}}function qi(vt){return vt&&1===vt.nodeType}function Cr(vt,le){const ge=vt.style.display;return vt.style.display=null!=le?le:"none",ge}function Fs(vt,le,ge,Ke,It){const zt=[];ge.forEach(Sn=>zt.push(Cr(Sn)));const pn=[];Ke.forEach((Sn,Gn)=>{const Jt=new Map;Sn.forEach(Ve=>{const Je=le.computeStyle(Gn,Ve,It);Jt.set(Ve,Je),(!Je||0==Je.length)&&(Gn[Vo]=Gr,pn.push(Gn))}),vt.set(Gn,Jt)});let mn=0;return ge.forEach(Sn=>Cr(Sn,zt[mn++])),pn}function Ta(vt,le){const ge=new Map;if(vt.forEach(mn=>ge.set(mn,[])),0==le.length)return ge;const It=new Set(le),zt=new Map;function pn(mn){if(!mn)return 1;let Sn=zt.get(mn);if(Sn)return Sn;const Gn=mn.parentNode;return Sn=ge.has(Gn)?Gn:It.has(Gn)?1:pn(Gn),zt.set(mn,Sn),Sn}return le.forEach(mn=>{const Sn=pn(mn);1!==Sn&&ge.get(Sn).push(mn)}),ge}function Ts(vt,le){var ge;null===(ge=vt.classList)||void 0===ge||ge.add(le)}function Js(vt,le){var ge;null===(ge=vt.classList)||void 0===ge||ge.remove(le)}function aa(vt,le,ge){et(ge).onDone(()=>vt.processLeaveNode(le))}function ze(vt,le){for(let ge=0;ge<vt.length;ge++){const Ke=vt[ge];Ke instanceof H.ZE?ze(Ke.players,le):le.push(Ke)}}function Pt(vt,le,ge){const Ke=ge.get(vt);if(!Ke)return!1;let It=le.get(vt);return It?Ke.forEach(zt=>It.add(zt)):le.set(vt,Ke),ge.delete(vt),!0}class Rn{constructor(le,ge,Ke){this.bodyNode=le,this._driver=ge,this._normalizer=Ke,this._triggerCache={},this.onRemovalComplete=(It,zt)=>{},this._transitionEngine=new Qn(le,ge,Ke),this._timelineEngine=new Is(le,ge,Ke),this._transitionEngine.onRemovalComplete=(It,zt)=>this.onRemovalComplete(It,zt)}registerTrigger(le,ge,Ke,It,zt){const pn=le+"-"+It;let mn=this._triggerCache[pn];if(!mn){const Sn=[],Jt=Li(this._driver,zt,Sn,[]);if(Sn.length)throw function ot(vt,le){return new d.vHH(3404,!1)}();mn=function En(vt,le,ge){return new pi(vt,le,ge)}(It,Jt,this._normalizer),this._triggerCache[pn]=mn}this._transitionEngine.registerTrigger(ge,It,mn)}register(le,ge){this._transitionEngine.register(le,ge)}destroy(le,ge){this._transitionEngine.destroy(le,ge)}onInsert(le,ge,Ke,It){this._transitionEngine.insertNode(le,ge,Ke,It)}onRemove(le,ge,Ke,It){this._transitionEngine.removeNode(le,ge,It||!1,Ke)}disableAnimations(le,ge){this._transitionEngine.markElementAsDisabled(le,ge)}process(le,ge,Ke,It){if("@"==Ke.charAt(0)){const[zt,pn]=ft(Ke);this._timelineEngine.command(zt,ge,pn,It)}else this._transitionEngine.trigger(le,ge,Ke,It)}listen(le,ge,Ke,It,zt){if("@"==Ke.charAt(0)){const[pn,mn]=ft(Ke);return this._timelineEngine.listen(pn,ge,mn,zt)}return this._transitionEngine.listen(le,ge,Ke,It,zt)}flush(le=-1){this._transitionEngine.flush(le)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let no=(()=>{class vt{constructor(ge,Ke,It){this._element=ge,this._startStyles=Ke,this._endStyles=It,this._state=0;let zt=vt.initialStylesByElement.get(ge);zt||vt.initialStylesByElement.set(ge,zt=new Map),this._initialStyles=zt}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(vt.initialStylesByElement.delete(this._element),this._startStyles&&(Mi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mi(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return vt.initialStylesByElement=new WeakMap,vt})();function Fo(vt){let le=null;return vt.forEach((ge,Ke)=>{(function ss(vt){return"display"===vt||"position"===vt})(Ke)&&(le=le||new Map,le.set(Ke,ge))}),le}class Ds{constructor(le,ge,Ke,It){this.element=le,this.keyframes=ge,this.options=Ke,this._specialStyles=It,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=Ke.duration,this._delay=Ke.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const le=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,le,this.options),this._finalKeyframe=le.length?le[le.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(le){const ge=[];return le.forEach(Ke=>{ge.push(Object.fromEntries(Ke))}),ge}_triggerWebAnimation(le,ge,Ke){return le.animate(this._convertKeyframesToObject(ge),Ke)}onStart(le){this._originalOnStartFns.push(le),this._onStartFns.push(le)}onDone(le){this._originalOnDoneFns.push(le),this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(le=>le()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}setPosition(le){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=le*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const le=new Map;this.hasStarted()&&this._finalKeyframe.forEach((Ke,It)=>{"offset"!==It&&le.set(It,this._finished?Ke:Oo(this.element,It))}),this.currentSnapshot=le}triggerCallback(le){const ge="start"===le?this._onStartFns:this._onDoneFns;ge.forEach(Ke=>Ke()),ge.length=0}}class Xs{validateStyleProperty(le){return!0}validateAnimatableStyleProperty(le){return!0}matchesElement(le,ge){return!1}containsElement(le,ge){return fn(le,ge)}getParentElement(le){return xt(le)}query(le,ge,Ke){return Gt(le,ge,Ke)}computeStyle(le,ge,Ke){return window.getComputedStyle(le)[ge]}animate(le,ge,Ke,It,zt,pn=[]){const Sn={duration:Ke,delay:It,fill:0==It?"both":"forwards"};zt&&(Sn.easing=zt);const Gn=new Map,Jt=pn.filter(bt=>bt instanceof Ds);(function us(vt,le){return 0===vt||0===le})(Ke,It)&&Jt.forEach(bt=>{bt.currentSnapshot.forEach((Nt,cn)=>Gn.set(cn,Nt))});let Ve=function Zn(vt){return vt.length?vt[0]instanceof Map?vt:vt.map(le=>yn(le)):[]}(ge).map(bt=>ti(bt));Ve=function _s(vt,le,ge){if(ge.size&&le.length){let Ke=le[0],It=[];if(ge.forEach((zt,pn)=>{Ke.has(pn)||It.push(pn),Ke.set(pn,zt)}),It.length)for(let zt=1;zt<le.length;zt++){let pn=le[zt];It.forEach(mn=>pn.set(mn,Oo(vt,mn)))}}return le}(le,Ve,Gn);const Je=function di(vt,le){let ge=null,Ke=null;return Array.isArray(le)&&le.length?(ge=Fo(le[0]),le.length>1&&(Ke=Fo(le[le.length-1]))):le instanceof Map&&(ge=Fo(le)),ge||Ke?new no(vt,ge,Ke):null}(le,Ve);return new Ds(le,Ve,Sn,Je)}}let vr=(()=>{class vt extends H._j{constructor(ge,Ke){super(),this._nextAnimationId=0,this._renderer=ge.createRenderer(Ke.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(ge){const Ke=this._nextAnimationId.toString();this._nextAnimationId++;const It=Array.isArray(ge)?(0,H.vP)(ge):ge;return Wr(this._renderer,null,Ke,"register",[It]),new Lr(Ke,this._renderer)}}return vt.\u0275fac=function(ge){return new(ge||vt)(d.LFG(d.FYo),d.LFG(s.K0))},vt.\u0275prov=d.Yz7({token:vt,factory:vt.\u0275fac}),vt})();class Lr extends H.LC{constructor(le,ge){super(),this._id=le,this._renderer=ge}create(le,ge){return new br(this._id,le,ge||{},this._renderer)}}class br{constructor(le,ge,Ke,It){this.id=le,this.element=ge,this._renderer=It,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Ke)}_listen(le,ge){return this._renderer.listen(this.element,`@@${this.id}:${le}`,ge)}_command(le,...ge){return Wr(this._renderer,this.element,this.id,le,ge)}onDone(le){this._listen("done",le)}onStart(le){this._listen("start",le)}onDestroy(le){this._listen("destroy",le)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(le){this._command("setPosition",le)}getPosition(){var le,ge;return null!==(ge=null===(le=this._renderer.engine.players[+this.id])||void 0===le?void 0:le.getPosition())&&void 0!==ge?ge:0}}function Wr(vt,le,ge,Ke,It){return vt.setProperty(le,`@@${ge}:${Ke}`,It)}const zo="@.disabled";let yr=(()=>{class vt{constructor(ge,Ke,It){this.delegate=ge,this.engine=Ke,this._zone=It,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),Ke.onRemovalComplete=(zt,pn)=>{const mn=null==pn?void 0:pn.parentNode(zt);mn&&pn.removeChild(mn,zt)}}createRenderer(ge,Ke){const zt=this.delegate.createRenderer(ge,Ke);if(!(ge&&Ke&&Ke.data&&Ke.data.animation)){let Jt=this._rendererCache.get(zt);return Jt||(Jt=new Aa("",zt,this.engine,()=>this._rendererCache.delete(zt)),this._rendererCache.set(zt,Jt)),Jt}const pn=Ke.id,mn=Ke.id+"-"+this._currentId;this._currentId++,this.engine.register(mn,ge);const Sn=Jt=>{Array.isArray(Jt)?Jt.forEach(Sn):this.engine.registerTrigger(pn,mn,ge,Jt.name,Jt)};return Ke.data.animation.forEach(Sn),new Ka(this,mn,zt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(ge,Ke,It){ge>=0&&ge<this._microtaskId?this._zone.run(()=>Ke(It)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(zt=>{const[pn,mn]=zt;pn(mn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([Ke,It]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return vt.\u0275fac=function(ge){return new(ge||vt)(d.LFG(d.FYo),d.LFG(Rn),d.LFG(d.R0b))},vt.\u0275prov=d.Yz7({token:vt,factory:vt.\u0275fac}),vt})();class Aa{constructor(le,ge,Ke,It){this.namespaceId=le,this.delegate=ge,this.engine=Ke,this._onDestroy=It,this.destroyNode=this.delegate.destroyNode?zt=>ge.destroyNode(zt):null}get data(){return this.delegate.data}destroy(){var le;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(le=this._onDestroy)||void 0===le||le.call(this)}createElement(le,ge){return this.delegate.createElement(le,ge)}createComment(le){return this.delegate.createComment(le)}createText(le){return this.delegate.createText(le)}appendChild(le,ge){this.delegate.appendChild(le,ge),this.engine.onInsert(this.namespaceId,ge,le,!1)}insertBefore(le,ge,Ke,It=!0){this.delegate.insertBefore(le,ge,Ke),this.engine.onInsert(this.namespaceId,ge,le,It)}removeChild(le,ge,Ke){this.engine.onRemove(this.namespaceId,ge,this.delegate,Ke)}selectRootElement(le,ge){return this.delegate.selectRootElement(le,ge)}parentNode(le){return this.delegate.parentNode(le)}nextSibling(le){return this.delegate.nextSibling(le)}setAttribute(le,ge,Ke,It){this.delegate.setAttribute(le,ge,Ke,It)}removeAttribute(le,ge,Ke){this.delegate.removeAttribute(le,ge,Ke)}addClass(le,ge){this.delegate.addClass(le,ge)}removeClass(le,ge){this.delegate.removeClass(le,ge)}setStyle(le,ge,Ke,It){this.delegate.setStyle(le,ge,Ke,It)}removeStyle(le,ge,Ke){this.delegate.removeStyle(le,ge,Ke)}setProperty(le,ge,Ke){"@"==ge.charAt(0)&&ge==zo?this.disableAnimations(le,!!Ke):this.delegate.setProperty(le,ge,Ke)}setValue(le,ge){this.delegate.setValue(le,ge)}listen(le,ge,Ke){return this.delegate.listen(le,ge,Ke)}disableAnimations(le,ge){this.engine.disableAnimations(le,ge)}}class Ka extends Aa{constructor(le,ge,Ke,It,zt){super(ge,Ke,It,zt),this.factory=le,this.namespaceId=ge}setProperty(le,ge,Ke){"@"==ge.charAt(0)?"."==ge.charAt(1)&&ge==zo?this.disableAnimations(le,Ke=void 0===Ke||!!Ke):this.engine.process(this.namespaceId,le,ge.slice(1),Ke):this.delegate.setProperty(le,ge,Ke)}listen(le,ge,Ke){if("@"==ge.charAt(0)){const It=function pl(vt){switch(vt){case"body":return document.body;case"document":return document;case"window":return window;default:return vt}}(le);let zt=ge.slice(1),pn="";return"@"!=zt.charAt(0)&&([zt,pn]=function Fe(vt){const le=vt.indexOf(".");return[vt.substring(0,le),vt.slice(le+1)]}(zt)),this.engine.listen(this.namespaceId,It,zt,pn,mn=>{this.factory.scheduleListenerCallback(mn._data||-1,Ke,mn)})}return this.delegate.listen(le,ge,Ke)}}const tn=[{provide:H._j,useClass:vr},{provide:xs,useFactory:function Ge(){return new Pr}},{provide:Rn,useClass:(()=>{class vt extends Rn{constructor(ge,Ke,It,zt){super(ge.body,Ke,It)}ngOnDestroy(){this.flush()}}return vt.\u0275fac=function(ge){return new(ge||vt)(d.LFG(s.K0),d.LFG(rn),d.LFG(xs),d.LFG(d.z2F))},vt.\u0275prov=d.Yz7({token:vt,factory:vt.\u0275fac}),vt})()},{provide:d.FYo,useFactory:function Mt(vt,le,ge){return new yr(vt,le,ge)},deps:[e.se,Rn,d.R0b]}],Mn=[{provide:rn,useFactory:()=>new Xs},{provide:d.QbO,useValue:"BrowserAnimations"},...tn],Nn=[{provide:rn,useClass:Bt},{provide:d.QbO,useValue:"NoopAnimations"},...tn];let ci=(()=>{class vt{static withConfig(ge){return{ngModule:vt,providers:ge.disableAnimations?Nn:Mn}}}return vt.\u0275fac=function(ge){return new(ge||vt)},vt.\u0275mod=d.oAB({type:vt}),vt.\u0275inj=d.cJS({providers:Mn,imports:[e.b2]}),vt})();var Ji=C(158),Bo=C(520),Ki=C(2382),Jo=C(8576),er=C(6198),tr=C(845);(0,s.qS)(U,"ru");let hs=(()=>{class vt{}return vt.\u0275fac=function(ge){return new(ge||vt)},vt.\u0275mod=d.oAB({type:vt,bootstrap:[w]}),vt.\u0275inj=d.cJS({imports:[Ji.q,ci,e.b2,K.MainModule,oe.LoginModule,p.Bz,Ki.u5,Bo.JF,F.EV,Jo.U,er.L,tr.hJ,ci,Ki.u5,Bo.JF]}),vt})();C(2340).N.production&&(0,d.G48)(),e.q6().bootstrapModule(hs).catch(vt=>console.error(vt))},1135:(dn,pt,C)=>{"use strict";C.d(pt,{X:()=>d});var e=C(7579);class d extends e.x{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const x=super._subscribe(p);return!x.closed&&p.next(this._value),x}getValue(){const{hasError:p,thrownError:x,_value:R}=this;if(p)throw x;return this._throwIfClosed(),R}next(p){super.next(this._value=p)}}},9751:(dn,pt,C)=>{"use strict";C.d(pt,{y:()=>s});var e=C(930),d=C(727),u=C(8822),p=C(9635),x=C(2416),R=C(576),b=C(2806);let s=(()=>{class N{constructor(y){y&&(this._subscribe=y)}lift(y){const w=new N;return w.source=this,w.operator=y,w}subscribe(y,w,k){const V=function Q(N){return N&&N instanceof e.Lv||function O(N){return N&&(0,R.m)(N.next)&&(0,R.m)(N.error)&&(0,R.m)(N.complete)}(N)&&(0,d.Nn)(N)}(y)?y:new e.Hp(y,w,k);return(0,b.x)(()=>{const{operator:U,source:oe}=this;V.add(U?U.call(V,oe):oe?this._subscribe(V):this._trySubscribe(V))}),V}_trySubscribe(y){try{return this._subscribe(y)}catch(w){y.error(w)}}forEach(y,w){return new(w=F(w))((k,V)=>{let U;U=this.subscribe(oe=>{try{y(oe)}catch(K){V(K),null==U||U.unsubscribe()}},V,k)})}_subscribe(y){var w;return null===(w=this.source)||void 0===w?void 0:w.subscribe(y)}[u.L](){return this}pipe(...y){return(0,p.U)(y)(this)}toPromise(y){return new(y=F(y))((w,k)=>{let V;this.subscribe(U=>V=U,U=>k(U),()=>w(V))})}}return N.create=T=>new N(T),N})();function F(N){var T;return null!==(T=null!=N?N:x.v.Promise)&&void 0!==T?T:Promise}},4707:(dn,pt,C)=>{"use strict";C.d(pt,{t:()=>u});var e=C(7579),d=C(6063);class u extends e.x{constructor(x=1/0,R=1/0,b=d.l){super(),this._bufferSize=x,this._windowTime=R,this._timestampProvider=b,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=R===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,R)}next(x){const{isStopped:R,_buffer:b,_infiniteTimeWindow:s,_timestampProvider:F,_windowTime:O}=this;R||(b.push(x),!s&&b.push(F.now()+O)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const R=this._innerSubscribe(x),{_infiniteTimeWindow:b,_buffer:s}=this,F=s.slice();for(let O=0;O<F.length&&!x.closed;O+=b?1:2)x.next(F[O]);return this._checkFinalizedStatuses(x),R}_trimBuffer(){const{_bufferSize:x,_timestampProvider:R,_buffer:b,_infiniteTimeWindow:s}=this,F=(s?1:2)*x;if(x<1/0&&F<b.length&&b.splice(0,b.length-F),!s){const O=R.now();let Q=0;for(let N=1;N<b.length&&b[N]<=O;N+=2)Q=N;Q&&b.splice(0,Q+1)}}}},7579:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>b});var e=C(9751),d=C(727);const p=(0,C(3888).d)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=C(8737),R=C(2806);let b=(()=>{class F extends e.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const N=new s(this,this);return N.operator=Q,N}_throwIfClosed(){if(this.closed)throw new p}next(Q){(0,R.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const N=this.observers.slice();for(const T of N)T.next(Q)}})}error(Q){(0,R.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:N}=this;for(;N.length;)N.shift().error(Q)}})}complete(){(0,R.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:N,isStopped:T,observers:y}=this;return N||T?d.Lc:(y.push(Q),new d.w0(()=>(0,x.P)(y,Q)))}_checkFinalizedStatuses(Q){const{hasError:N,thrownError:T,isStopped:y}=this;N?Q.error(T):y&&Q.complete()}asObservable(){const Q=new e.y;return Q.source=this,Q}}return F.create=(O,Q)=>new s(O,Q),F})();class s extends b{constructor(O,Q){super(),this.destination=O,this.source=Q}next(O){var Q,N;null===(N=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===N||N.call(Q,O)}error(O){var Q,N;null===(N=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===N||N.call(Q,O)}complete(){var O,Q;null===(Q=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===Q||Q.call(O)}_subscribe(O){var Q,N;return null!==(N=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(O))&&void 0!==N?N:d.Lc}}},930:(dn,pt,C)=>{"use strict";C.d(pt,{Hp:()=>T,Lv:()=>N});var e=C(576),d=C(727),u=C(2416),p=C(7849),x=C(5032);const R=F("C",void 0,void 0);function F(U,oe,K){return{kind:U,value:oe,error:K}}var O=C(3410),Q=C(2806);class N extends d.w0{constructor(oe){super(),this.isStopped=!1,oe?(this.destination=oe,(0,d.Nn)(oe)&&oe.add(this)):this.destination=V}static create(oe,K,H){return new T(oe,K,H)}next(oe){this.isStopped?k(function s(U){return F("N",U,void 0)}(oe),this):this._next(oe)}error(oe){this.isStopped?k(function b(U){return F("E",void 0,U)}(oe),this):(this.isStopped=!0,this._error(oe))}complete(){this.isStopped?k(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(oe){this.destination.next(oe)}_error(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class T extends N{constructor(oe,K,H){let D;if(super(),(0,e.m)(oe))D=oe;else if(oe){let P;({next:D,error:K,complete:H}=oe),this&&u.v.useDeprecatedNextContext?(P=Object.create(oe),P.unsubscribe=()=>this.unsubscribe()):P=oe,D=null==D?void 0:D.bind(P),K=null==K?void 0:K.bind(P),H=null==H?void 0:H.bind(P)}this.destination={next:D?y(D):x.Z,error:y(null!=K?K:w),complete:H?y(H):x.Z}}}function y(U,oe){return(...K)=>{try{U(...K)}catch(H){u.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(H):(0,p.h)(H)}}}function w(U){throw U}function k(U,oe){const{onStoppedNotification:K}=u.v;K&&O.z.setTimeout(()=>K(U,oe))}const V={closed:!0,next:x.Z,error:w,complete:x.Z}},727:(dn,pt,C)=>{"use strict";C.d(pt,{Lc:()=>R,w0:()=>x,Nn:()=>b});var e=C(576);const u=(0,C(3888).d)(F=>function(Q){F(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((N,T)=>`${T+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var p=C(8737);class x{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const y of Q)y.remove(this);else Q.remove(this);const{initialTeardown:N}=this;if((0,e.m)(N))try{N()}catch(y){O=y instanceof u?y.errors:[y]}const{_teardowns:T}=this;if(T){this._teardowns=null;for(const y of T)try{s(y)}catch(w){O=null!=O?O:[],w instanceof u?O=[...O,...w.errors]:O.push(w)}}if(O)throw new u(O)}}add(O){var Q;if(O&&O!==this)if(this.closed)s(O);else{if(O instanceof x){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._teardowns=null!==(Q=this._teardowns)&&void 0!==Q?Q:[]).push(O)}}_hasParent(O){const{_parentage:Q}=this;return Q===O||Array.isArray(Q)&&Q.includes(O)}_addParent(O){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(O),Q):Q?[Q,O]:O}_removeParent(O){const{_parentage:Q}=this;Q===O?this._parentage=null:Array.isArray(Q)&&(0,p.P)(Q,O)}remove(O){const{_teardowns:Q}=this;Q&&(0,p.P)(Q,O),O instanceof x&&O._removeParent(this)}}x.EMPTY=(()=>{const F=new x;return F.closed=!0,F})();const R=x.EMPTY;function b(F){return F instanceof x||F&&"closed"in F&&(0,e.m)(F.remove)&&(0,e.m)(F.add)&&(0,e.m)(F.unsubscribe)}function s(F){(0,e.m)(F)?F():F.unsubscribe()}},2416:(dn,pt,C)=>{"use strict";C.d(pt,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(dn,pt,C)=>{"use strict";C.d(pt,{z:()=>u});var e=C(6805),d=C(930);function u(p,x){const R="object"==typeof x;return new Promise((b,s)=>{const F=new d.Hp({next:O=>{b(O),F.unsubscribe()},error:s,complete:()=>{R?b(x.defaultValue):s(new e.K)}});p.subscribe(F)})}},4464:(dn,pt,C)=>{"use strict";C.d(pt,{n:()=>d});var e=C(6805);function d(u,p){const x="object"==typeof p;return new Promise((R,b)=>{let F,s=!1;u.subscribe({next:O=>{F=O,s=!0},error:b,complete:()=>{s?R(F):x?R(p.defaultValue):b(new e.K)}})})}},9841:(dn,pt,C)=>{"use strict";C.d(pt,{a:()=>O});var e=C(9751),d=C(4742),u=C(2076),p=C(4671),x=C(3268),R=C(3269),b=C(1810),s=C(5403),F=C(9672);function O(...T){const y=(0,R.yG)(T),w=(0,R.jO)(T),{args:k,keys:V}=(0,d.D)(T);if(0===k.length)return(0,u.D)([],y);const U=new e.y(function Q(T,y,w=p.y){return k=>{N(y,()=>{const{length:V}=T,U=new Array(V);let oe=V,K=V;for(let H=0;H<V;H++)N(y,()=>{const D=(0,u.D)(T[H],y);let P=!1;D.subscribe(new s.Q(k,Y=>{U[H]=Y,P||(P=!0,K--),K||k.next(w(U.slice()))},()=>{--oe||k.complete()}))},k)},k)}}(k,y,V?oe=>(0,b.n)(V,oe):p.y));return w?U.pipe((0,x.Z)(w)):U}function N(T,y,w){T?(0,F.f)(w,T,y):y()}},7272:(dn,pt,C)=>{"use strict";C.d(pt,{z:()=>x});var e=C(8189),u=C(3269),p=C(2076);function x(...R){return function d(){return(0,e.J)(1)}()((0,p.D)(R,(0,u.yG)(R)))}},9770:(dn,pt,C)=>{"use strict";C.d(pt,{P:()=>u});var e=C(9751),d=C(8421);function u(p){return new e.y(x=>{(0,d.Xf)(p()).subscribe(x)})}},515:(dn,pt,C)=>{"use strict";C.d(pt,{E:()=>d});const d=new(C(9751).y)(x=>x.complete())},2076:(dn,pt,C)=>{"use strict";C.d(pt,{D:()=>Y});var e=C(8421),d=C(9672),u=C(4482),p=C(5403);function x(re,j=0){return(0,u.e)((G,ie)=>{G.subscribe(new p.Q(ie,Te=>(0,d.f)(ie,re,()=>ie.next(Te),j),()=>(0,d.f)(ie,re,()=>ie.complete(),j),Te=>(0,d.f)(ie,re,()=>ie.error(Te),j)))})}function R(re,j=0){return(0,u.e)((G,ie)=>{ie.add(re.schedule(()=>G.subscribe(ie),j))})}var F=C(9751),Q=C(2202),N=C(576);function y(re,j){if(!re)throw new Error("Iterable cannot be null");return new F.y(G=>{(0,d.f)(G,j,()=>{const ie=re[Symbol.asyncIterator]();(0,d.f)(G,j,()=>{ie.next().then(Te=>{Te.done?G.complete():G.next(Te.value)})},0,!0)})})}var w=C(3670),k=C(8239),V=C(1144),U=C(6495),oe=C(2206),K=C(4532),H=C(3260);function Y(re,j){return j?function P(re,j){if(null!=re){if((0,w.c)(re))return function b(re,j){return(0,e.Xf)(re).pipe(R(j),x(j))}(re,j);if((0,V.z)(re))return function O(re,j){return new F.y(G=>{let ie=0;return j.schedule(function(){ie===re.length?G.complete():(G.next(re[ie++]),G.closed||this.schedule())})})}(re,j);if((0,k.t)(re))return function s(re,j){return(0,e.Xf)(re).pipe(R(j),x(j))}(re,j);if((0,oe.D)(re))return y(re,j);if((0,U.T)(re))return function T(re,j){return new F.y(G=>{let ie;return(0,d.f)(G,j,()=>{ie=re[Q.h](),(0,d.f)(G,j,()=>{let Te,Me;try{({value:Te,done:Me}=ie.next())}catch(de){return void G.error(de)}Me?G.complete():G.next(Te)},0,!0)}),()=>(0,N.m)(null==ie?void 0:ie.return)&&ie.return()})}(re,j);if((0,H.L)(re))return function D(re,j){return y((0,H.Q)(re),j)}(re,j)}throw(0,K.z)(re)}(re,j):(0,e.Xf)(re)}},4968:(dn,pt,C)=>{"use strict";C.d(pt,{R:()=>O});var e=C(8421),d=C(9751),u=C(5577),p=C(1144),x=C(576),R=C(3268);const b=["addListener","removeListener"],s=["addEventListener","removeEventListener"],F=["on","off"];function O(w,k,V,U){if((0,x.m)(V)&&(U=V,V=void 0),U)return O(w,k,V).pipe((0,R.Z)(U));const[oe,K]=function y(w){return(0,x.m)(w.addEventListener)&&(0,x.m)(w.removeEventListener)}(w)?s.map(H=>D=>w[H](k,D,V)):function N(w){return(0,x.m)(w.addListener)&&(0,x.m)(w.removeListener)}(w)?b.map(Q(w,k)):function T(w){return(0,x.m)(w.on)&&(0,x.m)(w.off)}(w)?F.map(Q(w,k)):[];if(!oe&&(0,p.z)(w))return(0,u.z)(H=>O(H,k,V))((0,e.Xf)(w));if(!oe)throw new TypeError("Invalid event target");return new d.y(H=>{const D=(...P)=>H.next(1<P.length?P:P[0]);return oe(D),()=>K(D)})}function Q(w,k){return V=>U=>w[V](k,U)}},8421:(dn,pt,C)=>{"use strict";C.d(pt,{Xf:()=>T});var e=C(5987),d=C(1144),u=C(8239),p=C(9751),x=C(3670),R=C(2206),b=C(4532),s=C(6495),F=C(3260),O=C(576),Q=C(7849),N=C(8822);function T(H){if(H instanceof p.y)return H;if(null!=H){if((0,x.c)(H))return function y(H){return new p.y(D=>{const P=H[N.L]();if((0,O.m)(P.subscribe))return P.subscribe(D);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(H);if((0,d.z)(H))return function w(H){return new p.y(D=>{for(let P=0;P<H.length&&!D.closed;P++)D.next(H[P]);D.complete()})}(H);if((0,u.t)(H))return function k(H){return new p.y(D=>{H.then(P=>{D.closed||(D.next(P),D.complete())},P=>D.error(P)).then(null,Q.h)})}(H);if((0,R.D)(H))return U(H);if((0,s.T)(H))return function V(H){return new p.y(D=>{for(const P of H)if(D.next(P),D.closed)return;D.complete()})}(H);if((0,F.L)(H))return function oe(H){return U((0,F.Q)(H))}(H)}throw(0,b.z)(H)}function U(H){return new p.y(D=>{(function K(H,D){var P,Y,re,j;return(0,e.mG)(this,void 0,void 0,function*(){try{for(P=(0,e.KL)(H);!(Y=yield P.next()).done;)if(D.next(Y.value),D.closed)return}catch(G){re={error:G}}finally{try{Y&&!Y.done&&(j=P.return)&&(yield j.call(P))}finally{if(re)throw re.error}}D.complete()})})(H,D).catch(P=>D.error(P))})}},7445:(dn,pt,C)=>{"use strict";C.d(pt,{F:()=>u});var e=C(4986),d=C(5963);function u(p=0,x=e.z){return p<0&&(p=0),(0,d.H)(p,p,x)}},6451:(dn,pt,C)=>{"use strict";C.d(pt,{T:()=>R});var e=C(8189),d=C(8421),u=C(515),p=C(3269),x=C(2076);function R(...b){const s=(0,p.yG)(b),F=(0,p._6)(b,1/0),O=b;return O.length?1===O.length?(0,d.Xf)(O[0]):(0,e.J)(F)((0,x.D)(O,s)):u.E}},9646:(dn,pt,C)=>{"use strict";C.d(pt,{of:()=>u});var e=C(3269),d=C(2076);function u(...p){const x=(0,e.yG)(p);return(0,d.D)(p,x)}},2843:(dn,pt,C)=>{"use strict";C.d(pt,{_:()=>u});var e=C(9751),d=C(576);function u(p,x){const R=(0,d.m)(p)?p:()=>p,b=s=>s.error(R());return new e.y(x?s=>x.schedule(b,0,s):b)}},5963:(dn,pt,C)=>{"use strict";C.d(pt,{H:()=>x});var e=C(9751),d=C(4986),u=C(3532);function x(R=0,b,s=d.P){let F=-1;return null!=b&&((0,u.K)(b)?s=b:F=b),new e.y(O=>{let Q=function p(R){return R instanceof Date&&!isNaN(R)}(R)?+R-s.now():R;Q<0&&(Q=0);let N=0;return s.schedule(function(){O.closed||(O.next(N++),0<=F?this.schedule(void 0,F):O.complete())},Q)})}},5403:(dn,pt,C)=>{"use strict";C.d(pt,{Q:()=>d});var e=C(930);class d extends e.Lv{constructor(p,x,R,b,s){super(p),this.onFinalize=s,this._next=x?function(F){try{x(F)}catch(O){p.error(O)}}:super._next,this._error=b?function(F){try{b(F)}catch(O){p.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=R?function(){try{R()}catch(F){p.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;const{closed:x}=this;super.unsubscribe(),!x&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}},262:(dn,pt,C)=>{"use strict";C.d(pt,{K:()=>p});var e=C(8421),d=C(5403),u=C(4482);function p(x){return(0,u.e)((R,b)=>{let O,s=null,F=!1;s=R.subscribe(new d.Q(b,void 0,void 0,Q=>{O=(0,e.Xf)(x(Q,p(x)(R))),s?(s.unsubscribe(),s=null,O.subscribe(b)):F=!0})),F&&(s.unsubscribe(),s=null,O.subscribe(b))})}},4351:(dn,pt,C)=>{"use strict";C.d(pt,{b:()=>u});var e=C(5577),d=C(576);function u(p,x){return(0,d.m)(x)?(0,e.z)(p,x,1):(0,e.z)(p,1)}},8372:(dn,pt,C)=>{"use strict";C.d(pt,{b:()=>p});var e=C(4986),d=C(4482),u=C(5403);function p(x,R=e.z){return(0,d.e)((b,s)=>{let F=null,O=null,Q=null;const N=()=>{if(F){F.unsubscribe(),F=null;const y=O;O=null,s.next(y)}};function T(){const y=Q+x,w=R.now();if(w<y)return F=this.schedule(void 0,y-w),void s.add(F);N()}b.subscribe(new u.Q(s,y=>{O=y,Q=R.now(),F||(F=R.schedule(T,x),s.add(F))},()=>{N(),s.complete()},void 0,()=>{O=F=null}))})}},6590:(dn,pt,C)=>{"use strict";C.d(pt,{d:()=>u});var e=C(4482),d=C(5403);function u(p){return(0,e.e)((x,R)=>{let b=!1;x.subscribe(new d.Q(R,s=>{b=!0,R.next(s)},()=>{b||R.next(p),R.complete()}))})}},4326:(dn,pt,C)=>{"use strict";C.d(pt,{g:()=>p});var e=C(4986),d=C(5376),u=C(5963);function p(x,R=e.z){const b=(0,u.H)(x,R);return(0,d.j)(()=>b)}},5376:(dn,pt,C)=>{"use strict";C.d(pt,{j:()=>F});var e=C(7272),d=C(5698),u=C(4482),p=C(5403),x=C(5032),b=C(9718),s=C(5577);function F(O,Q){return Q?N=>(0,e.z)(Q.pipe((0,d.q)(1),function R(){return(0,u.e)((O,Q)=>{O.subscribe(new p.Q(Q,x.Z))})}()),N.pipe(F(O))):(0,s.z)((N,T)=>O(N,T).pipe((0,d.q)(1),(0,b.h)(N)))}},1884:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>p});var e=C(4671),d=C(4482),u=C(5403);function p(R,b=e.y){return R=null!=R?R:x,(0,d.e)((s,F)=>{let O,Q=!0;s.subscribe(new u.Q(F,N=>{const T=b(N);(Q||!R(O,T))&&(Q=!1,O=T,F.next(N))}))})}function x(R,b){return R===b}},9300:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>u});var e=C(4482),d=C(5403);function u(p,x){return(0,e.e)((R,b)=>{let s=0;R.subscribe(new d.Q(b,F=>p.call(x,F,s++)&&b.next(F)))})}},8746:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>d});var e=C(4482);function d(u){return(0,e.e)((p,x)=>{try{p.subscribe(x)}finally{x.add(u)}})}},590:(dn,pt,C)=>{"use strict";C.d(pt,{P:()=>b});var e=C(6805),d=C(9300),u=C(5698),p=C(6590),x=C(8068),R=C(4671);function b(s,F){const O=arguments.length>=2;return Q=>Q.pipe(s?(0,d.h)((N,T)=>s(N,T,Q)):R.y,(0,u.q)(1),O?(0,p.d)(F):(0,x.T)(()=>new e.K))}},4004:(dn,pt,C)=>{"use strict";C.d(pt,{U:()=>u});var e=C(4482),d=C(5403);function u(p,x){return(0,e.e)((R,b)=>{let s=0;R.subscribe(new d.Q(b,F=>{b.next(p.call(x,F,s++))}))})}},9718:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>d});var e=C(4004);function d(u){return(0,e.U)(()=>u)}},8189:(dn,pt,C)=>{"use strict";C.d(pt,{J:()=>u});var e=C(5577),d=C(4671);function u(p=1/0){return(0,e.z)(d.y,p)}},5577:(dn,pt,C)=>{"use strict";C.d(pt,{z:()=>s});var e=C(4004),d=C(8421),u=C(4482),p=C(9672),x=C(5403),b=C(576);function s(F,O,Q=1/0){return(0,b.m)(O)?s((N,T)=>(0,e.U)((y,w)=>O(N,y,T,w))((0,d.Xf)(F(N,T))),Q):("number"==typeof O&&(Q=O),(0,u.e)((N,T)=>function R(F,O,Q,N,T,y,w,k){const V=[];let U=0,oe=0,K=!1;const H=()=>{K&&!V.length&&!U&&O.complete()},D=Y=>U<N?P(Y):V.push(Y),P=Y=>{y&&O.next(Y),U++;let re=!1;(0,d.Xf)(Q(Y,oe++)).subscribe(new x.Q(O,j=>{null==T||T(j),y?D(j):O.next(j)},()=>{re=!0},void 0,()=>{if(re)try{for(U--;V.length&&U<N;){const j=V.shift();w?(0,p.f)(O,w,()=>P(j)):P(j)}H()}catch(j){O.error(j)}}))};return F.subscribe(new x.Q(O,D,()=>{K=!0,H()})),()=>{null==k||k()}}(N,T,F,Q)))}},599:(dn,pt,C)=>{"use strict";C.d(pt,{r:()=>p});var e=C(515),d=C(4482),u=C(5403);function p(x=1/0){return x<=0?()=>e.E:(0,d.e)((R,b)=>{let F,s=0;const O=()=>{let Q=!1;F=R.subscribe(new u.Q(b,void 0,()=>{++s<x?F?(F.unsubscribe(),F=null,O()):Q=!0:b.complete()})),Q&&(F.unsubscribe(),F=null,O())};O()})}},5625:(dn,pt,C)=>{"use strict";C.d(pt,{X:()=>R});var e=C(4482),d=C(5403),u=C(4671),p=C(5963),x=C(8421);function R(b=1/0){let s;s=b&&"object"==typeof b?b:{count:b};const{count:F=1/0,delay:O,resetOnSuccess:Q=!1}=s;return F<=0?u.y:(0,e.e)((N,T)=>{let w,y=0;const k=()=>{let V=!1;w=N.subscribe(new d.Q(T,U=>{Q&&(y=0),T.next(U)},void 0,U=>{if(y++<F){const oe=()=>{w?(w.unsubscribe(),w=null,k()):V=!0};if(null!=O){const K="number"==typeof O?(0,p.H)(O):(0,x.Xf)(O(U,y)),H=new d.Q(T,()=>{H.unsubscribe(),oe()},()=>{T.complete()});K.subscribe(H)}else oe()}else T.error(U)})),V&&(w.unsubscribe(),w=null,k())};k()})}},3099:(dn,pt,C)=>{"use strict";C.d(pt,{B:()=>R});var e=C(2076),d=C(5698),u=C(7579),p=C(930),x=C(4482);function R(s={}){const{connector:F=(()=>new u.x),resetOnError:O=!0,resetOnComplete:Q=!0,resetOnRefCountZero:N=!0}=s;return T=>{let y=null,w=null,k=null,V=0,U=!1,oe=!1;const K=()=>{null==w||w.unsubscribe(),w=null},H=()=>{K(),y=k=null,U=oe=!1},D=()=>{const P=y;H(),null==P||P.unsubscribe()};return(0,x.e)((P,Y)=>{V++,!oe&&!U&&K();const re=k=null!=k?k:F();Y.add(()=>{V--,0===V&&!oe&&!U&&(w=b(D,N))}),re.subscribe(Y),y||(y=new p.Hp({next:j=>re.next(j),error:j=>{oe=!0,K(),w=b(H,O,j),re.error(j)},complete:()=>{U=!0,K(),w=b(H,Q),re.complete()}}),(0,e.D)(P).subscribe(y))})(T)}}function b(s,F,...O){return!0===F?(s(),null):!1===F?null:F(...O).pipe((0,d.q)(1)).subscribe(()=>s())}},4782:(dn,pt,C)=>{"use strict";C.d(pt,{d:()=>u});var e=C(4707),d=C(3099);function u(p,x,R){var b,s;let F,O=!1;return p&&"object"==typeof p?(F=null!==(b=p.bufferSize)&&void 0!==b?b:1/0,x=null!==(s=p.windowTime)&&void 0!==s?s:1/0,O=!!p.refCount,R=p.scheduler):F=null!=p?p:1/0,(0,d.B)({connector:()=>new e.t(F,x,R),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:O})}},8675:(dn,pt,C)=>{"use strict";C.d(pt,{O:()=>p});var e=C(7272),d=C(3269),u=C(4482);function p(...x){const R=(0,d.yG)(x);return(0,u.e)((b,s)=>{(R?(0,e.z)(x,b,R):(0,e.z)(x,b)).subscribe(s)})}},3900:(dn,pt,C)=>{"use strict";C.d(pt,{w:()=>p});var e=C(8421),d=C(4482),u=C(5403);function p(x,R){return(0,d.e)((b,s)=>{let F=null,O=0,Q=!1;const N=()=>Q&&!F&&s.complete();b.subscribe(new u.Q(s,T=>{null==F||F.unsubscribe();let y=0;const w=O++;(0,e.Xf)(x(T,w)).subscribe(F=new u.Q(s,k=>s.next(R?R(T,k,w,y++):k),()=>{F=null,N()}))},()=>{Q=!0,N()}))})}},5698:(dn,pt,C)=>{"use strict";C.d(pt,{q:()=>p});var e=C(515),d=C(4482),u=C(5403);function p(x){return x<=0?()=>e.E:(0,d.e)((R,b)=>{let s=0;R.subscribe(new u.Q(b,F=>{++s<=x&&(b.next(F),x<=s&&b.complete())}))})}},2035:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>p});var e=C(515),d=C(4482),u=C(5403);function p(x){return x<=0?()=>e.E:(0,d.e)((R,b)=>{let s=[];R.subscribe(new u.Q(b,F=>{s.push(F),x<s.length&&s.shift()},()=>{for(const F of s)b.next(F);b.complete()},void 0,()=>{s=null}))})}},2722:(dn,pt,C)=>{"use strict";C.d(pt,{R:()=>x});var e=C(4482),d=C(5403),u=C(8421),p=C(5032);function x(R){return(0,e.e)((b,s)=>{(0,u.Xf)(R).subscribe(new d.Q(s,()=>s.complete(),p.Z)),!s.closed&&b.subscribe(s)})}},2529:(dn,pt,C)=>{"use strict";C.d(pt,{o:()=>u});var e=C(4482),d=C(5403);function u(p,x=!1){return(0,e.e)((R,b)=>{let s=0;R.subscribe(new d.Q(b,F=>{const O=p(F,s++);(O||x)&&b.next(F),!O&&b.complete()}))})}},8505:(dn,pt,C)=>{"use strict";C.d(pt,{b:()=>x});var e=C(576),d=C(4482),u=C(5403),p=C(4671);function x(R,b,s){const F=(0,e.m)(R)||b||s?{next:R,error:b,complete:s}:R;return F?(0,d.e)((O,Q)=>{var N;null===(N=F.subscribe)||void 0===N||N.call(F);let T=!0;O.subscribe(new u.Q(Q,y=>{var w;null===(w=F.next)||void 0===w||w.call(F,y),Q.next(y)},()=>{var y;T=!1,null===(y=F.complete)||void 0===y||y.call(F),Q.complete()},y=>{var w;T=!1,null===(w=F.error)||void 0===w||w.call(F,y),Q.error(y)},()=>{var y,w;T&&(null===(y=F.unsubscribe)||void 0===y||y.call(F)),null===(w=F.finalize)||void 0===w||w.call(F)}))}):p.y}},8068:(dn,pt,C)=>{"use strict";C.d(pt,{T:()=>p});var e=C(6805),d=C(4482),u=C(5403);function p(R=x){return(0,d.e)((b,s)=>{let F=!1;b.subscribe(new u.Q(s,O=>{F=!0,s.next(O)},()=>F?s.complete():s.error(R())))})}function x(){return new e.K}},4408:(dn,pt,C)=>{"use strict";C.d(pt,{o:()=>x});var e=C(727);class d extends e.w0{constructor(b,s){super()}schedule(b,s=0){return this}}const u={setInterval(...R){const{delegate:b}=u;return((null==b?void 0:b.setInterval)||setInterval)(...R)},clearInterval(R){const{delegate:b}=u;return((null==b?void 0:b.clearInterval)||clearInterval)(R)},delegate:void 0};var p=C(8737);class x extends d{constructor(b,s){super(b,s),this.scheduler=b,this.work=s,this.pending=!1}schedule(b,s=0){if(this.closed)return this;this.state=b;const F=this.id,O=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(O,F,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(O,this.id,s),this}requestAsyncId(b,s,F=0){return u.setInterval(b.flush.bind(b,this),F)}recycleAsyncId(b,s,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return s;u.clearInterval(s)}execute(b,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(b,s);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(b,s){let O,F=!1;try{this.work(b)}catch(Q){F=!0,O=Q||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:b,scheduler:s}=this,{actions:F}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,p.P)(F,this),null!=b&&(this.id=this.recycleAsyncId(s,b,null)),this.delay=null,super.unsubscribe()}}}},7565:(dn,pt,C)=>{"use strict";C.d(pt,{v:()=>u});var e=C(6063);class d{constructor(x,R=d.now){this.schedulerActionCtor=x,this.now=R}schedule(x,R=0,b){return new this.schedulerActionCtor(this,x).schedule(b,R)}}d.now=e.l.now;class u extends d{constructor(x,R=d.now){super(x,R),this.actions=[],this._active=!1,this._scheduled=void 0}flush(x){const{actions:R}=this;if(this._active)return void R.push(x);let b;this._active=!0;do{if(b=x.execute(x.state,x.delay))break}while(x=R.shift());if(this._active=!1,b){for(;x=R.shift();)x.unsubscribe();throw b}}}},6406:(dn,pt,C)=>{"use strict";C.d(pt,{Z:()=>b});var e=C(4408),d=C(727);const u={schedule(F){let O=requestAnimationFrame,Q=cancelAnimationFrame;const{delegate:N}=u;N&&(O=N.requestAnimationFrame,Q=N.cancelAnimationFrame);const T=O(y=>{Q=void 0,F(y)});return new d.w0(()=>null==Q?void 0:Q(T))},requestAnimationFrame(...F){const{delegate:O}=u;return((null==O?void 0:O.requestAnimationFrame)||requestAnimationFrame)(...F)},cancelAnimationFrame(...F){const{delegate:O}=u;return((null==O?void 0:O.cancelAnimationFrame)||cancelAnimationFrame)(...F)},delegate:void 0};var x=C(7565);const b=new class R extends x.v{flush(O){this._active=!0,this._scheduled=void 0;const{actions:Q}=this;let N,T=-1;O=O||Q.shift();const y=Q.length;do{if(N=O.execute(O.state,O.delay))break}while(++T<y&&(O=Q.shift()));if(this._active=!1,N){for(;++T<y&&(O=Q.shift());)O.unsubscribe();throw N}}}(class p extends e.o{constructor(O,Q){super(O,Q),this.scheduler=O,this.work=Q}requestAsyncId(O,Q,N=0){return null!==N&&N>0?super.requestAsyncId(O,Q,N):(O.actions.push(this),O._scheduled||(O._scheduled=u.requestAnimationFrame(()=>O.flush(void 0))))}recycleAsyncId(O,Q,N=0){if(null!=N&&N>0||null==N&&this.delay>0)return super.recycleAsyncId(O,Q,N);0===O.actions.length&&(u.cancelAnimationFrame(Q),O._scheduled=void 0)}})},4986:(dn,pt,C)=>{"use strict";C.d(pt,{P:()=>p,z:()=>u});var e=C(4408);const u=new(C(7565).v)(e.o),p=u},6063:(dn,pt,C)=>{"use strict";C.d(pt,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(dn,pt,C)=>{"use strict";C.d(pt,{z:()=>e});const e={setTimeout(...d){const{delegate:u}=e;return((null==u?void 0:u.setTimeout)||setTimeout)(...d)},clearTimeout(d){const{delegate:u}=e;return((null==u?void 0:u.clearTimeout)||clearTimeout)(d)},delegate:void 0}},2202:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>d});const d=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dn,pt,C)=>{"use strict";C.d(pt,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(dn,pt,C)=>{"use strict";C.d(pt,{K:()=>d});const d=(0,C(3888).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(dn,pt,C)=>{"use strict";C.d(pt,{_6:()=>R,jO:()=>p,yG:()=>x});var e=C(576),d=C(3532);function u(b){return b[b.length-1]}function p(b){return(0,e.m)(u(b))?b.pop():void 0}function x(b){return(0,d.K)(u(b))?b.pop():void 0}function R(b,s){return"number"==typeof u(b)?b.pop():s}},4742:(dn,pt,C)=>{"use strict";C.d(pt,{D:()=>x});const{isArray:e}=Array,{getPrototypeOf:d,prototype:u,keys:p}=Object;function x(b){if(1===b.length){const s=b[0];if(e(s))return{args:s,keys:null};if(function R(b){return b&&"object"==typeof b&&d(b)===u}(s)){const F=p(s);return{args:F.map(O=>s[O]),keys:F}}}return{args:b,keys:null}}},8737:(dn,pt,C)=>{"use strict";function e(d,u){if(d){const p=d.indexOf(u);0<=p&&d.splice(p,1)}}C.d(pt,{P:()=>e})},3888:(dn,pt,C)=>{"use strict";function e(d){const p=d(x=>{Error.call(x),x.stack=(new Error).stack});return p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p}C.d(pt,{d:()=>e})},1810:(dn,pt,C)=>{"use strict";function e(d,u){return d.reduce((p,x,R)=>(p[x]=u[R],p),{})}C.d(pt,{n:()=>e})},2806:(dn,pt,C)=>{"use strict";C.d(pt,{O:()=>p,x:()=>u});var e=C(2416);let d=null;function u(x){if(e.v.useDeprecatedSynchronousErrorHandling){const R=!d;if(R&&(d={errorThrown:!1,error:null}),x(),R){const{errorThrown:b,error:s}=d;if(d=null,b)throw s}}else x()}function p(x){e.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=x)}},9672:(dn,pt,C)=>{"use strict";function e(d,u,p,x=0,R=!1){const b=u.schedule(function(){p(),R?d.add(this.schedule(null,x)):this.unsubscribe()},x);if(d.add(b),!R)return b}C.d(pt,{f:()=>e})},4671:(dn,pt,C)=>{"use strict";function e(d){return d}C.d(pt,{y:()=>e})},1144:(dn,pt,C)=>{"use strict";C.d(pt,{z:()=>e});const e=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(dn,pt,C)=>{"use strict";C.d(pt,{D:()=>d});var e=C(576);function d(u){return Symbol.asyncIterator&&(0,e.m)(null==u?void 0:u[Symbol.asyncIterator])}},576:(dn,pt,C)=>{"use strict";function e(d){return"function"==typeof d}C.d(pt,{m:()=>e})},3670:(dn,pt,C)=>{"use strict";C.d(pt,{c:()=>u});var e=C(8822),d=C(576);function u(p){return(0,d.m)(p[e.L])}},6495:(dn,pt,C)=>{"use strict";C.d(pt,{T:()=>u});var e=C(2202),d=C(576);function u(p){return(0,d.m)(null==p?void 0:p[e.h])}},8239:(dn,pt,C)=>{"use strict";C.d(pt,{t:()=>d});var e=C(576);function d(u){return(0,e.m)(null==u?void 0:u.then)}},3260:(dn,pt,C)=>{"use strict";C.d(pt,{L:()=>p,Q:()=>u});var e=C(5987),d=C(576);function u(x){return(0,e.FC)(this,arguments,function*(){const b=x.getReader();try{for(;;){const{value:s,done:F}=yield(0,e.qq)(b.read());if(F)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(s)}}finally{b.releaseLock()}})}function p(x){return(0,d.m)(null==x?void 0:x.getReader)}},3532:(dn,pt,C)=>{"use strict";C.d(pt,{K:()=>d});var e=C(576);function d(u){return u&&(0,e.m)(u.schedule)}},4482:(dn,pt,C)=>{"use strict";C.d(pt,{A:()=>d,e:()=>u});var e=C(576);function d(p){return(0,e.m)(null==p?void 0:p.lift)}function u(p){return x=>{if(d(x))return x.lift(function(R){try{return p(R,this)}catch(b){this.error(b)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(dn,pt,C)=>{"use strict";C.d(pt,{Z:()=>p});var e=C(4004);const{isArray:d}=Array;function p(x){return(0,e.U)(R=>function u(x,R){return d(R)?x(...R):x(R)}(x,R))}},5032:(dn,pt,C)=>{"use strict";function e(){}C.d(pt,{Z:()=>e})},9635:(dn,pt,C)=>{"use strict";C.d(pt,{U:()=>u,z:()=>d});var e=C(4671);function d(...p){return u(p)}function u(p){return 0===p.length?e.y:1===p.length?p[0]:function(R){return p.reduce((b,s)=>s(b),R)}}},7849:(dn,pt,C)=>{"use strict";C.d(pt,{h:()=>u});var e=C(2416),d=C(3410);function u(p){d.z.setTimeout(()=>{const{onUnhandledError:x}=e.v;if(!x)throw p;x(p)})}},4532:(dn,pt,C)=>{"use strict";function e(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(pt,{z:()=>e})},1588:(dn,pt,C)=>{"use strict";C.d(pt,{Z:()=>Q});const d={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const p=new Uint8Array(16);function x(){if(!u&&(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(p)}const R=[];for(let N=0;N<256;++N)R.push((N+256).toString(16).slice(1));const Q=function O(N,T,y){if(d.randomUUID&&!T&&!N)return d.randomUUID();const w=(N=N||{}).random||(N.rng||x)();if(w[6]=15&w[6]|64,w[8]=63&w[8]|128,T){y=y||0;for(let k=0;k<16;++k)T[y+k]=w[k];return T}return function b(N,T=0){return(R[N[T+0]]+R[N[T+1]]+R[N[T+2]]+R[N[T+3]]+"-"+R[N[T+4]]+R[N[T+5]]+"-"+R[N[T+6]]+R[N[T+7]]+"-"+R[N[T+8]]+R[N[T+9]]+"-"+R[N[T+10]]+R[N[T+11]]+R[N[T+12]]+R[N[T+13]]+R[N[T+14]]+R[N[T+15]]).toLowerCase()}(w)}},9162:dn=>{self,dn.exports=(()=>(()=>{"use strict";var C,pt={};return C=pt,Object.defineProperty(C,"__esModule",{value:!0}),C.FitAddon=void 0,C.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();e&&this._terminal&&!isNaN(e.cols)&&!isNaN(e.rows)&&(this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(e.cols,e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,d=e._renderService.dimensions;if(0===d.css.cell.width||0===d.css.cell.height)return;const u=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,p=window.getComputedStyle(this._terminal.element.parentElement),x=parseInt(p.getPropertyValue("height")),R=Math.max(0,parseInt(p.getPropertyValue("width"))),b=window.getComputedStyle(this._terminal.element),s=x-(parseInt(b.getPropertyValue("padding-top"))+parseInt(b.getPropertyValue("padding-bottom"))),F=R-(parseInt(b.getPropertyValue("padding-right"))+parseInt(b.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(F/d.css.cell.width)),rows:Math.max(1,Math.floor(s/d.css.cell.height))}}},pt})())()},4793:dn=>{self,dn.exports=(()=>(()=>{"use strict";var pt={4567:function(u,p,x){var R=this&&this.__decorate||function(k,V,U,oe){var K,H=arguments.length,D=H<3?V:null===oe?oe=Object.getOwnPropertyDescriptor(V,U):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(k,V,U,oe);else for(var P=k.length-1;P>=0;P--)(K=k[P])&&(D=(H<3?K(D):H>3?K(V,U,D):K(V,U))||D);return H>3&&D&&Object.defineProperty(V,U,D),D},b=this&&this.__param||function(k,V){return function(U,oe){V(U,oe,k)}};Object.defineProperty(p,"__esModule",{value:!0}),p.AccessibilityManager=void 0;const s=x(9042),F=x(6114),O=x(9924),Q=x(844),N=x(5596),T=x(4725),y=x(3656);let w=p.AccessibilityManager=class extends Q.Disposable{constructor(k,V){super(),this._terminal=k,this._renderService=V,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let U=0;U<this._terminal.rows;U++)this._rowElements[U]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[U]);if(this._topBoundaryFocusListener=U=>this._handleBoundaryFocus(U,0),this._bottomBoundaryFocusListener=U=>this._handleBoundaryFocus(U,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new O.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(U=>this._handleResize(U.rows))),this.register(this._terminal.onRender(U=>this._refreshRows(U.start,U.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(U=>this._handleChar(U))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(U=>this._handleTab(U))),this.register(this._terminal.onKey(U=>this._handleKey(U.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new N.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,Q.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(k){for(let V=0;V<k;V++)this._handleChar(" ")}_handleChar(k){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==k&&(this._charsToAnnounce+=k):this._charsToAnnounce+=k,"\n"===k&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=s.tooMuchOutput)),F.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,F.isMac&&this._liveRegion.remove()}_handleKey(k){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(k)||this._charsToConsume.push(k)}_refreshRows(k,V){this._liveRegionDebouncer.refresh(k,V,this._terminal.rows)}_renderRows(k,V){const U=this._terminal.buffer,oe=U.lines.length.toString();for(let K=k;K<=V;K++){const H=U.translateBufferLineToString(U.ydisp+K,!0),D=(U.ydisp+K+1).toString(),P=this._rowElements[K];P&&(0===H.length?P.innerText="\xa0":P.textContent=H,P.setAttribute("aria-posinset",D),P.setAttribute("aria-setsize",oe))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(k,V){const U=k.target,oe=this._rowElements[0===V?1:this._rowElements.length-2];if(U.getAttribute("aria-posinset")===(0===V?"1":`${this._terminal.buffer.lines.length}`)||k.relatedTarget!==oe)return;let K,H;if(0===V?(K=U,H=this._rowElements.pop(),this._rowContainer.removeChild(H)):(K=this._rowElements.shift(),H=U,this._rowContainer.removeChild(K)),K.removeEventListener("focus",this._topBoundaryFocusListener),H.removeEventListener("focus",this._bottomBoundaryFocusListener),0===V){const D=this._createAccessibilityTreeNode();this._rowElements.unshift(D),this._rowContainer.insertAdjacentElement("afterbegin",D)}else{const D=this._createAccessibilityTreeNode();this._rowElements.push(D),this._rowContainer.appendChild(D)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===V?-1:1),this._rowElements[0===V?1:this._rowElements.length-2].focus(),k.preventDefault(),k.stopImmediatePropagation()}_handleResize(k){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let V=this._rowContainer.children.length;V<this._terminal.rows;V++)this._rowElements[V]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[V]);for(;this._rowElements.length>k;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const k=document.createElement("div");return k.setAttribute("role","listitem"),k.tabIndex=-1,this._refreshRowDimensions(k),k}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let k=0;k<this._terminal.rows;k++)this._refreshRowDimensions(this._rowElements[k])}}_refreshRowDimensions(k){k.style.height=`${this._renderService.dimensions.css.cell.height}px`}};p.AccessibilityManager=w=R([b(1,T.IRenderService)],w)},3614:(u,p)=>{function x(F){return F.replace(/\r?\n/g,"\r")}function R(F,O){return O?"\x1b[200~"+F+"\x1b[201~":F}function b(F,O,Q,N){F=R(F=x(F),Q.decPrivateModes.bracketedPasteMode&&!0!==N.rawOptions.ignoreBracketedPasteMode),Q.triggerDataEvent(F,!0),O.value=""}function s(F,O,Q){const N=Q.getBoundingClientRect(),T=F.clientX-N.left-10,y=F.clientY-N.top-10;O.style.width="20px",O.style.height="20px",O.style.left=`${T}px`,O.style.top=`${y}px`,O.style.zIndex="1000",O.focus()}Object.defineProperty(p,"__esModule",{value:!0}),p.rightClickHandler=p.moveTextAreaUnderMouseCursor=p.paste=p.handlePasteEvent=p.copyHandler=p.bracketTextForPaste=p.prepareTextForTerminal=void 0,p.prepareTextForTerminal=x,p.bracketTextForPaste=R,p.copyHandler=function(F,O){F.clipboardData&&F.clipboardData.setData("text/plain",O.selectionText),F.preventDefault()},p.handlePasteEvent=function(F,O,Q,N){F.stopPropagation(),F.clipboardData&&b(F.clipboardData.getData("text/plain"),O,Q,N)},p.paste=b,p.moveTextAreaUnderMouseCursor=s,p.rightClickHandler=function(F,O,Q,N,T){s(F,O,Q),T&&N.rightClickSelect(F),O.value=N.selectionText,O.select()}},7239:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ColorContrastCache=void 0;const R=x(1505);p.ColorContrastCache=class{constructor(){this._color=new R.TwoKeyMap,this._css=new R.TwoKeyMap}setCss(b,s,F){this._css.set(b,s,F)}getCss(b,s){return this._css.get(b,s)}setColor(b,s,F){this._color.set(b,s,F)}getColor(b,s){return this._color.get(b,s)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.addDisposableDomListener=void 0,p.addDisposableDomListener=function(x,R,b,s){x.addEventListener(R,b,s);let F=!1;return{dispose:()=>{F||(F=!0,x.removeEventListener(R,b,s))}}}},6465:function(u,p,x){var R=this&&this.__decorate||function(T,y,w,k){var V,U=arguments.length,oe=U<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(T,y,w,k);else for(var K=T.length-1;K>=0;K--)(V=T[K])&&(oe=(U<3?V(oe):U>3?V(y,w,oe):V(y,w))||oe);return U>3&&oe&&Object.defineProperty(y,w,oe),oe},b=this&&this.__param||function(T,y){return function(w,k){y(w,k,T)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Linkifier2=void 0;const s=x(3656),F=x(8460),O=x(844),Q=x(2585);let N=p.Linkifier2=class extends O.Disposable{get currentLink(){return this._currentLink}constructor(T){super(),this._bufferService=T,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new F.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new F.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,O.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,O.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(T){return this._linkProviders.push(T),{dispose:()=>{const y=this._linkProviders.indexOf(T);-1!==y&&this._linkProviders.splice(y,1)}}}attachToDom(T,y,w){this._element=T,this._mouseService=y,this._renderService=w,this.register((0,s.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,s.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(T){if(this._lastMouseEvent=T,!this._element||!this._mouseService)return;const y=this._positionFromMouseEvent(T,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const w=T.composedPath();for(let k=0;k<w.length;k++){const V=w[k];if(V.classList.contains("xterm"))break;if(V.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(T){if(this._activeLine!==T.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(T,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,T)||(this._clearCurrentLink(),this._askForLink(T,!0))}_askForLink(T,y){var w,k;this._activeProviderReplies&&y||(null===(w=this._activeProviderReplies)||void 0===w||w.forEach(U=>{null==U||U.forEach(oe=>{oe.link.dispose&&oe.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=T.y);let V=!1;for(const[U,oe]of this._linkProviders.entries())y?null!==(k=this._activeProviderReplies)&&void 0!==k&&k.get(U)&&(V=this._checkLinkProviderResult(U,T,V)):oe.provideLinks(T.y,K=>{var H,D;if(this._isMouseOut)return;const P=null==K?void 0:K.map(Y=>({link:Y}));null===(H=this._activeProviderReplies)||void 0===H||H.set(U,P),V=this._checkLinkProviderResult(U,T,V),(null===(D=this._activeProviderReplies)||void 0===D?void 0:D.size)===this._linkProviders.length&&this._removeIntersectingLinks(T.y,this._activeProviderReplies)})}_removeIntersectingLinks(T,y){const w=new Set;for(let k=0;k<y.size;k++){const V=y.get(k);if(V)for(let U=0;U<V.length;U++){const oe=V[U],H=oe.link.range.end.y>T?this._bufferService.cols:oe.link.range.end.x;for(let D=oe.link.range.start.y<T?0:oe.link.range.start.x;D<=H;D++){if(w.has(D)){V.splice(U--,1);break}w.add(D)}}}}_checkLinkProviderResult(T,y,w){var k;if(!this._activeProviderReplies)return w;const V=this._activeProviderReplies.get(T);let U=!1;for(let oe=0;oe<T;oe++)this._activeProviderReplies.has(oe)&&!this._activeProviderReplies.get(oe)||(U=!0);if(!U&&V){const oe=V.find(K=>this._linkAtPosition(K.link,y));oe&&(w=!0,this._handleNewLink(oe))}if(this._activeProviderReplies.size===this._linkProviders.length&&!w)for(let oe=0;oe<this._activeProviderReplies.size;oe++){const K=null===(k=this._activeProviderReplies.get(oe))||void 0===k?void 0:k.find(H=>this._linkAtPosition(H.link,y));if(K){w=!0,this._handleNewLink(K);break}}return w}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(T){if(!this._element||!this._mouseService||!this._currentLink)return;const y=this._positionFromMouseEvent(T,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(T,this._currentLink.link.text)}_clearCurrentLink(T,y){this._element&&this._currentLink&&this._lastMouseEvent&&(!T||!y||this._currentLink.link.range.start.y>=T&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,O.disposeArray)(this._linkCacheDisposables))}_handleNewLink(T){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(T.link,y)&&(this._currentLink=T,this._currentLink.state={decorations:{underline:void 0===T.link.decorations||T.link.decorations.underline,pointerCursor:void 0===T.link.decorations||T.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,T.link,this._lastMouseEvent),T.link.decorations={},Object.defineProperties(T.link.decorations,{pointerCursor:{get:()=>{var w,k;return null===(k=null===(w=this._currentLink)||void 0===w?void 0:w.state)||void 0===k?void 0:k.decorations.pointerCursor},set:w=>{var k,V;(null===(k=this._currentLink)||void 0===k?void 0:k.state)&&this._currentLink.state.decorations.pointerCursor!==w&&(this._currentLink.state.decorations.pointerCursor=w,this._currentLink.state.isHovered&&(null===(V=this._element)||void 0===V||V.classList.toggle("xterm-cursor-pointer",w)))}},underline:{get:()=>{var w,k;return null===(k=null===(w=this._currentLink)||void 0===w?void 0:w.state)||void 0===k?void 0:k.decorations.underline},set:w=>{var k,V,U;(null===(k=this._currentLink)||void 0===k?void 0:k.state)&&(null===(U=null===(V=this._currentLink)||void 0===V?void 0:V.state)||void 0===U?void 0:U.decorations.underline)!==w&&(this._currentLink.state.decorations.underline=w,this._currentLink.state.isHovered&&this._fireUnderlineEvent(T.link,w))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(w=>{if(!this._currentLink)return;const k=0===w.start?0:w.start+1+this._bufferService.buffer.ydisp,V=this._bufferService.buffer.ydisp+1+w.end;if(this._currentLink.link.range.start.y>=k&&this._currentLink.link.range.end.y<=V&&(this._clearCurrentLink(k,V),this._lastMouseEvent&&this._element)){const U=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);U&&this._askForLink(U,!1)}})))}_linkHover(T,y,w){var k;!(null===(k=this._currentLink)||void 0===k)&&k.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&T.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(w,y.text)}_fireUnderlineEvent(T,y){const w=T.range,k=this._bufferService.buffer.ydisp,V=this._createLinkUnderlineEvent(w.start.x-1,w.start.y-k-1,w.end.x,w.end.y-k-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(V)}_linkLeave(T,y,w){var k;!(null===(k=this._currentLink)||void 0===k)&&k.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&T.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(w,y.text)}_linkAtPosition(T,y){const V=y.y*this._bufferService.cols+y.x;return T.range.start.y*this._bufferService.cols+T.range.start.x<=V&&V<=T.range.end.y*this._bufferService.cols+T.range.end.x}_positionFromMouseEvent(T,y,w){const k=w.getCoords(T,y,this._bufferService.cols,this._bufferService.rows);if(k)return{x:k[0],y:k[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(T,y,w,k,V){return{x1:T,y1:y,x2:w,y2:k,cols:this._bufferService.cols,fg:V}}};p.Linkifier2=N=R([b(0,Q.IBufferService)],N)},9042:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.tooMuchOutput=p.promptLabel=void 0,p.promptLabel="Terminal input",p.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,p,x){var R=this&&this.__decorate||function(N,T,y,w){var k,V=arguments.length,U=V<3?T:null===w?w=Object.getOwnPropertyDescriptor(T,y):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(N,T,y,w);else for(var oe=N.length-1;oe>=0;oe--)(k=N[oe])&&(U=(V<3?k(U):V>3?k(T,y,U):k(T,y))||U);return V>3&&U&&Object.defineProperty(T,y,U),U},b=this&&this.__param||function(N,T){return function(y,w){T(y,w,N)}};Object.defineProperty(p,"__esModule",{value:!0}),p.OscLinkProvider=void 0;const s=x(511),F=x(2585);let O=p.OscLinkProvider=class{constructor(N,T,y){this._bufferService=N,this._optionsService=T,this._oscLinkService=y}provideLinks(N,T){var y;const w=this._bufferService.buffer.lines.get(N-1);if(!w)return void T(void 0);const k=[],V=this._optionsService.rawOptions.linkHandler,U=new s.CellData,oe=w.getTrimmedLength();let K=-1,H=-1,D=!1;for(let P=0;P<oe;P++)if(-1!==H||w.hasContent(P)){if(w.loadCell(P,U),U.hasExtendedAttrs()&&U.extended.urlId){if(-1===H){H=P,K=U.extended.urlId;continue}D=U.extended.urlId!==K}else-1!==H&&(D=!0);if(D||-1!==H&&P===oe-1){const Y=null===(y=this._oscLinkService.getLinkData(K))||void 0===y?void 0:y.uri;if(Y){const re={start:{x:H+1,y:N},end:{x:P+(D||P!==oe-1?0:1),y:N}};let j=!1;if(null==V||!V.allowNonHttpProtocols)try{const G=new URL(Y);["http:","https:"].includes(G.protocol)||(j=!0)}catch(G){j=!0}j||k.push({text:Y,range:re,activate:(G,ie)=>V?V.activate(G,ie,re):Q(0,ie),hover:(G,ie)=>{var Te;return null===(Te=null==V?void 0:V.hover)||void 0===Te?void 0:Te.call(V,G,ie,re)},leave:(G,ie)=>{var Te;return null===(Te=null==V?void 0:V.leave)||void 0===Te?void 0:Te.call(V,G,ie,re)}})}D=!1,U.hasExtendedAttrs()&&U.extended.urlId?(H=P,K=U.extended.urlId):(H=-1,K=-1)}}T(k)}};function Q(N,T){if(confirm(`Do you want to navigate to ${T}?\n\nWARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch(w){}y.location.href=T}else console.warn("Opening link blocked as opener could not be cleared")}}p.OscLinkProvider=O=R([b(0,F.IBufferService),b(1,F.IOptionsService),b(2,F.IOscLinkService)],O)},6193:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.RenderDebouncer=void 0,p.RenderDebouncer=class{constructor(x,R){this._parentWindow=x,this._renderCallback=R,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(x){return this._refreshCallbacks.push(x),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(x,R,b){this._rowCount=b,x=void 0!==x?x:0,R=void 0!==R?R:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,x):x,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,R):R,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const x=Math.max(this._rowStart,0),R=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(x,R),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const x of this._refreshCallbacks)x(0);this._refreshCallbacks=[]}}},5596:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ScreenDprMonitor=void 0;const R=x(844);p.ScreenDprMonitor=class b extends R.Disposable{constructor(F){super(),this._parentWindow=F,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,R.toDisposable)(()=>{this.clearListener()}))}setListener(F){this._listener&&this.clearListener(),this._listener=F,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var F;this._outerListener&&(null===(F=this._resolutionMediaMatchList)||void 0===F||F.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const R=x(3614),b=x(3656),s=x(6465),F=x(9042),O=x(3730),Q=x(1680),N=x(3107),T=x(5744),y=x(2950),w=x(1296),k=x(428),V=x(4269),U=x(5114),oe=x(8934),K=x(3230),H=x(9312),D=x(4725),P=x(6731),Y=x(8055),re=x(8969),j=x(8460),G=x(844),ie=x(6114),Te=x(8437),Me=x(2584),de=x(7399),te=x(5941),ce=x(9074),J=x(2585),ve=x(5435),be=x(4567),Be="undefined"!=typeof window?window.document:null;p.Terminal=class we extends re.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(X={}){super(X),this.browser=ie,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new G.MutableDisposable),this._onCursorMove=this.register(new j.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new j.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new j.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new j.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new j.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new j.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new j.EventEmitter),this._onBlur=this.register(new j.EventEmitter),this._onA11yCharEmitter=this.register(new j.EventEmitter),this._onA11yTabEmitter=this.register(new j.EventEmitter),this._onWillOpen=this.register(new j.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(s.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(O.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(ce.DecorationService),this._instantiationService.setService(J.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((q,pe)=>this.refresh(q,pe))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(q=>this._reportWindowsOptions(q))),this.register(this._inputHandler.onColor(q=>this._handleColorEvent(q))),this.register((0,j.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,j.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(q=>this._afterResize(q.cols,q.rows))),this.register((0,G.toDisposable)(()=>{var q,pe;this._customKeyEventHandler=void 0,null===(pe=null===(q=this.element)||void 0===q?void 0:q.parentNode)||void 0===pe||pe.removeChild(this.element)}))}_handleColorEvent(X){if(this._themeService)for(const q of X){let pe,_e="";switch(q.index){case 256:pe="foreground",_e="10";break;case 257:pe="background",_e="11";break;case 258:pe="cursor",_e="12";break;default:pe="ansi",_e="4;"+q.index}switch(q.type){case 0:const Xe=Y.color.toColorRGB("ansi"===pe?this._themeService.colors.ansi[q.index]:this._themeService.colors[pe]);this.coreService.triggerDataEvent(`${Me.C0.ESC}]${_e};${(0,te.toRgbString)(Xe)}${Me.C1_ESCAPED.ST}`);break;case 1:if("ansi"===pe)this._themeService.modifyColors(ct=>ct.ansi[q.index]=Y.rgba.toColor(...q.color));else{const ct=pe;this._themeService.modifyColors(ot=>ot[ct]=Y.rgba.toColor(...q.color))}break;case 2:this._themeService.restoreColor(q.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){X?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(be.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Me.C0.ESC+"[I"),this.updateCursorStyle(X),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var X;return null===(X=this.textarea)||void 0===X?void 0:X.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Me.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const q=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!q)return;const pe=Math.min(this.buffer.x,this.cols-1),_e=this._renderService.dimensions.css.cell.height,Xe=q.getWidth(pe),ct=this._renderService.dimensions.css.cell.width*Xe,ot=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=pe*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=ot+"px",this.textarea.style.width=ct+"px",this.textarea.style.height=_e+"px",this.textarea.style.lineHeight=_e+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,b.addDisposableDomListener)(this.element,"copy",q=>{this.hasSelection()&&(0,R.copyHandler)(q,this._selectionService)}));const X=q=>(0,R.handlePasteEvent)(q,this.textarea,this.coreService,this.optionsService);this.register((0,b.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,b.addDisposableDomListener)(this.element,"paste",X)),this.register(ie.isFirefox?(0,b.addDisposableDomListener)(this.element,"mousedown",q=>{2===q.button&&(0,R.rightClickHandler)(q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,b.addDisposableDomListener)(this.element,"contextmenu",q=>{(0,R.rightClickHandler)(q,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),ie.isLinux&&this.register((0,b.addDisposableDomListener)(this.element,"auxclick",q=>{1===q.button&&(0,R.moveTextAreaUnderMouseCursor)(q,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,b.addDisposableDomListener)(this.textarea,"keyup",X=>this._keyUp(X),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keydown",X=>this._keyDown(X),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keypress",X=>this._keyPress(X),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionupdate",X=>this._compositionHelper.compositionupdate(X))),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,b.addDisposableDomListener)(this.textarea,"input",X=>this._inputEvent(X),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(X){var q;if(!X)throw new Error("Terminal requires a parent element.");X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=X.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const pe=Be.createDocumentFragment();this._viewportElement=Be.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),pe.appendChild(this._viewportElement),this._viewportScrollArea=Be.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Be.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Be.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),pe.appendChild(this.screenElement),this.textarea=Be.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",F.promptLabel),ie.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(U.CoreBrowserService,this.textarea,null!==(q=this._document.defaultView)&&void 0!==q?q:window),this._instantiationService.setService(D.ICoreBrowserService,this._coreBrowserService),this.register((0,b.addDisposableDomListener)(this.textarea,"focus",_e=>this._handleTextAreaFocus(_e))),this.register((0,b.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(D.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(P.ThemeService),this._instantiationService.setService(D.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(V.CharacterJoinerService),this._instantiationService.setService(D.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(K.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(D.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(_e=>this._onRender.fire(_e))),this.onResize(_e=>this._renderService.resize(_e.cols,_e.rows)),this._compositionView=Be.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(pe);try{this._onWillOpen.fire(this.element)}catch(_e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(oe.MouseService),this._instantiationService.setService(D.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(Q.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(_e=>this.scrollLines(_e.amount,_e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(H.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(D.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(_e=>this.scrollLines(_e.amount,_e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(_e=>this._renderService.handleSelectionChanged(_e.start,_e.end,_e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(_e=>{this.textarea.value=_e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(_e=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,b.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(N.BufferDecorationRenderer,this.screenElement)),this.register((0,b.addDisposableDomListener)(this.element,"mousedown",_e=>this._selectionService.handleMouseDown(_e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(be.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",_e=>this._handleScreenReaderModeOptionChange(_e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(T.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",_e=>{!this._overviewRulerRenderer&&_e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(T.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(w.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const X=this,q=this.element;function pe(ct){const ot=X._mouseService.getMouseReportCoords(ct,X.screenElement);if(!ot)return!1;let Zt,Dt;switch(ct.overrideType||ct.type){case"mousemove":Dt=32,void 0===ct.buttons?(Zt=3,void 0!==ct.button&&(Zt=ct.button<3?ct.button:3)):Zt=1&ct.buttons?0:4&ct.buttons?1:2&ct.buttons?2:3;break;case"mouseup":Dt=0,Zt=ct.button<3?ct.button:3;break;case"mousedown":Dt=1,Zt=ct.button<3?ct.button:3;break;case"wheel":if(0===X.viewport.getLinesScrolled(ct))return!1;Dt=ct.deltaY<0?0:1,Zt=4;break;default:return!1}return!(void 0===Dt||void 0===Zt||Zt>4)&&X.coreMouseService.triggerMouseEvent({col:ot.col,row:ot.row,x:ot.x,y:ot.y,button:Zt,action:Dt,ctrl:ct.ctrlKey,alt:ct.altKey,shift:ct.shiftKey})}const _e={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Xe={mouseup:ct=>(pe(ct),ct.buttons||(this._document.removeEventListener("mouseup",_e.mouseup),_e.mousedrag&&this._document.removeEventListener("mousemove",_e.mousedrag)),this.cancel(ct)),wheel:ct=>(pe(ct),this.cancel(ct,!0)),mousedrag:ct=>{ct.buttons&&pe(ct)},mousemove:ct=>{ct.buttons||pe(ct)}};this.register(this.coreMouseService.onProtocolChange(ct=>{ct?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ct)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ct?_e.mousemove||(q.addEventListener("mousemove",Xe.mousemove),_e.mousemove=Xe.mousemove):(q.removeEventListener("mousemove",_e.mousemove),_e.mousemove=null),16&ct?_e.wheel||(q.addEventListener("wheel",Xe.wheel,{passive:!1}),_e.wheel=Xe.wheel):(q.removeEventListener("wheel",_e.wheel),_e.wheel=null),2&ct?_e.mouseup||(q.addEventListener("mouseup",Xe.mouseup),_e.mouseup=Xe.mouseup):(this._document.removeEventListener("mouseup",_e.mouseup),q.removeEventListener("mouseup",_e.mouseup),_e.mouseup=null),4&ct?_e.mousedrag||(_e.mousedrag=Xe.mousedrag):(this._document.removeEventListener("mousemove",_e.mousedrag),_e.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,b.addDisposableDomListener)(q,"mousedown",ct=>{if(ct.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ct))return pe(ct),_e.mouseup&&this._document.addEventListener("mouseup",_e.mouseup),_e.mousedrag&&this._document.addEventListener("mousemove",_e.mousedrag),this.cancel(ct)})),this.register((0,b.addDisposableDomListener)(q,"wheel",ct=>{if(!_e.wheel){if(!this.buffer.hasScrollback){const ot=this.viewport.getLinesScrolled(ct);if(0===ot)return;const Zt=Me.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ct.deltaY<0?"A":"B");let Dt="";for(let Cn=0;Cn<Math.abs(ot);Cn++)Dt+=Zt;return this.coreService.triggerDataEvent(Dt,!0),this.cancel(ct,!0)}return this.viewport.handleWheel(ct)?this.cancel(ct):void 0}},{passive:!1})),this.register((0,b.addDisposableDomListener)(q,"touchstart",ct=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ct),this.cancel(ct)},{passive:!0})),this.register((0,b.addDisposableDomListener)(q,"touchmove",ct=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ct)?void 0:this.cancel(ct)},{passive:!1}))}refresh(X,q){var pe;null===(pe=this._renderService)||void 0===pe||pe.refreshRows(X,q)}updateCursorStyle(X){var q;null!==(q=this._selectionService)&&void 0!==q&&q.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,q,pe=0){var _e;1===pe?(super.scrollLines(X,q,pe),this.refresh(0,this.rows-1)):null===(_e=this.viewport)||void 0===_e||_e.scrollLines(X)}paste(X){(0,R.paste)(X,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}registerLinkProvider(X){return this.linkifier2.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const q=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),q}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,q,pe){this._selectionService.setSelection(X,q,pe)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var X;null===(X=this._selectionService)||void 0===X||X.clearSelection()}selectAll(){var X;null===(X=this._selectionService)||void 0===X||X.selectAll()}selectLines(X,q){var pe;null===(pe=this._selectionService)||void 0===pe||pe.selectLines(X,q)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(X))return!1;const q=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!q&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;q||"Dead"!==X.key&&"AltGraph"!==X.key||(this._unprocessedDeadKey=!0);const pe=(0,de.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),3===pe.type||2===pe.type){const _e=this.rows-1;return this.scrollLines(2===pe.type?-_e:_e),this.cancel(X,!0)}return 1===pe.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(pe.cancel&&this.cancel(X,!0),!pe.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&1===X.key.length&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(pe.key!==Me.C0.ETX&&pe.key!==Me.C0.CR||(this.textarea.value=""),this._onKey.fire({key:pe.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(pe.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,q){const pe=X.isMac&&!this.options.macOptionIsMeta&&q.altKey&&!q.ctrlKey&&!q.metaKey||X.isWindows&&q.altKey&&q.ctrlKey&&!q.metaKey||X.isWindows&&q.getModifierState("AltGraph");return"keypress"===q.type?pe:pe&&(!q.keyCode||q.keyCode>47)}_keyUp(X){var q;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(X)||(16===(q=X).keyCode||17===q.keyCode||18===q.keyCode||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(X))return!1;if(this.cancel(X),X.charCode)q=X.charCode;else if(null==X.which)q=X.keyCode;else{if(0===X.which||0===X.charCode)return!1;q=X.which}return!(!q||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(q=String.fromCharCode(q),this._onKey.fire({key:q,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){return!(!X.data||"insertText"!==X.inputType||X.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(X.data,!0),this.cancel(X),0))}resize(X,q){X!==this.cols||q!==this.rows?super.resize(X,q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,q){var pe,_e;null===(pe=this._charSizeService)||void 0===pe||pe.measure(),null===(_e=this.viewport)||void 0===_e||_e.syncScrollArea(!0)}clear(){var X;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let q=1;q<this.rows;q++)this.buffer.lines.push(this.buffer.getBlankLine(Te.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(X=this.viewport)||void 0===X||X.reset(),this.refresh(0,this.rows-1)}}reset(){var X,q;this.options.rows=this.rows,this.options.cols=this.cols;const pe=this._customKeyEventHandler;this._setup(),super.reset(),null===(X=this._selectionService)||void 0===X||X.reset(),this._decorationService.reset(),null===(q=this.viewport)||void 0===q||q.reset(),this._customKeyEventHandler=pe,this.refresh(0,this.rows-1)}clearTextureAtlas(){var X;null===(X=this._renderService)||void 0===X||X.clearTextureAtlas()}_reportFocus(){var X;null!==(X=this.element)&&void 0!==X&&X.classList.contains("focus")?this.coreService.triggerDataEvent(Me.C0.ESC+"[I"):this.coreService.triggerDataEvent(Me.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case ve.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const q=this._renderService.dimensions.css.canvas.width.toFixed(0),pe=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Me.C0.ESC}[4;${pe};${q}t`);break;case ve.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const _e=this._renderService.dimensions.css.cell.width.toFixed(0),Xe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Me.C0.ESC}[6;${Xe};${_e}t`)}}cancel(X,q){if(this.options.cancelEvents||q)return X.preventDefault(),X.stopPropagation(),!1}}},9924:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TimeBasedDebouncer=void 0,p.TimeBasedDebouncer=class{constructor(x,R=1e3){this._renderCallback=x,this._debounceThresholdMS=R,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(x,R,b){this._rowCount=b,x=void 0!==x?x:0,R=void 0!==R?R:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,x):x,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,R):R;const s=Date.now();if(s-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=s,this._innerRefresh();else if(!this._additionalRefreshRequested){const O=this._debounceThresholdMS-(s-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},O)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const x=Math.max(this._rowStart,0),R=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(x,R)}}},1680:function(u,p,x){var R=this&&this.__decorate||function(y,w,k,V){var U,oe=arguments.length,K=oe<3?w:null===V?V=Object.getOwnPropertyDescriptor(w,k):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(y,w,k,V);else for(var H=y.length-1;H>=0;H--)(U=y[H])&&(K=(oe<3?U(K):oe>3?U(w,k,K):U(w,k))||K);return oe>3&&K&&Object.defineProperty(w,k,K),K},b=this&&this.__param||function(y,w){return function(k,V){w(k,V,y)}};Object.defineProperty(p,"__esModule",{value:!0}),p.Viewport=void 0;const s=x(3656),F=x(4725),O=x(8460),Q=x(844),N=x(2585);let T=p.Viewport=class extends Q.Disposable{constructor(y,w,k,V,U,oe,K,H){super(),this._viewportElement=y,this._scrollArea=w,this._bufferService=k,this._optionsService=V,this._charSizeService=U,this._renderService=oe,this._coreBrowserService=K,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new O.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(D=>this._activeBuffer=D.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(D=>this._renderDimensions=D)),this._handleThemeChange(H.colors),this.register(H.onChangeColors(D=>this._handleThemeChange(D))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const w=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==w&&(this._lastRecordedBufferHeight=w,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const w=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:w,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,w){return!(w<0&&0!==this._viewportElement.scrollTop||w>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const w=this._getPixelsScrolled(y);return 0!==w&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+w:this._smoothScrollState.target+=w,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=w,this._bubbleScroll(y,w))}scrollLines(y){if(0!==y)if(this._optionsService.rawOptions.smoothScrollDuration){const w=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+w,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(0===y.deltaY||y.shiftKey)return 0;let w=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?w*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(w*=this._currentRowHeight*this._bufferService.rows),w}getBufferElements(y,w){var k;let V,U="";const oe=[],K=null!=w?w:this._bufferService.buffer.lines.length,H=this._bufferService.buffer.lines;for(let D=y;D<K;D++){const P=H.get(D);if(!P)continue;const Y=null===(k=H.get(D+1))||void 0===k?void 0:k.isWrapped;if(U+=P.translateToString(!Y),!Y||D===H.length-1){const re=document.createElement("div");re.textContent=U,oe.push(re),U.length>0&&(V=re),U=""}}return{bufferElements:oe,cursorElement:V}}getLinesScrolled(y){if(0===y.deltaY||y.shiftKey)return 0;let w=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(w/=this._currentRowHeight+0,this._wheelPartialScroll+=w,w=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(w*=this._bufferService.rows),w}_applyScrollModifier(y,w){const k=this._optionsService.rawOptions.fastScrollModifier;return"alt"===k&&w.altKey||"ctrl"===k&&w.ctrlKey||"shift"===k&&w.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const w=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,0!==w&&(this._viewportElement.scrollTop+=w,this._bubbleScroll(y,w))}};p.Viewport=T=R([b(2,N.IBufferService),b(3,N.IOptionsService),b(4,F.ICharSizeService),b(5,F.IRenderService),b(6,F.ICoreBrowserService),b(7,F.IThemeService)],T)},3107:function(u,p,x){var R=this&&this.__decorate||function(T,y,w,k){var V,U=arguments.length,oe=U<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(T,y,w,k);else for(var K=T.length-1;K>=0;K--)(V=T[K])&&(oe=(U<3?V(oe):U>3?V(y,w,oe):V(y,w))||oe);return U>3&&oe&&Object.defineProperty(y,w,oe),oe},b=this&&this.__param||function(T,y){return function(w,k){y(w,k,T)}};Object.defineProperty(p,"__esModule",{value:!0}),p.BufferDecorationRenderer=void 0;const s=x(3656),F=x(4725),O=x(844),Q=x(2585);let N=p.BufferDecorationRenderer=class extends O.Disposable{constructor(T,y,w,k){super(),this._screenElement=T,this._bufferService=y,this._decorationService=w,this._renderService=k,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,s.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(V=>this._removeDecoration(V))),this.register((0,O.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const T of this._decorationService.decorations)this._renderDecoration(T);this._dimensionsChanged=!1}_renderDecoration(T){this._refreshStyle(T),this._dimensionsChanged&&this._refreshXPosition(T)}_createElement(T){var y,w;const k=document.createElement("div");k.classList.add("xterm-decoration"),k.classList.toggle("xterm-decoration-top-layer","top"===(null===(y=null==T?void 0:T.options)||void 0===y?void 0:y.layer)),k.style.width=`${Math.round((T.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,k.style.height=(T.options.height||1)*this._renderService.dimensions.css.cell.height+"px",k.style.top=(T.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",k.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const V=null!==(w=T.options.x)&&void 0!==w?w:0;return V&&V>this._bufferService.cols&&(k.style.display="none"),this._refreshXPosition(T,k),k}_refreshStyle(T){const y=T.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)T.element&&(T.element.style.display="none",T.onRenderEmitter.fire(T.element));else{let w=this._decorationElements.get(T);w||(w=this._createElement(T),T.element=w,this._decorationElements.set(T,w),this._container.appendChild(w),T.onDispose(()=>{this._decorationElements.delete(T),w.remove()})),w.style.top=y*this._renderService.dimensions.css.cell.height+"px",w.style.display=this._altBufferIsActive?"none":"block",T.onRenderEmitter.fire(w)}}_refreshXPosition(T,y=T.element){var w;if(!y)return;const k=null!==(w=T.options.x)&&void 0!==w?w:0;"right"===(T.options.anchor||"left")?y.style.right=k?k*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=k?k*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(T){var y;null===(y=this._decorationElements.get(T))||void 0===y||y.remove(),this._decorationElements.delete(T),T.dispose()}};p.BufferDecorationRenderer=N=R([b(1,Q.IBufferService),b(2,Q.IDecorationService),b(3,F.IRenderService)],N)},5871:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ColorZoneStore=void 0,p.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(x){if(x.options.overviewRulerOptions){for(const R of this._zones)if(R.color===x.options.overviewRulerOptions.color&&R.position===x.options.overviewRulerOptions.position){if(this._lineIntersectsZone(R,x.marker.line))return;if(this._lineAdjacentToZone(R,x.marker.line,x.options.overviewRulerOptions.position))return void this._addLineToZone(R,x.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=x.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=x.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=x.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=x.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:x.options.overviewRulerOptions.color,position:x.options.overviewRulerOptions.position,startBufferLine:x.marker.line,endBufferLine:x.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(x){this._linePadding=x}_lineIntersectsZone(x,R){return R>=x.startBufferLine&&R<=x.endBufferLine}_lineAdjacentToZone(x,R,b){return R>=x.startBufferLine-this._linePadding[b||"full"]&&R<=x.endBufferLine+this._linePadding[b||"full"]}_addLineToZone(x,R){x.startBufferLine=Math.min(x.startBufferLine,R),x.endBufferLine=Math.max(x.endBufferLine,R)}}},5744:function(u,p,x){var R=this&&this.__decorate||function(V,U,oe,K){var H,D=arguments.length,P=D<3?U:null===K?K=Object.getOwnPropertyDescriptor(U,oe):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(V,U,oe,K);else for(var Y=V.length-1;Y>=0;Y--)(H=V[Y])&&(P=(D<3?H(P):D>3?H(U,oe,P):H(U,oe))||P);return D>3&&P&&Object.defineProperty(U,oe,P),P},b=this&&this.__param||function(V,U){return function(oe,K){U(oe,K,V)}};Object.defineProperty(p,"__esModule",{value:!0}),p.OverviewRulerRenderer=void 0;const s=x(5871),F=x(3656),O=x(4725),Q=x(844),N=x(2585),T={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},w={full:0,left:0,center:0,right:0};let k=p.OverviewRulerRenderer=class extends Q.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(V,U,oe,K,H,D,P){var Y;super(),this._viewportElement=V,this._screenElement=U,this._bufferService=oe,this._decorationService=K,this._renderService=H,this._optionsService=D,this._coreBrowseService=P,this._colorZoneStore=new s.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(Y=this._viewportElement.parentElement)||void 0===Y||Y.insertBefore(this._canvas,this._viewportElement);const re=this._canvas.getContext("2d");if(!re)throw new Error("Ctx cannot be null");this._ctx=re,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,Q.toDisposable)(()=>{var j;null===(j=this._canvas)||void 0===j||j.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,F.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const V=Math.floor(this._canvas.width/3),U=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=V,y.center=U,y.right=V,this._refreshDrawHeightConstants(),w.full=0,w.left=0,w.center=y.left,w.right=y.left+y.center}_refreshDrawHeightConstants(){T.full=Math.round(2*this._coreBrowseService.dpr);const U=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);T.left=U,T.center=U,T.right=U}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const U of this._decorationService.decorations)this._colorZoneStore.addDecoration(U);this._ctx.lineWidth=1;const V=this._colorZoneStore.zones;for(const U of V)"full"!==U.position&&this._renderColorZone(U);for(const U of V)"full"===U.position&&this._renderColorZone(U);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(V){this._ctx.fillStyle=V.color,this._ctx.fillRect(w[V.position||"full"],Math.round(V.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-T[V.position||"full"]/2),y[V.position||"full"],Math.round((V.endBufferLine-V.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+T[V.position||"full"]))}_queueRefresh(V,U){this._shouldUpdateDimensions=V||this._shouldUpdateDimensions,this._shouldUpdateAnchor=U||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};p.OverviewRulerRenderer=k=R([b(2,N.IBufferService),b(3,N.IDecorationService),b(4,O.IRenderService),b(5,N.IOptionsService),b(6,O.ICoreBrowserService)],k)},2950:function(u,p,x){var R=this&&this.__decorate||function(N,T,y,w){var k,V=arguments.length,U=V<3?T:null===w?w=Object.getOwnPropertyDescriptor(T,y):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(N,T,y,w);else for(var oe=N.length-1;oe>=0;oe--)(k=N[oe])&&(U=(V<3?k(U):V>3?k(T,y,U):k(T,y))||U);return V>3&&U&&Object.defineProperty(T,y,U),U},b=this&&this.__param||function(N,T){return function(y,w){T(y,w,N)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CompositionHelper=void 0;const s=x(4725),F=x(2585),O=x(2584);let Q=p.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(N,T,y,w,k,V){this._textarea=N,this._compositionView=T,this._bufferService=y,this._optionsService=w,this._coreService=k,this._renderService=V,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(N){this._compositionView.textContent=N.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(N){if(this._isComposing||this._isSendingComposition){if(229===N.keyCode||16===N.keyCode||17===N.keyCode||18===N.keyCode)return!1;this._finalizeComposition(!1)}return 229!==N.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(N){if(this._compositionView.classList.remove("active"),this._isComposing=!1,N){const T={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,T.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(T.start,T.end):this._textarea.value.substring(T.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const T=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(T,!0)}}_handleAnyTextareaChanges(){const N=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const T=this._textarea.value,y=T.replace(N,"");this._dataAlreadySent=y,T.length>N.length?this._coreService.triggerDataEvent(y,!0):T.length<N.length?this._coreService.triggerDataEvent(`${O.C0.DEL}`,!0):T.length===N.length&&T!==N&&this._coreService.triggerDataEvent(T,!0)}},0)}updateCompositionElements(N){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const T=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,w=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,k=T*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=k+"px",this._compositionView.style.top=w+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const V=this._compositionView.getBoundingClientRect();this._textarea.style.left=k+"px",this._textarea.style.top=w+"px",this._textarea.style.width=Math.max(V.width,1)+"px",this._textarea.style.height=Math.max(V.height,1)+"px",this._textarea.style.lineHeight=V.height+"px"}N||setTimeout(()=>this.updateCompositionElements(!0),0)}}};p.CompositionHelper=Q=R([b(2,F.IBufferService),b(3,F.IOptionsService),b(4,F.ICoreService),b(5,s.IRenderService)],Q)},9806:(u,p)=>{function x(R,b,s){const F=s.getBoundingClientRect(),O=R.getComputedStyle(s),Q=parseInt(O.getPropertyValue("padding-left")),N=parseInt(O.getPropertyValue("padding-top"));return[b.clientX-F.left-Q,b.clientY-F.top-N]}Object.defineProperty(p,"__esModule",{value:!0}),p.getCoords=p.getCoordsRelativeToElement=void 0,p.getCoordsRelativeToElement=x,p.getCoords=function(R,b,s,F,O,Q,N,T,y){if(!Q)return;const w=x(R,b,s);return w?(w[0]=Math.ceil((w[0]+(y?N/2:0))/N),w[1]=Math.ceil(w[1]/T),w[0]=Math.min(Math.max(w[0],1),F+(y?1:0)),w[1]=Math.min(Math.max(w[1],1),O),w):void 0}},9504:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.moveToCellSequence=void 0;const R=x(2584);function b(T,y,w,k){const V=T-s(T,w),U=y-s(y,w);return N(Math.abs(V-U)-function(K,H,D){let P=0;const Y=K-s(K,D),re=H-s(H,D);for(let j=0;j<Math.abs(Y-re);j++){const G="A"===F(K,H)?-1:1,ie=D.buffer.lines.get(Y+G*j);null!=ie&&ie.isWrapped&&P++}return P}(T,y,w),Q(F(T,y),k))}function s(T,y){let w=0,k=y.buffer.lines.get(T),V=null==k?void 0:k.isWrapped;for(;V&&T>=0&&T<y.rows;)w++,k=y.buffer.lines.get(--T),V=null==k?void 0:k.isWrapped;return w}function F(T,y){return T>y?"A":"B"}function O(T,y,w,k,V,U){let oe=T,K=y,H="";for(;oe!==w||K!==k;)oe+=V?1:-1,V&&oe>U.cols-1?(H+=U.buffer.translateBufferLineToString(K,!1,T,oe),oe=0,T=0,K++):!V&&oe<0&&(H+=U.buffer.translateBufferLineToString(K,!1,0,T+1),oe=U.cols-1,T=oe,K--);return H+U.buffer.translateBufferLineToString(K,!1,T,oe)}function Q(T,y){return R.C0.ESC+(y?"O":"[")+T}function N(T,y){T=Math.floor(T);let w="";for(let k=0;k<T;k++)w+=y;return w}p.moveToCellSequence=function(T,y,w,k){const V=w.buffer.x,U=w.buffer.y;if(!w.buffer.hasScrollback)return H=V,(0===b(D=U,y,re=w,j=k).length?"":N(O(H,D,H,D-s(D,re),!1,re).length,Q("D",j)))+b(U,y,w,k)+function(H,D,P,Y,re,j){let G;G=b(D,Y,re,j).length>0?Y-s(Y,re):D;const ie=Y,Te=function(Me,de,te,ce,J,ve){let be;return be=b(te,ce,J,ve).length>0?ce-s(ce,J):de,Me<te&&be<=ce||Me>=te&&be<ce?"C":"D"}(H,D,P,Y,re,j);return N(O(H,G,P,ie,"C"===Te,re).length,Q(Te,j))}(V,U,T,y,w,k);var H,D,re,j;let oe;if(U===y)return oe=V>T?"D":"C",N(Math.abs(V-T),Q(oe,k));oe=U>y?"D":"C";const K=Math.abs(U-y);return N(function(H,D){return D.cols-H}(U>y?T:V,w)+(K-1)*w.cols+1+((U>y?V:T)-1),Q(oe,k))}},1296:function(u,p,x){var R=this&&this.__decorate||function(re,j,G,ie){var Te,Me=arguments.length,de=Me<3?j:null===ie?ie=Object.getOwnPropertyDescriptor(j,G):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(re,j,G,ie);else for(var te=re.length-1;te>=0;te--)(Te=re[te])&&(de=(Me<3?Te(de):Me>3?Te(j,G,de):Te(j,G))||de);return Me>3&&de&&Object.defineProperty(j,G,de),de},b=this&&this.__param||function(re,j){return function(G,ie){j(G,ie,re)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DomRenderer=void 0;const s=x(3787),F=x(2550),O=x(2223),Q=x(6171),N=x(4725),T=x(8055),y=x(8460),w=x(844),k=x(2585),V="xterm-dom-renderer-owner-",U="xterm-rows",oe="xterm-fg-",K="xterm-bg-",H="xterm-focus",D="xterm-selection";let P=1,Y=p.DomRenderer=class extends w.Disposable{constructor(re,j,G,ie,Te,Me,de,te,ce,J){super(),this._element=re,this._screenElement=j,this._viewportElement=G,this._linkifier2=ie,this._charSizeService=Me,this._optionsService=de,this._bufferService=te,this._coreBrowserService=ce,this._themeService=J,this._terminalClass=P++,this._rowElements=[],this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(U),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(D),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,Q.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ve=>this._injectCss(ve))),this._injectCss(this._themeService.colors),this._rowFactory=Te.createInstance(s.DomRendererRowFactory,document),this._element.classList.add(V+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ve=>this._handleLinkHover(ve))),this.register(this._linkifier2.onHideLinkUnderline(ve=>this._handleLinkLeave(ve))),this.register((0,w.toDisposable)(()=>{this._element.classList.remove(V+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new F.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const re=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*re,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*re),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/re),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/re),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const G of this._rowElements)G.style.width=`${this.dimensions.css.canvas.width}px`,G.style.height=`${this.dimensions.css.cell.height}px`,G.style.lineHeight=`${this.dimensions.css.cell.height}px`,G.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${U} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(re){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let j=`${this._terminalSelector} .${U} { color: ${re.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;j+=`${this._terminalSelector} .${U} .xterm-dim { color: ${T.color.multiplyOpacity(re.foreground,.5).css};}`,j+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,j+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",j+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${re.cursor.css};  color: ${re.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${re.cursor.css}; }}`,j+=`${this._terminalSelector} .${U}.${H} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${U}.${H} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-block { background-color: ${re.cursor.css}; color: ${re.cursorAccent.css};}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${re.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${re.cursor.css} inset;}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${re.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,j+=`${this._terminalSelector} .${D} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${D} div { position: absolute; background-color: ${re.selectionBackgroundOpaque.css};}${this._terminalSelector} .${D} div { position: absolute; background-color: ${re.selectionInactiveBackgroundOpaque.css};}`;for(const[G,ie]of re.ansi.entries())j+=`${this._terminalSelector} .${oe}${G} { color: ${ie.css}; }${this._terminalSelector} .${oe}${G}.xterm-dim { color: ${T.color.multiplyOpacity(ie,.5).css}; }${this._terminalSelector} .${K}${G} { background-color: ${ie.css}; }`;j+=`${this._terminalSelector} .${oe}${O.INVERTED_DEFAULT_COLOR} { color: ${T.color.opaque(re.background).css}; }${this._terminalSelector} .${oe}${O.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${T.color.multiplyOpacity(T.color.opaque(re.background),.5).css}; }${this._terminalSelector} .${K}${O.INVERTED_DEFAULT_COLOR} { background-color: ${re.foreground.css}; }`,this._themeStyleElement.textContent=j}_setDefaultSpacing(){const re=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${re}px`,this._rowFactory.defaultSpacing=re}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(re,j){for(let G=this._rowElements.length;G<=j;G++){const ie=document.createElement("div");this._rowContainer.appendChild(ie),this._rowElements.push(ie)}for(;this._rowElements.length>j;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(re,j){this._refreshRowElements(re,j),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(H)}handleFocus(){this._rowContainer.classList.add(H),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(re,j,G){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(re,j,G),this.renderRows(0,this._bufferService.rows-1),!re||!j)return;const ie=re[1]-this._bufferService.buffer.ydisp,Te=j[1]-this._bufferService.buffer.ydisp,Me=Math.max(ie,0),de=Math.min(Te,this._bufferService.rows-1);if(Me>=this._bufferService.rows||de<0)return;const te=document.createDocumentFragment();if(G){const ce=re[0]>j[0];te.appendChild(this._createSelectionElement(Me,ce?j[0]:re[0],ce?re[0]:j[0],de-Me+1))}else te.appendChild(this._createSelectionElement(Me,ie===Me?re[0]:0,Me===Te?j[0]:this._bufferService.cols)),te.appendChild(this._createSelectionElement(Me+1,0,this._bufferService.cols,de-Me-1)),Me!==de&&te.appendChild(this._createSelectionElement(de,0,Te===de?j[0]:this._bufferService.cols));this._selectionContainer.appendChild(te)}_createSelectionElement(re,j,G,ie=1){const Te=document.createElement("div");return Te.style.height=ie*this.dimensions.css.cell.height+"px",Te.style.top=re*this.dimensions.css.cell.height+"px",Te.style.left=j*this.dimensions.css.cell.width+"px",Te.style.width=this.dimensions.css.cell.width*(G-j)+"px",Te}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const re of this._rowElements)re.replaceChildren()}renderRows(re,j){const G=this._bufferService.buffer,ie=G.ybase+G.y,Te=Math.min(G.x,this._bufferService.cols-1),Me=this._optionsService.rawOptions.cursorBlink,de=this._optionsService.rawOptions.cursorStyle,te=this._optionsService.rawOptions.cursorInactiveStyle;for(let ce=re;ce<=j;ce++){const J=ce+G.ydisp,ve=this._rowElements[ce],be=G.lines.get(J);if(!ve||!be)break;ve.replaceChildren(...this._rowFactory.createRow(be,J,J===ie,de,te,Te,Me,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${V}${this._terminalClass}`}_handleLinkHover(re){this._setCellUnderline(re.x1,re.x2,re.y1,re.y2,re.cols,!0)}_handleLinkLeave(re){this._setCellUnderline(re.x1,re.x2,re.y1,re.y2,re.cols,!1)}_setCellUnderline(re,j,G,ie,Te,Me){G<0&&(re=0),ie<0&&(j=0);const de=this._bufferService.rows-1;G=Math.max(Math.min(G,de),0),ie=Math.max(Math.min(ie,de),0),Te=Math.min(Te,this._bufferService.cols);const te=this._bufferService.buffer,ce=te.ybase+te.y,J=Math.min(te.x,Te-1),ve=this._optionsService.rawOptions.cursorBlink,be=this._optionsService.rawOptions.cursorStyle,Be=this._optionsService.rawOptions.cursorInactiveStyle;for(let we=G;we<=ie;++we){const ke=we+te.ydisp,X=this._rowElements[we],q=te.lines.get(ke);if(!X||!q)break;X.replaceChildren(...this._rowFactory.createRow(q,ke,ke===ce,be,Be,J,ve,this.dimensions.css.cell.width,this._widthCache,Me?we===G?re:0:-1,Me?(we===ie?j:Te)-1:-1))}}};p.DomRenderer=Y=R([b(4,k.IInstantiationService),b(5,N.ICharSizeService),b(6,k.IOptionsService),b(7,k.IBufferService),b(8,N.ICoreBrowserService),b(9,N.IThemeService)],Y)},3787:function(u,p,x){var R=this&&this.__decorate||function(oe,K,H,D){var P,Y=arguments.length,re=Y<3?K:null===D?D=Object.getOwnPropertyDescriptor(K,H):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(oe,K,H,D);else for(var j=oe.length-1;j>=0;j--)(P=oe[j])&&(re=(Y<3?P(re):Y>3?P(K,H,re):P(K,H))||re);return Y>3&&re&&Object.defineProperty(K,H,re),re},b=this&&this.__param||function(oe,K){return function(H,D){K(H,D,oe)}};Object.defineProperty(p,"__esModule",{value:!0}),p.DomRendererRowFactory=void 0;const s=x(2223),F=x(643),O=x(511),Q=x(2585),N=x(8055),T=x(4725),y=x(4269),w=x(6171),k=x(3734);let V=p.DomRendererRowFactory=class{constructor(oe,K,H,D,P,Y,re){this._document=oe,this._characterJoinerService=K,this._optionsService=H,this._coreBrowserService=D,this._coreService=P,this._decorationService=Y,this._themeService=re,this._workCell=new O.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(oe,K,H){this._selectionStart=oe,this._selectionEnd=K,this._columnSelectMode=H}createRow(oe,K,H,D,P,Y,re,j,G,ie,Te){const Me=[],de=this._characterJoinerService.getJoinedCharacters(K),te=this._themeService.colors;let ce,J=oe.getNoBgTrimmedLength();H&&J<Y+1&&(J=Y+1);let ve=0,be="",Be=0,we=0,ke=0,X=!1,q=0,pe=!1,_e=0;const Xe=[],ct=-1!==ie&&-1!==Te;for(let ot=0;ot<J;ot++){oe.loadCell(ot,this._workCell);let Zt=this._workCell.getWidth();if(0===Zt)continue;let Dt=!1,Cn=ot,Xt=this._workCell;if(de.length>0&&ot===de[0][0]){Dt=!0;const ee=de.shift();Xt=new y.JoinedCellData(this._workCell,oe.translateToString(!0,ee[0],ee[1]),ee[1]-ee[0]),Cn=ee[1]-1,Zt=Xt.getWidth()}const jt=this._isCellInSelection(ot,K),ht=H&&ot===Y,ut=ct&&ot>=ie&&ot<=Te;let xe=!1;this._decorationService.forEachDecorationAtCell(ot,K,void 0,ee=>{xe=!0});let De=Xt.getChars()||F.WHITESPACE_CELL_CHAR;if(" "===De&&(Xt.isUnderline()||Xt.isOverline())&&(De="\xa0"),_e=Zt*j-G.get(De,Xt.isBold(),Xt.isItalic()),ce){if(ve&&(jt&&pe||!jt&&!pe&&Xt.bg===Be)&&(jt&&pe&&te.selectionForeground||Xt.fg===we)&&Xt.extended.ext===ke&&ut===X&&_e===q&&!ht&&!Dt&&!xe){be+=De,ve++;continue}ve&&(ce.textContent=be),ce=this._document.createElement("span"),ve=0,be=""}else ce=this._document.createElement("span");if(Be=Xt.bg,we=Xt.fg,ke=Xt.extended.ext,X=ut,q=_e,pe=jt,Dt&&Y>=ot&&Y<=Cn&&(Y=ot),!this._coreService.isCursorHidden&&ht)if(Xe.push("xterm-cursor"),this._coreBrowserService.isFocused)re&&Xe.push("xterm-cursor-blink"),Xe.push("bar"===D?"xterm-cursor-bar":"underline"===D?"xterm-cursor-underline":"xterm-cursor-block");else if(P)switch(P){case"outline":Xe.push("xterm-cursor-outline");break;case"block":Xe.push("xterm-cursor-block");break;case"bar":Xe.push("xterm-cursor-bar");break;case"underline":Xe.push("xterm-cursor-underline")}if(Xt.isBold()&&Xe.push("xterm-bold"),Xt.isItalic()&&Xe.push("xterm-italic"),Xt.isDim()&&Xe.push("xterm-dim"),be=Xt.isInvisible()?F.WHITESPACE_CELL_CHAR:Xt.getChars()||F.WHITESPACE_CELL_CHAR,Xt.isUnderline()&&(Xe.push(`xterm-underline-${Xt.extended.underlineStyle}`)," "===be&&(be="\xa0"),!Xt.isUnderlineColorDefault()))if(Xt.isUnderlineColorRGB())ce.style.textDecorationColor=`rgb(${k.AttributeData.toColorRGB(Xt.getUnderlineColor()).join(",")})`;else{let ee=Xt.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Xt.isBold()&&ee<8&&(ee+=8),ce.style.textDecorationColor=te.ansi[ee].css}Xt.isOverline()&&(Xe.push("xterm-overline")," "===be&&(be="\xa0")),Xt.isStrikethrough()&&Xe.push("xterm-strikethrough"),ut&&(ce.style.textDecoration="underline");let We=Xt.getFgColor(),gt=Xt.getFgColorMode(),Tt=Xt.getBgColor(),Ft=Xt.getBgColorMode();const Ot=!!Xt.isInverse();if(Ot){const ee=We;We=Tt,Tt=ee;const Ze=gt;gt=Ft,Ft=Ze}let Oe,et,Ne,yt=!1;switch(this._decorationService.forEachDecorationAtCell(ot,K,void 0,ee=>{"top"!==ee.options.layer&&yt||(ee.backgroundColorRGB&&(Ft=50331648,Tt=ee.backgroundColorRGB.rgba>>8&16777215,Oe=ee.backgroundColorRGB),ee.foregroundColorRGB&&(gt=50331648,We=ee.foregroundColorRGB.rgba>>8&16777215,et=ee.foregroundColorRGB),yt="top"===ee.options.layer)}),!yt&&jt&&(Oe=this._coreBrowserService.isFocused?te.selectionBackgroundOpaque:te.selectionInactiveBackgroundOpaque,Tt=Oe.rgba>>8&16777215,Ft=50331648,yt=!0,te.selectionForeground&&(gt=50331648,We=te.selectionForeground.rgba>>8&16777215,et=te.selectionForeground)),yt&&Xe.push("xterm-decoration-top"),Ft){case 16777216:case 33554432:Ne=te.ansi[Tt],Xe.push(`xterm-bg-${Tt}`);break;case 50331648:Ne=N.rgba.toColor(Tt>>16,Tt>>8&255,255&Tt),this._addStyle(ce,`background-color:#${U((Tt>>>0).toString(16),"0",6)}`);break;default:Ot?(Ne=te.foreground,Xe.push(`xterm-bg-${s.INVERTED_DEFAULT_COLOR}`)):Ne=te.background}switch(Oe||Xt.isDim()&&(Oe=N.color.multiplyOpacity(Ne,.5)),gt){case 16777216:case 33554432:Xt.isBold()&&We<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(We+=8),this._applyMinimumContrast(ce,Ne,te.ansi[We],Xt,Oe,void 0)||Xe.push(`xterm-fg-${We}`);break;case 50331648:const ee=N.rgba.toColor(We>>16&255,We>>8&255,255&We);this._applyMinimumContrast(ce,Ne,ee,Xt,Oe,et)||this._addStyle(ce,`color:#${U(We.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ce,Ne,te.foreground,Xt,Oe,void 0)||Ot&&Xe.push(`xterm-fg-${s.INVERTED_DEFAULT_COLOR}`)}Xe.length&&(ce.className=Xe.join(" "),Xe.length=0),ht||Dt||xe?ce.textContent=be:ve++,_e!==this.defaultSpacing&&(ce.style.letterSpacing=`${_e}px`),Me.push(ce),ot=Cn}return ce&&ve&&(ce.textContent=be),Me}_applyMinimumContrast(oe,K,H,D,P,Y){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,w.excludeFromContrastRatioDemands)(D.getCode()))return!1;const re=this._getContrastCache(D);let j;if(P||Y||(j=re.getColor(K.rgba,H.rgba)),void 0===j){const G=this._optionsService.rawOptions.minimumContrastRatio/(D.isDim()?2:1);j=N.color.ensureContrastRatio(P||K,Y||H,G),re.setColor((P||K).rgba,(Y||H).rgba,null!=j?j:null)}return!!j&&(this._addStyle(oe,`color:${j.css}`),!0)}_getContrastCache(oe){return oe.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(oe,K){oe.setAttribute("style",`${oe.getAttribute("style")||""}${K};`)}_isCellInSelection(oe,K){const H=this._selectionStart,D=this._selectionEnd;return!(!H||!D)&&(this._columnSelectMode?H[0]<=D[0]?oe>=H[0]&&K>=H[1]&&oe<D[0]&&K<=D[1]:oe<H[0]&&K>=H[1]&&oe>=D[0]&&K<=D[1]:K>H[1]&&K<D[1]||H[1]===D[1]&&K===H[1]&&oe>=H[0]&&oe<D[0]||H[1]<D[1]&&K===D[1]&&oe<D[0]||H[1]<D[1]&&K===H[1]&&oe>=H[0])}};function U(oe,K,H){for(;oe.length<H;)oe=K+oe;return oe}p.DomRendererRowFactory=V=R([b(1,T.ICharacterJoinerService),b(2,Q.IOptionsService),b(3,T.ICoreBrowserService),b(4,Q.ICoreService),b(5,Q.IDecorationService),b(6,T.IThemeService)],V)},2550:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WidthCache=void 0,p.WidthCache=class{constructor(x){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=x.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const R=x.createElement("span"),b=x.createElement("span");b.style.fontWeight="bold";const s=x.createElement("span");s.style.fontStyle="italic";const F=x.createElement("span");F.style.fontWeight="bold",F.style.fontStyle="italic",this._measureElements=[R,b,s,F],this._container.appendChild(R),this._container.appendChild(b),this._container.appendChild(s),this._container.appendChild(F),x.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(x,R,b,s){x===this._font&&R===this._fontSize&&b===this._weight&&s===this._weightBold||(this._font=x,this._fontSize=R,this._weight=b,this._weightBold=s,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${b}`,this._measureElements[1].style.fontWeight=`${s}`,this._measureElements[2].style.fontWeight=`${b}`,this._measureElements[3].style.fontWeight=`${s}`,this.clear())}get(x,R,b){let s=0;if(!R&&!b&&1===x.length&&(s=x.charCodeAt(0))<256)return-9999!==this._flat[s]?this._flat[s]:this._flat[s]=this._measure(x,0);let F=x;R&&(F+="B"),b&&(F+="I");let O=this._holey.get(F);if(void 0===O){let Q=0;R&&(Q|=1),b&&(Q|=2),O=this._measure(x,Q),this._holey.set(F,O)}return O}_measure(x,R){const b=this._measureElements[R];return b.textContent=x.repeat(32),b.offsetWidth/32}}},2223:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TEXT_BASELINE=p.DIM_OPACITY=p.INVERTED_DEFAULT_COLOR=void 0;const R=x(6114);p.INVERTED_DEFAULT_COLOR=257,p.DIM_OPACITY=.5,p.TEXT_BASELINE=R.isFirefox||R.isLegacyEdge?"bottom":"ideographic"},6171:(u,p)=>{function x(R){return 57508<=R&&R<=57558}Object.defineProperty(p,"__esModule",{value:!0}),p.createRenderDimensions=p.excludeFromContrastRatioDemands=p.isRestrictedPowerlineGlyph=p.isPowerlineGlyph=p.throwIfFalsy=void 0,p.throwIfFalsy=function(R){if(!R)throw new Error("value must not be falsy");return R},p.isPowerlineGlyph=x,p.isRestrictedPowerlineGlyph=function(R){return 57520<=R&&R<=57527},p.excludeFromContrastRatioDemands=function(R){return x(R)||9472<=(b=R)&&b<=9631;var b},p.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionModel=void 0,p.SelectionModel=class{constructor(x){this._bufferService=x,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const x=this.selectionStart[0]+this.selectionStartLength;return x>this._bufferService.cols?x%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(x/this._bufferService.cols)-1]:[x%this._bufferService.cols,this.selectionStart[1]+Math.floor(x/this._bufferService.cols)]:[x,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const x=this.selectionStart[0]+this.selectionStartLength;return x>this._bufferService.cols?[x%this._bufferService.cols,this.selectionStart[1]+Math.floor(x/this._bufferService.cols)]:[Math.max(x,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const x=this.selectionStart,R=this.selectionEnd;return!(!x||!R)&&(x[1]>R[1]||x[1]===R[1]&&x[0]>R[0])}handleTrim(x){return this.selectionStart&&(this.selectionStart[1]-=x),this.selectionEnd&&(this.selectionEnd[1]-=x),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,p,x){var R=this&&this.__decorate||function(T,y,w,k){var V,U=arguments.length,oe=U<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(T,y,w,k);else for(var K=T.length-1;K>=0;K--)(V=T[K])&&(oe=(U<3?V(oe):U>3?V(y,w,oe):V(y,w))||oe);return U>3&&oe&&Object.defineProperty(y,w,oe),oe},b=this&&this.__param||function(T,y){return function(w,k){y(w,k,T)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CharSizeService=void 0;const s=x(2585),F=x(8460),O=x(844);let Q=p.CharSizeService=class extends O.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(T,y,w){super(),this._optionsService=w,this.width=0,this.height=0,this._onCharSizeChange=this.register(new F.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new N(T,y,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const T=this._measureStrategy.measure();T.width===this.width&&T.height===this.height||(this.width=T.width,this.height=T.height,this._onCharSizeChange.fire())}};p.CharSizeService=Q=R([b(2,s.IOptionsService)],Q);class N{constructor(y,w,k){this._document=y,this._parentElement=w,this._optionsService=k,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const y={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==y.width&&0!==y.height&&(this._result.width=y.width/32,this._result.height=Math.ceil(y.height)),this._result}}},4269:function(u,p,x){var R=this&&this.__decorate||function(y,w,k,V){var U,oe=arguments.length,K=oe<3?w:null===V?V=Object.getOwnPropertyDescriptor(w,k):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(y,w,k,V);else for(var H=y.length-1;H>=0;H--)(U=y[H])&&(K=(oe<3?U(K):oe>3?U(w,k,K):U(w,k))||K);return oe>3&&K&&Object.defineProperty(w,k,K),K},b=this&&this.__param||function(y,w){return function(k,V){w(k,V,y)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CharacterJoinerService=p.JoinedCellData=void 0;const s=x(3734),F=x(643),O=x(511),Q=x(2585);p.JoinedCellData=class N extends s.AttributeData{constructor(w,k,V){super(),this.content=0,this.combinedData="",this.fg=w.fg,this.bg=w.bg,this.combinedData=k,this._width=V}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(w){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let T=p.CharacterJoinerService=class UA{constructor(w){this._bufferService=w,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new O.CellData}register(w){const k={id:this._nextCharacterJoinerId++,handler:w};return this._characterJoiners.push(k),k.id}deregister(w){for(let k=0;k<this._characterJoiners.length;k++)if(this._characterJoiners[k].id===w)return this._characterJoiners.splice(k,1),!0;return!1}getJoinedCharacters(w){if(0===this._characterJoiners.length)return[];const k=this._bufferService.buffer.lines.get(w);if(!k||0===k.length)return[];const V=[],U=k.translateToString(!0);let oe=0,K=0,H=0,D=k.getFg(0),P=k.getBg(0);for(let Y=0;Y<k.getTrimmedLength();Y++)if(k.loadCell(Y,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==D||this._workCell.bg!==P){if(Y-oe>1){const re=this._getJoinedRanges(U,H,K,k,oe);for(let j=0;j<re.length;j++)V.push(re[j])}oe=Y,H=K,D=this._workCell.fg,P=this._workCell.bg}K+=this._workCell.getChars().length||F.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-oe>1){const Y=this._getJoinedRanges(U,H,K,k,oe);for(let re=0;re<Y.length;re++)V.push(Y[re])}return V}_getJoinedRanges(w,k,V,U,oe){const K=w.substring(k,V);let H=[];try{H=this._characterJoiners[0].handler(K)}catch(D){console.error(D)}for(let D=1;D<this._characterJoiners.length;D++)try{const P=this._characterJoiners[D].handler(K);for(let Y=0;Y<P.length;Y++)UA._mergeRanges(H,P[Y])}catch(P){console.error(P)}return this._stringRangesToCellRanges(H,U,oe),H}_stringRangesToCellRanges(w,k,V){let U=0,oe=!1,K=0,H=w[U];if(H){for(let D=V;D<this._bufferService.cols;D++){const P=k.getWidth(D),Y=k.getString(D).length||F.WHITESPACE_CELL_CHAR.length;if(0!==P){if(!oe&&H[0]<=K&&(H[0]=D,oe=!0),H[1]<=K){if(H[1]=D,H=w[++U],!H)break;H[0]<=K?(H[0]=D,oe=!0):oe=!1}K+=Y}}H&&(H[1]=this._bufferService.cols)}}static _mergeRanges(w,k){let V=!1;for(let U=0;U<w.length;U++){const oe=w[U];if(V){if(k[1]<=oe[0])return w[U-1][1]=k[1],w;if(k[1]<=oe[1])return w[U-1][1]=Math.max(k[1],oe[1]),w.splice(U,1),w;w.splice(U,1),U--}else{if(k[1]<=oe[0])return w.splice(U,0,k),w;if(k[1]<=oe[1])return oe[0]=Math.min(k[0],oe[0]),w;k[0]<oe[1]&&(oe[0]=Math.min(k[0],oe[0]),V=!0)}}return V?w[w.length-1][1]=k[1]:w.push(k),w}};p.CharacterJoinerService=T=R([b(0,Q.IBufferService)],T)},5114:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CoreBrowserService=void 0,p.CoreBrowserService=class{constructor(x,R){this._textarea=x,this.window=R,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(u,p,x){var R=this&&this.__decorate||function(Q,N,T,y){var w,k=arguments.length,V=k<3?N:null===y?y=Object.getOwnPropertyDescriptor(N,T):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(Q,N,T,y);else for(var U=Q.length-1;U>=0;U--)(w=Q[U])&&(V=(k<3?w(V):k>3?w(N,T,V):w(N,T))||V);return k>3&&V&&Object.defineProperty(N,T,V),V},b=this&&this.__param||function(Q,N){return function(T,y){N(T,y,Q)}};Object.defineProperty(p,"__esModule",{value:!0}),p.MouseService=void 0;const s=x(4725),F=x(9806);let O=p.MouseService=class{constructor(Q,N){this._renderService=Q,this._charSizeService=N}getCoords(Q,N,T,y,w){return(0,F.getCoords)(window,Q,N,T,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,w)}getMouseReportCoords(Q,N){const T=(0,F.getCoordsRelativeToElement)(window,Q,N);if(this._charSizeService.hasValidSize)return T[0]=Math.min(Math.max(T[0],0),this._renderService.dimensions.css.canvas.width-1),T[1]=Math.min(Math.max(T[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(T[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(T[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(T[0]),y:Math.floor(T[1])}}};p.MouseService=O=R([b(0,s.IRenderService),b(1,s.ICharSizeService)],O)},3230:function(u,p,x){var R=this&&this.__decorate||function(V,U,oe,K){var H,D=arguments.length,P=D<3?U:null===K?K=Object.getOwnPropertyDescriptor(U,oe):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(V,U,oe,K);else for(var Y=V.length-1;Y>=0;Y--)(H=V[Y])&&(P=(D<3?H(P):D>3?H(U,oe,P):H(U,oe))||P);return D>3&&P&&Object.defineProperty(U,oe,P),P},b=this&&this.__param||function(V,U){return function(oe,K){U(oe,K,V)}};Object.defineProperty(p,"__esModule",{value:!0}),p.RenderService=void 0;const s=x(3656),F=x(6193),O=x(5596),Q=x(4725),N=x(8460),T=x(844),y=x(7226),w=x(2585);let k=p.RenderService=class extends T.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(V,U,oe,K,H,D,P,Y){if(super(),this._rowCount=V,this._charSizeService=K,this._renderer=this.register(new T.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new N.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new N.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new N.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new N.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new F.RenderDebouncer(P.window,(re,j)=>this._renderRows(re,j)),this.register(this._renderDebouncer),this._screenDprMonitor=new O.ScreenDprMonitor(P.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(D.onResize(()=>this._fullRefresh())),this.register(D.buffers.onBufferActivate(()=>{var re;return null===(re=this._renderer.value)||void 0===re?void 0:re.clear()})),this.register(oe.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(H.onDecorationRegistered(()=>this._fullRefresh())),this.register(H.onDecorationRemoved(()=>this._fullRefresh())),this.register(oe.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(D.cols,D.rows),this._fullRefresh()})),this.register(oe.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(D.buffer.y,D.buffer.y,!0))),this.register((0,s.addDisposableDomListener)(P.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(Y.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in P.window){const re=new P.window.IntersectionObserver(j=>this._handleIntersectionChange(j[j.length-1]),{threshold:0});re.observe(U),this.register({dispose:()=>re.disconnect()})}}_handleIntersectionChange(V){this._isPaused=void 0===V.isIntersecting?0===V.intersectionRatio:!V.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(V,U,oe=!1){this._isPaused?this._needsFullRefresh=!0:(oe||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(V,U,this._rowCount))}_renderRows(V,U){this._renderer.value&&(V=Math.min(V,this._rowCount-1),U=Math.min(U,this._rowCount-1),this._renderer.value.renderRows(V,U),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:V,end:U}),this._onRender.fire({start:V,end:U}),this._isNextRenderRedrawOnly=!0)}resize(V,U){this._rowCount=U,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(V){this._renderer.value=V,this._renderer.value.onRequestRedraw(U=>this.refreshRows(U.start,U.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(V){return this._renderDebouncer.addRefreshCallback(V)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var V,U;this._renderer.value&&(null===(U=(V=this._renderer.value).clearTextureAtlas)||void 0===U||U.call(V),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(V,U){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(V,U)):this._renderer.value.handleResize(V,U),this._fullRefresh())}handleCharSizeChanged(){var V;null===(V=this._renderer.value)||void 0===V||V.handleCharSizeChanged()}handleBlur(){var V;null===(V=this._renderer.value)||void 0===V||V.handleBlur()}handleFocus(){var V;null===(V=this._renderer.value)||void 0===V||V.handleFocus()}handleSelectionChanged(V,U,oe){var K;this._selectionState.start=V,this._selectionState.end=U,this._selectionState.columnSelectMode=oe,null===(K=this._renderer.value)||void 0===K||K.handleSelectionChanged(V,U,oe)}handleCursorMove(){var V;null===(V=this._renderer.value)||void 0===V||V.handleCursorMove()}clear(){var V;null===(V=this._renderer.value)||void 0===V||V.clear()}};p.RenderService=k=R([b(2,w.IOptionsService),b(3,Q.ICharSizeService),b(4,w.IDecorationService),b(5,w.IBufferService),b(6,Q.ICoreBrowserService),b(7,Q.IThemeService)],k)},9312:function(u,p,x){var R=this&&this.__decorate||function(H,D,P,Y){var re,j=arguments.length,G=j<3?D:null===Y?Y=Object.getOwnPropertyDescriptor(D,P):Y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(H,D,P,Y);else for(var ie=H.length-1;ie>=0;ie--)(re=H[ie])&&(G=(j<3?re(G):j>3?re(D,P,G):re(D,P))||G);return j>3&&G&&Object.defineProperty(D,P,G),G},b=this&&this.__param||function(H,D){return function(P,Y){D(P,Y,H)}};Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionService=void 0;const s=x(9806),F=x(9504),O=x(456),Q=x(4725),N=x(8460),T=x(844),y=x(6114),w=x(4841),k=x(511),V=x(2585),U=String.fromCharCode(160),oe=new RegExp(U,"g");let K=p.SelectionService=class extends T.Disposable{constructor(H,D,P,Y,re,j,G,ie,Te){super(),this._element=H,this._screenElement=D,this._linkifier=P,this._bufferService=Y,this._coreService=re,this._mouseService=j,this._optionsService=G,this._renderService=ie,this._coreBrowserService=Te,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new k.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new N.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new N.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new N.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new N.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Me=>this._handleMouseMove(Me),this._mouseUpListener=Me=>this._handleMouseUp(Me),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Me=>this._handleTrim(Me)),this.register(this._bufferService.buffers.onBufferActivate(Me=>this._handleBufferActivate(Me))),this.enable(),this._model=new O.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,T.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const H=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!H||!D||H[0]===D[0]&&H[1]===D[1])}get selectionText(){const H=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;if(!H||!D)return"";const P=this._bufferService.buffer,Y=[];if(3===this._activeSelectionMode){if(H[0]===D[0])return"";const re=H[0]<D[0]?H[0]:D[0],j=H[0]<D[0]?D[0]:H[0];for(let G=H[1];G<=D[1];G++){const ie=P.translateBufferLineToString(G,!0,re,j);Y.push(ie)}}else{Y.push(P.translateBufferLineToString(H[1],!0,H[0],H[1]===D[1]?D[0]:void 0));for(let j=H[1]+1;j<=D[1]-1;j++){const G=P.lines.get(j),ie=P.translateBufferLineToString(j,!0);null!=G&&G.isWrapped?Y[Y.length-1]+=ie:Y.push(ie)}if(H[1]!==D[1]){const j=P.lines.get(D[1]),G=P.translateBufferLineToString(D[1],!0,0,D[0]);j&&j.isWrapped?Y[Y.length-1]+=G:Y.push(G)}}return Y.map(re=>re.replace(oe," ")).join(y.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(H){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&H&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(H){const D=this._getMouseBufferCoords(H),P=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!!(P&&Y&&D)&&this._areCoordsInSelection(D,P,Y)}isCellInSelection(H,D){const P=this._model.finalSelectionStart,Y=this._model.finalSelectionEnd;return!(!P||!Y)&&this._areCoordsInSelection([H,D],P,Y)}_areCoordsInSelection(H,D,P){return H[1]>D[1]&&H[1]<P[1]||D[1]===P[1]&&H[1]===D[1]&&H[0]>=D[0]&&H[0]<P[0]||D[1]<P[1]&&H[1]===P[1]&&H[0]<P[0]||D[1]<P[1]&&H[1]===D[1]&&H[0]>=D[0]}_selectWordAtCursor(H,D){var P,Y;const re=null===(Y=null===(P=this._linkifier.currentLink)||void 0===P?void 0:P.link)||void 0===Y?void 0:Y.range;if(re)return this._model.selectionStart=[re.start.x-1,re.start.y-1],this._model.selectionStartLength=(0,w.getRangeLength)(re,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const j=this._getMouseBufferCoords(H);return!!j&&(this._selectWordAt(j,D),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(H,D){this._model.clearSelection(),H=Math.max(H,0),D=Math.min(D,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,H],this._model.selectionEnd=[this._bufferService.cols,D],this.refresh(),this._onSelectionChange.fire()}_handleTrim(H){this._model.handleTrim(H)&&this.refresh()}_getMouseBufferCoords(H){const D=this._mouseService.getCoords(H,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(D)return D[0]--,D[1]--,D[1]+=this._bufferService.buffer.ydisp,D}_getMouseEventScrollAmount(H){let D=(0,s.getCoordsRelativeToElement)(this._coreBrowserService.window,H,this._screenElement)[1];const P=this._renderService.dimensions.css.canvas.height;return D>=0&&D<=P?0:(D>P&&(D-=P),D=Math.min(Math.max(D,-50),50),D/=50,D/Math.abs(D)+Math.round(14*D))}shouldForceSelection(H){return y.isMac?H.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:H.shiftKey}handleMouseDown(H){if(this._mouseDownTimeStamp=H.timeStamp,(2!==H.button||!this.hasSelection)&&0===H.button){if(!this._enabled){if(!this.shouldForceSelection(H))return;H.stopPropagation()}H.preventDefault(),this._dragScrollAmount=0,this._enabled&&H.shiftKey?this._handleIncrementalClick(H):1===H.detail?this._handleSingleClick(H):2===H.detail?this._handleDoubleClick(H):3===H.detail&&this._handleTripleClick(H),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(H){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(H))}_handleSingleClick(H){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(H)?3:0,this._model.selectionStart=this._getMouseBufferCoords(H),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const D=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);D&&D.length!==this._model.selectionStart[0]&&0===D.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(H){this._selectWordAtCursor(H,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(H){const D=this._getMouseBufferCoords(H);D&&(this._activeSelectionMode=2,this._selectLineAt(D[1]))}shouldColumnSelect(H){return H.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(H){if(H.stopImmediatePropagation(),!this._model.selectionStart)return;const D=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(H),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(H),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const P=this._bufferService.buffer;if(this._model.selectionEnd[1]<P.lines.length){const Y=P.lines.get(this._model.selectionEnd[1]);Y&&0===Y.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}D&&D[0]===this._model.selectionEnd[0]&&D[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const H=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(H.ydisp+this._bufferService.rows,H.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=H.ydisp),this.refresh()}}_handleMouseUp(H){const D=H.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&D<500&&H.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const P=this._mouseService.getCoords(H,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(P&&void 0!==P[0]&&void 0!==P[1]){const Y=(0,F.moveToCellSequence)(P[0]-1,P[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(Y,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const H=this._model.finalSelectionStart,D=this._model.finalSelectionEnd,P=!(!H||!D||H[0]===D[0]&&H[1]===D[1]);P?H&&D&&(this._oldSelectionStart&&this._oldSelectionEnd&&H[0]===this._oldSelectionStart[0]&&H[1]===this._oldSelectionStart[1]&&D[0]===this._oldSelectionEnd[0]&&D[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(H,D,P)):this._oldHasSelection&&this._fireOnSelectionChange(H,D,P)}_fireOnSelectionChange(H,D,P){this._oldSelectionStart=H,this._oldSelectionEnd=D,this._oldHasSelection=P,this._onSelectionChange.fire()}_handleBufferActivate(H){this.clearSelection(),this._trimListener.dispose(),this._trimListener=H.activeBuffer.lines.onTrim(D=>this._handleTrim(D))}_convertViewportColToCharacterIndex(H,D){let P=D;for(let Y=0;D>=Y;Y++){const re=H.loadCell(Y,this._workCell).getChars().length;0===this._workCell.getWidth()?P--:re>1&&D!==Y&&(P+=re-1)}return P}setSelection(H,D,P){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[H,D],this._model.selectionStartLength=P,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(H){this._isClickInSelection(H)||(this._selectWordAtCursor(H,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(H,D,P=!0,Y=!0){if(H[0]>=this._bufferService.cols)return;const re=this._bufferService.buffer,j=re.lines.get(H[1]);if(!j)return;const G=re.translateBufferLineToString(H[1],!1);let ie=this._convertViewportColToCharacterIndex(j,H[0]),Te=ie;const Me=H[0]-ie;let de=0,te=0,ce=0,J=0;if(" "===G.charAt(ie)){for(;ie>0&&" "===G.charAt(ie-1);)ie--;for(;Te<G.length&&" "===G.charAt(Te+1);)Te++}else{let Be=H[0],we=H[0];0===j.getWidth(Be)&&(de++,Be--),2===j.getWidth(we)&&(te++,we++);const ke=j.getString(we).length;for(ke>1&&(J+=ke-1,Te+=ke-1);Be>0&&ie>0&&!this._isCharWordSeparator(j.loadCell(Be-1,this._workCell));){j.loadCell(Be-1,this._workCell);const X=this._workCell.getChars().length;0===this._workCell.getWidth()?(de++,Be--):X>1&&(ce+=X-1,ie-=X-1),ie--,Be--}for(;we<j.length&&Te+1<G.length&&!this._isCharWordSeparator(j.loadCell(we+1,this._workCell));){j.loadCell(we+1,this._workCell);const X=this._workCell.getChars().length;2===this._workCell.getWidth()?(te++,we++):X>1&&(J+=X-1,Te+=X-1),Te++,we++}}Te++;let ve=ie+Me-de+ce,be=Math.min(this._bufferService.cols,Te-ie+de+te-ce-J);if(D||""!==G.slice(ie,Te).trim()){if(P&&0===ve&&32!==j.getCodePoint(0)){const Be=re.lines.get(H[1]-1);if(Be&&j.isWrapped&&32!==Be.getCodePoint(this._bufferService.cols-1)){const we=this._getWordAt([this._bufferService.cols-1,H[1]-1],!1,!0,!1);if(we){const ke=this._bufferService.cols-we.start;ve-=ke,be+=ke}}}if(Y&&ve+be===this._bufferService.cols&&32!==j.getCodePoint(this._bufferService.cols-1)){const Be=re.lines.get(H[1]+1);if((null==Be?void 0:Be.isWrapped)&&32!==Be.getCodePoint(0)){const we=this._getWordAt([0,H[1]+1],!1,!1,!0);we&&(be+=we.length)}}return{start:ve,length:be}}}_selectWordAt(H,D){const P=this._getWordAt(H,D);if(P){for(;P.start<0;)P.start+=this._bufferService.cols,H[1]--;this._model.selectionStart=[P.start,H[1]],this._model.selectionStartLength=P.length}}_selectToWordAt(H){const D=this._getWordAt(H,!0);if(D){let P=H[1];for(;D.start<0;)D.start+=this._bufferService.cols,P--;if(!this._model.areSelectionValuesReversed())for(;D.start+D.length>this._bufferService.cols;)D.length-=this._bufferService.cols,P++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?D.start:D.start+D.length,P]}}_isCharWordSeparator(H){return 0!==H.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(H.getChars())>=0}_selectLineAt(H){const D=this._bufferService.buffer.getWrappedRangeForLine(H),P={start:{x:0,y:D.first},end:{x:this._bufferService.cols-1,y:D.last}};this._model.selectionStart=[0,D.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,w.getRangeLength)(P,this._bufferService.cols)}};p.SelectionService=K=R([b(3,V.IBufferService),b(4,V.ICoreService),b(5,Q.IMouseService),b(6,V.IOptionsService),b(7,Q.IRenderService),b(8,Q.ICoreBrowserService)],K)},4725:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.IThemeService=p.ICharacterJoinerService=p.ISelectionService=p.IRenderService=p.IMouseService=p.ICoreBrowserService=p.ICharSizeService=void 0;const R=x(8343);p.ICharSizeService=(0,R.createDecorator)("CharSizeService"),p.ICoreBrowserService=(0,R.createDecorator)("CoreBrowserService"),p.IMouseService=(0,R.createDecorator)("MouseService"),p.IRenderService=(0,R.createDecorator)("RenderService"),p.ISelectionService=(0,R.createDecorator)("SelectionService"),p.ICharacterJoinerService=(0,R.createDecorator)("CharacterJoinerService"),p.IThemeService=(0,R.createDecorator)("ThemeService")},6731:function(u,p,x){var R=this&&this.__decorate||function(K,H,D,P){var Y,re=arguments.length,j=re<3?H:null===P?P=Object.getOwnPropertyDescriptor(H,D):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(K,H,D,P);else for(var G=K.length-1;G>=0;G--)(Y=K[G])&&(j=(re<3?Y(j):re>3?Y(H,D,j):Y(H,D))||j);return re>3&&j&&Object.defineProperty(H,D,j),j},b=this&&this.__param||function(K,H){return function(D,P){H(D,P,K)}};Object.defineProperty(p,"__esModule",{value:!0}),p.ThemeService=p.DEFAULT_ANSI_COLORS=void 0;const s=x(7239),F=x(8055),O=x(8460),Q=x(844),N=x(2585),T=F.css.toColor("#ffffff"),y=F.css.toColor("#000000"),w=F.css.toColor("#ffffff"),k=F.css.toColor("#000000"),V={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};p.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const K=[F.css.toColor("#2e3436"),F.css.toColor("#cc0000"),F.css.toColor("#4e9a06"),F.css.toColor("#c4a000"),F.css.toColor("#3465a4"),F.css.toColor("#75507b"),F.css.toColor("#06989a"),F.css.toColor("#d3d7cf"),F.css.toColor("#555753"),F.css.toColor("#ef2929"),F.css.toColor("#8ae234"),F.css.toColor("#fce94f"),F.css.toColor("#729fcf"),F.css.toColor("#ad7fa8"),F.css.toColor("#34e2e2"),F.css.toColor("#eeeeec")],H=[0,95,135,175,215,255];for(let D=0;D<216;D++){const P=H[D/36%6|0],Y=H[D/6%6|0],re=H[D%6];K.push({css:F.channels.toCss(P,Y,re),rgba:F.channels.toRgba(P,Y,re)})}for(let D=0;D<24;D++){const P=8+10*D;K.push({css:F.channels.toCss(P,P,P),rgba:F.channels.toRgba(P,P,P)})}return K})());let U=p.ThemeService=class extends Q.Disposable{get colors(){return this._colors}constructor(K){super(),this._optionsService=K,this._contrastCache=new s.ColorContrastCache,this._halfContrastCache=new s.ColorContrastCache,this._onChangeColors=this.register(new O.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:T,background:y,cursor:w,cursorAccent:k,selectionForeground:void 0,selectionBackgroundTransparent:V,selectionBackgroundOpaque:F.color.blend(y,V),selectionInactiveBackgroundTransparent:V,selectionInactiveBackgroundOpaque:F.color.blend(y,V),ansi:p.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(K={}){const H=this._colors;if(H.foreground=oe(K.foreground,T),H.background=oe(K.background,y),H.cursor=oe(K.cursor,w),H.cursorAccent=oe(K.cursorAccent,k),H.selectionBackgroundTransparent=oe(K.selectionBackground,V),H.selectionBackgroundOpaque=F.color.blend(H.background,H.selectionBackgroundTransparent),H.selectionInactiveBackgroundTransparent=oe(K.selectionInactiveBackground,H.selectionBackgroundTransparent),H.selectionInactiveBackgroundOpaque=F.color.blend(H.background,H.selectionInactiveBackgroundTransparent),H.selectionForeground=K.selectionForeground?oe(K.selectionForeground,F.NULL_COLOR):void 0,H.selectionForeground===F.NULL_COLOR&&(H.selectionForeground=void 0),F.color.isOpaque(H.selectionBackgroundTransparent)&&(H.selectionBackgroundTransparent=F.color.opacity(H.selectionBackgroundTransparent,.3)),F.color.isOpaque(H.selectionInactiveBackgroundTransparent)&&(H.selectionInactiveBackgroundTransparent=F.color.opacity(H.selectionInactiveBackgroundTransparent,.3)),H.ansi=p.DEFAULT_ANSI_COLORS.slice(),H.ansi[0]=oe(K.black,p.DEFAULT_ANSI_COLORS[0]),H.ansi[1]=oe(K.red,p.DEFAULT_ANSI_COLORS[1]),H.ansi[2]=oe(K.green,p.DEFAULT_ANSI_COLORS[2]),H.ansi[3]=oe(K.yellow,p.DEFAULT_ANSI_COLORS[3]),H.ansi[4]=oe(K.blue,p.DEFAULT_ANSI_COLORS[4]),H.ansi[5]=oe(K.magenta,p.DEFAULT_ANSI_COLORS[5]),H.ansi[6]=oe(K.cyan,p.DEFAULT_ANSI_COLORS[6]),H.ansi[7]=oe(K.white,p.DEFAULT_ANSI_COLORS[7]),H.ansi[8]=oe(K.brightBlack,p.DEFAULT_ANSI_COLORS[8]),H.ansi[9]=oe(K.brightRed,p.DEFAULT_ANSI_COLORS[9]),H.ansi[10]=oe(K.brightGreen,p.DEFAULT_ANSI_COLORS[10]),H.ansi[11]=oe(K.brightYellow,p.DEFAULT_ANSI_COLORS[11]),H.ansi[12]=oe(K.brightBlue,p.DEFAULT_ANSI_COLORS[12]),H.ansi[13]=oe(K.brightMagenta,p.DEFAULT_ANSI_COLORS[13]),H.ansi[14]=oe(K.brightCyan,p.DEFAULT_ANSI_COLORS[14]),H.ansi[15]=oe(K.brightWhite,p.DEFAULT_ANSI_COLORS[15]),K.extendedAnsi){const D=Math.min(H.ansi.length-16,K.extendedAnsi.length);for(let P=0;P<D;P++)H.ansi[P+16]=oe(K.extendedAnsi[P],p.DEFAULT_ANSI_COLORS[P+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(K){this._restoreColor(K),this._onChangeColors.fire(this.colors)}_restoreColor(K){if(void 0!==K)switch(K){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[K]=this._restoreColors.ansi[K]}else for(let H=0;H<this._restoreColors.ansi.length;++H)this._colors.ansi[H]=this._restoreColors.ansi[H]}modifyColors(K){K(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function oe(K,H){if(void 0!==K)try{return F.css.toColor(K)}catch(D){}return H}p.ThemeService=U=R([b(0,N.IOptionsService)],U)},6349:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CircularList=void 0;const R=x(8460),b=x(844);p.CircularList=class s extends b.Disposable{constructor(O){super(),this._maxLength=O,this.onDeleteEmitter=this.register(new R.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new R.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new R.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(O){if(this._maxLength===O)return;const Q=new Array(O);for(let N=0;N<Math.min(O,this.length);N++)Q[N]=this._array[this._getCyclicIndex(N)];this._array=Q,this._maxLength=O,this._startIndex=0}get length(){return this._length}set length(O){if(O>this._length)for(let Q=this._length;Q<O;Q++)this._array[Q]=void 0;this._length=O}get(O){return this._array[this._getCyclicIndex(O)]}set(O,Q){this._array[this._getCyclicIndex(O)]=Q}push(O){this._array[this._getCyclicIndex(this._length)]=O,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(O,Q,...N){if(Q){for(let T=O;T<this._length-Q;T++)this._array[this._getCyclicIndex(T)]=this._array[this._getCyclicIndex(T+Q)];this._length-=Q,this.onDeleteEmitter.fire({index:O,amount:Q})}for(let T=this._length-1;T>=O;T--)this._array[this._getCyclicIndex(T+N.length)]=this._array[this._getCyclicIndex(T)];for(let T=0;T<N.length;T++)this._array[this._getCyclicIndex(O+T)]=N[T];if(N.length&&this.onInsertEmitter.fire({index:O,amount:N.length}),this._length+N.length>this._maxLength){const T=this._length+N.length-this._maxLength;this._startIndex+=T,this._length=this._maxLength,this.onTrimEmitter.fire(T)}else this._length+=N.length}trimStart(O){O>this._length&&(O=this._length),this._startIndex+=O,this._length-=O,this.onTrimEmitter.fire(O)}shiftElements(O,Q,N){if(!(Q<=0)){if(O<0||O>=this._length)throw new Error("start argument out of range");if(O+N<0)throw new Error("Cannot shift elements in list beyond index 0");if(N>0){for(let y=Q-1;y>=0;y--)this.set(O+y+N,this.get(O+y));const T=O+Q+N-this._length;if(T>0)for(this._length+=T;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let T=0;T<Q;T++)this.set(O+T+N,this.get(O+T))}}_getCyclicIndex(O){return(this._startIndex+O)%this._maxLength}}},1439:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.clone=void 0,p.clone=function x(R,b=5){if("object"!=typeof R)return R;const s=Array.isArray(R)?[]:{};for(const F in R)s[F]=b<=1?R[F]:R[F]&&x(R[F],b-1);return s}},8055:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.contrastRatio=p.toPaddedHex=p.rgba=p.rgb=p.css=p.color=p.channels=p.NULL_COLOR=void 0;const R=x(6114);let b=0,s=0,F=0,O=0;var Q,N,T,y,w,U;function k(U){const oe=U.toString(16);return oe.length<2?"0"+oe:oe}function V(U,oe){return U<oe?(oe+.05)/(U+.05):(U+.05)/(oe+.05)}p.NULL_COLOR={css:"#00000000",rgba:0},(U=Q||(p.channels=Q={})).toCss=function(oe,K,H,D){return void 0!==D?`#${k(oe)}${k(K)}${k(H)}${k(D)}`:`#${k(oe)}${k(K)}${k(H)}`},U.toRgba=function(oe,K,H,D=255){return(oe<<24|K<<16|H<<8|D)>>>0},function(U){function oe(K,H){return O=Math.round(255*H),[b,s,F]=w.toChannels(K.rgba),{css:Q.toCss(b,s,F,O),rgba:Q.toRgba(b,s,F,O)}}U.blend=function(K,H){if(O=(255&H.rgba)/255,1===O)return{css:H.css,rgba:H.rgba};const P=H.rgba>>16&255,Y=H.rgba>>8&255,re=K.rgba>>24&255,j=K.rgba>>16&255,G=K.rgba>>8&255;return b=re+Math.round(((H.rgba>>24&255)-re)*O),s=j+Math.round((P-j)*O),F=G+Math.round((Y-G)*O),{css:Q.toCss(b,s,F),rgba:Q.toRgba(b,s,F)}},U.isOpaque=function(K){return 255==(255&K.rgba)},U.ensureContrastRatio=function(K,H,D){const P=w.ensureContrastRatio(K.rgba,H.rgba,D);if(P)return w.toColor(P>>24&255,P>>16&255,P>>8&255)},U.opaque=function(K){const H=(255|K.rgba)>>>0;return[b,s,F]=w.toChannels(H),{css:Q.toCss(b,s,F),rgba:H}},U.opacity=oe,U.multiplyOpacity=function(K,H){return O=255&K.rgba,oe(K,O*H/255)},U.toColorRGB=function(K){return[K.rgba>>24&255,K.rgba>>16&255,K.rgba>>8&255]}}(N||(p.color=N={})),function(U){let oe,K;if(!R.isNode){const H=document.createElement("canvas");H.width=1,H.height=1;const D=H.getContext("2d",{willReadFrequently:!0});D&&(oe=D,oe.globalCompositeOperation="copy",K=oe.createLinearGradient(0,0,1,1))}U.toColor=function(H){if(H.match(/#[\da-f]{3,8}/i))switch(H.length){case 4:return b=parseInt(H.slice(1,2).repeat(2),16),s=parseInt(H.slice(2,3).repeat(2),16),F=parseInt(H.slice(3,4).repeat(2),16),w.toColor(b,s,F);case 5:return b=parseInt(H.slice(1,2).repeat(2),16),s=parseInt(H.slice(2,3).repeat(2),16),F=parseInt(H.slice(3,4).repeat(2),16),O=parseInt(H.slice(4,5).repeat(2),16),w.toColor(b,s,F,O);case 7:return{css:H,rgba:(parseInt(H.slice(1),16)<<8|255)>>>0};case 9:return{css:H,rgba:parseInt(H.slice(1),16)>>>0}}const D=H.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(D)return b=parseInt(D[1]),s=parseInt(D[2]),F=parseInt(D[3]),O=Math.round(255*(void 0===D[5]?1:parseFloat(D[5]))),w.toColor(b,s,F,O);if(!oe||!K)throw new Error("css.toColor: Unsupported css format");if(oe.fillStyle=K,oe.fillStyle=H,"string"!=typeof oe.fillStyle)throw new Error("css.toColor: Unsupported css format");if(oe.fillRect(0,0,1,1),[b,s,F,O]=oe.getImageData(0,0,1,1).data,255!==O)throw new Error("css.toColor: Unsupported css format");return{rgba:Q.toRgba(b,s,F,O),css:H}}}(T||(p.css=T={})),function(U){function oe(K,H,D){const P=K/255,Y=H/255,re=D/255;return.2126*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))+.7152*(Y<=.03928?Y/12.92:Math.pow((Y+.055)/1.055,2.4))+.0722*(re<=.03928?re/12.92:Math.pow((re+.055)/1.055,2.4))}U.relativeLuminance=function(K){return oe(K>>16&255,K>>8&255,255&K)},U.relativeLuminance2=oe}(y||(p.rgb=y={})),function(U){function oe(H,D,P){const Y=H>>24&255,re=H>>16&255,j=H>>8&255;let G=D>>24&255,ie=D>>16&255,Te=D>>8&255,Me=V(y.relativeLuminance2(G,ie,Te),y.relativeLuminance2(Y,re,j));for(;Me<P&&(G>0||ie>0||Te>0);)G-=Math.max(0,Math.ceil(.1*G)),ie-=Math.max(0,Math.ceil(.1*ie)),Te-=Math.max(0,Math.ceil(.1*Te)),Me=V(y.relativeLuminance2(G,ie,Te),y.relativeLuminance2(Y,re,j));return(G<<24|ie<<16|Te<<8|255)>>>0}function K(H,D,P){const Y=H>>24&255,re=H>>16&255,j=H>>8&255;let G=D>>24&255,ie=D>>16&255,Te=D>>8&255,Me=V(y.relativeLuminance2(G,ie,Te),y.relativeLuminance2(Y,re,j));for(;Me<P&&(G<255||ie<255||Te<255);)G=Math.min(255,G+Math.ceil(.1*(255-G))),ie=Math.min(255,ie+Math.ceil(.1*(255-ie))),Te=Math.min(255,Te+Math.ceil(.1*(255-Te))),Me=V(y.relativeLuminance2(G,ie,Te),y.relativeLuminance2(Y,re,j));return(G<<24|ie<<16|Te<<8|255)>>>0}U.ensureContrastRatio=function(H,D,P){const Y=y.relativeLuminance(H>>8),re=y.relativeLuminance(D>>8);if(V(Y,re)<P){if(re<Y){const ie=oe(H,D,P),Te=V(Y,y.relativeLuminance(ie>>8));if(Te<P){const Me=K(H,D,P);return Te>V(Y,y.relativeLuminance(Me>>8))?ie:Me}return ie}const j=K(H,D,P),G=V(Y,y.relativeLuminance(j>>8));if(G<P){const ie=oe(H,D,P);return G>V(Y,y.relativeLuminance(ie>>8))?j:ie}return j}},U.reduceLuminance=oe,U.increaseLuminance=K,U.toChannels=function(H){return[H>>24&255,H>>16&255,H>>8&255,255&H]},U.toColor=function(H,D,P,Y){return{css:Q.toCss(H,D,P,Y),rgba:Q.toRgba(H,D,P,Y)}}}(w||(p.rgba=w={})),p.toPaddedHex=k,p.contrastRatio=V},8969:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CoreTerminal=void 0;const R=x(844),b=x(2585),s=x(4348),F=x(7866),O=x(744),Q=x(7302),N=x(6975),T=x(8460),y=x(1753),w=x(1480),k=x(7994),V=x(9282),U=x(5435),oe=x(5981),K=x(2660);let H=!1;p.CoreTerminal=class D extends R.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new T.EventEmitter),this._onScroll.event(Y=>{var re;null===(re=this._onScrollApi)||void 0===re||re.fire(Y.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(Y){for(const re in Y)this.optionsService.options[re]=Y[re]}constructor(Y){super(),this._windowsWrappingHeuristics=this.register(new R.MutableDisposable),this._onBinary=this.register(new T.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new T.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new T.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new T.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new T.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new T.EventEmitter),this._instantiationService=new s.InstantiationService,this.optionsService=this.register(new Q.OptionsService(Y)),this._instantiationService.setService(b.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(O.BufferService)),this._instantiationService.setService(b.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(F.LogService)),this._instantiationService.setService(b.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(N.CoreService)),this._instantiationService.setService(b.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(b.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(w.UnicodeService)),this._instantiationService.setService(b.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(k.CharsetService),this._instantiationService.setService(b.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(K.OscLinkService),this._instantiationService.setService(b.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new U.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,T.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,T.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,T.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,T.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(re=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(re=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new oe.WriteBuffer((re,j)=>this._inputHandler.parse(re,j))),this.register((0,T.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(Y,re){this._writeBuffer.write(Y,re)}writeSync(Y,re){this._logService.logLevel<=b.LogLevelEnum.WARN&&!H&&(this._logService.warn("writeSync is unreliable and will be removed soon."),H=!0),this._writeBuffer.writeSync(Y,re)}resize(Y,re){isNaN(Y)||isNaN(re)||(Y=Math.max(Y,O.MINIMUM_COLS),re=Math.max(re,O.MINIMUM_ROWS),this._bufferService.resize(Y,re))}scroll(Y,re=!1){this._bufferService.scroll(Y,re)}scrollLines(Y,re,j){this._bufferService.scrollLines(Y,re,j)}scrollPages(Y){this.scrollLines(Y*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(Y){const re=Y-this._bufferService.buffer.ydisp;0!==re&&this.scrollLines(re)}registerEscHandler(Y,re){return this._inputHandler.registerEscHandler(Y,re)}registerDcsHandler(Y,re){return this._inputHandler.registerDcsHandler(Y,re)}registerCsiHandler(Y,re){return this._inputHandler.registerCsiHandler(Y,re)}registerOscHandler(Y,re){return this._inputHandler.registerOscHandler(Y,re)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let Y=!1;const re=this.optionsService.rawOptions.windowsPty;re&&void 0!==re.buildNumber&&void 0!==re.buildNumber?Y="conpty"===re.backend&&re.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(Y=!0),Y?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const Y=[];Y.push(this.onLineFeed(V.updateWindowsModeWrappedState.bind(null,this._bufferService))),Y.push(this.registerCsiHandler({final:"H"},()=>((0,V.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,R.toDisposable)(()=>{for(const re of Y)re.dispose()})}}}},8460:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.forwardEvent=p.EventEmitter=void 0,p.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=x=>(this._listeners.push(x),{dispose:()=>{if(!this._disposed)for(let R=0;R<this._listeners.length;R++)if(this._listeners[R]===x)return void this._listeners.splice(R,1)}})),this._event}fire(x,R){const b=[];for(let s=0;s<this._listeners.length;s++)b.push(this._listeners[s]);for(let s=0;s<b.length;s++)b[s].call(void 0,x,R)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},p.forwardEvent=function(x,R){return x(b=>R.fire(b))}},5435:function(u,p,x){var R=this&&this.__decorate||function(Me,de,te,ce){var J,ve=arguments.length,be=ve<3?de:null===ce?ce=Object.getOwnPropertyDescriptor(de,te):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(Me,de,te,ce);else for(var Be=Me.length-1;Be>=0;Be--)(J=Me[Be])&&(be=(ve<3?J(be):ve>3?J(de,te,be):J(de,te))||be);return ve>3&&be&&Object.defineProperty(de,te,be),be},b=this&&this.__param||function(Me,de){return function(te,ce){de(te,ce,Me)}};Object.defineProperty(p,"__esModule",{value:!0}),p.InputHandler=p.WindowsOptionsReportType=void 0;const s=x(2584),F=x(7116),O=x(2015),Q=x(844),N=x(482),T=x(8437),y=x(8460),w=x(643),k=x(511),V=x(3734),U=x(2585),oe=x(6242),K=x(6351),H=x(5941),D={"(":0,")":1,"*":2,"+":3,"-":1,".":2},P=131072;function Y(Me,de){if(Me>24)return de.setWinLines||!1;switch(Me){case 1:return!!de.restoreWin;case 2:return!!de.minimizeWin;case 3:return!!de.setWinPosition;case 4:return!!de.setWinSizePixels;case 5:return!!de.raiseWin;case 6:return!!de.lowerWin;case 7:return!!de.refreshWin;case 8:return!!de.setWinSizeChars;case 9:return!!de.maximizeWin;case 10:return!!de.fullscreenWin;case 11:return!!de.getWinState;case 13:return!!de.getWinPosition;case 14:return!!de.getWinSizePixels;case 15:return!!de.getScreenSizePixels;case 16:return!!de.getCellSizePixels;case 18:return!!de.getWinSizeChars;case 19:return!!de.getScreenSizeChars;case 20:return!!de.getIconTitle;case 21:return!!de.getWinTitle;case 22:return!!de.pushTitle;case 23:return!!de.popTitle;case 24:return!!de.setWinLines}return!1}var re,Me;(Me=re||(p.WindowsOptionsReportType=re={}))[Me.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Me[Me.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let j=0;p.InputHandler=class G extends Q.Disposable{getAttrData(){return this._curAttrData}constructor(de,te,ce,J,ve,be,Be,we,ke=new O.EscapeSequenceParser){super(),this._bufferService=de,this._charsetService=te,this._coreService=ce,this._logService=J,this._optionsService=ve,this._oscLinkService=be,this._coreMouseService=Be,this._unicodeService=we,this._parser=ke,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new N.StringToUtf32,this._utf8Decoder=new N.Utf8ToUtf32,this._workCell=new k.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=T.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ie(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(X=>this._activeBuffer=X.activeBuffer)),this._parser.setCsiHandlerFallback((X,q)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(X),params:q.toArray()})}),this._parser.setEscHandlerFallback(X=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(X)})}),this._parser.setExecuteHandlerFallback(X=>{this._logService.debug("Unknown EXECUTE code: ",{code:X})}),this._parser.setOscHandlerFallback((X,q,pe)=>{this._logService.debug("Unknown OSC code: ",{identifier:X,action:q,data:pe})}),this._parser.setDcsHandlerFallback((X,q,pe)=>{"HOOK"===q&&(pe=pe.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(X),action:q,payload:pe})}),this._parser.setPrintHandler((X,q,pe)=>this.print(X,q,pe)),this._parser.registerCsiHandler({final:"@"},X=>this.insertChars(X)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},X=>this.scrollLeft(X)),this._parser.registerCsiHandler({final:"A"},X=>this.cursorUp(X)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},X=>this.scrollRight(X)),this._parser.registerCsiHandler({final:"B"},X=>this.cursorDown(X)),this._parser.registerCsiHandler({final:"C"},X=>this.cursorForward(X)),this._parser.registerCsiHandler({final:"D"},X=>this.cursorBackward(X)),this._parser.registerCsiHandler({final:"E"},X=>this.cursorNextLine(X)),this._parser.registerCsiHandler({final:"F"},X=>this.cursorPrecedingLine(X)),this._parser.registerCsiHandler({final:"G"},X=>this.cursorCharAbsolute(X)),this._parser.registerCsiHandler({final:"H"},X=>this.cursorPosition(X)),this._parser.registerCsiHandler({final:"I"},X=>this.cursorForwardTab(X)),this._parser.registerCsiHandler({final:"J"},X=>this.eraseInDisplay(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},X=>this.eraseInDisplay(X,!0)),this._parser.registerCsiHandler({final:"K"},X=>this.eraseInLine(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},X=>this.eraseInLine(X,!0)),this._parser.registerCsiHandler({final:"L"},X=>this.insertLines(X)),this._parser.registerCsiHandler({final:"M"},X=>this.deleteLines(X)),this._parser.registerCsiHandler({final:"P"},X=>this.deleteChars(X)),this._parser.registerCsiHandler({final:"S"},X=>this.scrollUp(X)),this._parser.registerCsiHandler({final:"T"},X=>this.scrollDown(X)),this._parser.registerCsiHandler({final:"X"},X=>this.eraseChars(X)),this._parser.registerCsiHandler({final:"Z"},X=>this.cursorBackwardTab(X)),this._parser.registerCsiHandler({final:"`"},X=>this.charPosAbsolute(X)),this._parser.registerCsiHandler({final:"a"},X=>this.hPositionRelative(X)),this._parser.registerCsiHandler({final:"b"},X=>this.repeatPrecedingCharacter(X)),this._parser.registerCsiHandler({final:"c"},X=>this.sendDeviceAttributesPrimary(X)),this._parser.registerCsiHandler({prefix:">",final:"c"},X=>this.sendDeviceAttributesSecondary(X)),this._parser.registerCsiHandler({final:"d"},X=>this.linePosAbsolute(X)),this._parser.registerCsiHandler({final:"e"},X=>this.vPositionRelative(X)),this._parser.registerCsiHandler({final:"f"},X=>this.hVPosition(X)),this._parser.registerCsiHandler({final:"g"},X=>this.tabClear(X)),this._parser.registerCsiHandler({final:"h"},X=>this.setMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"h"},X=>this.setModePrivate(X)),this._parser.registerCsiHandler({final:"l"},X=>this.resetMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"l"},X=>this.resetModePrivate(X)),this._parser.registerCsiHandler({final:"m"},X=>this.charAttributes(X)),this._parser.registerCsiHandler({final:"n"},X=>this.deviceStatus(X)),this._parser.registerCsiHandler({prefix:"?",final:"n"},X=>this.deviceStatusPrivate(X)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},X=>this.softReset(X)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},X=>this.setCursorStyle(X)),this._parser.registerCsiHandler({final:"r"},X=>this.setScrollRegion(X)),this._parser.registerCsiHandler({final:"s"},X=>this.saveCursor(X)),this._parser.registerCsiHandler({final:"t"},X=>this.windowOptions(X)),this._parser.registerCsiHandler({final:"u"},X=>this.restoreCursor(X)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},X=>this.insertColumns(X)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},X=>this.deleteColumns(X)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},X=>this.selectProtected(X)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},X=>this.requestMode(X,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},X=>this.requestMode(X,!1)),this._parser.setExecuteHandler(s.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(s.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(s.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(s.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(s.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(s.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(s.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(s.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(s.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(s.C1.IND,()=>this.index()),this._parser.setExecuteHandler(s.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(s.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new oe.OscHandler(X=>(this.setTitle(X),this.setIconName(X),!0))),this._parser.registerOscHandler(1,new oe.OscHandler(X=>this.setIconName(X))),this._parser.registerOscHandler(2,new oe.OscHandler(X=>this.setTitle(X))),this._parser.registerOscHandler(4,new oe.OscHandler(X=>this.setOrReportIndexedColor(X))),this._parser.registerOscHandler(8,new oe.OscHandler(X=>this.setHyperlink(X))),this._parser.registerOscHandler(10,new oe.OscHandler(X=>this.setOrReportFgColor(X))),this._parser.registerOscHandler(11,new oe.OscHandler(X=>this.setOrReportBgColor(X))),this._parser.registerOscHandler(12,new oe.OscHandler(X=>this.setOrReportCursorColor(X))),this._parser.registerOscHandler(104,new oe.OscHandler(X=>this.restoreIndexedColor(X))),this._parser.registerOscHandler(110,new oe.OscHandler(X=>this.restoreFgColor(X))),this._parser.registerOscHandler(111,new oe.OscHandler(X=>this.restoreBgColor(X))),this._parser.registerOscHandler(112,new oe.OscHandler(X=>this.restoreCursorColor(X))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const X in F.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:X},()=>this.selectCharset("("+X)),this._parser.registerEscHandler({intermediates:")",final:X},()=>this.selectCharset(")"+X)),this._parser.registerEscHandler({intermediates:"*",final:X},()=>this.selectCharset("*"+X)),this._parser.registerEscHandler({intermediates:"+",final:X},()=>this.selectCharset("+"+X)),this._parser.registerEscHandler({intermediates:"-",final:X},()=>this.selectCharset("-"+X)),this._parser.registerEscHandler({intermediates:".",final:X},()=>this.selectCharset("."+X)),this._parser.registerEscHandler({intermediates:"/",final:X},()=>this.selectCharset("/"+X));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(X=>(this._logService.error("Parsing error: ",X),X)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new K.DcsHandler((X,q)=>this.requestStatusString(X,q)))}_preserveStack(de,te,ce,J){this._parseStack.paused=!0,this._parseStack.cursorStartX=de,this._parseStack.cursorStartY=te,this._parseStack.decodedLength=ce,this._parseStack.position=J}_logSlowResolvingAsync(de){this._logService.logLevel<=U.LogLevelEnum.WARN&&Promise.race([de,new Promise((te,ce)=>setTimeout(()=>ce("#SLOW_TIMEOUT"),5e3))]).catch(te=>{if("#SLOW_TIMEOUT"!==te)throw te;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(de,te){let ce,J=this._activeBuffer.x,ve=this._activeBuffer.y,be=0;const Be=this._parseStack.paused;if(Be){if(ce=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,te))return this._logSlowResolvingAsync(ce),ce;J=this._parseStack.cursorStartX,ve=this._parseStack.cursorStartY,this._parseStack.paused=!1,de.length>P&&(be=this._parseStack.position+P)}if(this._logService.logLevel<=U.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof de?` "${de}"`:` "${Array.prototype.map.call(de,we=>String.fromCharCode(we)).join("")}"`),"string"==typeof de?de.split("").map(we=>we.charCodeAt(0)):de),this._parseBuffer.length<de.length&&this._parseBuffer.length<P&&(this._parseBuffer=new Uint32Array(Math.min(de.length,P))),Be||this._dirtyRowTracker.clearRange(),de.length>P)for(let we=be;we<de.length;we+=P){const ke=we+P<de.length?we+P:de.length,X="string"==typeof de?this._stringDecoder.decode(de.substring(we,ke),this._parseBuffer):this._utf8Decoder.decode(de.subarray(we,ke),this._parseBuffer);if(ce=this._parser.parse(this._parseBuffer,X))return this._preserveStack(J,ve,X,we),this._logSlowResolvingAsync(ce),ce}else if(!Be){const we="string"==typeof de?this._stringDecoder.decode(de,this._parseBuffer):this._utf8Decoder.decode(de,this._parseBuffer);if(ce=this._parser.parse(this._parseBuffer,we))return this._preserveStack(J,ve,we,0),this._logSlowResolvingAsync(ce),ce}this._activeBuffer.x===J&&this._activeBuffer.y===ve||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(de,te,ce){let J,ve;const be=this._charsetService.charset,Be=this._optionsService.rawOptions.screenReaderMode,we=this._bufferService.cols,ke=this._coreService.decPrivateModes.wraparound,X=this._coreService.modes.insertMode,q=this._curAttrData;let pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&ce-te>0&&2===pe.getWidth(this._activeBuffer.x-1)&&pe.setCellFromCodePoint(this._activeBuffer.x-1,0,1,q.fg,q.bg,q.extended);for(let _e=te;_e<ce;++_e){if(J=de[_e],ve=this._unicodeService.wcwidth(J),J<127&&be){const Xe=be[String.fromCharCode(J)];Xe&&(J=Xe.charCodeAt(0))}if(Be&&this._onA11yChar.fire((0,N.stringFromCodePoint)(J)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),ve||!this._activeBuffer.x){if(this._activeBuffer.x+ve-1>=we)if(ke){for(;this._activeBuffer.x<we;)pe.setCellFromCodePoint(this._activeBuffer.x++,0,1,q.fg,q.bg,q.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),pe=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=we-1,2===ve)continue;if(X&&(pe.insertCells(this._activeBuffer.x,ve,this._activeBuffer.getNullCell(q),q),2===pe.getWidth(we-1)&&pe.setCellFromCodePoint(we-1,w.NULL_CELL_CODE,w.NULL_CELL_WIDTH,q.fg,q.bg,q.extended)),pe.setCellFromCodePoint(this._activeBuffer.x++,J,ve,q.fg,q.bg,q.extended),ve>0)for(;--ve;)pe.setCellFromCodePoint(this._activeBuffer.x++,0,0,q.fg,q.bg,q.extended)}else pe.getWidth(this._activeBuffer.x-1)?pe.addCodepointToCell(this._activeBuffer.x-1,J):pe.addCodepointToCell(this._activeBuffer.x-2,J)}ce-te>0&&(pe.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<we&&ce-te>0&&0===pe.getWidth(this._activeBuffer.x)&&!pe.hasContent(this._activeBuffer.x)&&pe.setCellFromCodePoint(this._activeBuffer.x,0,1,q.fg,q.bg,q.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(de,te){return this._parser.registerCsiHandler(de,"t"!==de.final||de.prefix||de.intermediates?te:ce=>!Y(ce.params[0],this._optionsService.rawOptions.windowOptions)||te(ce))}registerDcsHandler(de,te){return this._parser.registerDcsHandler(de,new K.DcsHandler(te))}registerEscHandler(de,te){return this._parser.registerEscHandler(de,te)}registerOscHandler(de,te){return this._parser.registerOscHandler(de,new oe.OscHandler(te))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var de;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===de?void 0:de.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);te.hasWidth(this._activeBuffer.x)&&!te.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const de=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-de),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(de=this._bufferService.cols-1){this._activeBuffer.x=Math.min(de,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(de,te){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=de,this._activeBuffer.y=this._activeBuffer.scrollTop+te):(this._activeBuffer.x=de,this._activeBuffer.y=te),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(de,te){this._restrictCursor(),this._setCursor(this._activeBuffer.x+de,this._activeBuffer.y+te)}cursorUp(de){const te=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,te>=0?-Math.min(te,de.params[0]||1):-(de.params[0]||1)),!0}cursorDown(de){const te=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,te>=0?Math.min(te,de.params[0]||1):de.params[0]||1),!0}cursorForward(de){return this._moveCursor(de.params[0]||1,0),!0}cursorBackward(de){return this._moveCursor(-(de.params[0]||1),0),!0}cursorNextLine(de){return this.cursorDown(de),this._activeBuffer.x=0,!0}cursorPrecedingLine(de){return this.cursorUp(de),this._activeBuffer.x=0,!0}cursorCharAbsolute(de){return this._setCursor((de.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(de){return this._setCursor(de.length>=2?(de.params[1]||1)-1:0,(de.params[0]||1)-1),!0}charPosAbsolute(de){return this._setCursor((de.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(de){return this._moveCursor(de.params[0]||1,0),!0}linePosAbsolute(de){return this._setCursor(this._activeBuffer.x,(de.params[0]||1)-1),!0}vPositionRelative(de){return this._moveCursor(0,de.params[0]||1),!0}hVPosition(de){return this.cursorPosition(de),!0}tabClear(de){const te=de.params[0];return 0===te?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===te&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(de){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let te=de.params[0]||1;for(;te--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(de){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let te=de.params[0]||1;for(;te--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(de){const te=de.params[0];return 1===te&&(this._curAttrData.bg|=536870912),2!==te&&0!==te||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(de,te,ce,J=!1,ve=!1){const be=this._activeBuffer.lines.get(this._activeBuffer.ybase+de);be.replaceCells(te,ce,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),ve),J&&(be.isWrapped=!1)}_resetBufferLine(de,te=!1){const ce=this._activeBuffer.lines.get(this._activeBuffer.ybase+de);ce&&(ce.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),te),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+de),ce.isWrapped=!1)}eraseInDisplay(de,te=!1){let ce;switch(this._restrictCursor(this._bufferService.cols),de.params[0]){case 0:for(ce=this._activeBuffer.y,this._dirtyRowTracker.markDirty(ce),this._eraseInBufferLine(ce++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,te);ce<this._bufferService.rows;ce++)this._resetBufferLine(ce,te);this._dirtyRowTracker.markDirty(ce);break;case 1:for(ce=this._activeBuffer.y,this._dirtyRowTracker.markDirty(ce),this._eraseInBufferLine(ce,0,this._activeBuffer.x+1,!0,te),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(ce+1).isWrapped=!1);ce--;)this._resetBufferLine(ce,te);this._dirtyRowTracker.markDirty(0);break;case 2:for(ce=this._bufferService.rows,this._dirtyRowTracker.markDirty(ce-1);ce--;)this._resetBufferLine(ce,te);this._dirtyRowTracker.markDirty(0);break;case 3:const J=this._activeBuffer.lines.length-this._bufferService.rows;J>0&&(this._activeBuffer.lines.trimStart(J),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-J,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-J,0),this._onScroll.fire(0))}return!0}eraseInLine(de,te=!1){switch(this._restrictCursor(this._bufferService.cols),de.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,te);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,te);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,te)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(de){this._restrictCursor();let te=de.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ce=this._activeBuffer.ybase+this._activeBuffer.y,ve=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;te--;)this._activeBuffer.lines.splice(ve-1,1),this._activeBuffer.lines.splice(ce,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(de){this._restrictCursor();let te=de.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ce=this._activeBuffer.ybase+this._activeBuffer.y;let J;for(J=this._bufferService.rows-1-this._activeBuffer.scrollBottom,J=this._bufferService.rows-1+this._activeBuffer.ybase-J;te--;)this._activeBuffer.lines.splice(ce,1),this._activeBuffer.lines.splice(J,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(de){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.insertCells(this._activeBuffer.x,de.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(de){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.deleteCells(this._activeBuffer.x,de.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(de){let te=de.params[0]||1;for(;te--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(de){let te=de.params[0]||1;for(;te--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(T.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(de){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=de.params[0]||1;for(let ce=this._activeBuffer.scrollTop;ce<=this._activeBuffer.scrollBottom;++ce){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+ce);J.deleteCells(0,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),J.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(de){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=de.params[0]||1;for(let ce=this._activeBuffer.scrollTop;ce<=this._activeBuffer.scrollBottom;++ce){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+ce);J.insertCells(0,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),J.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(de){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=de.params[0]||1;for(let ce=this._activeBuffer.scrollTop;ce<=this._activeBuffer.scrollBottom;++ce){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+ce);J.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),J.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(de){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=de.params[0]||1;for(let ce=this._activeBuffer.scrollTop;ce<=this._activeBuffer.scrollBottom;++ce){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+ce);J.deleteCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),J.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(de){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(de.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(de){if(!this._parser.precedingCodepoint)return!0;const te=de.params[0]||1,ce=new Uint32Array(te);for(let J=0;J<te;++J)ce[J]=this._parser.precedingCodepoint;return this.print(ce,0,ce.length),!0}sendDeviceAttributesPrimary(de){return de.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(de){return de.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(de.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c")),!0}_is(de){return 0===(this._optionsService.rawOptions.termName+"").indexOf(de)}setMode(de){for(let te=0;te<de.length;te++)switch(de.params[te]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(de){for(let te=0;te<de.length;te++)switch(de.params[te]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,F.DEFAULT_CHARSET),this._charsetService.setgCharset(1,F.DEFAULT_CHARSET),this._charsetService.setgCharset(2,F.DEFAULT_CHARSET),this._charsetService.setgCharset(3,F.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(de){for(let te=0;te<de.length;te++)switch(de.params[te]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(de){for(let te=0;te<de.length;te++)switch(de.params[te]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===de.params[te]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(de,te){const ce=this._coreService.decPrivateModes,{activeProtocol:J,activeEncoding:ve}=this._coreMouseService,be=this._coreService,{buffers:Be,cols:we}=this._bufferService,{active:ke,alt:X}=Be,q=this._optionsService.rawOptions,pe=ot=>ot?1:2,_e=de.params[0];return Xe=_e,ct=te?2===_e?4:4===_e?pe(be.modes.insertMode):12===_e?3:20===_e?pe(q.convertEol):0:1===_e?pe(ce.applicationCursorKeys):3===_e?q.windowOptions.setWinLines?80===we?2:132===we?1:0:0:6===_e?pe(ce.origin):7===_e?pe(ce.wraparound):8===_e?3:9===_e?pe("X10"===J):12===_e?pe(q.cursorBlink):25===_e?pe(!be.isCursorHidden):45===_e?pe(ce.reverseWraparound):66===_e?pe(ce.applicationKeypad):67===_e?4:1e3===_e?pe("VT200"===J):1002===_e?pe("DRAG"===J):1003===_e?pe("ANY"===J):1004===_e?pe(ce.sendFocus):1005===_e?4:1006===_e?pe("SGR"===ve):1015===_e?4:1016===_e?pe("SGR_PIXELS"===ve):1048===_e?1:47===_e||1047===_e||1049===_e?pe(ke===X):2004===_e?pe(ce.bracketedPasteMode):0,be.triggerDataEvent(`${s.C0.ESC}[${te?"":"?"}${Xe};${ct}$y`),!0;var Xe,ct}_updateAttrColor(de,te,ce,J,ve){return 2===te?(de|=50331648,de&=-16777216,de|=V.AttributeData.fromColorRGB([ce,J,ve])):5===te&&(de&=-50331904,de|=33554432|255&ce),de}_extractColor(de,te,ce){const J=[0,0,-1,0,0,0];let ve=0,be=0;do{if(J[be+ve]=de.params[te+be],de.hasSubParams(te+be)){const Be=de.getSubParams(te+be);let we=0;do{5===J[1]&&(ve=1),J[be+we+1+ve]=Be[we]}while(++we<Be.length&&we+be+1+ve<J.length);break}if(5===J[1]&&be+ve>=2||2===J[1]&&be+ve>=5)break;J[1]&&(ve=1)}while(++be+te<de.length&&be+ve<J.length);for(let Be=2;Be<J.length;++Be)-1===J[Be]&&(J[Be]=0);switch(J[0]){case 38:ce.fg=this._updateAttrColor(ce.fg,J[1],J[3],J[4],J[5]);break;case 48:ce.bg=this._updateAttrColor(ce.bg,J[1],J[3],J[4],J[5]);break;case 58:ce.extended=ce.extended.clone(),ce.extended.underlineColor=this._updateAttrColor(ce.extended.underlineColor,J[1],J[3],J[4],J[5])}return be}_processUnderline(de,te){te.extended=te.extended.clone(),(!~de||de>5)&&(de=1),te.extended.underlineStyle=de,te.fg|=268435456,0===de&&(te.fg&=-268435457),te.updateExtended()}_processSGR0(de){de.fg=T.DEFAULT_ATTR_DATA.fg,de.bg=T.DEFAULT_ATTR_DATA.bg,de.extended=de.extended.clone(),de.extended.underlineStyle=0,de.extended.underlineColor&=-67108864,de.updateExtended()}charAttributes(de){if(1===de.length&&0===de.params[0])return this._processSGR0(this._curAttrData),!0;const te=de.length;let ce;const J=this._curAttrData;for(let ve=0;ve<te;ve++)ce=de.params[ve],ce>=30&&ce<=37?(J.fg&=-50331904,J.fg|=16777216|ce-30):ce>=40&&ce<=47?(J.bg&=-50331904,J.bg|=16777216|ce-40):ce>=90&&ce<=97?(J.fg&=-50331904,J.fg|=16777224|ce-90):ce>=100&&ce<=107?(J.bg&=-50331904,J.bg|=16777224|ce-100):0===ce?this._processSGR0(J):1===ce?J.fg|=134217728:3===ce?J.bg|=67108864:4===ce?(J.fg|=268435456,this._processUnderline(de.hasSubParams(ve)?de.getSubParams(ve)[0]:1,J)):5===ce?J.fg|=536870912:7===ce?J.fg|=67108864:8===ce?J.fg|=1073741824:9===ce?J.fg|=2147483648:2===ce?J.bg|=134217728:21===ce?this._processUnderline(2,J):22===ce?(J.fg&=-134217729,J.bg&=-134217729):23===ce?J.bg&=-67108865:24===ce?(J.fg&=-268435457,this._processUnderline(0,J)):25===ce?J.fg&=-536870913:27===ce?J.fg&=-67108865:28===ce?J.fg&=-1073741825:29===ce?J.fg&=2147483647:39===ce?(J.fg&=-67108864,J.fg|=16777215&T.DEFAULT_ATTR_DATA.fg):49===ce?(J.bg&=-67108864,J.bg|=16777215&T.DEFAULT_ATTR_DATA.bg):38===ce||48===ce||58===ce?ve+=this._extractColor(de,ve,J):53===ce?J.bg|=1073741824:55===ce?J.bg&=-1073741825:59===ce?(J.extended=J.extended.clone(),J.extended.underlineColor=-1,J.updateExtended()):100===ce?(J.fg&=-67108864,J.fg|=16777215&T.DEFAULT_ATTR_DATA.fg,J.bg&=-67108864,J.bg|=16777215&T.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",ce);return!0}deviceStatus(de){switch(de.params[0]){case 5:this._coreService.triggerDataEvent(`${s.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${s.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(de){return 6===de.params[0]&&this._coreService.triggerDataEvent(`${s.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(de){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(de){const te=de.params[0]||1;switch(te){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=te%2==1,!0}setScrollRegion(de){const te=de.params[0]||1;let ce;return(de.length<2||(ce=de.params[1])>this._bufferService.rows||0===ce)&&(ce=this._bufferService.rows),ce>te&&(this._activeBuffer.scrollTop=te-1,this._activeBuffer.scrollBottom=ce-1,this._setCursor(0,0)),!0}windowOptions(de){if(!Y(de.params[0],this._optionsService.rawOptions.windowOptions))return!0;const te=de.length>1?de.params[1]:0;switch(de.params[0]){case 14:2!==te&&this._onRequestWindowsOptionsReport.fire(re.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(re.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${s.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==te&&2!==te||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==te&&1!==te||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==te&&2!==te||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==te&&1!==te||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(de){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(de){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(de){return this._windowTitle=de,this._onTitleChange.fire(de),!0}setIconName(de){return this._iconName=de,!0}setOrReportIndexedColor(de){const te=[],ce=de.split(";");for(;ce.length>1;){const J=ce.shift(),ve=ce.shift();if(/^\d+$/.exec(J)){const be=parseInt(J);if(Te(be))if("?"===ve)te.push({type:0,index:be});else{const Be=(0,H.parseColor)(ve);Be&&te.push({type:1,index:be,color:Be})}}}return te.length&&this._onColor.fire(te),!0}setHyperlink(de){const te=de.split(";");return!(te.length<2)&&(te[1]?this._createHyperlink(te[0],te[1]):!te[0]&&this._finishHyperlink())}_createHyperlink(de,te){this._getCurrentLinkId()&&this._finishHyperlink();const ce=de.split(":");let J;const ve=ce.findIndex(be=>be.startsWith("id="));return-1!==ve&&(J=ce[ve].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:J,uri:te}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(de,te){const ce=de.split(";");for(let J=0;J<ce.length&&!(te>=this._specialColors.length);++J,++te)if("?"===ce[J])this._onColor.fire([{type:0,index:this._specialColors[te]}]);else{const ve=(0,H.parseColor)(ce[J]);ve&&this._onColor.fire([{type:1,index:this._specialColors[te],color:ve}])}return!0}setOrReportFgColor(de){return this._setOrReportSpecialColor(de,0)}setOrReportBgColor(de){return this._setOrReportSpecialColor(de,1)}setOrReportCursorColor(de){return this._setOrReportSpecialColor(de,2)}restoreIndexedColor(de){if(!de)return this._onColor.fire([{type:2}]),!0;const te=[],ce=de.split(";");for(let J=0;J<ce.length;++J)if(/^\d+$/.exec(ce[J])){const ve=parseInt(ce[J]);Te(ve)&&te.push({type:2,index:ve})}return te.length&&this._onColor.fire(te),!0}restoreFgColor(de){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(de){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(de){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,F.DEFAULT_CHARSET),!0}selectCharset(de){return 2!==de.length?(this.selectDefaultCharset(),!0):("/"===de[0]||this._charsetService.setgCharset(D[de[0]],F.CHARSETS[de[1]]||F.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=T.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(de){return this._charsetService.setgLevel(de),!0}screenAlignmentPattern(){const de=new k.CellData;de.content=4194304|"E".charCodeAt(0),de.fg=this._curAttrData.fg,de.bg=this._curAttrData.bg,this._setCursor(0,0);for(let te=0;te<this._bufferService.rows;++te){const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+te);J&&(J.fill(de),J.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(de,te){const ce=this._bufferService.buffer,J=this._optionsService.rawOptions;return(ve=>(this._coreService.triggerDataEvent(`${s.C0.ESC}${ve}${s.C0.ESC}\\`),!0))('"q'===de?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===de?'P1$r61;1"p':"r"===de?`P1$r${ce.scrollTop+1};${ce.scrollBottom+1}r`:"m"===de?"P1$r0m":" q"===de?`P1$r${{block:2,underline:4,bar:6}[J.cursorStyle]-(J.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(de,te){this._dirtyRowTracker.markRangeDirty(de,te)}};let ie=class{constructor(Me){this._bufferService=Me,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Me){Me<this.start?this.start=Me:Me>this.end&&(this.end=Me)}markRangeDirty(Me,de){Me>de&&(j=Me,Me=de,de=j),Me<this.start&&(this.start=Me),de>this.end&&(this.end=de)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Te(Me){return 0<=Me&&Me<256}ie=R([b(0,U.IBufferService)],ie)},844:(u,p)=>{function x(R){for(const b of R)b.dispose();R.length=0}Object.defineProperty(p,"__esModule",{value:!0}),p.getDisposeArrayDisposable=p.disposeArray=p.toDisposable=p.MutableDisposable=p.Disposable=void 0,p.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const R of this._disposables)R.dispose();this._disposables.length=0}register(R){return this._disposables.push(R),R}unregister(R){const b=this._disposables.indexOf(R);-1!==b&&this._disposables.splice(b,1)}},p.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(R){var b;this._isDisposed||R===this._value||(null===(b=this._value)||void 0===b||b.dispose(),this._value=R)}clear(){this.value=void 0}dispose(){var R;this._isDisposed=!0,null===(R=this._value)||void 0===R||R.dispose(),this._value=void 0}},p.toDisposable=function(R){return{dispose:R}},p.disposeArray=x,p.getDisposeArrayDisposable=function(R){return{dispose:()=>x(R)}}},1505:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.FourKeyMap=p.TwoKeyMap=void 0;class x{constructor(){this._data={}}set(b,s,F){this._data[b]||(this._data[b]={}),this._data[b][s]=F}get(b,s){return this._data[b]?this._data[b][s]:void 0}clear(){this._data={}}}p.TwoKeyMap=x,p.FourKeyMap=class{constructor(){this._data=new x}set(R,b,s,F,O){this._data.get(R,b)||this._data.set(R,b,new x),this._data.get(R,b).set(s,F,O)}get(R,b,s,F){var O;return null===(O=this._data.get(R,b))||void 0===O?void 0:O.get(s,F)}clear(){this._data.clear()}}},6114:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.isChromeOS=p.isLinux=p.isWindows=p.isIphone=p.isIpad=p.isMac=p.getSafariVersion=p.isSafari=p.isLegacyEdge=p.isFirefox=p.isNode=void 0,p.isNode="undefined"==typeof navigator;const x=p.isNode?"node":navigator.userAgent,R=p.isNode?"node":navigator.platform;p.isFirefox=x.includes("Firefox"),p.isLegacyEdge=x.includes("Edge"),p.isSafari=/^((?!chrome|android).)*safari/i.test(x),p.getSafariVersion=function(){if(!p.isSafari)return 0;const b=x.match(/Version\/(\d+)/);return null===b||b.length<2?0:parseInt(b[1])},p.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(R),p.isIpad="iPad"===R,p.isIphone="iPhone"===R,p.isWindows=["Windows","Win16","Win32","WinCE"].includes(R),p.isLinux=R.indexOf("Linux")>=0,p.isChromeOS=/\bCrOS\b/.test(x)},6106:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SortedList=void 0;let x=0;p.SortedList=class{constructor(R){this._getKey=R,this._array=[]}clear(){this._array.length=0}insert(R){0!==this._array.length?(x=this._search(this._getKey(R)),this._array.splice(x,0,R)):this._array.push(R)}delete(R){if(0===this._array.length)return!1;const b=this._getKey(R);if(void 0===b||(x=this._search(b),-1===x)||this._getKey(this._array[x])!==b)return!1;do{if(this._array[x]===R)return this._array.splice(x,1),!0}while(++x<this._array.length&&this._getKey(this._array[x])===b);return!1}*getKeyIterator(R){if(0!==this._array.length&&(x=this._search(R),!(x<0||x>=this._array.length)&&this._getKey(this._array[x])===R))do{yield this._array[x]}while(++x<this._array.length&&this._getKey(this._array[x])===R)}forEachByKey(R,b){if(0!==this._array.length&&(x=this._search(R),!(x<0||x>=this._array.length)&&this._getKey(this._array[x])===R))do{b(this._array[x])}while(++x<this._array.length&&this._getKey(this._array[x])===R)}values(){return[...this._array].values()}_search(R){let b=0,s=this._array.length-1;for(;s>=b;){let F=b+s>>1;const O=this._getKey(this._array[F]);if(O>R)s=F-1;else{if(!(O<R)){for(;F>0&&this._getKey(this._array[F-1])===R;)F--;return F}b=F+1}}return b}}},7226:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DebouncedIdleTask=p.IdleTaskQueue=p.PriorityTaskQueue=void 0;const R=x(6114);class b{constructor(){this._tasks=[],this._i=0}enqueue(O){this._tasks.push(O),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(O){this._idleCallback=void 0;let Q=0,N=0,T=O.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(Q=Date.now(),this._tasks[this._i]()||this._i++,Q=Math.max(1,Date.now()-Q),N=Math.max(Q,N),y=O.timeRemaining(),1.5*N>y)return T-Q<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(T-Q))}ms`),void this._start();T=y}this.clear()}}class s extends b{_requestCallback(O){return setTimeout(()=>O(this._createDeadline(16)))}_cancelCallback(O){clearTimeout(O)}_createDeadline(O){const Q=Date.now()+O;return{timeRemaining:()=>Math.max(0,Q-Date.now())}}}p.PriorityTaskQueue=s,p.IdleTaskQueue=!R.isNode&&"requestIdleCallback"in window?class extends b{_requestCallback(F){return requestIdleCallback(F)}_cancelCallback(F){cancelIdleCallback(F)}}:s,p.DebouncedIdleTask=class{constructor(){this._queue=new p.IdleTaskQueue}set(F){this._queue.clear(),this._queue.enqueue(F)}flush(){this._queue.flush()}}},9282:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.updateWindowsModeWrappedState=void 0;const R=x(643);p.updateWindowsModeWrappedState=function(b){const s=b.buffer.lines.get(b.buffer.ybase+b.buffer.y-1),F=null==s?void 0:s.get(b.cols-1),O=b.buffer.lines.get(b.buffer.ybase+b.buffer.y);O&&F&&(O.isWrapped=F[R.CHAR_DATA_CODE_INDEX]!==R.NULL_CELL_CODE&&F[R.CHAR_DATA_CODE_INDEX]!==R.WHITESPACE_CELL_CODE)}},3734:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ExtendedAttrs=p.AttributeData=void 0;class x{constructor(){this.fg=0,this.bg=0,this.extended=new R}static toColorRGB(s){return[s>>>16&255,s>>>8&255,255&s]}static fromColorRGB(s){return(255&s[0])<<16|(255&s[1])<<8|255&s[2]}clone(){const s=new x;return s.fg=this.fg,s.bg=this.bg,s.extended=this.extended.clone(),s}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}p.AttributeData=x;class R{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(s){this._ext=s}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(s){this._ext&=-469762049,this._ext|=s<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(s){this._ext&=-67108864,this._ext|=67108863&s}get urlId(){return this._urlId}set urlId(s){this._urlId=s}constructor(s=0,F=0){this._ext=0,this._urlId=0,this._ext=s,this._urlId=F}clone(){return new R(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}p.ExtendedAttrs=R},9092:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Buffer=p.MAX_BUFFER_SIZE=void 0;const R=x(6349),b=x(7226),s=x(3734),F=x(8437),O=x(4634),Q=x(511),N=x(643),T=x(4863),y=x(7116);p.MAX_BUFFER_SIZE=4294967295,p.Buffer=class{constructor(w,k,V){this._hasScrollback=w,this._optionsService=k,this._bufferService=V,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=F.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=Q.CellData.fromCharData([0,N.NULL_CELL_CHAR,N.NULL_CELL_WIDTH,N.NULL_CELL_CODE]),this._whitespaceCell=Q.CellData.fromCharData([0,N.WHITESPACE_CELL_CHAR,N.WHITESPACE_CELL_WIDTH,N.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new b.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new R.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(w){return w?(this._nullCell.fg=w.fg,this._nullCell.bg=w.bg,this._nullCell.extended=w.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(w){return w?(this._whitespaceCell.fg=w.fg,this._whitespaceCell.bg=w.bg,this._whitespaceCell.extended=w.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(w,k){return new F.BufferLine(this._bufferService.cols,this.getNullCell(w),k)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const w=this.ybase+this.y-this.ydisp;return w>=0&&w<this._rows}_getCorrectBufferLength(w){if(!this._hasScrollback)return w;const k=w+this._optionsService.rawOptions.scrollback;return k>p.MAX_BUFFER_SIZE?p.MAX_BUFFER_SIZE:k}fillViewportRows(w){if(0===this.lines.length){void 0===w&&(w=F.DEFAULT_ATTR_DATA);let k=this._rows;for(;k--;)this.lines.push(this.getBlankLine(w))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new R.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(w,k){const V=this.getNullCell(F.DEFAULT_ATTR_DATA);let U=0;const oe=this._getCorrectBufferLength(k);if(oe>this.lines.maxLength&&(this.lines.maxLength=oe),this.lines.length>0){if(this._cols<w)for(let H=0;H<this.lines.length;H++)U+=+this.lines.get(H).resize(w,V);let K=0;if(this._rows<k)for(let H=this._rows;H<k;H++)this.lines.length<k+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new F.BufferLine(w,V)):this.ybase>0&&this.lines.length<=this.ybase+this.y+K+1?(this.ybase--,K++,this.ydisp>0&&this.ydisp--):this.lines.push(new F.BufferLine(w,V)));else for(let H=this._rows;H>k;H--)this.lines.length>k+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(oe<this.lines.maxLength){const H=this.lines.length-oe;H>0&&(this.lines.trimStart(H),this.ybase=Math.max(this.ybase-H,0),this.ydisp=Math.max(this.ydisp-H,0),this.savedY=Math.max(this.savedY-H,0)),this.lines.maxLength=oe}this.x=Math.min(this.x,w-1),this.y=Math.min(this.y,k-1),K&&(this.y+=K),this.savedX=Math.min(this.savedX,w-1),this.scrollTop=0}if(this.scrollBottom=k-1,this._isReflowEnabled&&(this._reflow(w,k),this._cols>w))for(let K=0;K<this.lines.length;K++)U+=+this.lines.get(K).resize(w,V);this._cols=w,this._rows=k,this._memoryCleanupQueue.clear(),U>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let w=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,w=!1);let k=0;for(;this._memoryCleanupPosition<this.lines.length;)if(k+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),k>100)return!0;return w}get _isReflowEnabled(){const w=this._optionsService.rawOptions.windowsPty;return w&&w.buildNumber?this._hasScrollback&&"conpty"===w.backend&&w.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(w,k){this._cols!==w&&(w>this._cols?this._reflowLarger(w,k):this._reflowSmaller(w,k))}_reflowLarger(w,k){const V=(0,O.reflowLargerGetLinesToRemove)(this.lines,this._cols,w,this.ybase+this.y,this.getNullCell(F.DEFAULT_ATTR_DATA));if(V.length>0){const U=(0,O.reflowLargerCreateNewLayout)(this.lines,V);(0,O.reflowLargerApplyNewLayout)(this.lines,U.layout),this._reflowLargerAdjustViewport(w,k,U.countRemoved)}}_reflowLargerAdjustViewport(w,k,V){const U=this.getNullCell(F.DEFAULT_ATTR_DATA);let oe=V;for(;oe-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<k&&this.lines.push(new F.BufferLine(w,U))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-V,0)}_reflowSmaller(w,k){const V=this.getNullCell(F.DEFAULT_ATTR_DATA),U=[];let oe=0;for(let K=this.lines.length-1;K>=0;K--){let H=this.lines.get(K);if(!H||!H.isWrapped&&H.getTrimmedLength()<=w)continue;const D=[H];for(;H.isWrapped&&K>0;)H=this.lines.get(--K),D.unshift(H);const P=this.ybase+this.y;if(P>=K&&P<K+D.length)continue;const Y=D[D.length-1].getTrimmedLength(),re=(0,O.reflowSmallerGetNewLineLengths)(D,this._cols,w),j=re.length-D.length;let G;G=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+j):Math.max(0,this.lines.length-this.lines.maxLength+j);const ie=[];for(let J=0;J<j;J++){const ve=this.getBlankLine(F.DEFAULT_ATTR_DATA,!0);ie.push(ve)}ie.length>0&&(U.push({start:K+D.length+oe,newLines:ie}),oe+=ie.length),D.push(...ie);let Te=re.length-1,Me=re[Te];0===Me&&(Te--,Me=re[Te]);let de=D.length-j-1,te=Y;for(;de>=0;){const J=Math.min(te,Me);if(void 0===D[Te])break;if(D[Te].copyCellsFrom(D[de],te-J,Me-J,J,!0),Me-=J,0===Me&&(Te--,Me=re[Te]),te-=J,0===te){de--;const ve=Math.max(de,0);te=(0,O.getWrappedLineTrimmedLength)(D,ve,this._cols)}}for(let J=0;J<D.length;J++)re[J]<w&&D[J].setCell(re[J],V);let ce=j-G;for(;ce-- >0;)0===this.ybase?this.y<k-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+oe)-k&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+j,this.ybase+k-1)}if(U.length>0){const K=[],H=[];for(let Te=0;Te<this.lines.length;Te++)H.push(this.lines.get(Te));const D=this.lines.length;let P=D-1,Y=0,re=U[Y];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+oe);let j=0;for(let Te=Math.min(this.lines.maxLength-1,D+oe-1);Te>=0;Te--)if(re&&re.start>P+j){for(let Me=re.newLines.length-1;Me>=0;Me--)this.lines.set(Te--,re.newLines[Me]);Te++,K.push({index:P+1,amount:re.newLines.length}),j+=re.newLines.length,re=U[++Y]}else this.lines.set(Te,H[P--]);let G=0;for(let Te=K.length-1;Te>=0;Te--)K[Te].index+=G,this.lines.onInsertEmitter.fire(K[Te]),G+=K[Te].amount;const ie=Math.max(0,D+oe-this.lines.maxLength);ie>0&&this.lines.onTrimEmitter.fire(ie)}}translateBufferLineToString(w,k,V=0,U){const oe=this.lines.get(w);return oe?oe.translateToString(k,V,U):""}getWrappedRangeForLine(w){let k=w,V=w;for(;k>0&&this.lines.get(k).isWrapped;)k--;for(;V+1<this.lines.length&&this.lines.get(V+1).isWrapped;)V++;return{first:k,last:V}}setupTabStops(w){for(null!=w?this.tabs[w]||(w=this.prevStop(w)):(this.tabs={},w=0);w<this._cols;w+=this._optionsService.rawOptions.tabStopWidth)this.tabs[w]=!0}prevStop(w){for(null==w&&(w=this.x);!this.tabs[--w]&&w>0;);return w>=this._cols?this._cols-1:w<0?0:w}nextStop(w){for(null==w&&(w=this.x);!this.tabs[++w]&&w<this._cols;);return w>=this._cols?this._cols-1:w<0?0:w}clearMarkers(w){this._isClearing=!0;for(let k=0;k<this.markers.length;k++)this.markers[k].line===w&&(this.markers[k].dispose(),this.markers.splice(k--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let w=0;w<this.markers.length;w++)this.markers[w].dispose(),this.markers.splice(w--,1);this._isClearing=!1}addMarker(w){const k=new T.Marker(w);return this.markers.push(k),k.register(this.lines.onTrim(V=>{k.line-=V,k.line<0&&k.dispose()})),k.register(this.lines.onInsert(V=>{k.line>=V.index&&(k.line+=V.amount)})),k.register(this.lines.onDelete(V=>{k.line>=V.index&&k.line<V.index+V.amount&&k.dispose(),k.line>V.index&&(k.line-=V.amount)})),k.register(k.onDispose(()=>this._removeMarker(k))),k}_removeMarker(w){this._isClearing||this.markers.splice(this.markers.indexOf(w),1)}}},8437:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferLine=p.DEFAULT_ATTR_DATA=void 0;const R=x(3734),b=x(511),s=x(643),F=x(482);p.DEFAULT_ATTR_DATA=Object.freeze(new R.AttributeData);let O=0;class Q{constructor(T,y,w=!1){this.isWrapped=w,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*T);const k=y||b.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]);for(let V=0;V<T;++V)this.setCell(V,k);this.length=T}get(T){const y=this._data[3*T+0],w=2097151&y;return[this._data[3*T+1],2097152&y?this._combined[T]:w?(0,F.stringFromCodePoint)(w):"",y>>22,2097152&y?this._combined[T].charCodeAt(this._combined[T].length-1):w]}set(T,y){this._data[3*T+1]=y[s.CHAR_DATA_ATTR_INDEX],y[s.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[T]=y[1],this._data[3*T+0]=2097152|T|y[s.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*T+0]=y[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[s.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(T){return this._data[3*T+0]>>22}hasWidth(T){return 12582912&this._data[3*T+0]}getFg(T){return this._data[3*T+1]}getBg(T){return this._data[3*T+2]}hasContent(T){return 4194303&this._data[3*T+0]}getCodePoint(T){const y=this._data[3*T+0];return 2097152&y?this._combined[T].charCodeAt(this._combined[T].length-1):2097151&y}isCombined(T){return 2097152&this._data[3*T+0]}getString(T){const y=this._data[3*T+0];return 2097152&y?this._combined[T]:2097151&y?(0,F.stringFromCodePoint)(2097151&y):""}isProtected(T){return 536870912&this._data[3*T+2]}loadCell(T,y){return O=3*T,y.content=this._data[O+0],y.fg=this._data[O+1],y.bg=this._data[O+2],2097152&y.content&&(y.combinedData=this._combined[T]),268435456&y.bg&&(y.extended=this._extendedAttrs[T]),y}setCell(T,y){2097152&y.content&&(this._combined[T]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[T]=y.extended),this._data[3*T+0]=y.content,this._data[3*T+1]=y.fg,this._data[3*T+2]=y.bg}setCellFromCodePoint(T,y,w,k,V,U){268435456&V&&(this._extendedAttrs[T]=U),this._data[3*T+0]=y|w<<22,this._data[3*T+1]=k,this._data[3*T+2]=V}addCodepointToCell(T,y){let w=this._data[3*T+0];2097152&w?this._combined[T]+=(0,F.stringFromCodePoint)(y):(2097151&w?(this._combined[T]=(0,F.stringFromCodePoint)(2097151&w)+(0,F.stringFromCodePoint)(y),w&=-2097152,w|=2097152):w=4194304|y,this._data[3*T+0]=w)}insertCells(T,y,w,k){if((T%=this.length)&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs),y<this.length-T){const V=new b.CellData;for(let U=this.length-T-y-1;U>=0;--U)this.setCell(T+y+U,this.loadCell(T+U,V));for(let U=0;U<y;++U)this.setCell(T+U,w)}else for(let V=T;V<this.length;++V)this.setCell(V,w);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs)}deleteCells(T,y,w,k){if(y<this.length-(T%=this.length)){const V=new b.CellData;for(let U=0;U<this.length-T-y;++U)this.setCell(T+U,this.loadCell(T+y+U,V));for(let U=this.length-y;U<this.length;++U)this.setCell(U,w)}else for(let V=T;V<this.length;++V)this.setCell(V,w);T&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs),0!==this.getWidth(T)||this.hasContent(T)||this.setCellFromCodePoint(T,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs)}replaceCells(T,y,w,k,V=!1){if(V)for(T&&2===this.getWidth(T-1)&&!this.isProtected(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs),y<this.length&&2===this.getWidth(y-1)&&!this.isProtected(y)&&this.setCellFromCodePoint(y,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs);T<y&&T<this.length;)this.isProtected(T)||this.setCell(T,w),T++;else for(T&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs),y<this.length&&2===this.getWidth(y-1)&&this.setCellFromCodePoint(y,0,1,(null==k?void 0:k.fg)||0,(null==k?void 0:k.bg)||0,(null==k?void 0:k.extended)||new R.ExtendedAttrs);T<y&&T<this.length;)this.setCell(T++,w)}resize(T,y){if(T===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const w=3*T;if(T>this.length){if(this._data.buffer.byteLength>=4*w)this._data=new Uint32Array(this._data.buffer,0,w);else{const k=new Uint32Array(w);k.set(this._data),this._data=k}for(let k=this.length;k<T;++k)this.setCell(k,y)}else{this._data=this._data.subarray(0,w);const k=Object.keys(this._combined);for(let U=0;U<k.length;U++){const oe=parseInt(k[U],10);oe>=T&&delete this._combined[oe]}const V=Object.keys(this._extendedAttrs);for(let U=0;U<V.length;U++){const oe=parseInt(V[U],10);oe>=T&&delete this._extendedAttrs[oe]}}return this.length=T,4*w*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const T=new Uint32Array(this._data.length);return T.set(this._data),this._data=T,1}return 0}fill(T,y=!1){if(y)for(let w=0;w<this.length;++w)this.isProtected(w)||this.setCell(w,T);else{this._combined={},this._extendedAttrs={};for(let w=0;w<this.length;++w)this.setCell(w,T)}}copyFrom(T){this.length!==T.length?this._data=new Uint32Array(T._data):this._data.set(T._data),this.length=T.length,this._combined={};for(const y in T._combined)this._combined[y]=T._combined[y];this._extendedAttrs={};for(const y in T._extendedAttrs)this._extendedAttrs[y]=T._extendedAttrs[y];this.isWrapped=T.isWrapped}clone(){const T=new Q(0);T._data=new Uint32Array(this._data),T.length=this.length;for(const y in this._combined)T._combined[y]=this._combined[y];for(const y in this._extendedAttrs)T._extendedAttrs[y]=this._extendedAttrs[y];return T.isWrapped=this.isWrapped,T}getTrimmedLength(){for(let T=this.length-1;T>=0;--T)if(4194303&this._data[3*T+0])return T+(this._data[3*T+0]>>22);return 0}getNoBgTrimmedLength(){for(let T=this.length-1;T>=0;--T)if(4194303&this._data[3*T+0]||50331648&this._data[3*T+2])return T+(this._data[3*T+0]>>22);return 0}copyCellsFrom(T,y,w,k,V){const U=T._data;if(V)for(let K=k-1;K>=0;K--){for(let H=0;H<3;H++)this._data[3*(w+K)+H]=U[3*(y+K)+H];268435456&U[3*(y+K)+2]&&(this._extendedAttrs[w+K]=T._extendedAttrs[y+K])}else for(let K=0;K<k;K++){for(let H=0;H<3;H++)this._data[3*(w+K)+H]=U[3*(y+K)+H];268435456&U[3*(y+K)+2]&&(this._extendedAttrs[w+K]=T._extendedAttrs[y+K])}const oe=Object.keys(T._combined);for(let K=0;K<oe.length;K++){const H=parseInt(oe[K],10);H>=y&&(this._combined[H-y+w]=T._combined[H])}}translateToString(T=!1,y=0,w=this.length){T&&(w=Math.min(w,this.getTrimmedLength()));let k="";for(;y<w;){const V=this._data[3*y+0],U=2097151&V;k+=2097152&V?this._combined[y]:U?(0,F.stringFromCodePoint)(U):s.WHITESPACE_CELL_CHAR,y+=V>>22||1}return k}}p.BufferLine=Q},4841:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getRangeLength=void 0,p.getRangeLength=function(x,R){if(x.start.y>x.end.y)throw new Error(`Buffer range end (${x.end.x}, ${x.end.y}) cannot be before start (${x.start.x}, ${x.start.y})`);return R*(x.end.y-x.start.y)+(x.end.x-x.start.x+1)}},4634:(u,p)=>{function x(R,b,s){if(b===R.length-1)return R[b].getTrimmedLength();const F=!R[b].hasContent(s-1)&&1===R[b].getWidth(s-1),O=2===R[b+1].getWidth(0);return F&&O?s-1:s}Object.defineProperty(p,"__esModule",{value:!0}),p.getWrappedLineTrimmedLength=p.reflowSmallerGetNewLineLengths=p.reflowLargerApplyNewLayout=p.reflowLargerCreateNewLayout=p.reflowLargerGetLinesToRemove=void 0,p.reflowLargerGetLinesToRemove=function(R,b,s,F,O){const Q=[];for(let N=0;N<R.length-1;N++){let T=N,y=R.get(++T);if(!y.isWrapped)continue;const w=[R.get(N)];for(;T<R.length&&y.isWrapped;)w.push(y),y=R.get(++T);if(F>=N&&F<T){N+=w.length-1;continue}let k=0,V=x(w,k,b),U=1,oe=0;for(;U<w.length;){const H=x(w,U,b),Y=Math.min(H-oe,s-V);w[k].copyCellsFrom(w[U],oe,V,Y,!1),V+=Y,V===s&&(k++,V=0),oe+=Y,oe===H&&(U++,oe=0),0===V&&0!==k&&2===w[k-1].getWidth(s-1)&&(w[k].copyCellsFrom(w[k-1],s-1,V++,1,!1),w[k-1].setCell(s-1,O))}w[k].replaceCells(V,s,O);let K=0;for(let H=w.length-1;H>0&&(H>k||0===w[H].getTrimmedLength());H--)K++;K>0&&(Q.push(N+w.length-K),Q.push(K)),N+=w.length-1}return Q},p.reflowLargerCreateNewLayout=function(R,b){const s=[];let F=0,O=b[F],Q=0;for(let N=0;N<R.length;N++)if(O===N){const T=b[++F];R.onDeleteEmitter.fire({index:N-Q,amount:T}),N+=T-1,Q+=T,O=b[++F]}else s.push(N);return{layout:s,countRemoved:Q}},p.reflowLargerApplyNewLayout=function(R,b){const s=[];for(let F=0;F<b.length;F++)s.push(R.get(b[F]));for(let F=0;F<s.length;F++)R.set(F,s[F]);R.length=b.length},p.reflowSmallerGetNewLineLengths=function(R,b,s){const F=[],O=R.map((y,w)=>x(R,w,b)).reduce((y,w)=>y+w);let Q=0,N=0,T=0;for(;T<O;){if(O-T<s){F.push(O-T);break}Q+=s;const y=x(R,N,b);Q>y&&(Q-=y,N++);const w=2===R[N].getWidth(Q-1);w&&Q--;const k=w?s-1:s;F.push(k),T+=k}return F},p.getWrappedLineTrimmedLength=x},5295:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferSet=void 0;const R=x(8460),b=x(844),s=x(9092);p.BufferSet=class F extends b.Disposable{constructor(Q,N){super(),this._optionsService=Q,this._bufferService=N,this._onBufferActivate=this.register(new R.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new s.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new s.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(Q){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(Q),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(Q,N){this._normal.resize(Q,N),this._alt.resize(Q,N),this.setupTabStops(Q)}setupTabStops(Q){this._normal.setupTabStops(Q),this._alt.setupTabStops(Q)}}},511:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CellData=void 0;const R=x(482),b=x(643),s=x(3734);class F extends s.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new s.ExtendedAttrs,this.combinedData=""}static fromCharData(Q){const N=new F;return N.setFromCharData(Q),N}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,R.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(Q){this.fg=Q[b.CHAR_DATA_ATTR_INDEX],this.bg=0;let N=!1;if(Q[b.CHAR_DATA_CHAR_INDEX].length>2)N=!0;else if(2===Q[b.CHAR_DATA_CHAR_INDEX].length){const T=Q[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=T&&T<=56319){const y=Q[b.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(T-55296)+y-56320+65536|Q[b.CHAR_DATA_WIDTH_INDEX]<<22:N=!0}else N=!0}else this.content=Q[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|Q[b.CHAR_DATA_WIDTH_INDEX]<<22;N&&(this.combinedData=Q[b.CHAR_DATA_CHAR_INDEX],this.content=2097152|Q[b.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}p.CellData=F},643:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WHITESPACE_CELL_CODE=p.WHITESPACE_CELL_WIDTH=p.WHITESPACE_CELL_CHAR=p.NULL_CELL_CODE=p.NULL_CELL_WIDTH=p.NULL_CELL_CHAR=p.CHAR_DATA_CODE_INDEX=p.CHAR_DATA_WIDTH_INDEX=p.CHAR_DATA_CHAR_INDEX=p.CHAR_DATA_ATTR_INDEX=p.DEFAULT_EXT=p.DEFAULT_ATTR=p.DEFAULT_COLOR=void 0,p.DEFAULT_COLOR=0,p.DEFAULT_ATTR=256|p.DEFAULT_COLOR<<9,p.DEFAULT_EXT=0,p.CHAR_DATA_ATTR_INDEX=0,p.CHAR_DATA_CHAR_INDEX=1,p.CHAR_DATA_WIDTH_INDEX=2,p.CHAR_DATA_CODE_INDEX=3,p.NULL_CELL_CHAR="",p.NULL_CELL_WIDTH=1,p.NULL_CELL_CODE=0,p.WHITESPACE_CELL_CHAR=" ",p.WHITESPACE_CELL_WIDTH=1,p.WHITESPACE_CELL_CODE=32},4863:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Marker=void 0;const R=x(8460),b=x(844);class s{get id(){return this._id}constructor(O){this.line=O,this.isDisposed=!1,this._disposables=[],this._id=s._nextId++,this._onDispose=this.register(new R.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,b.disposeArray)(this._disposables),this._disposables.length=0)}register(O){return this._disposables.push(O),O}}p.Marker=s,s._nextId=1},7116:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DEFAULT_CHARSET=p.CHARSETS=void 0,p.CHARSETS={},p.DEFAULT_CHARSET=p.CHARSETS.B,p.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},p.CHARSETS.A={"#":"\xa3"},p.CHARSETS.B=void 0,p.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},p.CHARSETS.C=p.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},p.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},p.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},p.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},p.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},p.CHARSETS.E=p.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},p.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},p.CHARSETS.H=p.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},p.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(u,p)=>{var x,R,b,s;Object.defineProperty(p,"__esModule",{value:!0}),p.C1_ESCAPED=p.C1=p.C0=void 0,(s=x||(p.C0=x={})).NUL="\0",s.SOH="\x01",s.STX="\x02",s.ETX="\x03",s.EOT="\x04",s.ENQ="\x05",s.ACK="\x06",s.BEL="\x07",s.BS="\b",s.HT="\t",s.LF="\n",s.VT="\v",s.FF="\f",s.CR="\r",s.SO="\x0e",s.SI="\x0f",s.DLE="\x10",s.DC1="\x11",s.DC2="\x12",s.DC3="\x13",s.DC4="\x14",s.NAK="\x15",s.SYN="\x16",s.ETB="\x17",s.CAN="\x18",s.EM="\x19",s.SUB="\x1a",s.ESC="\x1b",s.FS="\x1c",s.GS="\x1d",s.RS="\x1e",s.US="\x1f",s.SP=" ",s.DEL="\x7f",function(s){s.PAD="\x80",s.HOP="\x81",s.BPH="\x82",s.NBH="\x83",s.IND="\x84",s.NEL="\x85",s.SSA="\x86",s.ESA="\x87",s.HTS="\x88",s.HTJ="\x89",s.VTS="\x8a",s.PLD="\x8b",s.PLU="\x8c",s.RI="\x8d",s.SS2="\x8e",s.SS3="\x8f",s.DCS="\x90",s.PU1="\x91",s.PU2="\x92",s.STS="\x93",s.CCH="\x94",s.MW="\x95",s.SPA="\x96",s.EPA="\x97",s.SOS="\x98",s.SGCI="\x99",s.SCI="\x9a",s.CSI="\x9b",s.ST="\x9c",s.OSC="\x9d",s.PM="\x9e",s.APC="\x9f"}(R||(p.C1=R={})),function(s){s.ST=`${x.ESC}\\`}(b||(p.C1_ESCAPED=b={}))},7399:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.evaluateKeyboardEvent=void 0;const R=x(2584),b={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};p.evaluateKeyboardEvent=function(s,F,O,Q){const N={type:0,cancel:!1,key:void 0},T=(s.shiftKey?1:0)|(s.altKey?2:0)|(s.ctrlKey?4:0)|(s.metaKey?8:0);switch(s.keyCode){case 0:"UIKeyInputUpArrow"===s.key?N.key=F?R.C0.ESC+"OA":R.C0.ESC+"[A":"UIKeyInputLeftArrow"===s.key?N.key=F?R.C0.ESC+"OD":R.C0.ESC+"[D":"UIKeyInputRightArrow"===s.key?N.key=F?R.C0.ESC+"OC":R.C0.ESC+"[C":"UIKeyInputDownArrow"===s.key&&(N.key=F?R.C0.ESC+"OB":R.C0.ESC+"[B");break;case 8:if(s.altKey){N.key=R.C0.ESC+R.C0.DEL;break}N.key=R.C0.DEL;break;case 9:if(s.shiftKey){N.key=R.C0.ESC+"[Z";break}N.key=R.C0.HT,N.cancel=!0;break;case 13:N.key=s.altKey?R.C0.ESC+R.C0.CR:R.C0.CR,N.cancel=!0;break;case 27:N.key=R.C0.ESC,s.altKey&&(N.key=R.C0.ESC+R.C0.ESC),N.cancel=!0;break;case 37:if(s.metaKey)break;T?(N.key=R.C0.ESC+"[1;"+(T+1)+"D",N.key===R.C0.ESC+"[1;3D"&&(N.key=R.C0.ESC+(O?"b":"[1;5D"))):N.key=F?R.C0.ESC+"OD":R.C0.ESC+"[D";break;case 39:if(s.metaKey)break;T?(N.key=R.C0.ESC+"[1;"+(T+1)+"C",N.key===R.C0.ESC+"[1;3C"&&(N.key=R.C0.ESC+(O?"f":"[1;5C"))):N.key=F?R.C0.ESC+"OC":R.C0.ESC+"[C";break;case 38:if(s.metaKey)break;T?(N.key=R.C0.ESC+"[1;"+(T+1)+"A",O||N.key!==R.C0.ESC+"[1;3A"||(N.key=R.C0.ESC+"[1;5A")):N.key=F?R.C0.ESC+"OA":R.C0.ESC+"[A";break;case 40:if(s.metaKey)break;T?(N.key=R.C0.ESC+"[1;"+(T+1)+"B",O||N.key!==R.C0.ESC+"[1;3B"||(N.key=R.C0.ESC+"[1;5B")):N.key=F?R.C0.ESC+"OB":R.C0.ESC+"[B";break;case 45:s.shiftKey||s.ctrlKey||(N.key=R.C0.ESC+"[2~");break;case 46:N.key=T?R.C0.ESC+"[3;"+(T+1)+"~":R.C0.ESC+"[3~";break;case 36:N.key=T?R.C0.ESC+"[1;"+(T+1)+"H":F?R.C0.ESC+"OH":R.C0.ESC+"[H";break;case 35:N.key=T?R.C0.ESC+"[1;"+(T+1)+"F":F?R.C0.ESC+"OF":R.C0.ESC+"[F";break;case 33:s.shiftKey?N.type=2:N.key=s.ctrlKey?R.C0.ESC+"[5;"+(T+1)+"~":R.C0.ESC+"[5~";break;case 34:s.shiftKey?N.type=3:N.key=s.ctrlKey?R.C0.ESC+"[6;"+(T+1)+"~":R.C0.ESC+"[6~";break;case 112:N.key=T?R.C0.ESC+"[1;"+(T+1)+"P":R.C0.ESC+"OP";break;case 113:N.key=T?R.C0.ESC+"[1;"+(T+1)+"Q":R.C0.ESC+"OQ";break;case 114:N.key=T?R.C0.ESC+"[1;"+(T+1)+"R":R.C0.ESC+"OR";break;case 115:N.key=T?R.C0.ESC+"[1;"+(T+1)+"S":R.C0.ESC+"OS";break;case 116:N.key=T?R.C0.ESC+"[15;"+(T+1)+"~":R.C0.ESC+"[15~";break;case 117:N.key=T?R.C0.ESC+"[17;"+(T+1)+"~":R.C0.ESC+"[17~";break;case 118:N.key=T?R.C0.ESC+"[18;"+(T+1)+"~":R.C0.ESC+"[18~";break;case 119:N.key=T?R.C0.ESC+"[19;"+(T+1)+"~":R.C0.ESC+"[19~";break;case 120:N.key=T?R.C0.ESC+"[20;"+(T+1)+"~":R.C0.ESC+"[20~";break;case 121:N.key=T?R.C0.ESC+"[21;"+(T+1)+"~":R.C0.ESC+"[21~";break;case 122:N.key=T?R.C0.ESC+"[23;"+(T+1)+"~":R.C0.ESC+"[23~";break;case 123:N.key=T?R.C0.ESC+"[24;"+(T+1)+"~":R.C0.ESC+"[24~";break;default:if(!s.ctrlKey||s.shiftKey||s.altKey||s.metaKey)if(O&&!Q||!s.altKey||s.metaKey)!O||s.altKey||s.ctrlKey||s.shiftKey||!s.metaKey?s.key&&!s.ctrlKey&&!s.altKey&&!s.metaKey&&s.keyCode>=48&&1===s.key.length?N.key=s.key:s.key&&s.ctrlKey&&("_"===s.key&&(N.key=R.C0.US),"@"===s.key&&(N.key=R.C0.NUL)):65===s.keyCode&&(N.type=1);else{const y=b[s.keyCode],w=null==y?void 0:y[s.shiftKey?1:0];if(w)N.key=R.C0.ESC+w;else if(s.keyCode>=65&&s.keyCode<=90){let V=String.fromCharCode(s.ctrlKey?s.keyCode-64:s.keyCode+32);s.shiftKey&&(V=V.toUpperCase()),N.key=R.C0.ESC+V}else if(32===s.keyCode)N.key=R.C0.ESC+(s.ctrlKey?R.C0.NUL:" ");else if("Dead"===s.key&&s.code.startsWith("Key")){let k=s.code.slice(3,4);s.shiftKey||(k=k.toLowerCase()),N.key=R.C0.ESC+k,N.cancel=!0}}else s.keyCode>=65&&s.keyCode<=90?N.key=String.fromCharCode(s.keyCode-64):32===s.keyCode?N.key=R.C0.NUL:s.keyCode>=51&&s.keyCode<=55?N.key=String.fromCharCode(s.keyCode-51+27):56===s.keyCode?N.key=R.C0.DEL:219===s.keyCode?N.key=R.C0.ESC:220===s.keyCode?N.key=R.C0.FS:221===s.keyCode&&(N.key=R.C0.GS)}return N}},482:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Utf8ToUtf32=p.StringToUtf32=p.utf32ToString=p.stringFromCodePoint=void 0,p.stringFromCodePoint=function(x){return x>65535?(x-=65536,String.fromCharCode(55296+(x>>10))+String.fromCharCode(x%1024+56320)):String.fromCharCode(x)},p.utf32ToString=function(x,R=0,b=x.length){let s="";for(let F=R;F<b;++F){let O=x[F];O>65535?(O-=65536,s+=String.fromCharCode(55296+(O>>10))+String.fromCharCode(O%1024+56320)):s+=String.fromCharCode(O)}return s},p.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(x,R){const b=x.length;if(!b)return 0;let s=0,F=0;if(this._interim){const O=x.charCodeAt(F++);56320<=O&&O<=57343?R[s++]=1024*(this._interim-55296)+O-56320+65536:(R[s++]=this._interim,R[s++]=O),this._interim=0}for(let O=F;O<b;++O){const Q=x.charCodeAt(O);if(55296<=Q&&Q<=56319){if(++O>=b)return this._interim=Q,s;const N=x.charCodeAt(O);56320<=N&&N<=57343?R[s++]=1024*(Q-55296)+N-56320+65536:(R[s++]=Q,R[s++]=N)}else 65279!==Q&&(R[s++]=Q)}return s}},p.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(x,R){const b=x.length;if(!b)return 0;let s,F,O,Q,N=0,T=0,y=0;if(this.interim[0]){let V=!1,U=this.interim[0];U&=192==(224&U)?31:224==(240&U)?15:7;let oe,K=0;for(;(oe=63&this.interim[++K])&&K<4;)U<<=6,U|=oe;const H=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,D=H-K;for(;y<D;){if(y>=b)return 0;if(oe=x[y++],128!=(192&oe)){y--,V=!0;break}this.interim[K++]=oe,U<<=6,U|=63&oe}V||(2===H?U<128?y--:R[N++]=U:3===H?U<2048||U>=55296&&U<=57343||65279===U||(R[N++]=U):U<65536||U>1114111||(R[N++]=U)),this.interim.fill(0)}const w=b-4;let k=y;for(;k<b;){for(;!(!(k<w)||128&(s=x[k])||128&(F=x[k+1])||128&(O=x[k+2])||128&(Q=x[k+3]));)R[N++]=s,R[N++]=F,R[N++]=O,R[N++]=Q,k+=4;if(s=x[k++],s<128)R[N++]=s;else if(192==(224&s)){if(k>=b)return this.interim[0]=s,N;if(F=x[k++],128!=(192&F)){k--;continue}if(T=(31&s)<<6|63&F,T<128){k--;continue}R[N++]=T}else if(224==(240&s)){if(k>=b)return this.interim[0]=s,N;if(F=x[k++],128!=(192&F)){k--;continue}if(k>=b)return this.interim[0]=s,this.interim[1]=F,N;if(O=x[k++],128!=(192&O)){k--;continue}if(T=(15&s)<<12|(63&F)<<6|63&O,T<2048||T>=55296&&T<=57343||65279===T)continue;R[N++]=T}else if(240==(248&s)){if(k>=b)return this.interim[0]=s,N;if(F=x[k++],128!=(192&F)){k--;continue}if(k>=b)return this.interim[0]=s,this.interim[1]=F,N;if(O=x[k++],128!=(192&O)){k--;continue}if(k>=b)return this.interim[0]=s,this.interim[1]=F,this.interim[2]=O,N;if(Q=x[k++],128!=(192&Q)){k--;continue}if(T=(7&s)<<18|(63&F)<<12|(63&O)<<6|63&Q,T<65536||T>1114111)continue;R[N++]=T}}return N}}},225:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeV6=void 0;const x=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],R=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let b;p.UnicodeV6=class{constructor(){if(this.version="6",!b){b=new Uint8Array(65536),b.fill(1),b[0]=0,b.fill(0,1,32),b.fill(0,127,160),b.fill(2,4352,4448),b[9001]=2,b[9002]=2,b.fill(2,11904,42192),b[12351]=1,b.fill(2,44032,55204),b.fill(2,63744,64256),b.fill(2,65040,65050),b.fill(2,65072,65136),b.fill(2,65280,65377),b.fill(2,65504,65511);for(let s=0;s<x.length;++s)b.fill(0,x[s][0],x[s][1]+1)}}wcwidth(s){return s<32?0:s<127?1:s<65536?b[s]:function(F,O){let Q,N=0,T=O.length-1;if(F<O[0][0]||F>O[T][1])return!1;for(;T>=N;)if(Q=N+T>>1,F>O[Q][1])N=Q+1;else{if(!(F<O[Q][0]))return!0;T=Q-1}return!1}(s,R)?0:s>=131072&&s<=196605||s>=196608&&s<=262141?2:1}}},5981:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WriteBuffer=void 0;const R=x(8460),b=x(844);p.WriteBuffer=class s extends b.Disposable{constructor(O){super(),this._action=O,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new R.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(O,Q){if(void 0!==Q&&this._syncCalls>Q)return void(this._syncCalls=0);if(this._pendingData+=O.length,this._writeBuffer.push(O),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let N;for(this._isSyncWriting=!0;N=this._writeBuffer.shift();){this._action(N);const T=this._callbacks.shift();T&&T()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(O,Q){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=O.length,this._writeBuffer.push(O),this._callbacks.push(Q),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=O.length,this._writeBuffer.push(O),this._callbacks.push(Q)}_innerWrite(O=0,Q=!0){const N=O||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const T=this._writeBuffer[this._bufferOffset],y=this._action(T,Q);if(y){const k=V=>Date.now()-N>=12?setTimeout(()=>this._innerWrite(0,V)):this._innerWrite(N,V);return void y.catch(V=>(queueMicrotask(()=>{throw V}),Promise.resolve(!1))).then(k)}const w=this._callbacks[this._bufferOffset];if(w&&w(),this._bufferOffset++,this._pendingData-=T.length,Date.now()-N>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.toRgbString=p.parseColor=void 0;const x=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,R=/^[\da-f]+$/;function b(s,F){const O=s.toString(16),Q=O.length<2?"0"+O:O;switch(F){case 4:return O[0];case 8:return Q;case 12:return(Q+Q).slice(0,3);default:return Q+Q}}p.parseColor=function(s){if(!s)return;let F=s.toLowerCase();if(0===F.indexOf("rgb:")){F=F.slice(4);const O=x.exec(F);if(O){const Q=O[1]?15:O[4]?255:O[7]?4095:65535;return[Math.round(parseInt(O[1]||O[4]||O[7]||O[10],16)/Q*255),Math.round(parseInt(O[2]||O[5]||O[8]||O[11],16)/Q*255),Math.round(parseInt(O[3]||O[6]||O[9]||O[12],16)/Q*255)]}}else if(0===F.indexOf("#")&&(F=F.slice(1),R.exec(F)&&[3,6,9,12].includes(F.length))){const O=F.length/3,Q=[0,0,0];for(let N=0;N<3;++N){const T=parseInt(F.slice(O*N,O*N+O),16);Q[N]=1===O?T<<4:2===O?T:3===O?T>>4:T>>8}return Q}},p.toRgbString=function(s,F=16){const[O,Q,N]=s;return`rgb:${b(O,F)}/${b(Q,F)}/${b(N,F)}`}},5770:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PAYLOAD_LIMIT=void 0,p.PAYLOAD_LIMIT=1e7},6351:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DcsHandler=p.DcsParser=void 0;const R=x(482),b=x(8742),s=x(5770),F=[];p.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=F,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=F}registerHandler(Q,N){void 0===this._handlers[Q]&&(this._handlers[Q]=[]);const T=this._handlers[Q];return T.push(N),{dispose:()=>{const y=T.indexOf(N);-1!==y&&T.splice(y,1)}}}clearHandler(Q){this._handlers[Q]&&delete this._handlers[Q]}setHandlerFallback(Q){this._handlerFb=Q}reset(){if(this._active.length)for(let Q=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;Q>=0;--Q)this._active[Q].unhook(!1);this._stack.paused=!1,this._active=F,this._ident=0}hook(Q,N){if(this.reset(),this._ident=Q,this._active=this._handlers[Q]||F,this._active.length)for(let T=this._active.length-1;T>=0;T--)this._active[T].hook(N);else this._handlerFb(this._ident,"HOOK",N)}put(Q,N,T){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(Q,N,T);else this._handlerFb(this._ident,"PUT",(0,R.utf32ToString)(Q,N,T))}unhook(Q,N=!0){if(this._active.length){let T=!1,y=this._active.length-1,w=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,T=N,w=this._stack.fallThrough,this._stack.paused=!1),!w&&!1===T){for(;y>=0&&(T=this._active[y].unhook(Q),!0!==T);y--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,T;y--}for(;y>=0;y--)if(T=this._active[y].unhook(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,T}else this._handlerFb(this._ident,"UNHOOK",Q);this._active=F,this._ident=0}};const O=new b.Params;O.addParam(0),p.DcsHandler=class{constructor(Q){this._handler=Q,this._data="",this._params=O,this._hitLimit=!1}hook(Q){this._params=Q.length>1||Q.params[0]?Q.clone():O,this._data="",this._hitLimit=!1}put(Q,N,T){this._hitLimit||(this._data+=(0,R.utf32ToString)(Q,N,T),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(Q){let N=!1;if(this._hitLimit)N=!1;else if(Q&&(N=this._handler(this._data,this._params),N instanceof Promise))return N.then(T=>(this._params=O,this._data="",this._hitLimit=!1,T));return this._params=O,this._data="",this._hitLimit=!1,N}}},2015:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.EscapeSequenceParser=p.VT500_TRANSITION_TABLE=p.TransitionTable=void 0;const R=x(844),b=x(8742),s=x(6242),F=x(6351);class O{constructor(y){this.table=new Uint8Array(y)}setDefault(y,w){this.table.fill(y<<4|w)}add(y,w,k,V){this.table[w<<8|y]=k<<4|V}addMany(y,w,k,V){for(let U=0;U<y.length;U++)this.table[w<<8|y[U]]=k<<4|V}}p.TransitionTable=O;const Q=160;p.VT500_TRANSITION_TABLE=function(){const T=new O(4095),y=Array.apply(null,Array(256)).map((K,H)=>H),w=(K,H)=>y.slice(K,H),k=w(32,127),V=w(0,24);V.push(25),V.push.apply(V,w(28,32));const U=w(0,14);let oe;for(oe in T.setDefault(1,0),T.addMany(k,0,2,0),U)T.addMany([24,26,153,154],oe,3,0),T.addMany(w(128,144),oe,3,0),T.addMany(w(144,152),oe,3,0),T.add(156,oe,0,0),T.add(27,oe,11,1),T.add(157,oe,4,8),T.addMany([152,158,159],oe,0,7),T.add(155,oe,11,3),T.add(144,oe,11,9);return T.addMany(V,0,3,0),T.addMany(V,1,3,1),T.add(127,1,0,1),T.addMany(V,8,0,8),T.addMany(V,3,3,3),T.add(127,3,0,3),T.addMany(V,4,3,4),T.add(127,4,0,4),T.addMany(V,6,3,6),T.addMany(V,5,3,5),T.add(127,5,0,5),T.addMany(V,2,3,2),T.add(127,2,0,2),T.add(93,1,4,8),T.addMany(k,8,5,8),T.add(127,8,5,8),T.addMany([156,27,24,26,7],8,6,0),T.addMany(w(28,32),8,0,8),T.addMany([88,94,95],1,0,7),T.addMany(k,7,0,7),T.addMany(V,7,0,7),T.add(156,7,0,0),T.add(127,7,0,7),T.add(91,1,11,3),T.addMany(w(64,127),3,7,0),T.addMany(w(48,60),3,8,4),T.addMany([60,61,62,63],3,9,4),T.addMany(w(48,60),4,8,4),T.addMany(w(64,127),4,7,0),T.addMany([60,61,62,63],4,0,6),T.addMany(w(32,64),6,0,6),T.add(127,6,0,6),T.addMany(w(64,127),6,0,0),T.addMany(w(32,48),3,9,5),T.addMany(w(32,48),5,9,5),T.addMany(w(48,64),5,0,6),T.addMany(w(64,127),5,7,0),T.addMany(w(32,48),4,9,5),T.addMany(w(32,48),1,9,2),T.addMany(w(32,48),2,9,2),T.addMany(w(48,127),2,10,0),T.addMany(w(48,80),1,10,0),T.addMany(w(81,88),1,10,0),T.addMany([89,90,92],1,10,0),T.addMany(w(96,127),1,10,0),T.add(80,1,11,9),T.addMany(V,9,0,9),T.add(127,9,0,9),T.addMany(w(28,32),9,0,9),T.addMany(w(32,48),9,9,12),T.addMany(w(48,60),9,8,10),T.addMany([60,61,62,63],9,9,10),T.addMany(V,11,0,11),T.addMany(w(32,128),11,0,11),T.addMany(w(28,32),11,0,11),T.addMany(V,10,0,10),T.add(127,10,0,10),T.addMany(w(28,32),10,0,10),T.addMany(w(48,60),10,8,10),T.addMany([60,61,62,63],10,0,11),T.addMany(w(32,48),10,9,12),T.addMany(V,12,0,12),T.add(127,12,0,12),T.addMany(w(28,32),12,0,12),T.addMany(w(32,48),12,9,12),T.addMany(w(48,64),12,0,11),T.addMany(w(64,127),12,12,13),T.addMany(w(64,127),10,12,13),T.addMany(w(64,127),9,12,13),T.addMany(V,13,13,13),T.addMany(k,13,13,13),T.add(127,13,0,13),T.addMany([27,156,24,26],13,14,0),T.add(Q,0,2,0),T.add(Q,8,5,8),T.add(Q,6,0,6),T.add(Q,11,0,11),T.add(Q,13,13,13),T}(),p.EscapeSequenceParser=class N extends R.Disposable{constructor(y=p.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new b.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(w,k,V)=>{},this._executeHandlerFb=w=>{},this._csiHandlerFb=(w,k)=>{},this._escHandlerFb=w=>{},this._errorHandlerFb=w=>w,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,R.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new s.OscParser),this._dcsParser=this.register(new F.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,w=[64,126]){let k=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(k=y.prefix.charCodeAt(0),k&&60>k||k>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let U=0;U<y.intermediates.length;++U){const oe=y.intermediates.charCodeAt(U);if(32>oe||oe>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");k<<=8,k|=oe}}if(1!==y.final.length)throw new Error("final must be a single byte");const V=y.final.charCodeAt(0);if(w[0]>V||V>w[1])throw new Error(`final must be in range ${w[0]} .. ${w[1]}`);return k<<=8,k|=V,k}identToString(y){const w=[];for(;y;)w.push(String.fromCharCode(255&y)),y>>=8;return w.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,w){const k=this._identifier(y,[48,126]);void 0===this._escHandlers[k]&&(this._escHandlers[k]=[]);const V=this._escHandlers[k];return V.push(w),{dispose:()=>{const U=V.indexOf(w);-1!==U&&V.splice(U,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,w){this._executeHandlers[y.charCodeAt(0)]=w}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,w){const k=this._identifier(y);void 0===this._csiHandlers[k]&&(this._csiHandlers[k]=[]);const V=this._csiHandlers[k];return V.push(w),{dispose:()=>{const U=V.indexOf(w);-1!==U&&V.splice(U,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,w){return this._dcsParser.registerHandler(this._identifier(y),w)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,w){return this._oscParser.registerHandler(y,w)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,w,k,V,U){this._parseStack.state=y,this._parseStack.handlers=w,this._parseStack.handlerPos=k,this._parseStack.transition=V,this._parseStack.chunkPos=U}parse(y,w,k){let V,U=0,oe=0,K=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,K=this._parseStack.chunkPos+1;else{if(void 0===k||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const H=this._parseStack.handlers;let D=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===k&&D>-1)for(;D>=0&&(V=H[D](this._params),!0!==V);D--)if(V instanceof Promise)return this._parseStack.handlerPos=D,V;this._parseStack.handlers=[];break;case 4:if(!1===k&&D>-1)for(;D>=0&&(V=H[D](),!0!==V);D--)if(V instanceof Promise)return this._parseStack.handlerPos=D,V;this._parseStack.handlers=[];break;case 6:if(U=y[this._parseStack.chunkPos],V=this._dcsParser.unhook(24!==U&&26!==U,k),V)return V;27===U&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(U=y[this._parseStack.chunkPos],V=this._oscParser.end(24!==U&&26!==U,k),V)return V;27===U&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,K=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let H=K;H<w;++H){switch(U=y[H],oe=this._transitions.table[this.currentState<<8|(U<160?U:Q)],oe>>4){case 2:for(let j=H+1;;++j){if(j>=w||(U=y[j])<32||U>126&&U<Q){this._printHandler(y,H,j),H=j-1;break}if(++j>=w||(U=y[j])<32||U>126&&U<Q){this._printHandler(y,H,j),H=j-1;break}if(++j>=w||(U=y[j])<32||U>126&&U<Q){this._printHandler(y,H,j),H=j-1;break}if(++j>=w||(U=y[j])<32||U>126&&U<Q){this._printHandler(y,H,j),H=j-1;break}}break;case 3:this._executeHandlers[U]?this._executeHandlers[U]():this._executeHandlerFb(U),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:H,code:U,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const D=this._csiHandlers[this._collect<<8|U];let P=D?D.length-1:-1;for(;P>=0&&(V=D[P](this._params),!0!==V);P--)if(V instanceof Promise)return this._preserveStack(3,D,P,oe,H),V;P<0&&this._csiHandlerFb(this._collect<<8|U,this._params),this.precedingCodepoint=0;break;case 8:do{switch(U){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(U-48)}}while(++H<w&&(U=y[H])>47&&U<60);H--;break;case 9:this._collect<<=8,this._collect|=U;break;case 10:const Y=this._escHandlers[this._collect<<8|U];let re=Y?Y.length-1:-1;for(;re>=0&&(V=Y[re](),!0!==V);re--)if(V instanceof Promise)return this._preserveStack(4,Y,re,oe,H),V;re<0&&this._escHandlerFb(this._collect<<8|U),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|U,this._params);break;case 13:for(let j=H+1;;++j)if(j>=w||24===(U=y[j])||26===U||27===U||U>127&&U<Q){this._dcsParser.put(y,H,j),H=j-1;break}break;case 14:if(V=this._dcsParser.unhook(24!==U&&26!==U),V)return this._preserveStack(6,[],0,oe,H),V;27===U&&(oe|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let j=H+1;;j++)if(j>=w||(U=y[j])<32||U>127&&U<Q){this._oscParser.put(y,H,j),H=j-1;break}break;case 6:if(V=this._oscParser.end(24!==U&&26!==U),V)return this._preserveStack(5,[],0,oe,H),V;27===U&&(oe|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&oe}}}},6242:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.OscHandler=p.OscParser=void 0;const R=x(5770),b=x(482),s=[];p.OscParser=class{constructor(){this._state=0,this._active=s,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(F,O){void 0===this._handlers[F]&&(this._handlers[F]=[]);const Q=this._handlers[F];return Q.push(O),{dispose:()=>{const N=Q.indexOf(O);-1!==N&&Q.splice(N,1)}}}clearHandler(F){this._handlers[F]&&delete this._handlers[F]}setHandlerFallback(F){this._handlerFb=F}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=s}reset(){if(2===this._state)for(let F=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;F>=0;--F)this._active[F].end(!1);this._stack.paused=!1,this._active=s,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||s,this._active.length)for(let F=this._active.length-1;F>=0;F--)this._active[F].start();else this._handlerFb(this._id,"START")}_put(F,O,Q){if(this._active.length)for(let N=this._active.length-1;N>=0;N--)this._active[N].put(F,O,Q);else this._handlerFb(this._id,"PUT",(0,b.utf32ToString)(F,O,Q))}start(){this.reset(),this._state=1}put(F,O,Q){if(3!==this._state){if(1===this._state)for(;O<Q;){const N=F[O++];if(59===N){this._state=2,this._start();break}if(N<48||57<N)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+N-48}2===this._state&&Q-O>0&&this._put(F,O,Q)}}end(F,O=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let Q=!1,N=this._active.length-1,T=!1;if(this._stack.paused&&(N=this._stack.loopPosition-1,Q=O,T=this._stack.fallThrough,this._stack.paused=!1),!T&&!1===Q){for(;N>=0&&(Q=this._active[N].end(F),!0!==Q);N--)if(Q instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!1,Q;N--}for(;N>=0;N--)if(Q=this._active[N].end(!1),Q instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!0,Q}else this._handlerFb(this._id,"END",F);this._active=s,this._id=-1,this._state=0}}},p.OscHandler=class{constructor(F){this._handler=F,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(F,O,Q){this._hitLimit||(this._data+=(0,b.utf32ToString)(F,O,Q),this._data.length>R.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(F){let O=!1;if(this._hitLimit)O=!1;else if(F&&(O=this._handler(this._data),O instanceof Promise))return O.then(Q=>(this._data="",this._hitLimit=!1,Q));return this._data="",this._hitLimit=!1,O}}},8742:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.Params=void 0;const x=2147483647;class R{static fromArray(s){const F=new R;if(!s.length)return F;for(let O=Array.isArray(s[0])?1:0;O<s.length;++O){const Q=s[O];if(Array.isArray(Q))for(let N=0;N<Q.length;++N)F.addSubParam(Q[N]);else F.addParam(Q)}return F}constructor(s=32,F=32){if(this.maxLength=s,this.maxSubParamsLength=F,F>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(s),this.length=0,this._subParams=new Int32Array(F),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(s),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const s=new R(this.maxLength,this.maxSubParamsLength);return s.params.set(this.params),s.length=this.length,s._subParams.set(this._subParams),s._subParamsLength=this._subParamsLength,s._subParamsIdx.set(this._subParamsIdx),s._rejectDigits=this._rejectDigits,s._rejectSubDigits=this._rejectSubDigits,s._digitIsSub=this._digitIsSub,s}toArray(){const s=[];for(let F=0;F<this.length;++F){s.push(this.params[F]);const O=this._subParamsIdx[F]>>8,Q=255&this._subParamsIdx[F];Q-O>0&&s.push(Array.prototype.slice.call(this._subParams,O,Q))}return s}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(s){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(s<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=s>x?x:s}}addSubParam(s){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(s<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=s>x?x:s,this._subParamsIdx[this.length-1]++}}hasSubParams(s){return(255&this._subParamsIdx[s])-(this._subParamsIdx[s]>>8)>0}getSubParams(s){const F=this._subParamsIdx[s]>>8,O=255&this._subParamsIdx[s];return O-F>0?this._subParams.subarray(F,O):null}getSubParamsAll(){const s={};for(let F=0;F<this.length;++F){const O=this._subParamsIdx[F]>>8,Q=255&this._subParamsIdx[F];Q-O>0&&(s[F]=this._subParams.slice(O,Q))}return s}addDigit(s){let F;if(this._rejectDigits||!(F=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const O=this._digitIsSub?this._subParams:this.params,Q=O[F-1];O[F-1]=~Q?Math.min(10*Q+s,x):s}}p.Params=R},5741:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.AddonManager=void 0,p.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let x=this._addons.length-1;x>=0;x--)this._addons[x].instance.dispose()}loadAddon(x,R){const b={instance:R,dispose:R.dispose,isDisposed:!1};this._addons.push(b),R.dispose=()=>this._wrappedAddonDispose(b),R.activate(x)}_wrappedAddonDispose(x){if(x.isDisposed)return;let R=-1;for(let b=0;b<this._addons.length;b++)if(this._addons[b]===x){R=b;break}if(-1===R)throw new Error("Could not dispose an addon that has not been loaded");x.isDisposed=!0,x.dispose.apply(x.instance),this._addons.splice(R,1)}}},8771:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferApiView=void 0;const R=x(3785),b=x(511);p.BufferApiView=class{constructor(s,F){this._buffer=s,this.type=F}init(s){return this._buffer=s,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(s){const F=this._buffer.lines.get(s);if(F)return new R.BufferLineApiView(F)}getNullCell(){return new b.CellData}}},3785:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferLineApiView=void 0;const R=x(511);p.BufferLineApiView=class{constructor(b){this._line=b}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(b,s){if(!(b<0||b>=this._line.length))return s?(this._line.loadCell(b,s),s):this._line.loadCell(b,new R.CellData)}translateToString(b,s,F){return this._line.translateToString(b,s,F)}}},8285:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BufferNamespaceApi=void 0;const R=x(8771),b=x(8460),s=x(844);p.BufferNamespaceApi=class F extends s.Disposable{constructor(Q){super(),this._core=Q,this._onBufferChange=this.register(new b.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new R.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new R.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ParserApi=void 0,p.ParserApi=class{constructor(x){this._core=x}registerCsiHandler(x,R){return this._core.registerCsiHandler(x,b=>R(b.toArray()))}addCsiHandler(x,R){return this.registerCsiHandler(x,R)}registerDcsHandler(x,R){return this._core.registerDcsHandler(x,(b,s)=>R(b,s.toArray()))}addDcsHandler(x,R){return this.registerDcsHandler(x,R)}registerEscHandler(x,R){return this._core.registerEscHandler(x,R)}addEscHandler(x,R){return this.registerEscHandler(x,R)}registerOscHandler(x,R){return this._core.registerOscHandler(x,R)}addOscHandler(x,R){return this.registerOscHandler(x,R)}}},7090:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeApi=void 0,p.UnicodeApi=class{constructor(x){this._core=x}register(x){this._core.unicodeService.register(x)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(x){this._core.unicodeService.activeVersion=x}}},744:function(u,p,x){var R=this&&this.__decorate||function(T,y,w,k){var V,U=arguments.length,oe=U<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(T,y,w,k);else for(var K=T.length-1;K>=0;K--)(V=T[K])&&(oe=(U<3?V(oe):U>3?V(y,w,oe):V(y,w))||oe);return U>3&&oe&&Object.defineProperty(y,w,oe),oe},b=this&&this.__param||function(T,y){return function(w,k){y(w,k,T)}};Object.defineProperty(p,"__esModule",{value:!0}),p.BufferService=p.MINIMUM_ROWS=p.MINIMUM_COLS=void 0;const s=x(8460),F=x(844),O=x(5295),Q=x(2585);p.MINIMUM_COLS=2,p.MINIMUM_ROWS=1;let N=p.BufferService=class extends F.Disposable{get buffer(){return this.buffers.active}constructor(T){super(),this.isUserScrolling=!1,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new s.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(T.rawOptions.cols||0,p.MINIMUM_COLS),this.rows=Math.max(T.rawOptions.rows||0,p.MINIMUM_ROWS),this.buffers=this.register(new O.BufferSet(T,this))}resize(T,y){this.cols=T,this.rows=y,this.buffers.resize(T,y),this._onResize.fire({cols:T,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(T,y=!1){const w=this.buffer;let k;k=this._cachedBlankLine,k&&k.length===this.cols&&k.getFg(0)===T.fg&&k.getBg(0)===T.bg||(k=w.getBlankLine(T,y),this._cachedBlankLine=k),k.isWrapped=y;const V=w.ybase+w.scrollTop,U=w.ybase+w.scrollBottom;if(0===w.scrollTop){const oe=w.lines.isFull;U===w.lines.length-1?oe?w.lines.recycle().copyFrom(k):w.lines.push(k.clone()):w.lines.splice(U+1,0,k.clone()),oe?this.isUserScrolling&&(w.ydisp=Math.max(w.ydisp-1,0)):(w.ybase++,this.isUserScrolling||w.ydisp++)}else w.lines.shiftElements(V+1,U-V+1-1,-1),w.lines.set(U,k.clone());this.isUserScrolling||(w.ydisp=w.ybase),this._onScroll.fire(w.ydisp)}scrollLines(T,y,w){const k=this.buffer;if(T<0){if(0===k.ydisp)return;this.isUserScrolling=!0}else T+k.ydisp>=k.ybase&&(this.isUserScrolling=!1);const V=k.ydisp;k.ydisp=Math.max(Math.min(k.ydisp+T,k.ybase),0),V!==k.ydisp&&(y||this._onScroll.fire(k.ydisp))}};p.BufferService=N=R([b(0,Q.IOptionsService)],N)},7994:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CharsetService=void 0,p.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(x){this.glevel=x,this.charset=this._charsets[x]}setgCharset(x,R){this._charsets[x]=R,this.glevel===x&&(this.charset=R)}}},1753:function(u,p,x){var R=this&&this.__decorate||function(k,V,U,oe){var K,H=arguments.length,D=H<3?V:null===oe?oe=Object.getOwnPropertyDescriptor(V,U):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(k,V,U,oe);else for(var P=k.length-1;P>=0;P--)(K=k[P])&&(D=(H<3?K(D):H>3?K(V,U,D):K(V,U))||D);return H>3&&D&&Object.defineProperty(V,U,D),D},b=this&&this.__param||function(k,V){return function(U,oe){V(U,oe,k)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CoreMouseService=void 0;const s=x(2585),F=x(8460),O=x(844),Q={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:k=>4!==k.button&&1===k.action&&(k.ctrl=!1,k.alt=!1,k.shift=!1,!0)},VT200:{events:19,restrict:k=>32!==k.action},DRAG:{events:23,restrict:k=>32!==k.action||3!==k.button},ANY:{events:31,restrict:k=>!0}};function N(k,V){let U=(k.ctrl?16:0)|(k.shift?4:0)|(k.alt?8:0);return 4===k.button?(U|=64,U|=k.action):(U|=3&k.button,4&k.button&&(U|=64),8&k.button&&(U|=128),32===k.action?U|=32:0!==k.action||V||(U|=3)),U}const T=String.fromCharCode,y={DEFAULT:k=>{const V=[N(k,!1)+32,k.col+32,k.row+32];return V[0]>255||V[1]>255||V[2]>255?"":`\x1b[M${T(V[0])}${T(V[1])}${T(V[2])}`},SGR:k=>{const V=0===k.action&&4!==k.button?"m":"M";return`\x1b[<${N(k,!0)};${k.col};${k.row}${V}`},SGR_PIXELS:k=>{const V=0===k.action&&4!==k.button?"m":"M";return`\x1b[<${N(k,!0)};${k.x};${k.y}${V}`}};let w=p.CoreMouseService=class extends O.Disposable{constructor(k,V){super(),this._bufferService=k,this._coreService=V,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new F.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const U of Object.keys(Q))this.addProtocol(U,Q[U]);for(const U of Object.keys(y))this.addEncoding(U,y[U]);this.reset()}addProtocol(k,V){this._protocols[k]=V}addEncoding(k,V){this._encodings[k]=V}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(k){if(!this._protocols[k])throw new Error(`unknown protocol "${k}"`);this._activeProtocol=k,this._onProtocolChange.fire(this._protocols[k].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(k){if(!this._encodings[k])throw new Error(`unknown encoding "${k}"`);this._activeEncoding=k}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(k){if(k.col<0||k.col>=this._bufferService.cols||k.row<0||k.row>=this._bufferService.rows||4===k.button&&32===k.action||3===k.button&&32!==k.action||4!==k.button&&(2===k.action||3===k.action)||(k.col++,k.row++,32===k.action&&this._lastEvent&&this._equalEvents(this._lastEvent,k,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(k))return!1;const V=this._encodings[this._activeEncoding](k);return V&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(V):this._coreService.triggerDataEvent(V,!0)),this._lastEvent=k,!0}explainEvents(k){return{down:!!(1&k),up:!!(2&k),drag:!!(4&k),move:!!(8&k),wheel:!!(16&k)}}_equalEvents(k,V,U){if(U){if(k.x!==V.x||k.y!==V.y)return!1}else if(k.col!==V.col||k.row!==V.row)return!1;return k.button===V.button&&k.action===V.action&&k.ctrl===V.ctrl&&k.alt===V.alt&&k.shift===V.shift}};p.CoreMouseService=w=R([b(0,s.IBufferService),b(1,s.ICoreService)],w)},6975:function(u,p,x){var R=this&&this.__decorate||function(w,k,V,U){var oe,K=arguments.length,H=K<3?k:null===U?U=Object.getOwnPropertyDescriptor(k,V):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(w,k,V,U);else for(var D=w.length-1;D>=0;D--)(oe=w[D])&&(H=(K<3?oe(H):K>3?oe(k,V,H):oe(k,V))||H);return K>3&&H&&Object.defineProperty(k,V,H),H},b=this&&this.__param||function(w,k){return function(V,U){k(V,U,w)}};Object.defineProperty(p,"__esModule",{value:!0}),p.CoreService=void 0;const s=x(1439),F=x(8460),O=x(844),Q=x(2585),N=Object.freeze({insertMode:!1}),T=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=p.CoreService=class extends O.Disposable{constructor(w,k,V){super(),this._bufferService=w,this._logService=k,this._optionsService=V,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new F.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new F.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new F.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new F.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,s.clone)(N),this.decPrivateModes=(0,s.clone)(T)}reset(){this.modes=(0,s.clone)(N),this.decPrivateModes=(0,s.clone)(T)}triggerDataEvent(w,k=!1){if(this._optionsService.rawOptions.disableStdin)return;const V=this._bufferService.buffer;k&&this._optionsService.rawOptions.scrollOnUserInput&&V.ybase!==V.ydisp&&this._onRequestScrollToBottom.fire(),k&&this._onUserInput.fire(),this._logService.debug(`sending data "${w}"`,()=>w.split("").map(U=>U.charCodeAt(0))),this._onData.fire(w)}triggerBinaryEvent(w){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${w}"`,()=>w.split("").map(k=>k.charCodeAt(0))),this._onBinary.fire(w))}};p.CoreService=y=R([b(0,Q.IBufferService),b(1,Q.ILogService),b(2,Q.IOptionsService)],y)},9074:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DecorationService=void 0;const R=x(8055),b=x(8460),s=x(844),F=x(6106);let O=0,Q=0;p.DecorationService=class N extends s.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new F.SortedList(w=>null==w?void 0:w.marker.line),this._onDecorationRegistered=this.register(new b.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new b.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,s.toDisposable)(()=>this.reset()))}registerDecoration(w){if(w.marker.isDisposed)return;const k=new T(w);if(k){const V=k.marker.onDispose(()=>k.dispose());k.onDispose(()=>{k&&(this._decorations.delete(k)&&this._onDecorationRemoved.fire(k),V.dispose())}),this._decorations.insert(k),this._onDecorationRegistered.fire(k)}return k}reset(){for(const w of this._decorations.values())w.dispose();this._decorations.clear()}*getDecorationsAtCell(w,k,V){var U,oe,K;let H=0,D=0;for(const P of this._decorations.getKeyIterator(k))H=null!==(U=P.options.x)&&void 0!==U?U:0,D=H+(null!==(oe=P.options.width)&&void 0!==oe?oe:1),w>=H&&w<D&&(!V||(null!==(K=P.options.layer)&&void 0!==K?K:"bottom")===V)&&(yield P)}forEachDecorationAtCell(w,k,V,U){this._decorations.forEachByKey(k,oe=>{var K,H,D;O=null!==(K=oe.options.x)&&void 0!==K?K:0,Q=O+(null!==(H=oe.options.width)&&void 0!==H?H:1),w>=O&&w<Q&&(!V||(null!==(D=oe.options.layer)&&void 0!==D?D:"bottom")===V)&&U(oe)})}};class T extends s.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?R.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?R.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(w){super(),this.options=w,this.onRenderEmitter=this.register(new b.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new b.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=w.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.InstantiationService=p.ServiceCollection=void 0;const R=x(2585),b=x(8343);class s{constructor(...O){this._entries=new Map;for(const[Q,N]of O)this.set(Q,N)}set(O,Q){const N=this._entries.get(O);return this._entries.set(O,Q),N}forEach(O){for(const[Q,N]of this._entries.entries())O(Q,N)}has(O){return this._entries.has(O)}get(O){return this._entries.get(O)}}p.ServiceCollection=s,p.InstantiationService=class{constructor(){this._services=new s,this._services.set(R.IInstantiationService,this)}setService(F,O){this._services.set(F,O)}getService(F){return this._services.get(F)}createInstance(F,...O){const Q=(0,b.getServiceDependencies)(F).sort((y,w)=>y.index-w.index),N=[];for(const y of Q){const w=this._services.get(y.id);if(!w)throw new Error(`[createInstance] ${F.name} depends on UNKNOWN service ${y.id}.`);N.push(w)}const T=Q.length>0?Q[0].index:O.length;if(O.length!==T)throw new Error(`[createInstance] First service dependency of ${F.name} at position ${T+1} conflicts with ${O.length} static arguments`);return new F(...O,...N)}}},7866:function(u,p,x){var R=this&&this.__decorate||function(T,y,w,k){var V,U=arguments.length,oe=U<3?y:null===k?k=Object.getOwnPropertyDescriptor(y,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(T,y,w,k);else for(var K=T.length-1;K>=0;K--)(V=T[K])&&(oe=(U<3?V(oe):U>3?V(y,w,oe):V(y,w))||oe);return U>3&&oe&&Object.defineProperty(y,w,oe),oe},b=this&&this.__param||function(T,y){return function(w,k){y(w,k,T)}};Object.defineProperty(p,"__esModule",{value:!0}),p.traceCall=p.setTraceLogger=p.LogService=void 0;const s=x(844),F=x(2585),O={trace:F.LogLevelEnum.TRACE,debug:F.LogLevelEnum.DEBUG,info:F.LogLevelEnum.INFO,warn:F.LogLevelEnum.WARN,error:F.LogLevelEnum.ERROR,off:F.LogLevelEnum.OFF};let Q,N=p.LogService=class extends s.Disposable{get logLevel(){return this._logLevel}constructor(T){super(),this._optionsService=T,this._logLevel=F.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),Q=this}_updateLogLevel(){this._logLevel=O[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(T){for(let y=0;y<T.length;y++)"function"==typeof T[y]&&(T[y]=T[y]())}_log(T,y,w){this._evalLazyOptionalParams(w),T.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...w)}trace(T,...y){var w,k;this._logLevel<=F.LogLevelEnum.TRACE&&this._log(null!==(k=null===(w=this._optionsService.options.logger)||void 0===w?void 0:w.trace.bind(this._optionsService.options.logger))&&void 0!==k?k:console.log,T,y)}debug(T,...y){var w,k;this._logLevel<=F.LogLevelEnum.DEBUG&&this._log(null!==(k=null===(w=this._optionsService.options.logger)||void 0===w?void 0:w.debug.bind(this._optionsService.options.logger))&&void 0!==k?k:console.log,T,y)}info(T,...y){var w,k;this._logLevel<=F.LogLevelEnum.INFO&&this._log(null!==(k=null===(w=this._optionsService.options.logger)||void 0===w?void 0:w.info.bind(this._optionsService.options.logger))&&void 0!==k?k:console.info,T,y)}warn(T,...y){var w,k;this._logLevel<=F.LogLevelEnum.WARN&&this._log(null!==(k=null===(w=this._optionsService.options.logger)||void 0===w?void 0:w.warn.bind(this._optionsService.options.logger))&&void 0!==k?k:console.warn,T,y)}error(T,...y){var w,k;this._logLevel<=F.LogLevelEnum.ERROR&&this._log(null!==(k=null===(w=this._optionsService.options.logger)||void 0===w?void 0:w.error.bind(this._optionsService.options.logger))&&void 0!==k?k:console.error,T,y)}};p.LogService=N=R([b(0,F.IOptionsService)],N),p.setTraceLogger=function(T){Q=T},p.traceCall=function(T,y,w){if("function"!=typeof w.value)throw new Error("not supported");const k=w.value;w.value=function(...V){if(Q.logLevel!==F.LogLevelEnum.TRACE)return k.apply(this,V);Q.trace(`GlyphRenderer#${k.name}(${V.map(oe=>JSON.stringify(oe)).join(", ")})`);const U=k.apply(this,V);return Q.trace(`GlyphRenderer#${k.name} return`,U),U}}},7302:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.OptionsService=p.DEFAULT_OPTIONS=void 0;const R=x(8460),b=x(844),s=x(6114);p.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:s.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const F=["normal","bold","100","200","300","400","500","600","700","800","900"];p.OptionsService=class O extends b.Disposable{constructor(N){super(),this._onOptionChange=this.register(new R.EventEmitter),this.onOptionChange=this._onOptionChange.event;const T=Object.assign({},p.DEFAULT_OPTIONS);for(const y in N)if(y in T)try{T[y]=this._sanitizeAndValidateOption(y,N[y])}catch(w){console.error(w)}this.rawOptions=T,this.options=Object.assign({},T),this._setupOptions()}onSpecificOptionChange(N,T){return this.onOptionChange(y=>{y===N&&T(this.rawOptions[N])})}onMultipleOptionChange(N,T){return this.onOptionChange(y=>{-1!==N.indexOf(y)&&T()})}_setupOptions(){const N=y=>{if(!(y in p.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},T=(y,w)=>{if(!(y in p.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);w=this._sanitizeAndValidateOption(y,w),this.rawOptions[y]!==w&&(this.rawOptions[y]=w,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const w={get:N.bind(this,y),set:T.bind(this,y)};Object.defineProperty(this.options,y,w)}}_sanitizeAndValidateOption(N,T){switch(N){case"cursorStyle":if(T||(T=p.DEFAULT_OPTIONS[N]),"block"!==(y=T)&&"underline"!==y&&"bar"!==y)throw new Error(`"${T}" is not a valid value for ${N}`);break;case"wordSeparator":T||(T=p.DEFAULT_OPTIONS[N]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof T&&1<=T&&T<=1e3)break;T=F.includes(T)?T:p.DEFAULT_OPTIONS[N];break;case"cursorWidth":T=Math.floor(T);case"lineHeight":case"tabStopWidth":if(T<1)throw new Error(`${N} cannot be less than 1, value: ${T}`);break;case"minimumContrastRatio":T=Math.max(1,Math.min(21,Math.round(10*T)/10));break;case"scrollback":if((T=Math.min(T,4294967295))<0)throw new Error(`${N} cannot be less than 0, value: ${T}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(T<=0)throw new Error(`${N} cannot be less than or equal to 0, value: ${T}`);break;case"rows":case"cols":if(!T&&0!==T)throw new Error(`${N} must be numeric, value: ${T}`);break;case"windowsPty":T=null!=T?T:{}}var y;return T}}},2660:function(u,p,x){var R=this&&this.__decorate||function(O,Q,N,T){var y,w=arguments.length,k=w<3?Q:null===T?T=Object.getOwnPropertyDescriptor(Q,N):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(O,Q,N,T);else for(var V=O.length-1;V>=0;V--)(y=O[V])&&(k=(w<3?y(k):w>3?y(Q,N,k):y(Q,N))||k);return w>3&&k&&Object.defineProperty(Q,N,k),k},b=this&&this.__param||function(O,Q){return function(N,T){Q(N,T,O)}};Object.defineProperty(p,"__esModule",{value:!0}),p.OscLinkService=void 0;const s=x(2585);let F=p.OscLinkService=class{constructor(O){this._bufferService=O,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(O){const Q=this._bufferService.buffer;if(void 0===O.id){const V=Q.addMarker(Q.ybase+Q.y),U={data:O,id:this._nextId++,lines:[V]};return V.onDispose(()=>this._removeMarkerFromLink(U,V)),this._dataByLinkId.set(U.id,U),U.id}const N=O,T=this._getEntryIdKey(N),y=this._entriesWithId.get(T);if(y)return this.addLineToLink(y.id,Q.ybase+Q.y),y.id;const w=Q.addMarker(Q.ybase+Q.y),k={id:this._nextId++,key:this._getEntryIdKey(N),data:N,lines:[w]};return w.onDispose(()=>this._removeMarkerFromLink(k,w)),this._entriesWithId.set(k.key,k),this._dataByLinkId.set(k.id,k),k.id}addLineToLink(O,Q){const N=this._dataByLinkId.get(O);if(N&&N.lines.every(T=>T.line!==Q)){const T=this._bufferService.buffer.addMarker(Q);N.lines.push(T),T.onDispose(()=>this._removeMarkerFromLink(N,T))}}getLinkData(O){var Q;return null===(Q=this._dataByLinkId.get(O))||void 0===Q?void 0:Q.data}_getEntryIdKey(O){return`${O.id};;${O.uri}`}_removeMarkerFromLink(O,Q){const N=O.lines.indexOf(Q);-1!==N&&(O.lines.splice(N,1),0===O.lines.length&&(void 0!==O.data.id&&this._entriesWithId.delete(O.key),this._dataByLinkId.delete(O.id)))}};p.OscLinkService=F=R([b(0,s.IBufferService)],F)},8343:(u,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.createDecorator=p.getServiceDependencies=p.serviceRegistry=void 0;const x="di$target",R="di$dependencies";p.serviceRegistry=new Map,p.getServiceDependencies=function(b){return b[R]||[]},p.createDecorator=function(b){if(p.serviceRegistry.has(b))return p.serviceRegistry.get(b);const s=function(F,O,Q){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var N,T,y;N=s,y=Q,(T=F)[x]===T?T[R].push({id:N,index:y}):(T[R]=[{id:N,index:y}],T[x]=T)};return s.toString=()=>b,p.serviceRegistry.set(b,s),s}},2585:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.IDecorationService=p.IUnicodeService=p.IOscLinkService=p.IOptionsService=p.ILogService=p.LogLevelEnum=p.IInstantiationService=p.ICharsetService=p.ICoreService=p.ICoreMouseService=p.IBufferService=void 0;const R=x(8343);var b,s;p.IBufferService=(0,R.createDecorator)("BufferService"),p.ICoreMouseService=(0,R.createDecorator)("CoreMouseService"),p.ICoreService=(0,R.createDecorator)("CoreService"),p.ICharsetService=(0,R.createDecorator)("CharsetService"),p.IInstantiationService=(0,R.createDecorator)("InstantiationService"),(s=b||(p.LogLevelEnum=b={}))[s.TRACE=0]="TRACE",s[s.DEBUG=1]="DEBUG",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.OFF=5]="OFF",p.ILogService=(0,R.createDecorator)("LogService"),p.IOptionsService=(0,R.createDecorator)("OptionsService"),p.IOscLinkService=(0,R.createDecorator)("OscLinkService"),p.IUnicodeService=(0,R.createDecorator)("UnicodeService"),p.IDecorationService=(0,R.createDecorator)("DecorationService")},1480:(u,p,x)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.UnicodeService=void 0;const R=x(8460),b=x(225);p.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new R.EventEmitter,this.onChange=this._onChange.event;const s=new b.UnicodeV6;this.register(s),this._active=s.version,this._activeProvider=s}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(s){if(!this._providers[s])throw new Error(`unknown Unicode version "${s}"`);this._active=s,this._activeProvider=this._providers[s],this._onChange.fire(s)}register(s){this._providers[s.version]=s}wcwidth(s){return this._activeProvider.wcwidth(s)}getStringCellWidth(s){let F=0;const O=s.length;for(let Q=0;Q<O;++Q){let N=s.charCodeAt(Q);if(55296<=N&&N<=56319){if(++Q>=O)return F+this.wcwidth(N);const T=s.charCodeAt(Q);56320<=T&&T<=57343?N=1024*(N-55296)+T-56320+65536:F+=this.wcwidth(T)}F+=this.wcwidth(N)}return F}}}},C={};function e(u){var p=C[u];if(void 0!==p)return p.exports;var x=C[u]={exports:{}};return pt[u].call(x.exports,x,x.exports,e),x.exports}var d={};return(()=>{var u=d;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const p=e(9042),x=e(3236),R=e(844),b=e(5741),s=e(8285),F=e(7975),O=e(7090),Q=["cols","rows"];u.Terminal=class N extends R.Disposable{constructor(y){super(),this._core=this.register(new x.Terminal(y)),this._addonManager=this.register(new b.AddonManager),this._publicOptions=Object.assign({},this._core.options);const w=V=>this._core.options[V],k=(V,U)=>{this._checkReadonlyOptions(V),this._core.options[V]=U};for(const V in this._core.options){const U={get:w.bind(this,V),set:k.bind(this,V)};Object.defineProperty(this._publicOptions,V,U)}}_checkReadonlyOptions(y){if(Q.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new F.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new O.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new s.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let w="none";switch(this._core.coreMouseService.activeProtocol){case"X10":w="x10";break;case"VT200":w="vt200";break;case"DRAG":w="drag";break;case"ANY":w="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:w,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const w in y)this._publicOptions[w]=y[w]}blur(){this._core.blur()}focus(){this._core.focus()}resize(y,w){this._verifyIntegers(y,w),this._core.resize(y,w)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){var w,k,V;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(w=y.x)&&void 0!==w?w:0,null!==(k=y.width)&&void 0!==k?k:0,null!==(V=y.height)&&void 0!==V?V:0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,w,k){this._verifyIntegers(y,w,k),this._core.select(y,w,k)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,w){this._verifyIntegers(y,w),this._core.selectLines(y,w)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,w){this._core.write(y,w)}writeln(y,w){this._core.write(y),this._core.write("\r\n",w)}paste(y){this._core.paste(y)}refresh(y,w){this._verifyIntegers(y,w),this._core.refresh(y,w)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return p}_verifyIntegers(...y){for(const w of y)if(w===1/0||isNaN(w)||w%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const w of y)if(w&&(w===1/0||isNaN(w)||w%1!=0||w<0))throw new Error("This API only accepts positive integers")}}})(),d})())()},5987:(dn,pt,C)=>{"use strict";function s(G,ie,Te,Me){return new(Te||(Te=Promise))(function(te,ce){function J(Be){try{be(Me.next(Be))}catch(we){ce(we)}}function ve(Be){try{be(Me.throw(Be))}catch(we){ce(we)}}function be(Be){Be.done?te(Be.value):function de(te){return te instanceof Te?te:new Te(function(ce){ce(te)})}(Be.value).then(J,ve)}be((Me=Me.apply(G,ie||[])).next())})}function V(G){return this instanceof V?(this.v=G,this):new V(G)}function U(G,ie,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,Me=Te.apply(G,ie||[]),te=[];return de={},ce("next"),ce("throw"),ce("return"),de[Symbol.asyncIterator]=function(){return this},de;function ce(ke){Me[ke]&&(de[ke]=function(X){return new Promise(function(q,pe){te.push([ke,X,q,pe])>1||J(ke,X)})})}function J(ke,X){try{!function ve(ke){ke.value instanceof V?Promise.resolve(ke.value.v).then(be,Be):we(te[0][2],ke)}(Me[ke](X))}catch(q){we(te[0][3],q)}}function be(ke){J("next",ke)}function Be(ke){J("throw",ke)}function we(ke,X){ke(X),te.shift(),te.length&&J(te[0][0],te[0][1])}}function K(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ie=G[Symbol.asyncIterator];return ie?ie.call(G):(G=function N(G){var ie="function"==typeof Symbol&&Symbol.iterator,Te=ie&&G[ie],Me=0;if(Te)return Te.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&Me>=G.length&&(G=void 0),{value:G&&G[Me++],done:!G}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),Te={},Me("next"),Me("throw"),Me("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Me(te){Te[te]=G[te]&&function(ce){return new Promise(function(J,ve){!function de(te,ce,J,ve){Promise.resolve(ve).then(function(be){te({value:be,done:J})},ce)}(J,ve,(ce=G[te](ce)).done,ce.value)})}}}C.d(pt,{FC:()=>U,KL:()=>K,mG:()=>s,qq:()=>V})},655:(dn,pt,C)=>{"use strict";function p(ie,Te){var Me={};for(var de in ie)Object.prototype.hasOwnProperty.call(ie,de)&&Te.indexOf(de)<0&&(Me[de]=ie[de]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(de=Object.getOwnPropertySymbols(ie);te<de.length;te++)Te.indexOf(de[te])<0&&Object.prototype.propertyIsEnumerable.call(ie,de[te])&&(Me[de[te]]=ie[de[te]])}return Me}function x(ie,Te,Me,de){var J,te=arguments.length,ce=te<3?Te:null===de?de=Object.getOwnPropertyDescriptor(Te,Me):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(ie,Te,Me,de);else for(var ve=ie.length-1;ve>=0;ve--)(J=ie[ve])&&(ce=(te<3?J(ce):te>3?J(Te,Me,ce):J(Te,Me))||ce);return te>3&&ce&&Object.defineProperty(Te,Me,ce),ce}function s(ie,Te,Me,de){return new(Me||(Me=Promise))(function(ce,J){function ve(we){try{Be(de.next(we))}catch(ke){J(ke)}}function be(we){try{Be(de.throw(we))}catch(ke){J(ke)}}function Be(we){we.done?ce(we.value):function te(ce){return ce instanceof Me?ce:new Me(function(J){J(ce)})}(we.value).then(ve,be)}Be((de=de.apply(ie,Te||[])).next())})}C.d(pt,{_T:()=>p,gn:()=>x,mG:()=>s})},1777:(dn,pt,C)=>{"use strict";C.d(pt,{EY:()=>k,IO:()=>w,LC:()=>d,SB:()=>F,X$:()=>p,ZE:()=>oe,ZN:()=>U,_7:()=>y,_j:()=>e,eR:()=>Q,jt:()=>x,k1:()=>K,l3:()=>u,oB:()=>s,oQ:()=>N,pV:()=>T,vP:()=>b});class e{}class d{}const u="*";function p(H,D){return{type:7,name:H,definitions:D,options:{}}}function x(H,D=null){return{type:4,styles:D,timings:H}}function b(H,D=null){return{type:2,steps:H,options:D}}function s(H){return{type:6,styles:H,offset:null}}function F(H,D,P){return{type:0,name:H,styles:D,options:P}}function Q(H,D,P=null){return{type:1,expr:H,animation:D,options:P}}function N(H,D=null){return{type:8,animation:H,options:D}}function T(H=null){return{type:9,options:H}}function y(H,D=null){return{type:10,animation:H,options:D}}function w(H,D,P=null){return{type:11,selector:H,animation:D,options:P}}function k(H,D){return{type:12,timings:H,animation:D}}function V(H){Promise.resolve().then(H)}class U{constructor(D=0,P=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=D+P}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}onStart(D){this._originalOnStartFns.push(D),this._onStartFns.push(D)}onDone(D){this._originalOnDoneFns.push(D),this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){V(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(D=>D()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(D){this._position=this.totalTime?D*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(D){const P="start"==D?this._onStartFns:this._onDoneFns;P.forEach(Y=>Y()),P.length=0}}class oe{constructor(D){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=D;let P=0,Y=0,re=0;const j=this.players.length;0==j?V(()=>this._onFinish()):this.players.forEach(G=>{G.onDone(()=>{++P==j&&this._onFinish()}),G.onDestroy(()=>{++Y==j&&this._onDestroy()}),G.onStart(()=>{++re==j&&this._onStart()})}),this.totalTime=this.players.reduce((G,ie)=>Math.max(G,ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this.players.forEach(D=>D.init())}onStart(D){this._onStartFns.push(D)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(D=>D()),this._onStartFns=[])}onDone(D){this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(D=>D.play())}pause(){this.players.forEach(D=>D.pause())}restart(){this.players.forEach(D=>D.restart())}finish(){this._onFinish(),this.players.forEach(D=>D.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(D=>D.destroy()),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}reset(){this.players.forEach(D=>D.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(D){const P=D*this.totalTime;this.players.forEach(Y=>{const re=Y.totalTime?Math.min(1,P/Y.totalTime):1;Y.setPosition(re)})}getPosition(){const D=this.players.reduce((P,Y)=>null===P||Y.totalTime>P.totalTime?Y:P,null);return null!=D?D.getPosition():0}beforeDestroy(){this.players.forEach(D=>{D.beforeDestroy&&D.beforeDestroy()})}triggerCallback(D){const P="start"==D?this._onStartFns:this._onDoneFns;P.forEach(Y=>Y()),P.length=0}}const K="!"},226:(dn,pt,C)=>{"use strict";C.d(pt,{Is:()=>b,vT:()=>F});var e=C(5e3),d=C(9808);const u=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function p(){return(0,e.f3M)(d.K0)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let b=(()=>{class O{constructor(N){if(this.value="ltr",this.change=new e.vpe,N){const y=N.documentElement?N.documentElement.dir:null;this.value=function R(O){const Q=(null==O?void 0:O.toLowerCase())||"";return"auto"===Q&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?x.test(navigator.language)?"rtl":"ltr":"rtl"===Q?"rtl":"ltr"}((N.body?N.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return O.\u0275fac=function(N){return new(N||O)(e.LFG(u,8))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),F=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({}),O})()},3191:(dn,pt,C)=>{"use strict";C.d(pt,{Eq:()=>x,Ig:()=>d,fI:()=>b,su:()=>u});var e=C(5e3);function d(F){return null!=F&&"false"!=`${F}`}function u(F,O=0){return function p(F){return!isNaN(parseFloat(F))&&!isNaN(Number(F))}(F)?Number(F):O}function x(F){return Array.isArray(F)?F:[F]}function b(F){return F instanceof e.SBq?F.nativeElement:F}},5573:(dn,pt,C)=>{"use strict";C.d(pt,{Zt:()=>Sn,Wj:()=>vt,Fd:()=>Jo,_t:()=>Gn,bA:()=>Aa,EA:()=>Ka});var e=C(5e3),d=C(9808),u=C(925),p=C(3191),vo=C(7579),Ns=C(727),Di=C(7445),Ia=C(6406),mr=C(9751),Gr=C(6451),Vo=C(2722),_r=C(8675),as=C(4004),qs=C(5698),ra=C(8505),Qn=C(3900),Oi=C(6731),ro=C(226);function ji(Jt,Ve,Je){for(let bt in Ve)if(Ve.hasOwnProperty(bt)){const Nt=Ve[bt];Nt?Jt.setProperty(bt,Nt,null!=Je&&Je.has(bt)?"important":""):Jt.removeProperty(bt)}return Jt}function qi(Jt,Ve){const Je=Ve?"":"none";ji(Jt.style,{"touch-action":Ve?"":"none","-webkit-user-drag":Ve?"":"none","-webkit-tap-highlight-color":Ve?"":"transparent","user-select":Je,"-ms-user-select":Je,"-webkit-user-select":Je,"-moz-user-select":Je})}function Ca(Jt,Ve,Je){ji(Jt.style,{position:Ve?"":"fixed",top:Ve?"":"0",opacity:Ve?"":"0",left:Ve?"":"-999em"},Je)}function Cr(Jt,Ve){return Ve&&"none"!=Ve?Jt+" "+Ve:Jt}function Fs(Jt){const Ve=Jt.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Jt)*Ve}function Ts(Jt,Ve){return Jt.getPropertyValue(Ve).split(",").map(bt=>bt.trim())}function Js(Jt){const Ve=Jt.getBoundingClientRect();return{top:Ve.top,right:Ve.right,bottom:Ve.bottom,left:Ve.left,width:Ve.width,height:Ve.height,x:Ve.x,y:Ve.y}}function aa(Jt,Ve,Je){const{top:bt,bottom:Nt,left:cn,right:wn}=Jt;return Je>=bt&&Je<=Nt&&Ve>=cn&&Ve<=wn}function st(Jt,Ve,Je){Jt.top+=Ve,Jt.bottom=Jt.top+Jt.height,Jt.left+=Je,Jt.right=Jt.left+Jt.width}function ze(Jt,Ve,Je,bt){const{top:Nt,right:cn,bottom:wn,left:Pn,width:Xn,height:yi}=Jt,Ai=Xn*Ve,bo=yi*Ve;return bt>Nt-bo&&bt<wn+bo&&Je>Pn-Ai&&Je<cn+Ai}class Pe{constructor(Ve){this._document=Ve,this.positions=new Map}clear(){this.positions.clear()}cache(Ve){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),Ve.forEach(Je=>{this.positions.set(Je,{scrollPosition:{top:Je.scrollTop,left:Je.scrollLeft},clientRect:Js(Je)})})}handleScroll(Ve){const Je=(0,u.sA)(Ve),bt=this.positions.get(Je);if(!bt)return null;const Nt=bt.scrollPosition;let cn,wn;if(Je===this._document){const yi=this.getViewportScrollPosition();cn=yi.top,wn=yi.left}else cn=Je.scrollTop,wn=Je.scrollLeft;const Pn=Nt.top-cn,Xn=Nt.left-wn;return this.positions.forEach((yi,Ai)=>{yi.clientRect&&Je!==Ai&&Je.contains(Ai)&&st(yi.clientRect,Pn,Xn)}),Nt.top=cn,Nt.left=wn,{top:Pn,left:Xn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Pt(Jt){const Ve=Jt.cloneNode(!0),Je=Ve.querySelectorAll("[id]"),bt=Jt.nodeName.toLowerCase();Ve.removeAttribute("id");for(let Nt=0;Nt<Je.length;Nt++)Je[Nt].removeAttribute("id");return"canvas"===bt?Fo(Jt,Ve):("input"===bt||"select"===bt||"textarea"===bt)&&no(Jt,Ve),Rn("canvas",Jt,Ve,Fo),Rn("input, textarea, select",Jt,Ve,no),Ve}function Rn(Jt,Ve,Je,bt){const Nt=Ve.querySelectorAll(Jt);if(Nt.length){const cn=Je.querySelectorAll(Jt);for(let wn=0;wn<Nt.length;wn++)bt(Nt[wn],cn[wn])}}let di=0;function no(Jt,Ve){"file"!==Ve.type&&(Ve.value=Jt.value),"radio"===Ve.type&&Ve.name&&(Ve.name=`mat-clone-${Ve.name}-${di++}`)}function Fo(Jt,Ve){const Je=Ve.getContext("2d");if(Je)try{Je.drawImage(Jt,0,0)}catch(bt){}}const ss=(0,u.i$)({passive:!0}),Ds=(0,u.i$)({passive:!1}),vr=new Set(["position"]);class Lr{constructor(Ve,Je,bt,Nt,cn,wn){this._config=Je,this._document=bt,this._ngZone=Nt,this._viewportRuler=cn,this._dragDropRegistry=wn,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new vo.x,this._pointerMoveSubscription=Ns.w0.EMPTY,this._pointerUpSubscription=Ns.w0.EMPTY,this._scrollSubscription=Ns.w0.EMPTY,this._resizeSubscription=Ns.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new vo.x,this.started=new vo.x,this.released=new vo.x,this.ended=new vo.x,this.entered=new vo.x,this.exited=new vo.x,this.dropped=new vo.x,this.moved=this._moveEvents,this._pointerDown=Pn=>{if(this.beforeStarted.next(),this._handles.length){const Xn=this._getTargetHandle(Pn);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&this._initializeDragSequence(Xn,Pn)}else this.disabled||this._initializeDragSequence(this._rootElement,Pn)},this._pointerMove=Pn=>{const Xn=this._getPointerPositionOnPage(Pn);if(!this._hasStartedDragging){if(Math.abs(Xn.x-this._pickupPositionOnPage.x)+Math.abs(Xn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const es=Date.now()>=this._dragStartTime+this._getDragStartDelay(Pn),uo=this._dropContainer;if(!es)return void this._endDragSequence(Pn);(!uo||!uo.isDragging()&&!uo.isReceiving())&&(Pn.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Pn)))}return}Pn.preventDefault();const yi=this._getConstrainedPointerPosition(Xn);if(this._hasMoved=!0,this._lastKnownPointerPosition=Xn,this._updatePointerDirectionDelta(yi),this._dropContainer)this._updateActiveDropContainer(yi,Xn);else{const Ai=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,bo=this._activeTransform;bo.x=yi.x-Ai.x+this._passiveTransform.x,bo.y=yi.y-Ai.y+this._passiveTransform.y,this._applyRootElementTransform(bo.x,bo.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:yi,event:Pn,distance:this._getDragDistance(yi),delta:this._pointerDirectionDelta})})},this._pointerUp=Pn=>{this._endDragSequence(Pn)},this._nativeDragStart=Pn=>{if(this._handles.length){const Xn=this._getTargetHandle(Pn);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&Pn.preventDefault()}else this.disabled||Pn.preventDefault()},this.withRootElement(Ve).withParent(Je.parentDragRef||null),this._parentPositions=new Pe(bt),wn.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(Ve){const Je=(0,p.Ig)(Ve);Je!==this._disabled&&(this._disabled=Je,this._toggleNativeDragInteractions(),this._handles.forEach(bt=>qi(bt,Je)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(Ve){this._handles=Ve.map(bt=>(0,p.fI)(bt)),this._handles.forEach(bt=>qi(bt,this.disabled)),this._toggleNativeDragInteractions();const Je=new Set;return this._disabledHandles.forEach(bt=>{this._handles.indexOf(bt)>-1&&Je.add(bt)}),this._disabledHandles=Je,this}withPreviewTemplate(Ve){return this._previewTemplate=Ve,this}withPlaceholderTemplate(Ve){return this._placeholderTemplate=Ve,this}withRootElement(Ve){const Je=(0,p.fI)(Ve);return Je!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Je.addEventListener("mousedown",this._pointerDown,Ds),Je.addEventListener("touchstart",this._pointerDown,ss),Je.addEventListener("dragstart",this._nativeDragStart,Ds)}),this._initialTransform=void 0,this._rootElement=Je),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(Ve){return this._boundaryElement=Ve?(0,p.fI)(Ve):null,this._resizeSubscription.unsubscribe(),Ve&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(Ve){return this._parentDragRef=Ve,this}dispose(){var Ve,Je;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(Ve=this._rootElement)||void 0===Ve||Ve.remove()),null===(Je=this._anchor)||void 0===Je||Je.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(Ve){!this._disabledHandles.has(Ve)&&this._handles.indexOf(Ve)>-1&&(this._disabledHandles.add(Ve),qi(Ve,!0))}enableHandle(Ve){this._disabledHandles.has(Ve)&&(this._disabledHandles.delete(Ve),qi(Ve,this.disabled))}withDirection(Ve){return this._direction=Ve,this}_withDropContainer(Ve){this._dropContainer=Ve}getFreeDragPosition(){const Ve=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:Ve.x,y:Ve.y}}setFreeDragPosition(Ve){return this._activeTransform={x:0,y:0},this._passiveTransform.x=Ve.x,this._passiveTransform.y=Ve.y,this._dropContainer||this._applyRootElementTransform(Ve.x,Ve.y),this}withPreviewContainer(Ve){return this._previewContainer=Ve,this}_sortFromLastPointerPosition(){const Ve=this._lastKnownPointerPosition;Ve&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(Ve),Ve)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var Ve,Je;null===(Ve=this._preview)||void 0===Ve||Ve.remove(),null===(Je=this._previewRef)||void 0===Je||Je.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var Ve,Je;null===(Ve=this._placeholder)||void 0===Ve||Ve.remove(),null===(Je=this._placeholderRef)||void 0===Je||Je.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(Ve){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:Ve}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(Ve),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Je=this._getPointerPositionOnPage(Ve);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Je),dropPoint:Je,event:Ve})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(Ve){Ms(Ve)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Je=this._dropContainer;if(Je){const bt=this._rootElement,Nt=bt.parentNode,cn=this._placeholder=this._createPlaceholderElement(),wn=this._anchor=this._anchor||this._document.createComment(""),Pn=this._getShadowRoot();Nt.insertBefore(wn,bt),this._initialTransform=bt.style.transform||"",this._preview=this._createPreviewElement(),Ca(bt,!1,vr),this._document.body.appendChild(Nt.replaceChild(cn,bt)),this._getPreviewInsertionPoint(Nt,Pn).appendChild(this._preview),this.started.next({source:this,event:Ve}),Je.start(),this._initialContainer=Je,this._initialIndex=Je.getItemIndex(this)}else this.started.next({source:this,event:Ve}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Je?Je.getScrollableParents():[])}_initializeDragSequence(Ve,Je){this._parentDragRef&&Je.stopPropagation();const bt=this.isDragging(),Nt=Ms(Je),cn=!Nt&&0!==Je.button,wn=this._rootElement,Pn=(0,u.sA)(Je),Xn=!Nt&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),yi=Nt?function xs(Jt){const Ve=Jt.touches&&Jt.touches[0]||Jt.changedTouches&&Jt.changedTouches[0];return!(!Ve||-1!==Ve.identifier||null!=Ve.radiusX&&1!==Ve.radiusX||null!=Ve.radiusY&&1!==Ve.radiusY)}(Je):function Jr(Jt){return 0===Jt.buttons||0===Jt.offsetX&&0===Jt.offsetY}(Je);if(Pn&&Pn.draggable&&"mousedown"===Je.type&&Je.preventDefault(),bt||cn||Xn||yi)return;if(this._handles.length){const Xo=wn.style;this._rootElementTapHighlight=Xo.webkitTapHighlightColor||"",Xo.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Xo=>this._updateOnScroll(Xo)),this._boundaryElement&&(this._boundaryRect=Js(this._boundaryElement));const Ai=this._previewTemplate;this._pickupPositionInElement=Ai&&Ai.template&&!Ai.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,Ve,Je);const bo=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Je);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:bo.x,y:bo.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Je)}_cleanupDragArtifacts(Ve){Ca(this._rootElement,!0,vr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Je=this._dropContainer,bt=Je.getItemIndex(this),Nt=this._getPointerPositionOnPage(Ve),cn=this._getDragDistance(Nt),wn=Je._isOverContainer(Nt.x,Nt.y);this.ended.next({source:this,distance:cn,dropPoint:Nt,event:Ve}),this.dropped.next({item:this,currentIndex:bt,previousIndex:this._initialIndex,container:Je,previousContainer:this._initialContainer,isPointerOverContainer:wn,distance:cn,dropPoint:Nt,event:Ve}),Je.drop(this,bt,this._initialIndex,this._initialContainer,wn,cn,Nt,Ve),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:Ve,y:Je},{x:bt,y:Nt}){let cn=this._initialContainer._getSiblingContainerFromPosition(this,Ve,Je);!cn&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(Ve,Je)&&(cn=this._initialContainer),cn&&cn!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=cn,this._dropContainer.enter(this,Ve,Je,cn===this._initialContainer&&cn.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:cn,currentIndex:cn.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(bt,Nt),this._dropContainer._sortItem(this,Ve,Je,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(Ve,Je):this._applyPreviewTransform(Ve-this._pickupPositionInElement.x,Je-this._pickupPositionInElement.y))}_createPreviewElement(){const Ve=this._previewTemplate,Je=this.previewClass,bt=Ve?Ve.template:null;let Nt;if(bt&&Ve){const cn=Ve.matchSize?this._initialClientRect:null,wn=Ve.viewContainer.createEmbeddedView(bt,Ve.context);wn.detectChanges(),Nt=zo(wn,this._document),this._previewRef=wn,Ve.matchSize?yr(Nt,cn):Nt.style.transform=br(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Nt=Pt(this._rootElement),yr(Nt,this._initialClientRect),this._initialTransform&&(Nt.style.transform=this._initialTransform);return ji(Nt.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},vr),qi(Nt,!1),Nt.classList.add("cdk-drag-preview"),Nt.setAttribute("dir",this._direction),Je&&(Array.isArray(Je)?Je.forEach(cn=>Nt.classList.add(cn)):Nt.classList.add(Je)),Nt}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const Ve=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(Ve.left,Ve.top);const Je=function Ta(Jt){const Ve=getComputedStyle(Jt),Je=Ts(Ve,"transition-property"),bt=Je.find(Pn=>"transform"===Pn||"all"===Pn);if(!bt)return 0;const Nt=Je.indexOf(bt),cn=Ts(Ve,"transition-duration"),wn=Ts(Ve,"transition-delay");return Fs(cn[Nt])+Fs(wn[Nt])}(this._preview);return 0===Je?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(bt=>{const Nt=wn=>{var Pn;(!wn||(0,u.sA)(wn)===this._preview&&"transform"===wn.propertyName)&&(null===(Pn=this._preview)||void 0===Pn||Pn.removeEventListener("transitionend",Nt),bt(),clearTimeout(cn))},cn=setTimeout(Nt,1.5*Je);this._preview.addEventListener("transitionend",Nt)}))}_createPlaceholderElement(){const Ve=this._placeholderTemplate,Je=Ve?Ve.template:null;let bt;return Je?(this._placeholderRef=Ve.viewContainer.createEmbeddedView(Je,Ve.context),this._placeholderRef.detectChanges(),bt=zo(this._placeholderRef,this._document)):bt=Pt(this._rootElement),bt.style.pointerEvents="none",bt.classList.add("cdk-drag-placeholder"),bt}_getPointerPositionInElement(Ve,Je,bt){const Nt=Je===this._rootElement?null:Je,cn=Nt?Nt.getBoundingClientRect():Ve,wn=Ms(bt)?bt.targetTouches[0]:bt,Pn=this._getViewportScrollPosition();return{x:cn.left-Ve.left+(wn.pageX-cn.left-Pn.left),y:cn.top-Ve.top+(wn.pageY-cn.top-Pn.top)}}_getPointerPositionOnPage(Ve){const Je=this._getViewportScrollPosition(),bt=Ms(Ve)?Ve.touches[0]||Ve.changedTouches[0]||{pageX:0,pageY:0}:Ve,Nt=bt.pageX-Je.left,cn=bt.pageY-Je.top;if(this._ownerSVGElement){const wn=this._ownerSVGElement.getScreenCTM();if(wn){const Pn=this._ownerSVGElement.createSVGPoint();return Pn.x=Nt,Pn.y=cn,Pn.matrixTransform(wn.inverse())}}return{x:Nt,y:cn}}_getConstrainedPointerPosition(Ve){const Je=this._dropContainer?this._dropContainer.lockAxis:null;let{x:bt,y:Nt}=this.constrainPosition?this.constrainPosition(Ve,this,this._initialClientRect,this._pickupPositionInElement):Ve;if("x"===this.lockAxis||"x"===Je?Nt=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===Je)&&(bt=this._pickupPositionOnPage.x),this._boundaryRect){const{x:cn,y:wn}=this._pickupPositionInElement,Pn=this._boundaryRect,{width:Xn,height:yi}=this._getPreviewRect(),Ai=Pn.top+wn,bo=Pn.bottom-(yi-wn);bt=Wr(bt,Pn.left+cn,Pn.right-(Xn-cn)),Nt=Wr(Nt,Ai,bo)}return{x:bt,y:Nt}}_updatePointerDirectionDelta(Ve){const{x:Je,y:bt}=Ve,Nt=this._pointerDirectionDelta,cn=this._pointerPositionAtLastDirectionChange,wn=Math.abs(Je-cn.x),Pn=Math.abs(bt-cn.y);return wn>this._config.pointerDirectionChangeThreshold&&(Nt.x=Je>cn.x?1:-1,cn.x=Je),Pn>this._config.pointerDirectionChangeThreshold&&(Nt.y=bt>cn.y?1:-1,cn.y=bt),Nt}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const Ve=this._handles.length>0||!this.isDragging();Ve!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=Ve,qi(this._rootElement,Ve))}_removeRootElementListeners(Ve){Ve.removeEventListener("mousedown",this._pointerDown,Ds),Ve.removeEventListener("touchstart",this._pointerDown,ss),Ve.removeEventListener("dragstart",this._nativeDragStart,Ds)}_applyRootElementTransform(Ve,Je){const bt=br(Ve,Je),Nt=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Nt.transform&&"none"!=Nt.transform?Nt.transform:""),Nt.transform=Cr(bt,this._initialTransform)}_applyPreviewTransform(Ve,Je){var bt;const Nt=null!==(bt=this._previewTemplate)&&void 0!==bt&&bt.template?void 0:this._initialTransform,cn=br(Ve,Je);this._preview.style.transform=Cr(cn,Nt)}_getDragDistance(Ve){const Je=this._pickupPositionOnPage;return Je?{x:Ve.x-Je.x,y:Ve.y-Je.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:Ve,y:Je}=this._passiveTransform;if(0===Ve&&0===Je||this.isDragging()||!this._boundaryElement)return;const bt=this._rootElement.getBoundingClientRect(),Nt=this._boundaryElement.getBoundingClientRect();if(0===Nt.width&&0===Nt.height||0===bt.width&&0===bt.height)return;const cn=Nt.left-bt.left,wn=bt.right-Nt.right,Pn=Nt.top-bt.top,Xn=bt.bottom-Nt.bottom;Nt.width>bt.width?(cn>0&&(Ve+=cn),wn>0&&(Ve-=wn)):Ve=0,Nt.height>bt.height?(Pn>0&&(Je+=Pn),Xn>0&&(Je-=Xn)):Je=0,(Ve!==this._passiveTransform.x||Je!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Je,x:Ve})}_getDragStartDelay(Ve){const Je=this.dragStartDelay;return"number"==typeof Je?Je:Ms(Ve)?Je.touch:Je?Je.mouse:0}_updateOnScroll(Ve){const Je=this._parentPositions.handleScroll(Ve);if(Je){const bt=(0,u.sA)(Ve);this._boundaryRect&&bt!==this._boundaryElement&&bt.contains(this._boundaryElement)&&st(this._boundaryRect,Je.top,Je.left),this._pickupPositionOnPage.x+=Je.left,this._pickupPositionOnPage.y+=Je.top,this._dropContainer||(this._activeTransform.x-=Je.left,this._activeTransform.y-=Je.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var Ve;return(null===(Ve=this._parentPositions.positions.get(this._document))||void 0===Ve?void 0:Ve.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,u.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(Ve,Je){const bt=this._previewContainer||"global";if("parent"===bt)return Ve;if("global"===bt){const Nt=this._document;return Je||Nt.fullscreenElement||Nt.webkitFullscreenElement||Nt.mozFullScreenElement||Nt.msFullscreenElement||Nt.body}return(0,p.fI)(bt)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(Ve){return this._handles.find(Je=>Ve.target&&(Ve.target===Je||Je.contains(Ve.target)))}}function br(Jt,Ve){return`translate3d(${Math.round(Jt)}px, ${Math.round(Ve)}px, 0)`}function Wr(Jt,Ve,Je){return Math.max(Ve,Math.min(Je,Jt))}function Ms(Jt){return"t"===Jt.type[0]}function zo(Jt,Ve){const Je=Jt.rootNodes;if(1===Je.length&&Je[0].nodeType===Ve.ELEMENT_NODE)return Je[0];const bt=Ve.createElement("div");return Je.forEach(Nt=>bt.appendChild(Nt)),bt}function yr(Jt,Ve){Jt.style.width=`${Ve.width}px`,Jt.style.height=`${Ve.height}px`,Jt.style.transform=br(Ve.left,Ve.top)}function Aa(Jt,Ve,Je){const bt=Fe(Ve,Jt.length-1),Nt=Fe(Je,Jt.length-1);if(bt===Nt)return;const cn=Jt[bt],wn=Nt<bt?-1:1;for(let Pn=bt;Pn!==Nt;Pn+=wn)Jt[Pn]=Jt[Pn+wn];Jt[Nt]=cn}function Ka(Jt,Ve,Je,bt){const Nt=Fe(Je,Jt.length-1),cn=Fe(bt,Ve.length);Jt.length&&Ve.splice(cn,0,Jt.splice(Nt,1)[0])}function Fe(Jt,Ve){return Math.max(0,Math.min(Ve,Jt))}class mt{constructor(Ve,Je){this._element=Ve,this._dragDropRegistry=Je,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(Ve){this.withItems(Ve)}sort(Ve,Je,bt,Nt){const cn=this._itemPositions,wn=this._getItemIndexFromPointerPosition(Ve,Je,bt,Nt);if(-1===wn&&cn.length>0)return null;const Pn="horizontal"===this.orientation,Xn=cn.findIndex(Zo=>Zo.drag===Ve),yi=cn[wn],bo=yi.clientRect,Xo=Xn>wn?1:-1,es=this._getItemOffsetPx(cn[Xn].clientRect,bo,Xo),uo=this._getSiblingOffsetPx(Xn,cn,Xo),ls=cn.slice();return Aa(cn,Xn,wn),cn.forEach((Zo,xr)=>{if(ls[xr]===Zo)return;const la=Zo.drag===Ve,Yr=la?es:uo,Qs=la?Ve.getPlaceholderElement():Zo.drag.getRootElement();Zo.offset+=Yr,Pn?(Qs.style.transform=Cr(`translate3d(${Math.round(Zo.offset)}px, 0, 0)`,Zo.initialTransform),st(Zo.clientRect,0,Yr)):(Qs.style.transform=Cr(`translate3d(0, ${Math.round(Zo.offset)}px, 0)`,Zo.initialTransform),st(Zo.clientRect,Yr,0))}),this._previousSwap.overlaps=aa(bo,Je,bt),this._previousSwap.drag=yi.drag,this._previousSwap.delta=Pn?Nt.x:Nt.y,{previousIndex:Xn,currentIndex:wn}}enter(Ve,Je,bt,Nt){const cn=null==Nt||Nt<0?this._getItemIndexFromPointerPosition(Ve,Je,bt):Nt,wn=this._activeDraggables,Pn=wn.indexOf(Ve),Xn=Ve.getPlaceholderElement();let yi=wn[cn];if(yi===Ve&&(yi=wn[cn+1]),!yi&&(null==cn||-1===cn||cn<wn.length-1)&&this._shouldEnterAsFirstChild(Je,bt)&&(yi=wn[0]),Pn>-1&&wn.splice(Pn,1),yi&&!this._dragDropRegistry.isDragging(yi)){const Ai=yi.getRootElement();Ai.parentElement.insertBefore(Xn,Ai),wn.splice(cn,0,Ve)}else(0,p.fI)(this._element).appendChild(Xn),wn.push(Ve);Xn.style.transform="",this._cacheItemPositions()}withItems(Ve){this._activeDraggables=Ve.slice(),this._cacheItemPositions()}withSortPredicate(Ve){this._sortPredicate=Ve}reset(){this._activeDraggables.forEach(Ve=>{var Je;const bt=Ve.getRootElement();if(bt){const Nt=null===(Je=this._itemPositions.find(cn=>cn.drag===Ve))||void 0===Je?void 0:Je.initialTransform;bt.style.transform=Nt||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(Ve){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(bt=>bt.drag===Ve)}updateOnScroll(Ve,Je){this._itemPositions.forEach(({clientRect:bt})=>{st(bt,Ve,Je)}),this._itemPositions.forEach(({drag:bt})=>{this._dragDropRegistry.isDragging(bt)&&bt._sortFromLastPointerPosition()})}_cacheItemPositions(){const Ve="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Je=>{const bt=Je.getVisibleElement();return{drag:Je,offset:0,initialTransform:bt.style.transform||"",clientRect:Js(bt)}}).sort((Je,bt)=>Ve?Je.clientRect.left-bt.clientRect.left:Je.clientRect.top-bt.clientRect.top)}_getItemOffsetPx(Ve,Je,bt){const Nt="horizontal"===this.orientation;let cn=Nt?Je.left-Ve.left:Je.top-Ve.top;return-1===bt&&(cn+=Nt?Je.width-Ve.width:Je.height-Ve.height),cn}_getSiblingOffsetPx(Ve,Je,bt){const Nt="horizontal"===this.orientation,cn=Je[Ve].clientRect,wn=Je[Ve+-1*bt];let Pn=cn[Nt?"width":"height"]*bt;if(wn){const Xn=Nt?"left":"top",yi=Nt?"right":"bottom";-1===bt?Pn-=wn.clientRect[Xn]-cn[yi]:Pn+=cn[Xn]-wn.clientRect[yi]}return Pn}_shouldEnterAsFirstChild(Ve,Je){if(!this._activeDraggables.length)return!1;const bt=this._itemPositions,Nt="horizontal"===this.orientation;if(bt[0].drag!==this._activeDraggables[0]){const wn=bt[bt.length-1].clientRect;return Nt?Ve>=wn.right:Je>=wn.bottom}{const wn=bt[0].clientRect;return Nt?Ve<=wn.left:Je<=wn.top}}_getItemIndexFromPointerPosition(Ve,Je,bt,Nt){const cn="horizontal"===this.orientation,wn=this._itemPositions.findIndex(({drag:Pn,clientRect:Xn})=>{if(Pn===Ve)return!1;if(Nt){const yi=cn?Nt.x:Nt.y;if(Pn===this._previousSwap.drag&&this._previousSwap.overlaps&&yi===this._previousSwap.delta)return!1}return cn?Je>=Math.floor(Xn.left)&&Je<Math.floor(Xn.right):bt>=Math.floor(Xn.top)&&bt<Math.floor(Xn.bottom)});return-1!==wn&&this._sortPredicate(wn,Ve)?wn:-1}}class tn{constructor(Ve,Je,bt,Nt,cn){this._dragDropRegistry=Je,this._ngZone=Nt,this._viewportRuler=cn,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new vo.x,this.entered=new vo.x,this.exited=new vo.x,this.dropped=new vo.x,this.sorted=new vo.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ns.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new vo.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Di.F)(0,Ia.Z).pipe((0,Vo.R)(this._stopScrollTimers)).subscribe(()=>{const wn=this._scrollNode,Pn=this.autoScrollStep;1===this._verticalScrollDirection?wn.scrollBy(0,-Pn):2===this._verticalScrollDirection&&wn.scrollBy(0,Pn),1===this._horizontalScrollDirection?wn.scrollBy(-Pn,0):2===this._horizontalScrollDirection&&wn.scrollBy(Pn,0)})},this.element=(0,p.fI)(Ve),this._document=bt,this.withScrollableParents([this.element]),Je.registerDropContainer(this),this._parentPositions=new Pe(bt),this._sortStrategy=new mt(this.element,Je),this._sortStrategy.withSortPredicate((wn,Pn)=>this.sortPredicate(wn,Pn,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(Ve,Je,bt,Nt){this._draggingStarted(),null==Nt&&this.sortingDisabled&&(Nt=this._draggables.indexOf(Ve)),this._sortStrategy.enter(Ve,Je,bt,Nt),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:Ve,container:this,currentIndex:this.getItemIndex(Ve)})}exit(Ve){this._reset(),this.exited.next({item:Ve,container:this})}drop(Ve,Je,bt,Nt,cn,wn,Pn,Xn={}){this._reset(),this.dropped.next({item:Ve,currentIndex:Je,previousIndex:bt,container:this,previousContainer:Nt,isPointerOverContainer:cn,distance:wn,dropPoint:Pn,event:Xn})}withItems(Ve){const Je=this._draggables;return this._draggables=Ve,Ve.forEach(bt=>bt._withDropContainer(this)),this.isDragging()&&(Je.filter(Nt=>Nt.isDragging()).every(Nt=>-1===Ve.indexOf(Nt))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(Ve){return this._sortStrategy.direction=Ve,this}connectedTo(Ve){return this._siblings=Ve.slice(),this}withOrientation(Ve){return this._sortStrategy.orientation=Ve,this}withScrollableParents(Ve){const Je=(0,p.fI)(this.element);return this._scrollableElements=-1===Ve.indexOf(Je)?[Je,...Ve]:Ve.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(Ve){return this._isDragging?this._sortStrategy.getItemIndex(Ve):this._draggables.indexOf(Ve)}isReceiving(){return this._activeSiblings.size>0}_sortItem(Ve,Je,bt,Nt){if(this.sortingDisabled||!this._clientRect||!ze(this._clientRect,.05,Je,bt))return;const cn=this._sortStrategy.sort(Ve,Je,bt,Nt);cn&&this.sorted.next({previousIndex:cn.previousIndex,currentIndex:cn.currentIndex,container:this,item:Ve})}_startScrollingIfNecessary(Ve,Je){if(this.autoScrollDisabled)return;let bt,Nt=0,cn=0;if(this._parentPositions.positions.forEach((wn,Pn)=>{Pn===this._document||!wn.clientRect||bt||ze(wn.clientRect,.05,Ve,Je)&&([Nt,cn]=function ci(Jt,Ve,Je,bt){const Nt=Mn(Ve,bt),cn=Nn(Ve,Je);let wn=0,Pn=0;if(Nt){const Xn=Jt.scrollTop;1===Nt?Xn>0&&(wn=1):Jt.scrollHeight-Xn>Jt.clientHeight&&(wn=2)}if(cn){const Xn=Jt.scrollLeft;1===cn?Xn>0&&(Pn=1):Jt.scrollWidth-Xn>Jt.clientWidth&&(Pn=2)}return[wn,Pn]}(Pn,wn.clientRect,Ve,Je),(Nt||cn)&&(bt=Pn))}),!Nt&&!cn){const{width:wn,height:Pn}=this._viewportRuler.getViewportSize(),Xn={width:wn,height:Pn,top:0,right:wn,bottom:Pn,left:0};Nt=Mn(Xn,Je),cn=Nn(Xn,Ve),bt=window}bt&&(Nt!==this._verticalScrollDirection||cn!==this._horizontalScrollDirection||bt!==this._scrollNode)&&(this._verticalScrollDirection=Nt,this._horizontalScrollDirection=cn,this._scrollNode=bt,(Nt||cn)&&bt?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const Ve=(0,p.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=Ve.msScrollSnapType||Ve.scrollSnapType||"",Ve.scrollSnapType=Ve.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const Ve=(0,p.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(Ve).clientRect}_reset(){this._isDragging=!1;const Ve=(0,p.fI)(this.element).style;Ve.scrollSnapType=Ve.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Je=>Je._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(Ve,Je){return null!=this._clientRect&&aa(this._clientRect,Ve,Je)}_getSiblingContainerFromPosition(Ve,Je,bt){return this._siblings.find(Nt=>Nt._canReceive(Ve,Je,bt))}_canReceive(Ve,Je,bt){if(!this._clientRect||!aa(this._clientRect,Je,bt)||!this.enterPredicate(Ve,this))return!1;const Nt=this._getShadowRoot().elementFromPoint(Je,bt);if(!Nt)return!1;const cn=(0,p.fI)(this.element);return Nt===cn||cn.contains(Nt)}_startReceiving(Ve,Je){const bt=this._activeSiblings;!bt.has(Ve)&&Je.every(Nt=>this.enterPredicate(Nt,this)||this._draggables.indexOf(Nt)>-1)&&(bt.add(Ve),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(Ve){this._activeSiblings.delete(Ve),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ve=>{if(this.isDragging()){const Je=this._parentPositions.handleScroll(Ve);Je&&this._sortStrategy.updateOnScroll(Je.top,Je.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const Ve=(0,u.kV)((0,p.fI)(this.element));this._cachedShadowRoot=Ve||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const Ve=this._sortStrategy.getActiveItemsSnapshot().filter(Je=>Je.isDragging());this._siblings.forEach(Je=>Je._startReceiving(this,Ve))}}function Mn(Jt,Ve){const{top:Je,bottom:bt,height:Nt}=Jt,cn=.05*Nt;return Ve>=Je-cn&&Ve<=Je+cn?1:Ve>=bt-cn&&Ve<=bt+cn?2:0}function Nn(Jt,Ve){const{left:Je,right:bt,width:Nt}=Jt,cn=.05*Nt;return Ve>=Je-cn&&Ve<=Je+cn?1:Ve>=bt-cn&&Ve<=bt+cn?2:0}const Xi=(0,u.i$)({passive:!1,capture:!0});let ao=(()=>{class Jt{constructor(Je,bt){this._ngZone=Je,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Nt=>Nt.isDragging(),this.pointerMove=new vo.x,this.pointerUp=new vo.x,this.scroll=new vo.x,this._preventDefaultWhileDragging=Nt=>{this._activeDragInstances.length>0&&Nt.preventDefault()},this._persistentTouchmoveListener=Nt=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Nt.preventDefault(),this.pointerMove.next(Nt))},this._document=bt}registerDropContainer(Je){this._dropInstances.has(Je)||this._dropInstances.add(Je)}registerDragItem(Je){this._dragInstances.add(Je),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Xi)})}removeDropContainer(Je){this._dropInstances.delete(Je)}removeDragItem(Je){this._dragInstances.delete(Je),this.stopDragging(Je),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Xi)}startDragging(Je,bt){if(!(this._activeDragInstances.indexOf(Je)>-1)&&(this._activeDragInstances.push(Je),1===this._activeDragInstances.length)){const Nt=bt.type.startsWith("touch");this._globalListeners.set(Nt?"touchend":"mouseup",{handler:cn=>this.pointerUp.next(cn),options:!0}).set("scroll",{handler:cn=>this.scroll.next(cn),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Xi}),Nt||this._globalListeners.set("mousemove",{handler:cn=>this.pointerMove.next(cn),options:Xi}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((cn,wn)=>{this._document.addEventListener(wn,cn.handler,cn.options)})})}}stopDragging(Je){const bt=this._activeDragInstances.indexOf(Je);bt>-1&&(this._activeDragInstances.splice(bt,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(Je){return this._activeDragInstances.indexOf(Je)>-1}scrolled(Je){const bt=[this.scroll];return Je&&Je!==this._document&&bt.push(new mr.y(Nt=>this._ngZone.runOutsideAngular(()=>{const wn=Pn=>{this._activeDragInstances.length&&Nt.next(Pn)};return Je.addEventListener("scroll",wn,!0),()=>{Je.removeEventListener("scroll",wn,!0)}}))),(0,Gr.T)(...bt)}ngOnDestroy(){this._dragInstances.forEach(Je=>this.removeDragItem(Je)),this._dropInstances.forEach(Je=>this.removeDropContainer(Je)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Je,bt)=>{this._document.removeEventListener(bt,Je.handler,Je.options)}),this._globalListeners.clear()}}return Jt.\u0275fac=function(Je){return new(Je||Jt)(e.LFG(e.R0b),e.LFG(d.K0))},Jt.\u0275prov=e.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt})();const ho={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ji=(()=>{class Jt{constructor(Je,bt,Nt,cn){this._document=Je,this._ngZone=bt,this._viewportRuler=Nt,this._dragDropRegistry=cn}createDrag(Je,bt=ho){return new Lr(Je,bt,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Je){return new tn(Je,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return Jt.\u0275fac=function(Je){return new(Je||Jt)(e.LFG(d.K0),e.LFG(e.R0b),e.LFG(Oi.rL),e.LFG(ao))},Jt.\u0275prov=e.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt})();const Bo=new e.OlP("CDK_DRAG_PARENT"),Ki=new e.OlP("CdkDropListGroup");let Jo=(()=>{class Jt{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(Je){this._disabled=(0,p.Ig)(Je)}ngOnDestroy(){this._items.clear()}}return Jt.\u0275fac=function(Je){return new(Je||Jt)},Jt.\u0275dir=e.lG2({type:Jt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:Ki,useExisting:Jt}])]}),Jt})();const er=new e.OlP("CDK_DRAG_CONFIG");let hs=0;const ar=new e.OlP("CdkDropList");let vt=(()=>{class Jt{constructor(Je,bt,Nt,cn,wn,Pn,Xn){this.element=Je,this._changeDetectorRef=Nt,this._scrollDispatcher=cn,this._dir=wn,this._group=Pn,this._destroyed=new vo.x,this.connectedTo=[],this.id="cdk-drop-list-"+hs++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=bt.createDropList(Je),this._dropListRef.data=this,Xn&&this._assignDefaults(Xn),this._dropListRef.enterPredicate=(yi,Ai)=>this.enterPredicate(yi.data,Ai.data),this._dropListRef.sortPredicate=(yi,Ai,bo)=>this.sortPredicate(yi,Ai.data,bo.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Jt._dropLists.push(this),Pn&&Pn._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Je){this._dropListRef.disabled=this._disabled=(0,p.Ig)(Je)}addItem(Je){this._unsortedItems.add(Je),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Je){this._unsortedItems.delete(Je),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Je,bt)=>Je._dragRef.getVisibleElement().compareDocumentPosition(bt._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Je=Jt._dropLists.indexOf(this);Je>-1&&Jt._dropLists.splice(Je,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Je){this._dir&&this._dir.change.pipe((0,_r.O)(this._dir.value),(0,Vo.R)(this._destroyed)).subscribe(bt=>Je.withDirection(bt)),Je.beforeStarted.subscribe(()=>{const bt=(0,p.Eq)(this.connectedTo).map(Nt=>"string"==typeof Nt?Jt._dropLists.find(wn=>wn.id===Nt):Nt);if(this._group&&this._group._items.forEach(Nt=>{-1===bt.indexOf(Nt)&&bt.push(Nt)}),!this._scrollableParentsResolved){const Nt=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(cn=>cn.getElementRef().nativeElement);this._dropListRef.withScrollableParents(Nt),this._scrollableParentsResolved=!0}Je.disabled=this.disabled,Je.lockAxis=this.lockAxis,Je.sortingDisabled=(0,p.Ig)(this.sortingDisabled),Je.autoScrollDisabled=(0,p.Ig)(this.autoScrollDisabled),Je.autoScrollStep=(0,p.su)(this.autoScrollStep,2),Je.connectedTo(bt.filter(Nt=>Nt&&Nt!==this).map(Nt=>Nt._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Je){Je.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Je.entered.subscribe(bt=>{this.entered.emit({container:this,item:bt.item.data,currentIndex:bt.currentIndex})}),Je.exited.subscribe(bt=>{this.exited.emit({container:this,item:bt.item.data}),this._changeDetectorRef.markForCheck()}),Je.sorted.subscribe(bt=>{this.sorted.emit({previousIndex:bt.previousIndex,currentIndex:bt.currentIndex,container:this,item:bt.item.data})}),Je.dropped.subscribe(bt=>{this.dropped.emit({previousIndex:bt.previousIndex,currentIndex:bt.currentIndex,previousContainer:bt.previousContainer.data,container:bt.container.data,item:bt.item.data,isPointerOverContainer:bt.isPointerOverContainer,distance:bt.distance,dropPoint:bt.dropPoint,event:bt.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(Je){const{lockAxis:bt,draggingDisabled:Nt,sortingDisabled:cn,listAutoScrollDisabled:wn,listOrientation:Pn}=Je;this.disabled=null!=Nt&&Nt,this.sortingDisabled=null!=cn&&cn,this.autoScrollDisabled=null!=wn&&wn,this.orientation=Pn||"vertical",bt&&(this.lockAxis=bt)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Je=>Je._dragRef))}}return Jt._dropLists=[],Jt.\u0275fac=function(Je){return new(Je||Jt)(e.Y36(e.SBq),e.Y36(Ji),e.Y36(e.sBO),e.Y36(Oi.mF),e.Y36(ro.Is,8),e.Y36(Ki,12),e.Y36(er,8))},Jt.\u0275dir=e.lG2({type:Jt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Je,bt){2&Je&&(e.uIk("id",bt.id),e.ekj("cdk-drop-list-disabled",bt.disabled)("cdk-drop-list-dragging",bt._dropListRef.isDragging())("cdk-drop-list-receiving",bt._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:Ki,useValue:void 0},{provide:ar,useExisting:Jt}])]}),Jt})();const le=new e.OlP("CdkDragHandle"),Ke=new e.OlP("CdkDragPlaceholder"),zt=new e.OlP("CdkDragPreview");let Sn=(()=>{class Jt{constructor(Je,bt,Nt,cn,wn,Pn,Xn,yi,Ai,bo,Xo){this.element=Je,this.dropContainer=bt,this._ngZone=cn,this._viewContainerRef=wn,this._dir=Xn,this._changeDetectorRef=Ai,this._selfHandle=bo,this._parentDrag=Xo,this._destroyed=new vo.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new mr.y(es=>{const uo=this._dragRef.moved.pipe((0,as.U)(ls=>({source:this,pointerPosition:ls.pointerPosition,event:ls.event,delta:ls.delta,distance:ls.distance}))).subscribe(es);return()=>{uo.unsubscribe()}}),this._dragRef=yi.createDrag(Je,{dragStartThreshold:Pn&&null!=Pn.dragStartThreshold?Pn.dragStartThreshold:5,pointerDirectionChangeThreshold:Pn&&null!=Pn.pointerDirectionChangeThreshold?Pn.pointerDirectionChangeThreshold:5,zIndex:null==Pn?void 0:Pn.zIndex}),this._dragRef.data=this,Jt._dragInstances.push(this),Pn&&this._assignDefaults(Pn),bt&&(this._dragRef._withDropContainer(bt._dropListRef),bt.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Je){this._disabled=(0,p.Ig)(Je),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Je){this._dragRef.setFreeDragPosition(Je)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,qs.q)(1),(0,Vo.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(Je){const bt=Je.rootElementSelector,Nt=Je.freeDragPosition;bt&&!bt.firstChange&&this._updateRootElement(),Nt&&!Nt.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Je=Jt._dragInstances.indexOf(this);Je>-1&&Jt._dragInstances.splice(Je,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var Je;const bt=this.element.nativeElement;let Nt=bt;this.rootElementSelector&&(Nt=void 0!==bt.closest?bt.closest(this.rootElementSelector):null===(Je=bt.parentElement)||void 0===Je?void 0:Je.closest(this.rootElementSelector)),this._dragRef.withRootElement(Nt||bt)}_getBoundaryElement(){const Je=this.boundaryElement;return Je?"string"==typeof Je?this.element.nativeElement.closest(Je):(0,p.fI)(Je):null}_syncInputs(Je){Je.beforeStarted.subscribe(()=>{if(!Je.isDragging()){const bt=this._dir,Nt=this.dragStartDelay,cn=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,wn=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Je.disabled=this.disabled,Je.lockAxis=this.lockAxis,Je.dragStartDelay="object"==typeof Nt&&Nt?Nt:(0,p.su)(Nt),Je.constrainPosition=this.constrainPosition,Je.previewClass=this.previewClass,Je.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(cn).withPreviewTemplate(wn).withPreviewContainer(this.previewContainer||"global"),bt&&Je.withDirection(bt.value)}}),Je.beforeStarted.pipe((0,qs.q)(1)).subscribe(()=>{var bt;if(this._parentDrag)return void Je.withParent(this._parentDrag._dragRef);let Nt=this.element.nativeElement.parentElement;for(;Nt;){if(Nt.classList.contains("cdk-drag")){Je.withParent((null===(bt=Jt._dragInstances.find(cn=>cn.element.nativeElement===Nt))||void 0===bt?void 0:bt._dragRef)||null);break}Nt=Nt.parentElement}})}_handleEvents(Je){Je.started.subscribe(bt=>{this.started.emit({source:this,event:bt.event}),this._changeDetectorRef.markForCheck()}),Je.released.subscribe(bt=>{this.released.emit({source:this,event:bt.event})}),Je.ended.subscribe(bt=>{this.ended.emit({source:this,distance:bt.distance,dropPoint:bt.dropPoint,event:bt.event}),this._changeDetectorRef.markForCheck()}),Je.entered.subscribe(bt=>{this.entered.emit({container:bt.container.data,item:this,currentIndex:bt.currentIndex})}),Je.exited.subscribe(bt=>{this.exited.emit({container:bt.container.data,item:this})}),Je.dropped.subscribe(bt=>{this.dropped.emit({previousIndex:bt.previousIndex,currentIndex:bt.currentIndex,previousContainer:bt.previousContainer.data,container:bt.container.data,isPointerOverContainer:bt.isPointerOverContainer,item:this,distance:bt.distance,dropPoint:bt.dropPoint,event:bt.event})})}_assignDefaults(Je){const{lockAxis:bt,dragStartDelay:Nt,constrainPosition:cn,previewClass:wn,boundaryElement:Pn,draggingDisabled:Xn,rootElementSelector:yi,previewContainer:Ai}=Je;this.disabled=null!=Xn&&Xn,this.dragStartDelay=Nt||0,bt&&(this.lockAxis=bt),cn&&(this.constrainPosition=cn),wn&&(this.previewClass=wn),Pn&&(this.boundaryElement=Pn),yi&&(this.rootElementSelector=yi),Ai&&(this.previewContainer=Ai)}_setupHandlesListener(){this._handles.changes.pipe((0,_r.O)(this._handles),(0,ra.b)(Je=>{const bt=Je.filter(Nt=>Nt._parentDrag===this).map(Nt=>Nt.element);this._selfHandle&&this.rootElementSelector&&bt.push(this.element),this._dragRef.withHandles(bt)}),(0,Qn.w)(Je=>(0,Gr.T)(...Je.map(bt=>bt._stateChanges.pipe((0,_r.O)(bt))))),(0,Vo.R)(this._destroyed)).subscribe(Je=>{const bt=this._dragRef,Nt=Je.element.nativeElement;Je.disabled?bt.disableHandle(Nt):bt.enableHandle(Nt)})}}return Jt._dragInstances=[],Jt.\u0275fac=function(Je){return new(Je||Jt)(e.Y36(e.SBq),e.Y36(ar,12),e.Y36(d.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(er,8),e.Y36(ro.Is,8),e.Y36(Ji),e.Y36(e.sBO),e.Y36(le,10),e.Y36(Bo,12))},Jt.\u0275dir=e.lG2({type:Jt,selectors:[["","cdkDrag",""]],contentQueries:function(Je,bt,Nt){if(1&Je&&(e.Suo(Nt,zt,5),e.Suo(Nt,Ke,5),e.Suo(Nt,le,5)),2&Je){let cn;e.iGM(cn=e.CRH())&&(bt._previewTemplate=cn.first),e.iGM(cn=e.CRH())&&(bt._placeholderTemplate=cn.first),e.iGM(cn=e.CRH())&&(bt._handles=cn)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Je,bt){2&Je&&e.ekj("cdk-drag-disabled",bt.disabled)("cdk-drag-dragging",bt._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:Bo,useExisting:Jt}]),e.TTD]}),Jt})(),Gn=(()=>{class Jt{}return Jt.\u0275fac=function(Je){return new(Je||Jt)},Jt.\u0275mod=e.oAB({type:Jt}),Jt.\u0275inj=e.cJS({providers:[Ji],imports:[Oi.ZD]}),Jt})()},925:(dn,pt,C)=>{"use strict";C.d(pt,{i$:()=>Q,kV:()=>U,sA:()=>K,t4:()=>p});var e=C(5e3),d=C(9808);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(D){u=!1}let F,k,p=(()=>{class D{constructor(Y){this._platformId=Y,this.isBrowser=this._platformId?(0,d.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return D.\u0275fac=function(Y){return new(Y||D)(e.LFG(e.Lbi))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Q(D){return function O(){if(null==F&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F=!0}))}finally{F=F||!1}return F}()?D:!!D.capture}function U(D){if(function V(){if(null==k){const D="undefined"!=typeof document?document.head:null;k=!(!D||!D.createShadowRoot&&!D.attachShadow)}return k}()){const P=D.getRootNode?D.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&P instanceof ShadowRoot)return P}return null}function K(D){return D.composedPath?D.composedPath()[0]:D.target}},6731:(dn,pt,C)=>{"use strict";C.d(pt,{ZD:()=>xe,mF:()=>q,Cl:()=>De,rL:()=>ot});var e=C(3191),d=C(5e3),u=C(7579),p=C(9646),x=C(9751),R=C(4968),s=(C(6406),C(4408));let O,F=1;const Q={};function N(We){return We in Q&&(delete Q[We],!0)}const T={setImmediate(We){const gt=F++;return Q[gt]=!0,O||(O=Promise.resolve()),O.then(()=>N(gt)&&We()),gt},clearImmediate(We){N(We)}},{setImmediate:w,clearImmediate:k}=T,V={setImmediate(...We){const{delegate:gt}=V;return((null==gt?void 0:gt.setImmediate)||w)(...We)},clearImmediate(We){const{delegate:gt}=V;return((null==gt?void 0:gt.clearImmediate)||k)(We)},delegate:void 0};var oe=C(7565);new class K extends oe.v{flush(gt){this._active=!0,this._scheduled=void 0;const{actions:Tt}=this;let Ft,Ot=-1;gt=gt||Tt.shift();const Oe=Tt.length;do{if(Ft=gt.execute(gt.state,gt.delay))break}while(++Ot<Oe&&(gt=Tt.shift()));if(this._active=!1,Ft){for(;++Ot<Oe&&(gt=Tt.shift());)gt.unsubscribe();throw Ft}}}(class U extends s.o{constructor(gt,Tt){super(gt,Tt),this.scheduler=gt,this.work=Tt}requestAsyncId(gt,Tt,Ft=0){return null!==Ft&&Ft>0?super.requestAsyncId(gt,Tt,Ft):(gt.actions.push(this),gt._scheduled||(gt._scheduled=V.setImmediate(gt.flush.bind(gt,void 0))))}recycleAsyncId(gt,Tt,Ft=0){if(null!=Ft&&Ft>0||null==Ft&&this.delay>0)return super.recycleAsyncId(gt,Tt,Ft);0===gt.actions.length&&(V.clearImmediate(Tt),gt._scheduled=void 0)}});var P=C(4986),Y=C(4482),re=C(8421),j=C(5403),ie=C(5963);function Te(We,gt=P.P){return function G(We){return(0,Y.e)((gt,Tt)=>{let Ft=!1,Ot=null,Oe=null,et=!1;const Ne=()=>{if(null==Oe||Oe.unsubscribe(),Oe=null,Ft){Ft=!1;const ee=Ot;Ot=null,Tt.next(ee)}et&&Tt.complete()},yt=()=>{Oe=null,et&&Tt.complete()};gt.subscribe(new j.Q(Tt,ee=>{Ft=!0,Ot=ee,Oe||(0,re.Xf)(We(ee)).subscribe(Oe=new j.Q(Tt,Ne,yt))},()=>{et=!0,(!Ft||!Oe||Oe.closed)&&Tt.complete()}))})}(()=>(0,ie.H)(We,gt))}var Me=C(9300),de=C(9808),te=C(925),ce=C(226);let q=(()=>{class We{constructor(Tt,Ft,Ot){this._ngZone=Tt,this._platform=Ft,this._scrolled=new u.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ot}register(Tt){this.scrollContainers.has(Tt)||this.scrollContainers.set(Tt,Tt.elementScrolled().subscribe(()=>this._scrolled.next(Tt)))}deregister(Tt){const Ft=this.scrollContainers.get(Tt);Ft&&(Ft.unsubscribe(),this.scrollContainers.delete(Tt))}scrolled(Tt=20){return this._platform.isBrowser?new x.y(Ft=>{this._globalSubscription||this._addGlobalListener();const Ot=Tt>0?this._scrolled.pipe(Te(Tt)).subscribe(Ft):this._scrolled.subscribe(Ft);return this._scrolledCount++,()=>{Ot.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,p.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Tt,Ft)=>this.deregister(Ft)),this._scrolled.complete()}ancestorScrolled(Tt,Ft){const Ot=this.getAncestorScrollContainers(Tt);return this.scrolled(Ft).pipe((0,Me.h)(Oe=>!Oe||Ot.indexOf(Oe)>-1))}getAncestorScrollContainers(Tt){const Ft=[];return this.scrollContainers.forEach((Ot,Oe)=>{this._scrollableContainsElement(Oe,Tt)&&Ft.push(Oe)}),Ft}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Tt,Ft){let Ot=(0,e.fI)(Ft),Oe=Tt.getElementRef().nativeElement;do{if(Ot==Oe)return!0}while(Ot=Ot.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Tt=this._getWindow();return(0,R.R)(Tt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return We.\u0275fac=function(Tt){return new(Tt||We)(d.LFG(d.R0b),d.LFG(te.t4),d.LFG(de.K0,8))},We.\u0275prov=d.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),ot=(()=>{class We{constructor(Tt,Ft,Ot){this._platform=Tt,this._change=new u.x,this._changeListener=Oe=>{this._change.next(Oe)},this._document=Ot,Ft.runOutsideAngular(()=>{if(Tt.isBrowser){const Oe=this._getWindow();Oe.addEventListener("resize",this._changeListener),Oe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Tt=this._getWindow();Tt.removeEventListener("resize",this._changeListener),Tt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Tt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Tt}getViewportRect(){const Tt=this.getViewportScrollPosition(),{width:Ft,height:Ot}=this.getViewportSize();return{top:Tt.top,left:Tt.left,bottom:Tt.top+Ot,right:Tt.left+Ft,height:Ot,width:Ft}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Tt=this._document,Ft=this._getWindow(),Ot=Tt.documentElement,Oe=Ot.getBoundingClientRect();return{top:-Oe.top||Tt.body.scrollTop||Ft.scrollY||Ot.scrollTop||0,left:-Oe.left||Tt.body.scrollLeft||Ft.scrollX||Ot.scrollLeft||0}}change(Tt=20){return Tt>0?this._change.pipe(Te(Tt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Tt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Tt.innerWidth,height:Tt.innerHeight}:{width:0,height:0}}}return We.\u0275fac=function(Tt){return new(Tt||We)(d.LFG(te.t4),d.LFG(d.R0b),d.LFG(de.K0,8))},We.\u0275prov=d.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})(),xe=(()=>{class We{}return We.\u0275fac=function(Tt){return new(Tt||We)},We.\u0275mod=d.oAB({type:We}),We.\u0275inj=d.cJS({}),We})(),De=(()=>{class We{}return We.\u0275fac=function(Tt){return new(Tt||We)},We.\u0275mod=d.oAB({type:We}),We.\u0275inj=d.cJS({imports:[ce.vT,xe,ce.vT,xe]}),We})()},9808:(dn,pt,C)=>{"use strict";C.d(pt,{Do:()=>K,ED:()=>Hs,EM:()=>At,H9:()=>Ss,HT:()=>x,JF:()=>Zi,JJ:()=>bs,K0:()=>b,Mx:()=>Yo,NF:()=>Pr,Nd:()=>Mr,O5:()=>Ks,OU:()=>ia,Ov:()=>ws,PC:()=>Hr,PM:()=>St,RF:()=>As,S$:()=>V,V_:()=>O,Ye:()=>H,b0:()=>oe,bD:()=>Jr,ez:()=>sa,mk:()=>Co,n9:()=>Ls,q:()=>u,qS:()=>Eo,rS:()=>sr,sg:()=>fo,tP:()=>hr,uU:()=>zr,w_:()=>R});var e=C(5e3);let d=null;function u(){return d}function x(Fe){d||(d=Fe)}class R{}const b=new e.OlP("DocumentToken");let s=(()=>{class Fe{historyGo(Ge){throw new Error("Not implemented")}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)},Fe.\u0275prov=e.Yz7({token:Fe,factory:function(){return function F(){return(0,e.LFG)(Q)}()},providedIn:"platform"}),Fe})();const O=new e.OlP("Location Initialized");let Q=(()=>{class Fe extends s{constructor(Ge){super(),this._doc=Ge,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(Ge){const Mt=u().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("popstate",Ge,!1),()=>Mt.removeEventListener("popstate",Ge)}onHashChange(Ge){const Mt=u().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("hashchange",Ge,!1),()=>Mt.removeEventListener("hashchange",Ge)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ge){this.location.pathname=Ge}pushState(Ge,Mt,tn){N()?this._history.pushState(Ge,Mt,tn):this.location.hash=tn}replaceState(Ge,Mt,tn){N()?this._history.replaceState(Ge,Mt,tn):this.location.hash=tn}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ge=0){this._history.go(Ge)}getState(){return this._history.state}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.LFG(b))},Fe.\u0275prov=e.Yz7({token:Fe,factory:function(){return function T(){return new Q((0,e.LFG)(b))}()},providedIn:"platform"}),Fe})();function N(){return!!window.history.pushState}function y(Fe,mt){if(0==Fe.length)return mt;if(0==mt.length)return Fe;let Ge=0;return Fe.endsWith("/")&&Ge++,mt.startsWith("/")&&Ge++,2==Ge?Fe+mt.substring(1):1==Ge?Fe+mt:Fe+"/"+mt}function w(Fe){const mt=Fe.match(/#|\?|$/),Ge=mt&&mt.index||Fe.length;return Fe.slice(0,Ge-("/"===Fe[Ge-1]?1:0))+Fe.slice(Ge)}function k(Fe){return Fe&&"?"!==Fe[0]?"?"+Fe:Fe}let V=(()=>{class Fe{historyGo(Ge){throw new Error("Not implemented")}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)},Fe.\u0275prov=e.Yz7({token:Fe,factory:function(){return(0,e.f3M)(oe)},providedIn:"root"}),Fe})();const U=new e.OlP("appBaseHref");let oe=(()=>{class Fe extends V{constructor(Ge,Mt){var tn,Mn,Nn;super(),this._platformLocation=Ge,this._removeListenerFns=[],this._baseHref=null!==(Nn=null!==(tn=null!=Mt?Mt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==tn?tn:null===(Mn=(0,e.f3M)(b).location)||void 0===Mn?void 0:Mn.origin)&&void 0!==Nn?Nn:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ge){this._removeListenerFns.push(this._platformLocation.onPopState(Ge),this._platformLocation.onHashChange(Ge))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ge){return y(this._baseHref,Ge)}path(Ge=!1){const Mt=this._platformLocation.pathname+k(this._platformLocation.search),tn=this._platformLocation.hash;return tn&&Ge?`${Mt}${tn}`:Mt}pushState(Ge,Mt,tn,Mn){const Nn=this.prepareExternalUrl(tn+k(Mn));this._platformLocation.pushState(Ge,Mt,Nn)}replaceState(Ge,Mt,tn,Mn){const Nn=this.prepareExternalUrl(tn+k(Mn));this._platformLocation.replaceState(Ge,Mt,Nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ge=0){var Mt,tn;null===(tn=(Mt=this._platformLocation).historyGo)||void 0===tn||tn.call(Mt,Ge)}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.LFG(s),e.LFG(U,8))},Fe.\u0275prov=e.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),K=(()=>{class Fe extends V{constructor(Ge,Mt){super(),this._platformLocation=Ge,this._baseHref="",this._removeListenerFns=[],null!=Mt&&(this._baseHref=Mt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ge){this._removeListenerFns.push(this._platformLocation.onPopState(Ge),this._platformLocation.onHashChange(Ge))}getBaseHref(){return this._baseHref}path(Ge=!1){let Mt=this._platformLocation.hash;return null==Mt&&(Mt="#"),Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(Ge){const Mt=y(this._baseHref,Ge);return Mt.length>0?"#"+Mt:Mt}pushState(Ge,Mt,tn,Mn){let Nn=this.prepareExternalUrl(tn+k(Mn));0==Nn.length&&(Nn=this._platformLocation.pathname),this._platformLocation.pushState(Ge,Mt,Nn)}replaceState(Ge,Mt,tn,Mn){let Nn=this.prepareExternalUrl(tn+k(Mn));0==Nn.length&&(Nn=this._platformLocation.pathname),this._platformLocation.replaceState(Ge,Mt,Nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ge=0){var Mt,tn;null===(tn=(Mt=this._platformLocation).historyGo)||void 0===tn||tn.call(Mt,Ge)}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.LFG(s),e.LFG(U,8))},Fe.\u0275prov=e.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),H=(()=>{class Fe{constructor(Ge){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ge;const Mt=this._locationStrategy.getBaseHref();this._baseHref=w(Y(Mt)),this._locationStrategy.onPopState(tn=>{this._subject.emit({url:this.path(!0),pop:!0,state:tn.state,type:tn.type})})}ngOnDestroy(){var Ge;null===(Ge=this._urlChangeSubscription)||void 0===Ge||Ge.unsubscribe(),this._urlChangeListeners=[]}path(Ge=!1){return this.normalize(this._locationStrategy.path(Ge))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ge,Mt=""){return this.path()==this.normalize(Ge+k(Mt))}normalize(Ge){return Fe.stripTrailingSlash(function P(Fe,mt){return Fe&&mt.startsWith(Fe)?mt.substring(Fe.length):mt}(this._baseHref,Y(Ge)))}prepareExternalUrl(Ge){return Ge&&"/"!==Ge[0]&&(Ge="/"+Ge),this._locationStrategy.prepareExternalUrl(Ge)}go(Ge,Mt="",tn=null){this._locationStrategy.pushState(tn,"",Ge,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ge+k(Mt)),tn)}replaceState(Ge,Mt="",tn=null){this._locationStrategy.replaceState(tn,"",Ge,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ge+k(Mt)),tn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ge=0){var Mt,tn;null===(tn=(Mt=this._locationStrategy).historyGo)||void 0===tn||tn.call(Mt,Ge)}onUrlChange(Ge){return this._urlChangeListeners.push(Ge),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)})),()=>{var Mt;const tn=this._urlChangeListeners.indexOf(Ge);this._urlChangeListeners.splice(tn,1),0===this._urlChangeListeners.length&&(null===(Mt=this._urlChangeSubscription)||void 0===Mt||Mt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ge="",Mt){this._urlChangeListeners.forEach(tn=>tn(Ge,Mt))}subscribe(Ge,Mt,tn){return this._subject.subscribe({next:Ge,error:Mt,complete:tn})}}return Fe.normalizeQueryParams=k,Fe.joinWithSlash=y,Fe.stripTrailingSlash=w,Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.LFG(V))},Fe.\u0275prov=e.Yz7({token:Fe,factory:function(){return function D(){return new H((0,e.LFG)(V))}()},providedIn:"root"}),Fe})();function Y(Fe){return Fe.replace(/\/index.html$/,"")}const re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var j=(()=>((j=j||{})[j.Decimal=0]="Decimal",j[j.Percent=1]="Percent",j[j.Currency=2]="Currency",j[j.Scientific=3]="Scientific",j))(),ie=(()=>((ie=ie||{})[ie.Format=0]="Format",ie[ie.Standalone=1]="Standalone",ie))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),Me=(()=>((Me=Me||{})[Me.Short=0]="Short",Me[Me.Medium=1]="Medium",Me[Me.Long=2]="Long",Me[Me.Full=3]="Full",Me))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function X(Fe,mt){return xe((0,e.cg1)(Fe)[e.wAp.DateFormat],mt)}function q(Fe,mt){return xe((0,e.cg1)(Fe)[e.wAp.TimeFormat],mt)}function pe(Fe,mt){return xe((0,e.cg1)(Fe)[e.wAp.DateTimeFormat],mt)}function _e(Fe,mt){const Ge=(0,e.cg1)(Fe),Mt=Ge[e.wAp.NumberSymbols][mt];if(void 0===Mt){if(mt===de.CurrencyDecimal)return Ge[e.wAp.NumberSymbols][de.Decimal];if(mt===de.CurrencyGroup)return Ge[e.wAp.NumberSymbols][de.Group]}return Mt}function Xe(Fe,mt){return(0,e.cg1)(Fe)[e.wAp.NumberFormats][mt]}function Xt(Fe){if(!Fe[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Fe[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xe(Fe,mt){for(let Ge=mt;Ge>-1;Ge--)if(void 0!==Fe[Ge])return Fe[Ge];throw new Error("Locale data API: locale data undefined")}function De(Fe){const[mt,Ge]=Fe.split(":");return{hours:+mt,minutes:+Ge}}const Ft=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ot={},Oe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var et=(()=>((et=et||{})[et.Short=0]="Short",et[et.ShortGMT=1]="ShortGMT",et[et.Long=2]="Long",et[et.Extended=3]="Extended",et))(),Ne=(()=>((Ne=Ne||{})[Ne.FullYear=0]="FullYear",Ne[Ne.Month=1]="Month",Ne[Ne.Date=2]="Date",Ne[Ne.Hours=3]="Hours",Ne[Ne.Minutes=4]="Minutes",Ne[Ne.Seconds=5]="Seconds",Ne[Ne.FractionalSeconds=6]="FractionalSeconds",Ne[Ne.Day=7]="Day",Ne))(),yt=(()=>((yt=yt||{})[yt.DayPeriods=0]="DayPeriods",yt[yt.Days=1]="Days",yt[yt.Months=2]="Months",yt[yt.Eras=3]="Eras",yt))();function ee(Fe,mt,Ge,Mt){let tn=function ri(Fe){if(Qi(Fe))return Fe;if("number"==typeof Fe&&!isNaN(Fe))return new Date(Fe);if("string"==typeof Fe){if(Fe=Fe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Fe)){const[tn,Mn=1,Nn=1]=Fe.split("-").map(ci=>+ci);return Ze(tn,Mn-1,Nn)}const Ge=parseFloat(Fe);if(!isNaN(Fe-Ge))return new Date(Ge);let Mt;if(Mt=Fe.match(Ft))return function Ci(Fe){const mt=new Date(0);let Ge=0,Mt=0;const tn=Fe[8]?mt.setUTCFullYear:mt.setFullYear,Mn=Fe[8]?mt.setUTCHours:mt.setHours;Fe[9]&&(Ge=Number(Fe[9]+Fe[10]),Mt=Number(Fe[9]+Fe[11])),tn.call(mt,Number(Fe[1]),Number(Fe[2])-1,Number(Fe[3]));const Nn=Number(Fe[4]||0)-Ge,ci=Number(Fe[5]||0)-Mt,Xi=Number(Fe[6]||0),ao=Math.floor(1e3*parseFloat("0."+(Fe[7]||0)));return Mn.call(mt,Nn,ci,Xi,ao),mt}(Mt)}const mt=new Date(Fe);if(!Qi(mt))throw new Error(`Unable to convert "${Fe}" into a date`);return mt}(Fe);mt=Ce(Ge,mt)||mt;let ci,Nn=[];for(;mt;){if(ci=Oe.exec(mt),!ci){Nn.push(mt);break}{Nn=Nn.concat(ci.slice(1));const ho=Nn.pop();if(!ho)break;mt=ho}}let Xi=tn.getTimezoneOffset();Mt&&(Xi=rn(Mt,Xi),tn=function zn(Fe,mt,Ge){const Mt=Ge?-1:1,tn=Fe.getTimezoneOffset();return function Hn(Fe,mt){return(Fe=new Date(Fe.getTime())).setMinutes(Fe.getMinutes()+mt),Fe}(Fe,Mt*(rn(mt,tn)-tn))}(tn,Mt,!0));let ao="";return Nn.forEach(ho=>{const Ji=function Bt(Fe){if(On[Fe])return On[Fe];let mt;switch(Fe){case"G":case"GG":case"GGG":mt=Ct(yt.Eras,Te.Abbreviated);break;case"GGGG":mt=Ct(yt.Eras,Te.Wide);break;case"GGGGG":mt=Ct(yt.Eras,Te.Narrow);break;case"y":mt=qt(Ne.FullYear,1,0,!1,!0);break;case"yy":mt=qt(Ne.FullYear,2,0,!0,!0);break;case"yyy":mt=qt(Ne.FullYear,3,0,!1,!0);break;case"yyyy":mt=qt(Ne.FullYear,4,0,!1,!0);break;case"Y":mt=Gt(1);break;case"YY":mt=Gt(2,!0);break;case"YYY":mt=Gt(3);break;case"YYYY":mt=Gt(4);break;case"M":case"L":mt=qt(Ne.Month,1,1);break;case"MM":case"LL":mt=qt(Ne.Month,2,1);break;case"MMM":mt=Ct(yt.Months,Te.Abbreviated);break;case"MMMM":mt=Ct(yt.Months,Te.Wide);break;case"MMMMM":mt=Ct(yt.Months,Te.Narrow);break;case"LLL":mt=Ct(yt.Months,Te.Abbreviated,ie.Standalone);break;case"LLLL":mt=Ct(yt.Months,Te.Wide,ie.Standalone);break;case"LLLLL":mt=Ct(yt.Months,Te.Narrow,ie.Standalone);break;case"w":mt=fn(1);break;case"ww":mt=fn(2);break;case"W":mt=fn(1,!0);break;case"d":mt=qt(Ne.Date,1);break;case"dd":mt=qt(Ne.Date,2);break;case"c":case"cc":mt=qt(Ne.Day,1);break;case"ccc":mt=Ct(yt.Days,Te.Abbreviated,ie.Standalone);break;case"cccc":mt=Ct(yt.Days,Te.Wide,ie.Standalone);break;case"ccccc":mt=Ct(yt.Days,Te.Narrow,ie.Standalone);break;case"cccccc":mt=Ct(yt.Days,Te.Short,ie.Standalone);break;case"E":case"EE":case"EEE":mt=Ct(yt.Days,Te.Abbreviated);break;case"EEEE":mt=Ct(yt.Days,Te.Wide);break;case"EEEEE":mt=Ct(yt.Days,Te.Narrow);break;case"EEEEEE":mt=Ct(yt.Days,Te.Short);break;case"a":case"aa":case"aaa":mt=Ct(yt.DayPeriods,Te.Abbreviated);break;case"aaaa":mt=Ct(yt.DayPeriods,Te.Wide);break;case"aaaaa":mt=Ct(yt.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":mt=Ct(yt.DayPeriods,Te.Abbreviated,ie.Standalone,!0);break;case"bbbb":mt=Ct(yt.DayPeriods,Te.Wide,ie.Standalone,!0);break;case"bbbbb":mt=Ct(yt.DayPeriods,Te.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":mt=Ct(yt.DayPeriods,Te.Abbreviated,ie.Format,!0);break;case"BBBB":mt=Ct(yt.DayPeriods,Te.Wide,ie.Format,!0);break;case"BBBBB":mt=Ct(yt.DayPeriods,Te.Narrow,ie.Format,!0);break;case"h":mt=qt(Ne.Hours,1,-12);break;case"hh":mt=qt(Ne.Hours,2,-12);break;case"H":mt=qt(Ne.Hours,1);break;case"HH":mt=qt(Ne.Hours,2);break;case"m":mt=qt(Ne.Minutes,1);break;case"mm":mt=qt(Ne.Minutes,2);break;case"s":mt=qt(Ne.Seconds,1);break;case"ss":mt=qt(Ne.Seconds,2);break;case"S":mt=qt(Ne.FractionalSeconds,1);break;case"SS":mt=qt(Ne.FractionalSeconds,2);break;case"SSS":mt=qt(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":mt=lt(et.Short);break;case"ZZZZZ":mt=lt(et.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":mt=lt(et.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":mt=lt(et.Long);break;default:return null}return On[Fe]=mt,mt}(ho);ao+=Ji?Ji(tn,Ge,Xi):"''"===ho?"'":ho.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ao}function Ze(Fe,mt,Ge){const Mt=new Date(0);return Mt.setFullYear(Fe,mt,Ge),Mt.setHours(0,0,0),Mt}function Ce(Fe,mt){const Ge=function ce(Fe){return(0,e.cg1)(Fe)[e.wAp.LocaleId]}(Fe);if(Ot[Ge]=Ot[Ge]||{},Ot[Ge][mt])return Ot[Ge][mt];let Mt="";switch(mt){case"shortDate":Mt=X(Fe,Me.Short);break;case"mediumDate":Mt=X(Fe,Me.Medium);break;case"longDate":Mt=X(Fe,Me.Long);break;case"fullDate":Mt=X(Fe,Me.Full);break;case"shortTime":Mt=q(Fe,Me.Short);break;case"mediumTime":Mt=q(Fe,Me.Medium);break;case"longTime":Mt=q(Fe,Me.Long);break;case"fullTime":Mt=q(Fe,Me.Full);break;case"short":const tn=Ce(Fe,"shortTime"),Mn=Ce(Fe,"shortDate");Mt=ft(pe(Fe,Me.Short),[tn,Mn]);break;case"medium":const Nn=Ce(Fe,"mediumTime"),ci=Ce(Fe,"mediumDate");Mt=ft(pe(Fe,Me.Medium),[Nn,ci]);break;case"long":const Xi=Ce(Fe,"longTime"),ao=Ce(Fe,"longDate");Mt=ft(pe(Fe,Me.Long),[Xi,ao]);break;case"full":const ho=Ce(Fe,"fullTime"),Ji=Ce(Fe,"fullDate");Mt=ft(pe(Fe,Me.Full),[ho,Ji])}return Mt&&(Ot[Ge][mt]=Mt),Mt}function ft(Fe,mt){return mt&&(Fe=Fe.replace(/\{([^}]+)}/g,function(Ge,Mt){return null!=mt&&Mt in mt?mt[Mt]:Ge})),Fe}function an(Fe,mt,Ge="-",Mt,tn){let Mn="";(Fe<0||tn&&Fe<=0)&&(tn?Fe=1-Fe:(Fe=-Fe,Mn=Ge));let Nn=String(Fe);for(;Nn.length<mt;)Nn="0"+Nn;return Mt&&(Nn=Nn.slice(Nn.length-mt)),Mn+Nn}function qt(Fe,mt,Ge=0,Mt=!1,tn=!1){return function(Mn,Nn){let ci=function xt(Fe,mt){switch(Fe){case Ne.FullYear:return mt.getFullYear();case Ne.Month:return mt.getMonth();case Ne.Date:return mt.getDate();case Ne.Hours:return mt.getHours();case Ne.Minutes:return mt.getMinutes();case Ne.Seconds:return mt.getSeconds();case Ne.FractionalSeconds:return mt.getMilliseconds();case Ne.Day:return mt.getDay();default:throw new Error(`Unknown DateType value "${Fe}".`)}}(Fe,Mn);if((Ge>0||ci>-Ge)&&(ci+=Ge),Fe===Ne.Hours)0===ci&&-12===Ge&&(ci=12);else if(Fe===Ne.FractionalSeconds)return function Tn(Fe,mt){return an(Fe,3).substring(0,mt)}(ci,mt);const Xi=_e(Nn,de.MinusSign);return an(ci,mt,Xi,Mt,tn)}}function Ct(Fe,mt,Ge=ie.Format,Mt=!1){return function(tn,Mn){return function me(Fe,mt,Ge,Mt,tn,Mn){switch(Ge){case yt.Months:return function be(Fe,mt,Ge){const Mt=(0,e.cg1)(Fe),Mn=xe([Mt[e.wAp.MonthsFormat],Mt[e.wAp.MonthsStandalone]],mt);return xe(Mn,Ge)}(mt,tn,Mt)[Fe.getMonth()];case yt.Days:return function ve(Fe,mt,Ge){const Mt=(0,e.cg1)(Fe),Mn=xe([Mt[e.wAp.DaysFormat],Mt[e.wAp.DaysStandalone]],mt);return xe(Mn,Ge)}(mt,tn,Mt)[Fe.getDay()];case yt.DayPeriods:const Nn=Fe.getHours(),ci=Fe.getMinutes();if(Mn){const ao=function jt(Fe){const mt=(0,e.cg1)(Fe);return Xt(mt),(mt[e.wAp.ExtraData][2]||[]).map(Mt=>"string"==typeof Mt?De(Mt):[De(Mt[0]),De(Mt[1])])}(mt),ho=function ht(Fe,mt,Ge){const Mt=(0,e.cg1)(Fe);Xt(Mt);const Mn=xe([Mt[e.wAp.ExtraData][0],Mt[e.wAp.ExtraData][1]],mt)||[];return xe(Mn,Ge)||[]}(mt,tn,Mt),Ji=ao.findIndex(Bo=>{if(Array.isArray(Bo)){const[Ki,Jo]=Bo,er=Nn>=Ki.hours&&ci>=Ki.minutes,tr=Nn<Jo.hours||Nn===Jo.hours&&ci<Jo.minutes;if(Ki.hours<Jo.hours){if(er&&tr)return!0}else if(er||tr)return!0}else if(Bo.hours===Nn&&Bo.minutes===ci)return!0;return!1});if(-1!==Ji)return ho[Ji]}return function J(Fe,mt,Ge){const Mt=(0,e.cg1)(Fe),Mn=xe([Mt[e.wAp.DayPeriodsFormat],Mt[e.wAp.DayPeriodsStandalone]],mt);return xe(Mn,Ge)}(mt,tn,Mt)[Nn<12?0:1];case yt.Eras:return function Be(Fe,mt){return xe((0,e.cg1)(Fe)[e.wAp.Eras],mt)}(mt,Mt)[Fe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ge}`)}}(tn,Mn,Fe,mt,Ge,Mt)}}function lt(Fe){return function(mt,Ge,Mt){const tn=-1*Mt,Mn=_e(Ge,de.MinusSign),Nn=tn>0?Math.floor(tn/60):Math.ceil(tn/60);switch(Fe){case et.Short:return(tn>=0?"+":"")+an(Nn,2,Mn)+an(Math.abs(tn%60),2,Mn);case et.ShortGMT:return"GMT"+(tn>=0?"+":"")+an(Nn,1,Mn);case et.Long:return"GMT"+(tn>=0?"+":"")+an(Nn,2,Mn)+":"+an(Math.abs(tn%60),2,Mn);case et.Extended:return 0===Mt?"Z":(tn>=0?"+":"")+an(Nn,2,Mn)+":"+an(Math.abs(tn%60),2,Mn);default:throw new Error(`Unknown zone width "${Fe}"`)}}}function sn(Fe){return Ze(Fe.getFullYear(),Fe.getMonth(),Fe.getDate()+(4-Fe.getDay()))}function fn(Fe,mt=!1){return function(Ge,Mt){let tn;if(mt){const Mn=new Date(Ge.getFullYear(),Ge.getMonth(),1).getDay()-1,Nn=Ge.getDate();tn=1+Math.floor((Nn+Mn)/7)}else{const Mn=sn(Ge),Nn=function je(Fe){const mt=Ze(Fe,0,1).getDay();return Ze(Fe,0,1+(mt<=4?4:11)-mt)}(Mn.getFullYear()),ci=Mn.getTime()-Nn.getTime();tn=1+Math.round(ci/6048e5)}return an(tn,Fe,_e(Mt,de.MinusSign))}}function Gt(Fe,mt=!1){return function(Ge,Mt){return an(sn(Ge).getFullYear(),Fe,_e(Mt,de.MinusSign),mt)}}const On={};function rn(Fe,mt){Fe=Fe.replace(/:/g,"");const Ge=Date.parse("Jan 01, 1970 00:00:00 "+Fe)/6e4;return isNaN(Ge)?mt:Ge}function Qi(Fe){return Fe instanceof Date&&!isNaN(Fe.valueOf())}const oo=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yn(Fe,mt,Ge,Mt,tn,Mn,Nn=!1){let ci="",Xi=!1;if(isFinite(Fe)){let ao=function oi(Fe){let Mt,tn,Mn,Nn,ci,mt=Math.abs(Fe)+"",Ge=0;for((tn=mt.indexOf("."))>-1&&(mt=mt.replace(".","")),(Mn=mt.search(/e/i))>0?(tn<0&&(tn=Mn),tn+=+mt.slice(Mn+1),mt=mt.substring(0,Mn)):tn<0&&(tn=mt.length),Mn=0;"0"===mt.charAt(Mn);Mn++);if(Mn===(ci=mt.length))Mt=[0],tn=1;else{for(ci--;"0"===mt.charAt(ci);)ci--;for(tn-=Mn,Mt=[],Nn=0;Mn<=ci;Mn++,Nn++)Mt[Nn]=Number(mt.charAt(Mn))}return tn>22&&(Mt=Mt.splice(0,21),Ge=tn-1,tn=1),{digits:Mt,exponent:Ge,integerLen:tn}}(Fe);Nn&&(ao=function mi(Fe){if(0===Fe.digits[0])return Fe;const mt=Fe.digits.length-Fe.integerLen;return Fe.exponent?Fe.exponent+=2:(0===mt?Fe.digits.push(0,0):1===mt&&Fe.digits.push(0),Fe.integerLen+=2),Fe}(ao));let ho=mt.minInt,Ji=mt.minFrac,Bo=mt.maxFrac;if(Mn){const ar=Mn.match(oo);if(null===ar)throw new Error(`${Mn} is not a valid digit info`);const vt=ar[1],le=ar[3],ge=ar[5];null!=vt&&(ho=Wi(vt)),null!=le&&(Ji=Wi(le)),null!=ge?Bo=Wi(ge):null!=le&&Ji>Bo&&(Bo=Ji)}!function Mi(Fe,mt,Ge){if(mt>Ge)throw new Error(`The minimum number of digits after fraction (${mt}) is higher than the maximum (${Ge}).`);let Mt=Fe.digits,tn=Mt.length-Fe.integerLen;const Mn=Math.min(Math.max(mt,tn),Ge);let Nn=Mn+Fe.integerLen,ci=Mt[Nn];if(Nn>0){Mt.splice(Math.max(Fe.integerLen,Nn));for(let Ji=Nn;Ji<Mt.length;Ji++)Mt[Ji]=0}else{tn=Math.max(0,tn),Fe.integerLen=1,Mt.length=Math.max(1,Nn=Mn+1),Mt[0]=0;for(let Ji=1;Ji<Nn;Ji++)Mt[Ji]=0}if(ci>=5)if(Nn-1<0){for(let Ji=0;Ji>Nn;Ji--)Mt.unshift(0),Fe.integerLen++;Mt.unshift(1),Fe.integerLen++}else Mt[Nn-1]++;for(;tn<Math.max(0,Mn);tn++)Mt.push(0);let Xi=0!==Mn;const ao=mt+Fe.integerLen,ho=Mt.reduceRight(function(Ji,Bo,Ki,Jo){return Jo[Ki]=(Bo+=Ji)<10?Bo:Bo-10,Xi&&(0===Jo[Ki]&&Ki>=ao?Jo.pop():Xi=!1),Bo>=10?1:0},0);ho&&(Mt.unshift(ho),Fe.integerLen++)}(ao,Ji,Bo);let Ki=ao.digits,Jo=ao.integerLen;const er=ao.exponent;let tr=[];for(Xi=Ki.every(ar=>!ar);Jo<ho;Jo++)Ki.unshift(0);for(;Jo<0;Jo++)Ki.unshift(0);Jo>0?tr=Ki.splice(Jo,Ki.length):(tr=Ki,Ki=[0]);const hs=[];for(Ki.length>=mt.lgSize&&hs.unshift(Ki.splice(-mt.lgSize,Ki.length).join(""));Ki.length>mt.gSize;)hs.unshift(Ki.splice(-mt.gSize,Ki.length).join(""));Ki.length&&hs.unshift(Ki.join("")),ci=hs.join(_e(Ge,Mt)),tr.length&&(ci+=_e(Ge,tn)+tr.join("")),er&&(ci+=_e(Ge,de.Exponential)+"+"+er)}else ci=_e(Ge,de.Infinity);return ci=Fe<0&&!Xi?mt.negPre+ci+mt.negSuf:mt.posPre+ci+mt.posSuf,ci}function li(Fe,mt="-"){const Ge={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Mt=Fe.split(";"),tn=Mt[0],Mn=Mt[1],Nn=-1!==tn.indexOf(".")?tn.split("."):[tn.substring(0,tn.lastIndexOf("0")+1),tn.substring(tn.lastIndexOf("0")+1)],ci=Nn[0],Xi=Nn[1]||"";Ge.posPre=ci.substring(0,ci.indexOf("#"));for(let ho=0;ho<Xi.length;ho++){const Ji=Xi.charAt(ho);"0"===Ji?Ge.minFrac=Ge.maxFrac=ho+1:"#"===Ji?Ge.maxFrac=ho+1:Ge.posSuf+=Ji}const ao=ci.split(",");if(Ge.gSize=ao[1]?ao[1].length:0,Ge.lgSize=ao[2]||ao[1]?(ao[2]||ao[1]).length:0,Mn){const ho=tn.length-Ge.posPre.length-Ge.posSuf.length,Ji=Mn.indexOf("#");Ge.negPre=Mn.substring(0,Ji).replace(/'/g,""),Ge.negSuf=Mn.slice(Ji+ho).replace(/'/g,"")}else Ge.negPre=mt+Ge.posPre,Ge.negSuf=Ge.posSuf;return Ge}function Wi(Fe){const mt=parseInt(Fe);if(isNaN(mt))throw new Error("Invalid integer literal when parsing "+Fe);return mt}function Eo(Fe,mt,Ge){return(0,e.dwT)(Fe,mt,Ge)}function Yo(Fe,mt){mt=encodeURIComponent(mt);for(const Ge of Fe.split(";")){const Mt=Ge.indexOf("="),[tn,Mn]=-1==Mt?[Ge,""]:[Ge.slice(0,Mt),Ge.slice(Mt+1)];if(tn.trim()===mt)return decodeURIComponent(Mn)}return null}let Co=(()=>{class Fe{constructor(Ge,Mt,tn,Mn){this._iterableDiffers=Ge,this._keyValueDiffers=Mt,this._ngEl=tn,this._renderer=Mn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Ge){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Ge?Ge.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Ge){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Ge?Ge.split(/\s+/):Ge,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Ge=this._iterableDiffer.diff(this._rawClass);Ge&&this._applyIterableChanges(Ge)}else if(this._keyValueDiffer){const Ge=this._keyValueDiffer.diff(this._rawClass);Ge&&this._applyKeyValueChanges(Ge)}}_applyKeyValueChanges(Ge){Ge.forEachAddedItem(Mt=>this._toggleClass(Mt.key,Mt.currentValue)),Ge.forEachChangedItem(Mt=>this._toggleClass(Mt.key,Mt.currentValue)),Ge.forEachRemovedItem(Mt=>{Mt.previousValue&&this._toggleClass(Mt.key,!1)})}_applyIterableChanges(Ge){Ge.forEachAddedItem(Mt=>{if("string"!=typeof Mt.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(Mt.item)}`);this._toggleClass(Mt.item,!0)}),Ge.forEachRemovedItem(Mt=>this._toggleClass(Mt.item,!1))}_applyClasses(Ge){Ge&&(Array.isArray(Ge)||Ge instanceof Set?Ge.forEach(Mt=>this._toggleClass(Mt,!0)):Object.keys(Ge).forEach(Mt=>this._toggleClass(Mt,!!Ge[Mt])))}_removeClasses(Ge){Ge&&(Array.isArray(Ge)||Ge instanceof Set?Ge.forEach(Mt=>this._toggleClass(Mt,!1)):Object.keys(Ge).forEach(Mt=>this._toggleClass(Mt,!1)))}_toggleClass(Ge,Mt){(Ge=Ge.trim())&&Ge.split(/\s+/g).forEach(tn=>{Mt?this._renderer.addClass(this._ngEl.nativeElement,tn):this._renderer.removeClass(this._ngEl.nativeElement,tn)})}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Fe})();class _s{constructor(mt,Ge,Mt,tn){this.$implicit=mt,this.ngForOf=Ge,this.index=Mt,this.count=tn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fo=(()=>{class Fe{constructor(Ge,Mt,tn){this._viewContainer=Ge,this._template=Mt,this._differs=tn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Ge){this._ngForOf=Ge,this._ngForOfDirty=!0}set ngForTrackBy(Ge){this._trackByFn=Ge}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Ge){Ge&&(this._template=Ge)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ge=this._ngForOf;!this._differ&&Ge&&(this._differ=this._differs.find(Ge).create(this.ngForTrackBy))}if(this._differ){const Ge=this._differ.diff(this._ngForOf);Ge&&this._applyChanges(Ge)}}_applyChanges(Ge){const Mt=this._viewContainer;Ge.forEachOperation((tn,Mn,Nn)=>{if(null==tn.previousIndex)Mt.createEmbeddedView(this._template,new _s(tn.item,this._ngForOf,-1,-1),null===Nn?void 0:Nn);else if(null==Nn)Mt.remove(null===Mn?void 0:Mn);else if(null!==Mn){const ci=Mt.get(Mn);Mt.move(ci,Nn),Oo(ci,tn)}});for(let tn=0,Mn=Mt.length;tn<Mn;tn++){const ci=Mt.get(tn).context;ci.index=tn,ci.count=Mn,ci.ngForOf=this._ngForOf}Ge.forEachIdentityChange(tn=>{Oo(Mt.get(tn.currentIndex),tn)})}static ngTemplateContextGuard(Ge,Mt){return!0}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Fe})();function Oo(Fe,mt){Fe.context.$implicit=mt.item}let Ks=(()=>{class Fe{constructor(Ge,Mt){this._viewContainer=Ge,this._context=new ds,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Mt}set ngIf(Ge){this._context.$implicit=this._context.ngIf=Ge,this._updateView()}set ngIfThen(Ge){mo("ngIfThen",Ge),this._thenTemplateRef=Ge,this._thenViewRef=null,this._updateView()}set ngIfElse(Ge){mo("ngIfElse",Ge),this._elseTemplateRef=Ge,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ge,Mt){return!0}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.s_b),e.Y36(e.Rgc))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Fe})();class ds{constructor(){this.$implicit=null,this.ngIf=null}}function mo(Fe,mt){if(mt&&!mt.createEmbeddedView)throw new Error(`${Fe} must be a TemplateRef, but received '${(0,e.AaK)(mt)}'.`)}class qo{constructor(mt,Ge){this._viewContainerRef=mt,this._templateRef=Ge,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(mt){mt&&!this._created?this.create():!mt&&this._created&&this.destroy()}}let As=(()=>{class Fe{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ge){this._ngSwitch=Ge,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ge){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Ge)}_matchCase(Ge){const Mt=Ge==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Mt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Mt}_updateDefaultCases(Ge){if(this._defaultViews&&Ge!==this._defaultUsed){this._defaultUsed=Ge;for(let Mt=0;Mt<this._defaultViews.length;Mt++)this._defaultViews[Mt].enforceState(Ge)}}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Fe})(),Ls=(()=>{class Fe{constructor(Ge,Mt,tn){this.ngSwitch=tn,tn._addCase(),this._view=new qo(Ge,Mt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(As,9))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Fe})(),Hs=(()=>{class Fe{constructor(Ge,Mt,tn){tn._addDefault(new qo(Ge,Mt))}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(As,9))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Fe})(),Hr=(()=>{class Fe{constructor(Ge,Mt,tn){this._ngEl=Ge,this._differs=Mt,this._renderer=tn,this._ngStyle=null,this._differ=null}set ngStyle(Ge){this._ngStyle=Ge,!this._differ&&Ge&&(this._differ=this._differs.find(Ge).create())}ngDoCheck(){if(this._differ){const Ge=this._differ.diff(this._ngStyle);Ge&&this._applyChanges(Ge)}}_setStyle(Ge,Mt){const[tn,Mn]=Ge.split("."),Nn=-1===tn.indexOf("-")?void 0:e.JOm.DashCase;null!=Mt?this._renderer.setStyle(this._ngEl.nativeElement,tn,Mn?`${Mt}${Mn}`:Mt,Nn):this._renderer.removeStyle(this._ngEl.nativeElement,tn,Nn)}_applyChanges(Ge){Ge.forEachRemovedItem(Mt=>this._setStyle(Mt.key,null)),Ge.forEachAddedItem(Mt=>this._setStyle(Mt.key,Mt.currentValue)),Ge.forEachChangedItem(Mt=>this._setStyle(Mt.key,Mt.currentValue))}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Fe})(),hr=(()=>{class Fe{constructor(Ge){this._viewContainerRef=Ge,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ge){if(Ge.ngTemplateOutlet||Ge.ngTemplateOutletInjector){const Mt=this._viewContainerRef;if(this._viewRef&&Mt.remove(Mt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:tn,ngTemplateOutletContext:Mn,ngTemplateOutletInjector:Nn}=this;this._viewRef=Mt.createEmbeddedView(tn,Mn,Nn?{injector:Nn}:void 0)}else this._viewRef=null}else this._viewRef&&Ge.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.s_b))},Fe.\u0275dir=e.lG2({type:Fe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),Fe})();function Ri(Fe,mt){return new e.vHH(2100,!1)}class No{createSubscription(mt,Ge){return mt.subscribe({next:Ge,error:Mt=>{throw Mt}})}dispose(mt){mt.unsubscribe()}}class Li{createSubscription(mt,Ge){return mt.then(Ge,Mt=>{throw Mt})}dispose(mt){}}const Rs=new Li,Vr=new No;let ws=(()=>{class Fe{constructor(Ge){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ge}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ge){return this._obj?Ge!==this._obj?(this._dispose(),this.transform(Ge)):this._latestValue:(Ge&&this._subscribe(Ge),this._latestValue)}_subscribe(Ge){this._obj=Ge,this._strategy=this._selectStrategy(Ge),this._subscription=this._strategy.createSubscription(Ge,Mt=>this._updateLatestValue(Ge,Mt))}_selectStrategy(Ge){if((0,e.QGY)(Ge))return Rs;if((0,e.F4k)(Ge))return Vr;throw Ri()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ge,Mt){Ge===this._obj&&(this._latestValue=Mt,this._ref.markForCheck())}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.sBO,16))},Fe.\u0275pipe=e.Yjl({name:"async",type:Fe,pure:!1,standalone:!0}),Fe})();const jo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let sr=(()=>{class Fe{transform(Ge){if(null==Ge)return null;if("string"!=typeof Ge)throw Ri();return Ge.replace(jo,Mt=>Mt[0].toUpperCase()+Mt.slice(1).toLowerCase())}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)},Fe.\u0275pipe=e.Yjl({name:"titlecase",type:Fe,pure:!0,standalone:!0}),Fe})();const Cs=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let zr=(()=>{class Fe{constructor(Ge,Mt){this.locale=Ge,this.defaultTimezone=Mt}transform(Ge,Mt="mediumDate",tn,Mn){var Nn;if(null==Ge||""===Ge||Ge!=Ge)return null;try{return ee(Ge,Mt,Mn||this.locale,null!==(Nn=null!=tn?tn:this.defaultTimezone)&&void 0!==Nn?Nn:void 0)}catch(ci){throw Ri()}}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.soG,16),e.Y36(Cs,24))},Fe.\u0275pipe=e.Yjl({name:"date",type:Fe,pure:!0,standalone:!0}),Fe})(),Mr=(()=>{class Fe{constructor(Ge){this.differs=Ge,this.keyValues=[],this.compareFn=vs}transform(Ge,Mt=vs){if(!Ge||!(Ge instanceof Map)&&"object"!=typeof Ge)return null;this.differ||(this.differ=this.differs.find(Ge).create());const tn=this.differ.diff(Ge),Mn=Mt!==this.compareFn;return tn&&(this.keyValues=[],tn.forEachItem(Nn=>{this.keyValues.push(function fr(Fe,mt){return{key:Fe,value:mt}}(Nn.key,Nn.currentValue))})),(tn||Mn)&&(this.keyValues.sort(Mt),this.compareFn=Mt),this.keyValues}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.aQg,16))},Fe.\u0275pipe=e.Yjl({name:"keyvalue",type:Fe,pure:!1,standalone:!0}),Fe})();function vs(Fe,mt){const Ge=Fe.key,Mt=mt.key;if(Ge===Mt)return 0;if(void 0===Ge)return 1;if(void 0===Mt)return-1;if(null===Ge)return 1;if(null===Mt)return-1;if("string"==typeof Ge&&"string"==typeof Mt)return Ge<Mt?-1:1;if("number"==typeof Ge&&"number"==typeof Mt)return Ge-Mt;if("boolean"==typeof Ge&&"boolean"==typeof Mt)return Ge<Mt?-1:1;const tn=String(Ge),Mn=String(Mt);return tn==Mn?0:tn<Mn?-1:1}let bs=(()=>{class Fe{constructor(Ge){this._locale=Ge}transform(Ge,Mt,tn){if(!ks(Ge))return null;tn=tn||this._locale;try{return function ti(Fe,mt,Ge){return yn(Fe,li(Xe(mt,j.Decimal),_e(mt,de.MinusSign)),mt,de.Group,de.Decimal,Ge)}(Vs(Ge),tn,Mt)}catch(Mn){throw Ri()}}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.soG,16))},Fe.\u0275pipe=e.Yjl({name:"number",type:Fe,pure:!0,standalone:!0}),Fe})(),Ss=(()=>{class Fe{constructor(Ge,Mt="USD"){this._locale=Ge,this._defaultCurrencyCode=Mt}transform(Ge,Mt=this._defaultCurrencyCode,tn="symbol",Mn,Nn){if(!ks(Ge))return null;Nn=Nn||this._locale,"boolean"==typeof tn&&(tn=tn?"symbol":"code");let ci=Mt||this._defaultCurrencyCode;"code"!==tn&&(ci="symbol"===tn||"symbol-narrow"===tn?function We(Fe,mt,Ge="en"){const Mt=function Dt(Fe){return(0,e.cg1)(Fe)[e.wAp.Currencies]}(Ge)[Fe]||re[Fe]||[],tn=Mt[1];return"narrow"===mt&&"string"==typeof tn?tn:Mt[0]||Fe}(ci,"symbol"===tn?"wide":"narrow",Nn):tn);try{return function Zn(Fe,mt,Ge,Mt,tn){const Nn=li(Xe(mt,j.Currency),_e(mt,de.MinusSign));return Nn.minFrac=function Tt(Fe){let mt;const Ge=re[Fe];return Ge&&(mt=Ge[2]),"number"==typeof mt?mt:2}(Mt),Nn.maxFrac=Nn.minFrac,yn(Fe,Nn,mt,de.CurrencyGroup,de.CurrencyDecimal,tn).replace("\xa4",Ge).replace("\xa4","").trim()}(Vs(Ge),Nn,ci,Mt,Mn)}catch(Xi){throw Ri()}}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},Fe.\u0275pipe=e.Yjl({name:"currency",type:Fe,pure:!0,standalone:!0}),Fe})();function ks(Fe){return!(null==Fe||""===Fe||Fe!=Fe)}function Vs(Fe){if("string"==typeof Fe&&!isNaN(Number(Fe)-parseFloat(Fe)))return Number(Fe);if("number"!=typeof Fe)throw new Error(`${Fe} is not a number`);return Fe}let ia=(()=>{class Fe{transform(Ge,Mt,tn){if(null==Ge)return null;if(!this.supports(Ge))throw Ri();return Ge.slice(Mt,tn)}supports(Ge){return"string"==typeof Ge||Array.isArray(Ge)}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)},Fe.\u0275pipe=e.Yjl({name:"slice",type:Fe,pure:!1,standalone:!0}),Fe})(),sa=(()=>{class Fe{}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)},Fe.\u0275mod=e.oAB({type:Fe}),Fe.\u0275inj=e.cJS({}),Fe})();const Jr="browser";function Pr(Fe){return Fe===Jr}function St(Fe){return"server"===Fe}let At=(()=>{class Fe{}return Fe.\u0275prov=(0,e.Yz7)({token:Fe,providedIn:"root",factory:()=>new Ht((0,e.LFG)(b),window)}),Fe})();class Ht{constructor(mt,Ge){this.document=mt,this.window=Ge,this.offset=()=>[0,0]}setOffset(mt){this.offset=Array.isArray(mt)?()=>mt:mt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(mt){this.supportsScrolling()&&this.window.scrollTo(mt[0],mt[1])}scrollToAnchor(mt){if(!this.supportsScrolling())return;const Ge=function En(Fe,mt){const Ge=Fe.getElementById(mt)||Fe.getElementsByName(mt)[0];if(Ge)return Ge;if("function"==typeof Fe.createTreeWalker&&Fe.body&&(Fe.body.createShadowRoot||Fe.body.attachShadow)){const Mt=Fe.createTreeWalker(Fe.body,NodeFilter.SHOW_ELEMENT);let tn=Mt.currentNode;for(;tn;){const Mn=tn.shadowRoot;if(Mn){const Nn=Mn.getElementById(mt)||Mn.querySelector(`[name="${mt}"]`);if(Nn)return Nn}tn=Mt.nextNode()}}return null}(this.document,mt);Ge&&(this.scrollToElement(Ge),Ge.focus())}setHistoryScrollRestoration(mt){if(this.supportScrollRestoration()){const Ge=this.window.history;Ge&&Ge.scrollRestoration&&(Ge.scrollRestoration=mt)}}scrollToElement(mt){const Ge=mt.getBoundingClientRect(),Mt=Ge.left+this.window.pageXOffset,tn=Ge.top+this.window.pageYOffset,Mn=this.offset();this.window.scrollTo(Mt-Mn[0],tn-Mn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const mt=kn(this.window.history)||kn(Object.getPrototypeOf(this.window.history));return!(!mt||!mt.writable&&!mt.set)}catch(mt){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(mt){return!1}}}function kn(Fe){return Object.getOwnPropertyDescriptor(Fe,"scrollRestoration")}class Zi{}},520:(dn,pt,C)=>{"use strict";C.d(pt,{JF:()=>Tt,eN:()=>ce});var e=C(9808),d=C(5e3),u=C(9646),p=C(9751),x=C(4351),R=C(9300),b=C(4004);class s{}class F{}class O{constructor(et){this.normalizedNames=new Map,this.lazyUpdate=null,et?this.lazyInit="string"==typeof et?()=>{this.headers=new Map,et.split("\n").forEach(Ne=>{const yt=Ne.indexOf(":");if(yt>0){const ee=Ne.slice(0,yt),Ze=ee.toLowerCase(),Ce=Ne.slice(yt+1).trim();this.maybeSetNormalizedName(ee,Ze),this.headers.has(Ze)?this.headers.get(Ze).push(Ce):this.headers.set(Ze,[Ce])}})}:()=>{this.headers=new Map,Object.keys(et).forEach(Ne=>{let yt=et[Ne];const ee=Ne.toLowerCase();"string"==typeof yt&&(yt=[yt]),yt.length>0&&(this.headers.set(ee,yt),this.maybeSetNormalizedName(Ne,ee))})}:this.headers=new Map}has(et){return this.init(),this.headers.has(et.toLowerCase())}get(et){this.init();const Ne=this.headers.get(et.toLowerCase());return Ne&&Ne.length>0?Ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(et){return this.init(),this.headers.get(et.toLowerCase())||null}append(et,Ne){return this.clone({name:et,value:Ne,op:"a"})}set(et,Ne){return this.clone({name:et,value:Ne,op:"s"})}delete(et,Ne){return this.clone({name:et,value:Ne,op:"d"})}maybeSetNormalizedName(et,Ne){this.normalizedNames.has(Ne)||this.normalizedNames.set(Ne,et)}init(){this.lazyInit&&(this.lazyInit instanceof O?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(et=>this.applyUpdate(et)),this.lazyUpdate=null))}copyFrom(et){et.init(),Array.from(et.headers.keys()).forEach(Ne=>{this.headers.set(Ne,et.headers.get(Ne)),this.normalizedNames.set(Ne,et.normalizedNames.get(Ne))})}clone(et){const Ne=new O;return Ne.lazyInit=this.lazyInit&&this.lazyInit instanceof O?this.lazyInit:this,Ne.lazyUpdate=(this.lazyUpdate||[]).concat([et]),Ne}applyUpdate(et){const Ne=et.name.toLowerCase();switch(et.op){case"a":case"s":let yt=et.value;if("string"==typeof yt&&(yt=[yt]),0===yt.length)return;this.maybeSetNormalizedName(et.name,Ne);const ee=("a"===et.op?this.headers.get(Ne):void 0)||[];ee.push(...yt),this.headers.set(Ne,ee);break;case"d":const Ze=et.value;if(Ze){let Ce=this.headers.get(Ne);if(!Ce)return;Ce=Ce.filter(ft=>-1===Ze.indexOf(ft)),0===Ce.length?(this.headers.delete(Ne),this.normalizedNames.delete(Ne)):this.headers.set(Ne,Ce)}else this.headers.delete(Ne),this.normalizedNames.delete(Ne)}}forEach(et){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ne=>et(this.normalizedNames.get(Ne),this.headers.get(Ne)))}}class N{encodeKey(et){return k(et)}encodeValue(et){return k(et)}decodeKey(et){return decodeURIComponent(et)}decodeValue(et){return decodeURIComponent(et)}}const y=/%(\d[a-f0-9])/gi,w={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k(Oe){return encodeURIComponent(Oe).replace(y,(et,Ne)=>{var yt;return null!==(yt=w[Ne])&&void 0!==yt?yt:et})}function V(Oe){return`${Oe}`}class U{constructor(et={}){if(this.updates=null,this.cloneFrom=null,this.encoder=et.encoder||new N,et.fromString){if(et.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function T(Oe,et){const Ne=new Map;return Oe.length>0&&Oe.replace(/^\?/,"").split("&").forEach(ee=>{const Ze=ee.indexOf("="),[Ce,ft]=-1==Ze?[et.decodeKey(ee),""]:[et.decodeKey(ee.slice(0,Ze)),et.decodeValue(ee.slice(Ze+1))],an=Ne.get(Ce)||[];an.push(ft),Ne.set(Ce,an)}),Ne}(et.fromString,this.encoder)}else et.fromObject?(this.map=new Map,Object.keys(et.fromObject).forEach(Ne=>{const yt=et.fromObject[Ne],ee=Array.isArray(yt)?yt.map(V):[V(yt)];this.map.set(Ne,ee)})):this.map=null}has(et){return this.init(),this.map.has(et)}get(et){this.init();const Ne=this.map.get(et);return Ne?Ne[0]:null}getAll(et){return this.init(),this.map.get(et)||null}keys(){return this.init(),Array.from(this.map.keys())}append(et,Ne){return this.clone({param:et,value:Ne,op:"a"})}appendAll(et){const Ne=[];return Object.keys(et).forEach(yt=>{const ee=et[yt];Array.isArray(ee)?ee.forEach(Ze=>{Ne.push({param:yt,value:Ze,op:"a"})}):Ne.push({param:yt,value:ee,op:"a"})}),this.clone(Ne)}set(et,Ne){return this.clone({param:et,value:Ne,op:"s"})}delete(et,Ne){return this.clone({param:et,value:Ne,op:"d"})}toString(){return this.init(),this.keys().map(et=>{const Ne=this.encoder.encodeKey(et);return this.map.get(et).map(yt=>Ne+"="+this.encoder.encodeValue(yt)).join("&")}).filter(et=>""!==et).join("&")}clone(et){const Ne=new U({encoder:this.encoder});return Ne.cloneFrom=this.cloneFrom||this,Ne.updates=(this.updates||[]).concat(et),Ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(et=>this.map.set(et,this.cloneFrom.map.get(et))),this.updates.forEach(et=>{switch(et.op){case"a":case"s":const Ne=("a"===et.op?this.map.get(et.param):void 0)||[];Ne.push(V(et.value)),this.map.set(et.param,Ne);break;case"d":if(void 0===et.value){this.map.delete(et.param);break}{let yt=this.map.get(et.param)||[];const ee=yt.indexOf(V(et.value));-1!==ee&&yt.splice(ee,1),yt.length>0?this.map.set(et.param,yt):this.map.delete(et.param)}}}),this.cloneFrom=this.updates=null)}}class K{constructor(){this.map=new Map}set(et,Ne){return this.map.set(et,Ne),this}get(et){return this.map.has(et)||this.map.set(et,et.defaultValue()),this.map.get(et)}delete(et){return this.map.delete(et),this}has(et){return this.map.has(et)}keys(){return this.map.keys()}}function D(Oe){return"undefined"!=typeof ArrayBuffer&&Oe instanceof ArrayBuffer}function P(Oe){return"undefined"!=typeof Blob&&Oe instanceof Blob}function Y(Oe){return"undefined"!=typeof FormData&&Oe instanceof FormData}class j{constructor(et,Ne,yt,ee){let Ze;if(this.url=Ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=et.toUpperCase(),function H(Oe){switch(Oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ee?(this.body=void 0!==yt?yt:null,Ze=ee):Ze=yt,Ze&&(this.reportProgress=!!Ze.reportProgress,this.withCredentials=!!Ze.withCredentials,Ze.responseType&&(this.responseType=Ze.responseType),Ze.headers&&(this.headers=Ze.headers),Ze.context&&(this.context=Ze.context),Ze.params&&(this.params=Ze.params)),this.headers||(this.headers=new O),this.context||(this.context=new K),this.params){const Ce=this.params.toString();if(0===Ce.length)this.urlWithParams=Ne;else{const ft=Ne.indexOf("?");this.urlWithParams=Ne+(-1===ft?"?":ft<Ne.length-1?"&":"")+Ce}}else this.params=new U,this.urlWithParams=Ne}serializeBody(){return null===this.body?null:D(this.body)||P(this.body)||Y(this.body)||function re(Oe){return"undefined"!=typeof URLSearchParams&&Oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof U?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y(this.body)?null:P(this.body)?this.body.type||null:D(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof U?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(et={}){var Ne;const yt=et.method||this.method,ee=et.url||this.url,Ze=et.responseType||this.responseType,Ce=void 0!==et.body?et.body:this.body,ft=void 0!==et.withCredentials?et.withCredentials:this.withCredentials,an=void 0!==et.reportProgress?et.reportProgress:this.reportProgress;let Tn=et.headers||this.headers,qt=et.params||this.params;const xt=null!==(Ne=et.context)&&void 0!==Ne?Ne:this.context;return void 0!==et.setHeaders&&(Tn=Object.keys(et.setHeaders).reduce((Ct,me)=>Ct.set(me,et.setHeaders[me]),Tn)),et.setParams&&(qt=Object.keys(et.setParams).reduce((Ct,me)=>Ct.set(me,et.setParams[me]),qt)),new j(yt,ee,Ce,{params:qt,headers:Tn,context:xt,reportProgress:an,responseType:Ze,withCredentials:ft})}}var G=(()=>((G=G||{})[G.Sent=0]="Sent",G[G.UploadProgress=1]="UploadProgress",G[G.ResponseHeader=2]="ResponseHeader",G[G.DownloadProgress=3]="DownloadProgress",G[G.Response=4]="Response",G[G.User=5]="User",G))();class ie{constructor(et,Ne=200,yt="OK"){this.headers=et.headers||new O,this.status=void 0!==et.status?et.status:Ne,this.statusText=et.statusText||yt,this.url=et.url||null,this.ok=this.status>=200&&this.status<300}}class Te extends ie{constructor(et={}){super(et),this.type=G.ResponseHeader}clone(et={}){return new Te({headers:et.headers||this.headers,status:void 0!==et.status?et.status:this.status,statusText:et.statusText||this.statusText,url:et.url||this.url||void 0})}}class Me extends ie{constructor(et={}){super(et),this.type=G.Response,this.body=void 0!==et.body?et.body:null}clone(et={}){return new Me({body:void 0!==et.body?et.body:this.body,headers:et.headers||this.headers,status:void 0!==et.status?et.status:this.status,statusText:et.statusText||this.statusText,url:et.url||this.url||void 0})}}class de extends ie{constructor(et){super(et,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${et.url||"(unknown url)"}`:`Http failure response for ${et.url||"(unknown url)"}: ${et.status} ${et.statusText}`,this.error=et.error||null}}function te(Oe,et){return{body:et,headers:Oe.headers,context:Oe.context,observe:Oe.observe,params:Oe.params,reportProgress:Oe.reportProgress,responseType:Oe.responseType,withCredentials:Oe.withCredentials}}let ce=(()=>{class Oe{constructor(Ne){this.handler=Ne}request(Ne,yt,ee={}){let Ze;if(Ne instanceof j)Ze=Ne;else{let an,Tn;an=ee.headers instanceof O?ee.headers:new O(ee.headers),ee.params&&(Tn=ee.params instanceof U?ee.params:new U({fromObject:ee.params})),Ze=new j(Ne,yt,void 0!==ee.body?ee.body:null,{headers:an,context:ee.context,params:Tn,reportProgress:ee.reportProgress,responseType:ee.responseType||"json",withCredentials:ee.withCredentials})}const Ce=(0,u.of)(Ze).pipe((0,x.b)(an=>this.handler.handle(an)));if(Ne instanceof j||"events"===ee.observe)return Ce;const ft=Ce.pipe((0,R.h)(an=>an instanceof Me));switch(ee.observe||"body"){case"body":switch(Ze.responseType){case"arraybuffer":return ft.pipe((0,b.U)(an=>{if(null!==an.body&&!(an.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return an.body}));case"blob":return ft.pipe((0,b.U)(an=>{if(null!==an.body&&!(an.body instanceof Blob))throw new Error("Response is not a Blob.");return an.body}));case"text":return ft.pipe((0,b.U)(an=>{if(null!==an.body&&"string"!=typeof an.body)throw new Error("Response is not a string.");return an.body}));default:return ft.pipe((0,b.U)(an=>an.body))}case"response":return ft;default:throw new Error(`Unreachable: unhandled observe type ${ee.observe}}`)}}delete(Ne,yt={}){return this.request("DELETE",Ne,yt)}get(Ne,yt={}){return this.request("GET",Ne,yt)}head(Ne,yt={}){return this.request("HEAD",Ne,yt)}jsonp(Ne,yt){return this.request("JSONP",Ne,{params:(new U).append(yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ne,yt={}){return this.request("OPTIONS",Ne,yt)}patch(Ne,yt,ee={}){return this.request("PATCH",Ne,te(ee,yt))}post(Ne,yt,ee={}){return this.request("POST",Ne,te(ee,yt))}put(Ne,yt,ee={}){return this.request("PUT",Ne,te(ee,yt))}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)(d.LFG(s))},Oe.\u0275prov=d.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class J{constructor(et,Ne){this.next=et,this.interceptor=Ne}handle(et){return this.interceptor.intercept(et,this.next)}}const ve=new d.OlP("HTTP_INTERCEPTORS");let be=(()=>{class Oe{intercept(Ne,yt){return yt.handle(Ne)}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)},Oe.\u0275prov=d.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const ot=/^\)\]\}',?\n/;let Dt=(()=>{class Oe{constructor(Ne){this.xhrFactory=Ne}handle(Ne){if("JSONP"===Ne.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new p.y(yt=>{const ee=this.xhrFactory.build();if(ee.open(Ne.method,Ne.urlWithParams),Ne.withCredentials&&(ee.withCredentials=!0),Ne.headers.forEach((me,lt)=>ee.setRequestHeader(me,lt.join(","))),Ne.headers.has("Accept")||ee.setRequestHeader("Accept","application/json, text/plain, */*"),!Ne.headers.has("Content-Type")){const me=Ne.detectContentTypeHeader();null!==me&&ee.setRequestHeader("Content-Type",me)}if(Ne.responseType){const me=Ne.responseType.toLowerCase();ee.responseType="json"!==me?me:"text"}const Ze=Ne.serializeBody();let Ce=null;const ft=()=>{if(null!==Ce)return Ce;const me=ee.statusText||"OK",lt=new O(ee.getAllResponseHeaders()),$e=function Zt(Oe){return"responseURL"in Oe&&Oe.responseURL?Oe.responseURL:/^X-Request-URL:/m.test(Oe.getAllResponseHeaders())?Oe.getResponseHeader("X-Request-URL"):null}(ee)||Ne.url;return Ce=new Te({headers:lt,status:ee.status,statusText:me,url:$e}),Ce},an=()=>{let{headers:me,status:lt,statusText:$e,url:Lt}=ft(),je=null;204!==lt&&(je=void 0===ee.response?ee.responseText:ee.response),0===lt&&(lt=je?200:0);let sn=lt>=200&&lt<300;if("json"===Ne.responseType&&"string"==typeof je){const fn=je;je=je.replace(ot,"");try{je=""!==je?JSON.parse(je):null}catch(Gt){je=fn,sn&&(sn=!1,je={error:Gt,text:je})}}sn?(yt.next(new Me({body:je,headers:me,status:lt,statusText:$e,url:Lt||void 0})),yt.complete()):yt.error(new de({error:je,headers:me,status:lt,statusText:$e,url:Lt||void 0}))},Tn=me=>{const{url:lt}=ft(),$e=new de({error:me,status:ee.status||0,statusText:ee.statusText||"Unknown Error",url:lt||void 0});yt.error($e)};let qt=!1;const xt=me=>{qt||(yt.next(ft()),qt=!0);let lt={type:G.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(lt.total=me.total),"text"===Ne.responseType&&!!ee.responseText&&(lt.partialText=ee.responseText),yt.next(lt)},Ct=me=>{let lt={type:G.UploadProgress,loaded:me.loaded};me.lengthComputable&&(lt.total=me.total),yt.next(lt)};return ee.addEventListener("load",an),ee.addEventListener("error",Tn),ee.addEventListener("timeout",Tn),ee.addEventListener("abort",Tn),Ne.reportProgress&&(ee.addEventListener("progress",xt),null!==Ze&&ee.upload&&ee.upload.addEventListener("progress",Ct)),ee.send(Ze),yt.next({type:G.Sent}),()=>{ee.removeEventListener("error",Tn),ee.removeEventListener("abort",Tn),ee.removeEventListener("load",an),ee.removeEventListener("timeout",Tn),Ne.reportProgress&&(ee.removeEventListener("progress",xt),null!==Ze&&ee.upload&&ee.upload.removeEventListener("progress",Ct)),ee.readyState!==ee.DONE&&ee.abort()}})}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)(d.LFG(e.JF))},Oe.\u0275prov=d.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const Cn=new d.OlP("XSRF_COOKIE_NAME"),Xt=new d.OlP("XSRF_HEADER_NAME");class jt{}let ht=(()=>{class Oe{constructor(Ne,yt,ee){this.doc=Ne,this.platform=yt,this.cookieName=ee,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ne=this.doc.cookie||"";return Ne!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(Ne,this.cookieName),this.lastCookieString=Ne),this.lastToken}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)(d.LFG(e.K0),d.LFG(d.Lbi),d.LFG(Cn))},Oe.\u0275prov=d.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),ut=(()=>{class Oe{constructor(Ne,yt){this.tokenService=Ne,this.headerName=yt}intercept(Ne,yt){const ee=Ne.url.toLowerCase();if("GET"===Ne.method||"HEAD"===Ne.method||ee.startsWith("http://")||ee.startsWith("https://"))return yt.handle(Ne);const Ze=this.tokenService.getToken();return null!==Ze&&!Ne.headers.has(this.headerName)&&(Ne=Ne.clone({headers:Ne.headers.set(this.headerName,Ze)})),yt.handle(Ne)}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)(d.LFG(jt),d.LFG(Xt))},Oe.\u0275prov=d.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),xe=(()=>{class Oe{constructor(Ne,yt){this.backend=Ne,this.injector=yt,this.chain=null}handle(Ne){if(null===this.chain){const yt=this.injector.get(ve,[]);this.chain=yt.reduceRight((ee,Ze)=>new J(ee,Ze),this.backend)}return this.chain.handle(Ne)}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)(d.LFG(F),d.LFG(d.zs3))},Oe.\u0275prov=d.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),gt=(()=>{class Oe{static disable(){return{ngModule:Oe,providers:[{provide:ut,useClass:be}]}}static withOptions(Ne={}){return{ngModule:Oe,providers:[Ne.cookieName?{provide:Cn,useValue:Ne.cookieName}:[],Ne.headerName?{provide:Xt,useValue:Ne.headerName}:[]]}}}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)},Oe.\u0275mod=d.oAB({type:Oe}),Oe.\u0275inj=d.cJS({providers:[ut,{provide:ve,useExisting:ut,multi:!0},{provide:jt,useClass:ht},{provide:Cn,useValue:"XSRF-TOKEN"},{provide:Xt,useValue:"X-XSRF-TOKEN"}]}),Oe})(),Tt=(()=>{class Oe{}return Oe.\u0275fac=function(Ne){return new(Ne||Oe)},Oe.\u0275mod=d.oAB({type:Oe}),Oe.\u0275inj=d.cJS({providers:[ce,{provide:s,useClass:xe},Dt,{provide:F,useExisting:Dt}],imports:[gt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Oe})()},5e3:(dn,pt,C)=>{"use strict";C.d(pt,{$8M:()=>$l,$Z:()=>xg,AFp:()=>m1,ALo:()=>Rv,AaK:()=>s,Akn:()=>Yl,AsE:()=>Nm,B6R:()=>je,BQk:()=>zg,CHM:()=>ro,CRH:()=>Qv,CZH:()=>_f,CqO:()=>W0,D6c:()=>Lx,DdM:()=>xv,Dn7:()=>o_,EJc:()=>K4,EiD:()=>oh,EpF:()=>Sm,F$t:()=>q0,F4k:()=>Gg,FYo:()=>Fi,FiY:()=>sc,G48:()=>mx,G7q:()=>Lh,Gf:()=>zv,GfV:()=>Br,GkF:()=>Jg,Gpc:()=>Q,HOy:()=>Bm,HTZ:()=>Sv,Hh0:()=>kv,Hsn:()=>Wg,JOm:()=>Ea,JVY:()=>jc,Jf7:()=>Xc,KtG:()=>ji,L6k:()=>ap,LAX:()=>Of,LFG:()=>To,LSH:()=>Hl,Lbi:()=>W4,Lck:()=>r4,MAs:()=>Sp,MMx:()=>Xm,NdJ:()=>km,O4$:()=>ci,OlP:()=>Ro,Oqu:()=>Rm,PXZ:()=>D1,Q6J:()=>Ug,QGY:()=>Qg,QP$:()=>Qi,QbO:()=>Y4,Qsj:()=>co,R0b:()=>El,RDi:()=>V_,Rgc:()=>Bh,SBq:()=>ui,Sil:()=>X4,Suo:()=>Jv,TTD:()=>ys,TgZ:()=>Ih,Tol:()=>fC,Udp:()=>Kg,VKq:()=>Iv,W1O:()=>jv,WD2:()=>bs,WLB:()=>Tv,X6Q:()=>fx,XFs:()=>xe,Xpm:()=>Lt,Xts:()=>qc,Y36:()=>mp,YKP:()=>mv,YNc:()=>Q0,Yjl:()=>Hn,Yz7:()=>q,Z0I:()=>ct,ZZ4:()=>I_,_Bn:()=>fv,_UZ:()=>Em,_Vd:()=>qn,_c5:()=>Ox,_uU:()=>xC,aQg:()=>T_,c2e:()=>b1,cJS:()=>_e,cg1:()=>zm,dDg:()=>ax,dqk:()=>ee,dwT:()=>BC,eBb:()=>th,eFA:()=>P1,ekj:()=>Pm,eoX:()=>S1,evT:()=>Tl,f3M:()=>Ei,g9A:()=>C1,gM2:()=>Nv,h0i:()=>Np,hGG:()=>Px,hij:()=>qg,iGM:()=>Vv,ifc:()=>yt,ip1:()=>f1,jDz:()=>c4,kEZ:()=>Av,kL8:()=>ZC,l5B:()=>wv,lG2:()=>rn,lcZ:()=>i_,lnq:()=>Fm,lqb:()=>c,lri:()=>w1,mCW:()=>ta,n5z:()=>Gs,oAB:()=>Gt,oJD:()=>md,oxw:()=>$0,pB0:()=>ig,q3G:()=>Bs,qLn:()=>ir,qOj:()=>bh,qZA:()=>Hg,qbA:()=>Ev,qzn:()=>Yc,rFY:()=>Dv,rWj:()=>E1,sBO:()=>_x,sIi:()=>xh,s_b:()=>wc,soG:()=>Cf,tb:()=>v1,tp0:()=>rc,uIk:()=>Ip,vHH:()=>w,vpe:()=>Ac,wAp:()=>Ui,xi3:()=>hf,xp6:()=>hh,ynx:()=>Vg,z2F:()=>vf,z3N:()=>ll,zSh:()=>ts,zs3:()=>eu});var e=C(7579),d=C(727),u=C(9751),p=C(6451),x=C(3099);function R(a){for(let l in a)if(a[l]===R)return l;throw Error("Could not find renamed property on target object.")}function b(a,l){for(const h in l)l.hasOwnProperty(h)&&!a.hasOwnProperty(h)&&(a[h]=l[h])}function s(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(s).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const h=l.indexOf("\n");return-1===h?l:l.substring(0,h)}function F(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const O=R({__forward_ref__:R});function Q(a){return a.__forward_ref__=Q,a.toString=function(){return s(this())},a}function N(a){return T(a)?a():a}function T(a){return"function"==typeof a&&a.hasOwnProperty(O)&&a.__forward_ref__===Q}class w extends Error{constructor(l,h){super(function k(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,h)),this.code=l}}function V(a){return"string"==typeof a?a:null==a?"":String(a)}function D(a,l){throw new w(-201,!1)}function be(a,l){null==a&&function Be(a,l,h,v){throw new Error(`ASSERTION ERROR: ${a}`+(null==v?"":` [Expected=> ${h} ${v} ${l} <=Actual]`))}(l,a,null,"!=")}function q(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function _e(a){return{providers:a.providers||[],imports:a.imports||[]}}function Xe(a){return ot(a,Xt)||ot(a,ht)}function ct(a){return null!==Xe(a)}function ot(a,l){return a.hasOwnProperty(l)?a[l]:null}function Cn(a){return a&&(a.hasOwnProperty(jt)||a.hasOwnProperty(ut))?a[jt]:null}const Xt=R({\u0275prov:R}),jt=R({\u0275inj:R}),ht=R({ngInjectableDef:R}),ut=R({ngInjectorDef:R});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let De;function gt(a){const l=De;return De=a,l}function Tt(a,l,h){const v=Xe(a);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:h&xe.Optional?null:void 0!==l?l:void D(s(a))}function Ot(a){return{toString:a}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),yt=(()=>{return(a=yt||(yt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",yt;var a})();const ee=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),ft={},an=[],Tn=R({\u0275cmp:R}),qt=R({\u0275dir:R}),xt=R({\u0275pipe:R}),Ct=R({\u0275mod:R}),me=R({\u0275fac:R}),lt=R({__NG_ELEMENT_ID__:R});let $e=0;function Lt(a){return Ot(()=>{const h=!0===a.standalone,v={},S={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||an,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||yt.Emulated,id:"c"+$e++,styles:a.styles||an,_:null,setInput:null,schemas:a.schemas||null,tView:null},B=a.dependencies,ae=a.features;return S.inputs=Bt(a.inputs,v),S.outputs=Bt(a.outputs),ae&&ae.forEach(Se=>Se(S)),S.directiveDefs=B?()=>("function"==typeof B?B():B).map(sn).filter(fn):null,S.pipeDefs=B?()=>("function"==typeof B?B():B).map(Ci).filter(fn):null,S})}function je(a,l,h){const v=a.\u0275cmp;v.directiveDefs=()=>("function"==typeof l?l():l).map(sn),v.pipeDefs=()=>("function"==typeof h?h():h).map(Ci)}function sn(a){return zn(a)||ri(a)}function fn(a){return null!==a}function Gt(a){return Ot(()=>({type:a.type,bootstrap:a.bootstrap||an,declarations:a.declarations||an,imports:a.imports||an,exports:a.exports||an,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Bt(a,l){if(null==a)return ft;const h={};for(const v in a)if(a.hasOwnProperty(v)){let S=a[v],B=S;Array.isArray(S)&&(B=S[1],S=S[0]),h[S]=v,l&&(l[S]=B)}return h}const rn=Lt;function Hn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function zn(a){return a[Tn]||null}function ri(a){return a[qt]||null}function Ci(a){return a[xt]||null}function Qi(a){const l=zn(a)||ri(a)||Ci(a);return null!==l&&l.standalone}function oo(a,l){const h=a[Ct]||null;if(!h&&!0===l)throw new Error(`Type ${s(a)} does not have '\u0275mod' property.`);return h}function mo(a){return Array.isArray(a)&&"object"==typeof a[1]}function qo(a){return Array.isArray(a)&&!0===a[1]}function As(a){return 0!=(8&a.flags)}function Ls(a){return 2==(2&a.flags)}function Hs(a){return 1==(1&a.flags)}function ps(a){return null!==a.template}function Dr(a){return 0!=(256&a[2])}function vs(a,l){return a.hasOwnProperty(me)?a[me]:null}class bs{constructor(l,h,v){this.previousValue=l,this.currentValue=h,this.firstChange=v}isFirstChange(){return this.firstChange}}function ys(){return Ss}function Ss(a){return a.type.prototype.ngOnChanges&&(a.setInput=Vs),ks}function ks(){const a=oa(this),l=null==a?void 0:a.current;if(l){const h=a.previous;if(h===ft)a.previous=l;else for(let v in l)h[v]=l[v];a.current=null,this.ngOnChanges(l)}}function Vs(a,l,h,v){const S=oa(a)||function sa(a,l){return a[ia]=l}(a,{previous:ft,current:null}),B=S.current||(S.current={}),ae=S.previous,Se=this.declaredInputs[h],He=ae[Se];B[Se]=new bs(He&&He.currentValue,l,ae===ft),a[v]=l}ys.ngInherit=!0;const ia="__ngSimpleChanges__";function oa(a){return a[ia]||null}function Ue(a){for(;Array.isArray(a);)a=a[0];return a}function kn(a,l){return Ue(l[a])}function En(a,l){return Ue(l[a.index])}function Zi(a,l){return a.data[l]}function Ni(a,l){return a[l]}function ki(a,l){const h=l[a];return mo(h)?h:h[0]}function zs(a){return 64==(64&a[2])}function xo(a,l){return null==l?null:a[l]}function vo(a){a[18]=0}function Ns(a,l){a[5]+=l;let h=a,v=a[3];for(;null!==v&&(1===l&&1===h[5]||-1===l&&0===h[5]);)v[5]+=l,h=v,v=v[3]}const Di={lFrame:Ka(null),bindingsEnabled:!0};function as(){return Di.bindingsEnabled}function Qn(){return Di.lFrame.lView}function Oi(){return Di.lFrame.tView}function ro(a){return Di.lFrame.contextLView=a,a[8]}function ji(a){return Di.lFrame.contextLView=null,a}function qi(){let a=Ca();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ca(){return Di.lFrame.currentTNode}function Fs(a,l){const h=Di.lFrame;h.currentTNode=a,h.isParent=l}function Ta(){return Di.lFrame.isParent}function Ts(){Di.lFrame.isParent=!1}function Pe(){const a=Di.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Pt(){return Di.lFrame.bindingIndex}function di(){return Di.lFrame.bindingIndex++}function no(a){const l=Di.lFrame,h=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,h}function Ds(a,l){const h=Di.lFrame;h.bindingIndex=h.bindingRootIndex=a,vr(l)}function vr(a){Di.lFrame.currentDirectiveIndex=a}function br(){return Di.lFrame.currentQueryIndex}function Wr(a){Di.lFrame.currentQueryIndex=a}function Ms(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function zo(a,l,h){if(h&xe.SkipSelf){let S=l,B=a;for(;!(S=S.parent,null!==S||h&xe.Host||(S=Ms(B),null===S||(B=B[15],10&S.type))););if(null===S)return!1;l=S,a=B}const v=Di.lFrame=Aa();return v.currentTNode=l,v.lView=a,!0}function yr(a){const l=Aa(),h=a[1];Di.lFrame=l,l.currentTNode=h.firstChild,l.lView=a,l.tView=h,l.contextLView=a,l.bindingIndex=h.bindingStartIndex,l.inI18n=!1}function Aa(){const a=Di.lFrame,l=null===a?null:a.child;return null===l?Ka(a):l}function Ka(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function pl(){const a=Di.lFrame;return Di.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Fe=pl;function mt(){const a=pl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function tn(){return Di.lFrame.selectedIndex}function Mn(a){Di.lFrame.selectedIndex=a}function Nn(){const a=Di.lFrame;return Zi(a.tView,a.selectedIndex)}function ci(){Di.lFrame.currentNamespace="svg"}function Ki(a,l){for(let h=l.directiveStart,v=l.directiveEnd;h<v;h++){const B=a.data[h].type.prototype,{ngAfterContentInit:ae,ngAfterContentChecked:Se,ngAfterViewInit:He,ngAfterViewChecked:at,ngOnDestroy:Rt}=B;ae&&(a.contentHooks||(a.contentHooks=[])).push(-h,ae),Se&&((a.contentHooks||(a.contentHooks=[])).push(h,Se),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(h,Se)),He&&(a.viewHooks||(a.viewHooks=[])).push(-h,He),at&&((a.viewHooks||(a.viewHooks=[])).push(h,at),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(h,at)),null!=Rt&&(a.destroyHooks||(a.destroyHooks=[])).push(h,Rt)}}function Jo(a,l,h){hs(a,l,3,h)}function er(a,l,h,v){(3&a[2])===h&&hs(a,l,h,v)}function tr(a,l){let h=a[2];(3&h)===l&&(h&=2047,h+=1,a[2]=h)}function hs(a,l,h,v){const B=null!=v?v:-1,ae=l.length-1;let Se=0;for(let He=void 0!==v?65535&a[18]:0;He<ae;He++)if("number"==typeof l[He+1]){if(Se=l[He],null!=v&&Se>=v)break}else l[He]<0&&(a[18]+=65536),(Se<B||-1==B)&&(ar(a,h,l,He),a[18]=(4294901760&a[18])+He+2),He++}function ar(a,l,h,v){const S=h[v]<0,B=h[v+1],Se=a[S?-h[v]:h[v]];if(S){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{B.call(Se)}finally{}}}else try{B.call(Se)}finally{}}class le{constructor(l,h,v){this.factory=l,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=v}}function Jt(a,l,h){let v=0;for(;v<h.length;){const S=h[v];if("number"==typeof S){if(0!==S)break;v++;const B=h[v++],ae=h[v++],Se=h[v++];a.setAttribute(l,ae,Se,B)}else{const B=S,ae=h[++v];Je(B)?a.setProperty(l,B,ae):a.setAttribute(l,B,ae),v++}}return v}function Ve(a){return 3===a||4===a||6===a}function Je(a){return 64===a.charCodeAt(0)}function bt(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let h=-1;for(let v=0;v<l.length;v++){const S=l[v];"number"==typeof S?h=S:0===h||Nt(a,h,S,null,-1===h||2===h?l[++v]:null)}}return a}function Nt(a,l,h,v,S){let B=0,ae=a.length;if(-1===l)ae=-1;else for(;B<a.length;){const Se=a[B++];if("number"==typeof Se){if(Se===l){ae=-1;break}if(Se>l){ae=B-1;break}}}for(;B<a.length;){const Se=a[B];if("number"==typeof Se)break;if(Se===h){if(null===v)return void(null!==S&&(a[B+1]=S));if(v===a[B+1])return void(a[B+2]=S)}B++,null!==v&&B++,null!==S&&B++}-1!==ae&&(a.splice(ae,0,l),B=ae+1),a.splice(B++,0,h),null!==v&&a.splice(B++,0,v),null!==S&&a.splice(B++,0,S)}function cn(a){return-1!==a}function wn(a){return 32767&a}function Xn(a,l){let h=function Pn(a){return a>>16}(a),v=l;for(;h>0;)v=v[15],h--;return v}let yi=!0;function Ai(a){const l=yi;return yi=a,l}let uo=0;const ls={};function xr(a,l){const h=Yr(a,l);if(-1!==h)return h;const v=l[1];v.firstCreatePass&&(a.injectorIndex=l.length,la(v.data,a),la(l,null),la(v.blueprint,null));const S=Qs(a,l),B=a.injectorIndex;if(cn(S)){const ae=wn(S),Se=Xn(S,l),He=Se[1].data;for(let at=0;at<8;at++)l[B+at]=Se[ae+at]|He[ae+at]}return l[B+8]=S,B}function la(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Yr(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Qs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let h=0,v=null,S=l;for(;null!==S;){if(v=qa(S),null===v)return-1;if(h++,S=S[15],-1!==v.injectorIndex)return v.injectorIndex|h<<16}return-1}function za(a,l,h){!function Zo(a,l,h){let v;"string"==typeof h?v=h.charCodeAt(0)||0:h.hasOwnProperty(lt)&&(v=h[lt]),null==v&&(v=h[lt]=uo++);const S=255&v;l.data[a+(S>>5)]|=1<<S}(a,l,h)}function wi(a,l,h){if(h&xe.Optional||void 0!==a)return a;D()}function Pi(a,l,h,v){if(h&xe.Optional&&void 0===v&&(v=null),0==(h&(xe.Self|xe.Host))){const S=a[9],B=gt(void 0);try{return S?S.get(l,v,h&xe.Optional):Tt(l,v,h&xe.Optional)}finally{gt(B)}}return wi(v,0,h)}function eo(a,l,h,v=xe.Default,S){if(null!==a){if(1024&l[2]){const ae=function Ja(a,l,h,v,S){let B=a,ae=l;for(;null!==B&&null!==ae&&1024&ae[2]&&!(256&ae[2]);){const Se=Qo(B,ae,h,v|xe.Self,ls);if(Se!==ls)return Se;let He=B.parent;if(!He){const at=ae[21];if(at){const Rt=at.get(h,ls,v);if(Rt!==ls)return Rt}He=qa(ae),ae=ae[15]}B=He}return S}(a,l,h,v,ls);if(ae!==ls)return ae}const B=Qo(a,l,h,v,ls);if(B!==ls)return B}return Pi(l,h,v,S)}function Qo(a,l,h,v,S){const B=function Io(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(lt)?a[lt]:void 0;return"number"==typeof l?l>=0?255&l:Rr:l}(h);if("function"==typeof B){if(!zo(l,a,v))return v&xe.Host?wi(S,0,v):Pi(l,h,v,S);try{const ae=B(v);if(null!=ae||v&xe.Optional)return ae;D()}finally{Fe()}}else if("number"==typeof B){let ae=null,Se=Yr(a,l),He=-1,at=v&xe.Host?l[16][6]:null;for((-1===Se||v&xe.SkipSelf)&&(He=-1===Se?Qs(a,l):l[Se+8],-1!==He&&$a(v,!1)?(ae=l[1],Se=wn(He),l=Xn(He,l)):Se=-1);-1!==Se;){const Rt=l[1];if(ca(B,Se,Rt.data)){const Wt=So(Se,l,h,ae,v,at);if(Wt!==ls)return Wt}He=l[Se+8],-1!==He&&$a(v,l[1].data[Se+8]===at)&&ca(B,Se,l)?(ae=Rt,Se=wn(He),l=Xn(He,l)):Se=-1}}return S}function So(a,l,h,v,S,B){const ae=l[1],Se=ae.data[a+8],Rt=ko(Se,ae,h,null==v?Ls(Se)&&yi:v!=ae&&0!=(3&Se.type),S&xe.Host&&B===Se);return null!==Rt?Ir(l,ae,Rt,Se):ls}function ko(a,l,h,v,S){const B=a.providerIndexes,ae=l.data,Se=1048575&B,He=a.directiveStart,Rt=B>>20,bn=S?Se+Rt:a.directiveEnd;for(let Dn=v?Se:Se+Rt;Dn<bn;Dn++){const Wn=ae[Dn];if(Dn<He&&h===Wn||Dn>=He&&Wn.type===h)return Dn}if(S){const Dn=ae[He];if(Dn&&ps(Dn)&&Dn.type===h)return He}return null}function Ir(a,l,h,v){let S=a[h];const B=l.data;if(function ge(a){return a instanceof le}(S)){const ae=S;ae.resolving&&function oe(a,l){const h=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new w(-200,`Circular dependency in DI detected for ${a}${h}`)}(function U(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():V(a)}(B[h]));const Se=Ai(ae.canSeeViewProviders);ae.resolving=!0;const He=ae.injectImpl?gt(ae.injectImpl):null;zo(a,v,xe.Default);try{S=a[h]=ae.factory(void 0,B,a,v),l.firstCreatePass&&h>=v.directiveStart&&function Bo(a,l,h){const{ngOnChanges:v,ngOnInit:S,ngDoCheck:B}=l.type.prototype;if(v){const ae=Ss(l);(h.preOrderHooks||(h.preOrderHooks=[])).push(a,ae),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,ae)}S&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-a,S),B&&((h.preOrderHooks||(h.preOrderHooks=[])).push(a,B),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,B))}(h,B[h],l)}finally{null!==He&&gt(He),Ai(Se),ae.resolving=!1,Fe()}}return S}function ca(a,l,h){return!!(h[l+(a>>5)]&1<<a)}function $a(a,l){return!(a&xe.Self||a&xe.Host&&l)}class Lo{constructor(l,h){this._tNode=l,this._lView=h}get(l,h,v){return eo(this._tNode,this._lView,l,v,h)}}function Rr(){return new Lo(qi(),Qn())}function Gs(a){return Ot(()=>{const l=a.prototype.constructor,h=l[me]||Ma(l),v=Object.prototype;let S=Object.getPrototypeOf(a.prototype).constructor;for(;S&&S!==v;){const B=S[me]||Ma(S);if(B&&B!==h)return B;S=Object.getPrototypeOf(S)}return B=>new B})}function Ma(a){return T(a)?()=>{const l=Ma(N(a));return l&&l()}:vs(a)}function qa(a){const l=a[1],h=l.type;return 2===h?l.declTNode:1===h?a[6]:null}function $l(a){return function xi(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const h=a.attrs;if(h){const v=h.length;let S=0;for(;S<v;){const B=h[S];if(Ve(B))break;if(0===B)S+=2;else if("number"==typeof B)for(S++;S<v&&"string"==typeof h[S];)S++;else{if(B===l)return h[S+1];S+=2}}}return null}(qi(),a)}const Xa="__parameters__";function kl(a,l,h){return Ot(()=>{const v=function Oa(a){return function(...h){if(a){const v=a(...h);for(const S in v)this[S]=v[S]}}}(l);function S(...B){if(this instanceof S)return v.apply(this,B),this;const ae=new S(...B);return Se.annotation=ae,Se;function Se(He,at,Rt){const Wt=He.hasOwnProperty(Xa)?He[Xa]:Object.defineProperty(He,Xa,{value:[]})[Xa];for(;Wt.length<=Rt;)Wt.push(null);return(Wt[Rt]=Wt[Rt]||[]).push(ae),He}}return h&&(S.prototype=Object.create(h.prototype)),S.prototype.ngMetadataName=a,S.annotationCls=S,S})}class Ro{constructor(l,h){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=q({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jr(a,l){void 0===l&&(l=a);for(let h=0;h<a.length;h++){let v=a[h];Array.isArray(v)?(l===a&&(l=a.slice(0,h)),jr(v,l)):l!==a&&l.push(v)}return l}function lr(a,l){a.forEach(h=>Array.isArray(h)?lr(h,l):l(h))}function Ar(a,l,h){l>=a.length?a.push(h):a.splice(l,0,h)}function Pa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function yo(a,l){const h=[];for(let v=0;v<a;v++)h.push(l);return h}function $t(a,l,h){let v=An(a,l);return v>=0?a[1|v]=h:(v=~v,function ue(a,l,h,v){let S=a.length;if(S==l)a.push(h,v);else if(1===S)a.push(v,a[0]),a[0]=h;else{for(S--,a.push(a[S-1],a[S]);S>l;)a[S]=a[S-2],S--;a[l]=h,a[l+1]=v}}(a,v,l,h)),v}function on(a,l){const h=An(a,l);if(h>=0)return a[1|h]}function An(a,l){return function vi(a,l,h){let v=0,S=a.length>>h;for(;S!==v;){const B=v+(S-v>>1),ae=a[B<<h];if(l===ae)return B<<h;ae>l?S=B:v=B+1}return~(S<<h)}(a,l,1)}const wr={},nl="__NG_DI_FLAG__",Pc="ngTempTokenPath",zp=/\n/gm,zd="__source";let Xl;function ec(a){const l=Xl;return Xl=a,l}function Lc(a,l=xe.Default){if(void 0===Xl)throw new w(-203,!1);return null===Xl?Tt(a,void 0,l):Xl.get(a,l&xe.Optional?null:void 0,l)}function To(a,l=xe.Default){return(function We(){return De}()||Lc)(N(a),l)}function Ei(a,l=xe.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),To(a,l)}function nc(a){const l=[];for(let h=0;h<a.length;h++){const v=N(a[h]);if(Array.isArray(v)){if(0===v.length)throw new w(900,!1);let S,B=xe.Default;for(let ae=0;ae<v.length;ae++){const Se=v[ae],He=ic(Se);"number"==typeof He?-1===He?S=Se.token:B|=He:S=Se}l.push(To(S,B))}else l.push(To(v))}return l}function Dl(a,l){return a[nl]=l,a.prototype[nl]=l,a}function ic(a){return a[nl]}const sc=Dl(kl("Optional"),8),rc=Dl(kl("SkipSelf"),4);var Ea=(()=>((Ea=Ea||{})[Ea.Important=1]="Important",Ea[Ea.DashCase=2]="DashCase",Ea))();const dc=new Map;let qd=0;const ep="__ngContext__";function Nr(a,l){mo(l)?(a[ep]=l[20],function bu(a){dc.set(a[20],a)}(l)):a[ep]=l}function Hc(a,l){return undefined(a,l)}function Vc(a){const l=a[3];return qo(l)?l[3]:l}function zc(a){return _l(a[13])}function fc(a){return _l(a[4])}function _l(a){for(;null!==a&&!qo(a);)a=a[4];return a}function Cl(a,l,h,v,S){if(null!=v){let B,ae=!1;qo(v)?B=v:mo(v)&&(ae=!0,v=v[0]);const Se=Ue(v);0===a&&null!==h?null==S?Fl(l,h,Se):Fr(l,h,Se,S||null,!0):1===a&&null!==h?Fr(l,h,Se,S||null,!0):2===a?function ld(a,l,h){const v=Jc(a,l);v&&function rd(a,l,h,v){a.removeChild(l,h,v)}(a,v,l,h)}(l,Se,ae):3===a&&l.destroyNode(Se),null!=B&&function jp(a,l,h,v,S){const B=h[7];B!==Ue(h)&&Cl(l,a,v,B,S);for(let Se=10;Se<h.length;Se++){const He=h[Se];Sa(He[1],He,a,l,v,B)}}(l,a,B,h,S)}}function se(a,l,h){return a.createElement(l,h)}function Uo(a,l){const h=a[9],v=h.indexOf(l),S=l[3];512&l[2]&&(l[2]&=-513,Ns(S,-1)),h.splice(v,1)}function Wo(a,l){if(a.length<=10)return;const h=10+l,v=a[h];if(v){const S=v[17];null!==S&&S!==a&&Uo(S,v),l>0&&(a[h-1][4]=v[4]);const B=Pa(a,10+l);!function qe(a,l){Sa(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(v[1],v);const ae=B[19];null!==ae&&ae.detachView(B[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function ha(a,l){if(!(128&l[2])){const h=l[11];h.destroyNode&&Sa(a,l,h,3,null,null),function Fn(a){let l=a[13];if(!l)return va(a[1],a);for(;l;){let h=null;if(mo(l))h=l[13];else{const v=l[10];v&&(h=v)}if(!h){for(;l&&!l[4]&&l!==a;)mo(l)&&va(l[1],l),l=l[3];null===l&&(l=a),mo(l)&&va(l[1],l),h=l&&l[4]}l=h}}(l)}}function va(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function ba(a,l){let h;if(null!=a&&null!=(h=a.destroyHooks))for(let v=0;v<h.length;v+=2){const S=l[h[v]];if(!(S instanceof le)){const B=h[v+1];if(Array.isArray(B))for(let ae=0;ae<B.length;ae+=2){const Se=S[B[ae]],He=B[ae+1];try{He.call(Se)}finally{}}else try{B.call(S)}finally{}}}}(a,l),function vl(a,l){const h=a.cleanup,v=l[7];let S=-1;if(null!==h)for(let B=0;B<h.length-1;B+=2)if("string"==typeof h[B]){const ae=h[B+1],Se="function"==typeof ae?ae(l):Ue(l[ae]),He=v[S=h[B+2]],at=h[B+3];"boolean"==typeof at?Se.removeEventListener(h[B],He,at):at>=0?v[S=at]():v[S=-at].unsubscribe(),B+=2}else{const ae=v[S=h[B+1]];h[B].call(ae)}if(null!==v){for(let B=S+1;B<v.length;B++)(0,v[B])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const h=l[17];if(null!==h&&qo(l[3])){h!==l[3]&&Uo(h,l);const v=l[19];null!==v&&v.detachView(a)}!function yu(a){dc.delete(a[20])}(l)}}function ea(a,l,h){return function rl(a,l,h){let v=l;for(;null!==v&&40&v.type;)v=(l=v).parent;if(null===v)return h[0];if(2&v.flags){const S=a.data[v.directiveStart].encapsulation;if(S===yt.None||S===yt.Emulated)return null}return En(v,h)}(a,l.parent,h)}function Fr(a,l,h,v,S){a.insertBefore(l,h,v,S)}function Fl(a,l,h){a.appendChild(l,h)}function sd(a,l,h,v,S){null!==v?Fr(a,l,h,v,S):Fl(a,l,h)}function Jc(a,l){return a.parentNode(l)}function np(a,l,h){return wu(a,l,h)}let Su,qp,_c,wu=function ip(a,l,h){return 40&a.type?En(a,h):null};function Gc(a,l,h,v){const S=ea(a,v,l),B=l[11],Se=np(v.parent||l[6],v,l);if(null!=S)if(Array.isArray(h))for(let He=0;He<h.length;He++)sd(B,S,h[He],Se,!1);else sd(B,S,h,Se,!1)}function Eu(a,l){if(null!==l){const h=l.type;if(3&h)return En(l,a);if(4&h)return Bl(-1,a[l.index]);if(8&h){const v=l.child;if(null!==v)return Eu(a,v);{const S=a[l.index];return qo(S)?Bl(-1,S):Ue(S)}}if(32&h)return Hc(l,a)()||Ue(a[l.index]);{const v=op(a,l);return null!==v?Array.isArray(v)?v[0]:Eu(Vc(a[16]),v):Eu(a,l.next)}}return null}function op(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Bl(a,l){const h=10+a+1;if(h<l.length){const v=l[h],S=v[1].firstChild;if(null!==S)return Eu(v,S)}return l[7]}function al(a,l,h,v,S,B,ae){for(;null!=h;){const Se=v[h.index],He=h.type;if(ae&&0===l&&(Se&&Nr(Ue(Se),v),h.flags|=4),64!=(64&h.flags))if(8&He)al(a,l,h.child,v,S,B,!1),Cl(l,a,S,Se,B);else if(32&He){const at=Hc(h,v);let Rt;for(;Rt=at();)Cl(l,a,S,Rt,B);Cl(l,a,S,Se,B)}else 16&He?cd(a,l,v,h,S,B):Cl(l,a,S,Se,B);h=ae?h.projectionNext:h.next}}function Sa(a,l,h,v,S,B){al(h,v,a.firstChild,l,S,B,!1)}function cd(a,l,h,v,S,B){const ae=h[16],He=ae[6].projection[v.projection];if(Array.isArray(He))for(let at=0;at<He.length;at++)Cl(l,a,S,He[at],B);else al(a,l,He,ae[3],S,B,!0)}function Kp(a,l,h){a.setAttribute(l,"style",h)}function ud(a,l,h){""===h?a.removeAttribute(l,"class"):a.setAttribute(l,"class",h)}function Wc(a){var l;return(null===(l=function sp(){if(void 0===Su&&(Su=null,ee.trustedTypes))try{Su=ee.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Su}())||void 0===l?void 0:l.createHTML(a))||a}function V_(a){qp=a}function dd(a){var l;return(null===(l=function rp(){if(void 0===_c&&(_c=null,ee.trustedTypes))try{_c=ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return _c}())||void 0===l?void 0:l.createHTML(a))||a}class Na{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Df extends Na{getTypeName(){return"HTML"}}class ku extends Na{getTypeName(){return"Style"}}class bl extends Na{getTypeName(){return"Script"}}class yl extends Na{getTypeName(){return"URL"}}class Mf extends Na{getTypeName(){return"ResourceURL"}}function ll(a){return a instanceof Na?a.changingThisBreaksApplicationSecurity:a}function Yc(a,l){const h=function ng(a){return a instanceof Na&&a.getTypeName()||null}(a);if(null!=h&&h!==l){if("ResourceURL"===h&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===l}function jc(a){return new Df(a)}function ap(a){return new ku(a)}function th(a){return new bl(a)}function Of(a){return new yl(a)}function ig(a){return new Mf(a)}class og{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const h=(new window.DOMParser).parseFromString(Wc(l),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(l):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class Pf{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const v=this.inertDocument.createElement("body");h.appendChild(v)}}getInertBodyElement(l){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=Wc(l),h;const v=this.inertDocument.createElement("body");return v.innerHTML=Wc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(l){const h=l.attributes;for(let S=h.length-1;0<S;S--){const ae=h.item(S).name;("xmlns:ns1"===ae||0===ae.indexOf("ns1:"))&&l.removeAttribute(ae)}let v=l.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const rg=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ta(a){return(a=String(a)).match(rg)?a:"unsafe:"+a}function fa(a){const l={};for(const h of a.split(","))l[h]=!0;return l}function Ul(...a){const l={};for(const h of a)for(const v in h)h.hasOwnProperty(v)&&(l[v]=!0);return l}const ag=fa("area,br,col,hr,img,wbr"),hd=fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lg=fa("rp,rt"),nh=Ul(ag,Ul(hd,fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ul(lg,fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ul(lg,hd)),gd=fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cc=Ul(gd,fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kc=fa("script,style,template");class cg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let h=l.firstChild,v=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?v=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,v&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let S=this.checkClobberedElement(h,h.nextSibling);if(S){h=S;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(l){const h=l.nodeName.toLowerCase();if(!nh.hasOwnProperty(h))return this.sanitizedSomething=!0,!Kc.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const v=l.attributes;for(let S=0;S<v.length;S++){const B=v.item(S),ae=B.name,Se=ae.toLowerCase();if(!Cc.hasOwnProperty(Se)){this.sanitizedSomething=!0;continue}let He=B.value;gd[Se]&&(He=ta(He)),this.buf.push(" ",ae,'="',$c(He),'"')}return this.buf.push(">"),!0}endElement(l){const h=l.nodeName.toLowerCase();nh.hasOwnProperty(h)&&!ag.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(l){this.buf.push($c(l))}checkClobberedElement(l,h){if(h&&(l.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return h}}const ug=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ff=/([^\#-~ |!])/g;function $c(a){return a.replace(/&/g,"&amp;").replace(ug,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ff,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fd;function oh(a,l){let h=null;try{fd=fd||function pd(a){const l=new Pf(a);return function sg(){try{return!!(new window.DOMParser).parseFromString(Wc(""),"text/html")}catch(a){return!1}}()?new og(l):l}(a);let v=l?String(l):"";h=fd.getInertBodyElement(v);let S=5,B=v;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,v=B,B=h.innerHTML,h=fd.getInertBodyElement(v)}while(v!==B);return Wc((new cg).sanitizeChildren(ya(h)||h))}finally{if(h){const v=ya(h)||h;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function ya(a){return"content"in a&&function lp(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function md(a){const l=_d();return l?dd(l.sanitize(Bs.HTML,a)||""):Yc(a,"HTML")?dd(ll(a)):oh(function Xp(){return void 0!==qp?qp:"undefined"!=typeof document?document:void 0}(),V(a))}function Hl(a){const l=_d();return l?l.sanitize(Bs.URL,a)||"":Yc(a,"URL")?ll(a):ta(V(a))}function _d(){const a=Qn();return a&&a[12]}const qc=new Ro("ENVIRONMENT_INITIALIZER"),cp=new Ro("INJECTOR",-1),Os=new Ro("INJECTOR_DEF_TYPES");class up{get(l,h=wr){if(h===wr){const v=new Error(`NullInjectorError: No provider for ${s(l)}!`);throw v.name="NullInjectorError",v}return h}}function lh(...a){return{\u0275providers:ur(0,a)}}function ur(a,...l){const h=[],v=new Set;let S;return lr(l,B=>{const ae=B;ch(ae,h,[],v)&&(S||(S=[]),S.push(ae))}),void 0!==S&&Vl(S,h),h}function Vl(a,l){for(let h=0;h<a.length;h++){const{providers:S}=a[h];lr(S,B=>{l.push(B)})}}function ch(a,l,h,v){if(!(a=N(a)))return!1;let S=null,B=Cn(a);const ae=!B&&zn(a);if(B||ae){if(ae&&!ae.standalone)return!1;S=a}else{const He=a.ngModule;if(B=Cn(He),!B)return!1;S=He}const Se=v.has(S);if(ae){if(Se)return!1;if(v.add(S),ae.dependencies){const He="function"==typeof ae.dependencies?ae.dependencies():ae.dependencies;for(const at of He)ch(at,l,h,v)}}else{if(!B)return!1;{if(null!=B.imports&&!Se){let at;v.add(S);try{lr(B.imports,Rt=>{ch(Rt,l,h,v)&&(at||(at=[]),at.push(Rt))})}finally{}void 0!==at&&Vl(at,l)}if(!Se){const at=vs(S)||(()=>new S);l.push({provide:S,useFactory:at,deps:an},{provide:Os,useValue:S,multi:!0},{provide:qc,useValue:()=>To(S),multi:!0})}const He=B.providers;null==He||Se||lr(He,Rt=>{l.push(Rt)})}}return S!==a&&void 0!==a.providers}const Uf=R({provide:String,useValue:R});function dp(a){return null!==a&&"object"==typeof a&&Uf in a}function zl(a){return"function"==typeof a}const ts=new Ro("Set Injector scope."),hp={},Hf={};let uh;function m(){return void 0===uh&&(uh=new up),uh}class c{}class f extends c{constructor(l,h,v,S){super(),this.parent=h,this.source=v,this.scopes=S,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ut(l,ae=>this.processProvider(ae)),this.records.set(cp,$(void 0,this)),S.has("environment")&&this.records.set(c,$(void 0,this));const B=this.records.get(ts);null!=B&&"string"==typeof B.value&&this.scopes.add(B.value),this.injectorDefTypes=new Set(this.get(Os.multi,an,xe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const h=ec(this),v=gt(void 0);try{return l()}finally{ec(h),gt(v)}}get(l,h=wr,v=xe.Default){this.assertNotDestroyed();const S=ec(this),B=gt(void 0);try{if(!(v&xe.SkipSelf)){let Se=this.records.get(l);if(void 0===Se){const He=function rt(a){return"function"==typeof a||"object"==typeof a&&a instanceof Ro}(l)&&Xe(l);Se=He&&this.injectableDefInScope(He)?$(_(l),hp):null,this.records.set(l,Se)}if(null!=Se)return this.hydrate(l,Se)}return(v&xe.Self?m():this.parent).get(l,h=v&xe.Optional&&h===wr?null:h)}catch(ae){if("NullInjectorError"===ae.name){if((ae[Pc]=ae[Pc]||[]).unshift(s(l)),S)throw ae;return function Ml(a,l,h,v){const S=a[Pc];throw l[zd]&&S.unshift(l[zd]),a.message=function oc(a,l,h,v=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let S=s(l);if(Array.isArray(l))S=l.map(s).join(" -> ");else if("object"==typeof l){let B=[];for(let ae in l)if(l.hasOwnProperty(ae)){let Se=l[ae];B.push(ae+":"+("string"==typeof Se?JSON.stringify(Se):s(Se)))}S=`{${B.join(", ")}}`}return`${h}${v?"("+v+")":""}[${S}]: ${a.replace(zp,"\n  ")}`}("\n"+a.message,S,h,v),a.ngTokenPath=S,a[Pc]=null,a}(ae,l,"R3InjectorError",this.source)}throw ae}finally{gt(B),ec(S)}}resolveInjectorInitializers(){const l=ec(this),h=gt(void 0);try{const v=this.get(qc.multi,an,xe.Self);for(const S of v)S()}finally{ec(l),gt(h)}}toString(){const l=[],h=this.records;for(const v of h.keys())l.push(s(v));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(l){let h=zl(l=N(l))?l:N(l&&l.provide);const v=function L(a){return dp(a)?$(void 0,a.useValue):$(z(a),hp)}(l);if(zl(l)||!0!==l.multi)this.records.get(h);else{let S=this.records.get(h);S||(S=$(void 0,hp,!0),S.factory=()=>nc(S.multi),this.records.set(h,S)),h=l,S.multi.push(l)}this.records.set(h,v)}hydrate(l,h){return h.value===hp&&(h.value=Hf,h.value=h.factory()),"object"==typeof h.value&&h.value&&function Re(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(l){if(!l.providedIn)return!1;const h=N(l.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function _(a){const l=Xe(a),h=null!==l?l.factory:vs(a);if(null!==h)return h;if(a instanceof Ro)throw new w(204,!1);if(a instanceof Function)return function I(a){const l=a.length;if(l>0)throw yo(l,"?"),new w(204,!1);const h=function Zt(a){const l=a&&(a[Xt]||a[ht]);if(l){const h=function Dt(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),l}return null}(a);return null!==h?()=>h.factory(a):()=>new a}(a);throw new w(204,!1)}function z(a,l,h){let v;if(zl(a)){const S=N(a);return vs(S)||_(S)}if(dp(a))v=()=>N(a.useValue);else if(function Cd(a){return!(!a||!a.useFactory)}(a))v=()=>a.useFactory(...nc(a.deps||[]));else if(function Du(a){return!(!a||!a.useExisting)}(a))v=()=>To(N(a.useExisting));else{const S=N(a&&(a.useClass||a.provide));if(!function fe(a){return!!a.deps}(a))return vs(S)||_(S);v=()=>new S(...nc(a.deps))}return v}function $(a,l,h=!1){return{factory:a,value:l,multi:h?[]:void 0}}function wt(a){return!!a.\u0275providers}function Ut(a,l){for(const h of a)Array.isArray(h)?Ut(h,l):wt(h)?Ut(h.\u0275providers,l):l(h)}class nn{}class Jn{resolveComponentFactory(l){throw function vn(a){const l=Error(`No component factory found for ${s(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let qn=(()=>{class a{}return a.NULL=new Jn,a})();function ei(){return Yn(qi(),Qn())}function Yn(a,l){return new ui(En(a,l))}let ui=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=ei,a})();function fi(a){return a instanceof ui?a.nativeElement:a}class Fi{}let co=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function po(){const a=Qn(),h=ki(qi().index,a);return(mo(h)?h:a)[11]}(),a})(),Do=(()=>{class a{}return a.\u0275prov=q({token:a,providedIn:"root",factory:()=>null}),a})();class Br{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Fa=new Br("14.2.12"),Ko={};function Ba(a){return a.ngOriginalError}class ir{constructor(){this._console=console}handleError(l){const h=this._findOriginalError(l);this._console.error("ERROR",l),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(l){let h=l&&Ba(l);for(;h&&Ba(h);)h=Ba(h);return h||null}}function Xc(a){return a.ownerDocument.defaultView}function Tl(a){return a.ownerDocument}function Za(a){return a instanceof Function?a():a}function gg(a,l,h){let v=a.length;for(;;){const S=a.indexOf(l,h);if(-1===S)return S;if(0===S||a.charCodeAt(S-1)<=32){const B=l.length;if(S+B===v||a.charCodeAt(S+B)<=32)return S}h=S+1}}const Pu="ng-template";function ub(a,l,h){let v=0;for(;v<a.length;){let S=a[v++];if(h&&"class"===S){if(S=a[v],-1!==gg(S.toLowerCase(),l,0))return!0}else if(1===S){for(;v<a.length&&"string"==typeof(S=a[v++]);)if(S.toLowerCase()===l)return!0;return!1}}return!1}function fp(a){return 4===a.type&&a.value!==Pu}function Vf(a,l,h){return l===(4!==a.type||h?a.value:Pu)}function zf(a,l,h){let v=4;const S=a.attrs||[],B=function db(a){for(let l=0;l<a.length;l++)if(Ve(a[l]))return l;return a.length}(S);let ae=!1;for(let Se=0;Se<l.length;Se++){const He=l[Se];if("number"!=typeof He){if(!ae)if(4&v){if(v=2|1&v,""!==He&&!Vf(a,He,h)||""===He&&1===l.length){if(Ql(v))return!1;ae=!0}}else{const at=8&v?He:l[++Se];if(8&v&&null!==a.attrs){if(!ub(a.attrs,at,h)){if(Ql(v))return!1;ae=!0}continue}const Wt=cl(8&v?"class":He,S,fp(a),h);if(-1===Wt){if(Ql(v))return!1;ae=!0;continue}if(""!==at){let bn;bn=Wt>B?"":S[Wt+1].toLowerCase();const Dn=8&v?bn:null;if(Dn&&-1!==gg(Dn,at,0)||2&v&&at!==bn){if(Ql(v))return!1;ae=!0}}}}else{if(!ae&&!Ql(v)&&!Ql(He))return!1;if(ae&&Ql(He))continue;ae=!1,v=He|1&v}}return Ql(v)||ae}function Ql(a){return 0==(1&a)}function cl(a,l,h,v){if(null===l)return-1;let S=0;if(v||!h){let B=!1;for(;S<l.length;){const ae=l[S];if(ae===a)return S;if(3===ae||6===ae)B=!0;else{if(1===ae||2===ae){let Se=l[++S];for(;"string"==typeof Se;)Se=l[++S];continue}if(4===ae)break;if(0===ae){S+=4;continue}}S+=B?1:2}return-1}return function pb(a,l){let h=a.indexOf(4);if(h>-1)for(h++;h<a.length;){const v=a[h];if("number"==typeof v)return-1;if(v===l)return h;h++}return-1}(l,a)}function fg(a,l,h=!1){for(let v=0;v<l.length;v++)if(zf(a,l[v],h))return!0;return!1}function J_(a,l){e:for(let h=0;h<l.length;h++){const v=l[h];if(a.length===v.length){for(let S=0;S<a.length;S++)if(a[S]!==v[S])continue e;return!0}}return!1}function ph(a,l){return a?":not("+l.trim()+")":l}function hb(a){let l=a[0],h=1,v=2,S="",B=!1;for(;h<a.length;){let ae=a[h];if("string"==typeof ae)if(2&v){const Se=a[++h];S+="["+ae+(Se.length>0?'="'+Se+'"':"")+"]"}else 8&v?S+="."+ae:4&v&&(S+=" "+ae);else""!==S&&!Ql(ae)&&(l+=ph(B,S),S=""),v=ae,B=B||!Ql(v);h++}return""!==S&&(l+=ph(B,S)),l}const io={};function hh(a){Jf(Oi(),Qn(),tn()+a,!1)}function Jf(a,l,h,v){if(!v)if(3==(3&l[2])){const B=a.preOrderCheckHooks;null!==B&&Jo(l,B,h)}else{const B=a.preOrderHooks;null!==B&&er(l,B,0,h)}Mn(h)}function K_(a,l=null,h=null,v){const S=Gf(a,l,h,v);return S.resolveInjectorInitializers(),S}function Gf(a,l=null,h=null,v,S=new Set){const B=[h||an,lh(a)];return v=v||("object"==typeof a?void 0:s(a)),new f(B,l||m(),v||null,S)}let eu=(()=>{class a{static create(h,v){var S;if(Array.isArray(h))return K_({name:""},v,h,"");{const B=null!==(S=h.name)&&void 0!==S?S:"";return K_({name:B},h.parent,h.providers,B)}}}return a.THROW_IF_NOT_FOUND=wr,a.NULL=new up,a.\u0275prov=q({token:a,providedIn:"any",factory:()=>To(cp)}),a.__NG_ELEMENT_ID__=-1,a})();function mp(a,l=xe.Default){const h=Qn();return null===h?To(a,l):eo(qi(),h,N(a),l)}function xg(){throw new Error("invalid")}function Ig(a,l){return a<<17|l<<2}function Al(a){return a>>17&32767}function fh(a){return 2|a}function nu(a){return(131068&a)>>2}function Tg(a,l){return-131069&a|l<<2}function _p(a){return 1|a}function g0(a,l){const h=a.contentQueries;if(null!==h)for(let v=0;v<h.length;v+=2){const S=h[v],B=h[v+1];if(-1!==B){const ae=a.data[B];Wr(S),ae.contentQueries(2,l[B],B)}}}function Zu(a,l,h,v,S,B,ae,Se,He,at,Rt){const Wt=l.blueprint.slice();return Wt[0]=S,Wt[2]=76|v,(null!==Rt||a&&1024&a[2])&&(Wt[2]|=1024),vo(Wt),Wt[3]=Wt[15]=a,Wt[8]=h,Wt[10]=ae||a&&a[10],Wt[11]=Se||a&&a[11],Wt[12]=He||a&&a[12]||null,Wt[9]=at||a&&a[9]||null,Wt[6]=B,Wt[20]=function Xd(){return qd++}(),Wt[21]=Rt,Wt[16]=2==l.type?a[16]:Wt,Wt}function Ya(a,l,h,v,S){let B=a.data[l];if(null===B)B=function om(a,l,h,v,S){const B=Ca(),ae=Ta(),He=a.data[l]=function Pb(a,l,h,v,S,B){return{type:h,index:v,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:B,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ae?B:B&&B.parent,h,l,v,S);return null===a.firstChild&&(a.firstChild=He),null!==B&&(ae?null==B.child&&null!==He.parent&&(B.child=He):null===B.next&&(B.next=He)),He}(a,l,h,v,S),function Fo(){return Di.lFrame.inI18n}()&&(B.flags|=64);else if(64&B.type){B.type=h,B.value=v,B.attrs=S;const ae=function Cr(){const a=Di.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();B.injectorIndex=null===ae?-1:ae.injectorIndex}return Fs(B,!0),B}function Id(a,l,h,v){if(0===h)return-1;const S=l.length;for(let B=0;B<h;B++)l.push(v),a.blueprint.push(v),a.data.push(null);return S}function Ch(a,l,h){yr(l);try{const v=a.viewQuery;null!==v&&Lg(1,v,h);const S=a.template;null!==S&&f0(a,l,S,1,h),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&g0(a,l),a.staticViewQueries&&Lg(2,a.viewQuery,h);const B=a.components;null!==B&&function Ob(a,l){for(let h=0;h<l.length;h++)Zb(a,l[h])}(l,B)}catch(v){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),v}finally{l[2]&=-5,mt()}}function Eg(a,l,h,v){const S=l[2];if(128!=(128&S)){yr(l);try{vo(l),function Rn(a){return Di.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==h&&f0(a,l,h,2,v);const ae=3==(3&S);if(ae){const at=a.preOrderCheckHooks;null!==at&&Jo(l,at,null)}else{const at=a.preOrderHooks;null!==at&&er(l,at,0,null),tr(l,0)}if(function Bb(a){for(let l=zc(a);null!==l;l=fc(l)){if(!l[2])continue;const h=l[9];for(let v=0;v<h.length;v++){const S=h[v],B=S[3];0==(512&S[2])&&Ns(B,1),S[2]|=512}}}(l),function D0(a){for(let l=zc(a);null!==l;l=fc(l))for(let h=10;h<l.length;h++){const v=l[h],S=v[1];zs(v)&&Eg(S,v,S.template,v[8])}}(l),null!==a.contentQueries&&g0(a,l),ae){const at=a.contentCheckHooks;null!==at&&Jo(l,at)}else{const at=a.contentHooks;null!==at&&er(l,at,1),tr(l,1)}!function Db(a,l){const h=a.hostBindingOpCodes;if(null!==h)try{for(let v=0;v<h.length;v++){const S=h[v];if(S<0)Mn(~S);else{const B=S,ae=h[++v],Se=h[++v];Ds(ae,B),Se(2,l[B])}}}finally{Mn(-1)}}(a,l);const Se=a.components;null!==Se&&function Mb(a,l){for(let h=0;h<l.length;h++)M0(a,l[h])}(l,Se);const He=a.viewQuery;if(null!==He&&Lg(2,He,v),ae){const at=a.viewCheckHooks;null!==at&&Jo(l,at)}else{const at=a.viewHooks;null!==at&&er(l,at,2),tr(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Ns(l[3],-1))}finally{mt()}}}function f0(a,l,h,v,S){const B=tn(),ae=2&v;try{Mn(-1),ae&&l.length>22&&Jf(a,l,22,!1),h(v,S)}finally{Mn(B)}}function m0(a,l,h){if(As(l)){const S=l.directiveEnd;for(let B=l.directiveStart;B<S;B++){const ae=a.data[B];ae.contentQueries&&ae.contentQueries(1,h[B],B)}}}function sm(a,l,h){!as()||(function cm(a,l,h,v){const S=h.directiveStart,B=h.directiveEnd;a.firstCreatePass||xr(h,l),Nr(v,l);const ae=h.initialInputs;for(let Se=S;Se<B;Se++){const He=a.data[Se],at=ps(He);at&&uI(l,h,He);const Rt=Ir(l,a,Se,h);Nr(Rt,l),null!==ae&&E0(0,Se-S,Rt,He,0,ae),at&&(ki(h.index,l)[8]=Rt)}}(a,l,h,En(h,l)),128==(128&h.flags)&&function um(a,l,h){const v=h.directiveStart,S=h.directiveEnd,B=h.index,ae=function Xs(){return Di.lFrame.currentDirectiveIndex}();try{Mn(B);for(let Se=v;Se<S;Se++){const He=a.data[Se],at=l[Se];vr(Se),(null!==He.hostBindings||0!==He.hostVars||null!==He.hostAttrs)&&Ad(He,at)}}finally{Mn(-1),vr(ae)}}(a,l,h))}function rm(a,l,h=En){const v=l.localNames;if(null!==v){let S=l.index+1;for(let B=0;B<v.length;B+=2){const ae=v[B+1],Se=-1===ae?h(l,a):a[ae];a[S++]=Se}}}function _0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Sg(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Sg(a,l,h,v,S,B,ae,Se,He,at){const Rt=22+v,Wt=Rt+S,bn=function C0(a,l){const h=[];for(let v=0;v<l;v++)h.push(v<a?null:io);return h}(Rt,Wt),Dn="function"==typeof at?at():at;return bn[1]={type:a,blueprint:bn,template:h,queries:null,viewQuery:Se,declTNode:l,data:bn.slice().fill(null,Rt),bindingStartIndex:Rt,expandoStartIndex:Wt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof B?B():B,pipeRegistry:"function"==typeof ae?ae():ae,firstChild:null,schemas:He,consts:Dn,incompleteFirstPass:!1}}function b0(a,l,h,v){const S=O0(l);null===h?S.push(v):(S.push(h),a.firstCreatePass&&fm(a).push(v,S.length-1))}function y0(a,l,h){for(let v in a)if(a.hasOwnProperty(v)){const S=a[v];(h=null===h?{}:h).hasOwnProperty(v)?h[v].push(l,S):h[v]=[l,S]}return h}function x0(a,l){const v=l.directiveEnd,S=a.data,B=l.attrs,ae=[];let Se=null,He=null;for(let at=l.directiveStart;at<v;at++){const Rt=S[at],Wt=Rt.inputs,bn=null===B||fp(l)?null:S0(Wt,B);ae.push(bn),Se=y0(Wt,at,Se),He=y0(Rt.outputs,at,He)}null!==Se&&(Se.hasOwnProperty("class")&&(l.flags|=16),Se.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=ae,l.inputs=Se,l.outputs=He}function Rb(a,l){const h=ki(l,a);16&h[2]||(h[2]|=32)}function am(a,l,h,v){let S=!1;if(as()){const B=function Nb(a,l,h){const v=a.directiveRegistry;let S=null;if(v)for(let B=0;B<v.length;B++){const ae=v[B];fg(h,ae.selectors,!1)&&(S||(S=[]),za(xr(h,l),a,ae.type),ps(ae)?(kg(a,h),S.unshift(ae)):S.push(ae))}return S}(a,l,h),ae=null===v?null:{"":-1};if(null!==B){S=!0,Dg(h,a.data.length,B.length);for(let Rt=0;Rt<B.length;Rt++){const Wt=B[Rt];Wt.providersResolver&&Wt.providersResolver(Wt)}let Se=!1,He=!1,at=Id(a,l,B.length,null);for(let Rt=0;Rt<B.length;Rt++){const Wt=B[Rt];h.mergedAttrs=bt(h.mergedAttrs,Wt.hostAttrs),w0(a,h,l,at,Wt),Fb(at,Wt,ae),null!==Wt.contentQueries&&(h.flags|=8),(null!==Wt.hostBindings||null!==Wt.hostAttrs||0!==Wt.hostVars)&&(h.flags|=128);const bn=Wt.type.prototype;!Se&&(bn.ngOnChanges||bn.ngOnInit||bn.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(h.index),Se=!0),!He&&(bn.ngOnChanges||bn.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(h.index),He=!0),at++}x0(a,h)}ae&&function dm(a,l,h){if(l){const v=a.localNames=[];for(let S=0;S<l.length;S+=2){const B=h[l[S+1]];if(null==B)throw new w(-301,!1);v.push(l[S],B)}}}(h,v,ae)}return h.mergedAttrs=bt(h.mergedAttrs,h.attrs),S}function A0(a,l,h,v,S,B){const ae=B.hostBindings;if(ae){let Se=a.hostBindingOpCodes;null===Se&&(Se=a.hostBindingOpCodes=[]);const He=~l.index;(function lm(a){let l=a.length;for(;l>0;){const h=a[--l];if("number"==typeof h&&h<0)return h}return 0})(Se)!=He&&Se.push(He),Se.push(v,S,ae)}}function Ad(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function kg(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Fb(a,l,h){if(h){if(l.exportAs)for(let v=0;v<l.exportAs.length;v++)h[l.exportAs[v]]=a;ps(l)&&(h[""]=a)}}function Dg(a,l,h){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+h,a.providerIndexes=l}function w0(a,l,h,v,S){a.data[v]=S;const B=S.factory||(S.factory=vs(S.type)),ae=new le(B,ps(S),mp);a.blueprint[v]=ae,h[v]=ae,A0(a,l,0,v,Id(a,h,S.hostVars,io),S)}function uI(a,l,h){const v=En(l,a),S=_0(h),B=a[10],ae=Mg(a,Zu(a,S,null,h.onPush?32:16,v,l,B,B.createRenderer(v,h),null,null,null));a[l.index]=ae}function yc(a,l,h,v,S,B){const ae=En(a,l);!function pm(a,l,h,v,S,B,ae){if(null==B)a.removeAttribute(l,S,h);else{const Se=null==ae?V(B):ae(B,v||"",S);a.setAttribute(l,S,Se,h)}}(l[11],ae,B,a.value,h,v,S)}function E0(a,l,h,v,S,B){const ae=B[l];if(null!==ae){const Se=v.setInput;for(let He=0;He<ae.length;){const at=ae[He++],Rt=ae[He++],Wt=ae[He++];null!==Se?v.setInput(h,Wt,at,Rt):h[Rt]=Wt}}}function S0(a,l){let h=null,v=0;for(;v<l.length;){const S=l[v];if(0!==S)if(5!==S){if("number"==typeof S)break;a.hasOwnProperty(S)&&(null===h&&(h=[]),h.push(S,a[S],l[v+1])),v+=2}else v+=2;else v+=4}return h}function hm(a,l,h,v){return new Array(a,!0,!1,l,null,0,v,h,null,null)}function M0(a,l){const h=ki(l,a);if(zs(h)){const v=h[1];48&h[2]?Eg(v,h,v.template,h[8]):h[5]>0&&xa(h)}}function xa(a){for(let v=zc(a);null!==v;v=fc(v))for(let S=10;S<v.length;S++){const B=v[S];if(zs(B))if(512&B[2]){const ae=B[1];Eg(ae,B,ae.template,B[8])}else B[5]>0&&xa(B)}const h=a[1].components;if(null!==h)for(let v=0;v<h.length;v++){const S=ki(h[v],a);zs(S)&&S[5]>0&&xa(S)}}function Zb(a,l){const h=ki(l,a),v=h[1];(function Ub(a,l){for(let h=l.length;h<a.blueprint.length;h++)l.push(a.blueprint[h])})(v,h),Ch(v,h,h[8])}function Mg(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function gm(a){for(;a;){a[2]|=32;const l=Vc(a);if(Dr(a)&&!l)return a;a=l}return null}function Og(a,l,h,v=!0){const S=l[10];S.begin&&S.begin();try{Eg(a,l,a.template,h)}catch(ae){throw v&&_m(l,ae),ae}finally{S.end&&S.end()}}function Lg(a,l,h){Wr(0),l(a,h)}function O0(a){return a[7]||(a[7]=[])}function fm(a){return a.cleanup||(a.cleanup=[])}function _m(a,l){const h=a[9],v=h?h.get(ir,null):null;v&&v.handleError(l)}function bp(a,l,h,v,S){for(let B=0;B<h.length;){const ae=h[B++],Se=h[B++],He=l[ae],at=a.data[ae];null!==at.setInput?at.setInput(He,S,v,Se):He[Se]=S}}function ou(a,l,h){const v=kn(l,a);!function _t(a,l,h){a.setValue(l,h)}(a[11],v,h)}function Rg(a,l,h){let v=h?a.styles:null,S=h?a.classes:null,B=0;if(null!==l)for(let ae=0;ae<l.length;ae++){const Se=l[ae];"number"==typeof Se?B=Se:1==B?S=F(S,Se):2==B&&(v=F(v,Se+": "+l[++ae]+";"))}h?a.styles=v:a.stylesWithoutHost=v,h?a.classes=S:a.classesWithoutHost=S}function Ng(a,l,h,v,S=!1){for(;null!==h;){const B=l[h.index];if(null!==B&&v.push(Ue(B)),qo(B))for(let Se=10;Se<B.length;Se++){const He=B[Se],at=He[1].firstChild;null!==at&&Ng(He[1],He,at,v)}const ae=h.type;if(8&ae)Ng(a,l,h.child,v);else if(32&ae){const Se=Hc(h,l);let He;for(;He=Se();)v.push(He)}else if(16&ae){const Se=op(l,h);if(Array.isArray(Se))v.push(...Se);else{const He=Vc(l[16]);Ng(He[1],He,Se,v,!0)}}h=S?h.projectionNext:h.next}return v}class yp{constructor(l,h){this._lView=l,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,h=l[1];return Ng(h,l,h.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(qo(l)){const h=l[8],v=h?h.indexOf(this):-1;v>-1&&(Wo(l,v),Pa(h,v))}this._attachedToViewContainer=!1}ha(this._lView[1],this._lView)}onDestroy(l){b0(this._lView[1],this._lView,null,l)}markForCheck(){gm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Og(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ln(a,l){Sa(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=l}}class P0 extends yp{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Og(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Cm extends qn{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const h=zn(l);return new vh(h,this.ngModule)}}function vm(a){const l=[];for(let h in a)a.hasOwnProperty(h)&&l.push({propName:a[h],templateName:h});return l}class Vb{constructor(l,h){this.injector=l,this.parentInjector=h}get(l,h,v){const S=this.injector.get(l,Ko,v);return S!==Ko||h===Ko?S:this.parentInjector.get(l,h,v)}}class vh extends nn{constructor(l,h){super(),this.componentDef=l,this.ngModule=h,this.componentType=l.type,this.selector=function _g(a){return a.map(hb).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return vm(this.componentDef.inputs)}get outputs(){return vm(this.componentDef.outputs)}create(l,h,v,S){let B=(S=S||this.ngModule)instanceof c?S:null==S?void 0:S.injector;B&&null!==this.componentDef.getStandaloneInjector&&(B=this.componentDef.getStandaloneInjector(B)||B);const ae=B?new Vb(l,B):l,Se=ae.get(Fi,null);if(null===Se)throw new w(407,!1);const He=ae.get(Do,null),at=Se.createRenderer(null,this.componentDef),Rt=this.componentDef.selectors[0][0]||"div",Wt=v?function v0(a,l,h){return a.selectRootElement(l,h===yt.ShadowDom)}(at,v,this.componentDef.encapsulation):se(at,Rt,function L0(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(Rt)),bn=this.componentDef.onPush?288:272,Dn=Sg(0,null,null,1,0,null,null,null,null,null),Wn=Zu(null,Dn,null,bn,null,null,Se,at,He,ae,null);let ii,hi;yr(Wn);try{const Si=function zb(a,l,h,v,S,B){const ae=h[1];h[22]=a;const He=Ya(ae,22,2,"#host",null),at=He.mergedAttrs=l.hostAttrs;null!==at&&(Rg(He,at,!0),null!==a&&(Jt(S,a,at),null!==He.classes&&ud(S,a,He.classes),null!==He.styles&&Kp(S,a,He.styles)));const Rt=v.createRenderer(a,l),Wt=Zu(h,_0(l),null,l.onPush?32:16,h[22],He,v,Rt,B||null,null,null);return ae.firstCreatePass&&(za(xr(He,h),ae,l.type),kg(ae,He),Dg(He,h.length,1)),Mg(h,Wt),h[22]=Wt}(Wt,this.componentDef,Wn,Se,at);if(Wt)if(v)Jt(at,Wt,["ng-version",Fa.full]);else{const{attrs:Bi,classes:Kn}=function Q_(a){const l=[],h=[];let v=1,S=2;for(;v<a.length;){let B=a[v];if("string"==typeof B)2===S?""!==B&&l.push(B,a[++v]):8===S&&h.push(B);else{if(!Ql(S))break;S=B}v++}return{attrs:l,classes:h}}(this.componentDef.selectors[0]);Bi&&Jt(at,Wt,Bi),Kn&&Kn.length>0&&ud(at,Wt,Kn.join(" "))}if(hi=Zi(Dn,22),void 0!==h){const Bi=hi.projection=[];for(let Kn=0;Kn<this.ngContentSelectors.length;Kn++){const zi=h[Kn];Bi.push(null!=zi?Array.from(zi):null)}}ii=function Jb(a,l,h,v){const S=h[1],B=function Td(a,l,h){const v=qi();a.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),w0(a,v,l,Id(a,l,1,null),h),x0(a,v));const S=Ir(l,a,v.directiveStart,v);Nr(S,l);const B=En(v,l);return B&&Nr(B,l),S}(S,h,l);if(a[8]=h[8]=B,null!==v)for(const Se of v)Se(B,l);if(l.contentQueries){const Se=qi();l.contentQueries(1,B,Se.directiveStart)}const ae=qi();return!S.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Mn(ae.index),A0(h[1],ae,0,ae.directiveStart,ae.directiveEnd,l),Ad(l,B)),B}(Si,this.componentDef,Wn,[F0]),Ch(Dn,Wn,null)}finally{mt()}return new N0(this.componentType,ii,Yn(hi,Wn),Wn,hi)}}class N0 extends class en{}{constructor(l,h,v,S,B){super(),this.location=v,this._rootLView=S,this._tNode=B,this.instance=h,this.hostView=this.changeDetectorRef=new P0(S),this.componentType=l}setInput(l,h){const v=this._tNode.inputs;let S;if(null!==v&&(S=v[l])){const B=this._rootLView;bp(B[1],B,S,l,h),Rb(B,this._tNode.index)}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function F0(){const a=qi();Ki(Qn()[1],a)}function bh(a){let l=function B0(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),h=!0;const v=[a];for(;l;){let S;if(ps(a))S=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new w(903,!1);S=l.\u0275dir}if(S){if(h){v.push(S);const ae=a;ae.inputs=Fg(a.inputs),ae.declaredInputs=Fg(a.declaredInputs),ae.outputs=Fg(a.outputs);const Se=S.hostBindings;Se&&Bg(a,Se);const He=S.viewQuery,at=S.contentQueries;if(He&&Gb(a,He),at&&bm(a,at),b(a.inputs,S.inputs),b(a.declaredInputs,S.declaredInputs),b(a.outputs,S.outputs),ps(S)&&S.data.animation){const Rt=a.data;Rt.animation=(Rt.animation||[]).concat(S.data.animation)}}const B=S.features;if(B)for(let ae=0;ae<B.length;ae++){const Se=B[ae];Se&&Se.ngInherit&&Se(a),Se===bh&&(h=!1)}}l=Object.getPrototypeOf(l)}!function Qb(a){let l=0,h=null;for(let v=a.length-1;v>=0;v--){const S=a[v];S.hostVars=l+=S.hostVars,S.hostAttrs=bt(S.hostAttrs,h=bt(h,S.hostAttrs))}}(v)}function Fg(a){return a===ft?{}:a===an?[]:a}function Gb(a,l){const h=a.viewQuery;a.viewQuery=h?(v,S)=>{l(v,S),h(v,S)}:l}function bm(a,l){const h=a.contentQueries;a.contentQueries=h?(v,S,B)=>{l(v,S,B),h(v,S,B)}:l}function Bg(a,l){const h=a.hostBindings;a.hostBindings=h?(v,S)=>{l(v,S),h(v,S)}:l}let yh=null;function wd(){if(!yh){const a=ee.Symbol;if(a&&a.iterator)yh=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<l.length;++h){const v=l[h];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(yh=v)}}}return yh}function xh(a){return!!ym(a)&&(Array.isArray(a)||!(a instanceof Map)&&wd()in a)}function ym(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function xc(a,l,h){return a[l]=h}function Ed(a,l){return a[l]}function na(a,l,h){return!Object.is(a[l],h)&&(a[l]=h,!0)}function Uu(a,l,h,v){const S=na(a,l,h);return na(a,l+1,v)||S}function xp(a,l,h,v,S){const B=Uu(a,l,h,v);return na(a,l+2,S)||B}function wl(a,l,h,v,S,B){const ae=Uu(a,l,h,v);return Uu(a,l+2,S,B)||ae}function Ip(a,l,h,v){const S=Qn();return na(S,di(),l)&&(Oi(),yc(Nn(),S,a,l,h,v)),Ip}function Q0(a,l,h,v,S,B,ae,Se){const He=Qn(),at=Oi(),Rt=a+22,Wt=at.firstCreatePass?function $b(a,l,h,v,S,B,ae,Se,He){const at=l.consts,Rt=Ya(l,a,4,ae||null,xo(at,Se));am(l,h,Rt,xo(at,He)),Ki(l,Rt);const Wt=Rt.tViews=Sg(2,Rt,v,S,B,l.directiveRegistry,l.pipeRegistry,null,l.schemas,at);return null!==l.queries&&(l.queries.template(l,Rt),Wt.queries=l.queries.embeddedTView(Rt)),Rt}(Rt,at,He,l,h,v,S,B,ae):at.data[Rt];Fs(Wt,!1);const bn=He[11].createComment("");Gc(at,He,bn,Wt),Nr(bn,He),Mg(He,He[Rt]=hm(bn,He,bn,Wt)),Hs(Wt)&&sm(at,He,Wt),null!=ae&&rm(He,Wt,Se)}function Sp(a){return Ni(function aa(){return Di.lFrame.contextLView}(),22+a)}function Ug(a,l,h){const v=Qn();return na(v,di(),l)&&function dl(a,l,h,v,S,B,ae,Se){const He=En(l,h);let Rt,at=l.inputs;!Se&&null!=at&&(Rt=at[v])?(bp(a,h,Rt,v,S),Ls(l)&&Rb(h,l.index)):3&l.type&&(v=function Lb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(v),S=null!=ae?ae(S,l.value||"",v):S,B.setProperty(He,v,S))}(Oi(),Nn(),v,a,l,v[11],h,!1),Ug}function wm(a,l,h,v,S){const ae=S?"class":"style";bp(a,h,l.inputs[ae],ae,v)}function Ih(a,l,h,v){const S=Qn(),B=Oi(),ae=22+a,Se=S[11],He=S[ae]=se(Se,l,function Ji(){return Di.lFrame.currentNamespace}()),at=B.firstCreatePass?function G0(a,l,h,v,S,B,ae){const Se=l.consts,at=Ya(l,a,2,S,xo(Se,B));return am(l,h,at,xo(Se,ae)),null!==at.attrs&&Rg(at,at.attrs,!1),null!==at.mergedAttrs&&Rg(at,at.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,at),at}(ae,B,S,0,l,h,v):B.data[ae];Fs(at,!0);const Rt=at.mergedAttrs;null!==Rt&&Jt(Se,He,Rt);const Wt=at.classes;null!==Wt&&ud(Se,He,Wt);const bn=at.styles;return null!==bn&&Kp(Se,He,bn),64!=(64&at.flags)&&Gc(B,S,He,at),0===function Gr(){return Di.lFrame.elementDepthCount}()&&Nr(He,S),function Vo(){Di.lFrame.elementDepthCount++}(),Hs(at)&&(sm(B,S,at),m0(B,at,S)),null!==v&&rm(S,at),Ih}function Hg(){let a=qi();Ta()?Ts():(a=a.parent,Fs(a,!1));const l=a;!function _r(){Di.lFrame.elementDepthCount--}();const h=Oi();return h.firstCreatePass&&(Ki(h,a),As(a)&&h.queries.elementEnd(a)),null!=l.classesWithoutHost&&function pn(a){return 0!=(16&a.flags)}(l)&&wm(h,l,Qn(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function mn(a){return 0!=(32&a.flags)}(l)&&wm(h,l,Qn(),l.stylesWithoutHost,!1),Hg}function Em(a,l,h,v){return Ih(a,l,h,v),Hg(),Em}function Vg(a,l,h){const v=Qn(),S=Oi(),B=a+22,ae=S.firstCreatePass?function Xb(a,l,h,v,S){const B=l.consts,ae=xo(B,v),Se=Ya(l,a,8,"ng-container",ae);return null!==ae&&Rg(Se,ae,!0),am(l,h,Se,xo(B,S)),null!==l.queries&&l.queries.elementStart(l,Se),Se}(B,S,v,l,h):S.data[B];Fs(ae,!0);const Se=v[B]=v[11].createComment("");return Gc(S,v,Se,ae),Nr(Se,v),Hs(ae)&&(sm(S,v,ae),m0(S,ae,v)),null!=h&&rm(v,ae),Vg}function zg(){let a=qi();const l=Oi();return Ta()?Ts():(a=a.parent,Fs(a,!1)),l.firstCreatePass&&(Ki(l,a),As(a)&&l.queries.elementEnd(a)),zg}function Jg(a,l,h){return Vg(a,l,h),zg(),Jg}function Sm(){return Qn()}function Qg(a){return!!a&&"function"==typeof a.then}function Gg(a){return!!a&&"function"==typeof a.subscribe}const W0=Gg;function km(a,l,h,v){const S=Qn(),B=Oi(),ae=qi();return function Y0(a,l,h,v,S,B,ae,Se){const He=Hs(v),Rt=a.firstCreatePass&&fm(a),Wt=l[8],bn=O0(l);let Dn=!0;if(3&v.type||Se){const hi=En(v,l),Si=Se?Se(hi):hi,Bi=bn.length,Kn=Se?Ho=>Se(Ue(Ho[v.index])):v.index;let zi=null;if(!Se&&He&&(zi=function Ic(a,l,h,v){const S=a.cleanup;if(null!=S)for(let B=0;B<S.length-1;B+=2){const ae=S[B];if(ae===h&&S[B+1]===v){const Se=l[7],He=S[B+2];return Se.length>He?Se[He]:null}"string"==typeof ae&&(B+=2)}return null}(a,l,S,v.index)),null!==zi)(zi.__ngLastListenerFn__||zi).__ngNextListenerFn__=B,zi.__ngLastListenerFn__=B,Dn=!1;else{B=K0(v,l,Wt,B,!1);const Ho=h.listen(Si,S,B);bn.push(B,Ho),Rt&&Rt.push(S,Kn,Bi,Bi+1)}}else B=K0(v,l,Wt,B,!1);const Wn=v.outputs;let ii;if(Dn&&null!==Wn&&(ii=Wn[S])){const hi=ii.length;if(hi)for(let Si=0;Si<hi;Si+=2){const js=l[ii[Si]][ii[Si+1]].subscribe(B),Ld=bn.length;bn.push(B,js),Rt&&Rt.push(S,v.index,Ld,-(Ld+1))}}}(B,S,S[11],ae,a,l,0,v),km}function j0(a,l,h,v){try{return!1!==h(v)}catch(S){return _m(a,S),!1}}function K0(a,l,h,v,S){return function B(ae){if(ae===Function)return v;gm(2&a.flags?ki(a.index,l):l);let He=j0(l,0,v,ae),at=B.__ngNextListenerFn__;for(;at;)He=j0(l,0,at,ae)&&He,at=at.__ngNextListenerFn__;return S&&!1===He&&(ae.preventDefault(),ae.returnValue=!1),He}}function $0(a=1){return function Ge(a){return(Di.lFrame.contextLView=function Mt(a,l){for(;a>0;)l=l[15],a--;return l}(a,Di.lFrame.contextLView))[8]}(a)}function Ju(a,l){let h=null;const v=function mg(a){const l=a.attrs;if(null!=l){const h=l.indexOf(5);if(0==(1&h))return l[h+1]}return null}(a);for(let S=0;S<l.length;S++){const B=l[S];if("*"!==B){if(null===v?fg(a,B,!0):J_(v,B))return S}else h=S}return h}function q0(a){const l=Qn()[16][6];if(!l.projection){const v=l.projection=yo(a?a.length:1,null),S=v.slice();let B=l.child;for(;null!==B;){const ae=a?Ju(B,a):0;null!==ae&&(S[ae]?S[ae].projectionNext=B:v[ae]=B,S[ae]=B),B=B.next}}}function Wg(a,l=0,h){const v=Qn(),S=Oi(),B=Ya(S,22+a,16,null,h||null);null===B.projection&&(B.projection=l),Ts(),64!=(64&B.flags)&&function qh(a,l,h){cd(l[11],0,l,h,ea(a,h,l),np(h.parent||l[6],h,l))}(S,v,B)}function aC(a,l,h,v,S){const B=a[h+1],ae=null===l;let Se=v?Al(B):nu(B),He=!1;for(;0!==Se&&(!1===He||ae);){const Rt=a[Se+1];lC(a[Se],l)&&(He=!0,a[Se+1]=v?_p(Rt):fh(Rt)),Se=v?Al(Rt):nu(Rt)}He&&(a[h+1]=v?fh(B):_p(B))}function lC(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&An(a,l)>=0}const Zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cC(a){return a.substring(Zr.key,Zr.keyEnd)}function uC(a){return a.substring(Zr.value,Zr.valueEnd)}function jg(a,l){const h=Zr.textEnd;return h===l?-1:(l=Zr.keyEnd=function pC(a,l,h){for(;l<h&&a.charCodeAt(l)>32;)l++;return l}(a,Zr.key=l,h),kp(a,l,h))}function dC(a,l){const h=Zr.textEnd;let v=Zr.key=kp(a,l,h);return h===v?-1:(v=Zr.keyEnd=function oy(a,l,h){let v;for(;l<h&&(45===(v=a.charCodeAt(l))||95===v||(-33&v)>=65&&(-33&v)<=90||v>=48&&v<=57);)l++;return l}(a,v,h),v=hC(a,v,h),v=Zr.value=kp(a,v,h),v=Zr.valueEnd=function sy(a,l,h){let v=-1,S=-1,B=-1,ae=l,Se=ae;for(;ae<h;){const He=a.charCodeAt(ae++);if(59===He)return Se;34===He||39===He?Se=ae=gC(a,He,ae,h):l===ae-4&&85===B&&82===S&&76===v&&40===He?Se=ae=gC(a,41,ae,h):He>32&&(Se=ae),B=S,S=v,v=-33&He}return Se}(a,v,h),hC(a,v,h))}function Om(a){Zr.key=0,Zr.keyEnd=0,Zr.value=0,Zr.valueEnd=0,Zr.textEnd=a.length}function kp(a,l,h){for(;l<h&&a.charCodeAt(l)<=32;)l++;return l}function hC(a,l,h,v){return(l=kp(a,l,h))<h&&l++,l}function gC(a,l,h,v){let S=-1,B=h;for(;B<v;){const ae=a.charCodeAt(B++);if(ae==l&&92!==S)return B;S=92==ae&&92===S?0:ae}throw new Error}function Kg(a,l,h){return jl(a,l,h,!1),Kg}function Pm(a,l){return jl(a,l,null,!0),Pm}function Yl(a){Tc(CC,mI,a,!1)}function mI(a,l){for(let h=function iy(a){return Om(a),dC(a,kp(a,0,Zr.textEnd))}(l);h>=0;h=dC(l,h))CC(a,cC(l),uC(l))}function fC(a){Tc($t,ru,a,!0)}function ru(a,l){for(let h=function ny(a){return Om(a),jg(a,kp(a,0,Zr.textEnd))}(l);h>=0;h=jg(l,h))$t(a,cC(l),!0)}function jl(a,l,h,v){const S=Qn(),B=Oi(),ae=no(2);B.firstUpdatePass&&mC(B,a,ae,v),l!==io&&na(S,ae,l)&&vC(B,B.data[tn()],S,S[11],a,S[ae+1]=function uy(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=s(ll(a)))),a}(l,h),v,ae)}function Tc(a,l,h,v){const S=Oi(),B=no(2);S.firstUpdatePass&&mC(S,null,B,v);const ae=Qn();if(h!==io&&na(ae,B,h)){const Se=S.data[tn()];if(yC(Se,v)&&!ry(S,B)){let He=v?Se.classesWithoutHost:Se.stylesWithoutHost;null!==He&&(h=F(He,h||"")),wm(S,Se,ae,h,v)}else!function cy(a,l,h,v,S,B,ae,Se){S===io&&(S=an);let He=0,at=0,Rt=0<S.length?S[0]:null,Wt=0<B.length?B[0]:null;for(;null!==Rt||null!==Wt;){const bn=He<S.length?S[He+1]:void 0,Dn=at<B.length?B[at+1]:void 0;let ii,Wn=null;Rt===Wt?(He+=2,at+=2,bn!==Dn&&(Wn=Wt,ii=Dn)):null===Wt||null!==Rt&&Rt<Wt?(He+=2,Wn=Rt):(at+=2,Wn=Wt,ii=Dn),null!==Wn&&vC(a,l,h,v,Wn,ii,ae,Se),Rt=He<S.length?S[He]:null,Wt=at<B.length?B[at]:null}}(S,Se,ae,ae[11],ae[B+1],ae[B+1]=function _C(a,l,h){if(null==h||""===h)return an;const v=[],S=ll(h);if(Array.isArray(S))for(let B=0;B<S.length;B++)a(v,S[B],!0);else if("object"==typeof S)for(const B in S)S.hasOwnProperty(B)&&a(v,B,S[B]);else"string"==typeof S&&l(v,S);return v}(a,l,h),v,B)}}function ry(a,l){return l>=a.expandoStartIndex}function mC(a,l,h,v){const S=a.data;if(null===S[h+1]){const B=S[tn()],ae=ry(a,h);yC(B,v)&&null===l&&!ae&&(l=!1),l=function ay(a,l,h,v){const S=function Lr(a){const l=Di.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let B=v?l.residualClasses:l.residualStyles;if(null===S)0===(v?l.classBindings:l.styleBindings)&&(h=Th(h=Lm(null,a,l,h,v),l.attrs,v),B=null);else{const ae=l.directiveStylingLast;if(-1===ae||a[ae]!==S)if(h=Lm(S,a,l,h,v),null===B){let He=function _I(a,l,h){const v=h?l.classBindings:l.styleBindings;if(0!==nu(v))return a[Al(v)]}(a,l,v);void 0!==He&&Array.isArray(He)&&(He=Lm(null,a,l,He[1],v),He=Th(He,l.attrs,v),function CI(a,l,h,v){a[Al(h?l.classBindings:l.styleBindings)]=v}(a,l,v,He))}else B=function ly(a,l,h){let v;const S=l.directiveEnd;for(let B=1+l.directiveStylingLast;B<S;B++)v=Th(v,a[B].hostAttrs,h);return Th(v,l.attrs,h)}(a,l,v)}return void 0!==B&&(v?l.residualClasses=B:l.residualStyles=B),h}(S,B,l,v),function ey(a,l,h,v,S,B){let ae=B?l.classBindings:l.styleBindings,Se=Al(ae),He=nu(ae);a[v]=h;let Rt,at=!1;if(Array.isArray(h)){const Wt=h;Rt=Wt[1],(null===Rt||An(Wt,Rt)>0)&&(at=!0)}else Rt=h;if(S)if(0!==He){const bn=Al(a[Se+1]);a[v+1]=Ig(bn,Se),0!==bn&&(a[bn+1]=Tg(a[bn+1],v)),a[Se+1]=function Ib(a,l){return 131071&a|l<<17}(a[Se+1],v)}else a[v+1]=Ig(Se,0),0!==Se&&(a[Se+1]=Tg(a[Se+1],v)),Se=v;else a[v+1]=Ig(He,0),0===Se?Se=v:a[He+1]=Tg(a[He+1],v),He=v;at&&(a[v+1]=fh(a[v+1])),aC(a,Rt,v,!0),aC(a,Rt,v,!1),function ty(a,l,h,v,S){const B=S?a.residualClasses:a.residualStyles;null!=B&&"string"==typeof l&&An(B,l)>=0&&(h[v+1]=_p(h[v+1]))}(l,Rt,a,v,B),ae=Ig(Se,He),B?l.classBindings=ae:l.styleBindings=ae}(S,B,l,h,ae,v)}}function Lm(a,l,h,v,S){let B=null;const ae=h.directiveEnd;let Se=h.directiveStylingLast;for(-1===Se?Se=h.directiveStart:Se++;Se<ae&&(B=l[Se],v=Th(v,B.hostAttrs,S),B!==a);)Se++;return null!==a&&(h.directiveStylingLast=Se),v}function Th(a,l,h){const v=h?1:2;let S=-1;if(null!==l)for(let B=0;B<l.length;B++){const ae=l[B];"number"==typeof ae?S=ae:S===v&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),$t(a,ae,!!h||l[++B]))}return void 0===a?null:a}function CC(a,l,h){$t(a,l,ll(h))}function vC(a,l,h,v,S,B,ae,Se){if(!(3&l.type))return;const He=a.data,at=He[Se+1];$g(function s0(a){return 1==(1&a)}(at)?bC(He,l,h,S,nu(at),ae):void 0)||($g(B)||function o0(a){return 2==(2&a)}(at)&&(B=bC(He,null,h,S,Se,ae)),function Xh(a,l,h,v,S){if(l)S?a.addClass(h,v):a.removeClass(h,v);else{let B=-1===v.indexOf("-")?void 0:Ea.DashCase;null==S?a.removeStyle(h,v,B):("string"==typeof S&&S.endsWith("!important")&&(S=S.slice(0,-10),B|=Ea.Important),a.setStyle(h,v,S,B))}}(v,ae,kn(tn(),h),S,B))}function bC(a,l,h,v,S,B){const ae=null===l;let Se;for(;S>0;){const He=a[S],at=Array.isArray(He),Rt=at?He[1]:He,Wt=null===Rt;let bn=h[S+1];bn===io&&(bn=Wt?an:void 0);let Dn=Wt?on(bn,v):Rt===v?bn:void 0;if(at&&!$g(Dn)&&(Dn=on(He,v)),$g(Dn)&&(Se=Dn,ae))return Se;const Wn=a[S+1];S=ae?Al(Wn):nu(Wn)}if(null!==l){let He=B?l.residualClasses:l.residualStyles;null!=He&&(Se=on(He,v))}return Se}function $g(a){return void 0!==a}function yC(a,l){return 0!=(a.flags&(l?16:32))}function xC(a,l=""){const h=Qn(),v=Oi(),S=a+22,B=v.firstCreatePass?Ya(v,S,1,l,null):v.data[S],ae=h[S]=function he(a,l){return a.createText(l)}(h[11],l);Gc(v,h,ae,B),Fs(B,!1)}function Rm(a){return qg("",a,""),Rm}function qg(a,l,h){const v=Qn(),S=function Tp(a,l,h,v){return na(a,di(),h)?l+V(h)+v:io}(v,a,l,h);return S!==io&&ou(v,tn(),S),qg}function Nm(a,l,h,v,S){const B=Qn(),ae=function Hu(a,l,h,v,S,B){const Se=Uu(a,Pt(),h,S);return no(2),Se?l+V(h)+v+V(S)+B:io}(B,a,l,h,v,S);return ae!==io&&ou(B,tn(),ae),Nm}function Fm(a,l,h,v,S,B,ae){const Se=Qn(),He=function Ap(a,l,h,v,S,B,ae,Se){const at=xp(a,Pt(),h,S,ae);return no(3),at?l+V(h)+v+V(S)+B+V(ae)+Se:io}(Se,a,l,h,v,S,B,ae);return He!==io&&ou(Se,tn(),He),Fm}function Bm(a,l,h,v,S,B,ae,Se,He){const at=Qn(),Rt=function Vu(a,l,h,v,S,B,ae,Se,He,at){const Wt=wl(a,Pt(),h,S,ae,He);return no(4),Wt?l+V(h)+v+V(S)+B+V(ae)+Se+V(He)+at:io}(at,a,l,h,v,S,B,ae,Se,He);return Rt!==io&&ou(at,tn(),Rt),Bm}const Dd=void 0;var Dp=["en",[["a","p"],["AM","PM"],Dd],[["AM","PM"],Dd,Dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vy(a){const h=Math.floor(Math.abs(a)),v=a.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===v?1:5}];let Mp={};function BC(a,l,h){"string"!=typeof l&&(h=l,l=a[Ui.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Mp[l]=a,h&&(Mp[l][Ui.ExtraData]=h)}function zm(a){const l=function by(a){return a.toLowerCase().replace(/_/g,"-")}(a);let h=UC(l);if(h)return h;const v=l.split("-")[0];if(h=UC(v),h)return h;if("en"===v)return Dp;throw new w(701,!1)}function ZC(a){return zm(a)[Ui.PluralCase]}function UC(a){return a in Mp||(Mp[a]=ee.ng&&ee.ng.common&&ee.ng.common.locales&&ee.ng.common.locales[a]),Mp[a]}var Ui=(()=>((Ui=Ui||{})[Ui.LocaleId=0]="LocaleId",Ui[Ui.DayPeriodsFormat=1]="DayPeriodsFormat",Ui[Ui.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ui[Ui.DaysFormat=3]="DaysFormat",Ui[Ui.DaysStandalone=4]="DaysStandalone",Ui[Ui.MonthsFormat=5]="MonthsFormat",Ui[Ui.MonthsStandalone=6]="MonthsStandalone",Ui[Ui.Eras=7]="Eras",Ui[Ui.FirstDayOfWeek=8]="FirstDayOfWeek",Ui[Ui.WeekendRange=9]="WeekendRange",Ui[Ui.DateFormat=10]="DateFormat",Ui[Ui.TimeFormat=11]="TimeFormat",Ui[Ui.DateTimeFormat=12]="DateTimeFormat",Ui[Ui.NumberSymbols=13]="NumberSymbols",Ui[Ui.NumberFormats=14]="NumberFormats",Ui[Ui.CurrencyCode=15]="CurrencyCode",Ui[Ui.CurrencySymbol=16]="CurrencySymbol",Ui[Ui.CurrencyName=17]="CurrencyName",Ui[Ui.Currencies=18]="Currencies",Ui[Ui.Directionality=19]="Directionality",Ui[Ui.PluralCase=20]="PluralCase",Ui[Ui.ExtraData=21]="ExtraData",Ui))();const Op="en-US";let VC=Op;function Mh(a,l,h,v,S){if(a=N(a),Array.isArray(a))for(let B=0;B<a.length;B++)Mh(a[B],l,h,v,S);else{const B=Oi(),ae=Qn();let Se=zl(a)?a:N(a.provide),He=z(a);const at=qi(),Rt=1048575&at.providerIndexes,Wt=at.directiveStart,bn=at.providerIndexes>>20;if(zl(a)||!a.multi){const Dn=new le(He,S,mp),Wn=qm(Se,l,S?Rt:Rt+bn,Wt);-1===Wn?(za(xr(at,ae),B,Se),$m(B,a,l.length),l.push(Se),at.directiveStart++,at.directiveEnd++,S&&(at.providerIndexes+=1048576),h.push(Dn),ae.push(Dn)):(h[Wn]=Dn,ae[Wn]=Dn)}else{const Dn=qm(Se,l,Rt+bn,Wt),Wn=qm(Se,l,Rt,Rt+bn),ii=Dn>=0&&h[Dn],hi=Wn>=0&&h[Wn];if(S&&!hi||!S&&!ii){za(xr(at,ae),B,Se);const Si=function s4(a,l,h,v,S){const B=new le(a,h,mp);return B.multi=[],B.index=l,B.componentProviders=0,gv(B,S,v&&!h),B}(S?o4:n4,h.length,S,v,He);!S&&hi&&(h[Wn].providerFactory=Si),$m(B,a,l.length,0),l.push(Se),at.directiveStart++,at.directiveEnd++,S&&(at.providerIndexes+=1048576),h.push(Si),ae.push(Si)}else $m(B,a,Dn>-1?Dn:Wn,gv(h[S?Wn:Dn],He,!S&&v));!S&&v&&hi&&h[Wn].componentProviders++}}}function $m(a,l,h,v){const S=zl(l),B=function pp(a){return!!a.useClass}(l);if(S||B){const He=(B?N(l.useClass):l).prototype.ngOnDestroy;if(He){const at=a.destroyHooks||(a.destroyHooks=[]);if(!S&&l.multi){const Rt=at.indexOf(h);-1===Rt?at.push(h,[v,He]):at[Rt+1].push(v,He)}else at.push(h,He)}}}function gv(a,l,h){return h&&a.componentProviders++,a.multi.push(l)-1}function qm(a,l,h,v){for(let S=h;S<v;S++)if(l[S]===a)return S;return-1}function n4(a,l,h,v){return df(this.multi,[])}function o4(a,l,h,v){const S=this.multi;let B;if(this.providerFactory){const ae=this.providerFactory.componentProviders,Se=Ir(h,h[1],this.providerFactory.index,v);B=Se.slice(0,ae),df(S,B);for(let He=ae;He<Se.length;He++)B.push(Se[He])}else B=[],df(S,B);return B}function df(a,l){for(let h=0;h<a.length;h++)l.push((0,a[h])());return l}function fv(a,l=[]){return h=>{h.providersResolver=(v,S)=>function uf(a,l,h){const v=Oi();if(v.firstCreatePass){const S=ps(a);Mh(h,v.data,v.blueprint,S,!0),Mh(l,v.data,v.blueprint,S,!1)}}(v,S?S(a):a,l)}}class Np{}class mv{}function r4(a,l){return new _v(a,null!=l?l:null)}class _v extends Np{constructor(l,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cm(this);const v=oo(l);this._bootstrapComponents=Za(v.bootstrap),this._r3Injector=Gf(l,h,[{provide:Np,useValue:this},{provide:qn,useValue:this.componentFactoryResolver}],s(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class pf extends mv{constructor(l){super(),this.moduleType=l}create(l){return new _v(this.moduleType,l)}}class a4 extends Np{constructor(l,h,v){super(),this.componentFactoryResolver=new Cm(this),this.instance=null;const S=new f([...l,{provide:Np,useValue:this},{provide:qn,useValue:this.componentFactoryResolver}],h||m(),v,new Set(["environment"]));this.injector=S,S.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Xm(a,l,h=null){return new a4(a,l,h).injector}let l4=(()=>{class a{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const v=ur(0,h.type),S=v.length>0?Xm([v],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,S)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=q({token:a,providedIn:"environment",factory:()=>new a(To(c))}),a})();function c4(a){a.getStandaloneInjector=l=>l.get(l4).getOrCreateStandaloneInjector(a)}function xv(a,l,h){const v=Pe()+a,S=Qn();return S[v]===io?xc(S,v,h?l.call(h):l()):Ed(S,v)}function Iv(a,l,h,v){return Mv(Qn(),Pe(),a,l,h,v)}function Tv(a,l,h,v,S){return Ov(Qn(),Pe(),a,l,h,v,S)}function Av(a,l,h,v,S,B){return Pv(Qn(),Pe(),a,l,h,v,S,B)}function wv(a,l,h,v,S,B,ae){return Lv(Qn(),Pe(),a,l,h,v,S,B,ae)}function Ev(a,l,h,v,S,B,ae,Se){const He=Pe()+a,at=Qn(),Rt=wl(at,He,h,v,S,B);return na(at,He+4,ae)||Rt?xc(at,He+5,Se?l.call(Se,h,v,S,B,ae):l(h,v,S,B,ae)):Ed(at,He+5)}function Sv(a,l,h,v,S,B,ae,Se,He){const at=Pe()+a,Rt=Qn(),Wt=wl(Rt,at,h,v,S,B);return Uu(Rt,at+4,ae,Se)||Wt?xc(Rt,at+6,He?l.call(He,h,v,S,B,ae,Se):l(h,v,S,B,ae,Se)):Ed(Rt,at+6)}function kv(a,l,h,v,S,B,ae,Se,He,at){const Rt=Pe()+a,Wt=Qn();let bn=wl(Wt,Rt,h,v,S,B);return xp(Wt,Rt+4,ae,Se,He)||bn?xc(Wt,Rt+7,at?l.call(at,h,v,S,B,ae,Se,He):l(h,v,S,B,ae,Se,He)):Ed(Wt,Rt+7)}function Dv(a,l,h,v){return t_(Qn(),Pe(),a,l,h,v)}function Ph(a,l){const h=a[l];return h===io?void 0:h}function Mv(a,l,h,v,S,B){const ae=l+h;return na(a,ae,S)?xc(a,ae+1,B?v.call(B,S):v(S)):Ph(a,ae+1)}function Ov(a,l,h,v,S,B,ae){const Se=l+h;return Uu(a,Se,S,B)?xc(a,Se+2,ae?v.call(ae,S,B):v(S,B)):Ph(a,Se+2)}function Pv(a,l,h,v,S,B,ae,Se){const He=l+h;return xp(a,He,S,B,ae)?xc(a,He+3,Se?v.call(Se,S,B,ae):v(S,B,ae)):Ph(a,He+3)}function Lv(a,l,h,v,S,B,ae,Se,He){const at=l+h;return wl(a,at,S,B,ae,Se)?xc(a,at+4,He?v.call(He,S,B,ae,Se):v(S,B,ae,Se)):Ph(a,at+4)}function t_(a,l,h,v,S,B){let ae=l+h,Se=!1;for(let He=0;He<S.length;He++)na(a,ae++,S[He])&&(Se=!0);return Se?xc(a,ae,v.apply(B,S)):Ph(a,ae)}function Rv(a,l){const h=Oi();let v;const S=a+22;h.firstCreatePass?(v=function _4(a,l){if(l)for(let h=l.length-1;h>=0;h--){const v=l[h];if(a===v.name)return v}}(l,h.pipeRegistry),h.data[S]=v,v.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(S,v.onDestroy)):v=h.data[S];const B=v.factory||(v.factory=vs(v.type)),ae=gt(mp);try{const Se=Ai(!1),He=B();return Ai(Se),function qb(a,l,h,v){h>=a.data.length&&(a.data[h]=null,a.blueprint[h]=null),l[h]=v}(h,Qn(),S,He),He}finally{gt(ae)}}function i_(a,l,h){const v=a+22,S=Qn(),B=Ni(S,v);return Rh(S,v)?Mv(S,Pe(),l,B.transform,h,B):B.transform(h)}function hf(a,l,h,v){const S=a+22,B=Qn(),ae=Ni(B,S);return Rh(B,S)?Ov(B,Pe(),l,ae.transform,h,v,ae):ae.transform(h,v)}function o_(a,l,h,v,S){const B=a+22,ae=Qn(),Se=Ni(ae,B);return Rh(ae,B)?Pv(ae,Pe(),l,Se.transform,h,v,S,Se):Se.transform(h,v,S)}function Nv(a,l,h,v,S,B){const ae=a+22,Se=Qn(),He=Ni(Se,ae);return Rh(Se,ae)?Lv(Se,Pe(),l,He.transform,h,v,S,B,He):He.transform(h,v,S,B)}function Lh(a,l,h){const v=a+22,S=Qn(),B=Ni(S,v);return Rh(S,v)?t_(S,Pe(),l,B.transform,h,B):B.transform.apply(B,h)}function Rh(a,l){return a[1].data[l].pure}function Nh(a){return l=>{setTimeout(a,void 0,l)}}const Ac=class Fv extends e.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,h,v){var S,B,ae;let Se=l,He=h||(()=>null),at=v;if(l&&"object"==typeof l){const Wt=l;Se=null===(S=Wt.next)||void 0===S?void 0:S.bind(Wt),He=null===(B=Wt.error)||void 0===B?void 0:B.bind(Wt),at=null===(ae=Wt.complete)||void 0===ae?void 0:ae.bind(Wt)}this.__isAsync&&(He=Nh(He),Se&&(Se=Nh(Se)),at&&(at=Nh(at)));const Rt=super.subscribe({next:Se,error:He,complete:at});return l instanceof d.w0&&l.add(Rt),Rt}};function C4(){return this._results[wd()]()}class Fh{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=wd(),v=Fh.prototype;v[h]||(v[h]=C4)}get changes(){return this._changes||(this._changes=new Ac)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,h){return this._results.reduce(l,h)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,h){const v=this;v.dirty=!1;const S=jr(l);(this._changesDetected=!function Yu(a,l,h){if(a.length!==l.length)return!1;for(let v=0;v<a.length;v++){let S=a[v],B=l[v];if(h&&(S=h(S),B=h(B)),B!==S)return!1}return!0}(v._results,S,h))&&(v._results=S,v.length=S.length,v.last=S[this.length-1],v.first=S[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bh=(()=>{class a{}return a.__NG_ELEMENT_ID__=y4,a})();const v4=Bh,b4=class extends v4{constructor(l,h,v){super(),this._declarationLView=l,this._declarationTContainer=h,this.elementRef=v}createEmbeddedView(l,h){const v=this._declarationTContainer.tViews,S=Zu(this._declarationLView,v,l,16,null,v.declTNode,null,null,null,null,h||null);S[17]=this._declarationLView[this._declarationTContainer.index];const ae=this._declarationLView[19];return null!==ae&&(S[19]=ae.createEmbeddedView(v)),Ch(v,S,l),new yp(S)}};function y4(){return ka(qi(),Qn())}function ka(a,l){return 4&a.type?new b4(l,a,Yn(a,l)):null}let wc=(()=>{class a{}return a.__NG_ELEMENT_ID__=x4,a})();function x4(){return Uv(qi(),Qn())}const I4=wc,Bv=class extends I4{constructor(l,h,v){super(),this._lContainer=l,this._hostTNode=h,this._hostLView=v}get element(){return Yn(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const l=Qs(this._hostTNode,this._hostLView);if(cn(l)){const h=Xn(l,this._hostLView),v=wn(l);return new Lo(h[1].data[v+8],h)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const h=Zv(this._lContainer);return null!==h&&h[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,h,v){let S,B;"number"==typeof v?S=v:null!=v&&(S=v.index,B=v.injector);const ae=l.createEmbeddedView(h||{},B);return this.insert(ae,S),ae}createComponent(l,h,v,S,B){const ae=l&&!function gl(a){return"function"==typeof a}(l);let Se;if(ae)Se=h;else{const Wt=h||{};Se=Wt.index,v=Wt.injector,S=Wt.projectableNodes,B=Wt.environmentInjector||Wt.ngModuleRef}const He=ae?l:new vh(zn(l)),at=v||this.parentInjector;if(!B&&null==He.ngModule){const bn=(ae?at:this.parentInjector).get(c,null);bn&&(B=bn)}const Rt=He.create(at,S,void 0,B);return this.insert(Rt.hostView,Se),Rt}insert(l,h){const v=l._lView,S=v[1];if(function Qr(a){return qo(a[3])}(v)){const Rt=this.indexOf(l);if(-1!==Rt)this.detach(Rt);else{const Wt=v[3],bn=new Bv(Wt,Wt[6],Wt[3]);bn.detach(bn.indexOf(l))}}const B=this._adjustIndex(h),ae=this._lContainer;!function bi(a,l,h,v){const S=10+v,B=h.length;v>0&&(h[S-1][4]=l),v<B-10?(l[4]=h[S],Ar(h,10+v,l)):(h.push(l),l[4]=null),l[3]=h;const ae=l[17];null!==ae&&h!==ae&&function lo(a,l){const h=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===h?a[9]=[l]:h.push(l)}(ae,l);const Se=l[19];null!==Se&&Se.insertView(a),l[2]|=64}(S,v,ae,B);const Se=Bl(B,ae),He=v[11],at=Jc(He,ae[7]);return null!==at&&function Et(a,l,h,v,S,B){v[0]=S,v[6]=l,Sa(a,v,h,1,S,B)}(S,ae[6],He,v,at,Se),l.attachToViewContainerRef(),Ar(s_(ae),B,l),l}move(l,h){return this.insert(l,h)}indexOf(l){const h=Zv(this._lContainer);return null!==h?h.indexOf(l):-1}remove(l){const h=this._adjustIndex(l,-1),v=Wo(this._lContainer,h);v&&(Pa(s_(this._lContainer),h),ha(v[1],v))}detach(l){const h=this._adjustIndex(l,-1),v=Wo(this._lContainer,h);return v&&null!=Pa(s_(this._lContainer),h)?new yp(v):null}_adjustIndex(l,h=0){return null==l?this.length+h:l}};function Zv(a){return a[8]}function s_(a){return a[8]||(a[8]=[])}function Uv(a,l){let h;const v=l[a.index];if(qo(v))h=v;else{let S;if(8&a.type)S=Ue(v);else{const B=l[11];S=B.createComment("");const ae=En(a,l);Fr(B,Jc(B,ae),S,function tp(a,l){return a.nextSibling(l)}(B,ae),!1)}l[a.index]=h=hm(v,l,S,a),Mg(l,h)}return new Bv(h,a,l)}class r_{constructor(l){this.queryList=l,this.matches=null}clone(){return new r_(this.queryList)}setDirty(){this.queryList.setDirty()}}class a_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const h=l.queries;if(null!==h){const v=null!==l.contentQueries?l.contentQueries[0]:h.length,S=[];for(let B=0;B<v;B++){const ae=h.getByIndex(B);S.push(this.queries[ae.indexInDeclarationView].clone())}return new a_(S)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let h=0;h<this.queries.length;h++)null!==Yv(l,h).matches&&this.queries[h].setDirty()}}class Hv{constructor(l,h,v=null){this.predicate=l,this.flags=h,this.read=v}}class Zh{constructor(l=[]){this.queries=l}elementStart(l,h){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(l,h)}elementEnd(l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(l)}embeddedTView(l){let h=null;for(let v=0;v<this.length;v++){const S=null!==h?h.length:0,B=this.getByIndex(v).embeddedTView(l,S);B&&(B.indexInDeclarationView=v,null!==h?h.push(B):h=[B])}return null!==h?new Zh(h):null}template(l,h){for(let v=0;v<this.queries.length;v++)this.queries[v].template(l,h)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class l_{constructor(l,h=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(l,h){this.isApplyingToNode(h)&&this.matchTNode(l,h)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,h){this.elementStart(l,h)}embeddedTView(l,h){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,h),new l_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let v=l.parent;for(;null!==v&&8&v.type&&v.index!==h;)v=v.parent;return h===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(l,h){const v=this.metadata.predicate;if(Array.isArray(v))for(let S=0;S<v.length;S++){const B=v[S];this.matchTNodeWithReadOption(l,h,c_(h,B)),this.matchTNodeWithReadOption(l,h,ko(h,l,B,!1,!1))}else v===Bh?4&h.type&&this.matchTNodeWithReadOption(l,h,-1):this.matchTNodeWithReadOption(l,h,ko(h,l,v,!1,!1))}matchTNodeWithReadOption(l,h,v){if(null!==v){const S=this.metadata.read;if(null!==S)if(S===ui||S===wc||S===Bh&&4&h.type)this.addMatch(h.index,-2);else{const B=ko(h,l,S,!1,!1);null!==B&&this.addMatch(h.index,B)}else this.addMatch(h.index,v)}}addMatch(l,h){null===this.matches?this.matches=[l,h]:this.matches.push(l,h)}}function c_(a,l){const h=a.localNames;if(null!==h)for(let v=0;v<h.length;v+=2)if(h[v]===l)return h[v+1];return null}function E4(a,l,h,v){return-1===h?function Ec(a,l){return 11&a.type?Yn(a,l):4&a.type?ka(a,l):null}(l,a):-2===h?function u_(a,l,h){return h===ui?Yn(l,a):h===Bh?ka(l,a):h===wc?Uv(l,a):void 0}(a,l,v):Ir(a,a[1],h,l)}function au(a,l,h,v){const S=l[19].queries[v];if(null===S.matches){const B=a.data,ae=h.matches,Se=[];for(let He=0;He<ae.length;He+=2){const at=ae[He];Se.push(at<0?null:E4(l,B[at],ae[He+1],h.metadata.read))}S.matches=Se}return S.matches}function Zs(a,l,h,v){const S=a.queries.getByIndex(h),B=S.matches;if(null!==B){const ae=au(a,l,S,h);for(let Se=0;Se<B.length;Se+=2){const He=B[Se];if(He>0)v.push(ae[Se/2]);else{const at=B[Se+1],Rt=l[-He];for(let Wt=10;Wt<Rt.length;Wt++){const bn=Rt[Wt];bn[17]===bn[3]&&Zs(bn[1],bn,at,v)}if(null!==Rt[9]){const Wt=Rt[9];for(let bn=0;bn<Wt.length;bn++){const Dn=Wt[bn];Zs(Dn[1],Dn,at,v)}}}}}return v}function Vv(a){const l=Qn(),h=Oi(),v=br();Wr(v+1);const S=Yv(h,v);if(a.dirty&&function Is(a){return 4==(4&a[2])}(l)===(2==(2&S.metadata.flags))){if(null===S.matches)a.reset([]);else{const B=S.crossesNgTemplate?Zs(h,l,v,[]):au(h,l,S,v);a.reset(B,fi),a.notifyOnChanges()}return!0}return!1}function zv(a,l,h){const v=Oi();v.firstCreatePass&&(Wv(v,new Hv(a,l,h),-1),2==(2&l)&&(v.staticViewQueries=!0)),Gv(v,Qn(),l)}function Jv(a,l,h,v){const S=Oi();if(S.firstCreatePass){const B=qi();Wv(S,new Hv(l,h,v),B.index),function k4(a,l){const h=a.contentQueries||(a.contentQueries=[]);l!==(h.length?h[h.length-1]:-1)&&h.push(a.queries.length-1,l)}(S,a),2==(2&h)&&(S.staticContentQueries=!0)}Gv(S,Qn(),h)}function Qv(){return function S4(a,l){return a[19].queries[l].queryList}(Qn(),br())}function Gv(a,l,h){const v=new Fh(4==(4&h));b0(a,l,v,v.destroy),null===l[19]&&(l[19]=new a_),l[19].queries.push(new r_(v))}function Wv(a,l,h){null===a.queries&&(a.queries=new Zh),a.queries.track(new l_(l,h))}function Yv(a,l){return a.queries.getByIndex(l)}function jv(a,l){return ka(a,l)}function mf(...a){}const f1=new Ro("Application Initializer");let _f=(()=>{class a{constructor(h){this.appInits=h,this.resolve=mf,this.reject=mf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,S)=>{this.resolve=v,this.reject=S})}runInitializers(){if(this.initialized)return;const h=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const B=this.appInits[S]();if(Qg(B))h.push(B);else if(W0(B)){const ae=new Promise((Se,He)=>{B.subscribe({complete:Se,error:He})});h.push(ae)}}Promise.all(h).then(()=>{v()}).catch(S=>{this.reject(S)}),0===h.length&&v(),this.initialized=!0}}return a.\u0275fac=function(h){return new(h||a)(To(f1,8))},a.\u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const m1=new Ro("AppId",{providedIn:"root",factory:function _1(){return`${f_()}${f_()}${f_()}`}});function f_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const C1=new Ro("Platform Initializer"),W4=new Ro("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),v1=new Ro("appBootstrapListener"),Y4=new Ro("AnimationModuleType");let b1=(()=>{class a{log(h){console.log(h)}warn(h){console.warn(h)}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Cf=new Ro("LocaleId",{providedIn:"root",factory:()=>Ei(Cf,xe.Optional|xe.SkipSelf)||function j4(){return"undefined"!=typeof $localize&&$localize.locale||Op}()}),K4=new Ro("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class q4{constructor(l,h){this.ngModuleFactory=l,this.componentFactories=h}}let X4=(()=>{class a{compileModuleSync(h){return new pf(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const v=this.compileModuleSync(h),B=Za(oo(h).declarations).reduce((ae,Se)=>{const He=zn(Se);return He&&ae.push(new vh(He)),ae},[]);return new q4(v,B)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const nx=(()=>Promise.resolve(0))();function m_(a){"undefined"==typeof Zone?nx.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class El{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ac(!1),this.onMicrotaskEmpty=new Ac(!1),this.onStable=new Ac(!1),this.onError=new Ac(!1),"undefined"==typeof Zone)throw new w(908,!1);Zone.assertZonePatched();const S=this;if(S._nesting=0,S._outer=S._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const B=Zone.AsyncStackTaggingZoneSpec;S._inner=S._inner.fork(new B("Angular"))}Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!v&&h,S.shouldCoalesceRunChangeDetection=v,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function ix(){let a=ee.requestAnimationFrame,l=ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const v=l[Zone.__symbol__("OriginalDelegate")];v&&(l=v)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function sx(a){const l=()=>{!function ox(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(ee,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,C_(a),a.isCheckStableRunning=!0,__(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),C_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,v,S,B,ae,Se)=>{try{return T1(a),h.invokeTask(S,B,ae,Se)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===B.type||a.shouldCoalesceRunChangeDetection)&&l(),A1(a)}},onInvoke:(h,v,S,B,ae,Se,He)=>{try{return T1(a),h.invoke(S,B,ae,Se,He)}finally{a.shouldCoalesceRunChangeDetection&&l(),A1(a)}},onHasTask:(h,v,S,B)=>{h.hasTask(S,B),v===S&&("microTask"==B.change?(a._hasPendingMicrotasks=B.microTask,C_(a),__(a)):"macroTask"==B.change&&(a.hasPendingMacrotasks=B.macroTask))},onHandleError:(h,v,S,B)=>(h.handleError(S,B),a.runOutsideAngular(()=>a.onError.emit(B)),!1)})}(S)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!El.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(El.isInAngularZone())throw new w(909,!1)}run(l,h,v){return this._inner.run(l,h,v)}runTask(l,h,v,S){const B=this._inner,ae=B.scheduleEventTask("NgZoneEvent: "+S,l,I1,mf,mf);try{return B.runTask(ae,h,v)}finally{B.cancelTask(ae)}}runGuarded(l,h,v){return this._inner.runGuarded(l,h,v)}runOutsideAngular(l){return this._outer.run(l)}}const I1={};function __(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function C_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function T1(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function A1(a){a._nesting--,__(a)}class rx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ac,this.onMicrotaskEmpty=new Ac,this.onStable=new Ac,this.onError=new Ac}run(l,h,v){return l.apply(h,v)}runGuarded(l,h,v){return l.apply(h,v)}runOutsideAngular(l){return l()}runTask(l,h,v,S){return l.apply(h,v)}}const w1=new Ro(""),E1=new Ro("");let Hh,ax=(()=>{class a{constructor(h,v,S){this._ngZone=h,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hh||(function lx(a){Hh=a}(S),S.addToWindow(v)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{El.assertNotInAngularZone(),m_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())m_(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(h)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,v,S){let B=-1;v&&v>0&&(B=setTimeout(()=>{this._callbacks=this._callbacks.filter(ae=>ae.timeoutId!==B),h(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:h,timeoutId:B,updateCb:S})}whenStable(h,v,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,v,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,v,S){return[]}}return a.\u0275fac=function(h){return new(h||a)(To(El),To(S1),To(E1))},a.\u0275prov=q({token:a,factory:a.\u0275fac}),a})(),S1=(()=>{class a{constructor(){this._applications=new Map}registerApplication(h,v){this._applications.set(h,v)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,v=!0){var S;return null!==(S=null==Hh?void 0:Hh.findTestabilityInTree(this,h,v))&&void 0!==S?S:null}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Sc=null;const k1=new Ro("AllowMultipleToken"),v_=new Ro("PlatformDestroyListeners");class D1{constructor(l,h){this.name=l,this.token=h}}function P1(a,l,h=[]){const v=`Platform: ${l}`,S=new Ro(v);return(B=[])=>{let ae=ma();if(!ae||ae.injector.get(k1,!1)){const Se=[...h,...B,{provide:S,useValue:!0}];a?a(Se):function M1(a){if(Sc&&!Sc.get(k1,!1))throw new w(400,!1);Sc=a;const l=a.get(Vh);(function O1(a){const l=a.get(C1,null);l&&l.forEach(h=>h())})(a)}(function L1(a=[],l){return eu.create({name:l,providers:[{provide:ts,useValue:"platform"},{provide:v_,useValue:new Set([()=>Sc=null])},...a]})}(Se,v))}return function px(a){const l=ma();if(!l)throw new w(401,!1);return l}()}}function ma(){var a;return null!==(a=null==Sc?void 0:Sc.get(Vh))&&void 0!==a?a:null}let Vh=(()=>{class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,v){const S=function N1(a,l){let h;return h="noop"===a?new rx:("zone.js"===a?void 0:a)||new El(l),h}(null==v?void 0:v.ngZone,function R1(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(v)),B=[{provide:El,useValue:S}];return S.run(()=>{const ae=eu.create({providers:B,parent:this.injector,name:h.moduleType.name}),Se=h.create(ae),He=Se.injector.get(ir,null);if(!He)throw new w(402,!1);return S.runOutsideAngular(()=>{const at=S.onError.subscribe({next:Rt=>{He.handleError(Rt)}});Se.onDestroy(()=>{bf(this._modules,Se),at.unsubscribe()})}),function F1(a,l,h){try{const v=h();return Qg(v)?v.catch(S=>{throw l.runOutsideAngular(()=>a.handleError(S)),S}):v}catch(v){throw l.runOutsideAngular(()=>a.handleError(v)),v}}(He,S,()=>{const at=Se.injector.get(_f);return at.runInitializers(),at.donePromise.then(()=>(function Jm(a){be(a,"Expected localeId to be defined"),"string"==typeof a&&(VC=a.toLowerCase().replace(/_/g,"-"))}(Se.injector.get(Cf,Op)||Op),this._moduleDoBootstrap(Se),Se))})})}bootstrapModule(h,v=[]){const S=B1({},v);return function cx(a,l,h){const v=new pf(h);return Promise.resolve(v)}(0,0,h).then(B=>this.bootstrapModuleFactory(B,S))}_moduleDoBootstrap(h){const v=h.injector.get(vf);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(S=>v.bootstrap(S));else{if(!h.instance.ngDoBootstrap)throw new w(403,!1);h.instance.ngDoBootstrap(v)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const h=this._injector.get(v_,null);h&&(h.forEach(v=>v()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(h){return new(h||a)(To(eu))},a.\u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function B1(a,l){return Array.isArray(l)?l.reduce(B1,a):Object.assign(Object.assign({},a),l)}let vf=(()=>{class a{constructor(h,v,S){this._zone=h,this._injector=v,this._exceptionHandler=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const B=new u.y(Se=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Se.next(this._stable),Se.complete()})}),ae=new u.y(Se=>{let He;this._zone.runOutsideAngular(()=>{He=this._zone.onStable.subscribe(()=>{El.assertNotInAngularZone(),m_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Se.next(!0))})})});const at=this._zone.onUnstable.subscribe(()=>{El.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Se.next(!1)}))});return()=>{He.unsubscribe(),at.unsubscribe()}});this.isStable=(0,p.T)(B,ae.pipe((0,x.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,v){const S=h instanceof nn;if(!this._injector.get(_f).done)throw!S&&Qi(h),new w(405,false);let ae;ae=S?h:this._injector.get(qn).resolveComponentFactory(h),this.componentTypes.push(ae.componentType);const Se=function ux(a){return a.isBoundToModule}(ae)?void 0:this._injector.get(Np),at=ae.create(eu.NULL,[],v||ae.selector,Se),Rt=at.location.nativeElement,Wt=at.injector.get(w1,null);return null==Wt||Wt.registerApplication(Rt),at.onDestroy(()=>{this.detachView(at.hostView),bf(this.components,at),null==Wt||Wt.unregisterApplication(Rt)}),this._loadComponent(at),at}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const v=h;this._views.push(v),v.attachToAppRef(this)}detachView(h){const v=h;bf(this._views,v),v.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(v1,[]).concat(this._bootstrapListeners).forEach(S=>S(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>bf(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new w(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(h){return new(h||a)(To(El),To(c),To(ir))},a.\u0275prov=q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function bf(a,l){const h=a.indexOf(l);h>-1&&a.splice(h,1)}let U1=!0,H1=!1;function fx(){return H1=!0,U1}function mx(){if(H1)throw new Error("Cannot enable prod mode after platform setup.");U1=!1}let _x=(()=>{class a{}return a.__NG_ELEMENT_ID__=Cx,a})();function Cx(a){return function vx(a,l,h){if(Ls(a)&&!h){const v=ki(a.index,l);return new yp(v,v)}return 47&a.type?new yp(l[16],l):null}(qi(),Qn(),16==(16&a))}class Q1{constructor(){}supports(l){return xh(l)}create(l){return new Ax(l)}}const Tx=(a,l)=>l;class Ax{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Tx}forEachItem(l){let h;for(h=this._itHead;null!==h;h=h._next)l(h)}forEachOperation(l){let h=this._itHead,v=this._removalsHead,S=0,B=null;for(;h||v;){const ae=!v||h&&h.currentIndex<W1(v,S,B)?h:v,Se=W1(ae,S,B),He=ae.currentIndex;if(ae===v)S--,v=v._nextRemoved;else if(h=h._next,null==ae.previousIndex)S++;else{B||(B=[]);const at=Se-S,Rt=He-S;if(at!=Rt){for(let bn=0;bn<at;bn++){const Dn=bn<B.length?B[bn]:B[bn]=0,Wn=Dn+bn;Rt<=Wn&&Wn<at&&(B[bn]=Dn+1)}B[ae.previousIndex]=Rt-at}}Se!==He&&l(ae,Se,He)}}forEachPreviousItem(l){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachMovedItem(l){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}forEachIdentityChange(l){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)l(h)}diff(l){if(null==l&&(l=[]),!xh(l))throw new w(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let S,B,ae,h=this._itHead,v=!1;if(Array.isArray(l)){this.length=l.length;for(let Se=0;Se<this.length;Se++)B=l[Se],ae=this._trackByFn(Se,B),null!==h&&Object.is(h.trackById,ae)?(v&&(h=this._verifyReinsertion(h,B,ae,Se)),Object.is(h.item,B)||this._addIdentityChange(h,B)):(h=this._mismatch(h,B,ae,Se),v=!0),h=h._next}else S=0,function jb(a,l){if(Array.isArray(a))for(let h=0;h<a.length;h++)l(a[h]);else{const h=a[wd()]();let v;for(;!(v=h.next()).done;)l(v.value)}}(l,Se=>{ae=this._trackByFn(S,Se),null!==h&&Object.is(h.trackById,ae)?(v&&(h=this._verifyReinsertion(h,Se,ae,S)),Object.is(h.item,Se)||this._addIdentityChange(h,Se)):(h=this._mismatch(h,Se,ae,S),v=!0),h=h._next,S++}),this.length=S;return this._truncate(h),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,h,v,S){let B;return null===l?B=this._itTail:(B=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._reinsertAfter(l,B,S)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(v,S))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._moveAfter(l,B,S)):l=this._addAfter(new wx(h,v),B,S),l}_verifyReinsertion(l,h,v,S){let B=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==B?l=this._reinsertAfter(B,l._prev,S):l.currentIndex!=S&&(l.currentIndex=S,this._addToMoves(l,S)),l}_truncate(l){for(;null!==l;){const h=l._next;this._addToRemovals(this._unlink(l)),l=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,h,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const S=l._prevRemoved,B=l._nextRemoved;return null===S?this._removalsHead=B:S._nextRemoved=B,null===B?this._removalsTail=S:B._prevRemoved=S,this._insertAfter(l,h,v),this._addToMoves(l,v),l}_moveAfter(l,h,v){return this._unlink(l),this._insertAfter(l,h,v),this._addToMoves(l,v),l}_addAfter(l,h,v){return this._insertAfter(l,h,v),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,h,v){const S=null===h?this._itHead:h._next;return l._next=S,l._prev=h,null===S?this._itTail=l:S._prev=l,null===h?this._itHead=l:h._next=l,null===this._linkedRecords&&(this._linkedRecords=new G1),this._linkedRecords.put(l),l.currentIndex=v,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const h=l._prev,v=l._next;return null===h?this._itHead=v:h._next=v,null===v?this._itTail=h:v._prev=h,l}_addToMoves(l,h){return l.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G1),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,h){return l.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class wx{constructor(l,h){this.item=l,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ex{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,h){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===h||h<=v.currentIndex)&&Object.is(v.trackById,l))return v;return null}remove(l){const h=l._prevDup,v=l._nextDup;return null===h?this._head=v:h._nextDup=v,null===v?this._tail=h:v._prevDup=h,null===this._head}}class G1{constructor(){this.map=new Map}put(l){const h=l.trackById;let v=this.map.get(h);v||(v=new Ex,this.map.set(h,v)),v.add(l)}get(l,h){const S=this.map.get(l);return S?S.get(l,h):null}remove(l){const h=l.trackById;return this.map.get(h).remove(l)&&this.map.delete(h),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W1(a,l,h){const v=a.previousIndex;if(null===v)return v;let S=0;return h&&v<h.length&&(S=h[v]),v+l+S}class Y1{constructor(){}supports(l){return l instanceof Map||ym(l)}create(){return new Sx}}class Sx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let h;for(h=this._mapHead;null!==h;h=h._next)l(h)}forEachPreviousItem(l){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)l(h)}forEachChangedItem(l){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}diff(l){if(l){if(!(l instanceof Map||ym(l)))throw new w(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(l,(v,S)=>{if(h&&h.key===S)this._maybeAddToChanges(h,v),this._appendAfter=h,h=h._next;else{const B=this._getOrCreateRecordForKey(S,v);h=this._insertBeforeOrAppend(h,B)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let v=h;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,h){if(l){const v=l._prev;return h._next=l,h._prev=v,l._prev=h,v&&(v._next=h),l===this._mapHead&&(this._mapHead=h),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(l,h){if(this._records.has(l)){const S=this._records.get(l);this._maybeAddToChanges(S,h);const B=S._prev,ae=S._next;return B&&(B._next=ae),ae&&(ae._prev=B),S._next=null,S._prev=null,S}const v=new kx(l);return this._records.set(l,v),v.currentValue=h,this._addToAdditions(v),v}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,h){Object.is(h,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=h,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,h){l instanceof Map?l.forEach(h):Object.keys(l).forEach(v=>h(l[v],v))}}class kx{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j1(){return new I_([new Q1])}let I_=(()=>{class a{constructor(h){this.factories=h}static create(h,v){if(null!=v){const S=v.factories.slice();h=h.concat(S)}return new a(h)}static extend(h){return{provide:a,useFactory:v=>a.create(h,v||j1()),deps:[[a,new rc,new sc]]}}find(h){const v=this.factories.find(S=>S.supports(h));if(null!=v)return v;throw new w(901,!1)}}return a.\u0275prov=q({token:a,providedIn:"root",factory:j1}),a})();function K1(){return new T_([new Y1])}let T_=(()=>{class a{constructor(h){this.factories=h}static create(h,v){if(v){const S=v.factories.slice();h=h.concat(S)}return new a(h)}static extend(h){return{provide:a,useFactory:v=>a.create(h,v||K1()),deps:[[a,new rc,new sc]]}}find(h){const v=this.factories.find(S=>S.supports(h));if(v)return v;throw new w(901,!1)}}return a.\u0275prov=q({token:a,providedIn:"root",factory:K1}),a})();const Ox=P1(null,"core",[]);let Px=(()=>{class a{constructor(h){}}return a.\u0275fac=function(h){return new(h||a)(To(vf))},a.\u0275mod=Gt({type:a}),a.\u0275inj=_e({}),a})();function Lx(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},2382:(dn,pt,C)=>{"use strict";C.d(pt,{Fj:()=>H,Oe:()=>qi,CE:()=>Vs,NI:()=>Ls,oH:()=>Mr,u:()=>sa,cw:()=>Ye,sg:()=>bs,x0:()=>Ss,u5:()=>ro,nD:()=>Vo,Cf:()=>re,JU:()=>w,a5:()=>We,JJ:()=>Oe,JL:()=>et,On:()=>Vr,UX:()=>ji,kI:()=>ie,_Y:()=>ws});var e=C(5e3),d=C(9808),u=C(2076),p=C(9751),x=C(4742),R=C(8421),b=C(3269),s=C(5403),F=C(3268),O=C(1810),N=C(4004);let T=(()=>{class st{constructor(Pe,Pt){this._renderer=Pe,this._elementRef=Pt,this.onChange=Rn=>{},this.onTouched=()=>{}}setProperty(Pe,Pt){this._renderer.setProperty(this._elementRef.nativeElement,Pe,Pt)}registerOnTouched(Pe){this.onTouched=Pe}registerOnChange(Pe){this.onChange=Pe}setDisabledState(Pe){this.setProperty("disabled",Pe)}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(e.Qsj),e.Y36(e.SBq))},st.\u0275dir=e.lG2({type:st}),st})(),y=(()=>{class st extends T{}return st.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=e.n5z(st)))(Pt||st)}}(),st.\u0275dir=e.lG2({type:st,features:[e.qOj]}),st})();const w=new e.OlP("NgValueAccessor"),U={provide:w,useExisting:(0,e.Gpc)(()=>H),multi:!0},K=new e.OlP("CompositionEventMode");let H=(()=>{class st extends T{constructor(Pe,Pt,Rn){super(Pe,Pt),this._compositionMode=Rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const st=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(st.toLowerCase())}())}writeValue(Pe){this.setProperty("value",null==Pe?"":Pe)}_handleInput(Pe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Pe)}_compositionStart(){this._composing=!0}_compositionEnd(Pe){this._composing=!1,this._compositionMode&&this.onChange(Pe)}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(K,8))},st.\u0275dir=e.lG2({type:st,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Pe,Pt){1&Pe&&e.NdJ("input",function(di){return Pt._handleInput(di.target.value)})("blur",function(){return Pt.onTouched()})("compositionstart",function(){return Pt._compositionStart()})("compositionend",function(di){return Pt._compositionEnd(di.target.value)})},features:[e._Bn([U]),e.qOj]}),st})();function P(st){return null==st||("string"==typeof st||Array.isArray(st))&&0===st.length}function Y(st){return null!=st&&"number"==typeof st.length}const re=new e.OlP("NgValidators"),j=new e.OlP("NgAsyncValidators"),G=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ie{static min(ze){return function Te(st){return ze=>{if(P(ze.value)||P(st))return null;const Pe=parseFloat(ze.value);return!isNaN(Pe)&&Pe<st?{min:{min:st,actual:ze.value}}:null}}(ze)}static max(ze){return function Me(st){return ze=>{if(P(ze.value)||P(st))return null;const Pe=parseFloat(ze.value);return!isNaN(Pe)&&Pe>st?{max:{max:st,actual:ze.value}}:null}}(ze)}static required(ze){return function de(st){return P(st.value)?{required:!0}:null}(ze)}static requiredTrue(ze){return function te(st){return!0===st.value?null:{required:!0}}(ze)}static email(ze){return function ce(st){return P(st.value)||G.test(st.value)?null:{email:!0}}(ze)}static minLength(ze){return function J(st){return ze=>P(ze.value)||!Y(ze.value)?null:ze.value.length<st?{minlength:{requiredLength:st,actualLength:ze.value.length}}:null}(ze)}static maxLength(ze){return ve(ze)}static pattern(ze){return function be(st){if(!st)return Be;let ze,Pe;return"string"==typeof st?(Pe="","^"!==st.charAt(0)&&(Pe+="^"),Pe+=st,"$"!==st.charAt(st.length-1)&&(Pe+="$"),ze=new RegExp(Pe)):(Pe=st.toString(),ze=st),Pt=>{if(P(Pt.value))return null;const Rn=Pt.value;return ze.test(Rn)?null:{pattern:{requiredPattern:Pe,actualValue:Rn}}}}(ze)}static nullValidator(ze){return null}static compose(ze){return Xe(ze)}static composeAsync(ze){return ot(ze)}}function ve(st){return ze=>Y(ze.value)&&ze.value.length>st?{maxlength:{requiredLength:st,actualLength:ze.value.length}}:null}function Be(st){return null}function we(st){return null!=st}function ke(st){return(0,e.QGY)(st)?(0,u.D)(st):st}function X(st){let ze={};return st.forEach(Pe=>{ze=null!=Pe?Object.assign(Object.assign({},ze),Pe):ze}),0===Object.keys(ze).length?null:ze}function q(st,ze){return ze.map(Pe=>Pe(st))}function _e(st){return st.map(ze=>function pe(st){return!st.validate}(ze)?ze:Pe=>ze.validate(Pe))}function Xe(st){if(!st)return null;const ze=st.filter(we);return 0==ze.length?null:function(Pe){return X(q(Pe,ze))}}function ct(st){return null!=st?Xe(_e(st)):null}function ot(st){if(!st)return null;const ze=st.filter(we);return 0==ze.length?null:function(Pe){return function Q(...st){const ze=(0,b.jO)(st),{args:Pe,keys:Pt}=(0,x.D)(st),Rn=new p.y(di=>{const{length:no}=Pe;if(!no)return void di.complete();const Fo=new Array(no);let ss=no,Ds=no;for(let Xs=0;Xs<no;Xs++){let vr=!1;(0,R.Xf)(Pe[Xs]).subscribe(new s.Q(di,Lr=>{vr||(vr=!0,Ds--),Fo[Xs]=Lr},()=>ss--,void 0,()=>{(!ss||!vr)&&(Ds||di.next(Pt?(0,O.n)(Pt,Fo):Fo),di.complete())}))}});return ze?Rn.pipe((0,F.Z)(ze)):Rn}(q(Pe,ze).map(ke)).pipe((0,N.U)(X))}}function Zt(st){return null!=st?ot(_e(st)):null}function Dt(st,ze){return null===st?[ze]:Array.isArray(st)?[...st,ze]:[st,ze]}function Cn(st){return st._rawValidators}function Xt(st){return st._rawAsyncValidators}function jt(st){return st?Array.isArray(st)?st:[st]:[]}function ht(st,ze){return Array.isArray(st)?st.includes(ze):st===ze}function ut(st,ze){const Pe=jt(ze);return jt(st).forEach(Rn=>{ht(Pe,Rn)||Pe.push(Rn)}),Pe}function xe(st,ze){return jt(ze).filter(Pe=>!ht(st,Pe))}class De{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ze){this._rawValidators=ze||[],this._composedValidatorFn=ct(this._rawValidators)}_setAsyncValidators(ze){this._rawAsyncValidators=ze||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ze){this._onDestroyCallbacks.push(ze)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ze=>ze()),this._onDestroyCallbacks=[]}reset(ze){this.control&&this.control.reset(ze)}hasError(ze,Pe){return!!this.control&&this.control.hasError(ze,Pe)}getError(ze,Pe){return this.control?this.control.getError(ze,Pe):null}}class We extends De{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gt extends De{get formDirective(){return null}get path(){return null}}class Tt{constructor(ze){this._cd=ze}get isTouched(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.touched)}get isUntouched(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.untouched)}get isPristine(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.pristine)}get isDirty(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.dirty)}get isValid(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.valid)}get isInvalid(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.invalid)}get isPending(){var ze,Pe;return!(null===(Pe=null===(ze=this._cd)||void 0===ze?void 0:ze.control)||void 0===Pe||!Pe.pending)}get isSubmitted(){var ze;return!(null===(ze=this._cd)||void 0===ze||!ze.submitted)}}let Oe=(()=>{class st extends Tt{constructor(Pe){super(Pe)}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(We,2))},st.\u0275dir=e.lG2({type:st,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Pe,Pt){2&Pe&&e.ekj("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)},features:[e.qOj]}),st})(),et=(()=>{class st extends Tt{constructor(Pe){super(Pe)}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(gt,10))},st.\u0275dir=e.lG2({type:st,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Pe,Pt){2&Pe&&e.ekj("ng-untouched",Pt.isUntouched)("ng-touched",Pt.isTouched)("ng-pristine",Pt.isPristine)("ng-dirty",Pt.isDirty)("ng-valid",Pt.isValid)("ng-invalid",Pt.isInvalid)("ng-pending",Pt.isPending)("ng-submitted",Pt.isSubmitted)},features:[e.qOj]}),st})();const Gt="VALID",On="INVALID",Bt="PENDING",rn="DISABLED";function Hn(st){return(Qi(st)?st.validators:st)||null}function zn(st){return Array.isArray(st)?ct(st):st||null}function ri(st,ze){return(Qi(ze)?ze.asyncValidators:st)||null}function Ci(st){return Array.isArray(st)?Zt(st):st||null}function Qi(st){return null!=st&&!Array.isArray(st)&&"object"==typeof st}function oo(st,ze,Pe){const Pt=st.controls;if(!(ze?Object.keys(Pt):Pt).length)throw new e.vHH(1e3,"");if(!Pt[Pe])throw new e.vHH(1001,"")}function $o(st,ze,Pe){st._forEachChild((Pt,Rn)=>{if(void 0===Pe[Rn])throw new e.vHH(1002,"")})}class Vt{constructor(ze,Pe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=ze,this._rawAsyncValidators=Pe,this._composedValidatorFn=zn(this._rawValidators),this._composedAsyncValidatorFn=Ci(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(ze){this._rawValidators=this._composedValidatorFn=ze}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ze){this._rawAsyncValidators=this._composedAsyncValidatorFn=ze}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===On}get pending(){return this.status==Bt}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ze){this._rawValidators=ze,this._composedValidatorFn=zn(ze)}setAsyncValidators(ze){this._rawAsyncValidators=ze,this._composedAsyncValidatorFn=Ci(ze)}addValidators(ze){this.setValidators(ut(ze,this._rawValidators))}addAsyncValidators(ze){this.setAsyncValidators(ut(ze,this._rawAsyncValidators))}removeValidators(ze){this.setValidators(xe(ze,this._rawValidators))}removeAsyncValidators(ze){this.setAsyncValidators(xe(ze,this._rawAsyncValidators))}hasValidator(ze){return ht(this._rawValidators,ze)}hasAsyncValidator(ze){return ht(this._rawAsyncValidators,ze)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ze={}){this.touched=!0,this._parent&&!ze.onlySelf&&this._parent.markAsTouched(ze)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ze=>ze.markAllAsTouched())}markAsUntouched(ze={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Pe=>{Pe.markAsUntouched({onlySelf:!0})}),this._parent&&!ze.onlySelf&&this._parent._updateTouched(ze)}markAsDirty(ze={}){this.pristine=!1,this._parent&&!ze.onlySelf&&this._parent.markAsDirty(ze)}markAsPristine(ze={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Pe=>{Pe.markAsPristine({onlySelf:!0})}),this._parent&&!ze.onlySelf&&this._parent._updatePristine(ze)}markAsPending(ze={}){this.status=Bt,!1!==ze.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ze.onlySelf&&this._parent.markAsPending(ze)}disable(ze={}){const Pe=this._parentMarkedDirty(ze.onlySelf);this.status=rn,this.errors=null,this._forEachChild(Pt=>{Pt.disable(Object.assign(Object.assign({},ze),{onlySelf:!0}))}),this._updateValue(),!1!==ze.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},ze),{skipPristineCheck:Pe})),this._onDisabledChange.forEach(Pt=>Pt(!0))}enable(ze={}){const Pe=this._parentMarkedDirty(ze.onlySelf);this.status=Gt,this._forEachChild(Pt=>{Pt.enable(Object.assign(Object.assign({},ze),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ze.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},ze),{skipPristineCheck:Pe})),this._onDisabledChange.forEach(Pt=>Pt(!1))}_updateAncestors(ze){this._parent&&!ze.onlySelf&&(this._parent.updateValueAndValidity(ze),ze.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ze){this._parent=ze}getRawValue(){return this.value}updateValueAndValidity(ze={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===Bt)&&this._runAsyncValidator(ze.emitEvent)),!1!==ze.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ze.onlySelf&&this._parent.updateValueAndValidity(ze)}_updateTreeValidity(ze={emitEvent:!0}){this._forEachChild(Pe=>Pe._updateTreeValidity(ze)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ze.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ze){if(this.asyncValidator){this.status=Bt,this._hasOwnPendingAsyncValidator=!0;const Pe=ke(this.asyncValidator(this));this._asyncValidationSubscription=Pe.subscribe(Pt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Pt,{emitEvent:ze})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ze,Pe={}){this.errors=ze,this._updateControlsErrors(!1!==Pe.emitEvent)}get(ze){let Pe=ze;return null==Pe||(Array.isArray(Pe)||(Pe=Pe.split(".")),0===Pe.length)?null:Pe.reduce((Pt,Rn)=>Pt&&Pt._find(Rn),this)}getError(ze,Pe){const Pt=Pe?this.get(Pe):this;return Pt&&Pt.errors?Pt.errors[ze]:null}hasError(ze,Pe){return!!this.getError(ze,Pe)}get root(){let ze=this;for(;ze._parent;)ze=ze._parent;return ze}_updateControlsErrors(ze){this.status=this._calculateStatus(),ze&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ze)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?On:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bt)?Bt:this._anyControlsHaveStatus(On)?On:Gt}_anyControlsHaveStatus(ze){return this._anyControls(Pe=>Pe.status===ze)}_anyControlsDirty(){return this._anyControls(ze=>ze.dirty)}_anyControlsTouched(){return this._anyControls(ze=>ze.touched)}_updatePristine(ze={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ze.onlySelf&&this._parent._updatePristine(ze)}_updateTouched(ze={}){this.touched=this._anyControlsTouched(),this._parent&&!ze.onlySelf&&this._parent._updateTouched(ze)}_registerOnCollectionChange(ze){this._onCollectionChange=ze}_setUpdateStrategy(ze){Qi(ze)&&null!=ze.updateOn&&(this._updateOn=ze.updateOn)}_parentMarkedDirty(ze){return!ze&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ze){return null}}class Ye extends Vt{constructor(ze,Pe,Pt){super(Hn(Pe),ri(Pt,Pe)),this.controls=ze,this._initObservables(),this._setUpdateStrategy(Pe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ze,Pe){return this.controls[ze]?this.controls[ze]:(this.controls[ze]=Pe,Pe.setParent(this),Pe._registerOnCollectionChange(this._onCollectionChange),Pe)}addControl(ze,Pe,Pt={}){this.registerControl(ze,Pe),this.updateValueAndValidity({emitEvent:Pt.emitEvent}),this._onCollectionChange()}removeControl(ze,Pe={}){this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),delete this.controls[ze],this.updateValueAndValidity({emitEvent:Pe.emitEvent}),this._onCollectionChange()}setControl(ze,Pe,Pt={}){this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),delete this.controls[ze],Pe&&this.registerControl(ze,Pe),this.updateValueAndValidity({emitEvent:Pt.emitEvent}),this._onCollectionChange()}contains(ze){return this.controls.hasOwnProperty(ze)&&this.controls[ze].enabled}setValue(ze,Pe={}){$o(this,0,ze),Object.keys(ze).forEach(Pt=>{oo(this,!0,Pt),this.controls[Pt].setValue(ze[Pt],{onlySelf:!0,emitEvent:Pe.emitEvent})}),this.updateValueAndValidity(Pe)}patchValue(ze,Pe={}){null!=ze&&(Object.keys(ze).forEach(Pt=>{const Rn=this.controls[Pt];Rn&&Rn.patchValue(ze[Pt],{onlySelf:!0,emitEvent:Pe.emitEvent})}),this.updateValueAndValidity(Pe))}reset(ze={},Pe={}){this._forEachChild((Pt,Rn)=>{Pt.reset(ze[Rn],{onlySelf:!0,emitEvent:Pe.emitEvent})}),this._updatePristine(Pe),this._updateTouched(Pe),this.updateValueAndValidity(Pe)}getRawValue(){return this._reduceChildren({},(ze,Pe,Pt)=>(ze[Pt]=Pe.getRawValue(),ze))}_syncPendingControls(){let ze=this._reduceChildren(!1,(Pe,Pt)=>!!Pt._syncPendingControls()||Pe);return ze&&this.updateValueAndValidity({onlySelf:!0}),ze}_forEachChild(ze){Object.keys(this.controls).forEach(Pe=>{const Pt=this.controls[Pe];Pt&&ze(Pt,Pe)})}_setUpControls(){this._forEachChild(ze=>{ze.setParent(this),ze._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ze){for(const[Pe,Pt]of Object.entries(this.controls))if(this.contains(Pe)&&ze(Pt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Pe,Pt,Rn)=>((Pt.enabled||this.disabled)&&(Pe[Rn]=Pt.value),Pe))}_reduceChildren(ze,Pe){let Pt=ze;return this._forEachChild((Rn,di)=>{Pt=Pe(Pt,Rn,di)}),Pt}_allControlsDisabled(){for(const ze of Object.keys(this.controls))if(this.controls[ze].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ze){return this.controls.hasOwnProperty(ze)?this.controls[ze]:null}}function xn(st,ze){return[...ze.path,st]}function yn(st,ze){var Pe,Pt;li(st,ze),ze.valueAccessor.writeValue(st.value),st.disabled&&(null===(Pt=(Pe=ze.valueAccessor).setDisabledState)||void 0===Pt||Pt.call(Pe,!0)),function oi(st,ze){ze.valueAccessor.registerOnChange(Pe=>{st._pendingValue=Pe,st._pendingChange=!0,st._pendingDirty=!0,"change"===st.updateOn&&Wi(st,ze)})}(st,ze),function wo(st,ze){const Pe=(Pt,Rn)=>{ze.valueAccessor.writeValue(Pt),Rn&&ze.viewToModelUpdate(Pt)};st.registerOnChange(Pe),ze._registerOnDestroy(()=>{st._unregisterOnChange(Pe)})}(st,ze),function Mi(st,ze){ze.valueAccessor.registerOnTouched(()=>{st._pendingTouched=!0,"blur"===st.updateOn&&st._pendingChange&&Wi(st,ze),"submit"!==st.updateOn&&st.markAsTouched()})}(st,ze),function ti(st,ze){if(ze.valueAccessor.setDisabledState){const Pe=Pt=>{ze.valueAccessor.setDisabledState(Pt)};st.registerOnDisabledChange(Pe),ze._registerOnDestroy(()=>{st._unregisterOnDisabledChange(Pe)})}}(st,ze)}function Zn(st,ze,Pe=!0){const Pt=()=>{};ze.valueAccessor&&(ze.valueAccessor.registerOnChange(Pt),ze.valueAccessor.registerOnTouched(Pt)),mi(st,ze),st&&(ze._invokeOnDestroyCallbacks(),st._registerOnCollectionChange(()=>{}))}function $n(st,ze){st.forEach(Pe=>{Pe.registerOnValidatorChange&&Pe.registerOnValidatorChange(ze)})}function li(st,ze){const Pe=Cn(st);null!==ze.validator?st.setValidators(Dt(Pe,ze.validator)):"function"==typeof Pe&&st.setValidators([Pe]);const Pt=Xt(st);null!==ze.asyncValidator?st.setAsyncValidators(Dt(Pt,ze.asyncValidator)):"function"==typeof Pt&&st.setAsyncValidators([Pt]);const Rn=()=>st.updateValueAndValidity();$n(ze._rawValidators,Rn),$n(ze._rawAsyncValidators,Rn)}function mi(st,ze){let Pe=!1;if(null!==st){if(null!==ze.validator){const Rn=Cn(st);if(Array.isArray(Rn)&&Rn.length>0){const di=Rn.filter(no=>no!==ze.validator);di.length!==Rn.length&&(Pe=!0,st.setValidators(di))}}if(null!==ze.asyncValidator){const Rn=Xt(st);if(Array.isArray(Rn)&&Rn.length>0){const di=Rn.filter(no=>no!==ze.asyncValidator);di.length!==Rn.length&&(Pe=!0,st.setAsyncValidators(di))}}}const Pt=()=>{};return $n(ze._rawValidators,Pt),$n(ze._rawAsyncValidators,Pt),Pe}function Wi(st,ze){st._pendingDirty&&st.markAsDirty(),st.setValue(st._pendingValue,{emitModelToViewChange:!1}),ze.viewToModelUpdate(st._pendingValue),st._pendingChange=!1}function is(st,ze){if(!st.hasOwnProperty("model"))return!1;const Pe=st.model;return!!Pe.isFirstChange()||!Object.is(ze,Pe.currentValue)}function fo(st,ze){if(!ze)return null;let Pe,Pt,Rn;return Array.isArray(ze),ze.forEach(di=>{di.constructor===H?Pe=di:function us(st){return Object.getPrototypeOf(st.constructor)===y}(di)?Pt=di:Rn=di}),Rn||Pt||Pe||null}function qo(st,ze){const Pe=st.indexOf(ze);Pe>-1&&st.splice(Pe,1)}function As(st){return"object"==typeof st&&null!==st&&2===Object.keys(st).length&&"value"in st&&"disabled"in st}const Ls=class extends Vt{constructor(ze=null,Pe,Pt){super(Hn(Pe),ri(Pt,Pe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ze),this._setUpdateStrategy(Pe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qi(Pe)&&(Pe.nonNullable||Pe.initialValueIsDefault)&&(this.defaultValue=As(ze)?ze.value:ze)}setValue(ze,Pe={}){this.value=this._pendingValue=ze,this._onChange.length&&!1!==Pe.emitModelToViewChange&&this._onChange.forEach(Pt=>Pt(this.value,!1!==Pe.emitViewToModelChange)),this.updateValueAndValidity(Pe)}patchValue(ze,Pe={}){this.setValue(ze,Pe)}reset(ze=this.defaultValue,Pe={}){this._applyFormState(ze),this.markAsPristine(Pe),this.markAsUntouched(Pe),this.setValue(this.value,Pe),this._pendingChange=!1}_updateValue(){}_anyControls(ze){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ze){this._onChange.push(ze)}_unregisterOnChange(ze){qo(this._onChange,ze)}registerOnDisabledChange(ze){this._onDisabledChange.push(ze)}_unregisterOnDisabledChange(ze){qo(this._onDisabledChange,ze)}_forEachChild(ze){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ze){As(ze)?(this.value=this._pendingValue=ze.value,ze.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ze}};let Dr=(()=>{class st extends gt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return st.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=e.n5z(st)))(Pt||st)}}(),st.\u0275dir=e.lG2({type:st,features:[e.qOj]}),st})();const Li={provide:We,useExisting:(0,e.Gpc)(()=>Vr)},Rs=(()=>Promise.resolve())();let Vr=(()=>{class st extends We{constructor(Pe,Pt,Rn,di,no){super(),this._changeDetectorRef=no,this.control=new Ls,this._registered=!1,this.update=new e.vpe,this._parent=Pe,this._setValidators(Pt),this._setAsyncValidators(Rn),this.valueAccessor=fo(0,di)}ngOnChanges(Pe){if(this._checkForErrors(),!this._registered||"name"in Pe){if(this._registered&&(this._checkName(),this.formDirective)){const Pt=Pe.name.previousValue;this.formDirective.removeControl({name:Pt,path:this._getPath(Pt)})}this._setUpControl()}"isDisabled"in Pe&&this._updateDisabled(Pe),is(Pe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Pe){this.viewModel=Pe,this.update.emit(Pe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Pe){Rs.then(()=>{var Pt;this.control.setValue(Pe,{emitViewToModelChange:!1}),null===(Pt=this._changeDetectorRef)||void 0===Pt||Pt.markForCheck()})}_updateDisabled(Pe){const Pt=Pe.isDisabled.currentValue,Rn=0!==Pt&&(0,e.D6c)(Pt);Rs.then(()=>{var di;Rn&&!this.control.disabled?this.control.disable():!Rn&&this.control.disabled&&this.control.enable(),null===(di=this._changeDetectorRef)||void 0===di||di.markForCheck()})}_getPath(Pe){return this._parent?xn(Pe,this._parent):[Pe]}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(gt,9),e.Y36(re,10),e.Y36(j,10),e.Y36(w,10),e.Y36(e.sBO,8))},st.\u0275dir=e.lG2({type:st,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Li]),e.qOj,e.TTD]}),st})(),ws=(()=>{class st{}return st.\u0275fac=function(Pe){return new(Pe||st)},st.\u0275dir=e.lG2({type:st,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),st})(),Cs=(()=>{class st{}return st.\u0275fac=function(Pe){return new(Pe||st)},st.\u0275mod=e.oAB({type:st}),st.\u0275inj=e.cJS({}),st})();const rr=new e.OlP("NgModelWithFormControlWarning"),fr={provide:We,useExisting:(0,e.Gpc)(()=>Mr)};let Mr=(()=>{class st extends We{constructor(Pe,Pt,Rn,di){super(),this._ngModelWarningConfig=di,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(Pe),this._setAsyncValidators(Pt),this.valueAccessor=fo(0,Rn)}set isDisabled(Pe){}ngOnChanges(Pe){if(this._isControlChanged(Pe)){const Pt=Pe.form.previousValue;Pt&&Zn(Pt,this,!1),yn(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}is(Pe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Zn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Pe){this.viewModel=Pe,this.update.emit(Pe)}_isControlChanged(Pe){return Pe.hasOwnProperty("form")}}return st._ngModelWarningSentOnce=!1,st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(re,10),e.Y36(j,10),e.Y36(w,10),e.Y36(rr,8))},st.\u0275dir=e.lG2({type:st,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([fr]),e.qOj,e.TTD]}),st})();const vs={provide:gt,useExisting:(0,e.Gpc)(()=>bs)};let bs=(()=>{class st extends gt{constructor(Pe,Pt){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(Pe),this._setAsyncValidators(Pt)}ngOnChanges(Pe){this._checkFormPresent(),Pe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Pe){const Pt=this.form.get(Pe.path);return yn(Pt,Pe),Pt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Pe),Pt}getControl(Pe){return this.form.get(Pe.path)}removeControl(Pe){Zn(Pe.control||null,Pe,!1),function Oo(st,ze){const Pe=st.indexOf(ze);Pe>-1&&st.splice(Pe,1)}(this.directives,Pe)}addFormGroup(Pe){this._setUpFormContainer(Pe)}removeFormGroup(Pe){this._cleanUpFormContainer(Pe)}getFormGroup(Pe){return this.form.get(Pe.path)}addFormArray(Pe){this._setUpFormContainer(Pe)}removeFormArray(Pe){this._cleanUpFormContainer(Pe)}getFormArray(Pe){return this.form.get(Pe.path)}updateModel(Pe,Pt){this.form.get(Pe.path).setValue(Pt)}onSubmit(Pe){var Pt;return this.submitted=!0,function _s(st,ze){st._syncPendingControls(),ze.forEach(Pe=>{const Pt=Pe.control;"submit"===Pt.updateOn&&Pt._pendingChange&&(Pe.viewToModelUpdate(Pt._pendingValue),Pt._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Pe),"dialog"===(null===(Pt=null==Pe?void 0:Pe.target)||void 0===Pt?void 0:Pt.method)}onReset(){this.resetForm()}resetForm(Pe){this.form.reset(Pe),this.submitted=!1}_updateDomValue(){this.directives.forEach(Pe=>{const Pt=Pe.control,Rn=this.form.get(Pe.path);Pt!==Rn&&(Zn(Pt||null,Pe),(st=>st instanceof Ls)(Rn)&&(yn(Rn,Pe),Pe.control=Rn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Pe){const Pt=this.form.get(Pe.path);(function ai(st,ze){li(st,ze)})(Pt,Pe),Pt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Pe){if(this.form){const Pt=this.form.get(Pe.path);Pt&&function Gi(st,ze){return mi(st,ze)}(Pt,Pe)&&Pt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){li(this.form,this),this._oldForm&&mi(this._oldForm,this)}_checkFormPresent(){}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(re,10),e.Y36(j,10))},st.\u0275dir=e.lG2({type:st,selectors:[["","formGroup",""]],hostBindings:function(Pe,Pt){1&Pe&&e.NdJ("submit",function(di){return Pt.onSubmit(di)})("reset",function(){return Pt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([vs]),e.qOj,e.TTD]}),st})();const ys={provide:gt,useExisting:(0,e.Gpc)(()=>Ss)};let Ss=(()=>{class st extends Dr{constructor(Pe,Pt,Rn){super(),this._parent=Pe,this._setValidators(Pt),this._setAsyncValidators(Rn)}_checkParentType(){ia(this._parent)}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(gt,13),e.Y36(re,10),e.Y36(j,10))},st.\u0275dir=e.lG2({type:st,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([ys]),e.qOj]}),st})();const ks={provide:gt,useExisting:(0,e.Gpc)(()=>Vs)};let Vs=(()=>{class st extends gt{constructor(Pe,Pt,Rn){super(),this._parent=Pe,this._setValidators(Pt),this._setAsyncValidators(Rn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ia(this._parent)}}return st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(gt,13),e.Y36(re,10),e.Y36(j,10))},st.\u0275dir=e.lG2({type:st,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([ks]),e.qOj]}),st})();function ia(st){return!(st instanceof Ss||st instanceof bs||st instanceof Vs)}const oa={provide:We,useExisting:(0,e.Gpc)(()=>sa)};let sa=(()=>{class st extends We{constructor(Pe,Pt,Rn,di,no){super(),this._ngModelWarningConfig=no,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=Pe,this._setValidators(Pt),this._setAsyncValidators(Rn),this.valueAccessor=fo(0,di)}set isDisabled(Pe){}ngOnChanges(Pe){this._added||this._setUpControl(),is(Pe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Pe){this.viewModel=Pe,this.update.emit(Pe)}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return st._ngModelWarningSentOnce=!1,st.\u0275fac=function(Pe){return new(Pe||st)(e.Y36(gt,13),e.Y36(re,10),e.Y36(j,10),e.Y36(w,10),e.Y36(rr,8))},st.\u0275dir=e.lG2({type:st,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([oa]),e.qOj,e.TTD]}),st})();let pi=(()=>{class st{constructor(){this._validator=Be}ngOnChanges(Pe){if(this.inputName in Pe){const Pt=this.normalizeInput(Pe[this.inputName].currentValue);this._enabled=this.enabled(Pt),this._validator=this._enabled?this.createValidator(Pt):Be,this._onChange&&this._onChange()}}validate(Pe){return this._validator(Pe)}registerOnValidatorChange(Pe){this._onChange=Pe}enabled(Pe){return null!=Pe}}return st.\u0275fac=function(Pe){return new(Pe||st)},st.\u0275dir=e.lG2({type:st,features:[e.TTD]}),st})();const Gr={provide:re,useExisting:(0,e.Gpc)(()=>Vo),multi:!0};let Vo=(()=>{class st extends pi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Pe=>function kn(st){return"number"==typeof st?st:parseInt(st,10)}(Pe),this.createValidator=Pe=>ve(Pe)}}return st.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=e.n5z(st)))(Pt||st)}}(),st.\u0275dir=e.lG2({type:st,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Pe,Pt){2&Pe&&e.uIk("maxlength",Pt._enabled?Pt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Gr]),e.qOj]}),st})(),Oi=(()=>{class st{}return st.\u0275fac=function(Pe){return new(Pe||st)},st.\u0275mod=e.oAB({type:st}),st.\u0275inj=e.cJS({imports:[Cs]}),st})(),ro=(()=>{class st{}return st.\u0275fac=function(Pe){return new(Pe||st)},st.\u0275mod=e.oAB({type:st}),st.\u0275inj=e.cJS({imports:[Oi]}),st})(),ji=(()=>{class st{static withConfig(Pe){return{ngModule:st,providers:[{provide:rr,useValue:Pe.warnOnNgModelWithFormControl}]}}}return st.\u0275fac=function(Pe){return new(Pe||st)},st.\u0275mod=e.oAB({type:st}),st.\u0275inj=e.cJS({imports:[Oi]}),st})();class qi extends Vt{constructor(ze,Pe,Pt){super(Hn(Pe),ri(Pt,Pe)),this.controls=ze,this._initObservables(),this._setUpdateStrategy(Pe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ze){return this.controls[this._adjustIndex(ze)]}push(ze,Pe={}){this.controls.push(ze),this._registerControl(ze),this.updateValueAndValidity({emitEvent:Pe.emitEvent}),this._onCollectionChange()}insert(ze,Pe,Pt={}){this.controls.splice(ze,0,Pe),this._registerControl(Pe),this.updateValueAndValidity({emitEvent:Pt.emitEvent})}removeAt(ze,Pe={}){let Pt=this._adjustIndex(ze);Pt<0&&(Pt=0),this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),this.controls.splice(Pt,1),this.updateValueAndValidity({emitEvent:Pe.emitEvent})}setControl(ze,Pe,Pt={}){let Rn=this._adjustIndex(ze);Rn<0&&(Rn=0),this.controls[Rn]&&this.controls[Rn]._registerOnCollectionChange(()=>{}),this.controls.splice(Rn,1),Pe&&(this.controls.splice(Rn,0,Pe),this._registerControl(Pe)),this.updateValueAndValidity({emitEvent:Pt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ze,Pe={}){$o(this,0,ze),ze.forEach((Pt,Rn)=>{oo(this,!1,Rn),this.at(Rn).setValue(Pt,{onlySelf:!0,emitEvent:Pe.emitEvent})}),this.updateValueAndValidity(Pe)}patchValue(ze,Pe={}){null!=ze&&(ze.forEach((Pt,Rn)=>{this.at(Rn)&&this.at(Rn).patchValue(Pt,{onlySelf:!0,emitEvent:Pe.emitEvent})}),this.updateValueAndValidity(Pe))}reset(ze=[],Pe={}){this._forEachChild((Pt,Rn)=>{Pt.reset(ze[Rn],{onlySelf:!0,emitEvent:Pe.emitEvent})}),this._updatePristine(Pe),this._updateTouched(Pe),this.updateValueAndValidity(Pe)}getRawValue(){return this.controls.map(ze=>ze.getRawValue())}clear(ze={}){this.controls.length<1||(this._forEachChild(Pe=>Pe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ze.emitEvent}))}_adjustIndex(ze){return ze<0?ze+this.length:ze}_syncPendingControls(){let ze=this.controls.reduce((Pe,Pt)=>!!Pt._syncPendingControls()||Pe,!1);return ze&&this.updateValueAndValidity({onlySelf:!0}),ze}_forEachChild(ze){this.controls.forEach((Pe,Pt)=>{ze(Pe,Pt)})}_updateValue(){this.value=this.controls.filter(ze=>ze.enabled||this.disabled).map(ze=>ze.value)}_anyControls(ze){return this.controls.some(Pe=>Pe.enabled&&ze(Pe))}_setUpControls(){this._forEachChild(ze=>this._registerControl(ze))}_allControlsDisabled(){for(const ze of this.controls)if(ze.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ze){ze.setParent(this),ze._registerOnCollectionChange(this._onCollectionChange)}_find(ze){var Pe;return null!==(Pe=this.at(ze))&&void 0!==Pe?Pe:null}}},2313:(dn,pt,C)=>{"use strict";C.d(pt,{Dx:()=>Oe,H7:()=>Ci,b2:()=>We,q6:()=>ht,se:()=>de});var e=C(9808),d=C(5e3);class u extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends u{static makeCurrent(){(0,e.HT)(new p)}onAndCancel(Ye,Ee,Qe){return Ye.addEventListener(Ee,Qe,!1),()=>{Ye.removeEventListener(Ee,Qe,!1)}}dispatchEvent(Ye,Ee){Ye.dispatchEvent(Ee)}remove(Ye){Ye.parentNode&&Ye.parentNode.removeChild(Ye)}createElement(Ye,Ee){return(Ee=Ee||this.getDefaultDocument()).createElement(Ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ye){return Ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ye){return Ye instanceof DocumentFragment}getGlobalEventTarget(Ye,Ee){return"window"===Ee?window:"document"===Ee?Ye:"body"===Ee?Ye.body:null}getBaseHref(Ye){const Ee=function R(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==Ee?null:function s(Vt){b=b||document.createElement("a"),b.setAttribute("href",Vt);const Ye=b.pathname;return"/"===Ye.charAt(0)?Ye:`/${Ye}`}(Ee)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ye){return(0,e.Mx)(document.cookie,Ye)}}let b,x=null;const F=new d.OlP("TRANSITION_ID"),Q=[{provide:d.ip1,useFactory:function O(Vt,Ye,Ee){return()=>{Ee.get(d.CZH).donePromise.then(()=>{const Qe=(0,e.q)(),dt=Ye.querySelectorAll(`style[ng-transition="${Vt}"]`);for(let gn=0;gn<dt.length;gn++)Qe.remove(dt[gn])})}},deps:[F,e.K0,d.zs3],multi:!0}];let T=(()=>{class Vt{build(){return new XMLHttpRequest}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const y=new d.OlP("EventManagerPlugins");let w=(()=>{class Vt{constructor(Ee,Qe){this._zone=Qe,this._eventNameToPlugin=new Map,Ee.forEach(dt=>dt.manager=this),this._plugins=Ee.slice().reverse()}addEventListener(Ee,Qe,dt){return this._findPluginFor(Qe).addEventListener(Ee,Qe,dt)}addGlobalEventListener(Ee,Qe,dt){return this._findPluginFor(Qe).addGlobalEventListener(Ee,Qe,dt)}getZone(){return this._zone}_findPluginFor(Ee){const Qe=this._eventNameToPlugin.get(Ee);if(Qe)return Qe;const dt=this._plugins;for(let gn=0;gn<dt.length;gn++){const xn=dt[gn];if(xn.supports(Ee))return this._eventNameToPlugin.set(Ee,xn),xn}throw new Error(`No event manager plugin found for event ${Ee}`)}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(y),d.LFG(d.R0b))},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();class k{constructor(Ye){this._doc=Ye}addGlobalEventListener(Ye,Ee,Qe){const dt=(0,e.q)().getGlobalEventTarget(this._doc,Ye);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${Ee}`);return this.addEventListener(dt,Ee,Qe)}}let V=(()=>{class Vt{constructor(){this._stylesSet=new Set}addStyles(Ee){const Qe=new Set;Ee.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),Qe.add(dt))}),this.onStylesAdded(Qe)}onStylesAdded(Ee){}getAllStyles(){return Array.from(this._stylesSet)}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})(),U=(()=>{class Vt extends V{constructor(Ee){super(),this._doc=Ee,this._hostNodes=new Map,this._hostNodes.set(Ee.head,[])}_addStylesToHost(Ee,Qe,dt){Ee.forEach(gn=>{const xn=this._doc.createElement("style");xn.textContent=gn,dt.push(Qe.appendChild(xn))})}addHost(Ee){const Qe=[];this._addStylesToHost(this._stylesSet,Ee,Qe),this._hostNodes.set(Ee,Qe)}removeHost(Ee){const Qe=this._hostNodes.get(Ee);Qe&&Qe.forEach(oe),this._hostNodes.delete(Ee)}onStylesAdded(Ee){this._hostNodes.forEach((Qe,dt)=>{this._addStylesToHost(Ee,dt,Qe)})}ngOnDestroy(){this._hostNodes.forEach(Ee=>Ee.forEach(oe))}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(e.K0))},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();function oe(Vt){(0,e.q)().remove(Vt)}const K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},H=/%COMP%/g,P="%COMP%",Y=`_nghost-${P}`,re=`_ngcontent-${P}`;function ie(Vt,Ye,Ee){for(let Qe=0;Qe<Ye.length;Qe++){let dt=Ye[Qe];Array.isArray(dt)?ie(Vt,dt,Ee):(dt=dt.replace(H,Vt),Ee.push(dt))}return Ee}function Te(Vt){return Ye=>{if("__ngUnwrap__"===Ye)return Vt;!1===Vt(Ye)&&(Ye.preventDefault(),Ye.returnValue=!1)}}let de=(()=>{class Vt{constructor(Ee,Qe,dt){this.eventManager=Ee,this.sharedStylesHost=Qe,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new te(Ee)}createRenderer(Ee,Qe){if(!Ee||!Qe)return this.defaultRenderer;switch(Qe.encapsulation){case d.ifc.Emulated:{let dt=this.rendererByCompId.get(Qe.id);return dt||(dt=new be(this.eventManager,this.sharedStylesHost,Qe,this.appId),this.rendererByCompId.set(Qe.id,dt)),dt.applyToHost(Ee),dt}case 1:case d.ifc.ShadowDom:return new Be(this.eventManager,this.sharedStylesHost,Ee,Qe);default:if(!this.rendererByCompId.has(Qe.id)){const dt=ie(Qe.id,Qe.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(Qe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(w),d.LFG(U),d.LFG(d.AFp))},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();class te{constructor(Ye){this.eventManager=Ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ye,Ee){return Ee?document.createElementNS(K[Ee]||Ee,Ye):document.createElement(Ye)}createComment(Ye){return document.createComment(Ye)}createText(Ye){return document.createTextNode(Ye)}appendChild(Ye,Ee){(ve(Ye)?Ye.content:Ye).appendChild(Ee)}insertBefore(Ye,Ee,Qe){Ye&&(ve(Ye)?Ye.content:Ye).insertBefore(Ee,Qe)}removeChild(Ye,Ee){Ye&&Ye.removeChild(Ee)}selectRootElement(Ye,Ee){let Qe="string"==typeof Ye?document.querySelector(Ye):Ye;if(!Qe)throw new Error(`The selector "${Ye}" did not match any elements`);return Ee||(Qe.textContent=""),Qe}parentNode(Ye){return Ye.parentNode}nextSibling(Ye){return Ye.nextSibling}setAttribute(Ye,Ee,Qe,dt){if(dt){Ee=dt+":"+Ee;const gn=K[dt];gn?Ye.setAttributeNS(gn,Ee,Qe):Ye.setAttribute(Ee,Qe)}else Ye.setAttribute(Ee,Qe)}removeAttribute(Ye,Ee,Qe){if(Qe){const dt=K[Qe];dt?Ye.removeAttributeNS(dt,Ee):Ye.removeAttribute(`${Qe}:${Ee}`)}else Ye.removeAttribute(Ee)}addClass(Ye,Ee){Ye.classList.add(Ee)}removeClass(Ye,Ee){Ye.classList.remove(Ee)}setStyle(Ye,Ee,Qe,dt){dt&(d.JOm.DashCase|d.JOm.Important)?Ye.style.setProperty(Ee,Qe,dt&d.JOm.Important?"important":""):Ye.style[Ee]=Qe}removeStyle(Ye,Ee,Qe){Qe&d.JOm.DashCase?Ye.style.removeProperty(Ee):Ye.style[Ee]=""}setProperty(Ye,Ee,Qe){Ye[Ee]=Qe}setValue(Ye,Ee){Ye.nodeValue=Ee}listen(Ye,Ee,Qe){return"string"==typeof Ye?this.eventManager.addGlobalEventListener(Ye,Ee,Te(Qe)):this.eventManager.addEventListener(Ye,Ee,Te(Qe))}}function ve(Vt){return"TEMPLATE"===Vt.tagName&&void 0!==Vt.content}class be extends te{constructor(Ye,Ee,Qe,dt){super(Ye),this.component=Qe;const gn=ie(dt+"-"+Qe.id,Qe.styles,[]);Ee.addStyles(gn),this.contentAttr=function j(Vt){return re.replace(H,Vt)}(dt+"-"+Qe.id),this.hostAttr=function G(Vt){return Y.replace(H,Vt)}(dt+"-"+Qe.id)}applyToHost(Ye){super.setAttribute(Ye,this.hostAttr,"")}createElement(Ye,Ee){const Qe=super.createElement(Ye,Ee);return super.setAttribute(Qe,this.contentAttr,""),Qe}}class Be extends te{constructor(Ye,Ee,Qe,dt){super(Ye),this.sharedStylesHost=Ee,this.hostEl=Qe,this.shadowRoot=Qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gn=ie(dt.id,dt.styles,[]);for(let xn=0;xn<gn.length;xn++){const yn=document.createElement("style");yn.textContent=gn[xn],this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(Ye){return Ye===this.hostEl?this.shadowRoot:Ye}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ye,Ee){return super.appendChild(this.nodeOrShadowRoot(Ye),Ee)}insertBefore(Ye,Ee,Qe){return super.insertBefore(this.nodeOrShadowRoot(Ye),Ee,Qe)}removeChild(Ye,Ee){return super.removeChild(this.nodeOrShadowRoot(Ye),Ee)}parentNode(Ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ye)))}}let we=(()=>{class Vt extends k{constructor(Ee){super(Ee)}supports(Ee){return!0}addEventListener(Ee,Qe,dt){return Ee.addEventListener(Qe,dt,!1),()=>this.removeEventListener(Ee,Qe,dt)}removeEventListener(Ee,Qe,dt){return Ee.removeEventListener(Qe,dt)}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(e.K0))},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const ke=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q={alt:Vt=>Vt.altKey,control:Vt=>Vt.ctrlKey,meta:Vt=>Vt.metaKey,shift:Vt=>Vt.shiftKey};let pe=(()=>{class Vt extends k{constructor(Ee){super(Ee)}supports(Ee){return null!=Vt.parseEventName(Ee)}addEventListener(Ee,Qe,dt){const gn=Vt.parseEventName(Qe),xn=Vt.eventCallback(gn.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(Ee,gn.domEventName,xn))}static parseEventName(Ee){const Qe=Ee.toLowerCase().split("."),dt=Qe.shift();if(0===Qe.length||"keydown"!==dt&&"keyup"!==dt)return null;const gn=Vt._normalizeKey(Qe.pop());let xn="",yn=Qe.indexOf("code");if(yn>-1&&(Qe.splice(yn,1),xn="code."),ke.forEach($n=>{const ti=Qe.indexOf($n);ti>-1&&(Qe.splice(ti,1),xn+=$n+".")}),xn+=gn,0!=Qe.length||0===gn.length)return null;const Zn={};return Zn.domEventName=dt,Zn.fullKey=xn,Zn}static matchEventFullKeyCode(Ee,Qe){let dt=X[Ee.key]||Ee.key,gn="";return Qe.indexOf("code.")>-1&&(dt=Ee.code,gn="code."),!(null==dt||!dt)&&(dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),ke.forEach(xn=>{xn!==dt&&(0,q[xn])(Ee)&&(gn+=xn+".")}),gn+=dt,gn===Qe)}static eventCallback(Ee,Qe,dt){return gn=>{Vt.matchEventFullKeyCode(gn,Ee)&&dt.runGuarded(()=>Qe(gn))}}static _normalizeKey(Ee){return"esc"===Ee?"escape":Ee}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(e.K0))},Vt.\u0275prov=d.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const ht=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:e.bD},{provide:d.g9A,useValue:function Dt(){p.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function Xt(){return(0,d.RDi)(document),document},deps:[]}]),ut=new d.OlP(""),xe=[{provide:d.rWj,useClass:class N{addToWindow(Ye){d.dqk.getAngularTestability=(Qe,dt=!0)=>{const gn=Ye.findTestabilityInTree(Qe,dt);if(null==gn)throw new Error("Could not find testability for element.");return gn},d.dqk.getAllAngularTestabilities=()=>Ye.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>Ye.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(Qe=>{const dt=d.dqk.getAllAngularTestabilities();let gn=dt.length,xn=!1;const yn=function(Zn){xn=xn||Zn,gn--,0==gn&&Qe(xn)};dt.forEach(function(Zn){Zn.whenStable(yn)})})}findTestabilityInTree(Ye,Ee,Qe){if(null==Ee)return null;const dt=Ye.getTestability(Ee);return null!=dt?dt:Qe?(0,e.q)().isShadowRoot(Ee)?this.findTestabilityInTree(Ye,Ee.host,!0):this.findTestabilityInTree(Ye,Ee.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],De=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Cn(){return new d.qLn},deps:[]},{provide:y,useClass:we,multi:!0,deps:[e.K0,d.R0b,d.Lbi]},{provide:y,useClass:pe,multi:!0,deps:[e.K0]},{provide:de,useClass:de,deps:[w,U,d.AFp]},{provide:d.FYo,useExisting:de},{provide:V,useExisting:U},{provide:U,useClass:U,deps:[e.K0]},{provide:w,useClass:w,deps:[y,d.R0b]},{provide:e.JF,useClass:T,deps:[]},[]];let We=(()=>{class Vt{constructor(Ee){}static withServerTransition(Ee){return{ngModule:Vt,providers:[{provide:d.AFp,useValue:Ee.appId},{provide:F,useExisting:d.AFp},Q]}}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(ut,12))},Vt.\u0275mod=d.oAB({type:Vt}),Vt.\u0275inj=d.cJS({providers:[...De,...xe],imports:[e.ez,d.hGG]}),Vt})(),Oe=(()=>{class Vt{constructor(Ee){this._doc=Ee}getTitle(){return this._doc.title}setTitle(Ee){this._doc.title=Ee||""}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(e.K0))},Vt.\u0275prov=d.Yz7({token:Vt,factory:function(Ee){let Qe=null;return Qe=Ee?new Ee:function Ot(){return new Oe((0,d.LFG)(e.K0))}(),Qe},providedIn:"root"}),Vt})();"undefined"!=typeof window&&window;let Ci=(()=>{class Vt{}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)},Vt.\u0275prov=d.Yz7({token:Vt,factory:function(Ee){let Qe=null;return Qe=Ee?new(Ee||Vt):d.LFG(oo),Qe},providedIn:"root"}),Vt})(),oo=(()=>{class Vt extends Ci{constructor(Ee){super(),this._doc=Ee}sanitize(Ee,Qe){if(null==Qe)return null;switch(Ee){case d.q3G.NONE:return Qe;case d.q3G.HTML:return(0,d.qzn)(Qe,"HTML")?(0,d.z3N)(Qe):(0,d.EiD)(this._doc,String(Qe)).toString();case d.q3G.STYLE:return(0,d.qzn)(Qe,"Style")?(0,d.z3N)(Qe):Qe;case d.q3G.SCRIPT:if((0,d.qzn)(Qe,"Script"))return(0,d.z3N)(Qe);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(Qe,"URL")?(0,d.z3N)(Qe):(0,d.mCW)(String(Qe));case d.q3G.RESOURCE_URL:if((0,d.qzn)(Qe,"ResourceURL"))return(0,d.z3N)(Qe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Ee} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Ee){return(0,d.JVY)(Ee)}bypassSecurityTrustStyle(Ee){return(0,d.L6k)(Ee)}bypassSecurityTrustScript(Ee){return(0,d.eBb)(Ee)}bypassSecurityTrustUrl(Ee){return(0,d.LAX)(Ee)}bypassSecurityTrustResourceUrl(Ee){return(0,d.pB0)(Ee)}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(d.LFG(e.K0))},Vt.\u0275prov=d.Yz7({token:Vt,factory:function(Ee){let Qe=null;return Qe=Ee?new Ee:function Qi(Vt){return new oo(Vt.get(e.K0))}(d.LFG(d.zs3)),Qe},providedIn:"root"}),Vt})()},3470:(dn,pt,C)=>{"use strict";C.d(pt,{gz:()=>Yi,m2:()=>ds,F0:()=>So,rH:()=>Io,Od:()=>$a,yS:()=>ca,Bz:()=>Mc,lC:()=>hn,Xs:()=>Li,lo:()=>Ze,fw:()=>At});var e=C(5e3),d=C(2076),u=C(9646),p=C(1135),x=C(6805),R=C(9841),b=C(7272),s=C(9770),F=C(9635),O=C(2843),Q=C(9751),N=C(515),T=C(727),y=C(4482),w=C(5403);function k(){return(0,y.e)((ye,Ae)=>{let ue=null;ye._refCount++;const Le=new w.Q(Ae,void 0,void 0,void 0,()=>{if(!ye||ye._refCount<=0||0<--ye._refCount)return void(ue=null);const tt=ye._connection,kt=ue;ue=null,tt&&(!kt||tt===kt)&&tt.unsubscribe(),Ae.unsubscribe()});ye.subscribe(Le),Le.closed||(ue=ye.connect())})}class V extends Q.y{constructor(Ae,ue){super(),this.source=Ae,this.subjectFactory=ue,this._subject=null,this._refCount=0,this._connection=null,(0,y.A)(Ae)&&(this.lift=Ae.lift)}_subscribe(Ae){return this.getSubject().subscribe(Ae)}getSubject(){const Ae=this._subject;return(!Ae||Ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Ae}=this;this._subject=this._connection=null,null==Ae||Ae.unsubscribe()}connect(){let Ae=this._connection;if(!Ae){Ae=this._connection=new T.w0;const ue=this.getSubject();Ae.add(this.source.subscribe(new w.Q(ue,void 0,()=>{this._teardown(),ue.complete()},Le=>{this._teardown(),ue.error(Le)},()=>this._teardown()))),Ae.closed&&(this._connection=null,Ae=T.w0.EMPTY)}return Ae}refCount(){return k()(this)}}var U=C(7579),oe=C(9808),K=C(4004),H=C(3900),D=C(5698),P=C(8675),Y=C(9300),re=C(5577),j=C(590),G=C(4351),ie=C(8505),Te=C(262);function Me(ye,Ae,ue,Le,tt){return(kt,$t)=>{let on=ue,An=Ae,ni=0;kt.subscribe(new w.Q($t,vi=>{const si=ni++;An=on?ye(An,vi,si):(on=!0,vi),Le&&$t.next(An)},tt&&(()=>{on&&$t.next(An),$t.complete()})))}}function de(ye,Ae){return(0,y.e)(Me(ye,Ae,arguments.length>=2,!0))}var te=C(2035),ce=C(8068),J=C(6590),ve=C(4671);function be(ye,Ae){const ue=arguments.length>=2;return Le=>Le.pipe(ye?(0,Y.h)((tt,kt)=>ye(tt,kt,Le)):ve.y,(0,te.h)(1),ue?(0,J.d)(Ae):(0,ce.T)(()=>new x.K))}var Be=C(2529),we=C(9718),ke=C(8746),X=C(8189),q=C(2313);const pe="primary",_e=Symbol("RouteTitle");class Xe{constructor(Ae){this.params=Ae||{}}has(Ae){return Object.prototype.hasOwnProperty.call(this.params,Ae)}get(Ae){if(this.has(Ae)){const ue=this.params[Ae];return Array.isArray(ue)?ue[0]:ue}return null}getAll(Ae){if(this.has(Ae)){const ue=this.params[Ae];return Array.isArray(ue)?ue:[ue]}return[]}get keys(){return Object.keys(this.params)}}function ct(ye){return new Xe(ye)}function ot(ye,Ae,ue){const Le=ue.path.split("/");if(Le.length>ye.length||"full"===ue.pathMatch&&(Ae.hasChildren()||Le.length<ye.length))return null;const tt={};for(let kt=0;kt<Le.length;kt++){const $t=Le[kt],on=ye[kt];if($t.startsWith(":"))tt[$t.substring(1)]=on;else if($t!==on.path)return null}return{consumed:ye.slice(0,Le.length),posParams:tt}}function Dt(ye,Ae){const ue=ye?Object.keys(ye):void 0,Le=Ae?Object.keys(Ae):void 0;if(!ue||!Le||ue.length!=Le.length)return!1;let tt;for(let kt=0;kt<ue.length;kt++)if(tt=ue[kt],!Cn(ye[tt],Ae[tt]))return!1;return!0}function Cn(ye,Ae){if(Array.isArray(ye)&&Array.isArray(Ae)){if(ye.length!==Ae.length)return!1;const ue=[...ye].sort(),Le=[...Ae].sort();return ue.every((tt,kt)=>Le[kt]===tt)}return ye===Ae}function Xt(ye){return Array.prototype.concat.apply([],ye)}function jt(ye){return ye.length>0?ye[ye.length-1]:null}function ut(ye,Ae){for(const ue in ye)ye.hasOwnProperty(ue)&&Ae(ye[ue],ue)}function xe(ye){return(0,e.CqO)(ye)?ye:(0,e.QGY)(ye)?(0,d.D)(Promise.resolve(ye)):(0,u.of)(ye)}const gt={exact:function Oe(ye,Ae,ue){if(!Tn(ye.segments,Ae.segments)||!ee(ye.segments,Ae.segments,ue)||ye.numberOfChildren!==Ae.numberOfChildren)return!1;for(const Le in Ae.children)if(!ye.children[Le]||!Oe(ye.children[Le],Ae.children[Le],ue))return!1;return!0},subset:Ne},Tt={exact:function Ot(ye,Ae){return Dt(ye,Ae)},subset:function et(ye,Ae){return Object.keys(Ae).length<=Object.keys(ye).length&&Object.keys(Ae).every(ue=>Cn(ye[ue],Ae[ue]))},ignored:()=>!0};function Ft(ye,Ae,ue){return gt[ue.paths](ye.root,Ae.root,ue.matrixParams)&&Tt[ue.queryParams](ye.queryParams,Ae.queryParams)&&!("exact"===ue.fragment&&ye.fragment!==Ae.fragment)}function Ne(ye,Ae,ue){return yt(ye,Ae,Ae.segments,ue)}function yt(ye,Ae,ue,Le){if(ye.segments.length>ue.length){const tt=ye.segments.slice(0,ue.length);return!(!Tn(tt,ue)||Ae.hasChildren()||!ee(tt,ue,Le))}if(ye.segments.length===ue.length){if(!Tn(ye.segments,ue)||!ee(ye.segments,ue,Le))return!1;for(const tt in Ae.children)if(!ye.children[tt]||!Ne(ye.children[tt],Ae.children[tt],Le))return!1;return!0}{const tt=ue.slice(0,ye.segments.length),kt=ue.slice(ye.segments.length);return!!(Tn(ye.segments,tt)&&ee(ye.segments,tt,Le)&&ye.children[pe])&&yt(ye.children[pe],Ae,kt,Le)}}function ee(ye,Ae,ue){return Ae.every((Le,tt)=>Tt[ue](ye[tt].parameters,Le.parameters))}class Ze{constructor(Ae,ue,Le){this.root=Ae,this.queryParams=ue,this.fragment=Le}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return me.serialize(this)}}class Ce{constructor(Ae,ue){this.segments=Ae,this.children=ue,this.parent=null,ut(ue,(Le,tt)=>Le.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lt(this)}}class ft{constructor(Ae,ue){this.path=Ae,this.parameters=ue}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return Bt(this)}}function Tn(ye,Ae){return ye.length===Ae.length&&ye.every((ue,Le)=>ue.path===Ae[Le].path)}let xt=(()=>{class ye{}return ye.\u0275fac=function(ue){return new(ue||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:function(){return new Ct},providedIn:"root"}),ye})();class Ct{parse(Ae){const ue=new Vt(Ae);return new Ze(ue.parseRootSegment(),ue.parseQueryParams(),ue.parseFragment())}serialize(Ae){const ue=`/${$e(Ae.root,!0)}`,Le=function Hn(ye){const Ae=Object.keys(ye).map(ue=>{const Le=ye[ue];return Array.isArray(Le)?Le.map(tt=>`${je(ue)}=${je(tt)}`).join("&"):`${je(ue)}=${je(Le)}`}).filter(ue=>!!ue);return Ae.length?`?${Ae.join("&")}`:""}(Ae.queryParams);return`${ue}${Le}${"string"==typeof Ae.fragment?`#${function sn(ye){return encodeURI(ye)}(Ae.fragment)}`:""}`}}const me=new Ct;function lt(ye){return ye.segments.map(Ae=>Bt(Ae)).join("/")}function $e(ye,Ae){if(!ye.hasChildren())return lt(ye);if(Ae){const ue=ye.children[pe]?$e(ye.children[pe],!1):"",Le=[];return ut(ye.children,(tt,kt)=>{kt!==pe&&Le.push(`${kt}:${$e(tt,!1)}`)}),Le.length>0?`${ue}(${Le.join("//")})`:ue}{const ue=function qt(ye,Ae){let ue=[];return ut(ye.children,(Le,tt)=>{tt===pe&&(ue=ue.concat(Ae(Le,tt)))}),ut(ye.children,(Le,tt)=>{tt!==pe&&(ue=ue.concat(Ae(Le,tt)))}),ue}(ye,(Le,tt)=>tt===pe?[$e(ye.children[pe],!1)]:[`${tt}:${$e(Le,!1)}`]);return 1===Object.keys(ye.children).length&&null!=ye.children[pe]?`${lt(ye)}/${ue[0]}`:`${lt(ye)}/(${ue.join("//")})`}}function Lt(ye){return encodeURIComponent(ye).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function je(ye){return Lt(ye).replace(/%3B/gi,";")}function fn(ye){return Lt(ye).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(ye){return decodeURIComponent(ye)}function On(ye){return Gt(ye.replace(/\+/g,"%20"))}function Bt(ye){return`${fn(ye.path)}${function rn(ye){return Object.keys(ye).map(Ae=>`;${fn(Ae)}=${fn(ye[Ae])}`).join("")}(ye.parameters)}`}const zn=/^[^\/()?;=#]+/;function ri(ye){const Ae=ye.match(zn);return Ae?Ae[0]:""}const Ci=/^[^=?&#]+/,oo=/^[^&#]+/;class Vt{constructor(Ae){this.url=Ae,this.remaining=Ae}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const Ae={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ae)}while(this.consumeOptional("&"));return Ae}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ae=[];for(this.peekStartsWith("(")||Ae.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ae.push(this.parseSegment());let ue={};this.peekStartsWith("/(")&&(this.capture("/"),ue=this.parseParens(!0));let Le={};return this.peekStartsWith("(")&&(Le=this.parseParens(!1)),(Ae.length>0||Object.keys(ue).length>0)&&(Le[pe]=new Ce(Ae,ue)),Le}parseSegment(){const Ae=ri(this.remaining);if(""===Ae&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(Ae),new ft(Gt(Ae),this.parseMatrixParams())}parseMatrixParams(){const Ae={};for(;this.consumeOptional(";");)this.parseParam(Ae);return Ae}parseParam(Ae){const ue=ri(this.remaining);if(!ue)return;this.capture(ue);let Le="";if(this.consumeOptional("=")){const tt=ri(this.remaining);tt&&(Le=tt,this.capture(Le))}Ae[Gt(ue)]=Gt(Le)}parseQueryParam(Ae){const ue=function Qi(ye){const Ae=ye.match(Ci);return Ae?Ae[0]:""}(this.remaining);if(!ue)return;this.capture(ue);let Le="";if(this.consumeOptional("=")){const $t=function $o(ye){const Ae=ye.match(oo);return Ae?Ae[0]:""}(this.remaining);$t&&(Le=$t,this.capture(Le))}const tt=On(ue),kt=On(Le);if(Ae.hasOwnProperty(tt)){let $t=Ae[tt];Array.isArray($t)||($t=[$t],Ae[tt]=$t),$t.push(kt)}else Ae[tt]=kt}parseParens(Ae){const ue={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Le=ri(this.remaining),tt=this.remaining[Le.length];if("/"!==tt&&")"!==tt&&";"!==tt)throw new e.vHH(4010,!1);let kt;Le.indexOf(":")>-1?(kt=Le.slice(0,Le.indexOf(":")),this.capture(kt),this.capture(":")):Ae&&(kt=pe);const $t=this.parseChildren();ue[kt]=1===Object.keys($t).length?$t[pe]:new Ce([],$t),this.consumeOptional("//")}return ue}peekStartsWith(Ae){return this.remaining.startsWith(Ae)}consumeOptional(Ae){return!!this.peekStartsWith(Ae)&&(this.remaining=this.remaining.substring(Ae.length),!0)}capture(Ae){if(!this.consumeOptional(Ae))throw new e.vHH(4011,!1)}}function Ye(ye){return ye.segments.length>0?new Ce([],{[pe]:ye}):ye}function Ee(ye){const Ae={};for(const Le of Object.keys(ye.children)){const kt=Ee(ye.children[Le]);(kt.segments.length>0||kt.hasChildren())&&(Ae[Le]=kt)}return function Qe(ye){if(1===ye.numberOfChildren&&ye.children[pe]){const Ae=ye.children[pe];return new Ce(ye.segments.concat(Ae.segments),Ae.children)}return ye}(new Ce(ye.segments,Ae))}function dt(ye){return ye instanceof Ze}function $n(ye,Ae,ue,Le,tt){var kt;if(0===ue.length)return mi(Ae.root,Ae.root,Ae.root,Le,tt);const on=function Wi(ye){if("string"==typeof ye[0]&&1===ye.length&&"/"===ye[0])return new Mi(!0,0,ye);let Ae=0,ue=!1;const Le=ye.reduce((tt,kt,$t)=>{if("object"==typeof kt&&null!=kt){if(kt.outlets){const on={};return ut(kt.outlets,(An,ni)=>{on[ni]="string"==typeof An?An.split("/"):An}),[...tt,{outlets:on}]}if(kt.segmentPath)return[...tt,kt.segmentPath]}return"string"!=typeof kt?[...tt,kt]:0===$t?(kt.split("/").forEach((on,An)=>{0==An&&"."===on||(0==An&&""===on?ue=!0:".."===on?Ae++:""!=on&&tt.push(on))}),tt):[...tt,kt]},[]);return new Mi(ue,Ae,Le)}(ue);return on.toRoot()?mi(Ae.root,Ae.root,new Ce([],{}),Le,tt):function An(vi){var si;const Vi=function Gi(ye,Ae,ue,Le){if(ye.isAbsolute)return new wo(Ae.root,!0,0);if(-1===Le)return new wo(ue,ue===Ae.root,0);return function Eo(ye,Ae,ue){let Le=ye,tt=Ae,kt=ue;for(;kt>tt;){if(kt-=tt,Le=Le.parent,!Le)throw new e.vHH(4005,!1);tt=Le.segments.length}return new wo(Le,!1,tt-kt)}(ue,Le+(ti(ye.commands[0])?0:1),ye.numberOfDoubleDots)}(on,Ae,null===(si=ye.snapshot)||void 0===si?void 0:si._urlSegment,vi),so=Vi.processChildren?$i(Vi.segmentGroup,Vi.index,on.commands):Co(Vi.segmentGroup,Vi.index,on.commands);return mi(Ae.root,Vi.segmentGroup,so,Le,tt)}(null===(kt=ye.snapshot)||void 0===kt?void 0:kt._lastPathIndex)}function ti(ye){return"object"==typeof ye&&null!=ye&&!ye.outlets&&!ye.segmentPath}function li(ye){return"object"==typeof ye&&null!=ye&&ye.outlets}function mi(ye,Ae,ue,Le,tt){let $t,kt={};Le&&ut(Le,(An,ni)=>{kt[ni]=Array.isArray(An)?An.map(vi=>`${vi}`):`${An}`}),$t=ye===Ae?ue:oi(ye,Ae,ue);const on=Ye(Ee($t));return new Ze(on,kt,tt)}function oi(ye,Ae,ue){const Le={};return ut(ye.children,(tt,kt)=>{Le[kt]=tt===Ae?ue:oi(tt,Ae,ue)}),new Ce(ye.segments,Le)}class Mi{constructor(Ae,ue,Le){if(this.isAbsolute=Ae,this.numberOfDoubleDots=ue,this.commands=Le,Ae&&Le.length>0&&ti(Le[0]))throw new e.vHH(4003,!1);const tt=Le.find(li);if(tt&&tt!==jt(Le))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wo{constructor(Ae,ue,Le){this.segmentGroup=Ae,this.processChildren=ue,this.index=Le}}function Co(ye,Ae,ue){if(ye||(ye=new Ce([],{})),0===ye.segments.length&&ye.hasChildren())return $i(ye,Ae,ue);const Le=function is(ye,Ae,ue){let Le=0,tt=Ae;const kt={match:!1,pathIndex:0,commandIndex:0};for(;tt<ye.segments.length;){if(Le>=ue.length)return kt;const $t=ye.segments[tt],on=ue[Le];if(li(on))break;const An=`${on}`,ni=Le<ue.length-1?ue[Le+1]:null;if(tt>0&&void 0===An)break;if(An&&ni&&"object"==typeof ni&&void 0===ni.outlets){if(!Oo(An,ni,$t))return kt;Le+=2}else{if(!Oo(An,{},$t))return kt;Le++}tt++}return{match:!0,pathIndex:tt,commandIndex:Le}}(ye,Ae,ue),tt=ue.slice(Le.commandIndex);if(Le.match&&Le.pathIndex<ye.segments.length){const kt=new Ce(ye.segments.slice(0,Le.pathIndex),{});return kt.children[pe]=new Ce(ye.segments.slice(Le.pathIndex),ye.children),$i(kt,0,tt)}return Le.match&&0===tt.length?new Ce(ye.segments,{}):Le.match&&!ye.hasChildren()?us(ye,Ae,ue):Le.match?$i(ye,0,tt):us(ye,Ae,ue)}function $i(ye,Ae,ue){if(0===ue.length)return new Ce(ye.segments,{});{const Le=function Yo(ye){return li(ye[0])?ye[0].outlets:{[pe]:ye}}(ue),tt={};return ut(Le,(kt,$t)=>{"string"==typeof kt&&(kt=[kt]),null!==kt&&(tt[$t]=Co(ye.children[$t],Ae,kt))}),ut(ye.children,(kt,$t)=>{void 0===Le[$t]&&(tt[$t]=kt)}),new Ce(ye.segments,tt)}}function us(ye,Ae,ue){const Le=ye.segments.slice(0,Ae);let tt=0;for(;tt<ue.length;){const kt=ue[tt];if(li(kt)){const An=_s(kt.outlets);return new Ce(Le,An)}if(0===tt&&ti(ue[0])){Le.push(new ft(ye.segments[Ae].path,fo(ue[0]))),tt++;continue}const $t=li(kt)?kt.outlets[pe]:`${kt}`,on=tt<ue.length-1?ue[tt+1]:null;$t&&on&&ti(on)?(Le.push(new ft($t,fo(on))),tt+=2):(Le.push(new ft($t,{})),tt++)}return new Ce(Le,{})}function _s(ye){const Ae={};return ut(ye,(ue,Le)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(Ae[Le]=us(new Ce([],{}),0,ue))}),Ae}function fo(ye){const Ae={};return ut(ye,(ue,Le)=>Ae[Le]=`${ue}`),Ae}function Oo(ye,Ae,ue){return ye==ue.path&&Dt(Ae,ue.parameters)}class Ti{constructor(Ae,ue){this.id=Ae,this.url=ue}}class Ks extends Ti{constructor(Ae,ue,Le="imperative",tt=null){super(Ae,ue),this.type=0,this.navigationTrigger=Le,this.restoredState=tt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ds extends Ti{constructor(Ae,ue,Le){super(Ae,ue),this.urlAfterRedirects=Le,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mo extends Ti{constructor(Ae,ue,Le,tt){super(Ae,ue),this.reason=Le,this.code=tt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qo extends Ti{constructor(Ae,ue,Le,tt){super(Ae,ue),this.error=Le,this.target=tt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class As extends Ti{constructor(Ae,ue,Le,tt){super(Ae,ue),this.urlAfterRedirects=Le,this.state=tt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls extends Ti{constructor(Ae,ue,Le,tt){super(Ae,ue),this.urlAfterRedirects=Le,this.state=tt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends Ti{constructor(Ae,ue,Le,tt,kt){super(Ae,ue),this.urlAfterRedirects=Le,this.state=tt,this.shouldActivate=kt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ps extends Ti{constructor(Ae,ue,Le,tt){super(Ae,ue),this.urlAfterRedirects=Le,this.state=tt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Ti{constructor(Ae,ue,Le,tt){super(Ae,ue),this.urlAfterRedirects=Le,this.state=tt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Da{constructor(Ae){this.route=Ae,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hr{constructor(Ae){this.route=Ae,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hr{constructor(Ae){this.snapshot=Ae,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(Ae){this.snapshot=Ae,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(Ae){this.snapshot=Ae,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(Ae){this.snapshot=Ae,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(Ae,ue,Le){this.routerEvent=Ae,this.position=ue,this.anchor=Le,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vr{constructor(Ae){this._root=Ae}get root(){return this._root.value}parent(Ae){const ue=this.pathFromRoot(Ae);return ue.length>1?ue[ue.length-2]:null}children(Ae){const ue=ws(Ae,this._root);return ue?ue.children.map(Le=>Le.value):[]}firstChild(Ae){const ue=ws(Ae,this._root);return ue&&ue.children.length>0?ue.children[0].value:null}siblings(Ae){const ue=Es(Ae,this._root);return ue.length<2?[]:ue[ue.length-2].children.map(tt=>tt.value).filter(tt=>tt!==Ae)}pathFromRoot(Ae){return Es(Ae,this._root).map(ue=>ue.value)}}function ws(ye,Ae){if(ye===Ae.value)return Ae;for(const ue of Ae.children){const Le=ws(ye,ue);if(Le)return Le}return null}function Es(ye,Ae){if(ye===Ae.value)return[Ae];for(const ue of Ae.children){const Le=Es(ye,ue);if(Le.length)return Le.unshift(Ae),Le}return[]}class jo{constructor(Ae,ue){this.value=Ae,this.children=ue}toString(){return`TreeNode(${this.value})`}}function sr(ye){const Ae={};return ye&&ye.children.forEach(ue=>Ae[ue.value.outlet]=ue),Ae}class os extends Vr{constructor(Ae,ue){super(Ae),this.snapshot=ue,Mr(this,Ae)}toString(){return this.snapshot.toString()}}function Cs(ye,Ae){const ue=function zr(ye,Ae){const $t=new rr([],{},{},"",{},pe,Ae,null,ye.root,-1,{});return new fr("",new jo($t,[]))}(ye,Ae),Le=new p.X([new ft("",{})]),tt=new p.X({}),kt=new p.X({}),$t=new p.X({}),on=new p.X(""),An=new Yi(Le,tt,$t,on,kt,pe,Ae,ue.root);return An.snapshot=ue.root,new os(new jo(An,[]),ue)}class Yi{constructor(Ae,ue,Le,tt,kt,$t,on,An){var ni,vi;this.url=Ae,this.params=ue,this.queryParams=Le,this.fragment=tt,this.data=kt,this.outlet=$t,this.component=on,this.title=null!==(vi=null===(ni=this.data)||void 0===ni?void 0:ni.pipe((0,K.U)(si=>si[_e])))&&void 0!==vi?vi:(0,u.of)(void 0),this._futureSnapshot=An}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,K.U)(Ae=>ct(Ae)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,K.U)(Ae=>ct(Ae)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gr(ye,Ae="emptyOnly"){const ue=ye.pathFromRoot;let Le=0;if("always"!==Ae)for(Le=ue.length-1;Le>=1;){const tt=ue[Le],kt=ue[Le-1];if(tt.routeConfig&&""===tt.routeConfig.path)Le--;else{if(kt.component)break;Le--}}return function $s(ye){return ye.reduce((Ae,ue)=>{var Le;return{params:Object.assign(Object.assign({},Ae.params),ue.params),data:Object.assign(Object.assign({},Ae.data),ue.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},ue.data),Ae.resolve),null===(Le=ue.routeConfig)||void 0===Le?void 0:Le.data),ue._resolvedData)}},{params:{},data:{},resolve:{}})}(ue.slice(Le))}class rr{constructor(Ae,ue,Le,tt,kt,$t,on,An,ni,vi,si,Vi){var so;this.url=Ae,this.params=ue,this.queryParams=Le,this.fragment=tt,this.data=kt,this.outlet=$t,this.component=on,this.title=null===(so=this.data)||void 0===so?void 0:so[_e],this.routeConfig=An,this._urlSegment=ni,this._lastPathIndex=vi,this._correctedLastPathIndex=null!=Vi?Vi:vi,this._resolve=si}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Le=>Le.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fr extends Vr{constructor(Ae,ue){super(ue),this.url=Ae,Mr(this,ue)}toString(){return vs(this._root)}}function Mr(ye,Ae){Ae.value._routerState=ye,Ae.children.forEach(ue=>Mr(ye,ue))}function vs(ye){const Ae=ye.children.length>0?` { ${ye.children.map(vs).join(", ")} } `:"";return`${ye.value}${Ae}`}function bs(ye){if(ye.snapshot){const Ae=ye.snapshot,ue=ye._futureSnapshot;ye.snapshot=ue,Dt(Ae.queryParams,ue.queryParams)||ye.queryParams.next(ue.queryParams),Ae.fragment!==ue.fragment&&ye.fragment.next(ue.fragment),Dt(Ae.params,ue.params)||ye.params.next(ue.params),function Zt(ye,Ae){if(ye.length!==Ae.length)return!1;for(let ue=0;ue<ye.length;++ue)if(!Dt(ye[ue],Ae[ue]))return!1;return!0}(Ae.url,ue.url)||ye.url.next(ue.url),Dt(Ae.data,ue.data)||ye.data.next(ue.data)}else ye.snapshot=ye._futureSnapshot,ye.data.next(ye._futureSnapshot.data)}function ys(ye,Ae){const ue=Dt(ye.params,Ae.params)&&function an(ye,Ae){return Tn(ye,Ae)&&ye.every((ue,Le)=>Dt(ue.parameters,Ae[Le].parameters))}(ye.url,Ae.url);return ue&&!(!ye.parent!=!Ae.parent)&&(!ye.parent||ys(ye.parent,Ae.parent))}function ks(ye,Ae,ue){if(ue&&ye.shouldReuseRoute(Ae.value,ue.value.snapshot)){const Le=ue.value;Le._futureSnapshot=Ae.value;const tt=function Vs(ye,Ae,ue){return Ae.children.map(Le=>{for(const tt of ue.children)if(ye.shouldReuseRoute(Le.value,tt.value.snapshot))return ks(ye,Le,tt);return ks(ye,Le)})}(ye,Ae,ue);return new jo(Le,tt)}{if(ye.shouldAttach(Ae.value)){const kt=ye.retrieve(Ae.value);if(null!==kt){const $t=kt.route;return $t.value._futureSnapshot=Ae.value,$t.children=Ae.children.map(on=>ks(ye,on)),$t}}const Le=function ia(ye){return new Yi(new p.X(ye.url),new p.X(ye.params),new p.X(ye.queryParams),new p.X(ye.fragment),new p.X(ye.data),ye.outlet,ye.component,ye)}(Ae.value),tt=Ae.children.map(kt=>ks(ye,kt));return new jo(Le,tt)}}const oa="ngNavigationCancelingError";function sa(ye,Ae){const{redirectTo:ue,navigationBehaviorOptions:Le}=dt(Ae)?{redirectTo:Ae,navigationBehaviorOptions:void 0}:Ae,tt=Jr(!1,0,Ae);return tt.url=ue,tt.navigationBehaviorOptions=Le,tt}function Jr(ye,Ae,ue){const Le=new Error("NavigationCancelingError: "+(ye||""));return Le[oa]=!0,Le.cancellationCode=Ae,ue&&(Le.url=ue),Le}function xs(ye){return _o(ye)&&dt(ye.url)}function _o(ye){return ye&&ye[oa]}class Or{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pr,this.attachRef=null}}let Pr=(()=>{class ye{constructor(){this.contexts=new Map}onChildOutletCreated(ue,Le){const tt=this.getOrCreateContext(ue);tt.outlet=Le,this.contexts.set(ue,tt)}onChildOutletDestroyed(ue){const Le=this.getContext(ue);Le&&(Le.outlet=null,Le.attachRef=null)}onOutletDeactivated(){const ue=this.contexts;return this.contexts=new Map,ue}onOutletReAttached(ue){this.contexts=ue}getOrCreateContext(ue){let Le=this.getContext(ue);return Le||(Le=new Or,this.contexts.set(ue,Le)),Le}getContext(ue){return this.contexts.get(ue)||null}}return ye.\u0275fac=function(ue){return new(ue||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const St=!1;let hn=(()=>{class ye{constructor(ue,Le,tt,kt,$t){this.parentContexts=ue,this.location=Le,this.changeDetector=kt,this.environmentInjector=$t,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=tt||pe,ue.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ue;(null===(ue=this.parentContexts.getContext(this.name))||void 0===ue?void 0:ue.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const ue=this.parentContexts.getContext(this.name);ue&&ue.route&&(ue.attachRef?this.attach(ue.attachRef,ue.route):this.activateWith(ue.route,ue.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,St);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,St);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,St);this.location.detach();const ue=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ue.instance),ue}attach(ue,Le){this.activated=ue,this._activatedRoute=Le,this.location.insert(ue.hostView),this.attachEvents.emit(ue.instance)}deactivate(){if(this.activated){const ue=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ue)}}activateWith(ue,Le){if(this.isActivated)throw new e.vHH(4013,St);this._activatedRoute=ue;const tt=this.location,$t=ue._futureSnapshot.component,on=this.parentContexts.getOrCreateContext(this.name).children,An=new ne(ue,on,tt.injector);if(Le&&function Ue(ye){return!!ye.resolveComponentFactory}(Le)){const ni=Le.resolveComponentFactory($t);this.activated=tt.createComponent(ni,tt.length,An)}else this.activated=tt.createComponent($t,{index:tt.length,injector:An,environmentInjector:null!=Le?Le:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.Y36(Pr),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},ye.\u0275dir=e.lG2({type:ye,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),ye})();class ne{constructor(Ae,ue,Le){this.route=Ae,this.childContexts=ue,this.parent=Le}get(Ae,ue){return Ae===Yi?this.route:Ae===Pr?this.childContexts:this.parent.get(Ae,ue)}}let At=(()=>{class ye{}return ye.\u0275fac=function(ue){return new(ue||ye)},ye.\u0275cmp=e.Xpm({type:ye,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(ue,Le){1&ue&&e._UZ(0,"router-outlet")},dependencies:[hn],encapsulation:2}),ye})();function Ht(ye,Ae){var ue;return ye.providers&&!ye._injector&&(ye._injector=(0,e.MMx)(ye.providers,Ae,`Route: ${ye.path}`)),null!==(ue=ye._injector)&&void 0!==ue?ue:Ae}function Qr(ye){const Ae=ye.children&&ye.children.map(Qr),ue=Ae?Object.assign(Object.assign({},ye),{children:Ae}):Object.assign({},ye);return!ue.component&&!ue.loadComponent&&(Ae||ue.loadChildren)&&ue.outlet&&ue.outlet!==pe&&(ue.component=At),ue}function xo(ye){return ye.outlet||pe}function vo(ye,Ae){const ue=ye.filter(Le=>xo(Le)===Ae);return ue.push(...ye.filter(Le=>xo(Le)!==Ae)),ue}function Ns(ye){var Ae;if(!ye)return null;if(null!==(Ae=ye.routeConfig)&&void 0!==Ae&&Ae._injector)return ye.routeConfig._injector;for(let ue=ye.parent;ue;ue=ue.parent){const Le=ue.routeConfig;if(null!=Le&&Le._loadedInjector)return Le._loadedInjector;if(null!=Le&&Le._injector)return Le._injector}return null}class Ia{constructor(Ae,ue,Le,tt){this.routeReuseStrategy=Ae,this.futureState=ue,this.currState=Le,this.forwardEvent=tt}activate(Ae){const ue=this.futureState._root,Le=this.currState?this.currState._root:null;this.deactivateChildRoutes(ue,Le,Ae),bs(this.futureState.root),this.activateChildRoutes(ue,Le,Ae)}deactivateChildRoutes(Ae,ue,Le){const tt=sr(ue);Ae.children.forEach(kt=>{const $t=kt.value.outlet;this.deactivateRoutes(kt,tt[$t],Le),delete tt[$t]}),ut(tt,(kt,$t)=>{this.deactivateRouteAndItsChildren(kt,Le)})}deactivateRoutes(Ae,ue,Le){const tt=Ae.value,kt=ue?ue.value:null;if(tt===kt)if(tt.component){const $t=Le.getContext(tt.outlet);$t&&this.deactivateChildRoutes(Ae,ue,$t.children)}else this.deactivateChildRoutes(Ae,ue,Le);else kt&&this.deactivateRouteAndItsChildren(ue,Le)}deactivateRouteAndItsChildren(Ae,ue){Ae.value.component&&this.routeReuseStrategy.shouldDetach(Ae.value.snapshot)?this.detachAndStoreRouteSubtree(Ae,ue):this.deactivateRouteAndOutlet(Ae,ue)}detachAndStoreRouteSubtree(Ae,ue){const Le=ue.getContext(Ae.value.outlet),tt=Le&&Ae.value.component?Le.children:ue,kt=sr(Ae);for(const $t of Object.keys(kt))this.deactivateRouteAndItsChildren(kt[$t],tt);if(Le&&Le.outlet){const $t=Le.outlet.detach(),on=Le.children.onOutletDeactivated();this.routeReuseStrategy.store(Ae.value.snapshot,{componentRef:$t,route:Ae,contexts:on})}}deactivateRouteAndOutlet(Ae,ue){const Le=ue.getContext(Ae.value.outlet),tt=Le&&Ae.value.component?Le.children:ue,kt=sr(Ae);for(const $t of Object.keys(kt))this.deactivateRouteAndItsChildren(kt[$t],tt);Le&&Le.outlet&&(Le.outlet.deactivate(),Le.children.onOutletDeactivated(),Le.attachRef=null,Le.resolver=null,Le.route=null)}activateChildRoutes(Ae,ue,Le){const tt=sr(ue);Ae.children.forEach(kt=>{this.activateRoutes(kt,tt[kt.value.outlet],Le),this.forwardEvent(new No(kt.value.snapshot))}),Ae.children.length&&this.forwardEvent(new Po(Ae.value.snapshot))}activateRoutes(Ae,ue,Le){var tt;const kt=Ae.value,$t=ue?ue.value:null;if(bs(kt),kt===$t)if(kt.component){const on=Le.getOrCreateContext(kt.outlet);this.activateChildRoutes(Ae,ue,on.children)}else this.activateChildRoutes(Ae,ue,Le);else if(kt.component){const on=Le.getOrCreateContext(kt.outlet);if(this.routeReuseStrategy.shouldAttach(kt.snapshot)){const An=this.routeReuseStrategy.retrieve(kt.snapshot);this.routeReuseStrategy.store(kt.snapshot,null),on.children.onOutletReAttached(An.contexts),on.attachRef=An.componentRef,on.route=An.route.value,on.outlet&&on.outlet.attach(An.componentRef,An.route.value),bs(An.route.value),this.activateChildRoutes(Ae,null,on.children)}else{const An=Ns(kt.snapshot),ni=null!==(tt=null==An?void 0:An.get(e._Vd))&&void 0!==tt?tt:null;on.attachRef=null,on.route=kt,on.resolver=ni,on.injector=An,on.outlet&&on.outlet.activateWith(kt,on.injector),this.activateChildRoutes(Ae,null,on.children)}}else this.activateChildRoutes(Ae,null,Le)}}class mr{constructor(Ae){this.path=Ae,this.route=this.path[this.path.length-1]}}class Gr{constructor(Ae,ue){this.component=Ae,this.route=ue}}function Vo(ye,Ae,ue){const Le=ye._root;return qs(Le,Ae?Ae._root:null,ue,[Le.value])}function as(ye,Ae){const ue=Symbol(),Le=Ae.get(ye,ue);return Le===ue?"function"!=typeof ye||(0,e.Z0I)(ye)?Ae.get(ye):ye:Le}function qs(ye,Ae,ue,Le,tt={canDeactivateChecks:[],canActivateChecks:[]}){const kt=sr(Ae);return ye.children.forEach($t=>{(function ra(ye,Ae,ue,Le,tt={canDeactivateChecks:[],canActivateChecks:[]}){const kt=ye.value,$t=Ae?Ae.value:null,on=ue?ue.getContext(ye.value.outlet):null;if($t&&kt.routeConfig===$t.routeConfig){const An=function Qn(ye,Ae,ue){if("function"==typeof ue)return ue(ye,Ae);switch(ue){case"pathParamsChange":return!Tn(ye.url,Ae.url);case"pathParamsOrQueryParamsChange":return!Tn(ye.url,Ae.url)||!Dt(ye.queryParams,Ae.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(ye,Ae)||!Dt(ye.queryParams,Ae.queryParams);default:return!ys(ye,Ae)}}($t,kt,kt.routeConfig.runGuardsAndResolvers);An?tt.canActivateChecks.push(new mr(Le)):(kt.data=$t.data,kt._resolvedData=$t._resolvedData),qs(ye,Ae,kt.component?on?on.children:null:ue,Le,tt),An&&on&&on.outlet&&on.outlet.isActivated&&tt.canDeactivateChecks.push(new Gr(on.outlet.component,$t))}else $t&&Oi(Ae,on,tt),tt.canActivateChecks.push(new mr(Le)),qs(ye,null,kt.component?on?on.children:null:ue,Le,tt)})($t,kt[$t.value.outlet],ue,Le.concat([$t.value]),tt),delete kt[$t.value.outlet]}),ut(kt,($t,on)=>Oi($t,ue.getContext(on),tt)),tt}function Oi(ye,Ae,ue){const Le=sr(ye),tt=ye.value;ut(Le,(kt,$t)=>{Oi(kt,tt.component?Ae?Ae.children.getContext($t):null:Ae,ue)}),ue.canDeactivateChecks.push(new Gr(tt.component&&Ae&&Ae.outlet&&Ae.outlet.isActivated?Ae.outlet.component:null,tt))}function ro(ye){return"function"==typeof ye}function aa(ye){return ye instanceof x.K||"EmptyError"===(null==ye?void 0:ye.name)}const st=Symbol("INITIAL_VALUE");function ze(){return(0,H.w)(ye=>(0,R.a)(ye.map(Ae=>Ae.pipe((0,D.q)(1),(0,P.O)(st)))).pipe((0,K.U)(Ae=>{for(const ue of Ae)if(!0!==ue){if(ue===st)return st;if(!1===ue||ue instanceof Ze)return ue}return!0}),(0,Y.h)(Ae=>Ae!==st),(0,D.q)(1)))}function vr(ye){return(0,F.z)((0,ie.b)(Ae=>{if(dt(Ae))throw sa(0,Ae)}),(0,K.U)(Ae=>!0===Ae))}const br={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wr(ye,Ae,ue,Le,tt){const kt=Ms(ye,Ae,ue);return kt.matched?function Lr(ye,Ae,ue,Le){const tt=Ae.canMatch;if(!tt||0===tt.length)return(0,u.of)(!0);const kt=tt.map($t=>{const on=as($t,ye);return xe(function Ta(ye){return ye&&ro(ye.canMatch)}(on)?on.canMatch(Ae,ue):ye.runInContext(()=>on(Ae,ue)))});return(0,u.of)(kt).pipe(ze(),vr())}(Le=Ht(Ae,Le),Ae,ue).pipe((0,K.U)($t=>!0===$t?kt:Object.assign({},br))):(0,u.of)(kt)}function Ms(ye,Ae,ue){var Le;if(""===Ae.path)return"full"===Ae.pathMatch&&(ye.hasChildren()||ue.length>0)?Object.assign({},br):{matched:!0,consumedSegments:[],remainingSegments:ue,parameters:{},positionalParamSegments:{}};const kt=(Ae.matcher||ot)(ue,ye,Ae);if(!kt)return Object.assign({},br);const $t={};ut(kt.posParams,(An,ni)=>{$t[ni]=An.path});const on=kt.consumed.length>0?Object.assign(Object.assign({},$t),kt.consumed[kt.consumed.length-1].parameters):$t;return{matched:!0,consumedSegments:kt.consumed,remainingSegments:ue.slice(kt.consumed.length),parameters:on,positionalParamSegments:null!==(Le=kt.posParams)&&void 0!==Le?Le:{}}}function zo(ye,Ae,ue,Le,tt="corrected"){if(ue.length>0&&function Ka(ye,Ae,ue){return ue.some(Le=>Fe(ye,Ae,Le)&&xo(Le)!==pe)}(ye,ue,Le)){const $t=new Ce(Ae,function Aa(ye,Ae,ue,Le){const tt={};tt[pe]=Le,Le._sourceSegment=ye,Le._segmentIndexShift=Ae.length;for(const kt of ue)if(""===kt.path&&xo(kt)!==pe){const $t=new Ce([],{});$t._sourceSegment=ye,$t._segmentIndexShift=Ae.length,tt[xo(kt)]=$t}return tt}(ye,Ae,Le,new Ce(ue,ye.children)));return $t._sourceSegment=ye,$t._segmentIndexShift=Ae.length,{segmentGroup:$t,slicedSegments:[]}}if(0===ue.length&&function pl(ye,Ae,ue){return ue.some(Le=>Fe(ye,Ae,Le))}(ye,ue,Le)){const $t=new Ce(ye.segments,function yr(ye,Ae,ue,Le,tt,kt){const $t={};for(const on of Le)if(Fe(ye,ue,on)&&!tt[xo(on)]){const An=new Ce([],{});An._sourceSegment=ye,An._segmentIndexShift="legacy"===kt?ye.segments.length:Ae.length,$t[xo(on)]=An}return Object.assign(Object.assign({},tt),$t)}(ye,Ae,ue,Le,ye.children,tt));return $t._sourceSegment=ye,$t._segmentIndexShift=Ae.length,{segmentGroup:$t,slicedSegments:ue}}const kt=new Ce(ye.segments,ye.children);return kt._sourceSegment=ye,kt._segmentIndexShift=Ae.length,{segmentGroup:kt,slicedSegments:ue}}function Fe(ye,Ae,ue){return(!(ye.hasChildren()||Ae.length>0)||"full"!==ue.pathMatch)&&""===ue.path}function mt(ye,Ae,ue,Le){return!!(xo(ye)===Le||Le!==pe&&Fe(Ae,ue,ye))&&("**"===ye.path||Ms(Ae,ye,ue).matched)}function Ge(ye,Ae,ue){return 0===Ae.length&&!ye.children[ue]}const Mt=!1;class tn{constructor(Ae){this.segmentGroup=Ae||null}}class Mn{constructor(Ae){this.urlTree=Ae}}function Nn(ye){return(0,O._)(new tn(ye))}function ci(ye){return(0,O._)(new Mn(ye))}class Ji{constructor(Ae,ue,Le,tt,kt){this.injector=Ae,this.configLoader=ue,this.urlSerializer=Le,this.urlTree=tt,this.config=kt,this.allowRedirects=!0}apply(){const Ae=zo(this.urlTree.root,[],[],this.config).segmentGroup,ue=new Ce(Ae.segments,Ae.children);return this.expandSegmentGroup(this.injector,this.config,ue,pe).pipe((0,K.U)(kt=>this.createUrlTree(Ee(kt),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Te.K)(kt=>{if(kt instanceof Mn)return this.allowRedirects=!1,this.match(kt.urlTree);throw kt instanceof tn?this.noMatchError(kt):kt}))}match(Ae){return this.expandSegmentGroup(this.injector,this.config,Ae.root,pe).pipe((0,K.U)(tt=>this.createUrlTree(Ee(tt),Ae.queryParams,Ae.fragment))).pipe((0,Te.K)(tt=>{throw tt instanceof tn?this.noMatchError(tt):tt}))}noMatchError(Ae){return new e.vHH(4002,Mt)}createUrlTree(Ae,ue,Le){const tt=Ye(Ae);return new Ze(tt,ue,Le)}expandSegmentGroup(Ae,ue,Le,tt){return 0===Le.segments.length&&Le.hasChildren()?this.expandChildren(Ae,ue,Le).pipe((0,K.U)(kt=>new Ce([],kt))):this.expandSegment(Ae,Le,ue,Le.segments,tt,!0)}expandChildren(Ae,ue,Le){const tt=[];for(const kt of Object.keys(Le.children))"primary"===kt?tt.unshift(kt):tt.push(kt);return(0,d.D)(tt).pipe((0,G.b)(kt=>{const $t=Le.children[kt],on=vo(ue,kt);return this.expandSegmentGroup(Ae,on,$t,kt).pipe((0,K.U)(An=>({segment:An,outlet:kt})))}),de((kt,$t)=>(kt[$t.outlet]=$t.segment,kt),{}),be())}expandSegment(Ae,ue,Le,tt,kt,$t){return(0,d.D)(Le).pipe((0,G.b)(on=>this.expandSegmentAgainstRoute(Ae,ue,Le,on,tt,kt,$t).pipe((0,Te.K)(ni=>{if(ni instanceof tn)return(0,u.of)(null);throw ni}))),(0,j.P)(on=>!!on),(0,Te.K)((on,An)=>{if(aa(on))return Ge(ue,tt,kt)?(0,u.of)(new Ce([],{})):Nn(ue);throw on}))}expandSegmentAgainstRoute(Ae,ue,Le,tt,kt,$t,on){return mt(tt,ue,kt,$t)?void 0===tt.redirectTo?this.matchSegmentAgainstRoute(Ae,ue,tt,kt,$t):on&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Ae,ue,Le,tt,kt,$t):Nn(ue):Nn(ue)}expandSegmentAgainstRouteUsingRedirect(Ae,ue,Le,tt,kt,$t){return"**"===tt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Ae,Le,tt,$t):this.expandRegularSegmentAgainstRouteUsingRedirect(Ae,ue,Le,tt,kt,$t)}expandWildCardWithParamsAgainstRouteUsingRedirect(Ae,ue,Le,tt){const kt=this.applyRedirectCommands([],Le.redirectTo,{});return Le.redirectTo.startsWith("/")?ci(kt):this.lineralizeSegments(Le,kt).pipe((0,re.z)($t=>{const on=new Ce($t,{});return this.expandSegment(Ae,on,ue,$t,tt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Ae,ue,Le,tt,kt,$t){const{matched:on,consumedSegments:An,remainingSegments:ni,positionalParamSegments:vi}=Ms(ue,tt,kt);if(!on)return Nn(ue);const si=this.applyRedirectCommands(An,tt.redirectTo,vi);return tt.redirectTo.startsWith("/")?ci(si):this.lineralizeSegments(tt,si).pipe((0,re.z)(Vi=>this.expandSegment(Ae,ue,Le,Vi.concat(ni),$t,!1)))}matchSegmentAgainstRoute(Ae,ue,Le,tt,kt){return"**"===Le.path?(Ae=Ht(Le,Ae),Le.loadChildren?(Le._loadedRoutes?(0,u.of)({routes:Le._loadedRoutes,injector:Le._loadedInjector}):this.configLoader.loadChildren(Ae,Le)).pipe((0,K.U)(on=>(Le._loadedRoutes=on.routes,Le._loadedInjector=on.injector,new Ce(tt,{})))):(0,u.of)(new Ce(tt,{}))):Wr(ue,Le,tt,Ae).pipe((0,H.w)(({matched:$t,consumedSegments:on,remainingSegments:An})=>{var ni;return $t?(Ae=null!==(ni=Le._injector)&&void 0!==ni?ni:Ae,this.getChildConfig(Ae,Le,tt).pipe((0,re.z)(si=>{var Vi;const so=null!==(Vi=si.injector)&&void 0!==Vi?Vi:Ae,Ys=si.routes,{segmentGroup:Kr,slicedSegments:ua}=zo(ue,on,An,Ys),$r=new Ce(Kr.segments,Kr.children);if(0===ua.length&&$r.hasChildren())return this.expandChildren(so,Ys,$r).pipe((0,K.U)(nl=>new Ce(on,nl)));if(0===Ys.length&&0===ua.length)return(0,u.of)(new Ce(on,{}));const da=xo(Le)===kt;return this.expandSegment(so,$r,Ys,ua,da?pe:kt,!0).pipe((0,K.U)(wr=>new Ce(on.concat(wr.segments),wr.children)))}))):Nn(ue)}))}getChildConfig(Ae,ue,Le){return ue.children?(0,u.of)({routes:ue.children,injector:Ae}):ue.loadChildren?void 0!==ue._loadedRoutes?(0,u.of)({routes:ue._loadedRoutes,injector:ue._loadedInjector}):function Xs(ye,Ae,ue,Le){const tt=Ae.canLoad;if(void 0===tt||0===tt.length)return(0,u.of)(!0);const kt=tt.map($t=>{const on=as($t,ye);return xe(function qi(ye){return ye&&ro(ye.canLoad)}(on)?on.canLoad(Ae,ue):ye.runInContext(()=>on(Ae,ue)))});return(0,u.of)(kt).pipe(ze(),vr())}(Ae,ue,Le).pipe((0,re.z)(tt=>tt?this.configLoader.loadChildren(Ae,ue).pipe((0,ie.b)(kt=>{ue._loadedRoutes=kt.routes,ue._loadedInjector=kt.injector})):function ao(ye){return(0,O._)(Jr(Mt,3))}())):(0,u.of)({routes:[],injector:Ae})}lineralizeSegments(Ae,ue){let Le=[],tt=ue.root;for(;;){if(Le=Le.concat(tt.segments),0===tt.numberOfChildren)return(0,u.of)(Le);if(tt.numberOfChildren>1||!tt.children[pe])return(0,O._)(new e.vHH(4e3,Mt));tt=tt.children[pe]}}applyRedirectCommands(Ae,ue,Le){return this.applyRedirectCreateUrlTree(ue,this.urlSerializer.parse(ue),Ae,Le)}applyRedirectCreateUrlTree(Ae,ue,Le,tt){const kt=this.createSegmentGroup(Ae,ue.root,Le,tt);return new Ze(kt,this.createQueryParams(ue.queryParams,this.urlTree.queryParams),ue.fragment)}createQueryParams(Ae,ue){const Le={};return ut(Ae,(tt,kt)=>{if("string"==typeof tt&&tt.startsWith(":")){const on=tt.substring(1);Le[kt]=ue[on]}else Le[kt]=tt}),Le}createSegmentGroup(Ae,ue,Le,tt){const kt=this.createSegments(Ae,ue.segments,Le,tt);let $t={};return ut(ue.children,(on,An)=>{$t[An]=this.createSegmentGroup(Ae,on,Le,tt)}),new Ce(kt,$t)}createSegments(Ae,ue,Le,tt){return ue.map(kt=>kt.path.startsWith(":")?this.findPosParam(Ae,kt,tt):this.findOrReturn(kt,Le))}findPosParam(Ae,ue,Le){const tt=Le[ue.path.substring(1)];if(!tt)throw new e.vHH(4001,Mt);return tt}findOrReturn(Ae,ue){let Le=0;for(const tt of ue){if(tt.path===Ae.path)return ue.splice(Le),tt;Le++}return Ae}}class Jo{}class hs{constructor(Ae,ue,Le,tt,kt,$t,on,An){this.injector=Ae,this.rootComponentType=ue,this.config=Le,this.urlTree=tt,this.url=kt,this.paramsInheritanceStrategy=$t,this.relativeLinkResolution=on,this.urlSerializer=An}recognize(){const Ae=zo(this.urlTree.root,[],[],this.config.filter(ue=>void 0===ue.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Ae,pe).pipe((0,K.U)(ue=>{if(null===ue)return null;const Le=new rr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),tt=new jo(Le,ue),kt=new fr(this.url,tt);return this.inheritParamsAndData(kt._root),kt}))}inheritParamsAndData(Ae){const ue=Ae.value,Le=gr(ue,this.paramsInheritanceStrategy);ue.params=Object.freeze(Le.params),ue.data=Object.freeze(Le.data),Ae.children.forEach(tt=>this.inheritParamsAndData(tt))}processSegmentGroup(Ae,ue,Le,tt){return 0===Le.segments.length&&Le.hasChildren()?this.processChildren(Ae,ue,Le):this.processSegment(Ae,ue,Le,Le.segments,tt)}processChildren(Ae,ue,Le){return(0,d.D)(Object.keys(Le.children)).pipe((0,G.b)(tt=>{const kt=Le.children[tt],$t=vo(ue,tt);return this.processSegmentGroup(Ae,$t,kt,tt)}),de((tt,kt)=>tt&&kt?(tt.push(...kt),tt):null),(0,Be.o)(tt=>null!==tt),(0,J.d)(null),be(),(0,K.U)(tt=>{if(null===tt)return null;const kt=ge(tt);return function ar(ye){ye.sort((Ae,ue)=>Ae.value.outlet===pe?-1:ue.value.outlet===pe?1:Ae.value.outlet.localeCompare(ue.value.outlet))}(kt),kt}))}processSegment(Ae,ue,Le,tt,kt){return(0,d.D)(ue).pipe((0,G.b)($t=>{var on;return this.processSegmentAgainstRoute(null!==(on=$t._injector)&&void 0!==on?on:Ae,$t,Le,tt,kt)}),(0,j.P)($t=>!!$t),(0,Te.K)($t=>{if(aa($t))return Ge(Le,tt,kt)?(0,u.of)([]):(0,u.of)(null);throw $t}))}processSegmentAgainstRoute(Ae,ue,Le,tt,kt){var $t,on;if(ue.redirectTo||!mt(ue,Le,tt,kt))return(0,u.of)(null);let An;if("**"===ue.path){const ni=tt.length>0?jt(tt).parameters:{},vi=zt(Le)+tt.length,si=new rr(tt,ni,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mn(ue),xo(ue),null!==(on=null!==($t=ue.component)&&void 0!==$t?$t:ue._loadedComponent)&&void 0!==on?on:null,ue,It(Le),vi,Sn(ue),vi);An=(0,u.of)({snapshot:si,consumedSegments:[],remainingSegments:[]})}else An=Wr(Le,ue,tt,Ae).pipe((0,K.U)(({matched:ni,consumedSegments:vi,remainingSegments:si,parameters:Vi})=>{var so,Ys;if(!ni)return null;const Kr=zt(Le)+vi.length;return{snapshot:new rr(vi,Vi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mn(ue),xo(ue),null!==(Ys=null!==(so=ue.component)&&void 0!==so?so:ue._loadedComponent)&&void 0!==Ys?Ys:null,ue,It(Le),Kr,Sn(ue),Kr),consumedSegments:vi,remainingSegments:si}}));return An.pipe((0,H.w)(ni=>{var vi,si;if(null===ni)return(0,u.of)(null);const{snapshot:Vi,consumedSegments:so,remainingSegments:Ys}=ni;Ae=null!==(vi=ue._injector)&&void 0!==vi?vi:Ae;const Kr=null!==(si=ue._loadedInjector)&&void 0!==si?si:Ae,ua=function vt(ye){return ye.children?ye.children:ye.loadChildren?ye._loadedRoutes:[]}(ue),{segmentGroup:$r,slicedSegments:da}=zo(Le,so,Ys,ua.filter(wr=>void 0===wr.redirectTo),this.relativeLinkResolution);if(0===da.length&&$r.hasChildren())return this.processChildren(Kr,ua,$r).pipe((0,K.U)(wr=>null===wr?null:[new jo(Vi,wr)]));if(0===ua.length&&0===da.length)return(0,u.of)([new jo(Vi,[])]);const Oc=xo(ue)===kt;return this.processSegment(Kr,ua,$r,da,Oc?pe:kt).pipe((0,K.U)(wr=>null===wr?null:[new jo(Vi,wr)]))}))}}function le(ye){const Ae=ye.value.routeConfig;return Ae&&""===Ae.path&&void 0===Ae.redirectTo}function ge(ye){const Ae=[],ue=new Set;for(const Le of ye){if(!le(Le)){Ae.push(Le);continue}const tt=Ae.find(kt=>Le.value.routeConfig===kt.value.routeConfig);void 0!==tt?(tt.children.push(...Le.children),ue.add(tt)):Ae.push(Le)}for(const Le of ue){const tt=ge(Le.children);Ae.push(new jo(Le.value,tt))}return Ae.filter(Le=>!ue.has(Le))}function It(ye){let Ae=ye;for(;Ae._sourceSegment;)Ae=Ae._sourceSegment;return Ae}function zt(ye){var Ae,ue;let Le=ye,tt=null!==(Ae=Le._segmentIndexShift)&&void 0!==Ae?Ae:0;for(;Le._sourceSegment;)Le=Le._sourceSegment,tt+=null!==(ue=Le._segmentIndexShift)&&void 0!==ue?ue:0;return tt-1}function mn(ye){return ye.data||{}}function Sn(ye){return ye.resolve||{}}function cn(ye){return"string"==typeof ye.title||null===ye.title}function wn(ye){return(0,H.w)(Ae=>{const ue=ye(Ae);return ue?(0,d.D)(ue).pipe((0,K.U)(()=>Ae)):(0,u.of)(Ae)})}let Pn=(()=>{class ye{buildTitle(ue){var Le;let tt,kt=ue.root;for(;void 0!==kt;)tt=null!==(Le=this.getResolvedTitleForRoute(kt))&&void 0!==Le?Le:tt,kt=kt.children.find($t=>$t.outlet===pe);return tt}getResolvedTitleForRoute(ue){return ue.data[_e]}}return ye.\u0275fac=function(ue){return new(ue||ye)},ye.\u0275prov=e.Yz7({token:ye,factory:function(){return(0,e.f3M)(Xn)},providedIn:"root"}),ye})(),Xn=(()=>{class ye extends Pn{constructor(ue){super(),this.title=ue}updateTitle(ue){const Le=this.buildTitle(ue);void 0!==Le&&this.title.setTitle(Le)}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.LFG(q.Dx))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();class Ai{}class Xo extends class bo{shouldDetach(Ae){return!1}store(Ae,ue){}shouldAttach(Ae){return!1}retrieve(Ae){return null}shouldReuseRoute(Ae,ue){return Ae.routeConfig===ue.routeConfig}}{}const uo=new e.OlP("",{providedIn:"root",factory:()=>({})}),Zo=new e.OlP("ROUTES");let xr=(()=>{class ye{constructor(ue,Le){this.injector=ue,this.compiler=Le,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(ue){if(this.componentLoaders.get(ue))return this.componentLoaders.get(ue);if(ue._loadedComponent)return(0,u.of)(ue._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ue);const Le=xe(ue.loadComponent()).pipe((0,ie.b)(kt=>{this.onLoadEndListener&&this.onLoadEndListener(ue),ue._loadedComponent=kt}),(0,ke.x)(()=>{this.componentLoaders.delete(ue)})),tt=new V(Le,()=>new U.x).pipe(k());return this.componentLoaders.set(ue,tt),tt}loadChildren(ue,Le){if(this.childrenLoaders.get(Le))return this.childrenLoaders.get(Le);if(Le._loadedRoutes)return(0,u.of)({routes:Le._loadedRoutes,injector:Le._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Le);const kt=this.loadModuleFactoryOrRoutes(Le.loadChildren).pipe((0,K.U)(on=>{this.onLoadEndListener&&this.onLoadEndListener(Le);let An,ni,vi=!1;Array.isArray(on)?ni=on:(An=on.create(ue).injector,ni=Xt(An.get(Zo,[],e.XFs.Self|e.XFs.Optional)));return{routes:ni.map(Qr),injector:An}}),(0,ke.x)(()=>{this.childrenLoaders.delete(Le)})),$t=new V(kt,()=>new U.x).pipe(k());return this.childrenLoaders.set(Le,$t),$t}loadModuleFactoryOrRoutes(ue){return xe(ue()).pipe((0,re.z)(Le=>Le instanceof e.YKP||Array.isArray(Le)?(0,u.of)(Le):(0,d.D)(this.compiler.compileModuleAsync(Le))))}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.LFG(e.zs3),e.LFG(e.Sil))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();class la{}class Yr{shouldProcessUrl(Ae){return!0}extract(Ae){return Ae}merge(Ae,ue){return Ae}}function za(ye){throw ye}function xi(ye,Ae,ue){return Ae.parse("/")}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Qo(){var ye,Ae;const ue=(0,e.f3M)(xt),Le=(0,e.f3M)(Pr),tt=(0,e.f3M)(oe.Ye),kt=(0,e.f3M)(e.zs3),$t=(0,e.f3M)(e.Sil),on=null!==(ye=(0,e.f3M)(Zo,{optional:!0}))&&void 0!==ye?ye:[],An=null!==(Ae=(0,e.f3M)(uo,{optional:!0}))&&void 0!==Ae?Ae:{},ni=(0,e.f3M)(Xn),vi=(0,e.f3M)(Pn,{optional:!0}),si=(0,e.f3M)(la,{optional:!0}),Vi=(0,e.f3M)(Ai,{optional:!0}),so=new So(null,ue,Le,tt,kt,$t,Xt(on));return si&&(so.urlHandlingStrategy=si),Vi&&(so.routeReuseStrategy=Vi),so.titleStrategy=null!=vi?vi:ni,function eo(ye,Ae){ye.errorHandler&&(Ae.errorHandler=ye.errorHandler),ye.malformedUriErrorHandler&&(Ae.malformedUriErrorHandler=ye.malformedUriErrorHandler),ye.onSameUrlNavigation&&(Ae.onSameUrlNavigation=ye.onSameUrlNavigation),ye.paramsInheritanceStrategy&&(Ae.paramsInheritanceStrategy=ye.paramsInheritanceStrategy),ye.relativeLinkResolution&&(Ae.relativeLinkResolution=ye.relativeLinkResolution),ye.urlUpdateStrategy&&(Ae.urlUpdateStrategy=ye.urlUpdateStrategy),ye.canceledNavigationResolution&&(Ae.canceledNavigationResolution=ye.canceledNavigationResolution)}(An,so),so}let So=(()=>{class ye{constructor(ue,Le,tt,kt,$t,on,An){this.rootComponentType=ue,this.urlSerializer=Le,this.rootContexts=tt,this.location=kt,this.config=An,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new U.x,this.errorHandler=za,this.malformedUriErrorHandler=xi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,u.of)(void 0),this.urlHandlingStrategy=new Yr,this.routeReuseStrategy=new Xo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=$t.get(xr),this.configLoader.onLoadEndListener=Vi=>this.triggerEvent(new Hr(Vi)),this.configLoader.onLoadStartListener=Vi=>this.triggerEvent(new Da(Vi)),this.ngModule=$t.get(e.h0i),this.console=$t.get(e.c2e);const si=$t.get(e.R0b);this.isNgZoneEnabled=si instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(An),this.currentUrlTree=function We(){return new Ze(new Ce([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cs(this.currentUrlTree,this.rootComponentType),this.transitions=new p.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var ue;return null===(ue=this.location.getState())||void 0===ue?void 0:ue.\u0275routerPageId}setupNavigations(ue){const Le=this.events;return ue.pipe((0,Y.h)(tt=>0!==tt.id),(0,K.U)(tt=>Object.assign(Object.assign({},tt),{extractedUrl:this.urlHandlingStrategy.extract(tt.rawUrl)})),(0,H.w)(tt=>{let kt=!1,$t=!1;return(0,u.of)(tt).pipe((0,ie.b)(on=>{this.currentNavigation={id:on.id,initialUrl:on.rawUrl,extractedUrl:on.extractedUrl,trigger:on.source,extras:on.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,H.w)(on=>{const An=this.browserUrlTree.toString(),ni=!this.navigated||on.extractedUrl.toString()!==An||An!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ni)&&this.urlHandlingStrategy.shouldProcessUrl(on.rawUrl))return Ir(on.source)&&(this.browserUrlTree=on.extractedUrl),(0,u.of)(on).pipe((0,H.w)(si=>{const Vi=this.transitions.getValue();return Le.next(new Ks(si.id,this.serializeUrl(si.extractedUrl),si.source,si.restoredState)),Vi!==this.transitions.getValue()?N.E:Promise.resolve(si)}),function Bo(ye,Ae,ue,Le){return(0,H.w)(tt=>function ho(ye,Ae,ue,Le,tt){return new Ji(ye,Ae,ue,Le,tt).apply()}(ye,Ae,ue,tt.extractedUrl,Le).pipe((0,K.U)(kt=>Object.assign(Object.assign({},tt),{urlAfterRedirects:kt}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ie.b)(si=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:si.urlAfterRedirects}),tt.urlAfterRedirects=si.urlAfterRedirects}),function Gn(ye,Ae,ue,Le,tt,kt){return(0,re.z)($t=>function tr(ye,Ae,ue,Le,tt,kt,$t="emptyOnly",on="legacy"){return new hs(ye,Ae,ue,Le,tt,$t,on,kt).recognize().pipe((0,H.w)(An=>null===An?function er(ye){return new Q.y(Ae=>Ae.error(ye))}(new Jo):(0,u.of)(An)))}(ye,Ae,ue,$t.urlAfterRedirects,Le.serialize($t.urlAfterRedirects),Le,tt,kt).pipe((0,K.U)(on=>Object.assign(Object.assign({},$t),{targetSnapshot:on}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ie.b)(si=>{if(tt.targetSnapshot=si.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!si.extras.skipLocationChange){const so=this.urlHandlingStrategy.merge(si.urlAfterRedirects,si.rawUrl);this.setBrowserUrl(so,si)}this.browserUrlTree=si.urlAfterRedirects}const Vi=new As(si.id,this.serializeUrl(si.extractedUrl),this.serializeUrl(si.urlAfterRedirects),si.targetSnapshot);Le.next(Vi)}));if(ni&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Vi,extractedUrl:so,source:Ys,restoredState:Kr,extras:ua}=on,$r=new Ks(Vi,this.serializeUrl(so),Ys,Kr);Le.next($r);const da=Cs(so,this.rootComponentType).snapshot;return tt=Object.assign(Object.assign({},on),{targetSnapshot:da,urlAfterRedirects:so,extras:Object.assign(Object.assign({},ua),{skipLocationChange:!1,replaceUrl:!1})}),(0,u.of)(tt)}return this.rawUrlTree=on.rawUrl,on.resolve(null),N.E}),(0,ie.b)(on=>{const An=new Ls(on.id,this.serializeUrl(on.extractedUrl),this.serializeUrl(on.urlAfterRedirects),on.targetSnapshot);this.triggerEvent(An)}),(0,K.U)(on=>tt=Object.assign(Object.assign({},on),{guards:Vo(on.targetSnapshot,on.currentSnapshot,this.rootContexts)})),function Pe(ye,Ae){return(0,re.z)(ue=>{const{targetSnapshot:Le,currentSnapshot:tt,guards:{canActivateChecks:kt,canDeactivateChecks:$t}}=ue;return 0===$t.length&&0===kt.length?(0,u.of)(Object.assign(Object.assign({},ue),{guardsResult:!0})):function Pt(ye,Ae,ue,Le){return(0,d.D)(ye).pipe((0,re.z)(tt=>function Ds(ye,Ae,ue,Le,tt){const kt=Ae&&Ae.routeConfig?Ae.routeConfig.canDeactivate:null;if(!kt||0===kt.length)return(0,u.of)(!0);const $t=kt.map(on=>{var An;const ni=null!==(An=Ns(Ae))&&void 0!==An?An:tt,vi=as(on,ni);return xe(function Fs(ye){return ye&&ro(ye.canDeactivate)}(vi)?vi.canDeactivate(ye,Ae,ue,Le):ni.runInContext(()=>vi(ye,Ae,ue,Le))).pipe((0,j.P)())});return(0,u.of)($t).pipe(ze())}(tt.component,tt.route,ue,Ae,Le)),(0,j.P)(tt=>!0!==tt,!0))}($t,Le,tt,ye).pipe((0,re.z)(on=>on&&function ji(ye){return"boolean"==typeof ye}(on)?function Rn(ye,Ae,ue,Le){return(0,d.D)(Ae).pipe((0,G.b)(tt=>(0,b.z)(function no(ye,Ae){return null!==ye&&Ae&&Ae(new hr(ye)),(0,u.of)(!0)}(tt.route.parent,Le),function di(ye,Ae){return null!==ye&&Ae&&Ae(new Ri(ye)),(0,u.of)(!0)}(tt.route,Le),function ss(ye,Ae,ue){const Le=Ae[Ae.length-1],kt=Ae.slice(0,Ae.length-1).reverse().map($t=>function _r(ye){const Ae=ye.routeConfig?ye.routeConfig.canActivateChild:null;return Ae&&0!==Ae.length?{node:ye,guards:Ae}:null}($t)).filter($t=>null!==$t).map($t=>(0,s.P)(()=>{const on=$t.guards.map(An=>{var ni;const vi=null!==(ni=Ns($t.node))&&void 0!==ni?ni:ue,si=as(An,vi);return xe(function Cr(ye){return ye&&ro(ye.canActivateChild)}(si)?si.canActivateChild(Le,ye):vi.runInContext(()=>si(Le,ye))).pipe((0,j.P)())});return(0,u.of)(on).pipe(ze())}));return(0,u.of)(kt).pipe(ze())}(ye,tt.path,ue),function Fo(ye,Ae,ue){const Le=Ae.routeConfig?Ae.routeConfig.canActivate:null;if(!Le||0===Le.length)return(0,u.of)(!0);const tt=Le.map(kt=>(0,s.P)(()=>{var $t;const on=null!==($t=Ns(Ae))&&void 0!==$t?$t:ue,An=as(kt,on);return xe(function Ca(ye){return ye&&ro(ye.canActivate)}(An)?An.canActivate(Ae,ye):on.runInContext(()=>An(Ae,ye))).pipe((0,j.P)())}));return(0,u.of)(tt).pipe(ze())}(ye,tt.route,ue))),(0,j.P)(tt=>!0!==tt,!0))}(Le,kt,ye,Ae):(0,u.of)(on)),(0,K.U)(on=>Object.assign(Object.assign({},ue),{guardsResult:on})))})}(this.ngModule.injector,on=>this.triggerEvent(on)),(0,ie.b)(on=>{if(tt.guardsResult=on.guardsResult,dt(on.guardsResult))throw sa(0,on.guardsResult);const An=new Hs(on.id,this.serializeUrl(on.extractedUrl),this.serializeUrl(on.urlAfterRedirects),on.targetSnapshot,!!on.guardsResult);this.triggerEvent(An)}),(0,Y.h)(on=>!!on.guardsResult||(this.restoreHistory(on),this.cancelNavigationTransition(on,"",3),!1)),wn(on=>{if(on.guards.canActivateChecks.length)return(0,u.of)(on).pipe((0,ie.b)(An=>{const ni=new ps(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);this.triggerEvent(ni)}),(0,H.w)(An=>{let ni=!1;return(0,u.of)(An).pipe(function Jt(ye,Ae){return(0,re.z)(ue=>{const{targetSnapshot:Le,guards:{canActivateChecks:tt}}=ue;if(!tt.length)return(0,u.of)(ue);let kt=0;return(0,d.D)(tt).pipe((0,G.b)($t=>function Ve(ye,Ae,ue,Le){const tt=ye.routeConfig,kt=ye._resolve;return void 0!==(null==tt?void 0:tt.title)&&!cn(tt)&&(kt[_e]=tt.title),function Je(ye,Ae,ue,Le){const tt=function bt(ye){return[...Object.keys(ye),...Object.getOwnPropertySymbols(ye)]}(ye);if(0===tt.length)return(0,u.of)({});const kt={};return(0,d.D)(tt).pipe((0,re.z)($t=>function Nt(ye,Ae,ue,Le){var tt;const kt=null!==(tt=Ns(Ae))&&void 0!==tt?tt:Le,$t=as(ye,kt);return xe($t.resolve?$t.resolve(Ae,ue):kt.runInContext(()=>$t(Ae,ue)))}(ye[$t],Ae,ue,Le).pipe((0,j.P)(),(0,ie.b)(on=>{kt[$t]=on}))),(0,te.h)(1),(0,we.h)(kt),(0,Te.K)($t=>aa($t)?N.E:(0,O._)($t)))}(kt,ye,Ae,Le).pipe((0,K.U)($t=>(ye._resolvedData=$t,ye.data=gr(ye,ue).resolve,tt&&cn(tt)&&(ye.data[_e]=tt.title),null)))}($t.route,Le,ye,Ae)),(0,ie.b)(()=>kt++),(0,te.h)(1),(0,re.z)($t=>kt===tt.length?(0,u.of)(ue):N.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ie.b)({next:()=>ni=!0,complete:()=>{ni||(this.restoreHistory(An),this.cancelNavigationTransition(An,"",2))}}))}),(0,ie.b)(An=>{const ni=new Dr(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);this.triggerEvent(ni)}))}),wn(on=>{const An=ni=>{var vi;const si=[];(null===(vi=ni.routeConfig)||void 0===vi?void 0:vi.loadComponent)&&!ni.routeConfig._loadedComponent&&si.push(this.configLoader.loadComponent(ni.routeConfig).pipe((0,ie.b)(Vi=>{ni.component=Vi}),(0,K.U)(()=>{})));for(const Vi of ni.children)si.push(...An(Vi));return si};return(0,R.a)(An(on.targetSnapshot.root)).pipe((0,J.d)(),(0,D.q)(1))}),wn(()=>this.afterPreactivation()),(0,K.U)(on=>{const An=function Ss(ye,Ae,ue){const Le=ks(ye,Ae._root,ue?ue._root:void 0);return new os(Le,Ae)}(this.routeReuseStrategy,on.targetSnapshot,on.currentRouterState);return tt=Object.assign(Object.assign({},on),{targetRouterState:An})}),(0,ie.b)(on=>{this.currentUrlTree=on.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(on.urlAfterRedirects,on.rawUrl),this.routerState=on.targetRouterState,"deferred"===this.urlUpdateStrategy&&(on.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,on),this.browserUrlTree=on.urlAfterRedirects)}),((ye,Ae,ue)=>(0,K.U)(Le=>(new Ia(Ae,Le.targetRouterState,Le.currentRouterState,ue).activate(ye),Le)))(this.rootContexts,this.routeReuseStrategy,on=>this.triggerEvent(on)),(0,ie.b)({next(){kt=!0},complete(){kt=!0}}),(0,ke.x)(()=>{var on;kt||$t||this.cancelNavigationTransition(tt,"",1),(null===(on=this.currentNavigation)||void 0===on?void 0:on.id)===tt.id&&(this.currentNavigation=null)}),(0,Te.K)(on=>{var An;if($t=!0,_o(on)){xs(on)||(this.navigated=!0,this.restoreHistory(tt,!0));const ni=new mo(tt.id,this.serializeUrl(tt.extractedUrl),on.message,on.cancellationCode);if(Le.next(ni),xs(on)){const vi=this.urlHandlingStrategy.merge(on.url,this.rawUrlTree),si={skipLocationChange:tt.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ir(tt.source)};this.scheduleNavigation(vi,"imperative",null,si,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}else tt.resolve(!1)}else{this.restoreHistory(tt,!0);const ni=new qo(tt.id,this.serializeUrl(tt.extractedUrl),on,null!==(An=tt.targetSnapshot)&&void 0!==An?An:void 0);Le.next(ni);try{tt.resolve(this.errorHandler(on))}catch(vi){tt.reject(vi)}}return N.E}))}))}resetRootComponentType(ue){this.rootComponentType=ue,this.routerState.root.component=this.rootComponentType}setTransition(ue){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),ue))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ue=>{const Le="popstate"===ue.type?"popstate":"hashchange";"popstate"===Le&&setTimeout(()=>{var tt;const kt={replaceUrl:!0},$t=null!==(tt=ue.state)&&void 0!==tt&&tt.navigationId?ue.state:null;if($t){const An=Object.assign({},$t);delete An.navigationId,delete An.\u0275routerPageId,0!==Object.keys(An).length&&(kt.state=An)}const on=this.parseUrl(ue.url);this.scheduleNavigation(on,Le,$t,kt)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(ue){this.events.next(ue)}resetConfig(ue){this.config=ue.map(Qr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(ue,Le={}){const{relativeTo:tt,queryParams:kt,fragment:$t,queryParamsHandling:on,preserveFragment:An}=Le,ni=tt||this.routerState.root,vi=An?this.currentUrlTree.fragment:$t;let si=null;switch(on){case"merge":si=Object.assign(Object.assign({},this.currentUrlTree.queryParams),kt);break;case"preserve":si=this.currentUrlTree.queryParams;break;default:si=kt||null}return null!==si&&(si=this.removeEmptyProps(si)),$n(ni,this.currentUrlTree,ue,si,null!=vi?vi:null)}navigateByUrl(ue,Le={skipLocationChange:!1}){const tt=dt(ue)?ue:this.parseUrl(ue),kt=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(kt,"imperative",null,Le)}navigate(ue,Le={skipLocationChange:!1}){return function ko(ye){for(let Ae=0;Ae<ye.length;Ae++){if(null==ye[Ae])throw new e.vHH(4008,false)}}(ue),this.navigateByUrl(this.createUrlTree(ue,Le),Le)}serializeUrl(ue){return this.urlSerializer.serialize(ue)}parseUrl(ue){let Le;try{Le=this.urlSerializer.parse(ue)}catch(tt){Le=this.malformedUriErrorHandler(tt,this.urlSerializer,ue)}return Le}isActive(ue,Le){let tt;if(tt=!0===Le?Object.assign({},wi):!1===Le?Object.assign({},Pi):Le,dt(ue))return Ft(this.currentUrlTree,ue,tt);const kt=this.parseUrl(ue);return Ft(this.currentUrlTree,kt,tt)}removeEmptyProps(ue){return Object.keys(ue).reduce((Le,tt)=>{const kt=ue[tt];return null!=kt&&(Le[tt]=kt),Le},{})}processNavigations(){this.navigations.subscribe(ue=>{var Le;this.navigated=!0,this.lastSuccessfulId=ue.id,this.currentPageId=ue.targetPageId,this.events.next(new ds(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(Le=this.titleStrategy)||void 0===Le||Le.updateTitle(this.routerState.snapshot),ue.resolve(!0)},ue=>{this.console.warn(`Unhandled Navigation Error: ${ue}`)})}scheduleNavigation(ue,Le,tt,kt,$t){var on,An;if(this.disposed)return Promise.resolve(!1);let ni,vi,si;$t?(ni=$t.resolve,vi=$t.reject,si=$t.promise):si=new Promise((Ys,Kr)=>{ni=Ys,vi=Kr});const Vi=++this.navigationId;let so;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(tt=this.location.getState()),so=tt&&tt.\u0275routerPageId?tt.\u0275routerPageId:kt.replaceUrl||kt.skipLocationChange?null!==(on=this.browserPageId)&&void 0!==on?on:0:(null!==(An=this.browserPageId)&&void 0!==An?An:0)+1):so=0,this.setTransition({id:Vi,targetPageId:so,source:Le,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:ue,extras:kt,resolve:ni,reject:vi,promise:si,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),si.catch(Ys=>Promise.reject(Ys))}setBrowserUrl(ue,Le){const tt=this.urlSerializer.serialize(ue),kt=Object.assign(Object.assign({},Le.extras.state),this.generateNgRouterState(Le.id,Le.targetPageId));this.location.isCurrentPathEqualTo(tt)||Le.extras.replaceUrl?this.location.replaceState(tt,"",kt):this.location.go(tt,"",kt)}restoreHistory(ue,Le=!1){var tt,kt;if("computed"===this.canceledNavigationResolution){const $t=this.currentPageId-ue.targetPageId;"popstate"!==ue.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(tt=this.currentNavigation)||void 0===tt?void 0:tt.finalUrl)||0===$t?this.currentUrlTree===(null===(kt=this.currentNavigation)||void 0===kt?void 0:kt.finalUrl)&&0===$t&&(this.resetState(ue),this.browserUrlTree=ue.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo($t)}else"replace"===this.canceledNavigationResolution&&(Le&&this.resetState(ue),this.resetUrlToCurrentUrlTree())}resetState(ue){this.routerState=ue.currentRouterState,this.currentUrlTree=ue.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ue.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(ue,Le,tt){const kt=new mo(ue.id,this.serializeUrl(ue.extractedUrl),Le,tt);this.triggerEvent(kt),ue.resolve(!1)}generateNgRouterState(ue,Le){return"computed"===this.canceledNavigationResolution?{navigationId:ue,\u0275routerPageId:Le}:{navigationId:ue}}}return ye.\u0275fac=function(ue){e.$Z()},ye.\u0275prov=e.Yz7({token:ye,factory:function(){return Qo()},providedIn:"root"}),ye})();function Ir(ye){return"imperative"!==ye}let Io=(()=>{class ye{constructor(ue,Le,tt,kt,$t){this.router=ue,this.route=Le,this.tabIndexAttribute=tt,this.renderer=kt,this.el=$t,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new U.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(ue){this._preserveFragment=(0,e.D6c)(ue)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(ue){this._skipLocationChange=(0,e.D6c)(ue)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(ue){this._replaceUrl=(0,e.D6c)(ue)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(ue){if(null!=this.tabIndexAttribute)return;const Le=this.renderer,tt=this.el.nativeElement;null!==ue?Le.setAttribute(tt,"tabindex",ue):Le.removeAttribute(tt,"tabindex")}ngOnChanges(ue){this.onChanges.next(this)}set routerLink(ue){null!=ue?(this.commands=Array.isArray(ue)?ue:[ue],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.Y36(So),e.Y36(Yi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},ye.\u0275dir=e.lG2({type:ye,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ue,Le){1&ue&&e.NdJ("click",function(){return Le.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),ye})(),ca=(()=>{class ye{constructor(ue,Le,tt){this.router=ue,this.route=Le,this.locationStrategy=tt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new U.x,this.subscription=ue.events.subscribe(kt=>{kt instanceof ds&&this.updateTargetUrlAndHref()})}set preserveFragment(ue){this._preserveFragment=(0,e.D6c)(ue)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(ue){this._skipLocationChange=(0,e.D6c)(ue)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(ue){this._replaceUrl=(0,e.D6c)(ue)}get replaceUrl(){return this._replaceUrl}set routerLink(ue){this.commands=null!=ue?Array.isArray(ue)?ue:[ue]:null}ngOnChanges(ue){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(ue,Le,tt,kt,$t){return!!(0!==ue||Le||tt||kt||$t||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.Y36(So),e.Y36(Yi),e.Y36(oe.S$))},ye.\u0275dir=e.lG2({type:ye,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(ue,Le){1&ue&&e.NdJ("click",function(kt){return Le.onClick(kt.button,kt.ctrlKey,kt.shiftKey,kt.altKey,kt.metaKey)}),2&ue&&e.uIk("target",Le.target)("href",Le.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),ye})(),$a=(()=>{class ye{constructor(ue,Le,tt,kt,$t,on){this.router=ue,this.element=Le,this.renderer=tt,this.cdr=kt,this.link=$t,this.linkWithHref=on,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=ue.events.subscribe(An=>{An instanceof ds&&this.update()})}ngAfterContentInit(){(0,u.of)(this.links.changes,this.linksWithHrefs.changes,(0,u.of)(null)).pipe((0,X.J)()).subscribe(ue=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var ue;null===(ue=this.linkInputChangesSubscription)||void 0===ue||ue.unsubscribe();const Le=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(tt=>!!tt).map(tt=>tt.onChanges);this.linkInputChangesSubscription=(0,d.D)(Le).pipe((0,X.J)()).subscribe(tt=>{this.isActive!==this.isLinkActive(this.router)(tt)&&this.update()})}set routerLinkActive(ue){const Le=Array.isArray(ue)?ue:ue.split(" ");this.classes=Le.filter(tt=>!!tt)}ngOnChanges(ue){this.update()}ngOnDestroy(){var ue;this.routerEventsSubscription.unsubscribe(),null===(ue=this.linkInputChangesSubscription)||void 0===ue||ue.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const ue=this.hasActiveLinks();this.isActive!==ue&&(this.isActive=ue,this.cdr.markForCheck(),this.classes.forEach(Le=>{ue?this.renderer.addClass(this.element.nativeElement,Le):this.renderer.removeClass(this.element.nativeElement,Le)}),ue&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(ue))})}isLinkActive(ue){const Le=function Lo(ye){return!!ye.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return tt=>!!tt.urlTree&&ue.isActive(tt.urlTree,Le)}hasActiveLinks(){const ue=this.isLinkActive(this.router);return this.link&&ue(this.link)||this.linkWithHref&&ue(this.linkWithHref)||this.links.some(ue)||this.linksWithHrefs.some(ue)}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.Y36(So),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Io,8),e.Y36(ca,8))},ye.\u0275dir=e.lG2({type:ye,selectors:[["","routerLinkActive",""]],contentQueries:function(ue,Le,tt){if(1&ue&&(e.Suo(tt,Io,5),e.Suo(tt,ca,5)),2&ue){let kt;e.iGM(kt=e.CRH())&&(Le.links=kt),e.iGM(kt=e.CRH())&&(Le.linksWithHrefs=kt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),ye})();class Rr{}let Ja=(()=>{class ye{constructor(ue,Le,tt,kt,$t){this.router=ue,this.injector=tt,this.preloadingStrategy=kt,this.loader=$t}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.h)(ue=>ue instanceof ds),(0,G.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ue,Le){var tt,kt,$t;const on=[];for(const An of Le){An.providers&&!An._injector&&(An._injector=(0,e.MMx)(An.providers,ue,`Route: ${An.path}`));const ni=null!==(tt=An._injector)&&void 0!==tt?tt:ue,vi=null!==(kt=An._loadedInjector)&&void 0!==kt?kt:ni;An.loadChildren&&!An._loadedRoutes&&void 0===An.canLoad||An.loadComponent&&!An._loadedComponent?on.push(this.preloadConfig(ni,An)):(An.children||An._loadedRoutes)&&on.push(this.processRoutes(vi,null!==($t=An.children)&&void 0!==$t?$t:An._loadedRoutes))}return(0,d.D)(on).pipe((0,X.J)())}preloadConfig(ue,Le){return this.preloadingStrategy.preload(Le,()=>{let tt;tt=Le.loadChildren&&void 0===Le.canLoad?this.loader.loadChildren(ue,Le):(0,u.of)(null);const kt=tt.pipe((0,re.z)($t=>{var on;return null===$t?(0,u.of)(void 0):(Le._loadedRoutes=$t.routes,Le._loadedInjector=$t.injector,this.processRoutes(null!==(on=$t.injector)&&void 0!==on?on:ue,$t.routes))}));if(Le.loadComponent&&!Le._loadedComponent){const $t=this.loader.loadComponent(Le);return(0,d.D)([kt,$t]).pipe((0,X.J)())}return kt})}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.LFG(So),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Rr),e.LFG(xr))},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const qa=new e.OlP("");let $l=(()=>{class ye{constructor(ue,Le,tt={}){this.router=ue,this.viewportScroller=Le,this.options=tt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},tt.scrollPositionRestoration=tt.scrollPositionRestoration||"disabled",tt.anchorScrolling=tt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(ue=>{ue instanceof Ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ue.navigationTrigger,this.restoredId=ue.restoredState?ue.restoredState.navigationId:0):ue instanceof ds&&(this.lastId=ue.id,this.scheduleScrollEvent(ue,this.router.parseUrl(ue.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(ue=>{ue instanceof Li&&(ue.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ue.position):ue.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ue.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ue,Le){this.router.triggerEvent(new Li(ue,"popstate"===this.lastSource?this.store[this.restoredId]:null,Le))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return ye.\u0275fac=function(ue){e.$Z()},ye.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function tl(ye,Ae){return{\u0275kind:ye,\u0275providers:Ae}}function Oa(ye){return[{provide:Zo,multi:!0,useValue:ye}]}function Dc(){const ye=(0,e.f3M)(e.zs3);return Ae=>{var ue,Le;const tt=ye.get(e.z2F);if(Ae!==tt.components[0])return;const kt=ye.get(So),$t=ye.get(du);1===ye.get(Ro)&&kt.initialNavigation(),null===(ue=ye.get(hu,null,e.XFs.Optional))||void 0===ue||ue.setUpPreloading(),null===(Le=ye.get(qa,null,e.XFs.Optional))||void 0===Le||Le.init(),kt.resetRootComponentType(tt.componentTypes[0]),$t.closed||($t.next(),$t.unsubscribe())}}const du=new e.OlP("",{factory:()=>new U.x}),Ro=new e.OlP("",{providedIn:"root",factory:()=>1});const hu=new e.OlP("");function ql(ye){return tl(0,[{provide:hu,useExisting:Ja},{provide:Rr,useExisting:ye}])}const Wu=new e.OlP("ROUTER_FORROOT_GUARD"),Vd=[oe.Ye,{provide:xt,useClass:Ct},{provide:So,useFactory:Qo},Pr,{provide:Yi,useFactory:function el(ye){return ye.routerState.root},deps:[So]},xr];function Ws(){return new e.PXZ("Router",So)}let Mc=(()=>{class ye{constructor(ue){}static forRoot(ue,Le){return{ngModule:ye,providers:[Vd,[],Oa(ue),{provide:Wu,useFactory:jr,deps:[[So,new e.FiY,new e.tp0]]},{provide:uo,useValue:Le||{}},null!=Le&&Le.useHash?{provide:oe.S$,useClass:oe.Do}:{provide:oe.S$,useClass:oe.b0},{provide:qa,useFactory:()=>{const ye=(0,e.f3M)(So),Ae=(0,e.f3M)(oe.EM),ue=(0,e.f3M)(uo);return ue.scrollOffset&&Ae.setOffset(ue.scrollOffset),new $l(ye,Ae,ue)}},null!=Le&&Le.preloadingStrategy?ql(Le.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Ws},null!=Le&&Le.initialNavigation?lr(Le):[],[{provide:Ar,useFactory:Dc},{provide:e.tb,multi:!0,useExisting:Ar}]]}}static forChild(ue){return{ngModule:ye,providers:[Oa(ue)]}}}return ye.\u0275fac=function(ue){return new(ue||ye)(e.LFG(Wu,8))},ye.\u0275mod=e.oAB({type:ye}),ye.\u0275inj=e.cJS({imports:[At]}),ye})();function jr(ye){return"guarded"}function lr(ye){return["disabled"===ye.initialNavigation?tl(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const Ae=(0,e.f3M)(So);return()=>{Ae.setUpLocationChangeListener()}}},{provide:Ro,useValue:2}]).\u0275providers:[],"enabledBlocking"===ye.initialNavigation?tl(2,[{provide:Ro,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:Ae=>{const ue=Ae.get(oe.V_,Promise.resolve());let Le=!1;return()=>ue.then(()=>new Promise(kt=>{const $t=Ae.get(So),on=Ae.get(du);(function tt(kt){Ae.get(So).events.pipe((0,Y.h)(on=>on instanceof ds||on instanceof mo||on instanceof qo),(0,K.U)(on=>on instanceof ds||on instanceof mo&&(0===on.code||1===on.code)&&null),(0,Y.h)(on=>null!==on),(0,D.q)(1)).subscribe(()=>{kt()})})(()=>{kt(!0),Le=!0}),$t.afterPreactivation=()=>(kt(!0),Le||on.closed?(0,u.of)(void 0):on),$t.initialNavigation()}))}}]).\u0275providers:[]]}const Ar=new e.OlP("")},5111:(dn,pt,C)=>{"use strict";var e,d;C.d(pt,{U:()=>e}),(d=e=e||(e={}))[d.CONNECTING=0]="CONNECTING",d[d.OPEN=1]="OPEN",d[d.CLOSING=2]="CLOSING",d[d.CLOSED=3]="CLOSED"},430:(dn,pt,C)=>{"use strict";C.d(pt,{Eo:()=>Cn,qZ:()=>Xt});var e=C(5e3),d=C(4793),u=C(9162),p=C(7579),x=C(9808),R=C(6451),b=C(9751),s=C(4968),F=C(8505),O=C(3099),Q=C(5577),N=C(5698),T=C(4004),y=C(4482),w=C(5403),V=C(9300),U=C(2722);const oe="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function H(Ft,Ot,Oe,et){const Ne=Ot.querySelectorAll(Ft);if(Ne.length){const yt=Oe.querySelectorAll(Ft);for(let ee=0;ee<Ne.length;ee++)et(Ne[ee],yt[ee])}}let D=0;function P(Ft,Ot){"file"!==Ot.type&&(Ot.value=Ft.value),"radio"===Ot.type&&Ot.name&&(Ot.name=`mat-clone-${Ot.name}-${D++}`)}function Y(Ft,Ot){const Oe=Ot.getContext("2d");if(Oe)try{Oe.drawImage(Ft,0,0)}catch(et){}}function re(Ft,Ot,Oe,et){const Ne={top:Ft.top,bottom:Ft.bottom,left:Ft.left,right:Ft.right};return Ot.top&&(Ne.top+=et),Ot.bottom&&(Ne.bottom+=et),Ot.left&&(Ne.left+=Oe),Ot.right&&(Ne.right+=Oe),Ne.height=Ne.bottom-Ne.top,Ne.width=Ne.right-Ne.left,Ne}const G=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function ie(Ft,Ot){return Ft.left&&Ft.top?Ot.topLeft:Ft.right&&Ft.top?Ot.topRight:Ft.left&&Ft.bottom?Ot.bottomLeft:Ft.right&&Ft.bottom?Ot.bottomRight:Ft.left||Ft.right?Ot.leftOrRight:Ft.top||Ft.bottom?Ot.topOrBottom:""}function Te({edges:Ft,initialRectangle:Ot,newRectangle:Oe}){const et={};return Object.keys(Ft).forEach(Ne=>{et[Ne]=(Oe[Ne]||0)-(Ot[Ne]||0)}),et}const Me="resize-active";let ce=(()=>{class Ft{constructor(Oe,et,Ne,yt){this.platformId=Oe,this.renderer=et,this.elm=Ne,this.zone=yt,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=G,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new p.x,this.mousedown=new p.x,this.mousemove=new p.x,this.destroy$=new p.x,this.pointerEventListeners=J.getInstance(et,yt)}ngOnInit(){const Oe=(0,R.T)(this.pointerEventListeners.pointerDown,this.mousedown),et=(0,R.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,F.b)(({event:ft})=>{if(yt)try{ft.preventDefault()}catch(an){}}),(0,O.B)()),Ne=(0,R.T)(this.pointerEventListeners.pointerUp,this.mouseup);let yt;const ee=()=>{yt&&yt.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(yt.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},Ze=()=>Object.assign(Object.assign({},G),this.resizeCursors);Oe.pipe((0,Q.z)(ft=>{function an(xt){return{clientX:xt.clientX-ft.clientX,clientY:xt.clientY-ft.clientY}}const Tn=()=>{const xt={x:1,y:1};return yt&&(this.resizeSnapGrid.left&&yt.edges.left?xt.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&yt.edges.right&&(xt.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&yt.edges.top?xt.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&yt.edges.bottom&&(xt.y=+this.resizeSnapGrid.bottom)),xt};function qt(xt,Ct){return{x:Math.ceil(xt.clientX/Ct.x),y:Math.ceil(xt.clientY/Ct.y)}}return(0,R.T)(et.pipe((0,N.q)(1)).pipe((0,T.U)(xt=>[,xt])),et.pipe(function k(){return(0,y.e)((Ft,Ot)=>{let Oe,et=!1;Ft.subscribe(new w.Q(Ot,Ne=>{const yt=Oe;Oe=Ne,et&&Ot.next([yt,Ne]),et=!0}))})}())).pipe((0,T.U)(([xt,Ct])=>[xt&&an(xt),an(Ct)])).pipe((0,V.h)(([xt,Ct])=>{if(!xt)return!0;const me=Tn(),lt=qt(xt,me),$e=qt(Ct,me);return lt.x!==$e.x||lt.y!==$e.y})).pipe((0,T.U)(([,xt])=>{const Ct=Tn();return{clientX:Math.round(xt.clientX/Ct.x)*Ct.x,clientY:Math.round(xt.clientY/Ct.y)*Ct.y}})).pipe((0,U.R)((0,R.T)(Ne,Oe)))})).pipe((0,V.h)(()=>!!yt)).pipe((0,T.U)(({clientX:ft,clientY:an})=>re(yt.startingRect,yt.edges,ft,an))).pipe((0,V.h)(ft=>this.allowNegativeResizes||!!(ft.height&&ft.width&&ft.height>0&&ft.width>0))).pipe((0,V.h)(ft=>!this.validateResize||this.validateResize({rectangle:ft,edges:Te({edges:yt.edges,initialRectangle:yt.startingRect,newRectangle:ft})})),(0,U.R)(this.destroy$)).subscribe(ft=>{yt&&yt.clonedNode&&(this.renderer.setStyle(yt.clonedNode,"height",`${ft.height}px`),this.renderer.setStyle(yt.clonedNode,"width",`${ft.width}px`),this.renderer.setStyle(yt.clonedNode,"top",`${ft.top}px`),this.renderer.setStyle(yt.clonedNode,"left",`${ft.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Te({edges:yt.edges,initialRectangle:yt.startingRect,newRectangle:ft}),rectangle:ft})}),yt.currentRect=ft}),Oe.pipe((0,T.U)(({edges:ft})=>ft||{}),(0,V.h)(ft=>Object.keys(ft).length>0),(0,U.R)(this.destroy$)).subscribe(ft=>{yt&&ee();const an=function j(Ft,Ot){let Oe=0,et=0;const Ne=Ft.nativeElement.style,ee=["transform","-ms-transform","-moz-transform","-o-transform"].map(Ze=>Ne[Ze]).find(Ze=>!!Ze);if(ee&&ee.includes("translate")&&(Oe=ee.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),et=ee.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===Ot)return{height:Ft.nativeElement.offsetHeight,width:Ft.nativeElement.offsetWidth,top:Ft.nativeElement.offsetTop-et,bottom:Ft.nativeElement.offsetHeight+Ft.nativeElement.offsetTop-et,left:Ft.nativeElement.offsetLeft-Oe,right:Ft.nativeElement.offsetWidth+Ft.nativeElement.offsetLeft-Oe};{const Ze=Ft.nativeElement.getBoundingClientRect();return{height:Ze.height,width:Ze.width,top:Ze.top-et,bottom:Ze.bottom-et,left:Ze.left-Oe,right:Ze.right-Oe,scrollTop:Ft.nativeElement.scrollTop,scrollLeft:Ft.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);yt={edges:ft,startingRect:an,currentRect:an};const Tn=Ze(),qt=ie(yt.edges,Tn);this.renderer.setStyle(document.body,"cursor",qt),this.setElementClass(this.elm,Me,!0),this.enableGhostResize&&(yt.clonedNode=function K(Ft){const Ot=Ft.cloneNode(!0),Oe=Ot.querySelectorAll("[id]"),et=Ft.nodeName.toLowerCase();return Ot.removeAttribute("id"),Oe.forEach(Ne=>{Ne.removeAttribute("id")}),"canvas"===et?Y(Ft,Ot):("input"===et||"select"===et||"textarea"===et)&&P(Ft,Ot),H("canvas",Ft,Ot,Y),H("input, textarea, select",Ft,Ot,P),Ot}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(yt.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(yt.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(yt.clonedNode,"left",`${yt.startingRect.left}px`),this.renderer.setStyle(yt.clonedNode,"top",`${yt.startingRect.top}px`),this.renderer.setStyle(yt.clonedNode,"height",`${yt.startingRect.height}px`),this.renderer.setStyle(yt.clonedNode,"width",`${yt.startingRect.width}px`),this.renderer.setStyle(yt.clonedNode,"cursor",ie(yt.edges,Tn)),this.renderer.addClass(yt.clonedNode,"resize-ghost-element"),yt.clonedNode.scrollTop=yt.startingRect.scrollTop,yt.clonedNode.scrollLeft=yt.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Te({edges:ft,initialRectangle:an,newRectangle:an}),rectangle:re(an,{},0,0)})})}),Ne.pipe((0,U.R)(this.destroy$)).subscribe(()=>{yt&&(this.renderer.removeClass(this.elm.nativeElement,Me),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Te({edges:yt.edges,initialRectangle:yt.startingRect,newRectangle:yt.currentRect}),rectangle:yt.currentRect})}),ee(),yt=null)})}ngOnDestroy(){(0,x.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(Oe,et,Ne){Ne?this.renderer.addClass(Oe.nativeElement,et):this.renderer.removeClass(Oe.nativeElement,et)}}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},Ft.\u0275dir=e.lG2({type:Ft,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),Ft})();class J{constructor(Ot,Oe){this.pointerDown=new b.y(et=>{let Ne,yt;return Oe.runOutsideAngular(()=>{Ne=Ot.listen("document","mousedown",ee=>{et.next({clientX:ee.clientX,clientY:ee.clientY,event:ee})}),oe&&(yt=Ot.listen("document","touchstart",ee=>{et.next({clientX:ee.touches[0].clientX,clientY:ee.touches[0].clientY,event:ee})}))}),()=>{Ne(),oe&&yt()}}).pipe((0,O.B)()),this.pointerMove=new b.y(et=>{let Ne,yt;return Oe.runOutsideAngular(()=>{Ne=Ot.listen("document","mousemove",ee=>{et.next({clientX:ee.clientX,clientY:ee.clientY,event:ee})}),oe&&(yt=Ot.listen("document","touchmove",ee=>{et.next({clientX:ee.targetTouches[0].clientX,clientY:ee.targetTouches[0].clientY,event:ee})}))}),()=>{Ne(),oe&&yt()}}).pipe((0,O.B)()),this.pointerUp=new b.y(et=>{let Ne,yt,ee;return Oe.runOutsideAngular(()=>{Ne=Ot.listen("document","mouseup",Ze=>{et.next({clientX:Ze.clientX,clientY:Ze.clientY,event:Ze})}),oe&&(yt=Ot.listen("document","touchend",Ze=>{et.next({clientX:Ze.changedTouches[0].clientX,clientY:Ze.changedTouches[0].clientY,event:Ze})}),ee=Ot.listen("document","touchcancel",Ze=>{et.next({clientX:Ze.changedTouches[0].clientX,clientY:Ze.changedTouches[0].clientY,event:Ze})}))}),()=>{Ne(),oe&&(yt(),ee())}}).pipe((0,O.B)())}static getInstance(Ot,Oe){return J.instance||(J.instance=new J(Ot,Oe)),J.instance}}let ve=(()=>{class Ft{constructor(Oe,et,Ne,yt){this.renderer=Oe,this.element=et,this.zone=Ne,this.resizableDirective=yt,this.resizeEdges={},this.eventListeners={},this.destroy$=new p.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(Oe=>{this.onMousedown(Oe,Oe.clientX,Oe.clientY)}),this.listenOnTheHost("mouseup").subscribe(Oe=>{this.onMouseup(Oe.clientX,Oe.clientY)}),oe&&(this.listenOnTheHost("touchstart").subscribe(Oe=>{this.onMousedown(Oe,Oe.touches[0].clientX,Oe.touches[0].clientY)}),(0,R.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(Oe=>{this.onMouseup(Oe.changedTouches[0].clientX,Oe.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(Oe,et,Ne){Oe.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",yt=>{this.onMousemove(yt,yt.targetTouches[0].clientX,yt.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",yt=>{this.onMousemove(yt,yt.clientX,yt.clientY)})),this.resizable.mousedown.next({clientX:et,clientY:Ne,edges:this.resizeEdges})}onMouseup(Oe,et){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:Oe,clientY:et,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(Oe,et,Ne){this.resizable.mousemove.next({clientX:et,clientY:Ne,edges:this.resizeEdges,event:Oe})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(Oe=>{this.eventListeners[Oe](),delete this.eventListeners[Oe]})}listenOnTheHost(Oe){return(0,s.R)(this.element.nativeElement,Oe).pipe((0,U.R)(this.destroy$))}}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ce,8))},Ft.\u0275dir=e.lG2({type:Ft,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),Ft})(),be=(()=>{class Ft{}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)},Ft.\u0275mod=e.oAB({type:Ft}),Ft.\u0275inj=e.cJS({}),Ft})();const Be=["terminal"],we=["resizeBox"],ke=["detectBox"],X=function(Ft){return{"handle-active":Ft}},q=function(){return{top:!1}},pe=function(){return{left:!1}},_e=function(){return{right:!0}},Xe=function(){return{right:!1}},ct=function(){return{bottom:!0}},ot=function(){return{bottom:!1}};let Zt=(()=>{class Ft{constructor(Oe){this.hostRef=Oe,this.handlerToCheckElementConnection=void 0,this.propertyChangeQueue=[],this.itemsToBeHandled=new p.x,this.handleImmediate=()=>{if(!this.handlerToCheckElementConnection){let et=this.propertyChangeQueue.splice(0,1);1==et.length&&this.itemsToBeHandled.next(et[0])}}}get renderObservable(){return this.itemsToBeHandled}handleNextOne(Oe=!1){!this.hostRef.nativeElement.isConnected||Oe?this.pollAndHandle(this.hostRef.nativeElement.isConnected?"LAZY":"NOT_CONNECTED_ELEMENT"):this.handleImmediate()}pushAndHandle(Oe,et=!1){let Ne=Object.assign({},Oe);this.propertyChangeQueue.push(Ne),this.handleNextOne(et)}pollAndHandle(Oe){(()=>{if(this.handlerToCheckElementConnection)return;const Ne=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(Ne),this.handlerToCheckElementConnection=void 0,this.handleImmediate())},"NOT_CONNECTED_ELEMENT"===Oe?500:30);this.handlerToCheckElementConnection=Ne})()}ngOnDestroy(){this.handlerToCheckElementConnection&&clearInterval(this.handlerToCheckElementConnection)}}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)(e.LFG(e.SBq))},Ft.\u0275prov=e.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"}),Ft})(),Dt=(()=>{class Ft{constructor(){}ngOnInit(){}}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)},Ft.\u0275cmp=e.Xpm({type:Ft,selectors:[["global-style"]],decls:0,vars:0,template:function(Oe,et){},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n'],encapsulation:2}),Ft})(),Cn=(()=>{class Ft{constructor(Oe,et){this.renderer=Oe,this.hostRef=et,this.dataSubject=new p.x,this.keySubject=new p.x,this.keyInputSubjectSubscription=void 0,this.keyEventSubjectSubscription=void 0,this.allLogsSubjectSubscription=void 0,this.dataSourceSubscription=void 0,this.resizableObservers=[],this.dataSource=void 0,this.paddingSize=5,this.stylesForResizeBox={display:"block"},this.keyInputEmitter=new e.vpe,this.keyEventEmitter=new e.vpe,this.dataEmitter=this.keyInputEmitter,this.keyEmitter=this.keyEventEmitter,this._xtermOptions={},this.lastDraggedPosition=void 0,this._draggable=!1,this._stylesInput={},this.handleToCheckLazyContainer=void 0,this.lastDetectedWidth=0,this.linearRender=new Zt(et)}set _dataSource(Oe){!Oe||(null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=Oe,this.dataSourceSubscription=this.dataSource.subscribe(et=>this.write(et)))}set draggable(Oe){this._draggable=Oe}get draggable(){return this._draggable}setMinWidth(Oe){this._minWidthInput=Oe}setMinHeight(Oe){this._minHeightInput=Oe}setDraggable(Oe){this._draggable=Oe,this.lastDraggedPosition=void 0}setXtermOptions(Oe){this._xtermOptions=Oe,this.linearRender.pushAndHandle({time:new Date,type:"none"})}setRows(Oe){this._rowsInput!=Oe&&(this._rowsInput=Oe,this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}))}setCols(Oe){this._colsInput!=Oe&&(this._colsInput=Oe,this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}))}setStyle(Oe){var et;JSON.stringify(null!==(et=this._stylesInput)&&void 0!==et?et:{})!=JSON.stringify(null!=Oe?Oe:{})&&(this._stylesInput=Oe,this.linearRender.pushAndHandle({time:new Date,type:"none"}))}setup(){this.xterm&&(this.xterm.onData(Oe=>{this.dataSubject.next(Oe)}),this.xterm.onKey(Oe=>{this.keySubject.next(Oe)})),this.keyInputSubjectSubscription=this.dataSubject.subscribe(Oe=>{this.keyInputEmitter.emit(Oe)}),this.keyEventSubjectSubscription=this.keySubject.subscribe(Oe=>{this.keyEventEmitter.emit(Oe)}),this.setupResizeObservers(),this.allLogsSubjectSubscription=this.linearRender.renderObservable.subscribe(Oe=>{this.coordinateOuterAndTerminal(Oe),this.linearRender.handleNextOne()}),this.linearRender.handleNextOne()}setOuterDimensions(Oe,et,Ne,yt){this.linearRender.pushAndHandle({time:new Date,type:"dragged",dragged:{draggedWidth:`${Ne}px`,draggedHeight:`${yt}px`}})}applyStylesToResizeBox(){Object.keys(this.stylesForResizeBox).map(Oe=>({key:Oe,value:this.stylesForResizeBox[Oe]})).forEach(({key:Oe,value:et})=>{this.resizeBox&&(et?this.renderer.setStyle(this.resizeBox.nativeElement,Oe,et):this.renderer.removeStyle(this.resizeBox.nativeElement,Oe))}),this.stylesForResizeBox=this.stylesForResizeBox}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new u.FitAddon,this.xterm=new d.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})):this.handleToCheckLazyContainer=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})}finally{this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer)}},500)}ngOnChanges(Oe){var et,Ne,yt,ee;console.group("onChanges"),console.debug("prop: ",Oe),console.groupEnd(),null!=Oe&&Oe._rowsInput&&(null===(et=null==Oe?void 0:Oe._rowsInput)||void 0===et?void 0:et.previousValue)!=(null===(Ne=null==Oe?void 0:Oe._rowsInput)||void 0===Ne?void 0:Ne.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}),null!=Oe&&Oe._colsInput&&(null===(yt=null==Oe?void 0:Oe._colsInput)||void 0===yt?void 0:yt.previousValue)!=(null===(ee=null==Oe?void 0:Oe._colsInput)||void 0===ee?void 0:ee.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}),null!=Oe&&Oe.draggable&&this.linearRender.pushAndHandle({time:new Date,type:"none"})}coordinateOuterAndTerminal(Oe){var et;console.debug(`changeList: ${JSON.stringify(Oe)}`),this.xterm&&(null!==(null===(et=this.hostRef.nativeElement)||void 0===et?void 0:et.offsetParent)?(this.doUpdateXtermStyles(),this.doAdjustDimensionOfResizeBox(Oe),this.doAdjustSizeOfXtermScreen(Oe),this.doUpdateViewportAndResizeBoxWithPixcelUnit()):console.debug("`display` of host element was set to `none`"))}doUpdateXtermStyles(){var Oe,et;!this.xterm||(this.xterm.options=Object.assign({},this._xtermOptions),!(null===(Oe=this._xtermOptions.theme)||void 0===Oe)&&Oe.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),null!==(et=this._xtermOptions.theme)&&void 0!==et&&et.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)))}doAdjustDimensionOfResizeBox(Oe){var et,Ne;if(this.stylesForResizeBox=Object.assign(Object.assign(Object.assign({},this.stylesForResizeBox),this._stylesInput),{width:this.stylesForResizeBox.width,height:this.stylesForResizeBox.height}),"dragged"===Oe.type){const yt=null!==(et=this._minWidthInput)&&void 0!==et?et:24,ee=null!==(Ne=this._minHeightInput)&&void 0!==Ne?Ne:24,Ze=parseInt(Oe.dragged.draggedWidth)>yt?Oe.dragged.draggedWidth:`${yt}px`,Ce=parseInt(Oe.dragged.draggedHeight)>ee?Oe.dragged.draggedHeight:`${ee}px`;this.stylesForResizeBox.width=Ze,this.stylesForResizeBox.height=Ce,this.lastDraggedPosition={width:Ze,height:Ce},this.applyStylesToResizeBox()}else if(!this.draggable||!this.lastDraggedPosition){const yt=getComputedStyle(this.hostRef.nativeElement).width,ee=getComputedStyle(this.detectBox.nativeElement).width;let Ze=!1;parseFloat(ee)<parseFloat(yt)&&(Ze=!0),Ze?(this.stylesForResizeBox.width=`${parseFloat(ee)}px`,this.applyStylesToResizeBox()):(this._rowsInput||(this.stylesForResizeBox.height="100%"),this._colsInput||(this.stylesForResizeBox.width="100%"),this.applyStylesToResizeBox())}}doAdjustSizeOfXtermScreen(Oe){var et,Ne,yt;!this.xterm||("rowChanged"==Oe.type&&this._rowsInput||"columnChanged"==Oe.type&&this._colsInput?this.xterm.resize(null!==(et=this._colsInput)&&void 0!==et?et:this.xterm.cols,null!==(Ne=this._rowsInput)&&void 0!==Ne?Ne:this.xterm.rows):this.xterm.element&&(this.xterm.element.style.paddingLeft=`${this.paddingSize}px`,this.printDimension("Before fitAddon.fit() of Xterm"),null===(yt=this.fitAddon)||void 0===yt||yt.fit(),this.printDimension("After fitAddon.fit() of Xterm"),this.xterm.element.style.paddingLeft="0px"))}doUpdateViewportAndResizeBoxWithPixcelUnit(){var Oe;if(null!==(Oe=this.xterm)&&void 0!==Oe&&Oe.element){let et=this.xterm.element.getElementsByClassName("xterm-screen")[0],Ne=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const yt=et.clientWidth,ee=et.clientHeight,Ce=this.underlying._core.viewport.scrollBarWidth;parseInt(getComputedStyle(this.hostRef.nativeElement).width),this.renderer.setStyle(Ne,"width",`${yt+Ce}px`);const an=yt+Ce+2*this.paddingSize,qt=parseInt(getComputedStyle(this.hostRef.nativeElement).width),xt=an>qt?qt:an;this.stylesForResizeBox=Object.assign(Object.assign({},this.stylesForResizeBox),{width:`${xt}px`,height:`${ee+2*this.paddingSize}px`}),this.applyStylesToResizeBox(),this.printDimension("After update the dimensions for all boxes with pixel values")}}printDimension(Oe){var et;if((0,e.X6Q)()&&(null===(et=this.xterm)||void 0===et?void 0:et.element)){let Ne=this.resizeBox.nativeElement,yt=this.xterm.element.getElementsByClassName("xterm-screen")[0],ee=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Ze=yt.clientWidth,Ce=yt.clientHeight;console.group(`${Oe}`),console.debug(`width(resizeBox): ${getComputedStyle(Ne).width},\nwidth(viewport): ${getComputedStyle(ee).width},\nwidth(screen): ${Ze}\nscrollBarWidth: ${this.scrollBarWidth}`),console.debug(`height(resizeBox): ${getComputedStyle(Ne).height},\nheight(viewport) ${getComputedStyle(ee).height},\nheight(screen): ${Ce}`),console.groupEnd()}}setupResizeObservers(){this.resizableObservers=[];let Oe=this.observeXtermViewportDimension(),et=this.observeHostDimension();Oe&&this.resizableObservers.push(Oe),et&&this.resizableObservers.push(et)}observeXtermViewportDimension(){let Oe=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(Oe){const et=new ResizeObserver(Ne=>{var yt,ee;const Ze=null===(yt=this.terminalOuter.nativeElement)||void 0===yt?void 0:yt.clientWidth,Ce=null===(ee=this.terminalOuter.nativeElement)||void 0===ee?void 0:ee.clientHeight;for(let ft of Ne)if(ft.contentBoxSize.length>0){let an=ft.target.clientWidth,Tn=ft.target.clientHeight;(Ze&&an>Ze||Ce&&Tn>Ce)&&(console.debug("Changes on a xterm viewport element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"xtermViewportExceedingOuterDiv",xtermViewportExceedingOuterDiv:{width:`${an}`,height:`${Tn}`,outerDivWidth:`${Ze}`,outerDivHeight:`${Ce}`}},!0))}});return et.observe(Oe),et}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let Oe=this.hostRef.nativeElement,et=this.detectBox.nativeElement;if(Oe&&et){const Ne=new ResizeObserver(yt=>{for(let ee of yt){if(ee.target===Oe&&ee.contentBoxSize.length>0){let Ze=getComputedStyle(ee.target).width,Ce=getComputedStyle(ee.target).height;parseInt(Ze)>=0&&parseInt(Ce)>=0&&(console.debug("Changes on a host element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"hostResized",hostResized:{width:`${Ze}`,height:`${Ce}`}},!0))}if(ee.target===et&&ee.contentBoxSize.length>0){let Ze=getComputedStyle(ee.target).width;parseInt(Ze)>=0&&parseInt(Ze)<=this.lastDetectedWidth&&(console.debug("Changes on a detect-box element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"detectBoxResized",detectBoxResized:{width:`${Ze}`}},!0)),this.lastDetectedWidth=parseInt(Ze)}}});return Ne.observe(Oe),Ne.observe(et),Ne}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.resizableObservers.forEach(Oe=>Oe.disconnect()),this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer),this.xterm&&this.xterm.dispose(),console.debug("All resources has been cleaned up.")}write(Oe){var et;null===(et=this.xterm)||void 0===et||et.write(Oe)}get keyInput(){return this.dataSubject}onData(){return this.dataSubject}get keyEventInput(){return this.keySubject}onKey(){return this.keySubject}get underlying(){return this.xterm}get isDraggableOnEdgeActivated(){return this._draggable}get scrollBarWidth(){return this.underlying._core.viewport.scrollBarWidth}onResizeEnd(Oe,et,Ne,yt){this.setOuterDimensions(Oe,et,Ne,yt)}validatorFactory(){return et=>!!this._draggable}findCssStyleRule(Oe){for(let et=0;et<document.styleSheets.length;et++){let Ne=document.styleSheets.item(et);if(Ne)for(let yt=0;yt<Ne.cssRules.length;yt++){let ee=Ne.cssRules.item(yt);if("selectorText"in ee&&ee.selectorText.includes(Oe))return ee}}}}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)(e.Y36(e.Qsj),e.Y36(e.SBq))},Ft.\u0275cmp=e.Xpm({type:Ft,selectors:[["ng-terminal"]],viewQuery:function(Oe,et){if(1&Oe&&(e.Gf(Be,7),e.Gf(we,7),e.Gf(ke,7)),2&Oe){let Ne;e.iGM(Ne=e.CRH())&&(et.terminalOuter=Ne.first),e.iGM(Ne=e.CRH())&&(et.resizeBox=Ne.first),e.iGM(Ne=e.CRH())&&(et.detectBox=Ne.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent",dataEmitter:"data",keyEmitter:"key"},features:[e._Bn([Zt]),e.TTD],decls:11,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"],[2,"width","100%","height","0px","position","absolute"],["detectBox",""]],template:function(Oe,et){1&Oe&&(e._UZ(0,"global-style"),e.TgZ(1,"div",0,1),e.NdJ("resizeEnd",function(yt){let ee;return et.onResizeEnd(yt.rectangle.left,yt.rectangle.top,null!==(ee=yt.rectangle.width)&&void 0!==ee?ee:0,null!==(ee=yt.rectangle.height)&&void 0!==ee?ee:0)}),e._UZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e.qZA(),e._UZ(9,"div",8,9)),2&Oe&&(e.xp6(1),e.Q6J("validateResize",et.validatorFactory())("enableGhostResize",!0),e.xp6(4),e.Q6J("ngClass",e.VKq(10,X,et.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(12,q)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,X,et.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(15,pe)),e.xp6(1),e.Q6J("ngClass",e.VKq(16,X,et.isDraggableOnEdgeActivated))("resizeEdges",et.isDraggableOnEdgeActivated?e.DdM(18,_e):e.DdM(19,Xe)),e.xp6(1),e.Q6J("ngClass",e.VKq(20,X,et.isDraggableOnEdgeActivated))("resizeEdges",et.isDraggableOnEdgeActivated?e.DdM(22,ct):e.DdM(23,ot)))},dependencies:[ce,ve,x.mk,Dt],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0;top:0}.resize-handle-right[_ngcontent-%COMP%]{right:0;top:0}"],changeDetection:0}),Ft})(),Xt=(()=>{class Ft{}return Ft.\u0275fac=function(Oe){return new(Oe||Ft)},Ft.\u0275mod=e.oAB({type:Ft}),Ft.\u0275inj=e.cJS({imports:[be,x.ez]}),Ft})()},9354:(dn,pt,C)=>{"use strict";C.d(pt,{lF:()=>zn,JP:()=>oo});var e=C(5e3),d=C(7579),u=C(6451),p=C(9646),x=C(5963),R=C(3900),b=C(9718),s=C(1884),F=C(4782),O=C(8675),Q=C(4004),N=C(2722),y=(C(590),C(9808));let k={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const U=/[&<>"']/,oe=new RegExp(U.source,"g"),K=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,H=new RegExp(K.source,"g"),D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},P=Vt=>D[Vt];function Y(Vt,Ye){if(Ye){if(U.test(Vt))return Vt.replace(oe,P)}else if(K.test(Vt))return Vt.replace(H,P);return Vt}const re=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function j(Vt){return Vt.replace(re,(Ye,Ee)=>"colon"===(Ee=Ee.toLowerCase())?":":"#"===Ee.charAt(0)?"x"===Ee.charAt(1)?String.fromCharCode(parseInt(Ee.substring(2),16)):String.fromCharCode(+Ee.substring(1)):"")}const G=/(^|[^\[])\^/g;function ie(Vt,Ye){Vt="string"==typeof Vt?Vt:Vt.source,Ye=Ye||"";const Ee={replace:(Qe,dt)=>(dt=(dt=dt.source||dt).replace(G,"$1"),Vt=Vt.replace(Qe,dt),Ee),getRegex:()=>new RegExp(Vt,Ye)};return Ee}const Te=/[^\w:]/g,Me=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function de(Vt,Ye,Ee){if(Vt){let Qe;try{Qe=decodeURIComponent(j(Ee)).replace(Te,"").toLowerCase()}catch(dt){return null}if(0===Qe.indexOf("javascript:")||0===Qe.indexOf("vbscript:")||0===Qe.indexOf("data:"))return null}Ye&&!Me.test(Ee)&&(Ee=function be(Vt,Ye){te[" "+Vt]||(te[" "+Vt]=ce.test(Vt)?Vt+"/":X(Vt,"/",!0));const Ee=-1===(Vt=te[" "+Vt]).indexOf(":");return"//"===Ye.substring(0,2)?Ee?Ye:Vt.replace(J,"$1")+Ye:"/"===Ye.charAt(0)?Ee?Ye:Vt.replace(ve,"$1")+Ye:Vt+Ye}(Ye,Ee));try{Ee=encodeURI(Ee).replace(/%25/g,"%")}catch(Qe){return null}return Ee}const te={},ce=/^[^:]+:\/*[^/]*$/,J=/^([^:]+:)[\s\S]*$/,ve=/^([^:]+:\/*[^/]*)[\s\S]*$/,Be={exec:function(){}};function we(Vt){let Ee,Qe,Ye=1;for(;Ye<arguments.length;Ye++)for(Qe in Ee=arguments[Ye],Ee)Object.prototype.hasOwnProperty.call(Ee,Qe)&&(Vt[Qe]=Ee[Qe]);return Vt}function ke(Vt,Ye){const Qe=Vt.replace(/\|/g,(gn,xn,yn)=>{let Zn=!1,$n=xn;for(;--$n>=0&&"\\"===yn[$n];)Zn=!Zn;return Zn?"|":" |"}).split(/ \|/);let dt=0;if(Qe[0].trim()||Qe.shift(),Qe.length>0&&!Qe[Qe.length-1].trim()&&Qe.pop(),Qe.length>Ye)Qe.splice(Ye);else for(;Qe.length<Ye;)Qe.push("");for(;dt<Qe.length;dt++)Qe[dt]=Qe[dt].trim().replace(/\\\|/g,"|");return Qe}function X(Vt,Ye,Ee){const Qe=Vt.length;if(0===Qe)return"";let dt=0;for(;dt<Qe;){const gn=Vt.charAt(Qe-dt-1);if(gn!==Ye||Ee){if(gn===Ye||!Ee)break;dt++}else dt++}return Vt.slice(0,Qe-dt)}function pe(Vt){Vt&&Vt.sanitize&&!Vt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _e(Vt,Ye){if(Ye<1)return"";let Ee="";for(;Ye>1;)1&Ye&&(Ee+=Vt),Ye>>=1,Vt+=Vt;return Ee+Vt}function Xe(Vt,Ye,Ee,Qe){const dt=Ye.href,gn=Ye.title?Y(Ye.title):null,xn=Vt[1].replace(/\\([\[\]])/g,"$1");if("!"!==Vt[0].charAt(0)){Qe.state.inLink=!0;const yn={type:"link",raw:Ee,href:dt,title:gn,text:xn,tokens:Qe.inlineTokens(xn)};return Qe.state.inLink=!1,yn}return{type:"image",raw:Ee,href:dt,title:gn,text:Y(xn)}}class ot{constructor(Ye){this.options=Ye||k}space(Ye){const Ee=this.rules.block.newline.exec(Ye);if(Ee&&Ee[0].length>0)return{type:"space",raw:Ee[0]}}code(Ye){const Ee=this.rules.block.code.exec(Ye);if(Ee){const Qe=Ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ee[0],codeBlockStyle:"indented",text:this.options.pedantic?Qe:X(Qe,"\n")}}}fences(Ye){const Ee=this.rules.block.fences.exec(Ye);if(Ee){const Qe=Ee[0],dt=function ct(Vt,Ye){const Ee=Vt.match(/^(\s+)(?:```)/);if(null===Ee)return Ye;const Qe=Ee[1];return Ye.split("\n").map(dt=>{const gn=dt.match(/^\s+/);if(null===gn)return dt;const[xn]=gn;return xn.length>=Qe.length?dt.slice(Qe.length):dt}).join("\n")}(Qe,Ee[3]||"");return{type:"code",raw:Qe,lang:Ee[2]?Ee[2].trim().replace(this.rules.inline._escapes,"$1"):Ee[2],text:dt}}}heading(Ye){const Ee=this.rules.block.heading.exec(Ye);if(Ee){let Qe=Ee[2].trim();if(/#$/.test(Qe)){const dt=X(Qe,"#");(this.options.pedantic||!dt||/ $/.test(dt))&&(Qe=dt.trim())}return{type:"heading",raw:Ee[0],depth:Ee[1].length,text:Qe,tokens:this.lexer.inline(Qe)}}}hr(Ye){const Ee=this.rules.block.hr.exec(Ye);if(Ee)return{type:"hr",raw:Ee[0]}}blockquote(Ye){const Ee=this.rules.block.blockquote.exec(Ye);if(Ee){const Qe=Ee[0].replace(/^ *>[ \t]?/gm,""),dt=this.lexer.state.top;this.lexer.state.top=!0;const gn=this.lexer.blockTokens(Qe);return this.lexer.state.top=dt,{type:"blockquote",raw:Ee[0],tokens:gn,text:Qe}}}list(Ye){let Ee=this.rules.block.list.exec(Ye);if(Ee){let Qe,dt,gn,xn,yn,Zn,$n,ti,li,mi,oi,Mi,Wi=Ee[1].trim();const wo=Wi.length>1,ai={type:"list",raw:"",ordered:wo,start:wo?+Wi.slice(0,-1):"",loose:!1,items:[]};Wi=wo?`\\d{1,9}\\${Wi.slice(-1)}`:`\\${Wi}`,this.options.pedantic&&(Wi=wo?Wi:"[*+-]");const Gi=new RegExp(`^( {0,3}${Wi})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;Ye&&(Mi=!1,(Ee=Gi.exec(Ye))&&!this.rules.block.hr.test(Ye));){if(Qe=Ee[0],Ye=Ye.substring(Qe.length),ti=Ee[2].split("\n",1)[0].replace(/^\t+/,Yo=>" ".repeat(3*Yo.length)),li=Ye.split("\n",1)[0],this.options.pedantic?(xn=2,oi=ti.trimLeft()):(xn=Ee[2].search(/[^ ]/),xn=xn>4?1:xn,oi=ti.slice(xn),xn+=Ee[1].length),Zn=!1,!ti&&/^ *$/.test(li)&&(Qe+=li+"\n",Ye=Ye.substring(li.length+1),Mi=!0),!Mi){const Yo=new RegExp(`^ {0,${Math.min(3,xn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Co=new RegExp(`^ {0,${Math.min(3,xn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),$i=new RegExp(`^ {0,${Math.min(3,xn-1)}}(?:\`\`\`|~~~)`),is=new RegExp(`^ {0,${Math.min(3,xn-1)}}#`);for(;Ye&&(mi=Ye.split("\n",1)[0],li=mi,this.options.pedantic&&(li=li.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!($i.test(li)||is.test(li)||Yo.test(li)||Co.test(Ye)));){if(li.search(/[^ ]/)>=xn||!li.trim())oi+="\n"+li.slice(xn);else{if(Zn||ti.search(/[^ ]/)>=4||$i.test(ti)||is.test(ti)||Co.test(ti))break;oi+="\n"+li}!Zn&&!li.trim()&&(Zn=!0),Qe+=mi+"\n",Ye=Ye.substring(mi.length+1),ti=li.slice(xn)}}ai.loose||($n?ai.loose=!0:/\n *\n *$/.test(Qe)&&($n=!0)),this.options.gfm&&(dt=/^\[[ xX]\] /.exec(oi),dt&&(gn="[ ] "!==dt[0],oi=oi.replace(/^\[[ xX]\] +/,""))),ai.items.push({type:"list_item",raw:Qe,task:!!dt,checked:gn,loose:!1,text:oi}),ai.raw+=Qe}ai.items[ai.items.length-1].raw=Qe.trimRight(),ai.items[ai.items.length-1].text=oi.trimRight(),ai.raw=ai.raw.trimRight();const Eo=ai.items.length;for(yn=0;yn<Eo;yn++)if(this.lexer.state.top=!1,ai.items[yn].tokens=this.lexer.blockTokens(ai.items[yn].text,[]),!ai.loose){const Yo=ai.items[yn].tokens.filter($i=>"space"===$i.type),Co=Yo.length>0&&Yo.some($i=>/\n.*\n/.test($i.raw));ai.loose=Co}if(ai.loose)for(yn=0;yn<Eo;yn++)ai.items[yn].loose=!0;return ai}}html(Ye){const Ee=this.rules.block.html.exec(Ye);if(Ee){const Qe={type:"html",raw:Ee[0],pre:!this.options.sanitizer&&("pre"===Ee[1]||"script"===Ee[1]||"style"===Ee[1]),text:Ee[0]};if(this.options.sanitize){const dt=this.options.sanitizer?this.options.sanitizer(Ee[0]):Y(Ee[0]);Qe.type="paragraph",Qe.text=dt,Qe.tokens=this.lexer.inline(dt)}return Qe}}def(Ye){const Ee=this.rules.block.def.exec(Ye);if(Ee){const Qe=Ee[1].toLowerCase().replace(/\s+/g," "),dt=Ee[2]?Ee[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",gn=Ee[3]?Ee[3].substring(1,Ee[3].length-1).replace(this.rules.inline._escapes,"$1"):Ee[3];return{type:"def",tag:Qe,raw:Ee[0],href:dt,title:gn}}}table(Ye){const Ee=this.rules.block.table.exec(Ye);if(Ee){const Qe={type:"table",header:ke(Ee[1]).map(dt=>({text:dt})),align:Ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ee[3]&&Ee[3].trim()?Ee[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Qe.header.length===Qe.align.length){Qe.raw=Ee[0];let gn,xn,yn,Zn,dt=Qe.align.length;for(gn=0;gn<dt;gn++)Qe.align[gn]=/^ *-+: *$/.test(Qe.align[gn])?"right":/^ *:-+: *$/.test(Qe.align[gn])?"center":/^ *:-+ *$/.test(Qe.align[gn])?"left":null;for(dt=Qe.rows.length,gn=0;gn<dt;gn++)Qe.rows[gn]=ke(Qe.rows[gn],Qe.header.length).map($n=>({text:$n}));for(dt=Qe.header.length,xn=0;xn<dt;xn++)Qe.header[xn].tokens=this.lexer.inline(Qe.header[xn].text);for(dt=Qe.rows.length,xn=0;xn<dt;xn++)for(Zn=Qe.rows[xn],yn=0;yn<Zn.length;yn++)Zn[yn].tokens=this.lexer.inline(Zn[yn].text);return Qe}}}lheading(Ye){const Ee=this.rules.block.lheading.exec(Ye);if(Ee)return{type:"heading",raw:Ee[0],depth:"="===Ee[2].charAt(0)?1:2,text:Ee[1],tokens:this.lexer.inline(Ee[1])}}paragraph(Ye){const Ee=this.rules.block.paragraph.exec(Ye);if(Ee){const Qe="\n"===Ee[1].charAt(Ee[1].length-1)?Ee[1].slice(0,-1):Ee[1];return{type:"paragraph",raw:Ee[0],text:Qe,tokens:this.lexer.inline(Qe)}}}text(Ye){const Ee=this.rules.block.text.exec(Ye);if(Ee)return{type:"text",raw:Ee[0],text:Ee[0],tokens:this.lexer.inline(Ee[0])}}escape(Ye){const Ee=this.rules.inline.escape.exec(Ye);if(Ee)return{type:"escape",raw:Ee[0],text:Y(Ee[1])}}tag(Ye){const Ee=this.rules.inline.tag.exec(Ye);if(Ee)return!this.lexer.state.inLink&&/^<a /i.test(Ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ee[0]):Y(Ee[0]):Ee[0]}}link(Ye){const Ee=this.rules.inline.link.exec(Ye);if(Ee){const Qe=Ee[2].trim();if(!this.options.pedantic&&/^</.test(Qe)){if(!/>$/.test(Qe))return;const xn=X(Qe.slice(0,-1),"\\");if((Qe.length-xn.length)%2==0)return}else{const xn=function q(Vt,Ye){if(-1===Vt.indexOf(Ye[1]))return-1;const Ee=Vt.length;let Qe=0,dt=0;for(;dt<Ee;dt++)if("\\"===Vt[dt])dt++;else if(Vt[dt]===Ye[0])Qe++;else if(Vt[dt]===Ye[1]&&(Qe--,Qe<0))return dt;return-1}(Ee[2],"()");if(xn>-1){const Zn=(0===Ee[0].indexOf("!")?5:4)+Ee[1].length+xn;Ee[2]=Ee[2].substring(0,xn),Ee[0]=Ee[0].substring(0,Zn).trim(),Ee[3]=""}}let dt=Ee[2],gn="";if(this.options.pedantic){const xn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(dt);xn&&(dt=xn[1],gn=xn[3])}else gn=Ee[3]?Ee[3].slice(1,-1):"";return dt=dt.trim(),/^</.test(dt)&&(dt=this.options.pedantic&&!/>$/.test(Qe)?dt.slice(1):dt.slice(1,-1)),Xe(Ee,{href:dt&&dt.replace(this.rules.inline._escapes,"$1"),title:gn&&gn.replace(this.rules.inline._escapes,"$1")},Ee[0],this.lexer)}}reflink(Ye,Ee){let Qe;if((Qe=this.rules.inline.reflink.exec(Ye))||(Qe=this.rules.inline.nolink.exec(Ye))){let dt=(Qe[2]||Qe[1]).replace(/\s+/g," ");if(dt=Ee[dt.toLowerCase()],!dt){const gn=Qe[0].charAt(0);return{type:"text",raw:gn,text:gn}}return Xe(Qe,dt,Qe[0],this.lexer)}}emStrong(Ye,Ee,Qe=""){let dt=this.rules.inline.emStrong.lDelim.exec(Ye);if(!dt||dt[3]&&Qe.match(/[\p{L}\p{N}]/u))return;const gn=dt[1]||dt[2]||"";if(!gn||gn&&(""===Qe||this.rules.inline.punctuation.exec(Qe))){const xn=dt[0].length-1;let yn,Zn,$n=xn,ti=0;const li="*"===dt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(li.lastIndex=0,Ee=Ee.slice(-1*Ye.length+xn);null!=(dt=li.exec(Ee));){if(yn=dt[1]||dt[2]||dt[3]||dt[4]||dt[5]||dt[6],!yn)continue;if(Zn=yn.length,dt[3]||dt[4]){$n+=Zn;continue}if((dt[5]||dt[6])&&xn%3&&!((xn+Zn)%3)){ti+=Zn;continue}if($n-=Zn,$n>0)continue;Zn=Math.min(Zn,Zn+$n+ti);const mi=Ye.slice(0,xn+dt.index+(dt[0].length-yn.length)+Zn);if(Math.min(xn,Zn)%2){const Mi=mi.slice(1,-1);return{type:"em",raw:mi,text:Mi,tokens:this.lexer.inlineTokens(Mi)}}const oi=mi.slice(2,-2);return{type:"strong",raw:mi,text:oi,tokens:this.lexer.inlineTokens(oi)}}}}codespan(Ye){const Ee=this.rules.inline.code.exec(Ye);if(Ee){let Qe=Ee[2].replace(/\n/g," ");const dt=/[^ ]/.test(Qe),gn=/^ /.test(Qe)&&/ $/.test(Qe);return dt&&gn&&(Qe=Qe.substring(1,Qe.length-1)),Qe=Y(Qe,!0),{type:"codespan",raw:Ee[0],text:Qe}}}br(Ye){const Ee=this.rules.inline.br.exec(Ye);if(Ee)return{type:"br",raw:Ee[0]}}del(Ye){const Ee=this.rules.inline.del.exec(Ye);if(Ee)return{type:"del",raw:Ee[0],text:Ee[2],tokens:this.lexer.inlineTokens(Ee[2])}}autolink(Ye,Ee){const Qe=this.rules.inline.autolink.exec(Ye);if(Qe){let dt,gn;return"@"===Qe[2]?(dt=Y(this.options.mangle?Ee(Qe[1]):Qe[1]),gn="mailto:"+dt):(dt=Y(Qe[1]),gn=dt),{type:"link",raw:Qe[0],text:dt,href:gn,tokens:[{type:"text",raw:dt,text:dt}]}}}url(Ye,Ee){let Qe;if(Qe=this.rules.inline.url.exec(Ye)){let dt,gn;if("@"===Qe[2])dt=Y(this.options.mangle?Ee(Qe[0]):Qe[0]),gn="mailto:"+dt;else{let xn;do{xn=Qe[0],Qe[0]=this.rules.inline._backpedal.exec(Qe[0])[0]}while(xn!==Qe[0]);dt=Y(Qe[0]),gn="www."===Qe[1]?"http://"+Qe[0]:Qe[0]}return{type:"link",raw:Qe[0],text:dt,href:gn,tokens:[{type:"text",raw:dt,text:dt}]}}}inlineText(Ye,Ee){const Qe=this.rules.inline.text.exec(Ye);if(Qe){let dt;return dt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Qe[0]):Y(Qe[0]):Qe[0]:Y(this.options.smartypants?Ee(Qe[0]):Qe[0]),{type:"text",raw:Qe[0],text:dt}}}}const Zt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Be,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Zt.def=ie(Zt.def).replace("label",Zt._label).replace("title",Zt._title).getRegex(),Zt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Zt.listItemStart=ie(/^( *)(bull) */).replace("bull",Zt.bullet).getRegex(),Zt.list=ie(Zt.list).replace(/bull/g,Zt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Zt.def.source+")").getRegex(),Zt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Zt.html=ie(Zt.html,"i").replace("comment",Zt._comment).replace("tag",Zt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zt.paragraph=ie(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.blockquote=ie(Zt.blockquote).replace("paragraph",Zt.paragraph).getRegex(),Zt.normal=we({},Zt),Zt.gfm=we({},Zt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Zt.gfm.table=ie(Zt.gfm.table).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.gfm.paragraph=ie(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Zt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.pedantic=we({},Zt.normal,{html:ie("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Zt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Be,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ie(Zt.normal._paragraph).replace("hr",Zt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Zt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Dt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Be,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Be,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Cn(Vt){return Vt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Xt(Vt){let Ee,Qe,Ye="";const dt=Vt.length;for(Ee=0;Ee<dt;Ee++)Qe=Vt.charCodeAt(Ee),Math.random()>.5&&(Qe="x"+Qe.toString(16)),Ye+="&#"+Qe+";";return Ye}Dt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Dt.punctuation=ie(Dt.punctuation).replace(/punctuation/g,Dt._punctuation).getRegex(),Dt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Dt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Dt._comment=ie(Zt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Dt.emStrong.lDelim=ie(Dt.emStrong.lDelim).replace(/punct/g,Dt._punctuation).getRegex(),Dt.emStrong.rDelimAst=ie(Dt.emStrong.rDelimAst,"g").replace(/punct/g,Dt._punctuation).getRegex(),Dt.emStrong.rDelimUnd=ie(Dt.emStrong.rDelimUnd,"g").replace(/punct/g,Dt._punctuation).getRegex(),Dt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Dt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Dt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Dt.autolink=ie(Dt.autolink).replace("scheme",Dt._scheme).replace("email",Dt._email).getRegex(),Dt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Dt.tag=ie(Dt.tag).replace("comment",Dt._comment).replace("attribute",Dt._attribute).getRegex(),Dt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Dt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Dt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Dt.link=ie(Dt.link).replace("label",Dt._label).replace("href",Dt._href).replace("title",Dt._title).getRegex(),Dt.reflink=ie(Dt.reflink).replace("label",Dt._label).replace("ref",Zt._label).getRegex(),Dt.nolink=ie(Dt.nolink).replace("ref",Zt._label).getRegex(),Dt.reflinkSearch=ie(Dt.reflinkSearch,"g").replace("reflink",Dt.reflink).replace("nolink",Dt.nolink).getRegex(),Dt.normal=we({},Dt),Dt.pedantic=we({},Dt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ie(/^!?\[(label)\]\((.*?)\)/).replace("label",Dt._label).getRegex(),reflink:ie(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Dt._label).getRegex()}),Dt.gfm=we({},Dt.normal,{escape:ie(Dt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Dt.gfm.url=ie(Dt.gfm.url,"i").replace("email",Dt.gfm._extended_email).getRegex(),Dt.breaks=we({},Dt.gfm,{br:ie(Dt.br).replace("{2,}","*").getRegex(),text:ie(Dt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class jt{constructor(Ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ye||k,this.options.tokenizer=this.options.tokenizer||new ot,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Ee={block:Zt.normal,inline:Dt.normal};this.options.pedantic?(Ee.block=Zt.pedantic,Ee.inline=Dt.pedantic):this.options.gfm&&(Ee.block=Zt.gfm,Ee.inline=this.options.breaks?Dt.breaks:Dt.gfm),this.tokenizer.rules=Ee}static get rules(){return{block:Zt,inline:Dt}}static lex(Ye,Ee){return new jt(Ee).lex(Ye)}static lexInline(Ye,Ee){return new jt(Ee).inlineTokens(Ye)}lex(Ye){let Ee;for(Ye=Ye.replace(/\r\n|\r/g,"\n"),this.blockTokens(Ye,this.tokens);Ee=this.inlineQueue.shift();)this.inlineTokens(Ee.src,Ee.tokens);return this.tokens}blockTokens(Ye,Ee=[]){let Qe,dt,gn,xn;for(Ye=this.options.pedantic?Ye.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ye.replace(/^( *)(\t+)/gm,(yn,Zn,$n)=>Zn+"    ".repeat($n.length));Ye;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(yn=>!!(Qe=yn.call({lexer:this},Ye,Ee))&&(Ye=Ye.substring(Qe.raw.length),Ee.push(Qe),!0)))){if(Qe=this.tokenizer.space(Ye)){Ye=Ye.substring(Qe.raw.length),1===Qe.raw.length&&Ee.length>0?Ee[Ee.length-1].raw+="\n":Ee.push(Qe);continue}if(Qe=this.tokenizer.code(Ye)){Ye=Ye.substring(Qe.raw.length),dt=Ee[Ee.length-1],!dt||"paragraph"!==dt.type&&"text"!==dt.type?Ee.push(Qe):(dt.raw+="\n"+Qe.raw,dt.text+="\n"+Qe.text,this.inlineQueue[this.inlineQueue.length-1].src=dt.text);continue}if(Qe=this.tokenizer.fences(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.heading(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.hr(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.blockquote(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.list(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.html(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.def(Ye)){Ye=Ye.substring(Qe.raw.length),dt=Ee[Ee.length-1],!dt||"paragraph"!==dt.type&&"text"!==dt.type?this.tokens.links[Qe.tag]||(this.tokens.links[Qe.tag]={href:Qe.href,title:Qe.title}):(dt.raw+="\n"+Qe.raw,dt.text+="\n"+Qe.raw,this.inlineQueue[this.inlineQueue.length-1].src=dt.text);continue}if(Qe=this.tokenizer.table(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.lheading(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(gn=Ye,this.options.extensions&&this.options.extensions.startBlock){let yn=1/0;const Zn=Ye.slice(1);let $n;this.options.extensions.startBlock.forEach(function(ti){$n=ti.call({lexer:this},Zn),"number"==typeof $n&&$n>=0&&(yn=Math.min(yn,$n))}),yn<1/0&&yn>=0&&(gn=Ye.substring(0,yn+1))}if(this.state.top&&(Qe=this.tokenizer.paragraph(gn))){dt=Ee[Ee.length-1],xn&&"paragraph"===dt.type?(dt.raw+="\n"+Qe.raw,dt.text+="\n"+Qe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dt.text):Ee.push(Qe),xn=gn.length!==Ye.length,Ye=Ye.substring(Qe.raw.length);continue}if(Qe=this.tokenizer.text(Ye)){Ye=Ye.substring(Qe.raw.length),dt=Ee[Ee.length-1],dt&&"text"===dt.type?(dt.raw+="\n"+Qe.raw,dt.text+="\n"+Qe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dt.text):Ee.push(Qe);continue}if(Ye){const yn="Infinite loop on byte: "+Ye.charCodeAt(0);if(this.options.silent){console.error(yn);break}throw new Error(yn)}}return this.state.top=!0,Ee}inline(Ye,Ee=[]){return this.inlineQueue.push({src:Ye,tokens:Ee}),Ee}inlineTokens(Ye,Ee=[]){let Qe,dt,gn,yn,Zn,$n,xn=Ye;if(this.tokens.links){const ti=Object.keys(this.tokens.links);if(ti.length>0)for(;null!=(yn=this.tokenizer.rules.inline.reflinkSearch.exec(xn));)ti.includes(yn[0].slice(yn[0].lastIndexOf("[")+1,-1))&&(xn=xn.slice(0,yn.index)+"["+_e("a",yn[0].length-2)+"]"+xn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(yn=this.tokenizer.rules.inline.blockSkip.exec(xn));)xn=xn.slice(0,yn.index)+"["+_e("a",yn[0].length-2)+"]"+xn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(yn=this.tokenizer.rules.inline.escapedEmSt.exec(xn));)xn=xn.slice(0,yn.index+yn[0].length-2)+"++"+xn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Ye;)if(Zn||($n=""),Zn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ti=>!!(Qe=ti.call({lexer:this},Ye,Ee))&&(Ye=Ye.substring(Qe.raw.length),Ee.push(Qe),!0)))){if(Qe=this.tokenizer.escape(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.tag(Ye)){Ye=Ye.substring(Qe.raw.length),dt=Ee[Ee.length-1],dt&&"text"===Qe.type&&"text"===dt.type?(dt.raw+=Qe.raw,dt.text+=Qe.text):Ee.push(Qe);continue}if(Qe=this.tokenizer.link(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.reflink(Ye,this.tokens.links)){Ye=Ye.substring(Qe.raw.length),dt=Ee[Ee.length-1],dt&&"text"===Qe.type&&"text"===dt.type?(dt.raw+=Qe.raw,dt.text+=Qe.text):Ee.push(Qe);continue}if(Qe=this.tokenizer.emStrong(Ye,xn,$n)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.codespan(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.br(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.del(Ye)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(Qe=this.tokenizer.autolink(Ye,Xt)){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(!this.state.inLink&&(Qe=this.tokenizer.url(Ye,Xt))){Ye=Ye.substring(Qe.raw.length),Ee.push(Qe);continue}if(gn=Ye,this.options.extensions&&this.options.extensions.startInline){let ti=1/0;const li=Ye.slice(1);let mi;this.options.extensions.startInline.forEach(function(oi){mi=oi.call({lexer:this},li),"number"==typeof mi&&mi>=0&&(ti=Math.min(ti,mi))}),ti<1/0&&ti>=0&&(gn=Ye.substring(0,ti+1))}if(Qe=this.tokenizer.inlineText(gn,Cn)){Ye=Ye.substring(Qe.raw.length),"_"!==Qe.raw.slice(-1)&&($n=Qe.raw.slice(-1)),Zn=!0,dt=Ee[Ee.length-1],dt&&"text"===dt.type?(dt.raw+=Qe.raw,dt.text+=Qe.text):Ee.push(Qe);continue}if(Ye){const ti="Infinite loop on byte: "+Ye.charCodeAt(0);if(this.options.silent){console.error(ti);break}throw new Error(ti)}}return Ee}}class ht{constructor(Ye){this.options=Ye||k}code(Ye,Ee,Qe){const dt=(Ee||"").match(/\S*/)[0];if(this.options.highlight){const gn=this.options.highlight(Ye,dt);null!=gn&&gn!==Ye&&(Qe=!0,Ye=gn)}return Ye=Ye.replace(/\n$/,"")+"\n",dt?'<pre><code class="'+this.options.langPrefix+Y(dt)+'">'+(Qe?Ye:Y(Ye,!0))+"</code></pre>\n":"<pre><code>"+(Qe?Ye:Y(Ye,!0))+"</code></pre>\n"}blockquote(Ye){return`<blockquote>\n${Ye}</blockquote>\n`}html(Ye){return Ye}heading(Ye,Ee,Qe,dt){return this.options.headerIds?`<h${Ee} id="${this.options.headerPrefix+dt.slug(Qe)}">${Ye}</h${Ee}>\n`:`<h${Ee}>${Ye}</h${Ee}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(Ye,Ee,Qe){const dt=Ee?"ol":"ul";return"<"+dt+(Ee&&1!==Qe?' start="'+Qe+'"':"")+">\n"+Ye+"</"+dt+">\n"}listitem(Ye){return`<li>${Ye}</li>\n`}checkbox(Ye){return"<input "+(Ye?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(Ye){return`<p>${Ye}</p>\n`}table(Ye,Ee){return Ee&&(Ee=`<tbody>${Ee}</tbody>`),"<table>\n<thead>\n"+Ye+"</thead>\n"+Ee+"</table>\n"}tablerow(Ye){return`<tr>\n${Ye}</tr>\n`}tablecell(Ye,Ee){const Qe=Ee.header?"th":"td";return(Ee.align?`<${Qe} align="${Ee.align}">`:`<${Qe}>`)+Ye+`</${Qe}>\n`}strong(Ye){return`<strong>${Ye}</strong>`}em(Ye){return`<em>${Ye}</em>`}codespan(Ye){return`<code>${Ye}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(Ye){return`<del>${Ye}</del>`}link(Ye,Ee,Qe){if(null===(Ye=de(this.options.sanitize,this.options.baseUrl,Ye)))return Qe;let dt='<a href="'+Ye+'"';return Ee&&(dt+=' title="'+Ee+'"'),dt+=">"+Qe+"</a>",dt}image(Ye,Ee,Qe){if(null===(Ye=de(this.options.sanitize,this.options.baseUrl,Ye)))return Qe;let dt=`<img src="${Ye}" alt="${Qe}"`;return Ee&&(dt+=` title="${Ee}"`),dt+=this.options.xhtml?"/>":">",dt}text(Ye){return Ye}}class ut{strong(Ye){return Ye}em(Ye){return Ye}codespan(Ye){return Ye}del(Ye){return Ye}html(Ye){return Ye}text(Ye){return Ye}link(Ye,Ee,Qe){return""+Qe}image(Ye,Ee,Qe){return""+Qe}br(){return""}}class xe{constructor(){this.seen={}}serialize(Ye){return Ye.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(Ye,Ee){let Qe=Ye,dt=0;if(this.seen.hasOwnProperty(Qe)){dt=this.seen[Ye];do{dt++,Qe=Ye+"-"+dt}while(this.seen.hasOwnProperty(Qe))}return Ee||(this.seen[Ye]=dt,this.seen[Qe]=0),Qe}slug(Ye,Ee={}){const Qe=this.serialize(Ye);return this.getNextSafeSlug(Qe,Ee.dryrun)}}class De{constructor(Ye){this.options=Ye||k,this.options.renderer=this.options.renderer||new ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ut,this.slugger=new xe}static parse(Ye,Ee){return new De(Ee).parse(Ye)}static parseInline(Ye,Ee){return new De(Ee).parseInline(Ye)}parse(Ye,Ee=!0){let dt,gn,xn,yn,Zn,$n,ti,li,mi,oi,Mi,Wi,wo,ai,Gi,Eo,Yo,Co,$i,Qe="";const is=Ye.length;for(dt=0;dt<is;dt++)if(oi=Ye[dt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oi.type]&&($i=this.options.extensions.renderers[oi.type].call({parser:this},oi),!1!==$i||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(oi.type)))Qe+=$i||"";else switch(oi.type){case"space":continue;case"hr":Qe+=this.renderer.hr();continue;case"heading":Qe+=this.renderer.heading(this.parseInline(oi.tokens),oi.depth,j(this.parseInline(oi.tokens,this.textRenderer)),this.slugger);continue;case"code":Qe+=this.renderer.code(oi.text,oi.lang,oi.escaped);continue;case"table":for(li="",ti="",yn=oi.header.length,gn=0;gn<yn;gn++)ti+=this.renderer.tablecell(this.parseInline(oi.header[gn].tokens),{header:!0,align:oi.align[gn]});for(li+=this.renderer.tablerow(ti),mi="",yn=oi.rows.length,gn=0;gn<yn;gn++){for($n=oi.rows[gn],ti="",Zn=$n.length,xn=0;xn<Zn;xn++)ti+=this.renderer.tablecell(this.parseInline($n[xn].tokens),{header:!1,align:oi.align[xn]});mi+=this.renderer.tablerow(ti)}Qe+=this.renderer.table(li,mi);continue;case"blockquote":mi=this.parse(oi.tokens),Qe+=this.renderer.blockquote(mi);continue;case"list":for(Mi=oi.ordered,Wi=oi.start,wo=oi.loose,yn=oi.items.length,mi="",gn=0;gn<yn;gn++)Gi=oi.items[gn],Eo=Gi.checked,Yo=Gi.task,ai="",Gi.task&&(Co=this.renderer.checkbox(Eo),wo?Gi.tokens.length>0&&"paragraph"===Gi.tokens[0].type?(Gi.tokens[0].text=Co+" "+Gi.tokens[0].text,Gi.tokens[0].tokens&&Gi.tokens[0].tokens.length>0&&"text"===Gi.tokens[0].tokens[0].type&&(Gi.tokens[0].tokens[0].text=Co+" "+Gi.tokens[0].tokens[0].text)):Gi.tokens.unshift({type:"text",text:Co}):ai+=Co),ai+=this.parse(Gi.tokens,wo),mi+=this.renderer.listitem(ai,Yo,Eo);Qe+=this.renderer.list(mi,Mi,Wi);continue;case"html":Qe+=this.renderer.html(oi.text);continue;case"paragraph":Qe+=this.renderer.paragraph(this.parseInline(oi.tokens));continue;case"text":for(mi=oi.tokens?this.parseInline(oi.tokens):oi.text;dt+1<is&&"text"===Ye[dt+1].type;)oi=Ye[++dt],mi+="\n"+(oi.tokens?this.parseInline(oi.tokens):oi.text);Qe+=Ee?this.renderer.paragraph(mi):mi;continue;default:{const us='Token with "'+oi.type+'" type was not found.';if(this.options.silent)return void console.error(us);throw new Error(us)}}return Qe}parseInline(Ye,Ee){Ee=Ee||this.renderer;let dt,gn,xn,Qe="";const yn=Ye.length;for(dt=0;dt<yn;dt++)if(gn=Ye[dt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[gn.type]&&(xn=this.options.extensions.renderers[gn.type].call({parser:this},gn),!1!==xn||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(gn.type)))Qe+=xn||"";else switch(gn.type){case"escape":case"text":Qe+=Ee.text(gn.text);break;case"html":Qe+=Ee.html(gn.text);break;case"link":Qe+=Ee.link(gn.href,gn.title,this.parseInline(gn.tokens,Ee));break;case"image":Qe+=Ee.image(gn.href,gn.title,gn.text);break;case"strong":Qe+=Ee.strong(this.parseInline(gn.tokens,Ee));break;case"em":Qe+=Ee.em(this.parseInline(gn.tokens,Ee));break;case"codespan":Qe+=Ee.codespan(gn.text);break;case"br":Qe+=Ee.br();break;case"del":Qe+=Ee.del(this.parseInline(gn.tokens,Ee));break;default:{const Zn='Token with "'+gn.type+'" type was not found.';if(this.options.silent)return void console.error(Zn);throw new Error(Zn)}}return Qe}}function We(Vt,Ye,Ee){if(null==Vt)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Vt)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Vt)+", string expected");if("function"==typeof Ye&&(Ee=Ye,Ye=null),pe(Ye=we({},We.defaults,Ye||{})),Ee){const dt=Ye.highlight;let gn;try{gn=jt.lex(Vt,Ye)}catch(Zn){return Ee(Zn)}const xn=function(Zn){let $n;if(!Zn)try{Ye.walkTokens&&We.walkTokens(gn,Ye.walkTokens),$n=De.parse(gn,Ye)}catch(ti){Zn=ti}return Ye.highlight=dt,Zn?Ee(Zn):Ee(null,$n)};if(!dt||dt.length<3||(delete Ye.highlight,!gn.length))return xn();let yn=0;return We.walkTokens(gn,function(Zn){"code"===Zn.type&&(yn++,setTimeout(()=>{dt(Zn.text,Zn.lang,function($n,ti){if($n)return xn($n);null!=ti&&ti!==Zn.text&&(Zn.text=ti,Zn.escaped=!0),yn--,0===yn&&xn()})},0))}),void(0===yn&&xn())}function Qe(dt){if(dt.message+="\nPlease report this to https://github.com/markedjs/marked.",Ye.silent)return"<p>An error occurred:</p><pre>"+Y(dt.message+"",!0)+"</pre>";throw dt}try{const dt=jt.lex(Vt,Ye);if(Ye.walkTokens){if(Ye.async)return Promise.all(We.walkTokens(dt,Ye.walkTokens)).then(()=>De.parse(dt,Ye)).catch(Qe);We.walkTokens(dt,Ye.walkTokens)}return De.parse(dt,Ye)}catch(dt){Qe(dt)}}We.options=We.setOptions=function(Vt){return we(We.defaults,Vt),function V(Vt){k=Vt}(We.defaults),We},We.getDefaults=function w(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},We.defaults=k,We.use=function(...Vt){const Ye=We.defaults.extensions||{renderers:{},childTokens:{}};Vt.forEach(Ee=>{const Qe=we({},Ee);if(Qe.async=We.defaults.async||Qe.async,Ee.extensions&&(Ee.extensions.forEach(dt=>{if(!dt.name)throw new Error("extension name required");if(dt.renderer){const gn=Ye.renderers[dt.name];Ye.renderers[dt.name]=gn?function(...xn){let yn=dt.renderer.apply(this,xn);return!1===yn&&(yn=gn.apply(this,xn)),yn}:dt.renderer}if(dt.tokenizer){if(!dt.level||"block"!==dt.level&&"inline"!==dt.level)throw new Error("extension level must be 'block' or 'inline'");Ye[dt.level]?Ye[dt.level].unshift(dt.tokenizer):Ye[dt.level]=[dt.tokenizer],dt.start&&("block"===dt.level?Ye.startBlock?Ye.startBlock.push(dt.start):Ye.startBlock=[dt.start]:"inline"===dt.level&&(Ye.startInline?Ye.startInline.push(dt.start):Ye.startInline=[dt.start]))}dt.childTokens&&(Ye.childTokens[dt.name]=dt.childTokens)}),Qe.extensions=Ye),Ee.renderer){const dt=We.defaults.renderer||new ht;for(const gn in Ee.renderer){const xn=dt[gn];dt[gn]=(...yn)=>{let Zn=Ee.renderer[gn].apply(dt,yn);return!1===Zn&&(Zn=xn.apply(dt,yn)),Zn}}Qe.renderer=dt}if(Ee.tokenizer){const dt=We.defaults.tokenizer||new ot;for(const gn in Ee.tokenizer){const xn=dt[gn];dt[gn]=(...yn)=>{let Zn=Ee.tokenizer[gn].apply(dt,yn);return!1===Zn&&(Zn=xn.apply(dt,yn)),Zn}}Qe.tokenizer=dt}if(Ee.walkTokens){const dt=We.defaults.walkTokens;Qe.walkTokens=function(gn){let xn=[];return xn.push(Ee.walkTokens.call(this,gn)),dt&&(xn=xn.concat(dt.call(this,gn))),xn}}We.setOptions(Qe)})},We.walkTokens=function(Vt,Ye){let Ee=[];for(const Qe of Vt)switch(Ee=Ee.concat(Ye.call(We,Qe)),Qe.type){case"table":for(const dt of Qe.header)Ee=Ee.concat(We.walkTokens(dt.tokens,Ye));for(const dt of Qe.rows)for(const gn of dt)Ee=Ee.concat(We.walkTokens(gn.tokens,Ye));break;case"list":Ee=Ee.concat(We.walkTokens(Qe.items,Ye));break;default:We.defaults.extensions&&We.defaults.extensions.childTokens&&We.defaults.extensions.childTokens[Qe.type]?We.defaults.extensions.childTokens[Qe.type].forEach(function(dt){Ee=Ee.concat(We.walkTokens(Qe[dt],Ye))}):Qe.tokens&&(Ee=Ee.concat(We.walkTokens(Qe.tokens,Ye)))}return Ee},We.parseInline=function(Vt,Ye){if(null==Vt)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Vt)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Vt)+", string expected");pe(Ye=we({},We.defaults,Ye||{}));try{const Ee=jt.lexInline(Vt,Ye);return Ye.walkTokens&&We.walkTokens(Ee,Ye.walkTokens),De.parseInline(Ee,Ye)}catch(Ee){if(Ee.message+="\nPlease report this to https://github.com/markedjs/marked.",Ye.silent)return"<p>An error occurred:</p><pre>"+Y(Ee.message+"",!0)+"</pre>";throw Ee}},We.Parser=De,We.parser=De.parse,We.Renderer=ht,We.TextRenderer=ut,We.Lexer=jt,We.lexer=jt.lex,We.Tokenizer=ot,We.Slugger=xe,We.parse=We;var ee=C(520),Ze=C(2313);const Ce=["*"];let Tn=(()=>{class Vt{constructor(){this._buttonClick$=new d.x,this.copied$=this._buttonClick$.pipe((0,R.w)(()=>(0,u.T)((0,p.of)(!0),(0,x.H)(3e3).pipe((0,b.h)(!1)))),(0,s.x)(),(0,F.d)(1)),this.copiedText$=this.copied$.pipe((0,O.O)(!1),(0,Q.U)(Ee=>Ee?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)},Vt.\u0275cmp=e.Xpm({type:Vt,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(Ee,Qe){1&Ee&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return Qe.onCopyToClipboardClick()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&Ee&&(e.ekj("copied",e.lcZ(1,3,Qe.copied$)),e.xp6(2),e.Oqu(e.lcZ(3,5,Qe.copiedText$)))},dependencies:[y.Ov],encapsulation:2,changeDetection:0}),Vt})();class qt{}var lt=(()=>{return(Vt=lt||(lt={})).CommandLine="command-line",Vt.LineHighlight="line-highlight",Vt.LineNumbers="line-numbers",lt;var Vt})();class $e{}const Bt=new e.OlP("SECURITY_CONTEXT");let Hn=(()=>{class Vt{constructor(Ee,Qe,dt,gn,xn,yn){this.platform=Ee,this.securityContext=Qe,this.http=dt,this.clipboardOptions=gn,this.sanitizer=yn,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new ht},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new d.x,this.reload$=this._reload$.asObservable(),this.options=xn}get options(){return this._options}set options(Ee){this._options=Object.assign(Object.assign({},this.DEFAULT_MARKED_OPTIONS),Ee)}get renderer(){return this.options.renderer}set renderer(Ee){this.options.renderer=Ee}parse(Ee,Qe=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:dt,inline:gn,emoji:xn,mermaid:yn,markedOptions:Zn=this.options}=Qe;yn&&(this.renderer=this.extendRenderer(Zn.renderer||new ht));const $n=this.trimIndentation(Ee),ti=dt?this.decodeHtml($n):$n,li=xn?this.parseEmoji(ti):ti,mi=this.parseMarked(li,Zn,gn);return this.sanitizer.sanitize(this.securityContext,mi)||""}render(Ee,Qe=this.DEFAULT_RENDER_OPTIONS,dt){const{clipboard:gn,clipboardOptions:xn,katex:yn,katexOptions:Zn,mermaid:$n,mermaidOptions:ti}=Qe;gn&&this.renderClipboard(Ee,dt,Object.assign(Object.assign(Object.assign({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),xn)),yn&&this.renderKatex(Ee,Object.assign(Object.assign({},this.DEFAULT_KATEX_OPTIONS),Zn)),$n&&this.renderMermaid(Ee,Object.assign(Object.assign({},this.DEFAULT_MERMAID_OPTIONS),ti)),this.highlight(Ee)}reload(){this._reload$.next()}getSource(Ee){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(Ee,{responseType:"text"}).pipe((0,Q.U)(Qe=>this.handleExtension(Ee,Qe)))}highlight(Ee){if(!(0,y.NF)(this.platform)||"undefined"==typeof Prism||void 0===Prism.highlightAllUnder)return;Ee||(Ee=document);const Qe=Ee.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(Qe,dt=>dt.classList.add("language-none")),Prism.highlightAllUnder(Ee)}decodeHtml(Ee){if(!(0,y.NF)(this.platform))return Ee;const Qe=document.createElement("textarea");return Qe.innerHTML=Ee,Qe.value}extendRenderer(Ee){const Qe=Ee;if(!0===Qe.\u0275NgxMarkdownRendererExtended)return Ee;const dt=Ee.code;return Ee.code=function(gn,xn,yn){return"mermaid"===xn?`<div class="mermaid">${gn}</div>`:dt.call(this,gn,xn,yn)},Qe.\u0275NgxMarkdownRendererExtended=!0,Ee}handleExtension(Ee,Qe){const dt=Ee.lastIndexOf("://"),gn=dt>-1?Ee.substring(dt+4):Ee,xn=gn.lastIndexOf("/"),yn=xn>-1?gn.substring(xn+1).split("?")[0]:"",Zn=yn.lastIndexOf("."),$n=Zn>-1?yn.substring(Zn+1):"";return $n&&"md"!==$n?"```"+$n+"\n"+Qe+"\n```":Qe}parseMarked(Ee,Qe,dt=!1){return(0,y.NF)(this.platform)?dt?We.parseInline(Ee,Qe):We.parse(Ee,Qe):Ee}parseEmoji(Ee){if(!(0,y.NF)(this.platform))return Ee;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(Ee)}renderKatex(Ee,Qe){if((0,y.NF)(this.platform)){if("undefined"==typeof katex||"undefined"==typeof renderMathInElement)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(Ee,Qe)}}renderClipboard(Ee,Qe,dt){if(!(0,y.NF)(this.platform))return;if("undefined"==typeof ClipboardJS)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!Qe)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:gn,buttonTemplate:xn}=dt,yn=Ee.querySelectorAll("pre");for(let Zn=0;Zn<yn.length;Zn++){const $n=yn.item(Zn),ti=document.createElement("div");ti.style.position="relative",$n.parentNode.insertBefore(ti,$n),ti.appendChild($n);const li=document.createElement("div");let mi,oi;li.style.position="absolute",li.style.top=".5em",li.style.right=".5em",li.style.opacity="0",li.style.transition="opacity 250ms ease-out",ti.insertAdjacentElement("beforeend",li),$n.onmouseover=()=>li.style.opacity="1",$n.onmouseout=()=>li.style.opacity="0",mi=gn?Qe.createComponent(gn).hostView:xn?Qe.createEmbeddedView(xn):Qe.createComponent(Tn).hostView,mi.rootNodes.forEach(Mi=>{Mi.onmouseover=()=>li.style.opacity="1",li.appendChild(Mi),oi=new ClipboardJS(Mi,{text:()=>$n.innerText})}),mi.onDestroy(()=>oi.destroy())}}renderMermaid(Ee,Qe=this.DEFAULT_MERMAID_OPTIONS){if(!(0,y.NF)(this.platform))return;if("undefined"==typeof mermaid||void 0===mermaid.init)throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const dt=Ee.querySelectorAll(".mermaid");0!==dt.length&&(mermaid.initialize(Qe),mermaid.init(dt))}trimIndentation(Ee){if(!Ee)return"";let Qe;return Ee.split("\n").map(dt=>{let gn=Qe;return dt.length>0&&(gn=isNaN(gn)?dt.search(/\S|$/):Math.min(dt.search(/\S|$/),gn)),isNaN(Qe)&&(Qe=gn),gn?dt.substring(gn):dt}).join("\n")}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(e.LFG(e.Lbi),e.LFG(Bt),e.LFG(ee.eN,8),e.LFG(qt,8),e.LFG($e,8),e.LFG(Ze.H7))},Vt.\u0275prov=e.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})(),zn=(()=>{class Vt{constructor(Ee,Qe,dt){this.element=Ee,this.markdownService=Qe,this.viewContainerRef=dt,this.error=new e.vpe,this.load=new e.vpe,this.ready=new e.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new d.x}get inline(){return this._inline}set inline(Ee){this._inline=this.coerceBooleanProperty(Ee)}get clipboard(){return this._clipboard}set clipboard(Ee){this._clipboard=this.coerceBooleanProperty(Ee)}get emoji(){return this._emoji}set emoji(Ee){this._emoji=this.coerceBooleanProperty(Ee)}get katex(){return this._katex}set katex(Ee){this._katex=this.coerceBooleanProperty(Ee)}get mermaid(){return this._mermaid}set mermaid(Ee){this._mermaid=this.coerceBooleanProperty(Ee)}get lineHighlight(){return this._lineHighlight}set lineHighlight(Ee){this._lineHighlight=this.coerceBooleanProperty(Ee)}get lineNumbers(){return this._lineNumbers}set lineNumbers(Ee){this._lineNumbers=this.coerceBooleanProperty(Ee)}get commandLine(){return this._commandLine}set commandLine(Ee){this._commandLine=this.coerceBooleanProperty(Ee)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,N.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(Ee,Qe=!1){const gn={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},xn=this.markdownService.parse(Ee,{decodeHtml:Qe,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=xn,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,gn,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(Ee){return null!=Ee&&"false"!=`${String(Ee)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:Ee=>{this.render(Ee),this.load.emit(Ee)},error:Ee=>this.error.emit(Ee)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,lt.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,lt.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(Ee,Qe){const dt=Ee.querySelectorAll("pre");for(let gn=0;gn<dt.length;gn++){const xn=Qe instanceof Array?Qe:[Qe];dt.item(gn).classList.add(...xn)}}setPluginOptions(Ee,Qe){const dt=Ee.querySelectorAll("pre");for(let gn=0;gn<dt.length;gn++)Object.keys(Qe).forEach(xn=>{const yn=Qe[xn];if(yn){const Zn=this.toLispCase(xn);dt.item(gn).setAttribute(Zn,yn.toString())}})}toLispCase(Ee){const Qe=Ee.match(/([A-Z])/g);if(!Qe)return Ee;let dt=Ee.toString();for(let gn=0,xn=Qe.length;gn<xn;gn++)dt=dt.replace(new RegExp(Qe[gn]),"-"+Qe[gn].toLowerCase());return"-"===dt.slice(0,1)&&(dt=dt.slice(1)),dt}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)(e.Y36(e.SBq),e.Y36(Hn),e.Y36(e.s_b))},Vt.\u0275cmp=e.Xpm({type:Vt,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[e.TTD],ngContentSelectors:Ce,decls:1,vars:0,template:function(Ee,Qe){1&Ee&&(e.F$t(),e.Hsn(0))},encapsulation:2}),Vt})(),oo=(()=>{class Vt{static forRoot(Ee){return{ngModule:Vt,providers:[Hn,Ee&&Ee.loader||[],Ee&&Ee.clipboardOptions||[],Ee&&Ee.markedOptions||[],{provide:Bt,useValue:Ee&&null!=Ee.sanitize?Ee.sanitize:e.q3G.HTML}]}}static forChild(){return{ngModule:Vt}}}return Vt.\u0275fac=function(Ee){return new(Ee||Vt)},Vt.\u0275mod=e.oAB({type:Vt}),Vt.\u0275inj=e.cJS({imports:[y.ez]}),Vt})();var $o;!function(Vt){let Ye;var dt;let Ee,Qe;(dt=Ye=Vt.SecurityLevel||(Vt.SecurityLevel={})).Strict="strict",dt.Loose="loose",dt.Antiscript="antiscript",dt.Sandbox="sandbox",function(dt){dt.Base="base",dt.Forest="forest",dt.Dark="dark",dt.Default="default",dt.Neutral="neutral"}(Ee=Vt.Theme||(Vt.Theme={})),function(dt){dt[dt.Debug=1]="Debug",dt[dt.Info=2]="Info",dt[dt.Warn=3]="Warn",dt[dt.Error=4]="Error",dt[dt.Fatal=5]="Fatal"}(Qe=Vt.LogLevel||(Vt.LogLevel={}))}($o||($o={}))},8913:(dn,pt,C)=>{"use strict";C.d(pt,{g6:()=>te,qH:()=>ce});var e=C(5e3);const d={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},u=new e.OlP("config",{providedIn:"root",factory:()=>({modules:d})});var x=C(9808),R=C(2313),b=C(9770),s=C(9751),F=C(576);function O(be){return!!be&&(be instanceof s.y||(0,F.m)(be.lift)&&(0,F.m)(be.subscribe))}var Q=C(3905),N=C(727),T=C(4968),y=C(4782),w=C(5577),k=C(8372),V=C(2382),U=C(655);function oe(be,Be){1&be&&e._UZ(0,"div",2)}function K(be,Be){1&be&&e._UZ(0,"pre",2)}function H(be,Be){if(1&be&&(e.ynx(0),e.YNc(1,oe,1,0,"div",1),e.YNc(2,K,1,0,"pre",1),e.BQk()),2&be){const we=e.oxw();e.xp6(1),e.Q6J("ngIf",!we.preserve),e.xp6(1),e.Q6J("ngIf",we.preserve)}}function D(be,Be){1&be&&e._UZ(0,"div",2)}function P(be,Be){1&be&&e._UZ(0,"pre",2)}function Y(be,Be){if(1&be&&(e.ynx(0),e.YNc(1,D,1,0,"div",1),e.YNc(2,P,1,0,"pre",1),e.BQk()),2&be){const we=e.oxw();e.xp6(1),e.Q6J("ngIf",!we.preserve),e.xp6(1),e.Q6J("ngIf",we.preserve)}}const re=[[["","quill-editor-toolbar",""]]],j=["[quill-editor-toolbar]"],Te=(be,Be)=>be||Be||"html";let Me=(()=>{class be{constructor(we,ke){this.config=ke,this.quill$=(0,b.P)(()=>(0,U.mG)(this,void 0,void 0,function*(){var X;if(!this.Quill){const q=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const pe=yield C.e(971).then(C.t.bind(C,9971,19));this.document.addEventListener=q,this.Quill=pe.default?pe.default:pe}return null===(X=this.config.customOptions)||void 0===X||X.forEach(q=>{const pe=this.Quill.import(q.import);pe.whitelist=q.whitelist,this.Quill.register(pe,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe((0,y.d)({bufferSize:1,refCount:!0})),this.document=we.get(x.K0),this.config||(this.config={modules:d})}getQuill(){return this.quill$}registerCustomModules(we,ke,X){return(0,U.mG)(this,void 0,void 0,function*(){if(Array.isArray(ke))for(let{implementation:q,path:pe}of ke)O(q)&&(q=yield(0,Q.z)(q)),we.register(pe,q,X);return we})}}return be.\u0275fac=function(we){return new(we||be)(e.LFG(e.zs3),e.LFG(u,8))},be.\u0275prov=e.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),de=(()=>{class be{constructor(we,ke,X,q,pe,_e,Xe,ct){this.elementRef=ke,this.cd=X,this.domSanitizer=q,this.platformId=pe,this.renderer=_e,this.zone=Xe,this.service=ct,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(ot,Zt)=>{let Dt=Zt.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Dt||"<div><br></div>"===Dt)&&(Dt=this.defaultEmptyValue);let Cn=Dt;const Xt=Te(this.format,this.service.config.format);if("text"===Xt)Cn=ot.getText();else if("object"===Xt)Cn=ot.getContents();else if("json"===Xt)try{Cn=JSON.stringify(ot.getContents())}catch(jt){Cn=ot.getText()}return Cn},this.valueSetter=(ot,Zt)=>{const Dt=Te(this.format,this.service.config.format);if("html"===Dt)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(Zt=this.domSanitizer.sanitize(e.q3G.HTML,Zt)),ot.clipboard.convert(Zt);if("json"===Dt)try{return JSON.parse(Zt)}catch(Cn){return[{insert:Zt}]}return Zt},this.selectionChangeHandler=(ot,Zt,Dt)=>{const Cn=!ot&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!Cn||this.zone.run(()=>{null===ot?this.onBlur.emit({editor:this.quillEditor,source:Dt}):null===Zt&&this.onFocus.emit({editor:this.quillEditor,source:Dt}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:Zt,range:ot,source:Dt}),Cn&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(ot,Zt,Dt)=>{const Cn=this.quillEditor.getText(),Xt=this.quillEditor.getContents();let jt=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===jt||"<div><br></div>"===jt)&&(jt=this.defaultEmptyValue);const ht=this.trackChanges||this.service.config.trackChanges,ut=("user"===Dt||ht&&"all"===ht)&&!!this.onModelChange;!this.onContentChanged.observed&&!ut||this.zone.run(()=>{ut&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:Xt,delta:ot,editor:this.quillEditor,html:jt,oldDelta:Zt,source:Dt,text:Cn}),this.cd.markForCheck()})},this.editorChangeHandler=(ot,Zt,Dt,Cn)=>{if(this.onEditorChanged.observed)if("text-change"===ot){const Xt=this.quillEditor.getText(),jt=this.quillEditor.getContents();let ht=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ht||"<div><br></div>"===ht)&&(ht=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:jt,delta:Zt,editor:this.quillEditor,event:ot,html:ht,oldDelta:Dt,source:Cn,text:Xt}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:ot,oldRange:Dt,range:Zt,source:Cn}),this.cd.markForCheck()})},this.document=we.get(x.K0)}static normalizeClassNames(we){return we.trim().split(" ").reduce((X,q)=>{const pe=q.trim();return pe&&X.push(pe),X},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,x.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,w.z)(we=>{var ke;const X=[this.service.registerCustomModules(we,this.customModules)],q=null!==(ke=this.beforeRender)&&void 0!==ke?ke:this.service.config.beforeRender;return q&&X.push(q()),Promise.all(X).then(()=>we)})).subscribe(we=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const ke=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),X=Object.assign({},this.modules||this.service.config.modules);ke?X.toolbar=ke:void 0===X.toolbar&&(X.toolbar=d.toolbar);let q=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===q&&(q="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(Dt=>{this.renderer.setStyle(this.editorElem,Dt,this.styles[Dt])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(Dt=>{const Cn=we.import(Dt.import);Cn.whitelist=Dt.whitelist,we.register(Cn,!0)});let pe=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;pe||(pe=this.service.config.bounds?this.service.config.bounds:this.document.body);let _e=this.debug;!_e&&!1!==_e&&this.service.config.debug&&(_e=this.service.config.debug);let Xe=this.readOnly;!Xe&&!1!==this.readOnly&&(Xe=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let ct=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(ct=this.service.config.defaultEmptyValue);let ot=this.scrollingContainer;!ot&&null!==this.scrollingContainer&&(ot=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Zt=this.formats;if(!Zt&&void 0===Zt&&(Zt=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var Dt,Cn,Xt;if(this.quillEditor=new we(this.editorElem,{bounds:pe,debug:_e,formats:Zt,modules:X,placeholder:q,readOnly:Xe,defaultEmptyValue:ct,scrollingContainer:ot,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const jt=null===(Cn=null===(Dt=this.quillEditor)||void 0===Dt?void 0:Dt.theme)||void 0===Cn?void 0:Cn.tooltip,ht=null===(Xt=null==jt?void 0:jt.root)||void 0===Xt?void 0:Xt.querySelector("input[data-link]");null!=ht&&ht.dataset&&(ht.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===Te(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const Cn=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(Cn,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var we;this.dispose(),null===(we=this.quillSubscription)||void 0===we||we.unsubscribe(),this.quillSubscription=null}ngOnChanges(we){if(this.quillEditor){if(we.readOnly&&this.quillEditor.enable(!we.readOnly.currentValue),we.placeholder&&(this.quillEditor.root.dataset.placeholder=we.placeholder.currentValue),we.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=we.defaultEmptyValue.currentValue),we.styles){const ke=we.styles.currentValue,X=we.styles.previousValue;X&&Object.keys(X).forEach(q=>{this.renderer.removeStyle(this.editorElem,q)}),ke&&Object.keys(ke).forEach(q=>{this.renderer.setStyle(this.editorElem,q,this.styles[q])})}if(we.classes){const ke=we.classes.currentValue,X=we.classes.previousValue;X&&this.removeClasses(X),ke&&this.addClasses(ke)}we.debounceTime&&this.addQuillEventListeners()}}addClasses(we){be.normalizeClassNames(we).forEach(ke=>{this.renderer.addClass(this.editorElem,ke)})}removeClasses(we){be.normalizeClassNames(we).forEach(ke=>{this.renderer.removeClass(this.editorElem,ke)})}writeValue(we){if(this.filterNull&&null===we||(this.content=we,!this.quillEditor))return;const ke=Te(this.format,this.service.config.format),X=this.valueSetter(this.quillEditor,we);if(this.compareValues){const q=this.quillEditor.getContents();if(JSON.stringify(q)===JSON.stringify(X))return}we?"text"===ke?this.quillEditor.setText(we):this.quillEditor.setContents(X):this.quillEditor.setText("")}setDisabledState(we=this.disabled){this.disabled=we,this.quillEditor&&(we?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(we){this.onModelChange=we}registerOnTouched(we){this.onModelTouched=we}registerOnValidatorChange(we){this.onValidatorChanged=we}validate(){if(!this.quillEditor)return null;const we={};let ke=!0;const X=this.quillEditor.getText(),q=this.trimOnValidation?X.trim().length:1===X.length&&0===X.trim().length?0:X.length-1,pe=this.quillEditor.getContents().ops,_e=pe&&1===pe.length&&["\n",""].includes(pe[0].insert);return this.minLength&&q&&q<this.minLength&&(we.minLengthError={given:q,minLength:this.minLength},ke=!1),this.maxLength&&q>this.maxLength&&(we.maxLengthError={given:q,maxLength:this.maxLength},ke=!1),this.required&&!q&&_e&&(we.requiredError={empty:!0},ke=!1),ke?null:we}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new N.w0,this.subscription.add((0,T.R)(this.quillEditor,"selection-change").subscribe(([X,q,pe])=>{this.selectionChangeHandler(X,q,pe)}));let we=(0,T.R)(this.quillEditor,"text-change"),ke=(0,T.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(we=we.pipe((0,k.b)(this.debounceTime)),ke=ke.pipe((0,k.b)(this.debounceTime))),this.subscription.add(we.subscribe(([X,q,pe])=>{this.textChangeHandler(X,q,pe)})),this.subscription.add(ke.subscribe(([X,q,pe,_e])=>{this.editorChangeHandler(X,q,pe,_e)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return be.\u0275fac=function(we){return new(we||be)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(R.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Me))},be.\u0275dir=e.lG2({type:be,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),be})(),te=(()=>{class be extends de{constructor(we,ke,X,q,pe,_e,Xe,ct){super(we,ke,X,q,pe,_e,Xe,ct)}}return be.\u0275fac=function(we){return new(we||be)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(R.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Me))},be.\u0275cmp=e.Xpm({type:be,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:V.JU,useExisting:(0,e.Gpc)(()=>be)},{multi:!0,provide:V.Cf,useExisting:(0,e.Gpc)(()=>be)}]),e.qOj,e.jDz],ngContentSelectors:j,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(we,ke){1&we&&(e.F$t(re),e.YNc(0,H,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,Y,3,2,"ng-container",0)),2&we&&(e.Q6J("ngIf","top"!==ke.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===ke.toolbarPosition))},dependencies:[x.ez,x.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),be})(),ce=(()=>{class be{constructor(we,ke){this.sanitizer=we,this.service=ke,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(we){if(we.theme?this.themeClass=`ql-${we.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),we.content){const ke=we.content.currentValue,X=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=X?ke:this.sanitizer.bypassSecurityTrustHtml(ke)}}}return be.\u0275fac=function(we){return new(we||be)(e.Y36(R.H7),e.Y36(Me))},be.\u0275cmp=e.Xpm({type:be,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(we,ke){1&we&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&we&&(e.Q6J("ngClass",ke.themeClass),e.xp6(1),e.Q6J("innerHTML",ke.innerHTML,e.oJD))},dependencies:[x.ez,x.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),be})()},6954:(dn,pt,C)=>{"use strict";C.d(pt,{x:()=>p});var e=C(9808),d=C(5e3);let p=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275mod=d.oAB({type:x}),x.\u0275inj=d.cJS({imports:[e.ez]}),x})()},9783:(dn,pt,C)=>{"use strict";C.d(pt,{$_:()=>V,F0:()=>T,Lk:()=>s,Y:()=>H,YP:()=>b,a6:()=>F,b4:()=>w,ez:()=>N,h4:()=>k,iZ:()=>Q,jx:()=>U,m8:()=>oe,pg:()=>O,wB:()=>R,ws:()=>K});var e=C(5e3),d=C(7579),u=C(5921),p=C(9808);const x=["*"];var R=(()=>{return(D=R||(R={}))[D.ACCEPT=0]="ACCEPT",D[D.REJECT=1]="REJECT",D[D.CANCEL=2]="CANCEL",R;var D})();let b=(()=>{class D{constructor(){this.requireConfirmationSource=new d.x,this.acceptConfirmationSource=new d.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(Y){return this.requireConfirmationSource.next(Y),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac}),D})(),s=(()=>{class D{constructor(){this.activeItemKeyChange=new d.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(Y){this.activeItemKey=Y,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac}),D})(),F=(()=>{class D{}return D.STARTS_WITH="startsWith",D.CONTAINS="contains",D.NOT_CONTAINS="notContains",D.ENDS_WITH="endsWith",D.EQUALS="equals",D.NOT_EQUALS="notEquals",D.IN="in",D.LESS_THAN="lt",D.LESS_THAN_OR_EQUAL_TO="lte",D.GREATER_THAN="gt",D.GREATER_THAN_OR_EQUAL_TO="gte",D.BETWEEN="between",D.IS="is",D.IS_NOT="isNot",D.BEFORE="before",D.AFTER="after",D.DATE_IS="dateIs",D.DATE_IS_NOT="dateIsNot",D.DATE_BEFORE="dateBefore",D.DATE_AFTER="dateAfter",D})(),O=(()=>{class D{}return D.AND="and",D.OR="or",D})(),Q=(()=>{class D{constructor(){this.filters={startsWith:(Y,re,j)=>{if(null==re||""===re.trim())return!0;if(null==Y)return!1;let G=u.gb.removeAccents(re.toString()).toLocaleLowerCase(j);return u.gb.removeAccents(Y.toString()).toLocaleLowerCase(j).slice(0,G.length)===G},contains:(Y,re,j)=>{if(null==re||"string"==typeof re&&""===re.trim())return!0;if(null==Y)return!1;let G=u.gb.removeAccents(re.toString()).toLocaleLowerCase(j);return-1!==u.gb.removeAccents(Y.toString()).toLocaleLowerCase(j).indexOf(G)},notContains:(Y,re,j)=>{if(null==re||"string"==typeof re&&""===re.trim())return!0;if(null==Y)return!1;let G=u.gb.removeAccents(re.toString()).toLocaleLowerCase(j);return-1===u.gb.removeAccents(Y.toString()).toLocaleLowerCase(j).indexOf(G)},endsWith:(Y,re,j)=>{if(null==re||""===re.trim())return!0;if(null==Y)return!1;let G=u.gb.removeAccents(re.toString()).toLocaleLowerCase(j),ie=u.gb.removeAccents(Y.toString()).toLocaleLowerCase(j);return-1!==ie.indexOf(G,ie.length-G.length)},equals:(Y,re,j)=>null==re||"string"==typeof re&&""===re.trim()||null!=Y&&(Y.getTime&&re.getTime?Y.getTime()===re.getTime():u.gb.removeAccents(Y.toString()).toLocaleLowerCase(j)==u.gb.removeAccents(re.toString()).toLocaleLowerCase(j)),notEquals:(Y,re,j)=>!(null==re||"string"==typeof re&&""===re.trim()||null!=Y&&(Y.getTime&&re.getTime?Y.getTime()===re.getTime():u.gb.removeAccents(Y.toString()).toLocaleLowerCase(j)==u.gb.removeAccents(re.toString()).toLocaleLowerCase(j))),in:(Y,re)=>{if(null==re||0===re.length)return!0;for(let j=0;j<re.length;j++)if(u.gb.equals(Y,re[j]))return!0;return!1},between:(Y,re)=>null==re||null==re[0]||null==re[1]||null!=Y&&(Y.getTime?re[0].getTime()<=Y.getTime()&&Y.getTime()<=re[1].getTime():re[0]<=Y&&Y<=re[1]),lt:(Y,re,j)=>null==re||null!=Y&&(Y.getTime&&re.getTime?Y.getTime()<re.getTime():Y<re),lte:(Y,re,j)=>null==re||null!=Y&&(Y.getTime&&re.getTime?Y.getTime()<=re.getTime():Y<=re),gt:(Y,re,j)=>null==re||null!=Y&&(Y.getTime&&re.getTime?Y.getTime()>re.getTime():Y>re),gte:(Y,re,j)=>null==re||null!=Y&&(Y.getTime&&re.getTime?Y.getTime()>=re.getTime():Y>=re),is:(Y,re,j)=>this.filters.equals(Y,re,j),isNot:(Y,re,j)=>this.filters.notEquals(Y,re,j),before:(Y,re,j)=>this.filters.lt(Y,re,j),after:(Y,re,j)=>this.filters.gt(Y,re,j),dateIs:(Y,re)=>null==re||null!=Y&&Y.toDateString()===re.toDateString(),dateIsNot:(Y,re)=>null==re||null!=Y&&Y.toDateString()!==re.toDateString(),dateBefore:(Y,re)=>null==re||null!=Y&&Y.getTime()<re.getTime(),dateAfter:(Y,re)=>null==re||null!=Y&&Y.getTime()>re.getTime()}}filter(Y,re,j,G,ie){let Te=[];if(Y)for(let Me of Y)for(let de of re){let te=u.gb.resolveFieldData(Me,de);if(this.filters[G](te,j,ie)){Te.push(Me);break}}return Te}register(Y,re){this.filters[Y]=re}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),N=(()=>{class D{constructor(){this.messageSource=new d.x,this.clearSource=new d.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(Y){Y&&this.messageSource.next(Y)}addAll(Y){Y&&Y.length&&this.messageSource.next(Y)}clear(Y){this.clearSource.next(Y||null)}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac}),D})(),T=(()=>{class D{constructor(){this.clickSource=new d.x,this.clickObservable=this.clickSource.asObservable()}add(Y){Y&&this.clickSource.next(Y)}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),w=(()=>{class D{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[F.STARTS_WITH,F.CONTAINS,F.NOT_CONTAINS,F.ENDS_WITH,F.EQUALS,F.NOT_EQUALS],numeric:[F.EQUALS,F.NOT_EQUALS,F.LESS_THAN,F.LESS_THAN_OR_EQUAL_TO,F.GREATER_THAN,F.GREATER_THAN_OR_EQUAL_TO],date:[F.DATE_IS,F.DATE_IS_NOT,F.DATE_BEFORE,F.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new d.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Y){return this.translation[Y]}setTranslation(Y){this.translation=Object.assign(Object.assign({},this.translation),Y),this.translationSource.next(this.translation)}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),k=(()=>{class D{}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["p-header"]],ngContentSelectors:x,decls:1,vars:0,template:function(Y,re){1&Y&&(e.F$t(),e.Hsn(0))},encapsulation:2}),D})(),V=(()=>{class D{}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["p-footer"]],ngContentSelectors:x,decls:1,vars:0,template:function(Y,re){1&Y&&(e.F$t(),e.Hsn(0))},encapsulation:2}),D})(),U=(()=>{class D{constructor(Y){this.template=Y}getType(){return this.name}}return D.\u0275fac=function(Y){return new(Y||D)(e.Y36(e.Rgc))},D.\u0275dir=e.lG2({type:D,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),D})(),oe=(()=>{class D{}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[p.ez]}),D})(),K=(()=>{class D{}return D.STARTS_WITH="startsWith",D.CONTAINS="contains",D.NOT_CONTAINS="notContains",D.ENDS_WITH="endsWith",D.EQUALS="equals",D.NOT_EQUALS="notEquals",D.NO_FILTER="noFilter",D.LT="lt",D.LTE="lte",D.GT="gt",D.GTE="gte",D.IS="is",D.IS_NOT="isNot",D.BEFORE="before",D.AFTER="after",D.CLEAR="clear",D.APPLY="apply",D.MATCH_ALL="matchAll",D.MATCH_ANY="matchAny",D.ADD_RULE="addRule",D.REMOVE_RULE="removeRule",D.ACCEPT="accept",D.REJECT="reject",D.CHOOSE="choose",D.UPLOAD="upload",D.CANCEL="cancel",D.DAY_NAMES="dayNames",D.DAY_NAMES_SHORT="dayNamesShort",D.DAY_NAMES_MIN="dayNamesMin",D.MONTH_NAMES="monthNames",D.MONTH_NAMES_SHORT="monthNamesShort",D.FIRST_DAY_OF_WEEK="firstDayOfWeek",D.TODAY="today",D.WEEK_HEADER="weekHeader",D.WEAK="weak",D.MEDIUM="medium",D.STRONG="strong",D.PASSWORD_PROMPT="passwordPrompt",D.EMPTY_MESSAGE="emptyMessage",D.EMPTY_FILTER_MESSAGE="emptyFilterMessage",D})(),H=(()=>{class D{constructor(){this.dragStartSource=new d.x,this.dragStopSource=new d.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(Y){this.dragStartSource.next(Y)}stopDrag(Y){this.dragStopSource.next(Y)}}return D.\u0275fac=function(Y){return new(Y||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac}),D})()},2145:(dn,pt,C)=>{"use strict";C.d(pt,{Qc:()=>Tn,WN:()=>qt});var e=C(5e3),d=C(9808),u=C(1777),p=C(1424),x=C(845),R=C(5787),b=C(9783),s=C(5730),F=C(5921),O=C(2382),Q=C(5871),N=C(9618);const T=["container"],y=["in"],w=["multiIn"],k=["multiContainer"],V=["ddBtn"],U=["items"],oe=["scroller"],K=function(xt,Ct){return{"p-autocomplete-dd-input":xt,"p-disabled":Ct}};function H(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"input",8,9),e.NdJ("click",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputClick($e))})("input",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInput($e))})("keydown",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onKeydown($e))})("keyup",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onKeyup($e))})("focus",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputFocus($e))})("blur",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputBlur($e))})("change",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputChange($e))})("paste",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputPaste($e))}),e.qZA()}if(2&xt){const me=e.oxw();e.Tol(me.inputStyleClass),e.Q6J("autofocus",me.autofocus)("ngStyle",me.inputStyle)("autocomplete",me.autocomplete)("ngClass",e.WLB(20,K,me.dropdown,me.disabled))("value",me.inputFieldValue)("readonly",me.readonly)("disabled",me.disabled),e.uIk("type",me.type)("id",me.inputId)("required",me.required)("name",me.name)("placeholder",me.placeholder)("size",me.size)("maxlength",me.maxlength)("tabindex",me.tabindex)("aria-label",me.ariaLabel)("aria-labelledby",me.ariaLabelledBy)("aria-required",me.required)}}function D(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(me);const $e=e.oxw();return e.KtG($e.clear())}),e.qZA()}}function P(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(me);const $e=e.oxw();return e.KtG($e.clear())}),e.qZA()}}function Y(xt,Ct){1&xt&&e.GkF(0)}function re(xt,Ct){if(1&xt&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&xt){const me=e.oxw().$implicit,lt=e.oxw(2);e.xp6(1),e.Oqu(lt.resolveFieldData(me))}}function j(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(me),e.oxw();const $e=e.MAs(1),Lt=e.oxw(2);return e.KtG(Lt.removeItem($e))}),e.qZA()}}const G=function(xt){return{$implicit:xt}};function ie(xt,Ct){if(1&xt&&(e.TgZ(0,"li",17,18),e.YNc(2,Y,1,0,"ng-container",19),e.YNc(3,re,2,1,"span",20),e.YNc(4,j,1,0,"span",21),e.qZA()),2&xt){const me=Ct.$implicit,lt=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",lt.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(4,G,me)),e.xp6(1),e.Q6J("ngIf",!lt.selectedItemTemplate),e.xp6(1),e.Q6J("ngIf",!lt.disabled&&!lt.readonly)}}const Te=function(xt,Ct){return{"p-disabled":xt,"p-focus":Ct}};function Me(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"ul",11,12),e.NdJ("click",function(){e.CHM(me);const $e=e.MAs(5);return e.KtG($e.focus())}),e.YNc(2,ie,5,6,"li",13),e.TgZ(3,"li",14)(4,"input",15,16),e.NdJ("input",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInput($e))})("click",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputClick($e))})("keydown",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onKeydown($e))})("keyup",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onKeyup($e))})("focus",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputFocus($e))})("blur",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputBlur($e))})("change",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputChange($e))})("paste",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onInputPaste($e))}),e.qZA()()()}if(2&xt){const me=e.oxw();e.Q6J("ngClass",e.WLB(20,Te,me.disabled,me.focus)),e.xp6(2),e.Q6J("ngForOf",me.value),e.xp6(2),e.Tol(me.inputStyleClass),e.Q6J("autofocus",me.autofocus)("disabled",me.disabled)("readonly",me.readonly)("autocomplete",me.autocomplete)("ngStyle",me.inputStyle),e.uIk("type",me.type)("id",me.inputId)("placeholder",me.value&&me.value.length?null:me.placeholder)("tabindex",me.tabindex)("maxlength",me.maxlength)("aria-label",me.ariaLabel)("aria-labelledby",me.ariaLabelledBy)("aria-required",me.required)("aria-controls",me.listId)("aria-expanded",me.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function de(xt,Ct){1&xt&&e._UZ(0,"i",24)}function te(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"button",25,26),e.NdJ("click",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.handleDropdownClick($e))}),e.qZA()}if(2&xt){const me=e.oxw();e.Q6J("icon",me.dropdownIcon)("disabled",me.disabled),e.uIk("aria-label",me.dropdownAriaLabel)("tabindex",me.tabindex)}}function ce(xt,Ct){1&xt&&e.GkF(0)}function J(xt,Ct){1&xt&&e.GkF(0)}const ve=function(xt,Ct){return{$implicit:xt,options:Ct}};function be(xt,Ct){if(1&xt&&e.YNc(0,J,1,0,"ng-container",19),2&xt){const me=Ct.$implicit,lt=Ct.options;e.oxw(2);const $e=e.MAs(6);e.Q6J("ngTemplateOutlet",$e)("ngTemplateOutletContext",e.WLB(2,ve,me,lt))}}function Be(xt,Ct){1&xt&&e.GkF(0)}const we=function(xt){return{options:xt}};function ke(xt,Ct){if(1&xt&&e.YNc(0,Be,1,0,"ng-container",19),2&xt){const me=Ct.options,lt=e.oxw(4);e.Q6J("ngTemplateOutlet",lt.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,we,me))}}function X(xt,Ct){1&xt&&(e.ynx(0),e.YNc(1,ke,1,4,"ng-template",36),e.BQk())}const q=function(xt){return{height:xt}};function pe(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"p-scroller",33,34),e.NdJ("onLazyLoad",function($e){e.CHM(me);const Lt=e.oxw(2);return e.KtG(Lt.onLazyLoad.emit($e))}),e.YNc(2,be,1,5,"ng-template",35),e.YNc(3,X,2,0,"ng-container",31),e.qZA()}if(2&xt){const me=e.oxw(2);e.Akn(e.VKq(8,q,me.scrollHeight)),e.Q6J("items",me.suggestions)("itemSize",me.virtualScrollItemSize||me._itemSize)("autoSize",!0)("lazy",me.lazy)("options",me.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",me.loaderTemplate)}}function _e(xt,Ct){1&xt&&e.GkF(0)}const Xe=function(){return{}};function ct(xt,Ct){if(1&xt&&(e.ynx(0),e.YNc(1,_e,1,0,"ng-container",19),e.BQk()),2&xt){e.oxw();const me=e.MAs(6),lt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",e.WLB(3,ve,lt.suggestions,e.DdM(2,Xe)))}}function ot(xt,Ct){if(1&xt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&xt){const me=e.oxw().$implicit,lt=e.oxw(4);e.xp6(1),e.Oqu(lt.getOptionGroupLabel(me)||"empty")}}function Zt(xt,Ct){1&xt&&e.GkF(0)}function Dt(xt,Ct){1&xt&&e.GkF(0)}function Cn(xt,Ct){if(1&xt&&(e.TgZ(0,"li",42),e.YNc(1,ot,2,1,"span",31),e.YNc(2,Zt,1,0,"ng-container",19),e.qZA(),e.YNc(3,Dt,1,0,"ng-container",19)),2&xt){const me=Ct.$implicit,lt=e.oxw(2).options,$e=e.MAs(5),Lt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,q,lt.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Lt.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Lt.groupTemplate)("ngTemplateOutletContext",e.VKq(8,G,me)),e.xp6(1),e.Q6J("ngTemplateOutlet",$e)("ngTemplateOutletContext",e.VKq(10,G,Lt.getOptionGroupChildren(me)))}}function Xt(xt,Ct){if(1&xt&&(e.ynx(0),e.YNc(1,Cn,4,12,"ng-template",41),e.BQk()),2&xt){const me=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",me)}}function jt(xt,Ct){1&xt&&e.GkF(0)}function ht(xt,Ct){if(1&xt&&(e.ynx(0),e.YNc(1,jt,1,0,"ng-container",19),e.BQk()),2&xt){const me=e.oxw().$implicit,lt=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",lt)("ngTemplateOutletContext",e.VKq(2,G,me))}}function ut(xt,Ct){if(1&xt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&xt){const me=e.oxw().$implicit,lt=e.oxw(4);e.xp6(1),e.Oqu(lt.resolveFieldData(me))}}function xe(xt,Ct){1&xt&&e.GkF(0)}const De=function(xt){return{"p-highlight":xt}},We=function(xt,Ct){return{$implicit:xt,index:Ct}};function gt(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"li",44),e.NdJ("click",function(){const Lt=e.CHM(me).$implicit,je=e.oxw(4);return e.KtG(je.selectItem(Lt))}),e.YNc(1,ut,2,1,"span",31),e.YNc(2,xe,1,0,"ng-container",19),e.qZA()}if(2&xt){const me=Ct.$implicit,lt=Ct.index,$e=e.oxw(2).options,Lt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,q,$e.itemSize+"px"))("ngClass",e.VKq(8,De,me===Lt.highlightOption))("id",Lt.highlightOption==me?"p-highlighted-option":""),e.xp6(1),e.Q6J("ngIf",!Lt.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Lt.itemTemplate)("ngTemplateOutletContext",e.WLB(10,We,me,$e.getOptions?$e.getOptions(lt):lt))}}function Tt(xt,Ct){1&xt&&e.YNc(0,gt,3,13,"li",43),2&xt&&e.Q6J("ngForOf",Ct.$implicit)}function Ft(xt,Ct){if(1&xt&&(e.ynx(0),e._uU(1),e.BQk()),2&xt){const me=e.oxw(4);e.xp6(1),e.hij(" ",me.emptyMessageLabel," ")}}function Ot(xt,Ct){1&xt&&e.GkF(0,null,47)}function Oe(xt,Ct){if(1&xt&&(e.TgZ(0,"li",45),e.YNc(1,Ft,2,1,"ng-container",46),e.YNc(2,Ot,2,0,"ng-container",29),e.qZA()),2&xt){const me=e.oxw().options,lt=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,q,me.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!lt.emptyTemplate)("ngIfElse",lt.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",lt.emptyTemplate)}}function et(xt,Ct){if(1&xt&&(e.TgZ(0,"ul",37,38),e.YNc(2,Xt,2,1,"ng-container",31),e.YNc(3,ht,2,4,"ng-container",31),e.YNc(4,Tt,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Oe,3,6,"li",40),e.qZA()),2&xt){const me=Ct.options,lt=e.oxw(2);e.Akn(me.contentStyle),e.Q6J("ngClass",me.contentStyleClass),e.uIk("id",lt.listId),e.xp6(2),e.Q6J("ngIf",lt.group),e.xp6(1),e.Q6J("ngIf",!lt.group),e.xp6(3),e.Q6J("ngIf",lt.noResults&&lt.showEmptyMessage)}}function Ne(xt,Ct){1&xt&&e.GkF(0)}const yt=function(){return["p-autocomplete-panel p-component"]},ee=function(xt,Ct){return{showTransitionParams:xt,hideTransitionParams:Ct}},Ze=function(xt){return{value:"visible",params:xt}};function Ce(xt,Ct){if(1&xt){const me=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("click",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onOverlayClick($e))})("@overlayAnimation.start",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onOverlayAnimationStart($e))})("@overlayAnimation.done",function($e){e.CHM(me);const Lt=e.oxw();return e.KtG(Lt.onOverlayAnimationEnd($e))}),e.YNc(2,ce,1,0,"ng-container",29),e.YNc(3,pe,4,10,"p-scroller",30),e.YNc(4,ct,2,6,"ng-container",31),e.YNc(5,et,7,7,"ng-template",null,32,e.W1O),e.YNc(7,Ne,1,0,"ng-container",29),e.qZA()}if(2&xt){const me=e.oxw();e.Tol(me.panelStyleClass),e.Udp("max-height",me.virtualScroll?"auto":me.scrollHeight),e.Q6J("ngClass",e.DdM(11,yt))("ngStyle",me.panelStyle)("@overlayAnimation",e.VKq(15,Ze,e.WLB(12,ee,me.showTransitionOptions,me.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",me.headerTemplate),e.xp6(1),e.Q6J("ngIf",me.virtualScroll),e.xp6(1),e.Q6J("ngIf",!me.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",me.footerTemplate)}}const ft=function(xt,Ct){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":xt,"p-autocomplete-multiple":Ct}},an={provide:O.JU,useExisting:(0,e.Gpc)(()=>Tn),multi:!0};let Tn=(()=>{class xt{constructor(me,lt,$e,Lt,je,sn){this.el=me,this.renderer=lt,this.cd=$e,this.differs=Lt,this.config=je,this.overlayService=sn,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new e.vpe,this.onSelect=new e.vpe,this.onUnselect=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onDropdownClick=new e.vpe,this.onClear=new e.vpe,this.onKeyUp=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=Lt.find([]).create(null),this.listId=(0,F.Th)()+"_list"}get itemSize(){return this._itemSize}set itemSize(me){this._itemSize=me,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(me){this._suggestions=me,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let me=s.p.findSingle(this.overlay,"li.p-highlight");me&&s.p.scrollInView(this.itemsWrapper,me)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(me=>{switch(me.getType()){case"item":default:this.itemTemplate=me.template;break;case"group":this.groupTemplate=me.template;break;case"selectedItem":this.selectedItemTemplate=me.template;break;case"header":this.headerTemplate=me.template;break;case"empty":this.emptyTemplate=me.template;break;case"footer":this.footerTemplate=me.template;break;case"loader":this.loaderTemplate=me.template}})}writeValue(me){this.value=me,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(me){return this.optionGroupChildren?F.gb.resolveFieldData(me,this.optionGroupChildren):me.items}getOptionGroupLabel(me){return this.optionGroupLabel?F.gb.resolveFieldData(me,this.optionGroupLabel):null!=me.label?me.label:me}registerOnChange(me){this.onModelChange=me}registerOnTouched(me){this.onModelTouched=me}setDisabledState(me){this.disabled=me,this.cd.markForCheck()}onInput(me){if(!this.inputKeyDown&&s.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let lt=me.target.value;this.inputValue=lt,!this.multiple&&!this.forceSelection&&this.onModelChange(lt),0===lt.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(me),this.onModelChange(lt)),lt.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(me,lt)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(me){this.documentClickListener&&(this.inputClick=!0)}search(me,lt){null!=lt&&(this.loading=!0,this.completeMethod.emit({originalEvent:me,query:lt}))}selectItem(me,lt=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(me)||!this.unique)&&(this.value=[...this.value,me],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(me),this.value=me,this.onModelChange(this.value)),this.onSelect.emit(me),this.updateFilledState(),lt&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let me=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&me&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(me){var lt;switch(me.toState){case"visible":this.overlay=me.element,this.itemsWrapper=this.virtualScroll?s.p.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&(null===(lt=this.scroller)||void 0===lt||lt.setContentEl(this.itemsViewChild.nativeElement)),this.appendOverlay(),this.autoZIndex&&F.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(me);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(me){"void"===me.toState&&this.autoZIndex&&F.P9.clear(me.element)}onOverlayClick(me){this.overlayService.add({originalEvent:me,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):s.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=s.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(me){let lt=this.field?F.gb.resolveFieldData(me,this.field):me;return void 0!==lt?lt:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?s.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):s.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(me){if(this.overlayVisible)this.hide();else{this.focusInput();let lt=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(me,""):"current"===this.dropdownMode&&this.search(me,lt),this.onDropdownClick.emit({originalEvent:me,query:lt})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(b.ws.EMPTY_MESSAGE)}removeItem(me){let lt=s.p.index(me),$e=this.value[lt];this.value=this.value.filter((Lt,je)=>je!=lt),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit($e)}onKeydown(me){if(this.overlayVisible)switch(me.which){case 40:if(this.group){let $e=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==$e){let Lt=$e.itemIndex+1;Lt<this.getOptionGroupChildren(this.suggestions[$e.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[$e.groupIndex])[Lt],this.highlightOptionChanged=!0):this.suggestions[$e.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[$e.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let $e=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=$e){var lt=$e+1;lt!=this.suggestions.length&&(this.highlightOption=this.suggestions[lt],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}me.preventDefault();break;case 38:if(this.group){let $e=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==$e){let Lt=$e.itemIndex-1;if(Lt>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[$e.groupIndex])[Lt],this.highlightOptionChanged=!0;else if(Lt<0){let je=this.suggestions[$e.groupIndex-1];je&&(this.highlightOption=this.getOptionGroupChildren(je)[this.getOptionGroupChildren(je).length-1],this.highlightOptionChanged=!0)}}}else{let $e=this.findOptionIndex(this.highlightOption,this.suggestions);$e>0&&(this.highlightOption=this.suggestions[$e-1],this.highlightOptionChanged=!0)}me.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),me.preventDefault();break;case 27:this.hide(),me.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===me.which&&this.suggestions?this.search(me,me.target.value):me.ctrlKey&&"z"===me.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):me.ctrlKey&&"z"===me.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===me.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const $e=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit($e)}this.inputKeyDown=!0}onKeyup(me){this.onKeyUp.emit(me)}onInputFocus(me){!this.itemClicked&&this.completeOnFocus&&this.search(me,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(me),this.itemClicked=!1}onInputBlur(me){this.focus=!1,this.onModelTouched(),this.onBlur.emit(me)}onInputChange(me){if(this.forceSelection){let lt=!1,$e=me.target.value.trim();if(this.suggestions)for(let Lt of this.suggestions){let je=this.field?F.gb.resolveFieldData(Lt,this.field):Lt;if(je&&$e===je.trim()){lt=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(Lt,!1)},250);break}}lt||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(me),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(me){this.onKeydown(me)}isSelected(me){let lt=!1;if(this.value&&this.value.length)for(let $e=0;$e<this.value.length;$e++)if(F.gb.equals(this.value[$e],me,this.dataKey)){lt=!0;break}return lt}findOptionIndex(me,lt){let $e=-1;if(lt)for(let Lt=0;Lt<lt.length;Lt++)if(F.gb.equals(me,lt[Lt])){$e=Lt;break}return $e}findOptionGroupIndex(me,lt){let $e,Lt;if(lt)for(let je=0;je<lt.length&&($e=je,Lt=this.findOptionIndex(me,this.getOptionGroupChildren(lt[je])),-1===Lt);je++);return-1!==Lt?{groupIndex:$e,itemIndex:Lt}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let me=this.resolveFieldData(this.value);this.inputFieldValue=me,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=me),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",lt=>{3!==lt.which&&(!this.inputClick&&!this.isDropdownClick(lt)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(me){if(this.dropdown){let lt=me.target;return lt===this.dropdownButton.nativeElement||lt.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!s.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new s.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&F.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return xt.\u0275fac=function(me){return new(me||xt)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(b.b4),e.Y36(b.F0))},xt.\u0275cmp=e.Xpm({type:xt,selectors:[["p-autoComplete"]],contentQueries:function(me,lt,$e){if(1&me&&e.Suo($e,b.jx,4),2&me){let Lt;e.iGM(Lt=e.CRH())&&(lt.templates=Lt)}},viewQuery:function(me,lt){if(1&me&&(e.Gf(T,5),e.Gf(y,5),e.Gf(w,5),e.Gf(k,5),e.Gf(V,5),e.Gf(U,5),e.Gf(oe,5)),2&me){let $e;e.iGM($e=e.CRH())&&(lt.containerEL=$e.first),e.iGM($e=e.CRH())&&(lt.inputEL=$e.first),e.iGM($e=e.CRH())&&(lt.multiInputEL=$e.first),e.iGM($e=e.CRH())&&(lt.multiContainerEL=$e.first),e.iGM($e=e.CRH())&&(lt.dropdownButton=$e.first),e.iGM($e=e.CRH())&&(lt.itemsViewChild=$e.first),e.iGM($e=e.CRH())&&(lt.scroller=$e.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(me,lt){2&me&&e.ekj("p-inputwrapper-filled",lt.filled)("p-inputwrapper-focus",lt.focus&&!lt.disabled||lt.autofocus||lt.overlayVisible)("p-autocomplete-clearable",lt.showClear&&!lt.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e._Bn([an])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(me,lt){1&me&&(e.TgZ(0,"span",0,1),e.YNc(2,H,2,23,"input",2),e.YNc(3,D,1,0,"i",3),e.YNc(4,P,1,0,"i",3),e.YNc(5,Me,6,23,"ul",4),e.YNc(6,de,1,0,"i",5),e.YNc(7,te,2,4,"button",6),e.YNc(8,Ce,8,17,"div",7),e.qZA()),2&me&&(e.Tol(lt.styleClass),e.Q6J("ngClass",e.WLB(11,ft,lt.dropdown,lt.multiple))("ngStyle",lt.style),e.xp6(2),e.Q6J("ngIf",!lt.multiple),e.xp6(1),e.Q6J("ngIf",!lt.multiple&&lt.filled&&!lt.disabled&&lt.showClear),e.xp6(1),e.Q6J("ngIf",lt.multiple&&lt.filled&&!lt.disabled&&lt.showClear),e.xp6(1),e.Q6J("ngIf",lt.multiple),e.xp6(1),e.Q6J("ngIf",lt.loading),e.xp6(1),e.Q6J("ngIf",lt.dropdown),e.xp6(1),e.Q6J("ngIf",lt.overlayVisible))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,x.Hq,b.jx,R.H,Q.T,N.P],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,u.X$)("overlayAnimation",[(0,u.eR)(":enter",[(0,u.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,u.jt)("{{showTransitionParams}}")]),(0,u.eR)(":leave",[(0,u.jt)("{{hideTransitionParams}}",(0,u.oB)({opacity:0}))])])]},changeDetection:0}),xt})(),qt=(()=>{class xt{}return xt.\u0275fac=function(me){return new(me||xt)},xt.\u0275mod=e.oAB({type:xt}),xt.\u0275inj=e.cJS({imports:[d.ez,p.j,x.hJ,b.m8,R.T,Q.v,N.E,b.m8,Q.v,N.E]}),xt})()},9618:(dn,pt,C)=>{"use strict";C.d(pt,{E:()=>x,P:()=>p});var e=C(9808),d=C(5e3),u=C(5730);let p=(()=>{class R{constructor(s){this.host=s,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const s=u.p.getFocusableElements(this.host.nativeElement);0===s.length&&this.host.nativeElement.focus(),s.length>0&&s[0].focus(),this.focused=!0}}}return R.\u0275fac=function(s){return new(s||R)(d.Y36(d.SBq))},R.\u0275dir=d.lG2({type:R,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),R})(),x=(()=>{class R{}return R.\u0275fac=function(s){return new(s||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({imports:[e.ez]}),R})()},85:(dn,pt,C)=>{"use strict";C.d(pt,{Ct:()=>s,TX:()=>F,lM:()=>b});var e=C(9808),d=C(5e3),u=C(9783),p=C(5730),x=C(5921);function R(O,Q){if(1&O&&(d.TgZ(0,"span",1),d._uU(1),d.qZA()),2&O){const N=d.oxw();d.Tol(N.styleClass),d.Q6J("ngClass",N.containerClass())("ngStyle",N.style),d.xp6(1),d.Oqu(N.value)}}let b=(()=>{class O{constructor(N){this.el=N,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(N){this._disabled=N}ngAfterViewInit(){this.id=(0,x.Th)()+"_badge";let N=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let T=document.createElement("span");T.id=this.id,T.className="p-badge p-component",this.severity&&p.p.addClass(T,"p-badge-"+this.severity),null!=this.value?(T.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&p.p.addClass(T,"p-badge-no-gutter")):p.p.addClass(T,"p-badge-dot"),p.p.addClass(N,"p-overlay-badge"),N.appendChild(T),this.initialized=!0}get value(){return this._value}set value(N){if(N!==this._value&&(this._value=N,this.initialized)){let T=document.getElementById(this.id);this._value?(p.p.hasClass(T,"p-badge-dot")&&p.p.removeClass(T,"p-badge-dot"),1===String(this._value).length?p.p.addClass(T,"p-badge-no-gutter"):p.p.removeClass(T,"p-badge-no-gutter")):!this._value&&!p.p.hasClass(T,"p-badge-dot")&&p.p.addClass(T,"p-badge-dot"),T.innerHTML="",T.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(d.SBq))},O.\u0275dir=d.lG2({type:O,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],value:"value",severity:"severity"}}),O})(),s=(()=>{class O{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275cmp=d.Xpm({type:O,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(N,T){1&N&&d.YNc(0,R,2,5,"span",0),2&N&&d.Q6J("ngIf",!T.badgeDisabled)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),O})(),F=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=d.oAB({type:O}),O.\u0275inj=d.cJS({imports:[e.ez,u.m8]}),O})()},7433:(dn,pt,C)=>{"use strict";C.d(pt,{b:()=>Q,u:()=>N});var e=C(5e3),d=C(9808),u=C(9783),p=C(5921),x=C(5730);const R=["mask"];function b(T,y){1&T&&e.GkF(0)}const s=function(T){return{"p-blockui-document":T,"p-blockui p-component-overlay p-component-overlay-enter":!0}},F=function(T){return{display:T}},O=["*"];let Q=(()=>{class T{constructor(w,k,V){this.el=w,this.cd=k,this.config=V,this.autoZIndex=!0,this.baseZIndex=0}get blocked(){return this._blocked}set blocked(w){this.mask&&this.mask.nativeElement?w?this.block():this.unblock():this._blocked=w}ngAfterViewInit(){if(this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(w=>{w.getType(),this.contentTemplate=w.template})}block(){this._blocked=!0,this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):document.body.appendChild(this.mask.nativeElement),this.autoZIndex&&p.P9.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal)}unblock(){this.animationEndListener=this.destroyModal.bind(this),this.mask.nativeElement.addEventListener("animationend",this.animationEndListener),x.p.addClass(this.mask.nativeElement,"p-component-overlay-leave")}destroyModal(){this._blocked=!1,x.p.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),p.P9.clear(this.mask.nativeElement),this.el.nativeElement.appendChild(this.mask.nativeElement),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.nativeElement.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}}return T.\u0275fac=function(w){return new(w||T)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(u.b4))},T.\u0275cmp=e.Xpm({type:T,selectors:[["p-blockUI"]],contentQueries:function(w,k,V){if(1&w&&e.Suo(V,u.jx,4),2&w){let U;e.iGM(U=e.CRH())&&(k.templates=U)}},viewQuery:function(w,k){if(1&w&&e.Gf(R,5),2&w){let V;e.iGM(V=e.CRH())&&(k.mask=V.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",styleClass:"styleClass",blocked:"blocked"},ngContentSelectors:O,decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["mask",""],[4,"ngTemplateOutlet"]],template:function(w,k){1&w&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.YNc(3,b,1,0,"ng-container",2),e.qZA()),2&w&&(e.Tol(k.styleClass),e.Q6J("ngClass",e.VKq(5,s,!k.target))("ngStyle",e.VKq(7,F,k.blocked?"flex":"none")),e.xp6(3),e.Q6J("ngTemplateOutlet",k.contentTemplate))},dependencies:[d.mk,d.tP,d.PC],styles:[".p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}\n"],encapsulation:2,changeDetection:0}),T})(),N=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[d.ez]}),T})()},7658:(dn,pt,C)=>{"use strict";C.d(pt,{a:()=>te,w:()=>ce});var e=C(5e3),d=C(9808),u=C(3470),p=C(4119);function x(J,ve){if(1&J&&e._UZ(0,"span",10),2&J){const be=e.oxw(3);e.Q6J("ngClass",be.home.icon||"pi pi-home")("ngStyle",be.home.iconStyle)}}function R(J,ve){if(1&J&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&J){const be=e.oxw(4);e.xp6(1),e.Oqu(be.home.label)}}function b(J,ve){if(1&J&&e._UZ(0,"span",14),2&J){const be=e.oxw(4);e.Q6J("innerHTML",be.home.label,e.oJD)}}function s(J,ve){if(1&J&&(e.ynx(0),e.YNc(1,R,2,1,"span",11),e.YNc(2,b,1,1,"ng-template",null,12,e.W1O),e.BQk()),2&J){const be=e.MAs(3),Be=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==Be.home.escape)("ngIfElse",be)}}function F(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(we){e.CHM(be);const ke=e.oxw(2);return e.KtG(ke.itemClick(we,ke.home))}),e.YNc(1,x,1,2,"span",8),e.YNc(2,s,4,2,"ng-container",9),e.qZA()}if(2&J){const be=e.oxw(2);e.Q6J("href",be.home.url?be.home.url:null,e.LSH)("target",be.home.target),e.uIk("aria-label",be.homeAriaLabel)("title",be.home.title)("id",be.home.id)("tabindex",be.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",be.home.icon),e.xp6(1),e.Q6J("ngIf",be.home.label)}}function O(J,ve){if(1&J&&e._UZ(0,"span",10),2&J){const be=e.oxw(3);e.Q6J("ngClass",be.home.icon||"pi pi-home")("ngStyle",be.home.iconStyle)}}function Q(J,ve){if(1&J&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&J){const be=e.oxw(4);e.xp6(1),e.Oqu(be.home.label)}}function N(J,ve){if(1&J&&e._UZ(0,"span",14),2&J){const be=e.oxw(4);e.Q6J("innerHTML",be.home.label,e.oJD)}}function T(J,ve){if(1&J&&(e.ynx(0),e.YNc(1,Q,2,1,"span",11),e.YNc(2,N,1,1,"ng-template",null,16,e.W1O),e.BQk()),2&J){const be=e.MAs(3),Be=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==Be.home.escape)("ngIfElse",be)}}const y=function(){return{exact:!1}};function w(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(we){e.CHM(be);const ke=e.oxw(2);return e.KtG(ke.itemClick(we,ke.home))}),e.YNc(1,O,1,2,"span",8),e.YNc(2,T,4,2,"ng-container",9),e.qZA()}if(2&J){const be=e.oxw(2);e.Q6J("routerLink",be.home.routerLink)("queryParams",be.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",be.home.routerLinkActiveOptions||e.DdM(17,y))("target",be.home.target)("fragment",be.home.fragment)("queryParamsHandling",be.home.queryParamsHandling)("preserveFragment",be.home.preserveFragment)("skipLocationChange",be.home.skipLocationChange)("replaceUrl",be.home.replaceUrl)("state",be.home.state),e.uIk("aria-label",be.homeAriaLabel)("title",be.home.title)("id",be.home.id)("tabindex",be.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",be.home.icon),e.xp6(1),e.Q6J("ngIf",be.home.label)}}const k=function(J){return{"p-breadcrumb-home":!0,"p-disabled":J}};function V(J,ve){if(1&J&&(e.TgZ(0,"li",4),e.YNc(1,F,3,8,"a",5),e.YNc(2,w,3,18,"a",6),e.qZA()),2&J){const be=e.oxw();e.Tol(be.home.styleClass),e.Q6J("ngClass",e.VKq(7,k,be.home.disabled))("ngStyle",be.home.style)("tooltipOptions",be.home.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!be.home.routerLink),e.xp6(1),e.Q6J("ngIf",be.home.routerLink)}}function U(J,ve){1&J&&e._UZ(0,"li",17)}function oe(J,ve){if(1&J&&e._UZ(0,"span",10),2&J){const be=e.oxw(2).$implicit;e.Q6J("ngClass",be.icon)("ngStyle",be.iconStyle)}}function K(J,ve){if(1&J&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&J){const be=e.oxw(3).$implicit;e.xp6(1),e.Oqu(be.label)}}function H(J,ve){if(1&J&&e._UZ(0,"span",14),2&J){const be=e.oxw(3).$implicit;e.Q6J("innerHTML",be.label,e.oJD)}}function D(J,ve){if(1&J&&(e.ynx(0),e.YNc(1,K,2,1,"span",11),e.YNc(2,H,1,1,"ng-template",null,21,e.W1O),e.BQk()),2&J){const be=e.MAs(3),Be=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==Be.escape)("ngIfElse",be)}}function P(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(we){e.CHM(be);const ke=e.oxw().$implicit,X=e.oxw();return e.KtG(X.itemClick(we,ke))}),e.YNc(1,oe,1,2,"span",8),e.YNc(2,D,4,2,"ng-container",9),e.qZA()}if(2&J){const be=e.oxw().$implicit;e.Q6J("target",be.target),e.uIk("href",be.url?be.url:null,e.LSH)("title",be.title)("id",be.id)("tabindex",be.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",be.icon),e.xp6(1),e.Q6J("ngIf",be.label)}}function Y(J,ve){if(1&J&&e._UZ(0,"span",10),2&J){const be=e.oxw(2).$implicit;e.Q6J("ngClass",be.icon)("ngStyle",be.iconStyle)}}function re(J,ve){if(1&J&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&J){const be=e.oxw(3).$implicit;e.xp6(1),e.Oqu(be.label)}}function j(J,ve){if(1&J&&e._UZ(0,"span",14),2&J){const be=e.oxw(3).$implicit;e.Q6J("innerHTML",be.label,e.oJD)}}function G(J,ve){if(1&J&&(e.ynx(0),e.YNc(1,re,2,1,"span",11),e.YNc(2,j,1,1,"ng-template",null,22,e.W1O),e.BQk()),2&J){const be=e.MAs(3),Be=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==Be.escape)("ngIfElse",be)}}function ie(J,ve){if(1&J){const be=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(we){e.CHM(be);const ke=e.oxw().$implicit,X=e.oxw();return e.KtG(X.itemClick(we,ke))}),e.YNc(1,Y,1,2,"span",8),e.YNc(2,G,4,2,"ng-container",9),e.qZA()}if(2&J){const be=e.oxw().$implicit;e.Q6J("routerLink",be.routerLink)("queryParams",be.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",be.routerLinkActiveOptions||e.DdM(16,y))("target",be.target)("fragment",be.fragment)("queryParamsHandling",be.queryParamsHandling)("preserveFragment",be.preserveFragment)("skipLocationChange",be.skipLocationChange)("replaceUrl",be.replaceUrl)("state",be.state),e.uIk("title",be.title)("id",be.id)("tabindex",be.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",be.icon),e.xp6(1),e.Q6J("ngIf",be.label)}}function Te(J,ve){1&J&&e._UZ(0,"li",17)}const Me=function(J){return{"p-disabled":J}};function de(J,ve){if(1&J&&(e.TgZ(0,"li",18),e.YNc(1,P,3,7,"a",19),e.YNc(2,ie,3,17,"a",6),e.qZA(),e.YNc(3,Te,1,0,"li",2)),2&J){const be=ve.$implicit,Be=ve.last;e.Tol(be.styleClass),e.Q6J("ngStyle",be.style)("ngClass",e.VKq(8,Me,be.disabled))("tooltipOptions",be.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!be.routerLink),e.xp6(1),e.Q6J("ngIf",be.routerLink),e.xp6(1),e.Q6J("ngIf",!Be)}}let te=(()=>{class J{constructor(){this.onItemClick=new e.vpe}itemClick(be,Be){Be.disabled?be.preventDefault():(!Be.url&&!Be.routerLink&&be.preventDefault(),Be.command&&Be.command({originalEvent:be,item:Be}),this.onItemClick.emit({originalEvent:be,item:Be}))}onHomeClick(be){this.home&&this.itemClick(be,this.home)}}return J.\u0275fac=function(be){return new(be||J)},J.\u0275cmp=e.Xpm({type:J,selectors:[["p-breadcrumb"]],hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],["pTooltip","",3,"class","ngClass","ngStyle","tooltipOptions",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["class","p-menuitem-link",3,"href","target","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","target","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlHomeLabel",""],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlHomeRouteLabel",""],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],["pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link",3,"target","click",4,"ngIf"],[1,"p-menuitem-link",3,"target","click"],["htmlLabel",""],["htmlRouteLabel",""]],template:function(be,Be){1&be&&(e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,V,3,9,"li",1),e.YNc(3,U,1,0,"li",2),e.YNc(4,de,4,10,"ng-template",3),e.qZA()()),2&be&&(e.Tol(Be.styleClass),e.Q6J("ngStyle",Be.style)("ngClass","p-breadcrumb p-component"),e.xp6(2),e.Q6J("ngIf",Be.home),e.xp6(1),e.Q6J("ngIf",Be.model&&Be.home),e.xp6(1),e.Q6J("ngForOf",Be.model))},dependencies:[d.mk,d.sg,d.O5,d.PC,u.yS,u.Od,p.u],styles:[".p-breadcrumb{overflow-x:auto}.p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:flex;align-items:center;flex-wrap:nowrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none;cursor:pointer}.p-breadcrumb::-webkit-scrollbar{display:none}\n"],encapsulation:2,changeDetection:0}),J})(),ce=(()=>{class J{}return J.\u0275fac=function(be){return new(be||J)},J.\u0275mod=e.oAB({type:J}),J.\u0275inj=e.cJS({imports:[d.ez,u.Bz,p.z,u.Bz,p.z]}),J})()},845:(dn,pt,C)=>{"use strict";C.d(pt,{Hq:()=>y,hJ:()=>k,zx:()=>w});var e=C(9808),d=C(5e3),u=C(9783),p=C(5730),x=C(5787),R=C(5921);function b(V,U){1&V&&d.GkF(0)}const s=function(V,U,oe,K){return{"p-button-icon":!0,"p-button-icon-left":V,"p-button-icon-right":U,"p-button-icon-top":oe,"p-button-icon-bottom":K}};function F(V,U){if(1&V&&d._UZ(0,"span",4),2&V){const oe=d.oxw();d.Tol(oe.loading?"p-button-loading-icon "+oe.loadingIcon:oe.icon),d.Q6J("ngClass",d.l5B(4,s,"left"===oe.iconPos&&oe.label,"right"===oe.iconPos&&oe.label,"top"===oe.iconPos&&oe.label,"bottom"===oe.iconPos&&oe.label)),d.uIk("aria-hidden",!0)}}function O(V,U){if(1&V&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&V){const oe=d.oxw();d.uIk("aria-hidden",oe.icon&&!oe.label),d.xp6(1),d.Oqu(oe.label)}}function Q(V,U){if(1&V&&(d.TgZ(0,"span",4),d._uU(1),d.qZA()),2&V){const oe=d.oxw();d.Tol(oe.badgeClass),d.Q6J("ngClass",oe.badgeStyleClass()),d.xp6(1),d.Oqu(oe.badge)}}const N=function(V,U,oe,K,H){return{"p-button p-component":!0,"p-button-icon-only":V,"p-button-vertical":U,"p-disabled":oe,"p-button-loading":K,"p-button-loading-label-only":H}},T=["*"];let y=(()=>{class V{constructor(oe){this.el=oe,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(oe){this._label=oe,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(oe){this._icon=oe,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(oe){this._loading=oe,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,p.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let oe="p-button p-component";return this.icon&&!this.label&&R.gb.isEmpty(this.el.nativeElement.textContent)&&(oe+=" p-button-icon-only"),this.loading&&(oe+=" p-disabled p-button-loading",!this.icon&&this.label&&(oe+=" p-button-loading-label-only")),oe}setStyleClass(){let oe=this.getStyleClass();this.el.nativeElement.className=oe+" "+this._initialStyleClass}createLabel(){if(this.label){let oe=document.createElement("span");this.icon&&!this.label&&oe.setAttribute("aria-hidden","true"),oe.className="p-button-label",oe.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(oe)}}createIcon(){if(this.icon||this.loading){let oe=document.createElement("span");oe.className="p-button-icon",oe.setAttribute("aria-hidden","true");let K=this.label?"p-button-icon-"+this.iconPos:null;K&&p.p.addClass(oe,K);let H=this.getIconClass();H&&p.p.addMultipleClasses(oe,H),this.el.nativeElement.insertBefore(oe,this.el.nativeElement.firstChild)}}updateLabel(){let oe=p.p.findSingle(this.el.nativeElement,".p-button-label");this.label?oe?oe.textContent=this.label:this.createLabel():oe&&this.el.nativeElement.removeChild(oe)}updateIcon(){let oe=p.p.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?oe?oe.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():oe&&this.el.nativeElement.removeChild(oe)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return V.\u0275fac=function(oe){return new(oe||V)(d.Y36(d.SBq))},V.\u0275dir=d.lG2({type:V,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),V})(),w=(()=>{class V{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe}ngAfterContentInit(){this.templates.forEach(oe=>{oe.getType(),this.contentTemplate=oe.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return V.\u0275fac=function(oe){return new(oe||V)},V.\u0275cmp=d.Xpm({type:V,selectors:[["p-button"]],contentQueries:function(oe,K,H){if(1&oe&&d.Suo(H,u.jx,4),2&oe){let D;d.iGM(D=d.CRH())&&(K.templates=D)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:T,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(oe,K){1&oe&&(d.F$t(),d.TgZ(0,"button",0),d.NdJ("click",function(D){return K.onClick.emit(D)})("focus",function(D){return K.onFocus.emit(D)})("blur",function(D){return K.onBlur.emit(D)}),d.Hsn(1),d.YNc(2,b,1,0,"ng-container",1),d.YNc(3,F,1,9,"span",2),d.YNc(4,O,2,2,"span",3),d.YNc(5,Q,2,4,"span",2),d.qZA()),2&oe&&(d.Tol(K.styleClass),d.Q6J("ngStyle",K.style)("disabled",K.disabled||K.loading)("ngClass",d.qbA(11,N,K.icon&&!K.label,("top"===K.iconPos||"bottom"===K.iconPos)&&K.label,K.disabled||K.loading,K.loading,K.loading&&!K.icon&&K.label)),d.uIk("type",K.type)("aria-label",K.ariaLabel),d.xp6(2),d.Q6J("ngTemplateOutlet",K.contentTemplate),d.xp6(1),d.Q6J("ngIf",!K.contentTemplate&&(K.icon||K.loading)),d.xp6(1),d.Q6J("ngIf",!K.contentTemplate&&K.label),d.xp6(1),d.Q6J("ngIf",!K.contentTemplate&&K.badge))},dependencies:[e.mk,e.O5,e.tP,e.PC,x.H],encapsulation:2,changeDetection:0}),V})(),k=(()=>{class V{}return V.\u0275fac=function(oe){return new(oe||V)},V.\u0275mod=d.oAB({type:V}),V.\u0275inj=d.cJS({imports:[e.ez,x.T]}),V})()},5652:(dn,pt,C)=>{"use strict";C.d(pt,{_8:()=>et,f:()=>Oe});var e=C(1777),d=C(9808),u=C(5e3),p=C(2382),x=C(9783),R=C(845),b=C(5730),s=C(5787),F=C(5921);const O=["container"],Q=["inputfield"],N=["contentWrapper"];function T(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"i",8),u.NdJ("click",function(){u.CHM(ee);const Ce=u.oxw(2);return u.KtG(Ce.clear())}),u.qZA()}}function y(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(Ce){u.CHM(ee),u.oxw();const ft=u.MAs(1),an=u.oxw();return u.KtG(an.onButtonClick(Ce,ft))}),u.qZA()}if(2&Ne){const ee=u.oxw(2);u.Q6J("icon",ee.icon)("disabled",ee.disabled),u.uIk("aria-label",ee.iconAriaLabel)}}function w(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"input",4,5),u.NdJ("focus",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onInputFocus(Ce))})("keydown",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onInputKeydown(Ce))})("click",function(){u.CHM(ee);const Ce=u.oxw();return u.KtG(Ce.onInputClick())})("blur",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onInputBlur(Ce))})("input",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onUserInput(Ce))}),u.qZA(),u.YNc(2,T,1,0,"i",6),u.YNc(3,y,1,3,"button",7)}if(2&Ne){const ee=u.oxw();u.Tol(ee.inputStyleClass),u.Q6J("value",ee.inputFieldValue)("readonly",ee.readonlyInput)("ngStyle",ee.inputStyle)("placeholder",ee.placeholder||"")("disabled",ee.disabled)("ngClass","p-inputtext p-component"),u.uIk("id",ee.inputId)("name",ee.name)("required",ee.required)("aria-required",ee.required)("tabindex",ee.tabindex)("inputmode",ee.touchUI?"off":null)("aria-labelledby",ee.ariaLabelledBy),u.xp6(2),u.Q6J("ngIf",ee.showClear&&!ee.disabled&&null!=ee.value),u.xp6(1),u.Q6J("ngIf",ee.showIcon)}}function k(Ne,yt){1&Ne&&u.GkF(0)}function V(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"button",30),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(4);return u.KtG(ft.onContainerButtonKeydown(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw(4);return u.KtG(ft.onPrevButtonClick(Ce))}),u._UZ(1,"span",31),u.qZA()}}function U(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(Ce){u.CHM(ee);const ft=u.oxw(4);return u.KtG(ft.switchToMonthView(Ce))})("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(4);return u.KtG(ft.onContainerButtonKeydown(Ce))}),u._uU(1),u.qZA()}if(2&Ne){const ee=u.oxw().$implicit,Ze=u.oxw(3);u.Q6J("disabled",Ze.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",Ze.getMonthName(ee.month)," ")}}function oe(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(Ce){u.CHM(ee);const ft=u.oxw(4);return u.KtG(ft.switchToYearView(Ce))})("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(4);return u.KtG(ft.onContainerButtonKeydown(Ce))}),u._uU(1),u.qZA()}if(2&Ne){const ee=u.oxw().$implicit,Ze=u.oxw(3);u.Q6J("disabled",Ze.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",Ze.getYear(ee)," ")}}function K(Ne,yt){if(1&Ne&&(u.ynx(0),u._uU(1),u.BQk()),2&Ne){const ee=u.oxw(5);u.xp6(1),u.AsE("",ee.yearPickerValues()[0]," - ",ee.yearPickerValues()[ee.yearPickerValues().length-1],"")}}function H(Ne,yt){1&Ne&&u.GkF(0)}const D=function(Ne){return{$implicit:Ne}};function P(Ne,yt){if(1&Ne&&(u.TgZ(0,"span",34),u.YNc(1,K,2,2,"ng-container",13),u.YNc(2,H,1,0,"ng-container",35),u.qZA()),2&Ne){const ee=u.oxw(4);u.xp6(1),u.Q6J("ngIf",!ee.decadeTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",ee.decadeTemplate)("ngTemplateOutletContext",u.VKq(3,D,ee.yearPickerValues))}}function Y(Ne,yt){if(1&Ne&&(u.TgZ(0,"th",41)(1,"span"),u._uU(2),u.qZA()()),2&Ne){const ee=u.oxw(5);u.xp6(2),u.Oqu(ee.getTranslation("weekHeader"))}}function re(Ne,yt){if(1&Ne&&(u.TgZ(0,"th",42)(1,"span"),u._uU(2),u.qZA()()),2&Ne){const ee=yt.$implicit;u.xp6(2),u.Oqu(ee)}}function j(Ne,yt){if(1&Ne&&(u.TgZ(0,"td",45)(1,"span",46),u._uU(2),u.qZA()()),2&Ne){const ee=u.oxw().index,Ze=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",Ze.weekNumbers[ee]," ")}}function G(Ne,yt){if(1&Ne&&(u.ynx(0),u._uU(1),u.BQk()),2&Ne){const ee=u.oxw(2).$implicit;u.xp6(1),u.Oqu(ee.day)}}function ie(Ne,yt){1&Ne&&u.GkF(0)}const Te=function(Ne,yt){return{"p-highlight":Ne,"p-disabled":yt}};function Me(Ne,yt){if(1&Ne){const ee=u.EpF();u.ynx(0),u.TgZ(1,"span",48),u.NdJ("click",function(Ce){u.CHM(ee);const ft=u.oxw().$implicit,an=u.oxw(6);return u.KtG(an.onDateSelect(Ce,ft))})("keydown",function(Ce){u.CHM(ee);const ft=u.oxw().$implicit,an=u.oxw(3).index,Tn=u.oxw(3);return u.KtG(Tn.onDateCellKeydown(Ce,ft,an))}),u.YNc(2,G,2,1,"ng-container",13),u.YNc(3,ie,1,0,"ng-container",35),u.qZA(),u.BQk()}if(2&Ne){const ee=u.oxw().$implicit,Ze=u.oxw(6);u.xp6(1),u.Q6J("ngClass",u.WLB(4,Te,Ze.isSelected(ee),!ee.selectable)),u.xp6(1),u.Q6J("ngIf",!Ze.dateTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",Ze.dateTemplate)("ngTemplateOutletContext",u.VKq(7,D,ee))}}const de=function(Ne,yt){return{"p-datepicker-other-month":Ne,"p-datepicker-today":yt}};function te(Ne,yt){if(1&Ne&&(u.TgZ(0,"td",47),u.YNc(1,Me,4,9,"ng-container",13),u.qZA()),2&Ne){const ee=yt.$implicit,Ze=u.oxw(6);u.Q6J("ngClass",u.WLB(2,de,ee.otherMonth,ee.today)),u.xp6(1),u.Q6J("ngIf",!ee.otherMonth||Ze.showOtherMonths)}}function ce(Ne,yt){if(1&Ne&&(u.TgZ(0,"tr"),u.YNc(1,j,3,1,"td",43),u.YNc(2,te,2,5,"td",44),u.qZA()),2&Ne){const ee=yt.$implicit,Ze=u.oxw(5);u.xp6(1),u.Q6J("ngIf",Ze.showWeek),u.xp6(1),u.Q6J("ngForOf",ee)}}function J(Ne,yt){if(1&Ne&&(u.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),u.YNc(4,Y,3,1,"th",38),u.YNc(5,re,3,1,"th",39),u.qZA()(),u.TgZ(6,"tbody"),u.YNc(7,ce,3,2,"tr",40),u.qZA()()()),2&Ne){const ee=u.oxw().$implicit,Ze=u.oxw(3);u.xp6(4),u.Q6J("ngIf",Ze.showWeek),u.xp6(1),u.Q6J("ngForOf",Ze.weekDays),u.xp6(2),u.Q6J("ngForOf",ee.dates)}}function ve(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"div",20)(1,"div",21),u.YNc(2,V,2,0,"button",22),u.TgZ(3,"div",23),u.YNc(4,U,2,2,"button",24),u.YNc(5,oe,2,2,"button",25),u.YNc(6,P,3,5,"span",26),u.qZA(),u.TgZ(7,"button",27),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onContainerButtonKeydown(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onNextButtonClick(Ce))}),u._UZ(8,"span",28),u.qZA()(),u.YNc(9,J,8,3,"div",29),u.qZA()}if(2&Ne){const ee=yt.index,Ze=u.oxw(3);u.xp6(2),u.Q6J("ngIf",0===ee),u.xp6(2),u.Q6J("ngIf","date"===Ze.currentView),u.xp6(1),u.Q6J("ngIf","year"!==Ze.currentView),u.xp6(1),u.Q6J("ngIf","year"===Ze.currentView),u.xp6(1),u.Udp("display",1===Ze.numberOfMonths||ee===Ze.numberOfMonths-1?"inline-flex":"none"),u.xp6(2),u.Q6J("ngIf","date"===Ze.currentView)}}function be(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"span",51),u.NdJ("click",function(Ce){const an=u.CHM(ee).index,Tn=u.oxw(4);return u.KtG(Tn.onMonthSelect(Ce,an))})("keydown",function(Ce){const an=u.CHM(ee).index,Tn=u.oxw(4);return u.KtG(Tn.onMonthCellKeydown(Ce,an))}),u._uU(1),u.qZA()}if(2&Ne){const ee=yt.$implicit,Ze=yt.index,Ce=u.oxw(4);u.Q6J("ngClass",u.WLB(2,Te,Ce.isMonthSelected(Ze),Ce.isMonthDisabled(Ze))),u.xp6(1),u.hij(" ",ee," ")}}function Be(Ne,yt){if(1&Ne&&(u.TgZ(0,"div",49),u.YNc(1,be,2,5,"span",50),u.qZA()),2&Ne){const ee=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",ee.monthPickerValues())}}const we=function(Ne){return{"p-highlight":Ne}};function ke(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"span",54),u.NdJ("click",function(Ce){const an=u.CHM(ee).$implicit,Tn=u.oxw(4);return u.KtG(Tn.onYearSelect(Ce,an))})("keydown",function(Ce){const an=u.CHM(ee).$implicit,Tn=u.oxw(4);return u.KtG(Tn.onYearCellKeydown(Ce,an))}),u._uU(1),u.qZA()}if(2&Ne){const ee=yt.$implicit,Ze=u.oxw(4);u.Q6J("ngClass",u.VKq(2,we,Ze.isYearSelected(ee))),u.xp6(1),u.hij(" ",ee," ")}}function X(Ne,yt){if(1&Ne&&(u.TgZ(0,"div",52),u.YNc(1,ke,2,4,"span",53),u.qZA()),2&Ne){const ee=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",ee.yearPickerValues())}}function q(Ne,yt){if(1&Ne&&(u.ynx(0),u.TgZ(1,"div",16),u.YNc(2,ve,10,7,"div",17),u.qZA(),u.YNc(3,Be,2,1,"div",18),u.YNc(4,X,2,1,"div",19),u.BQk()),2&Ne){const ee=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",ee.months),u.xp6(1),u.Q6J("ngIf","month"===ee.currentView),u.xp6(1),u.Q6J("ngIf","year"===ee.currentView)}}function pe(Ne,yt){1&Ne&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function _e(Ne,yt){1&Ne&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function Xe(Ne,yt){if(1&Ne&&(u.TgZ(0,"div",60)(1,"span"),u._uU(2),u.qZA()()),2&Ne){const ee=u.oxw(3);u.xp6(2),u.Oqu(ee.timeSeparator)}}function ct(Ne,yt){1&Ne&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function ot(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"div",65)(1,"button",57),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onContainerButtonKeydown(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.incrementSecond(Ce))})("keydown.space",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.incrementSecond(Ce))})("mousedown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseDown(Ce,2,1))})("mouseup",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.enter",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.space",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("mouseleave",function(){u.CHM(ee);const Ce=u.oxw(3);return u.KtG(Ce.onTimePickerElementMouseLeave())}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u.YNc(4,ct,2,0,"ng-container",13),u._uU(5),u.qZA(),u.TgZ(6,"button",57),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onContainerButtonKeydown(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.decrementSecond(Ce))})("keydown.space",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.decrementSecond(Ce))})("mousedown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseDown(Ce,2,-1))})("mouseup",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.enter",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.space",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("mouseleave",function(){u.CHM(ee);const Ce=u.oxw(3);return u.KtG(Ce.onTimePickerElementMouseLeave())}),u._UZ(7,"span",59),u.qZA()()}if(2&Ne){const ee=u.oxw(3);u.xp6(4),u.Q6J("ngIf",ee.currentSecond<10),u.xp6(1),u.Oqu(ee.currentSecond)}}function Zt(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"div",66)(1,"button",67),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onContainerButtonKeydown(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.toggleAMPM(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.toggleAMPM(Ce))}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.TgZ(5,"button",67),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.onContainerButtonKeydown(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.toggleAMPM(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(3);return u.KtG(ft.toggleAMPM(Ce))}),u._UZ(6,"span",59),u.qZA()()}if(2&Ne){const ee=u.oxw(3);u.xp6(4),u.Oqu(ee.pm?"PM":"AM")}}function Dt(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"div",55)(1,"div",56)(2,"button",57),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onContainerButtonKeydown(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.incrementHour(Ce))})("keydown.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.incrementHour(Ce))})("mousedown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseDown(Ce,0,1))})("mouseup",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("mouseleave",function(){u.CHM(ee);const Ce=u.oxw(2);return u.KtG(Ce.onTimePickerElementMouseLeave())}),u._UZ(3,"span",58),u.qZA(),u.TgZ(4,"span"),u.YNc(5,pe,2,0,"ng-container",13),u._uU(6),u.qZA(),u.TgZ(7,"button",57),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onContainerButtonKeydown(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.decrementHour(Ce))})("keydown.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.decrementHour(Ce))})("mousedown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseDown(Ce,0,-1))})("mouseup",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("mouseleave",function(){u.CHM(ee);const Ce=u.oxw(2);return u.KtG(Ce.onTimePickerElementMouseLeave())}),u._UZ(8,"span",59),u.qZA()(),u.TgZ(9,"div",60)(10,"span"),u._uU(11),u.qZA()(),u.TgZ(12,"div",61)(13,"button",57),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onContainerButtonKeydown(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.incrementMinute(Ce))})("keydown.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.incrementMinute(Ce))})("mousedown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseDown(Ce,1,1))})("mouseup",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("mouseleave",function(){u.CHM(ee);const Ce=u.oxw(2);return u.KtG(Ce.onTimePickerElementMouseLeave())}),u._UZ(14,"span",58),u.qZA(),u.TgZ(15,"span"),u.YNc(16,_e,2,0,"ng-container",13),u._uU(17),u.qZA(),u.TgZ(18,"button",57),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onContainerButtonKeydown(Ce))})("keydown.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.decrementMinute(Ce))})("keydown.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.decrementMinute(Ce))})("mousedown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseDown(Ce,1,-1))})("mouseup",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.enter",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("keyup.space",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTimePickerElementMouseUp(Ce))})("mouseleave",function(){u.CHM(ee);const Ce=u.oxw(2);return u.KtG(Ce.onTimePickerElementMouseLeave())}),u._UZ(19,"span",59),u.qZA()(),u.YNc(20,Xe,3,1,"div",62),u.YNc(21,ot,8,2,"div",63),u.YNc(22,Zt,7,1,"div",64),u.qZA()}if(2&Ne){const ee=u.oxw(2);u.xp6(5),u.Q6J("ngIf",ee.currentHour<10),u.xp6(1),u.Oqu(ee.currentHour),u.xp6(5),u.Oqu(ee.timeSeparator),u.xp6(5),u.Q6J("ngIf",ee.currentMinute<10),u.xp6(1),u.Oqu(ee.currentMinute),u.xp6(3),u.Q6J("ngIf",ee.showSeconds),u.xp6(1),u.Q6J("ngIf",ee.showSeconds),u.xp6(1),u.Q6J("ngIf","12"==ee.hourFormat)}}const Cn=function(Ne){return[Ne]};function Xt(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"div",68)(1,"button",69),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onContainerButtonKeydown(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onTodayButtonClick(Ce))}),u.qZA(),u.TgZ(2,"button",69),u.NdJ("keydown",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onContainerButtonKeydown(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw(2);return u.KtG(ft.onClearButtonClick(Ce))}),u.qZA()()}if(2&Ne){const ee=u.oxw(2);u.xp6(1),u.Q6J("label",ee.getTranslation("today"))("ngClass",u.VKq(4,Cn,ee.todayButtonStyleClass)),u.xp6(1),u.Q6J("label",ee.getTranslation("clear"))("ngClass",u.VKq(6,Cn,ee.clearButtonStyleClass))}}function jt(Ne,yt){1&Ne&&u.GkF(0)}const ht=function(Ne,yt,ee,Ze,Ce,ft){return{"p-datepicker p-component":!0,"p-datepicker-inline":Ne,"p-disabled":yt,"p-datepicker-timeonly":ee,"p-datepicker-multiple-month":Ze,"p-datepicker-monthpicker":Ce,"p-datepicker-touch-ui":ft}},ut=function(Ne,yt){return{showTransitionParams:Ne,hideTransitionParams:yt}},xe=function(Ne){return{value:"visibleTouchUI",params:Ne}},De=function(Ne){return{value:"visible",params:Ne}};function We(Ne,yt){if(1&Ne){const ee=u.EpF();u.TgZ(0,"div",10,11),u.NdJ("@overlayAnimation.start",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onOverlayAnimationStart(Ce))})("@overlayAnimation.done",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onOverlayAnimationDone(Ce))})("click",function(Ce){u.CHM(ee);const ft=u.oxw();return u.KtG(ft.onOverlayClick(Ce))}),u.Hsn(2),u.YNc(3,k,1,0,"ng-container",12),u.YNc(4,q,5,3,"ng-container",13),u.YNc(5,Dt,23,8,"div",14),u.YNc(6,Xt,3,8,"div",15),u.Hsn(7,1),u.YNc(8,jt,1,0,"ng-container",12),u.qZA()}if(2&Ne){const ee=u.oxw();u.Tol(ee.panelStyleClass),u.Q6J("ngStyle",ee.panelStyle)("ngClass",u.HTZ(11,ht,ee.inline,ee.disabled,ee.timeOnly,ee.numberOfMonths>1,"month"===ee.view,ee.touchUI))("@overlayAnimation",ee.touchUI?u.VKq(21,xe,u.WLB(18,ut,ee.showTransitionOptions,ee.hideTransitionOptions)):u.VKq(26,De,u.WLB(23,ut,ee.showTransitionOptions,ee.hideTransitionOptions)))("@.disabled",!0===ee.inline),u.xp6(3),u.Q6J("ngTemplateOutlet",ee.headerTemplate),u.xp6(1),u.Q6J("ngIf",!ee.timeOnly),u.xp6(1),u.Q6J("ngIf",(ee.showTime||ee.timeOnly)&&"date"===ee.currentView),u.xp6(1),u.Q6J("ngIf",ee.showButtonBar),u.xp6(2),u.Q6J("ngTemplateOutlet",ee.footerTemplate)}}const gt=[[["p-header"]],[["p-footer"]]],Tt=function(Ne,yt,ee,Ze){return{"p-calendar":!0,"p-calendar-w-btn":Ne,"p-calendar-timeonly":yt,"p-calendar-disabled":ee,"p-focus":Ze}},Ft=["p-header","p-footer"],Ot={provide:p.JU,useExisting:(0,u.Gpc)(()=>Oe),multi:!0};let Oe=(()=>{class Ne{constructor(ee,Ze,Ce,ft,an,Tn){this.el=ee,this.renderer=Ze,this.cd=Ce,this.zone=ft,this.config=an,this.overlayService=Tn,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClose=new u.vpe,this.onSelect=new u.vpe,this.onClear=new u.vpe,this.onInput=new u.vpe,this.onTodayClick=new u.vpe,this.onClearClick=new u.vpe,this.onMonthChange=new u.vpe,this.onYearChange=new u.vpe,this.onClickOutside=new u.vpe,this.onShow=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(qt,xt){return"12"==this.hourFormat?12===qt?xt?12:0:xt?qt+12:qt:qt}}set content(ee){this.contentViewChild=ee,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(ee){this._view=ee,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(ee){if(this._defaultDate=ee,this.initialized){const Ze=ee||new Date;this.currentMonth=Ze.getMonth(),this.currentYear=Ze.getFullYear(),this.initTime(Ze),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(ee){this._minDate=ee,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(ee){this._maxDate=ee,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(ee){this._disabledDates=ee,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(ee){this._disabledDays=ee,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(ee){if(this._yearRange=ee,ee){const Ze=ee.split(":"),Ce=parseInt(Ze[0]),ft=parseInt(Ze[1]);this.populateYearOptions(Ce,ft)}}get showTime(){return this._showTime}set showTime(ee){this._showTime=ee,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(ee){this._responsiveOptions=ee,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(ee){this._numberOfMonths=ee,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(ee){this._firstDayOfWeek=ee,this.createWeekDays()}set locale(ee){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,F.Th)();const ee=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=ee.getMonth(),this.currentYear=ee.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(ee),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ee=>{switch(ee.getType()){case"date":default:this.dateTemplate=ee.template;break;case"decade":this.decadeTemplate=ee.template;break;case"disabledDate":this.disabledDateTemplate=ee.template;break;case"header":this.headerTemplate=ee.template;break;case"footer":this.footerTemplate=ee.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=b.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(ee){return this.config.getTranslation(ee)}populateYearOptions(ee,Ze){this.yearOptions=[];for(let Ce=ee;Ce<=Ze;Ce++)this.yearOptions.push(Ce)}createWeekDays(){this.weekDays=[];let ee=this.getFirstDateOfWeek(),Ze=this.getTranslation(x.ws.DAY_NAMES_MIN);for(let Ce=0;Ce<7;Ce++)this.weekDays.push(Ze[ee]),ee=6==ee?0:++ee}monthPickerValues(){let ee=[];for(let Ze=0;Ze<=11;Ze++)ee.push(this.config.getTranslation("monthNamesShort")[Ze]);return ee}yearPickerValues(){let ee=[],Ze=this.currentYear-this.currentYear%10;for(let Ce=0;Ce<10;Ce++)ee.push(Ze+Ce);return ee}createMonths(ee,Ze){this.months=this.months=[];for(let Ce=0;Ce<this.numberOfMonths;Ce++){let ft=ee+Ce,an=Ze;ft>11&&(ft=ft%11-1,an=Ze+1),this.months.push(this.createMonth(ft,an))}}getWeekNumber(ee){let Ze=new Date(ee.getTime());Ze.setDate(Ze.getDate()+4-(Ze.getDay()||7));let Ce=Ze.getTime();return Ze.setMonth(0),Ze.setDate(1),Math.floor(Math.round((Ce-Ze.getTime())/864e5)/7)+1}createMonth(ee,Ze){let Ce=[],ft=this.getFirstDayOfMonthIndex(ee,Ze),an=this.getDaysCountInMonth(ee,Ze),Tn=this.getDaysCountInPrevMonth(ee,Ze),qt=1,xt=new Date,Ct=[],me=Math.ceil((an+ft)/7);for(let lt=0;lt<me;lt++){let $e=[];if(0==lt){for(let je=Tn-ft+1;je<=Tn;je++){let sn=this.getPreviousMonthAndYear(ee,Ze);$e.push({day:je,month:sn.month,year:sn.year,otherMonth:!0,today:this.isToday(xt,je,sn.month,sn.year),selectable:this.isSelectable(je,sn.month,sn.year,!0)})}let Lt=7-$e.length;for(let je=0;je<Lt;je++)$e.push({day:qt,month:ee,year:Ze,today:this.isToday(xt,qt,ee,Ze),selectable:this.isSelectable(qt,ee,Ze,!1)}),qt++}else for(let Lt=0;Lt<7;Lt++){if(qt>an){let je=this.getNextMonthAndYear(ee,Ze);$e.push({day:qt-an,month:je.month,year:je.year,otherMonth:!0,today:this.isToday(xt,qt-an,je.month,je.year),selectable:this.isSelectable(qt-an,je.month,je.year,!0)})}else $e.push({day:qt,month:ee,year:Ze,today:this.isToday(xt,qt,ee,Ze),selectable:this.isSelectable(qt,ee,Ze,!1)});qt++}this.showWeek&&Ct.push(this.getWeekNumber(new Date($e[0].year,$e[0].month,$e[0].day))),Ce.push($e)}return{month:ee,year:Ze,dates:Ce,weekNumbers:Ct}}initTime(ee){this.pm=ee.getHours()>11,this.showTime?(this.currentMinute=ee.getMinutes(),this.currentSecond=ee.getSeconds(),this.setCurrentHourPM(ee.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(ee){this.disabled?ee.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(ee){this.disabled?ee.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let ee=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-ee,this.yearOptions[this.yearOptions.length-1]-ee)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let ee=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+ee,this.yearOptions[this.yearOptions.length-1]+ee)}}switchToMonthView(ee){this.setCurrentView("month"),ee.preventDefault()}switchToYearView(ee){this.setCurrentView("year"),ee.preventDefault()}onDateSelect(ee,Ze){!this.disabled&&Ze.selectable?(this.isMultipleSelection()&&this.isSelected(Ze)?(this.value=this.value.filter((Ce,ft)=>!this.isDateEquals(Ce,Ze)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(Ze)&&this.selectDate(Ze),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{ee.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),ee.preventDefault()):ee.preventDefault()}shouldSelectDate(ee){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(ee,Ze){"month"===this.view?this.onDateSelect(ee,{year:this.currentYear,month:Ze,day:1,selectable:!0}):(this.currentMonth=Ze,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(ee,Ze){"year"===this.view?this.onDateSelect(ee,{year:Ze,month:0,day:1,selectable:!0}):(this.currentYear=Ze,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let ee="";if(this.value)if(this.isSingleSelection())ee=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let Ze=0;Ze<this.value.length;Ze++)ee+=this.formatDateTime(this.value[Ze]),Ze!==this.value.length-1&&(ee+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let Ce=this.value[1];ee=this.formatDateTime(this.value[0]),Ce&&(ee+=" "+this.rangeSeparator+" "+this.formatDateTime(Ce))}this.inputFieldValue=ee,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(ee){let Ze=this.keepInvalid?ee:null;return this.isValidDate(ee)&&(this.timeOnly?Ze=this.formatTime(ee):(Ze=this.formatDate(ee,this.getDateFormat()),this.showTime&&(Ze+=" "+this.formatTime(ee)))),Ze}setCurrentHourPM(ee){"12"==this.hourFormat?(this.pm=ee>11,this.currentHour=ee>=12?12==ee?12:ee-12:0==ee?12:ee):this.currentHour=ee}setCurrentView(ee){this.currentView=ee,this.cd.detectChanges(),this.alignOverlay()}selectDate(ee){let Ze=new Date(ee.year,ee.month,ee.day);if(this.showTime&&(Ze.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),Ze.setMinutes(this.currentMinute),Ze.setSeconds(this.currentSecond)),this.minDate&&this.minDate>Ze&&(Ze=this.minDate,this.setCurrentHourPM(Ze.getHours()),this.currentMinute=Ze.getMinutes(),this.currentSecond=Ze.getSeconds()),this.maxDate&&this.maxDate<Ze&&(Ze=this.maxDate,this.setCurrentHourPM(Ze.getHours()),this.currentMinute=Ze.getMinutes(),this.currentSecond=Ze.getSeconds()),this.isSingleSelection())this.updateModel(Ze);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,Ze]:[Ze]);else if(this.isRangeSelection())if(this.value&&this.value.length){let Ce=this.value[0],ft=this.value[1];!ft&&Ze.getTime()>=Ce.getTime()?ft=Ze:(Ce=Ze,ft=null),this.updateModel([Ce,ft])}else this.updateModel([Ze,null]);this.onSelect.emit(Ze)}updateModel(ee){if(this.value=ee,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let Ze=null;this.value&&(Ze=this.value.map(Ce=>this.formatDateTime(Ce))),this.onModelChange(Ze)}}getFirstDayOfMonthIndex(ee,Ze){let Ce=new Date;Ce.setDate(1),Ce.setMonth(ee),Ce.setFullYear(Ze);let ft=Ce.getDay()+this.getSundayIndex();return ft>=7?ft-7:ft}getDaysCountInMonth(ee,Ze){return 32-this.daylightSavingAdjust(new Date(Ze,ee,32)).getDate()}getDaysCountInPrevMonth(ee,Ze){let Ce=this.getPreviousMonthAndYear(ee,Ze);return this.getDaysCountInMonth(Ce.month,Ce.year)}getPreviousMonthAndYear(ee,Ze){let Ce,ft;return 0===ee?(Ce=11,ft=Ze-1):(Ce=ee-1,ft=Ze),{month:Ce,year:ft}}getNextMonthAndYear(ee,Ze){let Ce,ft;return 11===ee?(Ce=0,ft=Ze+1):(Ce=ee+1,ft=Ze),{month:Ce,year:ft}}getSundayIndex(){let ee=this.getFirstDateOfWeek();return ee>0?7-ee:0}isSelected(ee){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,ee);if(this.isMultipleSelection()){let Ze=!1;for(let Ce of this.value)if(Ze=this.isDateEquals(Ce,ee),Ze)break;return Ze}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],ee)||this.isDateEquals(this.value[1],ee)||this.isDateBetween(this.value[0],this.value[1],ee):this.isDateEquals(this.value[0],ee):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(ee){if(this.isComparable()&&!this.isMultipleSelection()){const[Ze,Ce]=this.isRangeSelection()?this.value:[this.value,this.value],ft=new Date(this.currentYear,ee,1);return ft>=Ze&&ft<=(null!=Ce?Ce:Ze)}return!1}isMonthDisabled(ee){return!this.isSelectable(1,ee,this.currentYear,!1)}isYearSelected(ee){if(this.isComparable()){let Ze=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&Ze.getFullYear()===ee}return!1}isDateEquals(ee,Ze){return!!(ee&&ee instanceof Date)&&ee.getDate()===Ze.day&&ee.getMonth()===Ze.month&&ee.getFullYear()===Ze.year}isDateBetween(ee,Ze,Ce){if(ee&&Ze){let an=new Date(Ce.year,Ce.month,Ce.day);return ee.getTime()<=an.getTime()&&Ze.getTime()>=an.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(ee,Ze,Ce,ft){return ee.getDate()===Ze&&ee.getMonth()===Ce&&ee.getFullYear()===ft}isSelectable(ee,Ze,Ce,ft){let an=!0,Tn=!0,qt=!0,xt=!0;return!(ft&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>Ce||this.minDate.getFullYear()===Ce&&(this.minDate.getMonth()>Ze||this.minDate.getMonth()===Ze&&this.minDate.getDate()>ee))&&(an=!1),this.maxDate&&(this.maxDate.getFullYear()<Ce||this.maxDate.getFullYear()===Ce&&(this.maxDate.getMonth()<Ze||this.maxDate.getMonth()===Ze&&this.maxDate.getDate()<ee))&&(Tn=!1),this.disabledDates&&(qt=!this.isDateDisabled(ee,Ze,Ce)),this.disabledDays&&(xt=!this.isDayDisabled(ee,Ze,Ce)),an&&Tn&&qt&&xt)}isDateDisabled(ee,Ze,Ce){if(this.disabledDates)for(let ft of this.disabledDates)if(ft.getFullYear()===Ce&&ft.getMonth()===Ze&&ft.getDate()===ee)return!0;return!1}isDayDisabled(ee,Ze,Ce){if(this.disabledDays){let an=new Date(Ce,Ze,ee).getDay();return-1!==this.disabledDays.indexOf(an)}return!1}onInputFocus(ee){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(ee)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(ee){this.focus=!1,this.onBlur.emit(ee),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(ee,Ze){this.overlayVisible?this.hideOverlay():(Ze.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(ee){this.overlayService.add({originalEvent:ee,target:this.el.nativeElement})}getMonthName(ee){return this.config.getTranslation("monthNames")[ee]}getYear(ee){return"month"===this.currentView?this.currentYear:ee.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(ee){this.navigationState={backward:!0,button:!0},this.navBackward(ee)}onNextButtonClick(ee){this.navigationState={backward:!1,button:!0},this.navForward(ee)}onContainerButtonKeydown(ee){switch(ee.which){case 9:this.inline||this.trapFocus(ee);break;case 27:this.overlayVisible=!1,ee.preventDefault()}}onInputKeydown(ee){this.isKeydown=!0,40===ee.keyCode&&this.contentViewChild?this.trapFocus(ee):27===ee.keyCode||13===ee.keyCode?this.overlayVisible&&(this.overlayVisible=!1,ee.preventDefault()):9===ee.keyCode&&this.contentViewChild&&(b.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(Ze=>Ze.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(ee,Ze,Ce){const ft=ee.currentTarget,an=ft.parentElement;switch(ee.which){case 40:{ft.tabIndex="-1";let Tn=b.p.index(an),qt=an.parentElement.nextElementSibling;qt?b.p.hasClass(qt.children[Tn].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(ee)):(qt.children[Tn].children[0].tabIndex="0",qt.children[Tn].children[0].focus()):(this.navigationState={backward:!1},this.navForward(ee)),ee.preventDefault();break}case 38:{ft.tabIndex="-1";let Tn=b.p.index(an),qt=an.parentElement.previousElementSibling;if(qt){let xt=qt.children[Tn].children[0];b.p.hasClass(xt,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(ee)):(xt.tabIndex="0",xt.focus())}else this.navigationState={backward:!0},this.navBackward(ee);ee.preventDefault();break}case 37:{ft.tabIndex="-1";let Tn=an.previousElementSibling;if(Tn){let qt=Tn.children[0];b.p.hasClass(qt,"p-disabled")||b.p.hasClass(qt.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,Ce):(qt.tabIndex="0",qt.focus())}else this.navigateToMonth(!0,Ce);ee.preventDefault();break}case 39:{ft.tabIndex="-1";let Tn=an.nextElementSibling;if(Tn){let qt=Tn.children[0];b.p.hasClass(qt,"p-disabled")?this.navigateToMonth(!1,Ce):(qt.tabIndex="0",qt.focus())}else this.navigateToMonth(!1,Ce);ee.preventDefault();break}case 13:case 32:this.onDateSelect(ee,Ze),ee.preventDefault();break;case 27:this.overlayVisible=!1,ee.preventDefault();break;case 9:this.inline||this.trapFocus(ee)}}onMonthCellKeydown(ee,Ze){const Ce=ee.currentTarget;switch(ee.which){case 38:case 40:{Ce.tabIndex="-1";var ft=Ce.parentElement.children,an=b.p.index(Ce);let Tn=ft[40===ee.which?an+3:an-3];Tn&&(Tn.tabIndex="0",Tn.focus()),ee.preventDefault();break}case 37:{Ce.tabIndex="-1";let Tn=Ce.previousElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!0},this.navBackward(ee)),ee.preventDefault();break}case 39:{Ce.tabIndex="-1";let Tn=Ce.nextElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!1},this.navForward(ee)),ee.preventDefault();break}case 13:this.onMonthSelect(ee,Ze),ee.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,ee.preventDefault();break;case 9:this.inline||this.trapFocus(ee)}}onYearCellKeydown(ee,Ze){const Ce=ee.currentTarget;switch(ee.which){case 38:case 40:{Ce.tabIndex="-1";var ft=Ce.parentElement.children,an=b.p.index(Ce);let Tn=ft[40===ee.which?an+2:an-2];Tn&&(Tn.tabIndex="0",Tn.focus()),ee.preventDefault();break}case 37:{Ce.tabIndex="-1";let Tn=Ce.previousElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!0},this.navBackward(ee)),ee.preventDefault();break}case 39:{Ce.tabIndex="-1";let Tn=Ce.nextElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!1},this.navForward(ee)),ee.preventDefault();break}case 13:case 32:this.onYearSelect(ee,Ze),ee.preventDefault();break;case 27:this.overlayVisible=!1,ee.preventDefault();break;case 9:this.trapFocus(ee)}}navigateToMonth(ee,Ze){if(ee)if(1===this.numberOfMonths||0===Ze)this.navigationState={backward:!0},this.navBackward(event);else{let ft=b.p.find(this.contentViewChild.nativeElement.children[Ze-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),an=ft[ft.length-1];an.tabIndex="0",an.focus()}else if(1===this.numberOfMonths||Ze===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let ft=b.p.findSingle(this.contentViewChild.nativeElement.children[Ze+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");ft.tabIndex="0",ft.focus()}}updateFocus(){let ee;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?b.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():b.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let Ze;Ze=b.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Ze&&Ze.length>0&&(ee=Ze[Ze.length-1])}else ee=b.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");ee&&(ee.tabIndex="0",ee.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){var ee;const Ze=null===(ee=this.contentViewChild)||void 0===ee?void 0:ee.nativeElement;let Ce;if("month"===this.currentView){let ft=b.p.find(Ze,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),an=b.p.findSingle(Ze,".p-monthpicker .p-monthpicker-month.p-highlight");ft.forEach(Tn=>Tn.tabIndex=-1),Ce=an||ft[0],0===ft.length&&b.p.find(Ze,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(qt=>qt.tabIndex=-1)}else if("year"===this.currentView){let ft=b.p.find(Ze,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),an=b.p.findSingle(Ze,".p-yearpicker .p-yearpicker-year.p-highlight");ft.forEach(Tn=>Tn.tabIndex=-1),Ce=an||ft[0],0===ft.length&&b.p.find(Ze,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(qt=>qt.tabIndex=-1)}else if(Ce=b.p.findSingle(Ze,"span.p-highlight"),!Ce){let ft=b.p.findSingle(Ze,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");Ce=ft||b.p.findSingle(Ze,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}Ce&&(Ce.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{Ce.focus()},1),this.preventFocus=!1)}trapFocus(ee){let Ze=b.p.getFocusableElements(this.contentViewChild.nativeElement);if(Ze&&Ze.length>0)if(Ze[0].ownerDocument.activeElement){let Ce=Ze.indexOf(Ze[0].ownerDocument.activeElement);if(ee.shiftKey)if(-1==Ce||0===Ce)if(this.focusTrap)Ze[Ze.length-1].focus();else{if(-1===Ce)return this.hideOverlay();if(0===Ce)return}else Ze[Ce-1].focus();else if(-1==Ce||Ce===Ze.length-1){if(!this.focusTrap&&-1!=Ce)return this.hideOverlay();Ze[0].focus()}else Ze[Ce+1].focus()}else Ze[0].focus();ee.preventDefault()}onMonthDropdownChange(ee){this.currentMonth=parseInt(ee),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(ee){this.currentYear=parseInt(ee),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(ee,Ze,Ce,ft){let an=this.value;const Tn=this.convertTo24Hour(ee,ft);this.isRangeSelection()&&(an=this.value[1]||this.value[0]),this.isMultipleSelection()&&(an=this.value[this.value.length-1]);const qt=an?an.toDateString():null;return!(this.minDate&&qt&&this.minDate.toDateString()===qt&&(this.minDate.getHours()>Tn||this.minDate.getHours()===Tn&&(this.minDate.getMinutes()>Ze||this.minDate.getMinutes()===Ze&&this.minDate.getSeconds()>Ce))||this.maxDate&&qt&&this.maxDate.toDateString()===qt&&(this.maxDate.getHours()<Tn||this.maxDate.getHours()===Tn&&(this.maxDate.getMinutes()<Ze||this.maxDate.getMinutes()===Ze&&this.maxDate.getSeconds()<Ce)))}incrementHour(ee){let Ce=this.currentHour+this.stepHour,ft=this.pm;"24"==this.hourFormat?Ce=Ce>=24?Ce-24:Ce:"12"==this.hourFormat&&(this.currentHour<12&&Ce>11&&(ft=!this.pm),Ce=Ce>=13?Ce-12:Ce),this.validateTime(Ce,this.currentMinute,this.currentSecond,ft)&&(this.currentHour=Ce,this.pm=ft),ee.preventDefault()}onTimePickerElementMouseDown(ee,Ze,Ce){this.disabled||(this.repeat(ee,null,Ze,Ce),ee.preventDefault())}onTimePickerElementMouseUp(ee){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(ee,Ze,Ce,ft){let an=Ze||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(ee,100,Ce,ft),this.cd.markForCheck()},an),Ce){case 0:1===ft?this.incrementHour(ee):this.decrementHour(ee);break;case 1:1===ft?this.incrementMinute(ee):this.decrementMinute(ee);break;case 2:1===ft?this.incrementSecond(ee):this.decrementSecond(ee)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(ee){let Ze=this.currentHour-this.stepHour,Ce=this.pm;"24"==this.hourFormat?Ze=Ze<0?24+Ze:Ze:"12"==this.hourFormat&&(12===this.currentHour&&(Ce=!this.pm),Ze=Ze<=0?12+Ze:Ze),this.validateTime(Ze,this.currentMinute,this.currentSecond,Ce)&&(this.currentHour=Ze,this.pm=Ce),ee.preventDefault()}incrementMinute(ee){let Ze=this.currentMinute+this.stepMinute;Ze=Ze>59?Ze-60:Ze,this.validateTime(this.currentHour,Ze,this.currentSecond,this.pm)&&(this.currentMinute=Ze),ee.preventDefault()}decrementMinute(ee){let Ze=this.currentMinute-this.stepMinute;Ze=Ze<0?60+Ze:Ze,this.validateTime(this.currentHour,Ze,this.currentSecond,this.pm)&&(this.currentMinute=Ze),ee.preventDefault()}incrementSecond(ee){let Ze=this.currentSecond+this.stepSecond;Ze=Ze>59?Ze-60:Ze,this.validateTime(this.currentHour,this.currentMinute,Ze,this.pm)&&(this.currentSecond=Ze),ee.preventDefault()}decrementSecond(ee){let Ze=this.currentSecond-this.stepSecond;Ze=Ze<0?60+Ze:Ze,this.validateTime(this.currentHour,this.currentMinute,Ze,this.pm)&&(this.currentSecond=Ze),ee.preventDefault()}updateTime(){let ee=this.value;this.isRangeSelection()&&(ee=this.value[1]||this.value[0]),this.isMultipleSelection()&&(ee=this.value[this.value.length-1]),ee=ee?new Date(ee.getTime()):new Date,ee.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),ee.setMinutes(this.currentMinute),ee.setSeconds(this.currentSecond),this.isRangeSelection()&&(ee=this.value[1]?[this.value[0],ee]:[ee,null]),this.isMultipleSelection()&&(ee=[...this.value.slice(0,-1),ee]),this.updateModel(ee),this.onSelect.emit(ee),this.updateInputfield()}toggleAMPM(ee){const Ze=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,Ze)&&(this.pm=Ze,this.updateTime()),ee.preventDefault()}onUserInput(ee){if(!this.isKeydown)return;this.isKeydown=!1;let Ze=ee.target.value;try{let Ce=this.parseValueFromString(Ze);this.isValidSelection(Ce)&&(this.updateModel(Ce),this.updateUI())}catch(Ce){this.updateModel(this.keepInvalid?Ze:null)}this.filled=null!=Ze&&Ze.length,this.onInput.emit(ee)}isValidSelection(ee){let Ze=!0;return this.isSingleSelection()?this.isSelectable(ee.getDate(),ee.getMonth(),ee.getFullYear(),!1)||(Ze=!1):ee.every(Ce=>this.isSelectable(Ce.getDate(),Ce.getMonth(),Ce.getFullYear(),!1))&&this.isRangeSelection()&&(Ze=ee.length>1&&ee[1]>ee[0]),Ze}parseValueFromString(ee){if(!ee||0===ee.trim().length)return null;let Ze;if(this.isSingleSelection())Ze=this.parseDateTime(ee);else if(this.isMultipleSelection()){let Ce=ee.split(this.multipleSeparator);Ze=[];for(let ft of Ce)Ze.push(this.parseDateTime(ft.trim()))}else if(this.isRangeSelection()){let Ce=ee.split(" "+this.rangeSeparator+" ");Ze=[];for(let ft=0;ft<Ce.length;ft++)Ze[ft]=this.parseDateTime(Ce[ft].trim())}return Ze}parseDateTime(ee){let Ze,Ce=ee.split(" ");if(this.timeOnly)Ze=new Date,this.populateTime(Ze,Ce[0],Ce[1]);else{const ft=this.getDateFormat();if(this.showTime){let an="12"==this.hourFormat?Ce.pop():null,Tn=Ce.pop();Ze=this.parseDate(Ce.join(" "),ft),this.populateTime(Ze,Tn,an)}else Ze=this.parseDate(ee,ft)}return Ze}populateTime(ee,Ze,Ce){if("12"==this.hourFormat&&!Ce)throw"Invalid Time";this.pm="PM"===Ce||"pm"===Ce;let ft=this.parseTime(Ze);ee.setHours(ft.hour),ee.setMinutes(ft.minute),ee.setSeconds(ft.second)}isValidDate(ee){return ee instanceof Date&&F.gb.isNotEmpty(ee)}updateUI(){let ee=this.value;Array.isArray(ee)&&(ee=ee[0]);let Ze=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:ee&&this.isValidDate(ee)?ee:new Date;this.currentMonth=Ze.getMonth(),this.currentYear=Ze.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(Ze.getHours()),this.currentMinute=Ze.getMinutes(),this.currentSecond=Ze.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(ee){switch(ee.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=ee.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?F.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):F.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(ee));break;case"void":this.onOverlayHide(),this.onClose.emit(ee)}}onOverlayAnimationDone(ee){switch(ee.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&F.P9.clear(ee.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):b.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=b.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=b.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=b.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",b.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):b.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(ee){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(ee.style.zIndex)-1),b.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",Ce=>{this.disableModality()}),document.body.appendChild(this.mask),b.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(b.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let Ze,ee=document.body.children;for(let Ce=0;Ce<ee.length;Ce++)if(b.p.hasClass(ee[Ce],"p-datepicker-mask-scrollblocker")){Ze=!0;break}Ze||b.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(ee){if(this.value=ee,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(Ze){this.keepInvalid&&(this.value=ee)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(x.ws.FIRST_DAY_OF_WEEK)}formatDate(ee,Ze){if(!ee)return"";let Ce;const ft=Ct=>{const me=Ce+1<Ze.length&&Ze.charAt(Ce+1)===Ct;return me&&Ce++,me},an=(Ct,me,lt)=>{let $e=""+me;if(ft(Ct))for(;$e.length<lt;)$e="0"+$e;return $e},Tn=(Ct,me,lt,$e)=>ft(Ct)?$e[me]:lt[me];let qt="",xt=!1;if(ee)for(Ce=0;Ce<Ze.length;Ce++)if(xt)"'"!==Ze.charAt(Ce)||ft("'")?qt+=Ze.charAt(Ce):xt=!1;else switch(Ze.charAt(Ce)){case"d":qt+=an("d",ee.getDate(),2);break;case"D":qt+=Tn("D",ee.getDay(),this.getTranslation(x.ws.DAY_NAMES_SHORT),this.getTranslation(x.ws.DAY_NAMES));break;case"o":qt+=an("o",Math.round((new Date(ee.getFullYear(),ee.getMonth(),ee.getDate()).getTime()-new Date(ee.getFullYear(),0,0).getTime())/864e5),3);break;case"m":qt+=an("m",ee.getMonth()+1,2);break;case"M":qt+=Tn("M",ee.getMonth(),this.getTranslation(x.ws.MONTH_NAMES_SHORT),this.getTranslation(x.ws.MONTH_NAMES));break;case"y":qt+=ft("y")?ee.getFullYear():(ee.getFullYear()%100<10?"0":"")+ee.getFullYear()%100;break;case"@":qt+=ee.getTime();break;case"!":qt+=1e4*ee.getTime()+this.ticksTo1970;break;case"'":ft("'")?qt+="'":xt=!0;break;default:qt+=Ze.charAt(Ce)}return qt}formatTime(ee){if(!ee)return"";let Ze="",Ce=ee.getHours(),ft=ee.getMinutes(),an=ee.getSeconds();return"12"==this.hourFormat&&Ce>11&&12!=Ce&&(Ce-=12),Ze+="12"==this.hourFormat&&0===Ce?12:Ce<10?"0"+Ce:Ce,Ze+=":",Ze+=ft<10?"0"+ft:ft,this.showSeconds&&(Ze+=":",Ze+=an<10?"0"+an:an),"12"==this.hourFormat&&(Ze+=ee.getHours()>11?" PM":" AM"),Ze}parseTime(ee){let Ze=ee.split(":");if(Ze.length!==(this.showSeconds?3:2))throw"Invalid time";let ft=parseInt(Ze[0]),an=parseInt(Ze[1]),Tn=this.showSeconds?parseInt(Ze[2]):null;if(isNaN(ft)||isNaN(an)||ft>23||an>59||"12"==this.hourFormat&&ft>12||this.showSeconds&&(isNaN(Tn)||Tn>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==ft&&this.pm?ft+=12:!this.pm&&12===ft&&(ft-=12)),{hour:ft,minute:an,second:Tn}}parseDate(ee,Ze){if(null==Ze||null==ee)throw"Invalid arguments";if(""===(ee="object"==typeof ee?ee.toString():ee+""))return null;let Ce,ft,an,Lt,Tn=0,qt="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),xt=-1,Ct=-1,me=-1,lt=-1,$e=!1,je=On=>{let Bt=Ce+1<Ze.length&&Ze.charAt(Ce+1)===On;return Bt&&Ce++,Bt},sn=On=>{let Bt=je(On),rn="@"===On?14:"!"===On?20:"y"===On&&Bt?4:"o"===On?3:2,zn=new RegExp("^\\d{"+("y"===On?rn:1)+","+rn+"}"),ri=ee.substring(Tn).match(zn);if(!ri)throw"Missing number at position "+Tn;return Tn+=ri[0].length,parseInt(ri[0],10)},fn=(On,Bt,rn)=>{let Hn=-1,zn=je(On)?rn:Bt,ri=[];for(let Ci=0;Ci<zn.length;Ci++)ri.push([Ci,zn[Ci]]);ri.sort((Ci,Qi)=>-(Ci[1].length-Qi[1].length));for(let Ci=0;Ci<ri.length;Ci++){let Qi=ri[Ci][1];if(ee.substr(Tn,Qi.length).toLowerCase()===Qi.toLowerCase()){Hn=ri[Ci][0],Tn+=Qi.length;break}}if(-1!==Hn)return Hn+1;throw"Unknown name at position "+Tn},Gt=()=>{if(ee.charAt(Tn)!==Ze.charAt(Ce))throw"Unexpected literal at position "+Tn;Tn++};for("month"===this.view&&(me=1),Ce=0;Ce<Ze.length;Ce++)if($e)"'"!==Ze.charAt(Ce)||je("'")?Gt():$e=!1;else switch(Ze.charAt(Ce)){case"d":me=sn("d");break;case"D":fn("D",this.getTranslation(x.ws.DAY_NAMES_SHORT),this.getTranslation(x.ws.DAY_NAMES));break;case"o":lt=sn("o");break;case"m":Ct=sn("m");break;case"M":Ct=fn("M",this.getTranslation(x.ws.MONTH_NAMES_SHORT),this.getTranslation(x.ws.MONTH_NAMES));break;case"y":xt=sn("y");break;case"@":Lt=new Date(sn("@")),xt=Lt.getFullYear(),Ct=Lt.getMonth()+1,me=Lt.getDate();break;case"!":Lt=new Date((sn("!")-this.ticksTo1970)/1e4),xt=Lt.getFullYear(),Ct=Lt.getMonth()+1,me=Lt.getDate();break;case"'":je("'")?Gt():$e=!0;break;default:Gt()}if(Tn<ee.length&&(an=ee.substr(Tn),!/^\s+/.test(an)))throw"Extra/unparsed characters found in date: "+an;if(-1===xt?xt=(new Date).getFullYear():xt<100&&(xt+=(new Date).getFullYear()-(new Date).getFullYear()%100+(xt<=qt?0:-100)),lt>-1)for(Ct=1,me=lt;ft=this.getDaysCountInMonth(xt,Ct-1),!(me<=ft);)Ct++,me-=ft;if("year"===this.view&&(Ct=-1===Ct?1:Ct,me=-1===me?1:me),Lt=this.daylightSavingAdjust(new Date(xt,Ct-1,me)),Lt.getFullYear()!==xt||Lt.getMonth()+1!==Ct||Lt.getDate()!==me)throw"Invalid date";return Lt}daylightSavingAdjust(ee){return ee?(ee.setHours(ee.getHours()>12?ee.getHours()+2:0),ee):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(ee){let Ze=new Date,Ce={day:Ze.getDate(),month:Ze.getMonth(),year:Ze.getFullYear(),otherMonth:Ze.getMonth()!==this.currentMonth||Ze.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(ee,Ce),this.onTodayClick.emit(ee)}onClearButtonClick(ee){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(ee)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let ee="";if(this.responsiveOptions){let Ze=[...this.responsiveOptions].filter(Ce=>!(!Ce.breakpoint||!Ce.numMonths)).sort((Ce,ft)=>-1*Ce.breakpoint.localeCompare(ft.breakpoint,void 0,{numeric:!0}));for(let Ce=0;Ce<Ze.length;Ce++){let{breakpoint:ft,numMonths:an}=Ze[Ce],Tn=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${an}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let qt=an;qt<this.numberOfMonths;qt++)Tn+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${qt+1}) {\n                                display: none !important;\n                            }\n                        `;ee+=`\n                        @media screen and (max-width: ${ft}) {\n                            ${Tn}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=ee}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",Ze=>{this.isOutsideClicked(Ze)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(Ze),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new b.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(ee){return!(this.el.nativeElement.isSameNode(ee.target)||this.isNavIconClicked(ee)||this.el.nativeElement.contains(ee.target)||this.overlay&&this.overlay.contains(ee.target))}isNavIconClicked(ee){return b.p.hasClass(ee.target,"p-datepicker-prev")||b.p.hasClass(ee.target,"p-datepicker-prev-icon")||b.p.hasClass(ee.target,"p-datepicker-next")||b.p.hasClass(ee.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!b.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&F.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return Ne.\u0275fac=function(ee){return new(ee||Ne)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(x.b4),u.Y36(x.F0))},Ne.\u0275cmp=u.Xpm({type:Ne,selectors:[["p-calendar"]],contentQueries:function(ee,Ze,Ce){if(1&ee&&u.Suo(Ce,x.jx,4),2&ee){let ft;u.iGM(ft=u.CRH())&&(Ze.templates=ft)}},viewQuery:function(ee,Ze){if(1&ee&&(u.Gf(O,5),u.Gf(Q,5),u.Gf(N,5)),2&ee){let Ce;u.iGM(Ce=u.CRH())&&(Ze.containerViewChild=Ce.first),u.iGM(Ce=u.CRH())&&(Ze.inputfieldViewChild=Ce.first),u.iGM(Ce=u.CRH())&&(Ze.content=Ce.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(ee,Ze){2&ee&&u.ekj("p-inputwrapper-filled",Ze.filled)("p-inputwrapper-focus",Ze.focus)("p-calendar-clearable",Ze.showClear&&!Ze.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[u._Bn([Ot])],ngContentSelectors:Ft,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(ee,Ze){1&ee&&(u.F$t(gt),u.TgZ(0,"span",0,1),u.YNc(2,w,4,17,"ng-template",2),u.YNc(3,We,9,28,"div",3),u.qZA()),2&ee&&(u.Tol(Ze.styleClass),u.Q6J("ngClass",u.l5B(6,Tt,Ze.showIcon,Ze.timeOnly,Ze.disabled,Ze.focus))("ngStyle",Ze.style),u.xp6(2),u.Q6J("ngIf",!Ze.inline),u.xp6(1),u.Q6J("ngIf",Ze.inline||Ze.overlayVisible))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,R.Hq,s.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.SB)("visibleTouchUI",(0,e.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,e.eR)("void => visible",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)("{{showTransitionParams}}",(0,e.oB)({opacity:1,transform:"*"}))]),(0,e.eR)("visible => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0}))]),(0,e.eR)("void => visibleTouchUI",[(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,e.jt)("{{showTransitionParams}}")]),(0,e.eR)("visibleTouchUI => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),Ne})(),et=(()=>{class Ne{}return Ne.\u0275fac=function(ee){return new(ee||Ne)},Ne.\u0275mod=u.oAB({type:Ne}),Ne.\u0275inj=u.cJS({imports:[d.ez,R.hJ,x.m8,s.T,R.hJ,x.m8]}),Ne})()},7575:(dn,pt,C)=>{"use strict";C.d(pt,{S:()=>uh,C:()=>Hf});var e=C(5e3),d=C(9808);function u(m){return m+.5|0}const p=(m,c,f)=>Math.max(Math.min(m,f),c);function x(m){return p(u(2.55*m),0,255)}function b(m){return p(u(255*m),0,255)}function s(m){return p(u(m/2.55)/100,0,1)}function F(m){return p(u(100*m),0,100)}const O={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Q=[..."0123456789ABCDEF"],N=m=>Q[15&m],T=m=>Q[(240&m)>>4]+Q[15&m],y=m=>(240&m)>>4==(15&m);const oe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function K(m,c,f){const _=c*Math.min(f,1-f),I=(L,z=(L+m/30)%12)=>f-_*Math.max(Math.min(z-3,9-z,1),-1);return[I(0),I(8),I(4)]}function H(m,c,f){const _=(I,L=(I+m/60)%6)=>f-f*c*Math.max(Math.min(L,4-L,1),0);return[_(5),_(3),_(1)]}function D(m,c,f){const _=K(m,1,.5);let I;for(c+f>1&&(I=1/(c+f),c*=I,f*=I),I=0;I<3;I++)_[I]*=1-c-f,_[I]+=c;return _}function Y(m){const f=m.r/255,_=m.g/255,I=m.b/255,L=Math.max(f,_,I),z=Math.min(f,_,I),$=(L+z)/2;let fe,Re,rt;return L!==z&&(rt=L-z,Re=$>.5?rt/(2-L-z):rt/(L+z),fe=function P(m,c,f,_,I){return m===I?(c-f)/_+(c<f?6:0):c===I?(f-m)/_+2:(m-c)/_+4}(f,_,I,rt,L),fe=60*fe+.5),[0|fe,Re||0,$]}function re(m,c,f,_){return(Array.isArray(c)?m(c[0],c[1],c[2]):m(c,f,_)).map(b)}function j(m,c,f){return re(K,m,c,f)}function Te(m){return(m%360+360)%360}const ce={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},J={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let be;const we=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,q=m=>m<=.0031308?12.92*m:1.055*Math.pow(m,1/2.4)-.055,pe=m=>m<=.04045?m/12.92:Math.pow((m+.055)/1.055,2.4);function Xe(m,c,f){if(m){let _=Y(m);_[c]=Math.max(0,Math.min(_[c]+_[c]*f,0===c?360:1)),_=j(_),m.r=_[0],m.g=_[1],m.b=_[2]}}function ct(m,c){return m&&Object.assign(c||{},m)}function ot(m){var c={r:0,g:0,b:0,a:255};return Array.isArray(m)?m.length>=3&&(c={r:m[0],g:m[1],b:m[2],a:255},m.length>3&&(c.a=b(m[3]))):(c=ct(m,{r:0,g:0,b:0,a:1})).a=b(c.a),c}function Zt(m){return"r"===m.charAt(0)?function ke(m){const c=we.exec(m);let _,I,L,f=255;if(c){if(c[7]!==_){const z=+c[7];f=c[8]?x(z):p(255*z,0,255)}return _=+c[1],I=+c[3],L=+c[5],_=255&(c[2]?x(_):p(_,0,255)),I=255&(c[4]?x(I):p(I,0,255)),L=255&(c[6]?x(L):p(L,0,255)),{r:_,g:I,b:L,a:f}}}(m):function Me(m){const c=oe.exec(m);let _,f=255;if(!c)return;c[5]!==_&&(f=c[6]?x(+c[5]):b(+c[5]));const I=Te(+c[2]),L=+c[3]/100,z=+c[4]/100;return _="hwb"===c[1]?function G(m,c,f){return re(D,m,c,f)}(I,L,z):"hsv"===c[1]?function ie(m,c,f){return re(H,m,c,f)}(I,L,z):j(I,L,z),{r:_[0],g:_[1],b:_[2],a:f}}(m)}class Dt{constructor(c){if(c instanceof Dt)return c;const f=typeof c;let _;"object"===f?_=ot(c):"string"===f&&(_=function k(m){var f,c=m.length;return"#"===m[0]&&(4===c||5===c?f={r:255&17*O[m[1]],g:255&17*O[m[2]],b:255&17*O[m[3]],a:5===c?17*O[m[4]]:255}:(7===c||9===c)&&(f={r:O[m[1]]<<4|O[m[2]],g:O[m[3]]<<4|O[m[4]],b:O[m[5]]<<4|O[m[6]],a:9===c?O[m[7]]<<4|O[m[8]]:255})),f}(c)||function Be(m){be||(be=function ve(){const m={},c=Object.keys(J),f=Object.keys(ce);let _,I,L,z,$;for(_=0;_<c.length;_++){for(z=$=c[_],I=0;I<f.length;I++)L=f[I],$=$.replace(L,ce[L]);L=parseInt(J[z],16),m[$]=[L>>16&255,L>>8&255,255&L]}return m}(),be.transparent=[0,0,0,0]);const c=be[m.toLowerCase()];return c&&{r:c[0],g:c[1],b:c[2],a:4===c.length?c[3]:255}}(c)||Zt(c)),this._rgb=_,this._valid=!!_}get valid(){return this._valid}get rgb(){var c=ct(this._rgb);return c&&(c.a=s(c.a)),c}set rgb(c){this._rgb=ot(c)}rgbString(){return this._valid?function X(m){return m&&(m.a<255?`rgba(${m.r}, ${m.g}, ${m.b}, ${s(m.a)})`:`rgb(${m.r}, ${m.g}, ${m.b})`)}(this._rgb):void 0}hexString(){return this._valid?function U(m){var c=(m=>y(m.r)&&y(m.g)&&y(m.b)&&y(m.a))(m)?N:T;return m?"#"+c(m.r)+c(m.g)+c(m.b)+((m,c)=>m<255?c(m):"")(m.a,c):void 0}(this._rgb):void 0}hslString(){return this._valid?function te(m){if(!m)return;const c=Y(m),f=c[0],_=F(c[1]),I=F(c[2]);return m.a<255?`hsla(${f}, ${_}%, ${I}%, ${s(m.a)})`:`hsl(${f}, ${_}%, ${I}%)`}(this._rgb):void 0}mix(c,f){if(c){const _=this.rgb,I=c.rgb;let L;const z=f===L?.5:f,$=2*z-1,fe=_.a-I.a,Re=(($*fe==-1?$:($+fe)/(1+$*fe))+1)/2;L=1-Re,_.r=255&Re*_.r+L*I.r+.5,_.g=255&Re*_.g+L*I.g+.5,_.b=255&Re*_.b+L*I.b+.5,_.a=z*_.a+(1-z)*I.a,this.rgb=_}return this}interpolate(c,f){return c&&(this._rgb=function _e(m,c,f){const _=pe(s(m.r)),I=pe(s(m.g)),L=pe(s(m.b));return{r:b(q(_+f*(pe(s(c.r))-_))),g:b(q(I+f*(pe(s(c.g))-I))),b:b(q(L+f*(pe(s(c.b))-L))),a:m.a+f*(c.a-m.a)}}(this._rgb,c._rgb,f)),this}clone(){return new Dt(this.rgb)}alpha(c){return this._rgb.a=b(c),this}clearer(c){return this._rgb.a*=1-c,this}greyscale(){const c=this._rgb,f=u(.3*c.r+.59*c.g+.11*c.b);return c.r=c.g=c.b=f,this}opaquer(c){return this._rgb.a*=1+c,this}negate(){const c=this._rgb;return c.r=255-c.r,c.g=255-c.g,c.b=255-c.b,this}lighten(c){return Xe(this._rgb,2,c),this}darken(c){return Xe(this._rgb,2,-c),this}saturate(c){return Xe(this._rgb,1,c),this}desaturate(c){return Xe(this._rgb,1,-c),this}rotate(c){return function de(m,c){var f=Y(m);f[0]=Te(f[0]+c),f=j(f),m.r=f[0],m.g=f[1],m.b=f[2]}(this._rgb,c),this}}function Xt(){}const jt=(()=>{let m=0;return()=>m++})();function ht(m){return null==m}function ut(m){if(Array.isArray&&Array.isArray(m))return!0;const c=Object.prototype.toString.call(m);return"[object"===c.slice(0,7)&&"Array]"===c.slice(-6)}function xe(m){return null!==m&&"[object Object]"===Object.prototype.toString.call(m)}function De(m){return("number"==typeof m||m instanceof Number)&&isFinite(+m)}function We(m,c){return De(m)?m:c}function gt(m,c){return void 0===m?c:m}const Ft=(m,c)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100*c:+m;function Ot(m,c,f){if(m&&"function"==typeof m.call)return m.apply(f,c)}function Oe(m,c,f,_){let I,L,z;if(ut(m))if(L=m.length,_)for(I=L-1;I>=0;I--)c.call(f,m[I],I);else for(I=0;I<L;I++)c.call(f,m[I],I);else if(xe(m))for(z=Object.keys(m),L=z.length,I=0;I<L;I++)c.call(f,m[z[I]],z[I])}function et(m,c){let f,_,I,L;if(!m||!c||m.length!==c.length)return!1;for(f=0,_=m.length;f<_;++f)if(I=m[f],L=c[f],I.datasetIndex!==L.datasetIndex||I.index!==L.index)return!1;return!0}function Ne(m){if(ut(m))return m.map(Ne);if(xe(m)){const c=Object.create(null),f=Object.keys(m),_=f.length;let I=0;for(;I<_;++I)c[f[I]]=Ne(m[f[I]]);return c}return m}function yt(m){return-1===["__proto__","prototype","constructor"].indexOf(m)}function ee(m,c,f,_){if(!yt(m))return;const I=c[m],L=f[m];xe(I)&&xe(L)?Ze(I,L,_):c[m]=Ne(L)}function Ze(m,c,f){const _=ut(c)?c:[c],I=_.length;if(!xe(m))return m;const L=(f=f||{}).merger||ee;let z;for(let $=0;$<I;++$){if(z=_[$],!xe(z))continue;const fe=Object.keys(z);for(let Re=0,rt=fe.length;Re<rt;++Re)L(fe[Re],m,z,f)}return m}function Ce(m,c){return Ze(m,c,{merger:ft})}function ft(m,c,f){if(!yt(m))return;const _=c[m],I=f[m];xe(_)&&xe(I)?Ce(_,I):Object.prototype.hasOwnProperty.call(c,m)||(c[m]=Ne(I))}const Tn={"":m=>m,x:m=>m.x,y:m=>m.y};function Ct(m,c){return(Tn[c]||(Tn[c]=function xt(m){const c=function qt(m){const c=m.split("."),f=[];let _="";for(const I of c)_+=I,_.endsWith("\\")?_=_.slice(0,-1)+".":(f.push(_),_="");return f}(m);return f=>{for(const _ of c){if(""===_)break;f=f&&f[_]}return f}}(c)))(m)}function me(m){return m.charAt(0).toUpperCase()+m.slice(1)}const lt=m=>void 0!==m,$e=m=>"function"==typeof m,Lt=(m,c)=>{if(m.size!==c.size)return!1;for(const f of m)if(!c.has(f))return!1;return!0},sn=Math.PI,fn=2*sn,Gt=fn+sn,On=Number.POSITIVE_INFINITY,Bt=sn/180,rn=sn/2,Hn=sn/4,zn=2*sn/3,ri=Math.log10,Ci=Math.sign;function Qi(m,c,f){return Math.abs(m-c)<f}function oo(m){const c=Math.round(m);m=Qi(m,c,m/1e3)?c:m;const f=Math.pow(10,Math.floor(ri(m))),_=m/f;return(_<=1?1:_<=2?2:_<=5?5:10)*f}function Vt(m){return!isNaN(parseFloat(m))&&isFinite(m)}function Ee(m,c,f){let _,I,L;for(_=0,I=m.length;_<I;_++)L=m[_][f],isNaN(L)||(c.min=Math.min(c.min,L),c.max=Math.max(c.max,L))}function Qe(m){return m*(sn/180)}function dt(m){return m*(180/sn)}function gn(m){if(!De(m))return;let c=1,f=0;for(;Math.round(m*c)/c!==m;)c*=10,f++;return f}function xn(m,c){const f=c.x-m.x,_=c.y-m.y,I=Math.sqrt(f*f+_*_);let L=Math.atan2(_,f);return L<-.5*sn&&(L+=fn),{angle:L,distance:I}}function yn(m,c){return Math.sqrt(Math.pow(c.x-m.x,2)+Math.pow(c.y-m.y,2))}function Zn(m,c){return(m-c+Gt)%fn-sn}function $n(m){return(m%fn+fn)%fn}function ti(m,c,f,_){const I=$n(m),L=$n(c),z=$n(f),$=$n(L-I),fe=$n(z-I),Re=$n(I-L),rt=$n(I-z);return I===L||I===z||_&&L===z||$>fe&&Re<rt}function li(m,c,f){return Math.max(c,Math.min(f,m))}function oi(m,c,f,_=1e-6){return m>=Math.min(c,f)-_&&m<=Math.max(c,f)+_}function Mi(m,c,f){f=f||(z=>m[z]<c);let L,_=m.length-1,I=0;for(;_-I>1;)L=I+_>>1,f(L)?I=L:_=L;return{lo:I,hi:_}}const Wi=(m,c,f,_)=>Mi(m,f,_?I=>{const L=m[I][c];return L<f||L===f&&m[I+1][c]===f}:I=>m[I][c]<f),wo=(m,c,f)=>Mi(m,f,_=>m[_][c]>=f),Gi=["push","pop","shift","splice","unshift"];function Yo(m,c){const f=m._chartjs;if(!f)return;const _=f.listeners,I=_.indexOf(c);-1!==I&&_.splice(I,1),!(_.length>0)&&(Gi.forEach(L=>{delete m[L]}),delete m._chartjs)}function Co(m){const c=new Set(m);return c.size===m.length?m:Array.from(c)}const is="undefined"==typeof window?function(m){return m()}:window.requestAnimationFrame;function us(m,c){let f=[],_=!1;return function(...I){f=I,_||(_=!0,is.call(window,()=>{_=!1,m.apply(c,f)}))}}const fo=m=>"start"===m?"left":"end"===m?"right":"center",Oo=(m,c,f)=>"start"===m?c:"end"===m?f:(c+f)/2;function Ks(m,c,f){const _=c.length;let I=0,L=_;if(m._sorted){const{iScale:z,_parsed:$}=m,fe=z.axis,{min:Re,max:rt,minDefined:wt,maxDefined:Ut}=z.getUserBounds();wt&&(I=li(Math.min(Wi($,fe,Re).lo,f?_:Wi(c,fe,z.getPixelForValue(Re)).lo),0,_-1)),L=Ut?li(Math.max(Wi($,z.axis,rt,!0).hi+1,f?0:Wi(c,fe,z.getPixelForValue(rt),!0).hi+1),I,_)-I:_-I}return{start:I,count:L}}function ds(m){const{xScale:c,yScale:f,_scaleRanges:_}=m,I={xmin:c.min,xmax:c.max,ymin:f.min,ymax:f.max};if(!_)return m._scaleRanges=I,!0;const L=_.xmin!==c.min||_.xmax!==c.max||_.ymin!==f.min||_.ymax!==f.max;return Object.assign(_,I),L}const mo=m=>0===m||1===m,qo=(m,c,f)=>-Math.pow(2,10*(m-=1))*Math.sin((m-c)*fn/f),As=(m,c,f)=>Math.pow(2,-10*m)*Math.sin((m-c)*fn/f)+1,Ls={linear:m=>m,easeInQuad:m=>m*m,easeOutQuad:m=>-m*(m-2),easeInOutQuad:m=>(m/=.5)<1?.5*m*m:-.5*(--m*(m-2)-1),easeInCubic:m=>m*m*m,easeOutCubic:m=>(m-=1)*m*m+1,easeInOutCubic:m=>(m/=.5)<1?.5*m*m*m:.5*((m-=2)*m*m+2),easeInQuart:m=>m*m*m*m,easeOutQuart:m=>-((m-=1)*m*m*m-1),easeInOutQuart:m=>(m/=.5)<1?.5*m*m*m*m:-.5*((m-=2)*m*m*m-2),easeInQuint:m=>m*m*m*m*m,easeOutQuint:m=>(m-=1)*m*m*m*m+1,easeInOutQuint:m=>(m/=.5)<1?.5*m*m*m*m*m:.5*((m-=2)*m*m*m*m+2),easeInSine:m=>1-Math.cos(m*rn),easeOutSine:m=>Math.sin(m*rn),easeInOutSine:m=>-.5*(Math.cos(sn*m)-1),easeInExpo:m=>0===m?0:Math.pow(2,10*(m-1)),easeOutExpo:m=>1===m?1:1-Math.pow(2,-10*m),easeInOutExpo:m=>mo(m)?m:m<.5?.5*Math.pow(2,10*(2*m-1)):.5*(2-Math.pow(2,-10*(2*m-1))),easeInCirc:m=>m>=1?m:-(Math.sqrt(1-m*m)-1),easeOutCirc:m=>Math.sqrt(1-(m-=1)*m),easeInOutCirc:m=>(m/=.5)<1?-.5*(Math.sqrt(1-m*m)-1):.5*(Math.sqrt(1-(m-=2)*m)+1),easeInElastic:m=>mo(m)?m:qo(m,.075,.3),easeOutElastic:m=>mo(m)?m:As(m,.075,.3),easeInOutElastic:m=>mo(m)?m:m<.5?.5*qo(2*m,.1125,.45):.5+.5*As(2*m-1,.1125,.45),easeInBack:m=>m*m*(2.70158*m-1.70158),easeOutBack:m=>(m-=1)*m*(2.70158*m+1.70158)+1,easeInOutBack(m){let c=1.70158;return(m/=.5)<1?m*m*((1+(c*=1.525))*m-c)*.5:.5*((m-=2)*m*((1+(c*=1.525))*m+c)+2)},easeInBounce:m=>1-Ls.easeOutBounce(1-m),easeOutBounce:m=>m<1/2.75?7.5625*m*m:m<2/2.75?7.5625*(m-=1.5/2.75)*m+.75:m<2.5/2.75?7.5625*(m-=2.25/2.75)*m+.9375:7.5625*(m-=2.625/2.75)*m+.984375,easeInOutBounce:m=>m<.5?.5*Ls.easeInBounce(2*m):.5*Ls.easeOutBounce(2*m-1)+.5};function Hs(m){if(m&&"object"==typeof m){const c=m.toString();return"[object CanvasPattern]"===c||"[object CanvasGradient]"===c}return!1}function ps(m){return Hs(m)?m:new Dt(m)}function Dr(m){return Hs(m)?m:new Dt(m).saturate(.5).darken(.1).hexString()}const Da=["x","y","borderWidth","radius","tension"],Hr=["color","borderColor","backgroundColor"],Ri=new Map;function Li(m,c,f){return function No(m,c){c=c||{};const f=m+JSON.stringify(c);let _=Ri.get(f);return _||(_=new Intl.NumberFormat(m,c),Ri.set(f,_)),_}(c,f).format(m)}const Rs={values:m=>ut(m)?m:""+m,numeric(m,c,f){if(0===m)return"0";const _=this.chart.options.locale;let I,L=m;if(f.length>1){const Re=Math.max(Math.abs(f[0].value),Math.abs(f[f.length-1].value));(Re<1e-4||Re>1e15)&&(I="scientific"),L=function Vr(m,c){let f=c.length>3?c[2].value-c[1].value:c[1].value-c[0].value;return Math.abs(f)>=1&&m!==Math.floor(m)&&(f=m-Math.floor(m)),f}(m,f)}const z=ri(Math.abs(L)),$=isNaN(z)?1:Math.max(Math.min(-1*Math.floor(z),20),0),fe={notation:I,minimumFractionDigits:$,maximumFractionDigits:$};return Object.assign(fe,this.options.ticks.format),Li(m,_,fe)},logarithmic(m,c,f){if(0===m)return"0";const _=f[c].significand||m/Math.pow(10,Math.floor(ri(m)));return[1,2,3,5,10,15].includes(_)||c>.8*f.length?Rs.numeric.call(this,m,c,f):""}};var ws={formatters:Rs};const jo=Object.create(null),sr=Object.create(null);function os(m,c){if(!c)return m;const f=c.split(".");for(let _=0,I=f.length;_<I;++_){const L=f[_];m=m[L]||(m[L]=Object.create(null))}return m}function Cs(m,c,f){return"string"==typeof c?Ze(os(m,c),f):Ze(os(m,""),c)}class zr{constructor(c,f){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_=>_.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_,I)=>Dr(I.backgroundColor),this.hoverBorderColor=(_,I)=>Dr(I.borderColor),this.hoverColor=(_,I)=>Dr(I.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(c),this.apply(f)}set(c,f){return Cs(this,c,f)}get(c){return os(this,c)}describe(c,f){return Cs(sr,c,f)}override(c,f){return Cs(jo,c,f)}route(c,f,_,I){const L=os(this,c),z=os(this,_),$="_"+f;Object.defineProperties(L,{[$]:{value:L[f],writable:!0},[f]:{enumerable:!0,get(){const fe=this[$],Re=z[I];return xe(fe)?Object.assign({},Re,fe):gt(fe,Re)},set(fe){this[$]=fe}}})}apply(c){c.forEach(f=>f(this))}}var Yi=new zr({_scriptable:m=>!m.startsWith("on"),_indexable:m=>"events"!==m,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function hr(m){m.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),m.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:c=>"onProgress"!==c&&"onComplete"!==c&&"fn"!==c}),m.set("animations",{colors:{type:"color",properties:Hr},numbers:{type:"number",properties:Da}}),m.describe("animations",{_fallback:"animation"}),m.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:c=>0|c}}}})},function Po(m){m.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Es(m){m.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(c,f)=>f.lineWidth,tickColor:(c,f)=>f.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ws.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),m.route("scale.ticks","color","","color"),m.route("scale.grid","color","","borderColor"),m.route("scale.border","color","","borderColor"),m.route("scale.title","color","","color"),m.describe("scale",{_fallback:!1,_scriptable:c=>!c.startsWith("before")&&!c.startsWith("after")&&"callback"!==c&&"parser"!==c,_indexable:c=>"borderDash"!==c&&"tickBorderDash"!==c&&"dash"!==c}),m.describe("scales",{_fallback:"scale"}),m.describe("scale.ticks",{_scriptable:c=>"backdropPadding"!==c&&"callback"!==c,_indexable:c=>"backdropPadding"!==c})}]);function $s(m,c,f,_,I){let L=c[I];return L||(L=c[I]=m.measureText(I).width,f.push(I)),L>_&&(_=L),_}function rr(m,c,f,_){let I=(_=_||{}).data=_.data||{},L=_.garbageCollect=_.garbageCollect||[];_.font!==c&&(I=_.data={},L=_.garbageCollect=[],_.font=c),m.save(),m.font=c;let z=0;const $=f.length;let fe,Re,rt,wt,Ut;for(fe=0;fe<$;fe++)if(wt=f[fe],null==wt||ut(wt)){if(ut(wt))for(Re=0,rt=wt.length;Re<rt;Re++)Ut=wt[Re],null!=Ut&&!ut(Ut)&&(z=$s(m,I,L,z,Ut))}else z=$s(m,I,L,z,wt);m.restore();const en=L.length/2;if(en>f.length){for(fe=0;fe<en;fe++)delete I[L[fe]];L.splice(0,en)}return z}function fr(m,c,f){const _=m.currentDevicePixelRatio,I=0!==f?Math.max(f/2,.5):0;return Math.round((c-I)*_)/_+I}function Mr(m,c){(c=c||m.getContext("2d")).save(),c.resetTransform(),c.clearRect(0,0,m.width,m.height),c.restore()}function vs(m,c,f,_){bs(m,c,f,_,null)}function bs(m,c,f,_,I){let L,z,$,fe,Re,rt,wt,Ut;const en=c.pointStyle,nn=c.rotation,vn=c.radius;let In=(nn||0)*Bt;if(en&&"object"==typeof en&&(L=en.toString(),"[object HTMLImageElement]"===L||"[object HTMLCanvasElement]"===L))return m.save(),m.translate(f,_),m.rotate(In),m.drawImage(en,-en.width/2,-en.height/2,en.width,en.height),void m.restore();if(!(isNaN(vn)||vn<=0)){switch(m.beginPath(),en){default:I?m.ellipse(f,_,I/2,vn,0,0,fn):m.arc(f,_,vn,0,fn),m.closePath();break;case"triangle":rt=I?I/2:vn,m.moveTo(f+Math.sin(In)*rt,_-Math.cos(In)*vn),In+=zn,m.lineTo(f+Math.sin(In)*rt,_-Math.cos(In)*vn),In+=zn,m.lineTo(f+Math.sin(In)*rt,_-Math.cos(In)*vn),m.closePath();break;case"rectRounded":Re=.516*vn,fe=vn-Re,z=Math.cos(In+Hn)*fe,wt=Math.cos(In+Hn)*(I?I/2-Re:fe),$=Math.sin(In+Hn)*fe,Ut=Math.sin(In+Hn)*(I?I/2-Re:fe),m.arc(f-wt,_-$,Re,In-sn,In-rn),m.arc(f+Ut,_-z,Re,In-rn,In),m.arc(f+wt,_+$,Re,In,In+rn),m.arc(f-Ut,_+z,Re,In+rn,In+sn),m.closePath();break;case"rect":if(!nn){fe=Math.SQRT1_2*vn,rt=I?I/2:fe,m.rect(f-rt,_-fe,2*rt,2*fe);break}In+=Hn;case"rectRot":wt=Math.cos(In)*(I?I/2:vn),z=Math.cos(In)*vn,$=Math.sin(In)*vn,Ut=Math.sin(In)*(I?I/2:vn),m.moveTo(f-wt,_-$),m.lineTo(f+Ut,_-z),m.lineTo(f+wt,_+$),m.lineTo(f-Ut,_+z),m.closePath();break;case"crossRot":In+=Hn;case"cross":wt=Math.cos(In)*(I?I/2:vn),z=Math.cos(In)*vn,$=Math.sin(In)*vn,Ut=Math.sin(In)*(I?I/2:vn),m.moveTo(f-wt,_-$),m.lineTo(f+wt,_+$),m.moveTo(f+Ut,_-z),m.lineTo(f-Ut,_+z);break;case"star":wt=Math.cos(In)*(I?I/2:vn),z=Math.cos(In)*vn,$=Math.sin(In)*vn,Ut=Math.sin(In)*(I?I/2:vn),m.moveTo(f-wt,_-$),m.lineTo(f+wt,_+$),m.moveTo(f+Ut,_-z),m.lineTo(f-Ut,_+z),In+=Hn,wt=Math.cos(In)*(I?I/2:vn),z=Math.cos(In)*vn,$=Math.sin(In)*vn,Ut=Math.sin(In)*(I?I/2:vn),m.moveTo(f-wt,_-$),m.lineTo(f+wt,_+$),m.moveTo(f+Ut,_-z),m.lineTo(f-Ut,_+z);break;case"line":z=I?I/2:Math.cos(In)*vn,$=Math.sin(In)*vn,m.moveTo(f-z,_-$),m.lineTo(f+z,_+$);break;case"dash":m.moveTo(f,_),m.lineTo(f+Math.cos(In)*(I?I/2:vn),_+Math.sin(In)*vn);break;case!1:m.closePath()}m.fill(),c.borderWidth>0&&m.stroke()}}function ys(m,c,f){return f=f||.5,!c||m&&m.x>c.left-f&&m.x<c.right+f&&m.y>c.top-f&&m.y<c.bottom+f}function Ss(m,c){m.save(),m.beginPath(),m.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),m.clip()}function ks(m){m.restore()}function Vs(m,c,f,_,I){if(!c)return m.lineTo(f.x,f.y);if("middle"===I){const L=(c.x+f.x)/2;m.lineTo(L,c.y),m.lineTo(L,f.y)}else"after"===I!=!!_?m.lineTo(c.x,f.y):m.lineTo(f.x,c.y);m.lineTo(f.x,f.y)}function ia(m,c,f,_){if(!c)return m.lineTo(f.x,f.y);m.bezierCurveTo(_?c.cp1x:c.cp2x,_?c.cp1y:c.cp2y,_?f.cp2x:f.cp1x,_?f.cp2y:f.cp1y,f.x,f.y)}function sa(m,c,f,_,I){if(I.strikethrough||I.underline){const L=m.measureText(_),z=c-L.actualBoundingBoxLeft,$=c+L.actualBoundingBoxRight,fe=f-L.actualBoundingBoxAscent,Re=f+L.actualBoundingBoxDescent,rt=I.strikethrough?(fe+Re)/2:Re;m.strokeStyle=m.fillStyle,m.beginPath(),m.lineWidth=I.decorationWidth||2,m.moveTo(z,rt),m.lineTo($,rt),m.stroke()}}function Jr(m,c){const f=m.fillStyle;m.fillStyle=c.color,m.fillRect(c.left,c.top,c.width,c.height),m.fillStyle=f}function xs(m,c,f,_,I,L={}){const z=ut(c)?c:[c],$=L.strokeWidth>0&&""!==L.strokeColor;let fe,Re;for(m.save(),m.font=I.string,function oa(m,c){c.translation&&m.translate(c.translation[0],c.translation[1]),ht(c.rotation)||m.rotate(c.rotation),c.color&&(m.fillStyle=c.color),c.textAlign&&(m.textAlign=c.textAlign),c.textBaseline&&(m.textBaseline=c.textBaseline)}(m,L),fe=0;fe<z.length;++fe)Re=z[fe],L.backdrop&&Jr(m,L.backdrop),$&&(L.strokeColor&&(m.strokeStyle=L.strokeColor),ht(L.strokeWidth)||(m.lineWidth=L.strokeWidth),m.strokeText(Re,f,_,L.maxWidth)),m.fillText(Re,f,_,L.maxWidth),sa(m,f,_,Re,L),_+=Number(I.lineHeight);m.restore()}function _o(m,c){const{x:f,y:_,w:I,h:L,radius:z}=c;m.arc(f+z.topLeft,_+z.topLeft,z.topLeft,-rn,sn,!0),m.lineTo(f,_+L-z.bottomLeft),m.arc(f+z.bottomLeft,_+L-z.bottomLeft,z.bottomLeft,sn,rn,!0),m.lineTo(f+I-z.bottomRight,_+L),m.arc(f+I-z.bottomRight,_+L-z.bottomRight,z.bottomRight,rn,0,!0),m.lineTo(f+I,_+z.topRight),m.arc(f+I-z.topRight,_+z.topRight,z.topRight,0,-rn,!0),m.lineTo(f+z.topLeft,_)}const Or=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Pr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function St(m,c){const f=(""+m).match(Or);if(!f||"normal"===f[1])return 1.2*c;switch(m=+f[2],f[3]){case"px":return m;case"%":m/=100}return c*m}const hn=m=>+m||0;function ne(m,c){const f={},_=xe(c),I=_?Object.keys(c):c,L=xe(m)?_?z=>gt(m[z],m[c[z]]):z=>m[z]:()=>m;for(const z of I)f[z]=hn(L(z));return f}function Ue(m){return ne(m,{top:"y",right:"x",bottom:"y",left:"x"})}function At(m){return ne(m,["topLeft","topRight","bottomLeft","bottomRight"])}function Ht(m){const c=Ue(m);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function kn(m,c){let f=gt((m=m||{}).size,(c=c||Yi.font).size);"string"==typeof f&&(f=parseInt(f,10));let _=gt(m.style,c.style);_&&!(""+_).match(Pr)&&(console.warn('Invalid font style specified: "'+_+'"'),_=void 0);const I={family:gt(m.family,c.family),lineHeight:St(gt(m.lineHeight,c.lineHeight),f),size:f,style:_,weight:gt(m.weight,c.weight),string:""};return I.string=function gr(m){return!m||ht(m.size)||ht(m.family)?null:(m.style?m.style+" ":"")+(m.weight?m.weight+" ":"")+m.size+"px "+m.family}(I),I}function En(m,c,f,_){let L,z,$,I=!0;for(L=0,z=m.length;L<z;++L)if($=m[L],void 0!==$&&(void 0!==c&&"function"==typeof $&&($=$(c),I=!1),void 0!==f&&ut($)&&($=$[f%$.length],I=!1),void 0!==$))return _&&!I&&(_.cacheable=!1),$}function Zi(m,c){return Object.assign(Object.create(m),c)}function Ni(m,c=[""],f,_,I=(()=>m[0])){const L=f||m;void 0===_&&(_=ra("_fallback",m));const z={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:m,_rootScopes:L,_fallback:_,_getTarget:I,override:$=>Ni([$,...m],c,L,_)};return new Proxy(z,{deleteProperty:($,fe)=>(delete $[fe],delete $._keys,delete m[0][fe],!0),get:($,fe)=>xo($,fe,()=>function qs(m,c,f,_){let I;for(const L of c)if(I=ra(zs(L,m),f),void 0!==I)return Qr(m,I)?Vo(f,_,m,I):I}(fe,c,m,$)),getOwnPropertyDescriptor:($,fe)=>Reflect.getOwnPropertyDescriptor($._scopes[0],fe),getPrototypeOf:()=>Reflect.getPrototypeOf(m[0]),has:($,fe)=>Qn($).includes(fe),ownKeys:$=>Qn($),set($,fe,Re){const rt=$._storage||($._storage=I());return $[fe]=rt[fe]=Re,delete $._keys,!0}})}function ki(m,c,f,_){const I={_cacheable:!1,_proxy:m,_context:c,_subProxy:f,_stack:new Set,_descriptors:Is(m,_),setContext:L=>ki(m,L,f,_),override:L=>ki(m.override(L),c,f,_)};return new Proxy(I,{deleteProperty:(L,z)=>(delete L[z],delete m[z],!0),get:(L,z,$)=>xo(L,z,()=>function vo(m,c,f){const{_proxy:_,_context:I,_subProxy:L,_descriptors:z}=m;let $=_[c];return $e($)&&z.isScriptable(c)&&($=function Ns(m,c,f,_){const{_proxy:I,_context:L,_subProxy:z,_stack:$}=f;if($.has(m))throw new Error("Recursion detected: "+Array.from($).join("->")+"->"+m);$.add(m);let fe=c(L,z||_);return $.delete(m),Qr(m,fe)&&(fe=Vo(I._scopes,I,m,fe)),fe}(c,$,m,f)),ut($)&&$.length&&($=function Di(m,c,f,_){const{_proxy:I,_context:L,_subProxy:z,_descriptors:$}=f;if(void 0!==L.index&&_(m))return c[L.index%c.length];if(xe(c[0])){const fe=c,Re=I._scopes.filter(rt=>rt!==fe);c=[];for(const rt of fe){const wt=Vo(Re,I,m,rt);c.push(ki(wt,L,z&&z[m],$))}}return c}(c,$,m,z.isIndexable)),Qr(c,$)&&($=ki($,I,L&&L[c],z)),$}(L,z,$)),getOwnPropertyDescriptor:(L,z)=>L._descriptors.allKeys?Reflect.has(m,z)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(m,z),getPrototypeOf:()=>Reflect.getPrototypeOf(m),has:(L,z)=>Reflect.has(m,z),ownKeys:()=>Reflect.ownKeys(m),set:(L,z,$)=>(m[z]=$,delete L[z],!0)})}function Is(m,c={scriptable:!0,indexable:!0}){const{_scriptable:f=c.scriptable,_indexable:_=c.indexable,_allKeys:I=c.allKeys}=m;return{allKeys:I,scriptable:f,indexable:_,isScriptable:$e(f)?f:()=>f,isIndexable:$e(_)?_:()=>_}}const zs=(m,c)=>m?m+me(c):c,Qr=(m,c)=>xe(c)&&"adapters"!==m&&(null===Object.getPrototypeOf(c)||c.constructor===Object);function xo(m,c,f){if(Object.prototype.hasOwnProperty.call(m,c))return m[c];const _=f();return m[c]=_,_}function Ia(m,c,f){return $e(m)?m(c,f):m}const mr=(m,c)=>!0===m?c:"string"==typeof m?Ct(c,m):void 0;function Gr(m,c,f,_,I){for(const L of c){const z=mr(f,L);if(z){m.add(z);const $=Ia(z._fallback,f,I);if(void 0!==$&&$!==f&&$!==_)return $}else if(!1===z&&void 0!==_&&f!==_)return null}return!1}function Vo(m,c,f,_){const I=c._rootScopes,L=Ia(c._fallback,f,_),z=[...m,...I],$=new Set;$.add(_);let fe=_r($,z,f,L||f,_);return null!==fe&&(void 0===L||L===f||(fe=_r($,z,L,fe,_),null!==fe))&&Ni(Array.from($),[""],I,L,()=>function as(m,c,f){const _=m._getTarget();c in _||(_[c]={});const I=_[c];return ut(I)&&xe(f)?f:I||{}}(c,f,_))}function _r(m,c,f,_,I){for(;f;)f=Gr(m,c,f,_,I);return f}function ra(m,c){for(const f of c){if(!f)continue;const _=f[m];if(void 0!==_)return _}}function Qn(m){let c=m._keys;return c||(c=m._keys=function Oi(m){const c=new Set;for(const f of m)for(const _ of Object.keys(f).filter(I=>!I.startsWith("_")))c.add(_);return Array.from(c)}(m._scopes)),c}function ro(m,c,f,_){const{iScale:I}=m,{key:L="r"}=this._parsing,z=new Array(_);let $,fe,Re,rt;for($=0,fe=_;$<fe;++$)Re=$+f,rt=c[Re],z[$]={r:I.parse(Ct(rt,L),Re)};return z}const ji=Number.EPSILON||1e-14,qi=(m,c)=>c<m.length&&!m[c].skip&&m[c],Ca=m=>"x"===m?"y":"x";function Cr(m,c,f,_){const I=m.skip?c:m,L=c,z=f.skip?c:f,$=yn(L,I),fe=yn(z,L);let Re=$/($+fe),rt=fe/($+fe);Re=isNaN(Re)?0:Re,rt=isNaN(rt)?0:rt;const wt=_*Re,Ut=_*rt;return{previous:{x:L.x-wt*(z.x-I.x),y:L.y-wt*(z.y-I.y)},next:{x:L.x+Ut*(z.x-I.x),y:L.y+Ut*(z.y-I.y)}}}function Js(m,c,f){return Math.max(Math.min(m,f),c)}function st(m,c,f,_,I){let L,z,$,fe;if(c.spanGaps&&(m=m.filter(Re=>!Re.skip)),"monotone"===c.cubicInterpolationMode)!function Ts(m,c="x"){const f=Ca(c),_=m.length,I=Array(_).fill(0),L=Array(_);let z,$,fe,Re=qi(m,0);for(z=0;z<_;++z)if($=fe,fe=Re,Re=qi(m,z+1),fe){if(Re){const rt=Re[c]-fe[c];I[z]=0!==rt?(Re[f]-fe[f])/rt:0}L[z]=$?Re?Ci(I[z-1])!==Ci(I[z])?0:(I[z-1]+I[z])/2:I[z-1]:I[z]}(function Fs(m,c,f){const _=m.length;let I,L,z,$,fe,Re=qi(m,0);for(let rt=0;rt<_-1;++rt)if(fe=Re,Re=qi(m,rt+1),fe&&Re){if(Qi(c[rt],0,ji)){f[rt]=f[rt+1]=0;continue}I=f[rt]/c[rt],L=f[rt+1]/c[rt],$=Math.pow(I,2)+Math.pow(L,2),!($<=9)&&(z=3/Math.sqrt($),f[rt]=I*z*c[rt],f[rt+1]=L*z*c[rt])}})(m,I,L),function Ta(m,c,f="x"){const _=Ca(f),I=m.length;let L,z,$,fe=qi(m,0);for(let Re=0;Re<I;++Re){if(z=$,$=fe,fe=qi(m,Re+1),!$)continue;const rt=$[f],wt=$[_];z&&(L=(rt-z[f])/3,$[`cp1${f}`]=rt-L,$[`cp1${_}`]=wt-L*c[Re]),fe&&(L=(fe[f]-rt)/3,$[`cp2${f}`]=rt+L,$[`cp2${_}`]=wt+L*c[Re])}}(m,L,c)}(m,I);else{let Re=_?m[m.length-1]:m[0];for(L=0,z=m.length;L<z;++L)$=m[L],fe=Cr(Re,$,m[Math.min(L+1,z-(_?0:1))%z],c.tension),$.cp1x=fe.previous.x,$.cp1y=fe.previous.y,$.cp2x=fe.next.x,$.cp2y=fe.next.y,Re=$}c.capBezierPoints&&function aa(m,c){let f,_,I,L,z,$=ys(m[0],c);for(f=0,_=m.length;f<_;++f)z=L,L=$,$=f<_-1&&ys(m[f+1],c),L&&(I=m[f],z&&(I.cp1x=Js(I.cp1x,c.left,c.right),I.cp1y=Js(I.cp1y,c.top,c.bottom)),$&&(I.cp2x=Js(I.cp2x,c.left,c.right),I.cp2y=Js(I.cp2y,c.top,c.bottom)))}(m,f)}function ze(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Pe(m){let c=m.parentNode;return c&&"[object ShadowRoot]"===c.toString()&&(c=c.host),c}function Pt(m,c,f){let _;return"string"==typeof m?(_=parseInt(m,10),-1!==m.indexOf("%")&&(_=_/100*c.parentNode[f])):_=m,_}const Rn=m=>m.ownerDocument.defaultView.getComputedStyle(m,null),no=["top","right","bottom","left"];function Fo(m,c,f){const _={};f=f?"-"+f:"";for(let I=0;I<4;I++){const L=no[I];_[L]=parseFloat(m[c+"-"+L+f])||0}return _.width=_.left+_.right,_.height=_.top+_.bottom,_}function Xs(m,c){if("native"in m)return m;const{canvas:f,currentDevicePixelRatio:_}=c,I=Rn(f),L="border-box"===I.boxSizing,z=Fo(I,"padding"),$=Fo(I,"border","width"),{x:fe,y:Re,box:rt}=function Ds(m,c){const f=m.touches,_=f&&f.length?f[0]:m,{offsetX:I,offsetY:L}=_;let $,fe,z=!1;if(((m,c,f)=>(m>0||c>0)&&(!f||!f.shadowRoot))(I,L,m.target))$=I,fe=L;else{const Re=c.getBoundingClientRect();$=_.clientX-Re.left,fe=_.clientY-Re.top,z=!0}return{x:$,y:fe,box:z}}(m,f),wt=z.left+(rt&&$.left),Ut=z.top+(rt&&$.top);let{width:en,height:nn}=c;return L&&(en-=z.width+$.width,nn-=z.height+$.height),{x:Math.round((fe-wt)/en*f.width/_),y:Math.round((Re-Ut)/nn*f.height/_)}}const Lr=m=>Math.round(10*m)/10;function Wr(m,c,f){const _=c||1,I=Math.floor(m.height*_),L=Math.floor(m.width*_);m.height=Math.floor(m.height),m.width=Math.floor(m.width);const z=m.canvas;return z.style&&(f||!z.style.height&&!z.style.width)&&(z.style.height=`${m.height}px`,z.style.width=`${m.width}px`),(m.currentDevicePixelRatio!==_||z.height!==I||z.width!==L)&&(m.currentDevicePixelRatio=_,z.height=I,z.width=L,m.ctx.setTransform(_,0,0,_,0,0),!0)}const Ms=function(){let m=!1;try{const c={get passive(){return m=!0,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch(c){}return m}();function zo(m,c){const f=function di(m,c){return Rn(m).getPropertyValue(c)}(m,c),_=f&&f.match(/^(\d+)(\.\d+)?px$/);return _?+_[1]:void 0}function yr(m,c,f,_){return{x:m.x+f*(c.x-m.x),y:m.y+f*(c.y-m.y)}}function Aa(m,c,f,_){return{x:m.x+f*(c.x-m.x),y:"middle"===_?f<.5?m.y:c.y:"after"===_?f<1?m.y:c.y:f>0?c.y:m.y}}function Ka(m,c,f,_){const I={x:m.cp2x,y:m.cp2y},L={x:c.cp1x,y:c.cp1y},z=yr(m,I,f),$=yr(I,L,f),fe=yr(L,c,f),Re=yr(z,$,f),rt=yr($,fe,f);return yr(Re,rt,f)}function mt(m,c,f){return m?function(m,c){return{x:f=>m+m+c-f,setWidth(f){c=f},textAlign:f=>"center"===f?f:"right"===f?"left":"right",xPlus:(f,_)=>f-_,leftForLtr:(f,_)=>f-_}}(c,f):{x:m=>m,setWidth(m){},textAlign:m=>m,xPlus:(m,c)=>m+c,leftForLtr:(m,c)=>m}}function Ge(m,c){let f,_;("ltr"===c||"rtl"===c)&&(f=m.canvas.style,_=[f.getPropertyValue("direction"),f.getPropertyPriority("direction")],f.setProperty("direction",c,"important"),m.prevTextDirection=_)}function Mt(m,c){void 0!==c&&(delete m.prevTextDirection,m.canvas.style.setProperty("direction",c[0],c[1]))}function tn(m){return"angle"===m?{between:ti,compare:Zn,normalize:$n}:{between:oi,compare:(c,f)=>c-f,normalize:c=>c}}function Mn({start:m,end:c,count:f,loop:_,style:I}){return{start:m%f,end:c%f,loop:_&&(c-m+1)%f==0,style:I}}function ci(m,c,f){if(!f)return[m];const{property:_,start:I,end:L}=f,z=c.length,{compare:$,between:fe,normalize:Re}=tn(_),{start:rt,end:wt,loop:Ut,style:en}=function Nn(m,c,f){const{property:_,start:I,end:L}=f,{between:z,normalize:$}=tn(_),fe=c.length;let Ut,en,{start:Re,end:rt,loop:wt}=m;if(wt){for(Re+=fe,rt+=fe,Ut=0,en=fe;Ut<en&&z($(c[Re%fe][_]),I,L);++Ut)Re--,rt--;Re%=fe,rt%=fe}return rt<Re&&(rt+=fe),{start:Re,end:rt,loop:wt,style:m.style}}(m,c,f),nn=[];let Un,Jn,qn,vn=!1,In=null;for(let _i=rt,Fi=rt;_i<=wt;++_i)Jn=c[_i%z],!Jn.skip&&(Un=Re(Jn[_]),Un!==qn&&(vn=fe(Un,I,L),null===In&&(vn||fe(I,qn,Un)&&0!==$(I,qn))&&(In=0===$(Un,I)?_i:Fi),null!==In&&(!vn||0===$(L,Un)||fe(L,qn,Un))&&(nn.push(Mn({start:In,end:_i,loop:Ut,count:z,style:en})),In=null),Fi=_i,qn=Un));return null!==In&&nn.push(Mn({start:In,end:wt,loop:Ut,count:z,style:en})),nn}function Xi(m,c){const f=[],_=m.segments;for(let I=0;I<_.length;I++){const L=ci(_[I],m.points,c);L.length&&f.push(...L)}return f}function Jo(m){return{backgroundColor:m.backgroundColor,borderCapStyle:m.borderCapStyle,borderDash:m.borderDash,borderDashOffset:m.borderDashOffset,borderJoinStyle:m.borderJoinStyle,borderWidth:m.borderWidth,borderColor:m.borderColor}}function er(m,c){if(!c)return!1;const f=[],_=function(I,L){return Hs(L)?(f.includes(L)||f.push(L),f.indexOf(L)):L};return JSON.stringify(m,_)!==JSON.stringify(c,_)}class tr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(c,f,_,I){const z=f.duration;f.listeners[I].forEach($=>$({chart:c,initial:f.initial,numSteps:z,currentStep:Math.min(_-f.start,z)}))}_refresh(){this._request||(this._running=!0,this._request=is.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(c=Date.now()){let f=0;this._charts.forEach((_,I)=>{if(!_.running||!_.items.length)return;const L=_.items;let fe,z=L.length-1,$=!1;for(;z>=0;--z)fe=L[z],fe._active?(fe._total>_.duration&&(_.duration=fe._total),fe.tick(c),$=!0):(L[z]=L[L.length-1],L.pop());$&&(I.draw(),this._notify(I,_,c,"progress")),L.length||(_.running=!1,this._notify(I,_,c,"complete"),_.initial=!1),f+=L.length}),this._lastDate=c,0===f&&(this._running=!1)}_getAnims(c){const f=this._charts;let _=f.get(c);return _||(_={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},f.set(c,_)),_}listen(c,f,_){this._getAnims(c).listeners[f].push(_)}add(c,f){!f||!f.length||this._getAnims(c).items.push(...f)}has(c){return this._getAnims(c).items.length>0}start(c){const f=this._charts.get(c);!f||(f.running=!0,f.start=Date.now(),f.duration=f.items.reduce((_,I)=>Math.max(_,I._duration),0),this._refresh())}running(c){if(!this._running)return!1;const f=this._charts.get(c);return!(!f||!f.running||!f.items.length)}stop(c){const f=this._charts.get(c);if(!f||!f.items.length)return;const _=f.items;let I=_.length-1;for(;I>=0;--I)_[I].cancel();f.items=[],this._notify(c,f,Date.now(),"complete")}remove(c){return this._charts.delete(c)}}var hs=new tr;const ar="transparent",vt={boolean:(m,c,f)=>f>.5?c:m,color(m,c,f){const _=ps(m||ar),I=_.valid&&ps(c||ar);return I&&I.valid?I.mix(_,f).hexString():c},number:(m,c,f)=>m+(c-m)*f};class le{constructor(c,f,_,I){const L=f[_];I=En([c.to,I,L,c.from]);const z=En([c.from,L,I]);this._active=!0,this._fn=c.fn||vt[c.type||typeof z],this._easing=Ls[c.easing]||Ls.linear,this._start=Math.floor(Date.now()+(c.delay||0)),this._duration=this._total=Math.floor(c.duration),this._loop=!!c.loop,this._target=f,this._prop=_,this._from=z,this._to=I,this._promises=void 0}active(){return this._active}update(c,f,_){if(this._active){this._notify(!1);const I=this._target[this._prop],L=_-this._start,z=this._duration-L;this._start=_,this._duration=Math.floor(Math.max(z,c.duration)),this._total+=L,this._loop=!!c.loop,this._to=En([c.to,f,I,c.from]),this._from=En([c.from,I,f])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(c){const f=c-this._start,_=this._duration,I=this._prop,L=this._from,z=this._loop,$=this._to;let fe;if(this._active=L!==$&&(z||f<_),!this._active)return this._target[I]=$,void this._notify(!0);f<0?this._target[I]=L:(fe=f/_%2,fe=z&&fe>1?2-fe:fe,fe=this._easing(Math.min(1,Math.max(0,fe))),this._target[I]=this._fn(L,$,fe))}wait(){const c=this._promises||(this._promises=[]);return new Promise((f,_)=>{c.push({res:f,rej:_})})}_notify(c){const f=c?"res":"rej",_=this._promises||[];for(let I=0;I<_.length;I++)_[I][f]()}}class ge{constructor(c,f){this._chart=c,this._properties=new Map,this.configure(f)}configure(c){if(!xe(c))return;const f=Object.keys(Yi.animation),_=this._properties;Object.getOwnPropertyNames(c).forEach(I=>{const L=c[I];if(!xe(L))return;const z={};for(const $ of f)z[$]=L[$];(ut(L.properties)&&L.properties||[I]).forEach($=>{($===I||!_.has($))&&_.set($,z)})})}_animateOptions(c,f){const _=f.options,I=function It(m,c){if(!c)return;let f=m.options;if(f)return f.$shared&&(m.options=f=Object.assign({},f,{$shared:!1,$animations:{}})),f;m.options=c}(c,_);if(!I)return[];const L=this._createAnimations(I,_);return _.$shared&&function Ke(m,c){const f=[],_=Object.keys(c);for(let I=0;I<_.length;I++){const L=m[_[I]];L&&L.active()&&f.push(L.wait())}return Promise.all(f)}(c.options.$animations,_).then(()=>{c.options=_},()=>{}),L}_createAnimations(c,f){const _=this._properties,I=[],L=c.$animations||(c.$animations={}),z=Object.keys(f),$=Date.now();let fe;for(fe=z.length-1;fe>=0;--fe){const Re=z[fe];if("$"===Re.charAt(0))continue;if("options"===Re){I.push(...this._animateOptions(c,f));continue}const rt=f[Re];let wt=L[Re];const Ut=_.get(Re);if(wt){if(Ut&&wt.active()){wt.update(Ut,rt,$);continue}wt.cancel()}Ut&&Ut.duration?(L[Re]=wt=new le(Ut,c,Re,rt),I.push(wt)):c[Re]=rt}return I}update(c,f){if(0===this._properties.size)return void Object.assign(c,f);const _=this._createAnimations(c,f);return _.length?(hs.add(this._chart,_),!0):void 0}}function zt(m,c){const f=m&&m.options||{},_=f.reverse,I=void 0===f.min?c:0,L=void 0===f.max?c:0;return{start:_?L:I,end:_?I:L}}function Sn(m,c){const f=[],_=m._getSortedDatasetMetas(c);let I,L;for(I=0,L=_.length;I<L;++I)f.push(_[I].index);return f}function Gn(m,c,f,_={}){const I=m.keys,L="single"===_.mode;let z,$,fe,Re;if(null!==c){for(z=0,$=I.length;z<$;++z){if(fe=+I[z],fe===f){if(_.all)continue;break}Re=m.values[fe],De(Re)&&(L||0===c||Ci(c)===Ci(Re))&&(c+=Re)}return c}}function Ve(m,c){const f=m&&m.options.stacked;return f||void 0===f&&void 0!==c.stack}function Nt(m,c,f){const _=m[c]||(m[c]={});return _[f]||(_[f]={})}function cn(m,c,f,_){for(const I of c.getMatchingVisibleMetas(_).reverse()){const L=m[I.index];if(f&&L>0||!f&&L<0)return I.index}return null}function wn(m,c){const{chart:f,_cachedMeta:_}=m,I=f._stacks||(f._stacks={}),{iScale:L,vScale:z,index:$}=_,fe=L.axis,Re=z.axis,rt=function Je(m,c,f){return`${m.id}.${c.id}.${f.stack||f.type}`}(L,z,_),wt=c.length;let Ut;for(let en=0;en<wt;++en){const nn=c[en],{[fe]:vn,[Re]:In}=nn;Ut=(nn._stacks||(nn._stacks={}))[Re]=Nt(I,rt,vn),Ut[$]=In,Ut._top=cn(Ut,z,!0,_.type),Ut._bottom=cn(Ut,z,!1,_.type),(Ut._visualValues||(Ut._visualValues={}))[$]=In}}function Pn(m,c){const f=m.scales;return Object.keys(f).filter(_=>f[_].axis===c).shift()}function Ai(m,c){const f=m.controller.index,_=m.vScale&&m.vScale.axis;if(_){c=c||m._parsed;for(const I of c){const L=I._stacks;if(!L||void 0===L[_]||void 0===L[_][f])return;delete L[_][f],void 0!==L[_]._visualValues&&void 0!==L[_]._visualValues[f]&&delete L[_]._visualValues[f]}}}const bo=m=>"reset"===m||"none"===m,Xo=(m,c)=>c?m:Object.assign({},m);class uo{constructor(c,f){this.chart=c,this._ctx=c.ctx,this.index=f,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=Ve(c.vScale,c),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(c){this.index!==c&&Ai(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,f=this._cachedMeta,_=this.getDataset(),I=(wt,Ut,en,nn)=>"x"===wt?Ut:"r"===wt?nn:en,L=f.xAxisID=gt(_.xAxisID,Pn(c,"x")),z=f.yAxisID=gt(_.yAxisID,Pn(c,"y")),$=f.rAxisID=gt(_.rAxisID,Pn(c,"r")),fe=f.indexAxis,Re=f.iAxisID=I(fe,L,z,$),rt=f.vAxisID=I(fe,z,L,$);f.xScale=this.getScaleForId(L),f.yScale=this.getScaleForId(z),f.rScale=this.getScaleForId($),f.iScale=this.getScaleForId(Re),f.vScale=this.getScaleForId(rt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const f=this._cachedMeta;return c===f.iScale?f.vScale:f.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&Yo(this._data,this),c._stacked&&Ai(c)}_dataCheck(){const c=this.getDataset(),f=c.data||(c.data=[]),_=this._data;if(xe(f))this._data=function Jt(m){const c=Object.keys(m),f=new Array(c.length);let _,I,L;for(_=0,I=c.length;_<I;++_)L=c[_],f[_]={x:L,y:m[L]};return f}(f);else if(_!==f){if(_){Yo(_,this);const I=this._cachedMeta;Ai(I),I._parsed=[]}f&&Object.isExtensible(f)&&function Eo(m,c){m._chartjs?m._chartjs.listeners.push(c):(Object.defineProperty(m,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[c]}}),Gi.forEach(f=>{const _="_onData"+me(f),I=m[f];Object.defineProperty(m,f,{configurable:!0,enumerable:!1,value(...L){const z=I.apply(this,L);return m._chartjs.listeners.forEach($=>{"function"==typeof $[_]&&$[_](...L)}),z}})}))}(f,this),this._syncList=[],this._data=f}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const f=this._cachedMeta,_=this.getDataset();let I=!1;this._dataCheck();const L=f._stacked;f._stacked=Ve(f.vScale,f),f.stack!==_.stack&&(I=!0,Ai(f),f.stack=_.stack),this._resyncElements(c),(I||L!==f._stacked)&&wn(this,f._parsed)}configure(){const c=this.chart.config,f=c.datasetScopeKeys(this._type),_=c.getOptionScopes(this.getDataset(),f,!0);this.options=c.createResolver(_,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,f){const{_cachedMeta:_,_data:I}=this,{iScale:L,_stacked:z}=_,$=L.axis;let rt,wt,Ut,fe=0===c&&f===I.length||_._sorted,Re=c>0&&_._parsed[c-1];if(!1===this._parsing)_._parsed=I,_._sorted=!0,Ut=I;else{Ut=ut(I[c])?this.parseArrayData(_,I,c,f):xe(I[c])?this.parseObjectData(_,I,c,f):this.parsePrimitiveData(_,I,c,f);const en=()=>null===wt[$]||Re&&wt[$]<Re[$];for(rt=0;rt<f;++rt)_._parsed[rt+c]=wt=Ut[rt],fe&&(en()&&(fe=!1),Re=wt);_._sorted=fe}z&&wn(this,Ut)}parsePrimitiveData(c,f,_,I){const{iScale:L,vScale:z}=c,$=L.axis,fe=z.axis,Re=L.getLabels(),rt=L===z,wt=new Array(I);let Ut,en,nn;for(Ut=0,en=I;Ut<en;++Ut)nn=Ut+_,wt[Ut]={[$]:rt||L.parse(Re[nn],nn),[fe]:z.parse(f[nn],nn)};return wt}parseArrayData(c,f,_,I){const{xScale:L,yScale:z}=c,$=new Array(I);let fe,Re,rt,wt;for(fe=0,Re=I;fe<Re;++fe)rt=fe+_,wt=f[rt],$[fe]={x:L.parse(wt[0],rt),y:z.parse(wt[1],rt)};return $}parseObjectData(c,f,_,I){const{xScale:L,yScale:z}=c,{xAxisKey:$="x",yAxisKey:fe="y"}=this._parsing,Re=new Array(I);let rt,wt,Ut,en;for(rt=0,wt=I;rt<wt;++rt)Ut=rt+_,en=f[Ut],Re[rt]={x:L.parse(Ct(en,$),Ut),y:z.parse(Ct(en,fe),Ut)};return Re}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,f,_){const L=this._cachedMeta,z=f[c.axis];return Gn({keys:Sn(this.chart,!0),values:f._stacks[c.axis]._visualValues},z,L.index,{mode:_})}updateRangeFromParsed(c,f,_,I){const L=_[f.axis];let z=null===L?NaN:L;const $=I&&_._stacks[f.axis];I&&$&&(I.values=$,z=Gn(I,L,this._cachedMeta.index)),c.min=Math.min(c.min,z),c.max=Math.max(c.max,z)}getMinMax(c,f){const _=this._cachedMeta,I=_._parsed,L=_._sorted&&c===_.iScale,z=I.length,$=this._getOtherScale(c),fe=((m,c,f)=>m&&!c.hidden&&c._stacked&&{keys:Sn(this.chart,!0),values:null})(f,_),Re={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:rt,max:wt}=function bt(m){const{min:c,max:f,minDefined:_,maxDefined:I}=m.getUserBounds();return{min:_?c:Number.NEGATIVE_INFINITY,max:I?f:Number.POSITIVE_INFINITY}}($);let Ut,en;function nn(){en=I[Ut];const vn=en[$.axis];return!De(en[c.axis])||rt>vn||wt<vn}for(Ut=0;Ut<z&&(nn()||(this.updateRangeFromParsed(Re,c,en,fe),!L));++Ut);if(L)for(Ut=z-1;Ut>=0;--Ut)if(!nn()){this.updateRangeFromParsed(Re,c,en,fe);break}return Re}getAllParsedValues(c){const f=this._cachedMeta._parsed,_=[];let I,L,z;for(I=0,L=f.length;I<L;++I)z=f[I][c.axis],De(z)&&_.push(z);return _}getMaxOverflow(){return!1}getLabelAndValue(c){const f=this._cachedMeta,_=f.iScale,I=f.vScale,L=this.getParsed(c);return{label:_?""+_.getLabelForValue(L[_.axis]):"",value:I?""+I.getLabelForValue(L[I.axis]):""}}_update(c){const f=this._cachedMeta;this.update(c||"default"),f._clip=function mn(m){let c,f,_,I;return xe(m)?(c=m.top,f=m.right,_=m.bottom,I=m.left):c=f=_=I=m,{top:c,right:f,bottom:_,left:I,disabled:!1===m}}(gt(this.options.clip,function pn(m,c,f){if(!1===f)return!1;const _=zt(m,f),I=zt(c,f);return{top:I.end,right:_.end,bottom:I.start,left:_.start}}(f.xScale,f.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,_=this._cachedMeta,I=_.data||[],L=this.chart.chartArea,z=[],$=this._drawStart||0,fe=this._drawCount||I.length-$,Re=this.options.drawActiveElementsOnTop;let rt;for(_.dataset&&_.dataset.draw(c,L,$,fe),rt=$;rt<$+fe;++rt){const wt=I[rt];wt.hidden||(wt.active&&Re?z.push(wt):wt.draw(c,L))}for(rt=0;rt<z.length;++rt)z[rt].draw(c,L)}getStyle(c,f){const _=f?"active":"default";return void 0===c&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_):this.resolveDataElementOptions(c||0,_)}getContext(c,f,_){const I=this.getDataset();let L;if(c>=0&&c<this._cachedMeta.data.length){const z=this._cachedMeta.data[c];L=z.$context||(z.$context=function yi(m,c,f){return Zi(m,{active:!1,dataIndex:c,parsed:void 0,raw:void 0,element:f,index:c,mode:"default",type:"data"})}(this.getContext(),c,z)),L.parsed=this.getParsed(c),L.raw=I.data[c],L.index=L.dataIndex=c}else L=this.$context||(this.$context=function Xn(m,c){return Zi(m,{active:!1,dataset:void 0,datasetIndex:c,index:c,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),L.dataset=I,L.index=L.datasetIndex=this.index;return L.active=!!f,L.mode=_,L}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,f){return this._resolveElementOptions(this.dataElementType.id,f,c)}_resolveElementOptions(c,f="default",_){const I="active"===f,L=this._cachedDataOpts,z=c+"-"+f,$=L[z],fe=this.enableOptionSharing&&lt(_);if($)return Xo($,fe);const Re=this.chart.config,rt=Re.datasetElementScopeKeys(this._type,c),wt=I?[`${c}Hover`,"hover",c,""]:[c,""],Ut=Re.getOptionScopes(this.getDataset(),rt),en=Object.keys(Yi.elements[c]),vn=Re.resolveNamedOptions(Ut,en,()=>this.getContext(_,I,f),wt);return vn.$shared&&(vn.$shared=fe,L[z]=Object.freeze(Xo(vn,fe))),vn}_resolveAnimations(c,f,_){const I=this.chart,L=this._cachedDataOpts,z=`animation-${f}`,$=L[z];if($)return $;let fe;if(!1!==I.options.animation){const rt=this.chart.config,wt=rt.datasetAnimationScopeKeys(this._type,f),Ut=rt.getOptionScopes(this.getDataset(),wt);fe=rt.createResolver(Ut,this.getContext(c,_,f))}const Re=new ge(I,fe&&fe.animations);return fe&&fe._cacheable&&(L[z]=Object.freeze(Re)),Re}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,f){return!f||bo(c)||this.chart._animationsDisabled}_getSharedOptions(c,f){const _=this.resolveDataElementOptions(c,f),I=this._sharedOptions,L=this.getSharedOptions(_),z=this.includeOptions(f,L)||L!==I;return this.updateSharedOptions(L,f,_),{sharedOptions:L,includeOptions:z}}updateElement(c,f,_,I){bo(I)?Object.assign(c,_):this._resolveAnimations(f,I).update(c,_)}updateSharedOptions(c,f,_){c&&!bo(f)&&this._resolveAnimations(void 0,f).update(c,_)}_setStyle(c,f,_,I){c.active=I;const L=this.getStyle(f,I);this._resolveAnimations(f,_,I).update(c,{options:!I&&this.getSharedOptions(L)||L})}removeHoverStyle(c,f,_){this._setStyle(c,_,"active",!1)}setHoverStyle(c,f,_){this._setStyle(c,_,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const f=this._data,_=this._cachedMeta.data;for(const[$,fe,Re]of this._syncList)this[$](fe,Re);this._syncList=[];const I=_.length,L=f.length,z=Math.min(L,I);z&&this.parse(0,z),L>I?this._insertElements(I,L-I,c):L<I&&this._removeElements(L,I-L)}_insertElements(c,f,_=!0){const I=this._cachedMeta,L=I.data,z=c+f;let $;const fe=Re=>{for(Re.length+=f,$=Re.length-1;$>=z;$--)Re[$]=Re[$-f]};for(fe(L),$=c;$<z;++$)L[$]=new this.dataElementType;this._parsing&&fe(I._parsed),this.parse(c,f),_&&this.updateElements(L,c,f,"reset")}updateElements(c,f,_,I){}_removeElements(c,f){const _=this._cachedMeta;if(this._parsing){const I=_._parsed.splice(c,f);_._stacked&&Ai(_,I)}_.data.splice(c,f)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[f,_,I]=c;this[f](_,I)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,f){f&&this._sync(["_removeElements",c,f]);const _=arguments.length-2;_&&this._sync(["_insertElements",c,_])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zo(m){const c=m.iScale,f=function ls(m,c){if(!m._cache.$bar){const f=m.getMatchingVisibleMetas(c);let _=[];for(let I=0,L=f.length;I<L;I++)_=_.concat(f[I].controller.getAllParsedValues(m));m._cache.$bar=Co(_.sort((I,L)=>I-L))}return m._cache.$bar}(c,m.type);let I,L,z,$,_=c._length;const fe=()=>{32767===z||-32768===z||(lt($)&&(_=Math.min(_,Math.abs(z-$)||_)),$=z)};for(I=0,L=f.length;I<L;++I)z=c.getPixelForValue(f[I]),fe();for($=void 0,I=0,L=c.ticks.length;I<L;++I)z=c.getPixelForTick(I),fe();return _}function Qs(m,c,f,_){return ut(m)?function Yr(m,c,f,_){const I=f.parse(m[0],_),L=f.parse(m[1],_),z=Math.min(I,L),$=Math.max(I,L);let fe=z,Re=$;Math.abs(z)>Math.abs($)&&(fe=$,Re=z),c[f.axis]=Re,c._custom={barStart:fe,barEnd:Re,start:I,end:L,min:z,max:$}}(m,c,f,_):c[f.axis]=f.parse(m,_),c}function za(m,c,f,_){const I=m.iScale,L=m.vScale,z=I.getLabels(),$=I===L,fe=[];let Re,rt,wt,Ut;for(Re=f,rt=f+_;Re<rt;++Re)Ut=c[Re],wt={},wt[I.axis]=$||I.parse(z[Re],Re),fe.push(Qs(Ut,wt,L,Re));return fe}function xi(m){return m&&void 0!==m.barStart&&void 0!==m.barEnd}function eo(m,c,f,_){let I=c.borderSkipped;const L={};if(!I)return void(m.borderSkipped=L);if(!0===I)return void(m.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:z,end:$,reverse:fe,top:Re,bottom:rt}=function Pi(m){let c,f,_,I,L;return m.horizontal?(c=m.base>m.x,f="left",_="right"):(c=m.base<m.y,f="bottom",_="top"),c?(I="end",L="start"):(I="start",L="end"),{start:f,end:_,reverse:c,top:I,bottom:L}}(m);"middle"===I&&f&&(m.enableBorderRadius=!0,(f._top||0)===_?I=Re:(f._bottom||0)===_?I=rt:(L[Qo(rt,z,$,fe)]=!0,I=Re)),L[Qo(I,z,$,fe)]=!0,m.borderSkipped=L}function Qo(m,c,f,_){return _?(m=function So(m,c,f){return m===c?f:m===f?c:m}(m,c,f),m=ko(m,f,c)):m=ko(m,c,f),m}function ko(m,c,f){return"start"===m?c:"end"===m?f:m}function Ir(m,{inflateAmount:c},f){m.inflateAmount="auto"===c?1===f?.33:0:c}gi(uo,"defaults",{}),gi(uo,"datasetElementType",null),gi(uo,"dataElementType",null);class Io extends uo{parsePrimitiveData(c,f,_,I){return za(c,f,_,I)}parseArrayData(c,f,_,I){return za(c,f,_,I)}parseObjectData(c,f,_,I){const{iScale:L,vScale:z}=c,{xAxisKey:$="x",yAxisKey:fe="y"}=this._parsing,Re="x"===L.axis?$:fe,rt="x"===z.axis?$:fe,wt=[];let Ut,en,nn,vn;for(Ut=_,en=_+I;Ut<en;++Ut)vn=f[Ut],nn={},nn[L.axis]=L.parse(Ct(vn,Re),Ut),wt.push(Qs(Ct(vn,rt),nn,z,Ut));return wt}updateRangeFromParsed(c,f,_,I){super.updateRangeFromParsed(c,f,_,I);const L=_._custom;L&&f===this._cachedMeta.vScale&&(c.min=Math.min(c.min,L.min),c.max=Math.max(c.max,L.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const f=this._cachedMeta,{iScale:_,vScale:I}=f,L=this.getParsed(c),z=L._custom,$=xi(z)?"["+z.start+", "+z.end+"]":""+I.getLabelForValue(L[I.axis]);return{label:""+_.getLabelForValue(L[_.axis]),value:$}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(c){const f=this._cachedMeta;this.updateElements(f.data,0,f.data.length,c)}updateElements(c,f,_,I){const L="reset"===I,{index:z,_cachedMeta:{vScale:$}}=this,fe=$.getBasePixel(),Re=$.isHorizontal(),rt=this._getRuler(),{sharedOptions:wt,includeOptions:Ut}=this._getSharedOptions(f,I);for(let en=f;en<f+_;en++){const nn=this.getParsed(en),vn=L||ht(nn[$.axis])?{base:fe,head:fe}:this._calculateBarValuePixels(en),In=this._calculateBarIndexPixels(en,rt),Un=(nn._stacks||{})[$.axis],Jn={horizontal:Re,base:vn.base,enableBorderRadius:!Un||xi(nn._custom)||z===Un._top||z===Un._bottom,x:Re?vn.head:In.center,y:Re?In.center:vn.head,height:Re?In.size:Math.abs(vn.size),width:Re?Math.abs(vn.size):In.size};Ut&&(Jn.options=wt||this.resolveDataElementOptions(en,c[en].active?"active":I));const qn=Jn.options||c[en].options;eo(Jn,qn,Un,z),Ir(Jn,qn,rt.ratio),this.updateElement(c[en],en,Jn,I)}}_getStacks(c,f){const{iScale:_}=this._cachedMeta,I=_.getMatchingVisibleMetas(this._type).filter(fe=>fe.controller.options.grouped),L=_.options.stacked,z=[],$=fe=>{const Re=fe.controller.getParsed(f),rt=Re&&Re[fe.vScale.axis];if(ht(rt)||isNaN(rt))return!0};for(const fe of I)if((void 0===f||!$(fe))&&((!1===L||-1===z.indexOf(fe.stack)||void 0===L&&void 0===fe.stack)&&z.push(fe.stack),fe.index===c))break;return z.length||z.push(void 0),z}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,f,_){const I=this._getStacks(c,_),L=void 0!==f?I.indexOf(f):-1;return-1===L?I.length-1:L}_getRuler(){const c=this.options,f=this._cachedMeta,_=f.iScale,I=[];let L,z;for(L=0,z=f.data.length;L<z;++L)I.push(_.getPixelForValue(this.getParsed(L)[_.axis],L));const $=c.barThickness;return{min:$||Zo(f),pixels:I,start:_._startPixel,end:_._endPixel,stackCount:this._getStackCount(),scale:_,grouped:c.grouped,ratio:$?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:f,_stacked:_,index:I},options:{base:L,minBarLength:z}}=this,$=L||0,fe=this.getParsed(c),Re=fe._custom,rt=xi(Re);let nn,vn,wt=fe[f.axis],Ut=0,en=_?this.applyStack(f,fe,_):wt;en!==wt&&(Ut=en-wt,en=wt),rt&&(wt=Re.barStart,en=Re.barEnd-Re.barStart,0!==wt&&Ci(wt)!==Ci(Re.barEnd)&&(Ut=0),Ut+=wt);const In=ht(L)||rt?Ut:L;let Un=f.getPixelForValue(In);if(nn=this.chart.getDataVisibility(c)?f.getPixelForValue(Ut+en):Un,vn=nn-Un,Math.abs(vn)<z){vn=function wi(m,c,f){return 0!==m?Ci(m):(c.isHorizontal()?1:-1)*(c.min>=f?1:-1)}(vn,f,$)*z,wt===$&&(Un-=vn/2);const Jn=f.getPixelForDecimal(0),qn=f.getPixelForDecimal(1),ei=Math.min(Jn,qn),Yn=Math.max(Jn,qn);Un=Math.max(Math.min(Un,Yn),ei),nn=Un+vn,_&&!rt&&(fe._stacks[f.axis]._visualValues[I]=f.getValueForPixel(nn)-f.getValueForPixel(Un))}if(Un===f.getPixelForValue($)){const Jn=Ci(vn)*f.getLineWidthForValue($)/2;Un+=Jn,vn-=Jn}return{size:vn,base:Un,head:nn,center:nn+vn/2}}_calculateBarIndexPixels(c,f){const _=f.scale,I=this.options,L=I.skipNull,z=gt(I.maxBarThickness,1/0);let $,fe;if(f.grouped){const Re=L?this._getStackCount(c):f.stackCount,rt="flex"===I.barThickness?function la(m,c,f,_){const I=c.pixels,L=I[m];let z=m>0?I[m-1]:null,$=m<I.length-1?I[m+1]:null;const fe=f.categoryPercentage;null===z&&(z=L-(null===$?c.end-c.start:$-L)),null===$&&($=L+L-z);const Re=L-(L-Math.min(z,$))/2*fe;return{chunk:Math.abs($-z)/2*fe/_,ratio:f.barPercentage,start:Re}}(c,f,I,Re):function xr(m,c,f,_){const I=f.barThickness;let L,z;return ht(I)?(L=c.min*f.categoryPercentage,z=f.barPercentage):(L=I*_,z=1),{chunk:L/_,ratio:z,start:c.pixels[m]-L/2}}(c,f,I,Re),wt=this._getStackIndex(this.index,this._cachedMeta.stack,L?c:void 0);$=rt.start+rt.chunk*wt+rt.chunk/2,fe=Math.min(z,rt.chunk*rt.ratio)}else $=_.getPixelForValue(this.getParsed(c)[_.axis],c),fe=Math.min(z,f.min*f.ratio);return{base:$-fe/2,head:$+fe/2,center:$,size:fe}}draw(){const c=this._cachedMeta,f=c.vScale,_=c.data,I=_.length;let L=0;for(;L<I;++L)null!==this.getParsed(L)[f.axis]&&_[L].draw(this._ctx)}}gi(Io,"id","bar"),gi(Io,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gi(Io,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ca extends uo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,f,_,I){const L=super.parsePrimitiveData(c,f,_,I);for(let z=0;z<L.length;z++)L[z]._custom=this.resolveDataElementOptions(z+_).radius;return L}parseArrayData(c,f,_,I){const L=super.parseArrayData(c,f,_,I);for(let z=0;z<L.length;z++)L[z]._custom=gt(f[_+z][2],this.resolveDataElementOptions(z+_).radius);return L}parseObjectData(c,f,_,I){const L=super.parseObjectData(c,f,_,I);for(let z=0;z<L.length;z++){const $=f[_+z];L[z]._custom=gt($&&$.r&&+$.r,this.resolveDataElementOptions(z+_).radius)}return L}getMaxOverflow(){const c=this._cachedMeta.data;let f=0;for(let _=c.length-1;_>=0;--_)f=Math.max(f,c[_].size(this.resolveDataElementOptions(_))/2);return f>0&&f}getLabelAndValue(c){const f=this._cachedMeta,_=this.chart.data.labels||[],{xScale:I,yScale:L}=f,z=this.getParsed(c),$=I.getLabelForValue(z.x),fe=L.getLabelForValue(z.y),Re=z._custom;return{label:_[c]||"",value:"("+$+", "+fe+(Re?", "+Re:"")+")"}}update(c){const f=this._cachedMeta.data;this.updateElements(f,0,f.length,c)}updateElements(c,f,_,I){const L="reset"===I,{iScale:z,vScale:$}=this._cachedMeta,{sharedOptions:fe,includeOptions:Re}=this._getSharedOptions(f,I),rt=z.axis,wt=$.axis;for(let Ut=f;Ut<f+_;Ut++){const en=c[Ut],nn=!L&&this.getParsed(Ut),vn={},In=vn[rt]=L?z.getPixelForDecimal(.5):z.getPixelForValue(nn[rt]),Un=vn[wt]=L?$.getBasePixel():$.getPixelForValue(nn[wt]);vn.skip=isNaN(In)||isNaN(Un),Re&&(vn.options=fe||this.resolveDataElementOptions(Ut,en.active?"active":I),L&&(vn.options.radius=0)),this.updateElement(en,Ut,vn,I)}}resolveDataElementOptions(c,f){const _=this.getParsed(c);let I=super.resolveDataElementOptions(c,f);I.$shared&&(I=Object.assign({},I,{$shared:!1}));const L=I.radius;return"active"!==f&&(I.radius=0),I.radius+=gt(_&&_._custom,L),I}}gi(ca,"id","bubble"),gi(ca,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),gi(ca,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Lo extends uo{constructor(c,f){super(c,f),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,f){const _=this.getDataset().data,I=this._cachedMeta;if(!1===this._parsing)I._parsed=_;else{let z,$,L=fe=>+_[fe];if(xe(_[c])){const{key:fe="value"}=this._parsing;L=Re=>+Ct(_[Re],fe)}for(z=c,$=c+f;z<$;++z)I._parsed[z]=L(z)}}_getRotation(){return Qe(this.options.rotation-90)}_getCircumference(){return Qe(this.options.circumference)}_getRotationExtents(){let c=fn,f=-fn;for(let _=0;_<this.chart.data.datasets.length;++_)if(this.chart.isDatasetVisible(_)&&this.chart.getDatasetMeta(_).type===this._type){const I=this.chart.getDatasetMeta(_).controller,L=I._getRotation(),z=I._getCircumference();c=Math.min(c,L),f=Math.max(f,L+z)}return{rotation:c,circumference:f-c}}update(c){const f=this.chart,{chartArea:_}=f,I=this._cachedMeta,L=I.data,z=this.getMaxBorderWidth()+this.getMaxOffset(L)+this.options.spacing,$=Math.max((Math.min(_.width,_.height)-z)/2,0),fe=Math.min(((m,c)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100:+m/c)(this.options.cutout,$),1),Re=this._getRingWeight(this.index),{circumference:rt,rotation:wt}=this._getRotationExtents(),{ratioX:Ut,ratioY:en,offsetX:nn,offsetY:vn}=function $a(m,c,f){let _=1,I=1,L=0,z=0;if(c<fn){const $=m,fe=$+c,Re=Math.cos($),rt=Math.sin($),wt=Math.cos(fe),Ut=Math.sin(fe),en=(qn,ei,Yn)=>ti(qn,$,fe,!0)?1:Math.max(ei,ei*f,Yn,Yn*f),nn=(qn,ei,Yn)=>ti(qn,$,fe,!0)?-1:Math.min(ei,ei*f,Yn,Yn*f),vn=en(0,Re,wt),In=en(rn,rt,Ut),Un=nn(sn,Re,wt),Jn=nn(sn+rn,rt,Ut);_=(vn-Un)/2,I=(In-Jn)/2,L=-(vn+Un)/2,z=-(In+Jn)/2}return{ratioX:_,ratioY:I,offsetX:L,offsetY:z}}(wt,rt,fe),Jn=Math.max(Math.min((_.width-z)/Ut,(_.height-z)/en)/2,0),qn=Ft(this.options.radius,Jn),Yn=(qn-Math.max(qn*fe,0))/this._getVisibleDatasetWeightTotal();this.offsetX=nn*qn,this.offsetY=vn*qn,I.total=this.calculateTotal(),this.outerRadius=qn-Yn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Yn*Re,0),this.updateElements(L,0,L.length,c)}_circumference(c,f){const _=this.options,I=this._cachedMeta,L=this._getCircumference();return f&&_.animation.animateRotate||!this.chart.getDataVisibility(c)||null===I._parsed[c]||I.data[c].hidden?0:this.calculateCircumference(I._parsed[c]*L/fn)}updateElements(c,f,_,I){const L="reset"===I,z=this.chart,$=z.chartArea,rt=($.left+$.right)/2,wt=($.top+$.bottom)/2,Ut=L&&z.options.animation.animateScale,en=Ut?0:this.innerRadius,nn=Ut?0:this.outerRadius,{sharedOptions:vn,includeOptions:In}=this._getSharedOptions(f,I);let Jn,Un=this._getRotation();for(Jn=0;Jn<f;++Jn)Un+=this._circumference(Jn,L);for(Jn=f;Jn<f+_;++Jn){const qn=this._circumference(Jn,L),ei=c[Jn],Yn={x:rt+this.offsetX,y:wt+this.offsetY,startAngle:Un,endAngle:Un+qn,circumference:qn,outerRadius:nn,innerRadius:en};In&&(Yn.options=vn||this.resolveDataElementOptions(Jn,ei.active?"active":I)),Un+=qn,this.updateElement(ei,Jn,Yn,I)}}calculateTotal(){const c=this._cachedMeta,f=c.data;let I,_=0;for(I=0;I<f.length;I++){const L=c._parsed[I];null!==L&&!isNaN(L)&&this.chart.getDataVisibility(I)&&!f[I].hidden&&(_+=Math.abs(L))}return _}calculateCircumference(c){const f=this._cachedMeta.total;return f>0&&!isNaN(c)?fn*(Math.abs(c)/f):0}getLabelAndValue(c){const _=this.chart,I=_.data.labels||[],L=Li(this._cachedMeta._parsed[c],_.options.locale);return{label:I[c]||"",value:L}}getMaxBorderWidth(c){let f=0;const _=this.chart;let I,L,z,$,fe;if(!c)for(I=0,L=_.data.datasets.length;I<L;++I)if(_.isDatasetVisible(I)){z=_.getDatasetMeta(I),c=z.data,$=z.controller;break}if(!c)return 0;for(I=0,L=c.length;I<L;++I)fe=$.resolveDataElementOptions(I),"inner"!==fe.borderAlign&&(f=Math.max(f,fe.borderWidth||0,fe.hoverBorderWidth||0));return f}getMaxOffset(c){let f=0;for(let _=0,I=c.length;_<I;++_){const L=this.resolveDataElementOptions(_);f=Math.max(f,L.offset||0,L.hoverOffset||0)}return f}_getRingWeightOffset(c){let f=0;for(let _=0;_<c;++_)this.chart.isDatasetVisible(_)&&(f+=this._getRingWeight(_));return f}_getRingWeight(c){return Math.max(gt(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gi(Lo,"id","doughnut"),gi(Lo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gi(Lo,"descriptors",{_scriptable:c=>"spacing"!==c,_indexable:c=>"spacing"!==c&&!c.startsWith("borderDash")&&!c.startsWith("hoverBorderDash")}),gi(Lo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const f=c.data;if(f.labels.length&&f.datasets.length){const{labels:{pointStyle:_,color:I}}=c.legend.options;return f.labels.map((L,z)=>{const fe=c.getDatasetMeta(0).controller.getStyle(z);return{text:L,fillStyle:fe.backgroundColor,strokeStyle:fe.borderColor,fontColor:I,lineWidth:fe.borderWidth,pointStyle:_,hidden:!c.getDataVisibility(z),index:z}})}return[]}},onClick(c,f,_){_.chart.toggleDataVisibility(f.index),_.chart.update()}}}});class Rr extends uo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const f=this._cachedMeta,{dataset:_,data:I=[],_dataset:L}=f,z=this.chart._animationsDisabled;let{start:$,count:fe}=Ks(f,I,z);this._drawStart=$,this._drawCount=fe,ds(f)&&($=0,fe=I.length),_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!L._decimated,_.points=I;const Re=this.resolveDatasetElementOptions(c);this.options.showLine||(Re.borderWidth=0),Re.segment=this.options.segment,this.updateElement(_,void 0,{animated:!z,options:Re},c),this.updateElements(I,$,fe,c)}updateElements(c,f,_,I){const L="reset"===I,{iScale:z,vScale:$,_stacked:fe,_dataset:Re}=this._cachedMeta,{sharedOptions:rt,includeOptions:wt}=this._getSharedOptions(f,I),Ut=z.axis,en=$.axis,{spanGaps:nn,segment:vn}=this.options,In=Vt(nn)?nn:Number.POSITIVE_INFINITY,Un=this.chart._animationsDisabled||L||"none"===I,Jn=f+_,qn=c.length;let ei=f>0&&this.getParsed(f-1);for(let Yn=0;Yn<qn;++Yn){const ui=c[Yn],fi=Un?ui:{};if(Yn<f||Yn>=Jn){fi.skip=!0;continue}const _i=this.getParsed(Yn),Fi=ht(_i[en]),co=fi[Ut]=z.getPixelForValue(_i[Ut],Yn),po=fi[en]=L||Fi?$.getBasePixel():$.getPixelForValue(fe?this.applyStack($,_i,fe):_i[en],Yn);fi.skip=isNaN(co)||isNaN(po)||Fi,fi.stop=Yn>0&&Math.abs(_i[Ut]-ei[Ut])>In,vn&&(fi.parsed=_i,fi.raw=Re.data[Yn]),wt&&(fi.options=rt||this.resolveDataElementOptions(Yn,ui.active?"active":I)),Un||this.updateElement(ui,Yn,fi,I),ei=_i}}getMaxOverflow(){const c=this._cachedMeta,f=c.dataset,_=f.options&&f.options.borderWidth||0,I=c.data||[];if(!I.length)return _;const L=I[0].size(this.resolveDataElementOptions(0)),z=I[I.length-1].size(this.resolveDataElementOptions(I.length-1));return Math.max(_,L,z)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}}gi(Rr,"id","line"),gi(Rr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gi(Rr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Gs extends uo{constructor(c,f){super(c,f),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const _=this.chart,I=_.data.labels||[],L=Li(this._cachedMeta._parsed[c].r,_.options.locale);return{label:I[c]||"",value:L}}parseObjectData(c,f,_,I){return ro.bind(this)(c,f,_,I)}update(c){const f=this._cachedMeta.data;this._updateRadius(),this.updateElements(f,0,f.length,c)}getMinMax(){const f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((_,I)=>{const L=this.getParsed(I).r;!isNaN(L)&&this.chart.getDataVisibility(I)&&(L<f.min&&(f.min=L),L>f.max&&(f.max=L))}),f}_updateRadius(){const c=this.chart,f=c.chartArea,_=c.options,I=Math.min(f.right-f.left,f.bottom-f.top),L=Math.max(I/2,0),$=(L-Math.max(_.cutoutPercentage?L/100*_.cutoutPercentage:1,0))/c.getVisibleDatasetCount();this.outerRadius=L-$*this.index,this.innerRadius=this.outerRadius-$}updateElements(c,f,_,I){const L="reset"===I,z=this.chart,fe=z.options.animation,Re=this._cachedMeta.rScale,rt=Re.xCenter,wt=Re.yCenter,Ut=Re.getIndexAngle(0)-.5*sn;let nn,en=Ut;const vn=360/this.countVisibleElements();for(nn=0;nn<f;++nn)en+=this._computeAngle(nn,I,vn);for(nn=f;nn<f+_;nn++){const In=c[nn];let Un=en,Jn=en+this._computeAngle(nn,I,vn),qn=z.getDataVisibility(nn)?Re.getDistanceFromCenterForValue(this.getParsed(nn).r):0;en=Jn,L&&(fe.animateScale&&(qn=0),fe.animateRotate&&(Un=Jn=Ut));const ei={x:rt,y:wt,innerRadius:0,outerRadius:qn,startAngle:Un,endAngle:Jn,options:this.resolveDataElementOptions(nn,In.active?"active":I)};this.updateElement(In,nn,ei,I)}}countVisibleElements(){let f=0;return this._cachedMeta.data.forEach((_,I)=>{!isNaN(this.getParsed(I).r)&&this.chart.getDataVisibility(I)&&f++}),f}_computeAngle(c,f,_){return this.chart.getDataVisibility(c)?Qe(this.resolveDataElementOptions(c,f).angle||_):0}}gi(Gs,"id","polarArea"),gi(Gs,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),gi(Gs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const f=c.data;if(f.labels.length&&f.datasets.length){const{labels:{pointStyle:_,color:I}}=c.legend.options;return f.labels.map((L,z)=>{const fe=c.getDatasetMeta(0).controller.getStyle(z);return{text:L,fillStyle:fe.backgroundColor,strokeStyle:fe.borderColor,fontColor:I,lineWidth:fe.borderWidth,pointStyle:_,hidden:!c.getDataVisibility(z),index:z}})}return[]}},onClick(c,f,_){_.chart.toggleDataVisibility(f.index),_.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ma extends Lo{}gi(Ma,"id","pie"),gi(Ma,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ja extends uo{getLabelAndValue(c){const f=this._cachedMeta.vScale,_=this.getParsed(c);return{label:f.getLabels()[c],value:""+f.getLabelForValue(_[f.axis])}}parseObjectData(c,f,_,I){return ro.bind(this)(c,f,_,I)}update(c){const f=this._cachedMeta,_=f.dataset,I=f.data||[],L=f.iScale.getLabels();if(_.points=I,"resize"!==c){const z=this.resolveDatasetElementOptions(c);this.options.showLine||(z.borderWidth=0),this.updateElement(_,void 0,{_loop:!0,_fullLoop:L.length===I.length,options:z},c)}this.updateElements(I,0,I.length,c)}updateElements(c,f,_,I){const L=this._cachedMeta.rScale,z="reset"===I;for(let $=f;$<f+_;$++){const fe=c[$],Re=this.resolveDataElementOptions($,fe.active?"active":I),rt=L.getPointPositionForValue($,this.getParsed($).r),wt=z?L.xCenter:rt.x,Ut=z?L.yCenter:rt.y,en={x:wt,y:Ut,angle:rt.angle,skip:isNaN(wt)||isNaN(Ut),options:Re};this.updateElement(fe,$,en,I)}}}gi(Ja,"id","radar"),gi(Ja,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),gi(Ja,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class qa extends uo{getLabelAndValue(c){const f=this._cachedMeta,_=this.chart.data.labels||[],{xScale:I,yScale:L}=f,z=this.getParsed(c),$=I.getLabelForValue(z.x),fe=L.getLabelForValue(z.y);return{label:_[c]||"",value:"("+$+", "+fe+")"}}update(c){const f=this._cachedMeta,{data:_=[]}=f,I=this.chart._animationsDisabled;let{start:L,count:z}=Ks(f,_,I);if(this._drawStart=L,this._drawCount=z,ds(f)&&(L=0,z=_.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:$,_dataset:fe}=f;$._chart=this.chart,$._datasetIndex=this.index,$._decimated=!!fe._decimated,$.points=_;const Re=this.resolveDatasetElementOptions(c);Re.segment=this.options.segment,this.updateElement($,void 0,{animated:!I,options:Re},c)}else this.datasetElementType&&(delete f.dataset,this.datasetElementType=!1);this.updateElements(_,L,z,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(c,f,_,I){const L="reset"===I,{iScale:z,vScale:$,_stacked:fe,_dataset:Re}=this._cachedMeta,rt=this.resolveDataElementOptions(f,I),wt=this.getSharedOptions(rt),Ut=this.includeOptions(I,wt),en=z.axis,nn=$.axis,{spanGaps:vn,segment:In}=this.options,Un=Vt(vn)?vn:Number.POSITIVE_INFINITY,Jn=this.chart._animationsDisabled||L||"none"===I;let qn=f>0&&this.getParsed(f-1);for(let ei=f;ei<f+_;++ei){const Yn=c[ei],ui=this.getParsed(ei),fi=Jn?Yn:{},_i=ht(ui[nn]),Fi=fi[en]=z.getPixelForValue(ui[en],ei),co=fi[nn]=L||_i?$.getBasePixel():$.getPixelForValue(fe?this.applyStack($,ui,fe):ui[nn],ei);fi.skip=isNaN(Fi)||isNaN(co)||_i,fi.stop=ei>0&&Math.abs(ui[en]-qn[en])>Un,In&&(fi.parsed=ui,fi.raw=Re.data[ei]),Ut&&(fi.options=wt||this.resolveDataElementOptions(ei,Yn.active?"active":I)),Jn||this.updateElement(Yn,ei,fi,I),qn=ui}this.updateSharedOptions(wt,I,rt)}getMaxOverflow(){const c=this._cachedMeta,f=c.data||[];if(!this.options.showLine){let $=0;for(let fe=f.length-1;fe>=0;--fe)$=Math.max($,f[fe].size(this.resolveDataElementOptions(fe))/2);return $>0&&$}const _=c.dataset,I=_.options&&_.options.borderWidth||0;if(!f.length)return I;const L=f[0].size(this.resolveDataElementOptions(0)),z=f[f.length-1].size(this.resolveDataElementOptions(f.length-1));return Math.max(I,L,z)/2}}gi(qa,"id","scatter"),gi(qa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),gi(qa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var $l=Object.freeze({__proto__:null,BarController:Io,BubbleController:ca,DoughnutController:Lo,LineController:Rr,PieController:Ma,PolarAreaController:Gs,RadarController:Ja,ScatterController:qa});function Tr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xa{constructor(c){gi(this,"options"),this.options=c||{}}static override(c){Object.assign(Xa.prototype,c)}init(){}formats(){return Tr()}parse(){return Tr()}format(){return Tr()}add(){return Tr()}diff(){return Tr()}startOf(){return Tr()}endOf(){return Tr()}}var el__date=Xa;function tl(m,c,f,_){const{controller:I,data:L,_sorted:z}=m,$=I._cachedMeta.iScale;if($&&c===$.axis&&"r"!==c&&z&&L.length){const fe=$._reversePixels?wo:Wi;if(!_)return fe(L,c,f);if(I._sharedOptions){const Re=L[0],rt="function"==typeof Re.getRange&&Re.getRange(c);if(rt){const wt=fe(L,c,f-rt),Ut=fe(L,c,f+rt);return{lo:wt.lo,hi:Ut.hi}}}}return{lo:0,hi:L.length-1}}function Oa(m,c,f,_,I){const L=m.getSortedVisibleDatasetMetas(),z=f[c];for(let $=0,fe=L.length;$<fe;++$){const{index:Re,data:rt}=L[$],{lo:wt,hi:Ut}=tl(L[$],c,z,I);for(let en=wt;en<=Ut;++en){const nn=rt[en];nn.skip||_(nn,Re,en)}}}function Dc(m,c,f,_,I){const L=[];return!I&&!m.isPointInArea(c)||Oa(m,f,c,function($,fe,Re){!I&&!ys($,m.chartArea,0)||$.inRange(c.x,c.y,_)&&L.push({element:$,datasetIndex:fe,index:Re})},!0),L}function pu(m,c,f,_,I,L){return L||m.isPointInArea(c)?"r"!==f||_?function Ro(m,c,f,_,I,L){let z=[];const $=function kl(m){const c=-1!==m.indexOf("x"),f=-1!==m.indexOf("y");return function(_,I){const L=c?Math.abs(_.x-I.x):0,z=f?Math.abs(_.y-I.y):0;return Math.sqrt(Math.pow(L,2)+Math.pow(z,2))}}(f);let fe=Number.POSITIVE_INFINITY;return Oa(m,f,c,function Re(rt,wt,Ut){const en=rt.inRange(c.x,c.y,I);if(_&&!en)return;const nn=rt.getCenterPoint(I);if(!L&&!m.isPointInArea(nn)&&!en)return;const In=$(c,nn);In<fe?(z=[{element:rt,datasetIndex:wt,index:Ut}],fe=In):In===fe&&z.push({element:rt,datasetIndex:wt,index:Ut})}),z}(m,c,f,_,I,L):function du(m,c,f,_){let I=[];return Oa(m,f,c,function L(z,$,fe){const{startAngle:Re,endAngle:rt}=z.getProps(["startAngle","endAngle"],_),{angle:wt}=xn(z,{x:c.x,y:c.y});ti(wt,Re,rt)&&I.push({element:z,datasetIndex:$,index:fe})}),I}(m,c,f,I):[]}function Gu(m,c,f,_,I){const L=[],z="x"===f?"inXRange":"inYRange";let $=!1;return Oa(m,f,c,(fe,Re,rt)=>{fe[z](c[f],I)&&(L.push({element:fe,datasetIndex:Re,index:rt}),$=$||fe.inRange(c.x,c.y,I))}),_&&!$?[]:L}var Ud={evaluateInteractionItems:Oa,modes:{index(m,c,f,_){const I=Xs(c,m),L=f.axis||"x",z=f.includeInvisible||!1,$=f.intersect?Dc(m,I,L,_,z):pu(m,I,L,!1,_,z),fe=[];return $.length?(m.getSortedVisibleDatasetMetas().forEach(Re=>{const rt=$[0].index,wt=Re.data[rt];wt&&!wt.skip&&fe.push({element:wt,datasetIndex:Re.index,index:rt})}),fe):[]},dataset(m,c,f,_){const I=Xs(c,m),L=f.axis||"xy",z=f.includeInvisible||!1;let $=f.intersect?Dc(m,I,L,_,z):pu(m,I,L,!1,_,z);if($.length>0){const fe=$[0].datasetIndex,Re=m.getDatasetMeta(fe).data;$=[];for(let rt=0;rt<Re.length;++rt)$.push({element:Re[rt],datasetIndex:fe,index:rt})}return $},point:(m,c,f,_)=>Dc(m,Xs(c,m),f.axis||"xy",_,f.includeInvisible||!1),nearest:(m,c,f,_)=>pu(m,Xs(c,m),f.axis||"xy",f.intersect,_,f.includeInvisible||!1),x:(m,c,f,_)=>Gu(m,Xs(c,m),"x",f.intersect,_),y:(m,c,f,_)=>Gu(m,Xs(c,m),"y",f.intersect,_)}};const hu=["left","top","right","bottom"];function ql(m,c){return m.filter(f=>f.pos===c)}function Hd(m,c){return m.filter(f=>-1===hu.indexOf(f.pos)&&f.box.axis===c)}function Qa(m,c){return m.sort((f,_)=>{const I=c?_:f,L=c?f:_;return I.weight===L.weight?I.index-L.index:I.weight-L.weight})}function Mc(m,c,f,_){return Math.max(m[f],c[f])+Math.max(m[_],c[_])}function gl(m,c){m.top=Math.max(m.top,c.top),m.left=Math.max(m.left,c.left),m.bottom=Math.max(m.bottom,c.bottom),m.right=Math.max(m.right,c.right)}function Vp(m,c,f,_){const{pos:I,box:L}=f,z=m.maxPadding;if(!xe(I)){f.size&&(m[I]-=f.size);const wt=_[f.stack]||{size:0,count:1};wt.size=Math.max(wt.size,f.horizontal?L.height:L.width),f.size=wt.size/wt.count,m[I]+=f.size}L.getPadding&&gl(z,L.getPadding());const $=Math.max(0,c.outerWidth-Mc(z,m,"left","right")),fe=Math.max(0,c.outerHeight-Mc(z,m,"top","bottom")),Re=$!==m.w,rt=fe!==m.h;return m.w=$,m.h=fe,f.horizontal?{same:Re,other:rt}:{same:rt,other:Re}}function jr(m,c){const f=c.maxPadding;return function _(I){const L={left:0,top:0,right:0,bottom:0};return I.forEach(z=>{L[z]=Math.max(c[z],f[z])}),L}(m?["left","right"]:["top","bottom"])}function lr(m,c,f,_){const I=[];let L,z,$,fe,Re,rt;for(L=0,z=m.length,Re=0;L<z;++L){$=m[L],fe=$.box,fe.update($.width||c.w,$.height||c.h,jr($.horizontal,c));const{same:wt,other:Ut}=Vp(c,f,$,_);Re|=wt&&I.length,rt=rt||Ut,fe.fullSize||I.push($)}return Re&&lr(I,c,f,_)||rt}function Ar(m,c,f,_,I){m.top=f,m.left=c,m.right=c+_,m.bottom=f+I,m.width=_,m.height=I}function Pa(m,c,f,_){const I=f.padding;let{x:L,y:z}=c;for(const $ of m){const fe=$.box,Re=_[$.stack]||{count:1,placed:0,weight:1},rt=$.stackWeight/Re.weight||1;if($.horizontal){const wt=c.w*rt,Ut=Re.size||fe.height;lt(Re.start)&&(z=Re.start),fe.fullSize?Ar(fe,I.left,z,f.outerWidth-I.right-I.left,Ut):Ar(fe,c.left+Re.placed,z,wt,Ut),Re.start=z,Re.placed+=wt,z=fe.bottom}else{const wt=c.h*rt,Ut=Re.size||fe.width;lt(Re.start)&&(L=Re.start),fe.fullSize?Ar(fe,L,I.top,Ut,f.outerHeight-I.bottom-I.top):Ar(fe,L,c.top+Re.placed,Ut,wt),Re.start=L,Re.placed+=wt,L=fe.right}}c.x=L,c.y=z}var yo={addBox(m,c){m.boxes||(m.boxes=[]),c.fullSize=c.fullSize||!1,c.position=c.position||"top",c.weight=c.weight||0,c._layers=c._layers||function(){return[{z:0,draw(f){c.draw(f)}}]},m.boxes.push(c)},removeBox(m,c){const f=m.boxes?m.boxes.indexOf(c):-1;-1!==f&&m.boxes.splice(f,1)},configure(m,c,f){c.fullSize=f.fullSize,c.position=f.position,c.weight=f.weight},update(m,c,f,_){if(!m)return;const I=Ht(m.options.layout.padding),L=Math.max(c-I.width,0),z=Math.max(f-I.height,0),$=function Ws(m){const c=function hl(m){const c=[];let f,_,I,L,z,$;for(f=0,_=(m||[]).length;f<_;++f)I=m[f],({position:L,options:{stack:z,stackWeight:$=1}}=I),c.push({index:f,box:I,pos:L,horizontal:I.isHorizontal(),weight:I.weight,stack:z&&L+z,stackWeight:$});return c}(m),f=Qa(c.filter(Re=>Re.box.fullSize),!0),_=Qa(ql(c,"left"),!0),I=Qa(ql(c,"right")),L=Qa(ql(c,"top"),!0),z=Qa(ql(c,"bottom")),$=Hd(c,"x"),fe=Hd(c,"y");return{fullSize:f,leftAndTop:_.concat(L),rightAndBottom:I.concat(fe).concat(z).concat($),chartArea:ql(c,"chartArea"),vertical:_.concat(I).concat(fe),horizontal:L.concat(z).concat($)}}(m.boxes),fe=$.vertical,Re=$.horizontal;Oe(m.boxes,vn=>{"function"==typeof vn.beforeLayout&&vn.beforeLayout()});const rt=fe.reduce((vn,In)=>In.box.options&&!1===In.box.options.display?vn:vn+1,0)||1,wt=Object.freeze({outerWidth:c,outerHeight:f,padding:I,availableWidth:L,availableHeight:z,vBoxMaxWidth:L/2/rt,hBoxMaxHeight:z/2}),Ut=Object.assign({},I);gl(Ut,Ht(_));const en=Object.assign({maxPadding:Ut,w:L,h:z,x:I.left,y:I.top},I),nn=function Vd(m,c){const f=function Wu(m){const c={};for(const f of m){const{stack:_,pos:I,stackWeight:L}=f;if(!_||!hu.includes(I))continue;const z=c[_]||(c[_]={count:0,placed:0,weight:0,size:0});z.count++,z.weight+=L}return c}(m),{vBoxMaxWidth:_,hBoxMaxHeight:I}=c;let L,z,$;for(L=0,z=m.length;L<z;++L){$=m[L];const{fullSize:fe}=$.box,Re=f[$.stack],rt=Re&&$.stackWeight/Re.weight;$.horizontal?($.width=rt?rt*_:fe&&c.availableWidth,$.height=I):($.width=_,$.height=rt?rt*I:fe&&c.availableHeight)}return f}(fe.concat(Re),wt);lr($.fullSize,en,wt,nn),lr(fe,en,wt,nn),lr(Re,en,wt,nn)&&lr(fe,en,wt,nn),function Yu(m){const c=m.maxPadding;function f(_){const I=Math.max(c[_]-m[_],0);return m[_]+=I,I}m.y+=f("top"),m.x+=f("left"),f("right"),f("bottom")}(en),Pa($.leftAndTop,en,wt,nn),en.x+=en.w,en.y+=en.h,Pa($.rightAndBottom,en,wt,nn),m.chartArea={left:en.left,top:en.top,right:en.left+en.w,bottom:en.top+en.h,height:en.h,width:en.w},Oe($.chartArea,vn=>{const In=vn.box;Object.assign(In,m.chartArea),In.update(en.w,en.h,{left:0,top:0,right:0,bottom:0})})}};class ye{acquireContext(c,f){}releaseContext(c){return!1}addEventListener(c,f,_){}removeEventListener(c,f,_){}getDevicePixelRatio(){return 1}getMaximumSize(c,f,_,I){return f=Math.max(0,f||c.width),_=_||c.height,{width:f,height:Math.max(0,I?Math.floor(f/I):_)}}isAttached(c){return!0}updateConfig(c){}}class Ae extends ye{acquireContext(c){return c&&c.getContext&&c.getContext("2d")||null}updateConfig(c){c.options.animation=!1}}const ue="$chartjs",Le={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tt=m=>null===m||""===m,$t=!!Ms&&{passive:!0};function An(m,c,f){m.canvas.removeEventListener(c,f,$t)}function vi(m,c){for(const f of m)if(f===c||f.contains(c))return!0}function si(m,c,f){const _=m.canvas,I=new MutationObserver(L=>{let z=!1;for(const $ of L)z=z||vi($.addedNodes,_),z=z&&!vi($.removedNodes,_);z&&f()});return I.observe(document,{childList:!0,subtree:!0}),I}function Vi(m,c,f){const _=m.canvas,I=new MutationObserver(L=>{let z=!1;for(const $ of L)z=z||vi($.removedNodes,_),z=z&&!vi($.addedNodes,_);z&&f()});return I.observe(document,{childList:!0,subtree:!0}),I}const so=new Map;let Ys=0;function Kr(){const m=window.devicePixelRatio;m!==Ys&&(Ys=m,so.forEach((c,f)=>{f.currentDevicePixelRatio!==m&&c()}))}function da(m,c,f){const _=m.canvas,I=_&&Pe(_);if(!I)return;const L=us(($,fe)=>{const Re=I.clientWidth;f($,fe),Re<I.clientWidth&&f()},window),z=new ResizeObserver($=>{const fe=$[0],Re=fe.contentRect.width,rt=fe.contentRect.height;0===Re&&0===rt||L(Re,rt)});return z.observe(I),function ua(m,c){so.size||window.addEventListener("resize",Kr),so.set(m,c)}(m,L),z}function Oc(m,c,f){f&&f.disconnect(),"resize"===c&&function $r(m){so.delete(m),so.size||window.removeEventListener("resize",Kr)}(m)}function wr(m,c,f){const _=m.canvas,I=us(L=>{null!==m.ctx&&f(function ni(m,c){const f=Le[m.type]||m.type,{x:_,y:I}=Xs(m,c);return{type:f,chart:c,native:m,x:void 0!==_?_:null,y:void 0!==I?I:null}}(L,m))},m);return function on(m,c,f){m.addEventListener(c,f,$t)}(_,c,I),I}class nl extends ye{acquireContext(c,f){const _=c&&c.getContext&&c.getContext("2d");return _&&_.canvas===c?(function kt(m,c){const f=m.style,_=m.getAttribute("height"),I=m.getAttribute("width");if(m[ue]={initial:{height:_,width:I,style:{display:f.display,height:f.height,width:f.width}}},f.display=f.display||"block",f.boxSizing=f.boxSizing||"border-box",tt(I)){const L=zo(m,"width");void 0!==L&&(m.width=L)}if(tt(_))if(""===m.style.height)m.height=m.width/(c||2);else{const L=zo(m,"height");void 0!==L&&(m.height=L)}}(c,f),_):null}releaseContext(c){const f=c.canvas;if(!f[ue])return!1;const _=f[ue].initial;["height","width"].forEach(L=>{const z=_[L];ht(z)?f.removeAttribute(L):f.setAttribute(L,z)});const I=_.style||{};return Object.keys(I).forEach(L=>{f.style[L]=I[L]}),f.width=f.width,delete f[ue],!0}addEventListener(c,f,_){this.removeEventListener(c,f),(c.$proxies||(c.$proxies={}))[f]=({attach:si,detach:Vi,resize:da}[f]||wr)(c,f,_)}removeEventListener(c,f){const _=c.$proxies||(c.$proxies={}),I=_[f];I&&(({attach:Oc,detach:Oc,resize:Oc}[f]||An)(c,f,I),_[f]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(c,f,_,I){return function br(m,c,f,_){const I=Rn(m),L=Fo(I,"margin"),z=Pt(I.maxWidth,m,"clientWidth")||On,$=Pt(I.maxHeight,m,"clientHeight")||On,fe=function vr(m,c,f){let _,I;if(void 0===c||void 0===f){const L=Pe(m);if(L){const z=L.getBoundingClientRect(),$=Rn(L),fe=Fo($,"border","width"),Re=Fo($,"padding");c=z.width-Re.width-fe.width,f=z.height-Re.height-fe.height,_=Pt($.maxWidth,L,"clientWidth"),I=Pt($.maxHeight,L,"clientHeight")}else c=m.clientWidth,f=m.clientHeight}return{width:c,height:f,maxWidth:_||On,maxHeight:I||On}}(m,c,f);let{width:Re,height:rt}=fe;if("content-box"===I.boxSizing){const Ut=Fo(I,"border","width"),en=Fo(I,"padding");Re-=en.width+Ut.width,rt-=en.height+Ut.height}return Re=Math.max(0,Re-L.width),rt=Math.max(0,_?Re/_:rt-L.height),Re=Lr(Math.min(Re,z,fe.maxWidth)),rt=Lr(Math.min(rt,$,fe.maxHeight)),Re&&!rt&&(rt=Lr(Re/2)),(void 0!==c||void 0!==f)&&_&&fe.height&&rt>fe.height&&(rt=fe.height,Re=Lr(Math.floor(rt*_))),{width:Re,height:rt}}(c,f,_,I)}isAttached(c){const f=Pe(c);return!(!f||!f.isConnected)}}class La{constructor(){gi(this,"x"),gi(this,"y"),gi(this,"active",!1),gi(this,"options"),gi(this,"$animations")}tooltipPosition(c){const{x:f,y:_}=this.getProps(["x","y"],c);return{x:f,y:_}}hasValue(){return Vt(this.x)&&Vt(this.y)}getProps(c,f){const _=this.$animations;if(!f||!_)return this;const I={};return c.forEach(L=>{I[L]=_[L]&&_[L].active()?_[L]._to:this[L]}),I}}function Lc(m,c,f,_,I){const L=gt(_,0),z=Math.min(gt(I,m.length),m.length);let fe,Re,rt,$=0;for(f=Math.ceil(f),I&&(fe=I-_,f=fe/Math.floor(fe/f)),rt=L;rt<0;)$++,rt=Math.round(L+$*f);for(Re=Math.max(L,0);Re<z;Re++)Re===rt&&(c.push(m[Re]),$++,rt=Math.round(L+$*f))}gi(La,"defaults",{}),gi(La,"defaultRoutes");const Ei=(m,c,f)=>"top"===c||"left"===c?m[c]+f:m[c]-f,nc=(m,c)=>Math.min(c||m,m);function Dl(m,c){const f=[],_=m.length/c,I=m.length;let L=0;for(;L<I;L+=_)f.push(m[Math.floor(L)]);return f}function ic(m,c,f){const _=m.ticks.length,I=Math.min(c,_-1),L=m._startPixel,z=m._endPixel,$=1e-6;let Re,fe=m.getPixelForTick(I);if(!(f&&(Re=1===_?Math.max(fe-L,z-fe):0===c?(m.getPixelForTick(1)-fe)/2:(fe-m.getPixelForTick(I-1))/2,fe+=I<c?Re:-Re,fe<L-$||fe>z+$)))return fe}function oc(m){return m.drawTicks?m.tickLength:0}function Rc(m,c){if(!m.display)return 0;const f=kn(m.font,c),_=Ht(m.padding);return(ut(m.text)?m.text.length:1)*f.lineHeight+_.height}function rc(m,c,f){let _=fo(m);return(f&&"right"!==c||!f&&"right"===c)&&(_=(m=>"left"===m?"right":"right"===m?"left":m)(_)),_}class Er extends La{constructor(c){super(),this.id=c.id,this.type=c.type,this.options=void 0,this.ctx=c.ctx,this.chart=c.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(c){this.options=c.setContext(this.getContext()),this.axis=c.axis,this._userMin=this.parse(c.min),this._userMax=this.parse(c.max),this._suggestedMin=this.parse(c.suggestedMin),this._suggestedMax=this.parse(c.suggestedMax)}parse(c,f){return c}getUserBounds(){let{_userMin:c,_userMax:f,_suggestedMin:_,_suggestedMax:I}=this;return c=We(c,Number.POSITIVE_INFINITY),f=We(f,Number.NEGATIVE_INFINITY),_=We(_,Number.POSITIVE_INFINITY),I=We(I,Number.NEGATIVE_INFINITY),{min:We(c,_),max:We(f,I),minDefined:De(c),maxDefined:De(f)}}getMinMax(c){let z,{min:f,max:_,minDefined:I,maxDefined:L}=this.getUserBounds();if(I&&L)return{min:f,max:_};const $=this.getMatchingVisibleMetas();for(let fe=0,Re=$.length;fe<Re;++fe)z=$[fe].controller.getMinMax(this,c),I||(f=Math.min(f,z.min)),L||(_=Math.max(_,z.max));return f=L&&f>_?_:f,_=I&&f>_?f:_,{min:We(f,We(_,f)),max:We(_,We(f,_))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const c=this.chart.data;return this.options.labels||(this.isHorizontal()?c.xLabels:c.yLabels)||c.labels||[]}getLabelItems(c=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(c))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ot(this.options.beforeUpdate,[this])}update(c,f,_){const{beginAtZero:I,grace:L,ticks:z}=this.options,$=z.sampleSize;this.beforeUpdate(),this.maxWidth=c,this.maxHeight=f,this._margins=_=Object.assign({left:0,right:0,top:0,bottom:0},_),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_.left+_.right:this.height+_.top+_.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function pi(m,c,f){const{min:_,max:I}=m,L=Ft(c,(I-_)/2),z=($,fe)=>f&&0===$?0:$+fe;return{min:z(_,-Math.abs(L)),max:z(I,L)}}(this,L,I),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const fe=$<this.ticks.length;this._convertTicksToLabels(fe?Dl(this.ticks,$):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),z.display&&(z.autoSkip||"auto"===z.source)&&(this.ticks=function zp(m,c){const f=m.options.ticks,_=function Jp(m){const c=m.options.offset,f=m._tickSize();return Math.floor(Math.min(m._length/f+(c?0:1),m._maxLength/f))}(m),I=Math.min(f.maxTicksLimit||_,_),L=f.major.enabled?function Xl(m){const c=[];let f,_;for(f=0,_=m.length;f<_;f++)m[f].major&&c.push(f);return c}(c):[],z=L.length,$=L[0],fe=L[z-1],Re=[];if(z>I)return function ec(m,c,f,_){let z,I=0,L=f[0];for(_=Math.ceil(_),z=0;z<m.length;z++)z===L&&(c.push(m[z]),I++,L=f[I*_])}(c,Re,L,z/I),Re;const rt=function zd(m,c,f){const _=function To(m){const c=m.length;let f,_;if(c<2)return!1;for(_=m[0],f=1;f<c;++f)if(m[f]-m[f-1]!==_)return!1;return _}(m),I=c.length/f;if(!_)return Math.max(I,1);const L=function $o(m){const c=[],f=Math.sqrt(m);let _;for(_=1;_<f;_++)m%_==0&&(c.push(_),c.push(m/_));return f===(0|f)&&c.push(f),c.sort((I,L)=>I-L).pop(),c}(_);for(let z=0,$=L.length-1;z<$;z++){const fe=L[z];if(fe>I)return fe}return Math.max(I,1)}(L,c,I);if(z>0){let wt,Ut;const en=z>1?Math.round((fe-$)/(z-1)):null;for(Lc(c,Re,rt,ht(en)?0:$-en,$),wt=0,Ut=z-1;wt<Ut;wt++)Lc(c,Re,rt,L[wt],L[wt+1]);return Lc(c,Re,rt,fe,ht(en)?c.length:fe+en),Re}return Lc(c,Re,rt),Re}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),fe&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let f,_,c=this.options.reverse;this.isHorizontal()?(f=this.left,_=this.right):(f=this.top,_=this.bottom,c=!c),this._startPixel=f,this._endPixel=_,this._reversePixels=c,this._length=_-f,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ot(this.options.afterUpdate,[this])}beforeSetDimensions(){Ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ot(this.options.afterSetDimensions,[this])}_callHooks(c){this.chart.notifyPlugins(c,this.getContext()),Ot(this.options[c],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(c){const f=this.options.ticks;let _,I,L;for(_=0,I=c.length;_<I;_++)L=c[_],L.label=Ot(f.callback,[L.value,_,c],this)}afterTickToLabelConversion(){Ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const c=this.options,f=c.ticks,_=nc(this.ticks.length,c.ticks.maxTicksLimit),I=f.minRotation||0,L=f.maxRotation;let $,fe,Re,z=I;if(!this._isVisible()||!f.display||I>=L||_<=1||!this.isHorizontal())return void(this.labelRotation=I);const rt=this._getLabelSizes(),wt=rt.widest.width,Ut=rt.highest.height,en=li(this.chart.width-wt,0,this.maxWidth);$=c.offset?this.maxWidth/_:en/(_-1),wt+6>$&&($=en/(_-(c.offset?.5:1)),fe=this.maxHeight-oc(c.grid)-f.padding-Rc(c.title,this.chart.options.font),Re=Math.sqrt(wt*wt+Ut*Ut),z=dt(Math.min(Math.asin(li((rt.highest.height+6)/$,-1,1)),Math.asin(li(fe/Re,-1,1))-Math.asin(li(Ut/Re,-1,1)))),z=Math.max(I,Math.min(L,z))),this.labelRotation=z}afterCalculateLabelRotation(){Ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ot(this.options.beforeFit,[this])}fit(){const c={width:0,height:0},{chart:f,options:{ticks:_,title:I,grid:L}}=this,z=this._isVisible(),$=this.isHorizontal();if(z){const fe=Rc(I,f.options.font);if($?(c.width=this.maxWidth,c.height=oc(L)+fe):(c.height=this.maxHeight,c.width=oc(L)+fe),_.display&&this.ticks.length){const{first:Re,last:rt,widest:wt,highest:Ut}=this._getLabelSizes(),en=2*_.padding,nn=Qe(this.labelRotation),vn=Math.cos(nn),In=Math.sin(nn);$?c.height=Math.min(this.maxHeight,c.height+(_.mirror?0:In*wt.width+vn*Ut.height)+en):c.width=Math.min(this.maxWidth,c.width+(_.mirror?0:vn*wt.width+In*Ut.height)+en),this._calculatePadding(Re,rt,In,vn)}}this._handleMargins(),$?(this.width=this._length=f.width-this._margins.left-this._margins.right,this.height=c.height):(this.width=c.width,this.height=this._length=f.height-this._margins.top-this._margins.bottom)}_calculatePadding(c,f,_,I){const{ticks:{align:L,padding:z},position:$}=this.options,fe=0!==this.labelRotation,Re="top"!==$&&"x"===this.axis;if(this.isHorizontal()){const rt=this.getPixelForTick(0)-this.left,wt=this.right-this.getPixelForTick(this.ticks.length-1);let Ut=0,en=0;fe?Re?(Ut=I*c.width,en=_*f.height):(Ut=_*c.height,en=I*f.width):"start"===L?en=f.width:"end"===L?Ut=c.width:"inner"!==L&&(Ut=c.width/2,en=f.width/2),this.paddingLeft=Math.max((Ut-rt+z)*this.width/(this.width-rt),0),this.paddingRight=Math.max((en-wt+z)*this.width/(this.width-wt),0)}else{let rt=f.height/2,wt=c.height/2;"start"===L?(rt=0,wt=c.height):"end"===L&&(rt=f.height,wt=0),this.paddingTop=rt+z,this.paddingBottom=wt+z}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ot(this.options.afterFit,[this])}isHorizontal(){const{axis:c,position:f}=this.options;return"top"===f||"bottom"===f||"x"===c}isFullSize(){return this.options.fullSize}_convertTicksToLabels(c){let f,_;for(this.beforeTickToLabelConversion(),this.generateTickLabels(c),f=0,_=c.length;f<_;f++)ht(c[f].label)&&(c.splice(f,1),_--,f--);this.afterTickToLabelConversion()}_getLabelSizes(){let c=this._labelSizes;if(!c){const f=this.options.ticks.sampleSize;let _=this.ticks;f<_.length&&(_=Dl(_,f)),this._labelSizes=c=this._computeLabelSizes(_,_.length,this.options.ticks.maxTicksLimit)}return c}_computeLabelSizes(c,f,_){const{ctx:I,_longestTextCache:L}=this,z=[],$=[],fe=Math.floor(f/nc(f,_));let wt,Ut,en,nn,vn,In,Un,Jn,qn,ei,Yn,Re=0,rt=0;for(wt=0;wt<f;wt+=fe){if(nn=c[wt].label,vn=this._resolveTickFontOptions(wt),I.font=In=vn.string,Un=L[In]=L[In]||{data:{},gc:[]},Jn=vn.lineHeight,qn=ei=0,ht(nn)||ut(nn)){if(ut(nn))for(Ut=0,en=nn.length;Ut<en;++Ut)Yn=nn[Ut],!ht(Yn)&&!ut(Yn)&&(qn=$s(I,Un.data,Un.gc,qn,Yn),ei+=Jn)}else qn=$s(I,Un.data,Un.gc,qn,nn),ei=Jn;z.push(qn),$.push(ei),Re=Math.max(qn,Re),rt=Math.max(ei,rt)}!function Ml(m,c){Oe(m,f=>{const _=f.gc,I=_.length/2;let L;if(I>c){for(L=0;L<I;++L)delete f.data[_[L]];_.splice(0,I)}})}(L,f);const ui=z.indexOf(Re),fi=$.indexOf(rt),_i=Fi=>({width:z[Fi]||0,height:$[Fi]||0});return{first:_i(0),last:_i(f-1),widest:_i(ui),highest:_i(fi),widths:z,heights:$}}getLabelForValue(c){return c}getPixelForValue(c,f){return NaN}getValueForPixel(c){}getPixelForTick(c){const f=this.ticks;return c<0||c>f.length-1?null:this.getPixelForValue(f[c].value)}getPixelForDecimal(c){this._reversePixels&&(c=1-c);const f=this._startPixel+c*this._length;return function mi(m){return li(m,-32768,32767)}(this._alignToPixels?fr(this.chart,f,0):f)}getDecimalForPixel(c){const f=(c-this._startPixel)/this._length;return this._reversePixels?1-f:f}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:c,max:f}=this;return c<0&&f<0?f:c>0&&f>0?c:0}getContext(c){const f=this.ticks||[];if(c>=0&&c<f.length){const _=f[c];return _.$context||(_.$context=function Nc(m,c,f){return Zi(m,{tick:f,index:c,type:"tick"})}(this.getContext(),c,_))}return this.$context||(this.$context=function sc(m,c){return Zi(m,{scale:c,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const c=this.options.ticks,f=Qe(this.labelRotation),_=Math.abs(Math.cos(f)),I=Math.abs(Math.sin(f)),L=this._getLabelSizes(),z=c.autoSkipPadding||0,$=L?L.widest.width+z:0,fe=L?L.highest.height+z:0;return this.isHorizontal()?fe*_>$*I?$/_:fe/I:fe*I<$*_?fe/_:$/I}_isVisible(){const c=this.options.display;return"auto"!==c?!!c:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(c){const f=this.axis,_=this.chart,I=this.options,{grid:L,position:z,border:$}=I,fe=L.offset,Re=this.isHorizontal(),wt=this.ticks.length+(fe?1:0),Ut=oc(L),en=[],nn=$.setContext(this.getContext()),vn=nn.display?nn.width:0,In=vn/2,Un=function(fs){return fr(_,fs,vn)};let Jn,qn,ei,Yn,ui,fi,_i,Fi,co,po,Do,Br;if("top"===z)Jn=Un(this.bottom),fi=this.bottom-Ut,Fi=Jn-In,po=Un(c.top)+In,Br=c.bottom;else if("bottom"===z)Jn=Un(this.top),po=c.top,Br=Un(c.bottom)-In,fi=Jn+In,Fi=this.top+Ut;else if("left"===z)Jn=Un(this.right),ui=this.right-Ut,_i=Jn-In,co=Un(c.left)+In,Do=c.right;else if("right"===z)Jn=Un(this.left),co=c.left,Do=Un(c.right)-In,ui=Jn+In,_i=this.left+Ut;else if("x"===f){if("center"===z)Jn=Un((c.top+c.bottom)/2+.5);else if(xe(z)){const fs=Object.keys(z)[0];Jn=Un(this.chart.scales[fs].getPixelForValue(z[fs]))}po=c.top,Br=c.bottom,fi=Jn+In,Fi=fi+Ut}else if("y"===f){if("center"===z)Jn=Un((c.left+c.right)/2);else if(xe(z)){const fs=Object.keys(z)[0];Jn=Un(this.chart.scales[fs].getPixelForValue(z[fs]))}ui=Jn-In,_i=ui-Ut,co=c.left,Do=c.right}const Fa=gt(I.ticks.maxTicksLimit,wt),Ko=Math.max(1,Math.ceil(wt/Fa));for(qn=0;qn<wt;qn+=Ko){const fs=this.getContext(qn),nr=L.setContext(fs),Ba=$.setContext(fs),ir=nr.lineWidth,Jl=nr.color,gp=Ba.dash||[],Mu=Ba.dashOffset,ns=nr.tickWidth,Xc=nr.tickColor,Tl=nr.tickBorderDash||[],Ou=nr.tickBorderDashOffset;ei=ic(this,qn,fe),void 0!==ei&&(Yn=fr(_,ei,ir),Re?ui=_i=co=Do=Yn:fi=Fi=po=Br=Yn,en.push({tx1:ui,ty1:fi,tx2:_i,ty2:Fi,x1:co,y1:po,x2:Do,y2:Br,width:ir,color:Jl,borderDash:gp,borderDashOffset:Mu,tickWidth:ns,tickColor:Xc,tickBorderDash:Tl,tickBorderDashOffset:Ou}))}return this._ticksLength=wt,this._borderValue=Jn,en}_computeLabelItems(c){const f=this.axis,_=this.options,{position:I,ticks:L}=_,z=this.isHorizontal(),$=this.ticks,{align:fe,crossAlign:Re,padding:rt,mirror:wt}=L,Ut=oc(_.grid),en=Ut+rt,nn=wt?-rt:en,vn=-Qe(this.labelRotation),In=[];let Un,Jn,qn,ei,Yn,ui,fi,_i,Fi,co,po,Do,Br="middle";if("top"===I)ui=this.bottom-nn,fi=this._getXAxisLabelAlignment();else if("bottom"===I)ui=this.top+nn,fi=this._getXAxisLabelAlignment();else if("left"===I){const Ko=this._getYAxisLabelAlignment(Ut);fi=Ko.textAlign,Yn=Ko.x}else if("right"===I){const Ko=this._getYAxisLabelAlignment(Ut);fi=Ko.textAlign,Yn=Ko.x}else if("x"===f){if("center"===I)ui=(c.top+c.bottom)/2+en;else if(xe(I)){const Ko=Object.keys(I)[0];ui=this.chart.scales[Ko].getPixelForValue(I[Ko])+en}fi=this._getXAxisLabelAlignment()}else if("y"===f){if("center"===I)Yn=(c.left+c.right)/2-en;else if(xe(I)){const Ko=Object.keys(I)[0];Yn=this.chart.scales[Ko].getPixelForValue(I[Ko])}fi=this._getYAxisLabelAlignment(Ut).textAlign}"y"===f&&("start"===fe?Br="top":"end"===fe&&(Br="bottom"));const Fa=this._getLabelSizes();for(Un=0,Jn=$.length;Un<Jn;++Un){qn=$[Un],ei=qn.label;const Ko=L.setContext(this.getContext(Un));_i=this.getPixelForTick(Un)+L.labelOffset,Fi=this._resolveTickFontOptions(Un),co=Fi.lineHeight,po=ut(ei)?ei.length:1;const fs=po/2,nr=Ko.color,Ba=Ko.textStrokeColor,ir=Ko.textStrokeWidth;let gp,Jl=fi;if(z?(Yn=_i,"inner"===fi&&(Jl=Un===Jn-1?this.options.reverse?"left":"right":0===Un?this.options.reverse?"right":"left":"center"),Do="top"===I?"near"===Re||0!==vn?-po*co+co/2:"center"===Re?-Fa.highest.height/2-fs*co+co:co/2-Fa.highest.height:"near"===Re||0!==vn?co/2:"center"===Re?Fa.highest.height/2-fs*co:Fa.highest.height-po*co,wt&&(Do*=-1),0!==vn&&!Ko.showLabelBackdrop&&(Yn+=co/2*Math.sin(vn))):(ui=_i,Do=(1-po)*co/2),Ko.showLabelBackdrop){const Mu=Ht(Ko.backdropPadding),ns=Fa.heights[Un],Xc=Fa.widths[Un];let Tl=Do-Mu.top,Ou=0-Mu.left;switch(Br){case"middle":Tl-=ns/2;break;case"bottom":Tl-=ns}switch(fi){case"center":Ou-=Xc/2;break;case"right":Ou-=Xc}gp={left:Ou,top:Tl,width:Xc+Mu.width,height:ns+Mu.height,color:Ko.backdropColor}}In.push({label:ei,font:Fi,textOffset:Do,options:{rotation:vn,color:nr,strokeColor:Ba,strokeWidth:ir,textAlign:Jl,textBaseline:Br,translation:[Yn,ui],backdrop:gp}})}return In}_getXAxisLabelAlignment(){const{position:c,ticks:f}=this.options;if(-Qe(this.labelRotation))return"top"===c?"left":"right";let I="center";return"start"===f.align?I="left":"end"===f.align?I="right":"inner"===f.align&&(I="inner"),I}_getYAxisLabelAlignment(c){const{position:f,ticks:{crossAlign:_,mirror:I,padding:L}}=this.options,$=c+L,fe=this._getLabelSizes().widest.width;let Re,rt;return"left"===f?I?(rt=this.right+L,"near"===_?Re="left":"center"===_?(Re="center",rt+=fe/2):(Re="right",rt+=fe)):(rt=this.right-$,"near"===_?Re="right":"center"===_?(Re="center",rt-=fe/2):(Re="left",rt=this.left)):"right"===f?I?(rt=this.left+L,"near"===_?Re="right":"center"===_?(Re="center",rt-=fe/2):(Re="left",rt-=fe)):(rt=this.left+$,"near"===_?Re="left":"center"===_?(Re="center",rt+=fe/2):(Re="right",rt=this.right)):Re="right",{textAlign:Re,x:rt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const c=this.chart,f=this.options.position;return"left"===f||"right"===f?{top:0,left:this.left,bottom:c.height,right:this.right}:"top"===f||"bottom"===f?{top:this.top,left:0,bottom:this.bottom,right:c.width}:void 0}drawBackground(){const{ctx:c,options:{backgroundColor:f},left:_,top:I,width:L,height:z}=this;f&&(c.save(),c.fillStyle=f,c.fillRect(_,I,L,z),c.restore())}getLineWidthForValue(c){const f=this.options.grid;if(!this._isVisible()||!f.display)return 0;const I=this.ticks.findIndex(L=>L.value===c);return I>=0?f.setContext(this.getContext(I)).lineWidth:0}drawGrid(c){const f=this.options.grid,_=this.ctx,I=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(c));let L,z;const $=(fe,Re,rt)=>{!rt.width||!rt.color||(_.save(),_.lineWidth=rt.width,_.strokeStyle=rt.color,_.setLineDash(rt.borderDash||[]),_.lineDashOffset=rt.borderDashOffset,_.beginPath(),_.moveTo(fe.x,fe.y),_.lineTo(Re.x,Re.y),_.stroke(),_.restore())};if(f.display)for(L=0,z=I.length;L<z;++L){const fe=I[L];f.drawOnChartArea&&$({x:fe.x1,y:fe.y1},{x:fe.x2,y:fe.y2},fe),f.drawTicks&&$({x:fe.tx1,y:fe.ty1},{x:fe.tx2,y:fe.ty2},{color:fe.tickColor,width:fe.tickWidth,borderDash:fe.tickBorderDash,borderDashOffset:fe.tickBorderDashOffset})}}drawBorder(){const{chart:c,ctx:f,options:{border:_,grid:I}}=this,L=_.setContext(this.getContext()),z=_.display?L.width:0;if(!z)return;const $=I.setContext(this.getContext(0)).lineWidth,fe=this._borderValue;let Re,rt,wt,Ut;this.isHorizontal()?(Re=fr(c,this.left,z)-z/2,rt=fr(c,this.right,$)+$/2,wt=Ut=fe):(wt=fr(c,this.top,z)-z/2,Ut=fr(c,this.bottom,$)+$/2,Re=rt=fe),f.save(),f.lineWidth=L.width,f.strokeStyle=L.color,f.beginPath(),f.moveTo(Re,wt),f.lineTo(rt,Ut),f.stroke(),f.restore()}drawLabels(c){if(!this.options.ticks.display)return;const _=this.ctx,I=this._computeLabelArea();I&&Ss(_,I);const L=this.getLabelItems(c);for(const z of L)xs(_,z.label,0,z.textOffset,z.font,z.options);I&&ks(_)}drawTitle(){const{ctx:c,options:{position:f,title:_,reverse:I}}=this;if(!_.display)return;const L=kn(_.font),z=Ht(_.padding),$=_.align;let fe=L.lineHeight/2;"bottom"===f||"center"===f||xe(f)?(fe+=z.bottom,ut(_.text)&&(fe+=L.lineHeight*(_.text.length-1))):fe+=z.top;const{titleX:Re,titleY:rt,maxWidth:wt,rotation:Ut}=function Jd(m,c,f,_){const{top:I,left:L,bottom:z,right:$,chart:fe}=m,{chartArea:Re,scales:rt}=fe;let Ut,en,nn,wt=0;const vn=z-I,In=$-L;if(m.isHorizontal()){if(en=Oo(_,L,$),xe(f)){const Un=Object.keys(f)[0];nn=rt[Un].getPixelForValue(f[Un])+vn-c}else nn="center"===f?(Re.bottom+Re.top)/2+vn-c:Ei(m,f,c);Ut=$-L}else{if(xe(f)){const Un=Object.keys(f)[0];en=rt[Un].getPixelForValue(f[Un])-In+c}else en="center"===f?(Re.left+Re.right)/2-In+c:Ei(m,f,c);nn=Oo(_,z,I),wt="left"===f?-rn:rn}return{titleX:en,titleY:nn,maxWidth:Ut,rotation:wt}}(this,fe,f,$);xs(c,_.text,0,0,L,{color:_.color,maxWidth:wt,rotation:Ut,textAlign:rc($,f,I),textBaseline:"middle",translation:[Re,rt]})}draw(c){!this._isVisible()||(this.drawBackground(),this.drawGrid(c),this.drawBorder(),this.drawTitle(),this.drawLabels(c))}_layers(){const c=this.options,f=c.ticks&&c.ticks.z||0,_=gt(c.grid&&c.grid.z,-1),I=gt(c.border&&c.border.z,0);return this._isVisible()&&this.draw===Er.prototype.draw?[{z:_,draw:L=>{this.drawBackground(),this.drawGrid(L),this.drawTitle()}},{z:I,draw:()=>{this.drawBorder()}},{z:f,draw:L=>{this.drawLabels(L)}}]:[{z:f,draw:L=>{this.draw(L)}}]}getMatchingVisibleMetas(c){const f=this.chart.getSortedVisibleDatasetMetas(),_=this.axis+"AxisID",I=[];let L,z;for(L=0,z=f.length;L<z;++L){const $=f[L];$[_]===this.id&&(!c||$.type===c)&&I.push($)}return I}_resolveTickFontOptions(c){return kn(this.options.ticks.setContext(this.getContext(c)).font)}_maxDigits(){const c=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/c}}class il{constructor(c,f,_){this.type=c,this.scope=f,this.override=_,this.items=Object.create(null)}isForType(c){return Object.prototype.isPrototypeOf.call(this.type.prototype,c.prototype)}register(c){const f=Object.getPrototypeOf(c);let _;(function Sr(m){return"id"in m&&"defaults"in m})(f)&&(_=this.register(f));const I=this.items,L=c.id,z=this.scope+"."+L;if(!L)throw new Error("class does not have id: "+c);return L in I||(I[L]=c,function un(m,c,f){const _=Ze(Object.create(null),[f?Yi.get(f):{},Yi.get(c),m.defaults]);Yi.set(c,_),m.defaultRoutes&&function Ol(m,c){Object.keys(c).forEach(f=>{const _=f.split("."),I=_.pop(),L=[m].concat(_).join("."),z=c[f].split("."),$=z.pop(),fe=z.join(".");Yi.route(L,I,fe,$)})}(c,m.defaultRoutes),m.descriptors&&Yi.describe(c,m.descriptors)}(c,z,_),this.override&&Yi.override(c.id,c.overrides)),z}get(c){return this.items[c]}unregister(c){const f=this.items,_=c.id,I=this.scope;_ in f&&delete f[_],I&&_ in Yi[I]&&(delete Yi[I][_],this.override&&delete jo[_])}}class Go{constructor(){this.controllers=new il(uo,"datasets",!0),this.elements=new il(La,"elements"),this.plugins=new il(Object,"plugins"),this.scales=new il(Er,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...c){this._each("register",c)}remove(...c){this._each("unregister",c)}addControllers(...c){this._each("register",c,this.controllers)}addElements(...c){this._each("register",c,this.elements)}addPlugins(...c){this._each("register",c,this.plugins)}addScales(...c){this._each("register",c,this.scales)}getController(c){return this._get(c,this.controllers,"controller")}getElement(c){return this._get(c,this.elements,"element")}getPlugin(c){return this._get(c,this.plugins,"plugin")}getScale(c){return this._get(c,this.scales,"scale")}removeControllers(...c){this._each("unregister",c,this.controllers)}removeElements(...c){this._each("unregister",c,this.elements)}removePlugins(...c){this._each("unregister",c,this.plugins)}removeScales(...c){this._each("unregister",c,this.scales)}_each(c,f,_){[...f].forEach(I=>{const L=_||this._getRegistryForType(I);_||L.isForType(I)||L===this.plugins&&I.id?this._exec(c,L,I):Oe(I,z=>{const $=_||this._getRegistryForType(z);this._exec(c,$,z)})})}_exec(c,f,_){const I=me(c);Ot(_["before"+I],[],_),f[c](_),Ot(_["after"+I],[],_)}_getRegistryForType(c){for(let f=0;f<this._typedRegistries.length;f++){const _=this._typedRegistries[f];if(_.isForType(c))return _}return this.plugins}_get(c,f,_){const I=f.get(c);if(void 0===I)throw new Error('"'+c+'" is not a registered '+_+".");return I}}var qr=new Go;class Pl{constructor(){this._init=[]}notify(c,f,_,I){"beforeInit"===f&&(this._init=this._createDescriptors(c,!0),this._notify(this._init,c,"install"));const L=I?this._descriptors(c).filter(I):this._descriptors(c),z=this._notify(L,c,f,_);return"afterDestroy"===f&&(this._notify(L,c,"stop"),this._notify(this._init,c,"uninstall")),z}_notify(c,f,_,I){I=I||{};for(const L of c){const z=L.plugin;if(!1===Ot(z[_],[f,I,L.options],z)&&I.cancelable)return!1}return!0}invalidate(){ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(c){if(this._cache)return this._cache;const f=this._cache=this._createDescriptors(c);return this._notifyStateChanges(c),f}_createDescriptors(c,f){const _=c&&c.config,I=gt(_.options&&_.options.plugins,{}),L=function Fc(m){const c={},f=[],_=Object.keys(qr.plugins.items);for(let L=0;L<_.length;L++)f.push(qr.getPlugin(_[L]));const I=m.plugins||[];for(let L=0;L<I.length;L++){const z=I[L];-1===f.indexOf(z)&&(f.push(z),c[z.id]=!0)}return{plugins:f,localIds:c}}(_);return!1!==I||f?function ju(m,{plugins:c,localIds:f},_,I){const L=[],z=m.getContext();for(const $ of c){const fe=$.id,Re=Qp(_[fe],I);null!==Re&&L.push({plugin:$,options:pa(m.config,{plugin:$,local:f[fe]},Re,z)})}return L}(c,L,I,f):[]}_notifyStateChanges(c){const f=this._oldCache||[],_=this._cache,I=(L,z)=>L.filter($=>!z.some(fe=>$.plugin.id===fe.plugin.id));this._notify(I(f,_),c,"stop"),this._notify(I(_,f),c,"start")}}function Qp(m,c){return c||!1!==m?!0===m?{}:m:null}function pa(m,{plugin:c,local:f},_,I){const L=m.pluginScopeKeys(c),z=m.getOptionScopes(_,L);return f&&c.defaults&&z.push(c.defaults),m.createResolver(z,I,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ac(m,c){return((c.datasets||{})[m]||{}).indexAxis||c.indexAxis||(Yi.datasets[m]||{}).indexAxis||"x"}function Bc(m){if("x"===m||"y"===m||"r"===m)return m}function fl(m){return"top"===m||"bottom"===m?"x":"left"===m||"right"===m?"y":void 0}function lc(m,...c){if(Bc(m))return m;for(const f of c){const _=f.axis||fl(f.position)||m.length>1&&Bc(m[0].toLowerCase());if(_)return _}throw new Error(`Cannot determine type of '${m}' axis. Please provide 'axis' or 'position' option.`)}function $u(m,c,f){if(f[c+"AxisID"]===m)return{axis:c}}function fu(m){const c=m.options||(m.options={});c.plugins=gt(c.plugins,{}),c.scales=function Qd(m,c){const f=jo[m.type]||{scales:{}},_=c.scales||{},I=ac(m.type,c),L=Object.create(null);return Object.keys(_).forEach(z=>{const $=_[z];if(!xe($))return console.error(`Invalid scale configuration for scale: ${z}`);if($._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${z}`);const fe=lc(z,$,function Ga(m,c){if(c.data&&c.data.datasets){const f=c.data.datasets.filter(_=>_.xAxisID===m||_.yAxisID===m);if(f.length)return $u(m,"x",f[0])||$u(m,"y",f[0])}return{}}(z,m),Yi.scales[$.type]),Re=function gu(m,c){return m===c?"_index_":"_value_"}(fe,I),rt=f.scales||{};L[z]=Ce(Object.create(null),[{axis:fe},$,rt[fe],rt[Re]])}),m.data.datasets.forEach(z=>{const $=z.type||m.type,fe=z.indexAxis||ac($,c),rt=(jo[$]||{}).scales||{};Object.keys(rt).forEach(wt=>{const Ut=function Ku(m,c){let f=m;return"_index_"===m?f=c:"_value_"===m&&(f="x"===c?"y":"x"),f}(wt,fe),en=z[Ut+"AxisID"]||Ut;L[en]=L[en]||Object.create(null),Ce(L[en],[{axis:Ut},_[en],rt[wt]])})}),Object.keys(L).forEach(z=>{const $=L[z];Ce($,[Yi.scales[$.type],Yi.scale])}),L}(m,c)}function qu(m){return(m=m||{}).datasets=m.datasets||[],m.labels=m.labels||[],m}const Wd=new Map,Zc=new Set;function mu(m,c){let f=Wd.get(m);return f||(f=c(),Wd.set(m,f),Zc.add(f)),f}const _u=(m,c,f)=>{const _=Ct(c,f);void 0!==_&&m.add(_)};class wa{constructor(c){this._config=function Gd(m){return(m=m||{}).data=qu(m.data),fu(m),m}(c),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(c){this._config.type=c}get data(){return this._config.data}set data(c){this._config.data=qu(c)}get options(){return this._config.options}set options(c){this._config.options=c}get plugins(){return this._config.plugins}update(){const c=this._config;this.clearCache(),fu(c)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(c){return mu(c,()=>[[`datasets.${c}`,""]])}datasetAnimationScopeKeys(c,f){return mu(`${c}.transition.${f}`,()=>[[`datasets.${c}.transitions.${f}`,`transitions.${f}`],[`datasets.${c}`,""]])}datasetElementScopeKeys(c,f){return mu(`${c}-${f}`,()=>[[`datasets.${c}.elements.${f}`,`datasets.${c}`,`elements.${f}`,""]])}pluginScopeKeys(c){const f=c.id;return mu(`${this.type}-plugin-${f}`,()=>[[`plugins.${f}`,...c.additionalOptionScopes||[]]])}_cachedScopes(c,f){const _=this._scopeCache;let I=_.get(c);return(!I||f)&&(I=new Map,_.set(c,I)),I}getOptionScopes(c,f,_){const{options:I,type:L}=this,z=this._cachedScopes(c,_),$=z.get(f);if($)return $;const fe=new Set;f.forEach(rt=>{c&&(fe.add(c),rt.forEach(wt=>_u(fe,c,wt))),rt.forEach(wt=>_u(fe,I,wt)),rt.forEach(wt=>_u(fe,jo[L]||{},wt)),rt.forEach(wt=>_u(fe,Yi,wt)),rt.forEach(wt=>_u(fe,sr,wt))});const Re=Array.from(fe);return 0===Re.length&&Re.push(Object.create(null)),Zc.has(f)&&z.set(f,Re),Re}chartOptionScopes(){const{options:c,type:f}=this;return[c,jo[f]||{},Yi.datasets[f]||{},{type:f},Yi,sr]}resolveNamedOptions(c,f,_,I=[""]){const L={$shared:!0},{resolver:z,subPrefixes:$}=Yd(this._resolverCache,c,I);let fe=z;(function Gp(m,c){const{isScriptable:f,isIndexable:_}=Is(m);for(const I of c){const L=f(I),z=_(I),$=(z||L)&&m[I];if(L&&($e($)||$h($))||z&&ut($))return!0}return!1})(z,f)&&(L.$shared=!1,fe=ki(z,_=$e(_)?_():_,this.createResolver(c,_,$)));for(const Re of f)L[Re]=fe[Re];return L}createResolver(c,f,_=[""],I){const{resolver:L}=Yd(this._resolverCache,c,_);return xe(f)?ki(L,f,void 0,I):L}}function Yd(m,c,f){let _=m.get(c);_||(_=new Map,m.set(c,_));const I=f.join();let L=_.get(I);return L||(L={resolver:Ni(c,f),subPrefixes:f.filter($=>!$.toLowerCase().includes("hover"))},_.set(I,L)),L}const $h=m=>xe(m)&&Object.getOwnPropertyNames(m).reduce((c,f)=>c||$e(m[f]),!1),gs=["top","bottom","left","right","chartArea"];function Cu(m,c){return"top"===m||"bottom"===m||-1===gs.indexOf(m)&&"x"===c}function vu(m,c){return function(f,_){return f[m]===_[m]?f[c]-_[c]:f[m]-_[m]}}function ol(m){const c=m.chart,f=c.options.animation;c.notifyPlugins("afterRender"),Ot(f&&f.onComplete,[m],c)}function Xu(m){const c=m.chart,f=c.options.animation;Ot(f&&f.onProgress,[m],c)}function cc(m){return ze()&&"string"==typeof m?m=document.getElementById(m):m&&m.length&&(m=m[0]),m&&m.canvas&&(m=m.canvas),m}const uc={},Ea=m=>{const c=cc(m);return Object.values(uc).filter(f=>f.canvas===c).pop()};function jd(m,c,f){const _=Object.keys(m);for(const I of _){const L=+I;if(L>=c){const z=m[I];delete m[I],(f>0||L>c)&&(m[L+f]=z)}}}class cr{static register(...c){qr.add(...c),dc()}static unregister(...c){qr.remove(...c),dc()}constructor(c,f){const _=this.config=new wa(f),I=cc(c),L=Ea(I);if(L)throw new Error("Canvas is already in use. Chart with ID '"+L.id+"' must be destroyed before the canvas with ID '"+L.canvas.id+"' can be reused.");const z=_.createResolver(_.chartOptionScopes(),this.getContext());this.platform=new(_.platform||function Pc(m){return!ze()||"undefined"!=typeof OffscreenCanvas&&m instanceof OffscreenCanvas?Ae:nl}(I)),this.platform.updateConfig(_);const $=this.platform.acquireContext(I,z.aspectRatio),fe=$&&$.canvas,Re=fe&&fe.height,rt=fe&&fe.width;this.id=jt(),this.ctx=$,this.canvas=fe,this.width=rt,this.height=Re,this._options=z,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function _s(m,c){let f;return function(..._){return c?(clearTimeout(f),f=setTimeout(m,c,_)):m.apply(this,_),c}}(wt=>this.update(wt),z.resizeDelay||0),this._dataChanges=[],uc[this.id]=this,$&&fe?(hs.listen(this,"complete",ol),hs.listen(this,"progress",Xu),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:c,maintainAspectRatio:f},width:_,height:I,_aspectRatio:L}=this;return ht(c)?f&&L?L:I?_/I:null:c}get data(){return this.config.data}set data(c){this.config.data=c}get options(){return this._options}set options(c){this.config.options=c}get registry(){return qr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mr(this.canvas,this.ctx),this}stop(){return hs.stop(this),this}resize(c,f){hs.running(this)?this._resizeBeforeDraw={width:c,height:f}:this._resize(c,f)}_resize(c,f){const _=this.options,z=this.platform.getMaximumSize(this.canvas,c,f,_.maintainAspectRatio&&this.aspectRatio),$=_.devicePixelRatio||this.platform.getDevicePixelRatio(),fe=this.width?"resize":"attach";this.width=z.width,this.height=z.height,this._aspectRatio=this.aspectRatio,Wr(this,$,!0)&&(this.notifyPlugins("resize",{size:z}),Ot(_.onResize,[this,z],this),this.attached&&this._doResize(fe)&&this.render())}ensureScalesHaveIDs(){Oe(this.options.scales||{},(_,I)=>{_.id=I})}buildOrUpdateScales(){const c=this.options,f=c.scales,_=this.scales,I=Object.keys(_).reduce((z,$)=>(z[$]=!1,z),{});let L=[];f&&(L=L.concat(Object.keys(f).map(z=>{const $=f[z],fe=lc(z,$),Re="r"===fe,rt="x"===fe;return{options:$,dposition:Re?"chartArea":rt?"bottom":"left",dtype:Re?"radialLinear":rt?"category":"linear"}}))),Oe(L,z=>{const $=z.options,fe=$.id,Re=lc(fe,$),rt=gt($.type,z.dtype);(void 0===$.position||Cu($.position,Re)!==Cu(z.dposition))&&($.position=z.dposition),I[fe]=!0;let wt=null;fe in _&&_[fe].type===rt?wt=_[fe]:(wt=new(qr.getScale(rt))({id:fe,type:rt,ctx:this.ctx,chart:this}),_[wt.id]=wt),wt.init($,c)}),Oe(I,(z,$)=>{z||delete _[$]}),Oe(_,z=>{yo.configure(this,z,z.options),yo.addBox(this,z)})}_updateMetasets(){const c=this._metasets,f=this.data.datasets.length,_=c.length;if(c.sort((I,L)=>I.index-L.index),_>f){for(let I=f;I<_;++I)this._destroyDatasetMeta(I);c.splice(f,_-f)}this._sortedMetasets=c.slice(0).sort(vu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:c,data:{datasets:f}}=this;c.length>f.length&&delete this._stacks,c.forEach((_,I)=>{0===f.filter(L=>L===_._dataset).length&&this._destroyDatasetMeta(I)})}buildOrUpdateControllers(){const c=[],f=this.data.datasets;let _,I;for(this._removeUnreferencedMetasets(),_=0,I=f.length;_<I;_++){const L=f[_];let z=this.getDatasetMeta(_);const $=L.type||this.config.type;if(z.type&&z.type!==$&&(this._destroyDatasetMeta(_),z=this.getDatasetMeta(_)),z.type=$,z.indexAxis=L.indexAxis||ac($,this.options),z.order=L.order||0,z.index=_,z.label=""+L.label,z.visible=this.isDatasetVisible(_),z.controller)z.controller.updateIndex(_),z.controller.linkScales();else{const fe=qr.getController($),{datasetElementType:Re,dataElementType:rt}=Yi.datasets[$];Object.assign(fe,{dataElementType:qr.getElement(rt),datasetElementType:Re&&qr.getElement(Re)}),z.controller=new fe(this,_),c.push(z.controller)}}return this._updateMetasets(),c}_resetElements(){Oe(this.data.datasets,(c,f)=>{this.getDatasetMeta(f).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(c){const f=this.config;f.update();const _=this._options=f.createResolver(f.chartOptionScopes(),this.getContext()),I=this._animationsDisabled=!_.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:c,cancelable:!0}))return;const L=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let z=0;for(let Re=0,rt=this.data.datasets.length;Re<rt;Re++){const{controller:wt}=this.getDatasetMeta(Re),Ut=!I&&-1===L.indexOf(wt);wt.buildOrUpdateElements(Ut),z=Math.max(+wt.getMaxOverflow(),z)}z=this._minPadding=_.layout.autoPadding?z:0,this._updateLayout(z),I||Oe(L,Re=>{Re.reset()}),this._updateDatasets(c),this.notifyPlugins("afterUpdate",{mode:c}),this._layers.sort(vu("z","_idx"));const{_active:$,_lastEvent:fe}=this;fe?this._eventHandler(fe,!0):$.length&&this._updateHoverStyles($,$,!0),this.render()}_updateScales(){Oe(this.scales,c=>{yo.removeBox(this,c)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const c=this.options,f=new Set(Object.keys(this._listeners)),_=new Set(c.events);(!Lt(f,_)||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:c}=this,f=this._getUniformDataChanges()||[];for(const{method:_,start:I,count:L}of f)jd(c,I,"_removeElements"===_?-L:L)}_getUniformDataChanges(){const c=this._dataChanges;if(!c||!c.length)return;this._dataChanges=[];const f=this.data.datasets.length,_=L=>new Set(c.filter(z=>z[0]===L).map((z,$)=>$+","+z.splice(1).join(","))),I=_(0);for(let L=1;L<f;L++)if(!Lt(I,_(L)))return;return Array.from(I).map(L=>L.split(",")).map(L=>({method:L[1],start:+L[2],count:+L[3]}))}_updateLayout(c){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;yo.update(this,this.width,this.height,c);const f=this.chartArea,_=f.width<=0||f.height<=0;this._layers=[],Oe(this.boxes,I=>{_&&"chartArea"===I.position||(I.configure&&I.configure(),this._layers.push(...I._layers()))},this),this._layers.forEach((I,L)=>{I._idx=L}),this.notifyPlugins("afterLayout")}_updateDatasets(c){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:c,cancelable:!0})){for(let f=0,_=this.data.datasets.length;f<_;++f)this.getDatasetMeta(f).controller.configure();for(let f=0,_=this.data.datasets.length;f<_;++f)this._updateDataset(f,$e(c)?c({datasetIndex:f}):c);this.notifyPlugins("afterDatasetsUpdate",{mode:c})}}_updateDataset(c,f){const _=this.getDatasetMeta(c),I={meta:_,index:c,mode:f,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",I)&&(_.controller._update(f),I.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",I))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hs.has(this)?this.attached&&!hs.running(this)&&hs.start(this):(this.draw(),ol({chart:this})))}draw(){let c;if(this._resizeBeforeDraw){const{width:_,height:I}=this._resizeBeforeDraw;this._resize(_,I),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const f=this._layers;for(c=0;c<f.length&&f[c].z<=0;++c)f[c].draw(this.chartArea);for(this._drawDatasets();c<f.length;++c)f[c].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(c){const f=this._sortedMetasets,_=[];let I,L;for(I=0,L=f.length;I<L;++I){const z=f[I];(!c||z.visible)&&_.push(z)}return _}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const c=this.getSortedVisibleDatasetMetas();for(let f=c.length-1;f>=0;--f)this._drawDataset(c[f]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(c){const f=this.ctx,_=c._clip,I=!_.disabled,L=function $d(m){const{xScale:c,yScale:f}=m;if(c&&f)return{left:c.left,right:c.right,top:f.top,bottom:f.bottom}}(c)||this.chartArea,z={meta:c,index:c.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",z)&&(I&&Ss(f,{left:!1===_.left?0:L.left-_.left,right:!1===_.right?this.width:L.right+_.right,top:!1===_.top?0:L.top-_.top,bottom:!1===_.bottom?this.height:L.bottom+_.bottom}),c.controller.draw(),I&&ks(f),z.cancelable=!1,this.notifyPlugins("afterDatasetDraw",z))}isPointInArea(c){return ys(c,this.chartArea,this._minPadding)}getElementsAtEventForMode(c,f,_,I){const L=Ud.modes[f];return"function"==typeof L?L(this,c,_,I):[]}getDatasetMeta(c){const f=this.data.datasets[c],_=this._metasets;let I=_.filter(L=>L&&L._dataset===f).pop();return I||(I={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:f&&f.order||0,index:c,_dataset:f,_parsed:[],_sorted:!1},_.push(I)),I}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(c){const f=this.data.datasets[c];if(!f)return!1;const _=this.getDatasetMeta(c);return"boolean"==typeof _.hidden?!_.hidden:!f.hidden}setDatasetVisibility(c,f){this.getDatasetMeta(c).hidden=!f}toggleDataVisibility(c){this._hiddenIndices[c]=!this._hiddenIndices[c]}getDataVisibility(c){return!this._hiddenIndices[c]}_updateVisibility(c,f,_){const I=_?"show":"hide",L=this.getDatasetMeta(c),z=L.controller._resolveAnimations(void 0,I);lt(f)?(L.data[f].hidden=!_,this.update()):(this.setDatasetVisibility(c,_),z.update(L,{visible:_}),this.update($=>$.datasetIndex===c?I:void 0))}hide(c,f){this._updateVisibility(c,f,!1)}show(c,f){this._updateVisibility(c,f,!0)}_destroyDatasetMeta(c){const f=this._metasets[c];f&&f.controller&&f.controller._destroy(),delete this._metasets[c]}_stop(){let c,f;for(this.stop(),hs.remove(this),c=0,f=this.data.datasets.length;c<f;++c)this._destroyDatasetMeta(c)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:c,ctx:f}=this;this._stop(),this.config.clearCache(),c&&(this.unbindEvents(),Mr(c,f),this.platform.releaseContext(f),this.canvas=null,this.ctx=null),delete uc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...c){return this.canvas.toDataURL(...c)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const c=this._listeners,f=this.platform,_=(L,z)=>{f.addEventListener(this,L,z),c[L]=z},I=(L,z,$)=>{L.offsetX=z,L.offsetY=$,this._eventHandler(L)};Oe(this.options.events,L=>_(L,I))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const c=this._responsiveListeners,f=this.platform,_=(fe,Re)=>{f.addEventListener(this,fe,Re),c[fe]=Re},I=(fe,Re)=>{c[fe]&&(f.removeEventListener(this,fe,Re),delete c[fe])},L=(fe,Re)=>{this.canvas&&this.resize(fe,Re)};let z;const $=()=>{I("attach",$),this.attached=!0,this.resize(),_("resize",L),_("detach",z)};z=()=>{this.attached=!1,I("resize",L),this._stop(),this._resize(0,0),_("attach",$)},f.isAttached(this.canvas)?$():z()}unbindEvents(){Oe(this._listeners,(c,f)=>{this.platform.removeEventListener(this,f,c)}),this._listeners={},Oe(this._responsiveListeners,(c,f)=>{this.platform.removeEventListener(this,f,c)}),this._responsiveListeners=void 0}updateHoverStyle(c,f,_){const I=_?"set":"remove";let L,z,$,fe;for("dataset"===f&&(L=this.getDatasetMeta(c[0].datasetIndex),L.controller["_"+I+"DatasetHoverStyle"]()),$=0,fe=c.length;$<fe;++$){z=c[$];const Re=z&&this.getDatasetMeta(z.datasetIndex).controller;Re&&Re[I+"HoverStyle"](z.element,z.datasetIndex,z.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const f=this._active||[],_=c.map(({datasetIndex:L,index:z})=>{const $=this.getDatasetMeta(L);if(!$)throw new Error("No dataset found at index "+L);return{datasetIndex:L,element:$.data[z],index:z}});!et(_,f)&&(this._active=_,this._lastEvent=null,this._updateHoverStyles(_,f))}notifyPlugins(c,f,_){return this._plugins.notify(this,c,f,_)}isPluginEnabled(c){return 1===this._plugins._cache.filter(f=>f.plugin.id===c).length}_updateHoverStyles(c,f,_){const I=this.options.hover,L=(fe,Re)=>fe.filter(rt=>!Re.some(wt=>rt.datasetIndex===wt.datasetIndex&&rt.index===wt.index)),z=L(f,c),$=_?c:L(c,f);z.length&&this.updateHoverStyle(z,I.mode,!1),$.length&&I.mode&&this.updateHoverStyle($,I.mode,!0)}_eventHandler(c,f){const _={event:c,replay:f,cancelable:!0,inChartArea:this.isPointInArea(c)},I=z=>(z.options.events||this.options.events).includes(c.native.type);if(!1===this.notifyPlugins("beforeEvent",_,I))return;const L=this._handleEvent(c,f,_.inChartArea);return _.cancelable=!1,this.notifyPlugins("afterEvent",_,I),(L||_.changed)&&this.render(),this}_handleEvent(c,f,_){const{_active:I=[],options:L}=this,$=this._getActiveElements(c,I,_,f),fe=function je(m){return"mouseup"===m.type||"click"===m.type||"contextmenu"===m.type}(c),Re=function Kd(m,c,f,_){return f&&"mouseout"!==m.type?_?c:m:null}(c,this._lastEvent,_,fe);_&&(this._lastEvent=null,Ot(L.onHover,[c,$,this],this),fe&&Ot(L.onClick,[c,$,this],this));const rt=!et($,I);return(rt||f)&&(this._active=$,this._updateHoverStyles($,I,f)),this._lastEvent=Re,rt}_getActiveElements(c,f,_,I){if("mouseout"===c.type)return[];if(!_)return f;const L=this.options.hover;return this.getElementsAtEventForMode(c,L.mode,L,I)}}function dc(){return Oe(cr.instances,m=>m._plugins.invalidate())}function Rl(m,c,f,_){return{x:f+m*Math.cos(c),y:_+m*Math.sin(c)}}function yu(m,c,f,_,I,L){const{x:z,y:$,startAngle:fe,pixelMargin:Re,innerRadius:rt}=c,wt=Math.max(c.outerRadius+_+f-Re,0),Ut=rt>0?rt+_+f+Re:0;let en=0;const nn=I-fe;if(_){const nr=((rt>0?rt-_:0)+(wt>0?wt-_:0))/2;en=(nn-(0!==nr?nn*nr/(nr+_):nn))/2}const In=(nn-Math.max(.001,nn*wt-f/sn)/wt)/2,Un=fe+In+en,Jn=I-In-en,{outerStart:qn,outerEnd:ei,innerStart:Yn,innerEnd:ui}=function bu(m,c,f,_){const I=function Xd(m){return ne(m,["outerStart","outerEnd","innerStart","innerEnd"])}(m.options.borderRadius),L=(f-c)/2,z=Math.min(L,_*c/2),$=fe=>{const Re=(f-Math.min(L,fe))*_/2;return li(fe,0,Math.min(L,Re))};return{outerStart:$(I.outerStart),outerEnd:$(I.outerEnd),innerStart:li(I.innerStart,0,z),innerEnd:li(I.innerEnd,0,z)}}(c,Ut,wt,Jn-Un),fi=wt-qn,_i=wt-ei,Fi=Un+qn/fi,co=Jn-ei/_i,po=Ut+Yn,Do=Ut+ui,Br=Un+Yn/po,Fa=Jn-ui/Do;if(m.beginPath(),L){const Ko=(Fi+co)/2;if(m.arc(z,$,wt,Fi,Ko),m.arc(z,$,wt,Ko,co),ei>0){const ir=Rl(_i,co,z,$);m.arc(ir.x,ir.y,ei,co,Jn+rn)}const fs=Rl(Do,Jn,z,$);if(m.lineTo(fs.x,fs.y),ui>0){const ir=Rl(Do,Fa,z,$);m.arc(ir.x,ir.y,ui,Jn+rn,Fa+Math.PI)}const nr=(Jn-ui/Ut+(Un+Yn/Ut))/2;if(m.arc(z,$,Ut,Jn-ui/Ut,nr,!0),m.arc(z,$,Ut,nr,Un+Yn/Ut,!0),Yn>0){const ir=Rl(po,Br,z,$);m.arc(ir.x,ir.y,Yn,Br+Math.PI,Un-rn)}const Ba=Rl(fi,Un,z,$);if(m.lineTo(Ba.x,Ba.y),qn>0){const ir=Rl(fi,Fi,z,$);m.arc(ir.x,ir.y,qn,Un-rn,Fi)}}else{m.moveTo(z,$);const Ko=Math.cos(Fi)*wt+z,fs=Math.sin(Fi)*wt+$;m.lineTo(Ko,fs);const nr=Math.cos(co)*wt+z,Ba=Math.sin(co)*wt+$;m.lineTo(nr,Ba)}m.closePath()}gi(cr,"defaults",Yi),gi(cr,"instances",uc),gi(cr,"overrides",jo),gi(cr,"registry",qr),gi(cr,"version","4.3.3"),gi(cr,"getChart",Ea);class Nl extends La{constructor(f){super(),gi(this,"circumference"),gi(this,"endAngle"),gi(this,"fullCircles"),gi(this,"innerRadius"),gi(this,"outerRadius"),gi(this,"pixelMargin"),gi(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,f&&Object.assign(this,f)}inRange(f,_,I){const L=this.getProps(["x","y"],I),{angle:z,distance:$}=xn(L,{x:f,y:_}),{startAngle:fe,endAngle:Re,innerRadius:rt,outerRadius:wt,circumference:Ut}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],I),en=(this.options.spacing+this.options.borderWidth)/2,vn=gt(Ut,Re-fe)>=fn||ti(z,fe,Re),In=oi($,rt+en,wt+en);return vn&&In}getCenterPoint(f){const{x:_,y:I,startAngle:L,endAngle:z,innerRadius:$,outerRadius:fe}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],f),{offset:Re,spacing:rt}=this.options,wt=(L+z)/2,Ut=($+fe+rt+Re)/2;return{x:_+Math.cos(wt)*Ut,y:I+Math.sin(wt)*Ut}}tooltipPosition(f){return this.getCenterPoint(f)}draw(f){const{options:_,circumference:I}=this,L=(_.offset||0)/4,z=(_.spacing||0)/2,$=_.circular;if(this.pixelMargin="inner"===_.borderAlign?.33:0,this.fullCircles=I>fn?Math.floor(I/fn):0,0===I||this.innerRadius<0||this.outerRadius<0)return;f.save();const fe=(this.startAngle+this.endAngle)/2;f.translate(Math.cos(fe)*L,Math.sin(fe)*L);const rt=L*(1-Math.sin(Math.min(sn,I||0)));f.fillStyle=_.backgroundColor,f.strokeStyle=_.borderColor,function ed(m,c,f,_,I){const{fullCircles:L,startAngle:z,circumference:$}=c;let fe=c.endAngle;if(L){yu(m,c,f,_,fe,I);for(let Re=0;Re<L;++Re)m.fill();isNaN($)||(fe=z+($%fn||fn))}yu(m,c,f,_,fe,I),m.fill()}(f,this,rt,z,$),function Xr(m,c,f,_,I){const{fullCircles:L,startAngle:z,circumference:$,options:fe}=c,{borderWidth:Re,borderJoinStyle:rt,borderDash:wt,borderDashOffset:Ut}=fe,en="inner"===fe.borderAlign;if(!Re)return;m.setLineDash(wt||[]),m.lineDashOffset=Ut,en?(m.lineWidth=2*Re,m.lineJoin=rt||"round"):(m.lineWidth=Re,m.lineJoin=rt||"bevel");let nn=c.endAngle;if(L){yu(m,c,f,_,nn,I);for(let vn=0;vn<L;++vn)m.stroke();isNaN($)||(nn=z+($%fn||fn))}en&&function qd(m,c,f){const{startAngle:_,pixelMargin:I,x:L,y:z,outerRadius:$,innerRadius:fe}=c;let Re=I/$;m.beginPath(),m.arc(L,z,$,_-Re,f+Re),fe>I?(Re=I/fe,m.arc(L,z,fe,f+Re,_-Re,!0)):m.arc(L,z,I,f+rn,_-rn),m.closePath(),m.clip()}(m,c,nn),L||(yu(m,c,f,_,nn,I),m.stroke())}(f,this,rt,z,$),f.restore()}}function td(m,c,f=c){m.lineCap=gt(f.borderCapStyle,c.borderCapStyle),m.setLineDash(gt(f.borderDash,c.borderDash)),m.lineDashOffset=gt(f.borderDashOffset,c.borderDashOffset),m.lineJoin=gt(f.borderJoinStyle,c.borderJoinStyle),m.lineWidth=gt(f.borderWidth,c.borderWidth),m.strokeStyle=gt(f.borderColor,c.borderColor)}function ep(m,c,f){m.lineTo(f.x,f.y)}function pc(m,c,f={}){const _=m.length,{start:I=0,end:L=_-1}=f,{start:z,end:$}=c,fe=Math.max(I,z),Re=Math.min(L,$);return{count:_,start:fe,loop:c.loop,ilen:Re<fe&&!(I<z&&L<z||I>$&&L>$)?_+Re-fe:Re-fe}}function nd(m,c,f,_){const{points:I,options:L}=c,{count:z,start:$,loop:fe,ilen:Re}=pc(I,f,_),rt=function Nr(m){return m.stepped?Vs:m.tension||"monotone"===m.cubicInterpolationMode?ia:ep}(L);let en,nn,vn,{move:wt=!0,reverse:Ut}=_||{};for(en=0;en<=Re;++en)nn=I[($+(Ut?Re-en:en))%z],!nn.skip&&(wt?(m.moveTo(nn.x,nn.y),wt=!1):rt(m,vn,nn,Ut,L.stepped),vn=nn);return fe&&(nn=I[($+(Ut?Re:0))%z],rt(m,vn,nn,Ut,L.stepped)),!!fe}function Wp(m,c,f,_){const I=c.points,{count:L,start:z,ilen:$}=pc(I,f,_),{move:fe=!0,reverse:Re}=_||{};let Ut,en,nn,vn,In,Un,rt=0,wt=0;const Jn=ei=>(z+(Re?$-ei:ei))%L,qn=()=>{vn!==In&&(m.lineTo(rt,In),m.lineTo(rt,vn),m.lineTo(rt,Un))};for(fe&&(en=I[Jn(0)],m.moveTo(en.x,en.y)),Ut=0;Ut<=$;++Ut){if(en=I[Jn(Ut)],en.skip)continue;const ei=en.x,Yn=en.y,ui=0|ei;ui===nn?(Yn<vn?vn=Yn:Yn>In&&(In=Yn),rt=(wt*rt+ei)/++wt):(qn(),m.lineTo(ei,Yn),nn=ui,wt=0,vn=In=Yn),Un=Yn}qn()}function hc(m){const c=m.options;return m._decimated||m._loop||c.tension||"monotone"===c.cubicInterpolationMode||c.stepped||c.borderDash&&c.borderDash.length?nd:Wp}gi(Nl,"id","arc"),gi(Nl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),gi(Nl,"defaultRoutes",{backgroundColor:"backgroundColor"}),gi(Nl,"descriptors",{_scriptable:!0,_indexable:f=>"borderDash"!==f});const id="function"==typeof Path2D;class Wa extends La{constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,f){const _=this.options;!_.tension&&"monotone"!==_.cubicInterpolationMode||_.stepped||this._pointsUpdated||(st(this._points,_,c,_.spanGaps?this._loop:this._fullLoop,f),this._pointsUpdated=!0)}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Ji(m,c){const f=m.points,_=m.options.spanGaps,I=f.length;if(!I)return[];const L=!!m._loop,{start:z,end:$}=function ao(m,c,f,_){let I=0,L=c-1;if(f&&!_)for(;I<c&&!m[I].skip;)I++;for(;I<c&&m[I].skip;)I++;for(I%=c,f&&(L+=I);L>I&&m[L%c].skip;)L--;return L%=c,{start:I,end:L}}(f,I,L,_);return function Bo(m,c,f,_){return _&&_.setContext&&f?function Ki(m,c,f,_){const I=m._chart.getContext(),L=Jo(m.options),{_datasetIndex:z,options:{spanGaps:$}}=m,fe=f.length,Re=[];let rt=L,wt=c[0].start,Ut=wt;function en(nn,vn,In,Un){const Jn=$?-1:1;if(nn!==vn){for(nn+=fe;f[nn%fe].skip;)nn-=Jn;for(;f[vn%fe].skip;)vn+=Jn;nn%fe!=vn%fe&&(Re.push({start:nn%fe,end:vn%fe,loop:In,style:Un}),rt=Un,wt=vn%fe)}}for(const nn of c){wt=$?wt:nn.start;let In,vn=f[wt%fe];for(Ut=wt+1;Ut<=nn.end;Ut++){const Un=f[Ut%fe];In=Jo(_.setContext(Zi(I,{type:"segment",p0:vn,p1:Un,p0DataIndex:(Ut-1)%fe,p1DataIndex:Ut%fe,datasetIndex:z}))),er(In,rt)&&en(wt,Ut-1,nn.loop,rt),vn=Un,rt=In}wt<Ut-1&&en(wt,Ut-1,nn.loop,rt)}return Re}(m,c,f,_):c}(m,!0===_?[{start:z,end:$,loop:L}]:function ho(m,c,f,_){const I=m.length,L=[];let fe,z=c,$=m[c];for(fe=c+1;fe<=f;++fe){const Re=m[fe%I];Re.skip||Re.stop?$.skip||(L.push({start:c%I,end:(fe-1)%I,loop:_=!1}),c=z=Re.stop?fe:null):(z=fe,$.skip&&(c=fe)),$=Re}return null!==z&&L.push({start:c%I,end:z%I,loop:_}),L}(f,z,$<z?$+I:$,!!m._fullLoop&&0===z&&$===I-1),f,c)}(this,this.options.segment))}first(){const c=this.segments;return c.length&&this.points[c[0].start]}last(){const c=this.segments,_=c.length;return _&&this.points[c[_-1].end]}interpolate(c,f){const _=this.options,I=c[f],L=this.points,z=Xi(this,{property:f,start:I,end:I});if(!z.length)return;const $=[],fe=function Uc(m){return m.stepped?Aa:m.tension||"monotone"===m.cubicInterpolationMode?Ka:yr}(_);let Re,rt;for(Re=0,rt=z.length;Re<rt;++Re){const{start:wt,end:Ut}=z[Re],en=L[wt],nn=L[Ut];if(en===nn){$.push(en);continue}const In=fe(en,nn,Math.abs((I-en[f])/(nn[f]-en[f])),_.stepped);In[f]=c[f],$.push(In)}return 1===$.length?$[0]:$}pathSegment(c,f,_){return hc(this)(c,this,f,_)}path(c,f,_){const I=this.segments,L=hc(this);let z=this._loop;f=f||0,_=_||this.points.length-f;for(const $ of I)z&=L(c,this,$,{start:f,end:f+_-1});return!!z}draw(c,f,_,I){(this.points||[]).length&&(this.options||{}).borderWidth&&(c.save(),function Iu(m,c,f,_){id&&!c.options.segment?function xu(m,c,f,_){let I=c._path;I||(I=c._path=new Path2D,c.path(I,f,_)&&I.closePath()),td(m,c.options),m.stroke(I)}(m,c,f,_):function sl(m,c,f,_){const{segments:I,options:L}=c,z=hc(c);for(const $ of I)td(m,L,$.style),m.beginPath(),z(m,c,$,{start:f,end:f+_-1})&&m.closePath(),m.stroke()}(m,c,f,_)}(c,this,_,I),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Tu(m,c,f,_){const I=m.options,{[f]:L}=m.getProps([f],_);return Math.abs(c-L)<I.radius+I.hitRadius}gi(Wa,"id","line"),gi(Wa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gi(Wa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gi(Wa,"descriptors",{_scriptable:!0,_indexable:c=>"borderDash"!==c&&"fill"!==c});class gc extends La{constructor(f){super(),gi(this,"parsed"),gi(this,"skip"),gi(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,f&&Object.assign(this,f)}inRange(f,_,I){const L=this.options,{x:z,y:$}=this.getProps(["x","y"],I);return Math.pow(f-z,2)+Math.pow(_-$,2)<Math.pow(L.hitRadius+L.radius,2)}inXRange(f,_){return Tu(this,f,"x",_)}inYRange(f,_){return Tu(this,f,"y",_)}getCenterPoint(f){const{x:_,y:I}=this.getProps(["x","y"],f);return{x:_,y:I}}size(f){let _=(f=f||this.options||{}).radius||0;return _=Math.max(_,_&&f.hoverRadius||0),2*(_+(_&&f.borderWidth||0))}draw(f,_){const I=this.options;this.skip||I.radius<.1||!ys(this,_,this.size(I)/2)||(f.strokeStyle=I.borderColor,f.lineWidth=I.borderWidth,f.fillStyle=I.backgroundColor,vs(f,I,this.x,this.y))}getRange(){const f=this.options||{};return f.radius+f.hitRadius}}function Hc(m,c){const{x:f,y:_,base:I,width:L,height:z}=m.getProps(["x","y","base","width","height"],c);let $,fe,Re,rt,wt;return m.horizontal?(wt=z/2,$=Math.min(f,I),fe=Math.max(f,I),Re=_-wt,rt=_+wt):(wt=L/2,$=f-wt,fe=f+wt,Re=Math.min(_,I),rt=Math.max(_,I)),{left:$,top:Re,right:fe,bottom:rt}}function ml(m,c,f,_){return m?0:li(c,f,_)}function Au(m,c,f,_){const I=null===c,L=null===f,$=m&&!(I&&L)&&Hc(m,_);return $&&(I||oi(c,$.left,$.right))&&(L||oi(f,$.top,$.bottom))}function zc(m,c){m.rect(c.x,c.y,c.w,c.h)}function fc(m,c,f={}){const _=m.x!==f.x?-c:0,I=m.y!==f.y?-c:0;return{x:m.x+_,y:m.y+I,w:m.w+((m.x+m.w!==f.x+f.w?c:0)-_),h:m.h+((m.y+m.h!==f.y+f.h?c:0)-I),radius:m.radius}}gi(gc,"id","point"),gi(gc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gi(gc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class _l extends La{constructor(c){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,c&&Object.assign(this,c)}draw(c){const{inflateAmount:f,options:{borderColor:_,backgroundColor:I}}=this,{inner:L,outer:z}=function Vc(m){const c=Hc(m),f=c.right-c.left,_=c.bottom-c.top,I=function Ra(m,c,f){const I=m.borderSkipped,L=Ue(m.options.borderWidth);return{t:ml(I.top,L.top,0,f),r:ml(I.right,L.right,0,c),b:ml(I.bottom,L.bottom,0,f),l:ml(I.left,L.left,0,c)}}(m,f/2,_/2),L=function od(m,c,f){const{enableBorderRadius:_}=m.getProps(["enableBorderRadius"]),I=m.options.borderRadius,L=At(I),z=Math.min(c,f),$=m.borderSkipped,fe=_||xe(I);return{topLeft:ml(!fe||$.top||$.left,L.topLeft,0,z),topRight:ml(!fe||$.top||$.right,L.topRight,0,z),bottomLeft:ml(!fe||$.bottom||$.left,L.bottomLeft,0,z),bottomRight:ml(!fe||$.bottom||$.right,L.bottomRight,0,z)}}(m,f/2,_/2);return{outer:{x:c.left,y:c.top,w:f,h:_,radius:L},inner:{x:c.left+I.l,y:c.top+I.t,w:f-I.l-I.r,h:_-I.t-I.b,radius:{topLeft:Math.max(0,L.topLeft-Math.max(I.t,I.l)),topRight:Math.max(0,L.topRight-Math.max(I.t,I.r)),bottomLeft:Math.max(0,L.bottomLeft-Math.max(I.b,I.l)),bottomRight:Math.max(0,L.bottomRight-Math.max(I.b,I.r))}}}}(this),$=function kr(m){return m.topLeft||m.topRight||m.bottomLeft||m.bottomRight}(z.radius)?_o:zc;c.save(),(z.w!==L.w||z.h!==L.h)&&(c.beginPath(),$(c,fc(z,f,L)),c.clip(),$(c,fc(L,-f,z)),c.fillStyle=_,c.fill("evenodd")),c.beginPath(),$(c,fc(L,f)),c.fillStyle=I,c.fill(),c.restore()}inRange(c,f,_){return Au(this,c,f,_)}inXRange(c,f){return Au(this,c,null,f)}inYRange(c,f){return Au(this,null,c,f)}getCenterPoint(c){const{x:f,y:_,base:I,horizontal:L}=this.getProps(["x","y","base","horizontal"],c);return{x:L?(f+I)/2:f,y:L?_:(_+I)/2}}getRange(c){return"x"===c?this.width/2:this.height/2}}gi(_l,"id","bar"),gi(_l,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gi(_l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Yp=Object.freeze({__proto__:null,ArcElement:Nl,BarElement:_l,LineElement:Wa,PointElement:gc});const Cl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],he=Cl.map(m=>m.replace("rgb(","rgba(").replace(")",", 0.5)"));function _t(m){return Cl[m%Cl.length]}function M(m){return he[m%he.length]}function Fn(m){let c;for(c in m)if(m[c].borderColor||m[c].backgroundColor)return!0;return!1}var lo={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(m,c,f){if(!f.enabled)return;const{data:{datasets:_},options:I}=m.config,{elements:L}=I;if(!f.forceOverride&&(Fn(_)||function bi(m){return m&&(m.borderColor||m.backgroundColor)}(I)||L&&Fn(L)))return;const z=function ln(m){let c=0;return(f,_)=>{const I=m.getDatasetMeta(_).controller;I instanceof Lo?c=function qe(m,c){return m.backgroundColor=m.data.map(()=>_t(c++)),c}(f,c):I instanceof Gs?c=function Et(m,c){return m.backgroundColor=m.data.map(()=>M(c++)),c}(f,c):I&&(c=function se(m,c){return m.borderColor=_t(c),m.backgroundColor=M(c),++c}(f,c))}}(m);_.forEach(z)}};function ha(m){if(m._decimated){const c=m._data;delete m._decimated,delete m._data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,writable:!0,value:c})}}function va(m){m.data.datasets.forEach(c=>{ha(c)})}var ba={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(m,c,f)=>{if(!f.enabled)return void va(m);const _=m.width;m.data.datasets.forEach((I,L)=>{const{_data:z,indexAxis:$}=I,fe=m.getDatasetMeta(L),Re=z||I.data;if("y"===En([$,m.options.indexAxis])||!fe.controller.supportsDecimation)return;const rt=m.scales[fe.xAxisID];if("linear"!==rt.type&&"time"!==rt.type||m.options.parsing)return;let nn,{start:wt,count:Ut}=function vl(m,c){const f=c.length;let I,_=0;const{iScale:L}=m,{min:z,max:$,minDefined:fe,maxDefined:Re}=L.getUserBounds();return fe&&(_=li(Wi(c,L.axis,z).lo,0,f-1)),I=Re?li(Wi(c,L.axis,$).hi+1,_,f)-_:f-_,{start:_,count:I}}(fe,Re);if(Ut<=(f.threshold||4*_))ha(I);else{switch(ht(z)&&(I._data=Re,delete I.data,Object.defineProperty(I,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(vn){this._data=vn}})),f.algorithm){case"lttb":nn=function Uo(m,c,f,_,I){const L=I.samples||_;if(L>=f)return m.slice(c,c+f);const z=[],$=(f-2)/(L-2);let fe=0;const Re=c+f-1;let wt,Ut,en,nn,vn,rt=c;for(z[fe++]=m[rt],wt=0;wt<L-2;wt++){let Jn,In=0,Un=0;const qn=Math.floor((wt+1)*$)+1+c,ei=Math.min(Math.floor((wt+2)*$)+1,f)+c,Yn=ei-qn;for(Jn=qn;Jn<ei;Jn++)In+=m[Jn].x,Un+=m[Jn].y;In/=Yn,Un/=Yn;const ui=Math.floor(wt*$)+1+c,fi=Math.min(Math.floor((wt+1)*$)+1,f)+c,{x:_i,y:Fi}=m[rt];for(en=nn=-1,Jn=ui;Jn<fi;Jn++)nn=.5*Math.abs((_i-In)*(m[Jn].y-Fi)-(_i-m[Jn].x)*(Un-Fi)),nn>en&&(en=nn,Ut=m[Jn],vn=Jn);z[fe++]=Ut,rt=vn}return z[fe++]=m[Re],z}(Re,wt,Ut,_,f);break;case"min-max":nn=function Wo(m,c,f,_){let z,$,fe,Re,rt,wt,Ut,en,nn,vn,I=0,L=0;const In=[],Jn=m[c].x,ei=m[c+f-1].x-Jn;for(z=c;z<c+f;++z){$=m[z],fe=($.x-Jn)/ei*_,Re=$.y;const Yn=0|fe;if(Yn===rt)Re<nn?(nn=Re,wt=z):Re>vn&&(vn=Re,Ut=z),I=(L*I+$.x)/++L;else{const ui=z-1;if(!ht(wt)&&!ht(Ut)){const fi=Math.min(wt,Ut),_i=Math.max(wt,Ut);fi!==en&&fi!==ui&&In.push(cb(lb({},m[fi]),{x:I})),_i!==en&&_i!==ui&&In.push(cb(lb({},m[_i]),{x:I}))}z>0&&ui!==en&&In.push(m[ui]),In.push($),rt=Yn,L=0,nn=vn=Re,wt=Ut=en=z}}return In}(Re,wt,Ut,_);break;default:throw new Error(`Unsupported decimation algorithm '${f.algorithm}'`)}I._decimated=nn}})},destroy(m){va(m)}};function rl(m,c,f,_){if(_)return;let I=c[m],L=f[m];return"angle"===m&&(I=$n(I),L=$n(L)),{property:m,start:I,end:L}}function Fl(m,c,f){for(;c>m;c--){const _=f[c];if(!isNaN(_.x)&&!isNaN(_.y))break}return c}function sd(m,c,f,_){return m&&c?_(m[f],c[f]):m?m[f]:c?c[f]:0}function rd(m,c){let f=[],_=!1;return ut(m)?(_=!0,f=m):f=function Fr(m,c){const{x:f=null,y:_=null}=m||{},I=c.points,L=[];return c.segments.forEach(({start:z,end:$})=>{$=Fl(z,$,I);const fe=I[z],Re=I[$];null!==_?(L.push({x:fe.x,y:_}),L.push({x:Re.x,y:_})):null!==f&&(L.push({x:f,y:fe.y}),L.push({x:f,y:Re.y}))}),L}(m,c),f.length?new Wa({points:f,options:{tension:0},_loop:_,_fullLoop:_}):null}function ad(m){return m&&!1!==m.fill}function Jc(m,c,f){let I=m[c].fill;const L=[c];let z;if(!f)return I;for(;!1!==I&&-1===L.indexOf(I);){if(!De(I))return I;if(z=m[I],!z)return!1;if(z.visible)return I;L.push(I),I=z.fill}return!1}function tp(m,c,f){const _=function Qc(m){const c=m.options,f=c.fill;let _=gt(f&&f.target,f);return void 0===_&&(_=!!c.backgroundColor),!1!==_&&null!==_&&(!0===_?"origin":_)}(m);if(xe(_))return!isNaN(_.value)&&_;let I=parseFloat(_);return De(I)&&Math.floor(I)===I?function np(m,c,f,_){return("-"===m||"+"===m)&&(f=c+f),!(f===c||f<0||f>=_)&&f}(_[0],c,I,f):["origin","start","end","stack","shape"].indexOf(_)>=0&&_}function Eu(m,c,f){const _=[];for(let I=0;I<f.length;I++){const L=f[I],{first:z,last:$,point:fe}=op(L,c,"x");if(!(!fe||z&&$))if(z)_.unshift(fe);else if(m.push(fe),!$)break}m.push(..._)}function op(m,c,f){const _=m.interpolate(c,f);if(!_)return{};const I=_[f],L=m.segments,z=m.points;let $=!1,fe=!1;for(let Re=0;Re<L.length;Re++){const rt=L[Re],wt=z[rt.start][f],Ut=z[rt.end][f];if(oi(I,wt,Ut)){$=I===wt,fe=I===Ut;break}}return{first:$,last:fe,point:_}}class Bl{constructor(c){this.x=c.x,this.y=c.y,this.radius=c.radius}pathSegment(c,f,_){const{x:I,y:L,radius:z}=this;return c.arc(I,L,z,(f=f||{start:0,end:fn}).end,f.start,!0),!_.bounds}interpolate(c){const{x:f,y:_,radius:I}=this,L=c.angle;return{x:f+Math.cos(L)*I,y:_+Math.sin(L)*I,angle:L}}}function jp(m,c,f){const _=function ld(m){const{chart:c,fill:f,line:_}=m;if(De(f))return function al(m,c){const f=m.getDatasetMeta(c);return f&&m.isDatasetVisible(c)?f.dataset:null}(c,f);if("stack"===f)return function mc(m){const{scale:c,index:f,line:_}=m,I=[],L=_.segments,z=_.points,$=function Gc(m,c){const f=[],_=m.getMatchingVisibleMetas("line");for(let I=0;I<_.length;I++){const L=_[I];if(L.index===c)break;L.hidden||f.unshift(L.dataset)}return f}(c,f);$.push(rd({x:null,y:c.bottom},_));for(let fe=0;fe<L.length;fe++){const Re=L[fe];for(let rt=Re.start;rt<=Re.end;rt++)Eu(I,z[rt],$)}return new Wa({points:I,options:{}})}(m);if("shape"===f)return!0;const I=function Sa(m){return(m.scale||{}).getPointPositionForValue?function cd(m){const{scale:c,fill:f}=m,_=c.options,I=c.getLabels().length,L=_.reverse?c.max:c.min,z=function wu(m,c,f){let _;return _="start"===m?f:"end"===m?c.options.reverse?c.min:c.max:xe(m)?m.value:c.getBaseValue(),_}(f,c,L),$=[];if(_.grid.circular){const fe=c.getPointPositionForValue(0,L);return new Bl({x:fe.x,y:fe.y,radius:c.getDistanceFromCenterForValue(z)})}for(let fe=0;fe<I;++fe)$.push(c.getPointPositionForValue(fe,z));return $}(m):function qh(m){const{scale:c={},fill:f}=m,_=function ip(m,c){let f=null;return"start"===m?f=c.bottom:"end"===m?f=c.top:xe(m)?f=c.getPixelForValue(m.value):c.getBasePixel&&(f=c.getBasePixel()),f}(f,c);if(De(_)){const I=c.isHorizontal();return{x:I?_:null,y:I?null:_}}return null}(m)}(m);return I instanceof Bl?I:rd(I,_)}(c),{line:I,scale:L,axis:z}=c,$=I.options,fe=$.fill,Re=$.backgroundColor,{above:rt=Re,below:wt=Re}=fe||{};_&&I.points.length&&(Ss(m,f),function Xh(m,c){const{line:f,target:_,above:I,below:L,area:z,scale:$}=c,fe=f._loop?"angle":c.axis;m.save(),"x"===fe&&L!==I&&(Kp(m,_,z.top),ud(m,{line:f,target:_,color:I,scale:$,property:fe}),m.restore(),m.save(),Kp(m,_,z.bottom)),ud(m,{line:f,target:_,color:L,scale:$,property:fe}),m.restore()}(m,{line:I,target:_,above:rt,below:wt,area:f,scale:L,axis:z}),ks(m))}function Kp(m,c,f){const{segments:_,points:I}=c;let L=!0,z=!1;m.beginPath();for(const $ of _){const{start:fe,end:Re}=$,rt=I[fe],wt=I[Fl(fe,Re,I)];L?(m.moveTo(rt.x,rt.y),L=!1):(m.lineTo(rt.x,f),m.lineTo(rt.x,rt.y)),z=!!c.pathSegment(m,$,{move:z}),z?m.closePath():m.lineTo(wt.x,f)}m.lineTo(c.first().x,f),m.closePath(),m.clip()}function ud(m,c){const{line:f,target:_,property:I,color:L,scale:z}=c,$=function ea(m,c,f){const _=m.segments,I=m.points,L=c.points,z=[];for(const $ of _){let{start:fe,end:Re}=$;Re=Fl(fe,Re,I);const rt=rl(f,I[fe],I[Re],$.loop);if(!c.segments){z.push({source:$,target:rt,start:I[fe],end:I[Re]});continue}const wt=Xi(c,rt);for(const Ut of wt){const en=rl(f,L[Ut.start],L[Ut.end],Ut.loop),nn=ci($,I,en);for(const vn of nn)z.push({source:vn,target:Ut,start:{[f]:sd(rt,en,"start",Math.max)},end:{[f]:sd(rt,en,"end",Math.min)}})}}return z}(f,_,I);for(const{source:fe,target:Re,start:rt,end:wt}of $){const{style:{backgroundColor:Ut=L}={}}=fe,en=!0!==_;m.save(),m.fillStyle=Ut,Su(m,z,en&&rl(I,rt,wt)),m.beginPath();const nn=!!f.pathSegment(m,fe);let vn;if(en){nn?m.closePath():sp(m,_,wt,I);const In=!!_.pathSegment(m,Re,{move:nn,reverse:!0});vn=nn&&In,vn||sp(m,_,rt,I)}m.closePath(),m.fill(vn?"evenodd":"nonzero"),m.restore()}}function Su(m,c,f){const{top:_,bottom:I}=c.chart.chartArea,{property:L,start:z,end:$}=f||{};"x"===L&&(m.beginPath(),m.rect(z,_,$-z,I-_),m.clip())}function sp(m,c,f,_){const I=c.interpolate(f,_);I&&m.lineTo(I.x,I.y)}var Wc={id:"filler",afterDatasetsUpdate(m,c,f){const _=(m.data.datasets||[]).length,I=[];let L,z,$,fe;for(z=0;z<_;++z)L=m.getDatasetMeta(z),$=L.dataset,fe=null,$&&$.options&&$ instanceof Wa&&(fe={visible:m.isDatasetVisible(z),index:z,fill:tp($,z,_),chart:m,axis:L.controller.options.indexAxis,scale:L.vScale,line:$}),L.$filler=fe,I.push(fe);for(z=0;z<_;++z)fe=I[z],fe&&!1!==fe.fill&&(fe.fill=Jc(I,z,f.propagate))},beforeDraw(m,c,f){const _="beforeDraw"===f.drawTime,I=m.getSortedVisibleDatasetMetas(),L=m.chartArea;for(let z=I.length-1;z>=0;--z){const $=I[z].$filler;!$||($.line.updateControlPoints(L,$.axis),_&&$.fill&&jp(m.ctx,$,L))}},beforeDatasetsDraw(m,c,f){if("beforeDatasetsDraw"!==f.drawTime)return;const _=m.getSortedVisibleDatasetMetas();for(let I=_.length-1;I>=0;--I){const L=_[I].$filler;ad(L)&&jp(m.ctx,L,m.chartArea)}},beforeDatasetDraw(m,c,f){const _=c.meta.$filler;!ad(_)||"beforeDatasetDraw"!==f.drawTime||jp(m.ctx,_,m.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const eg=(m,c)=>{let{boxHeight:f=c,boxWidth:_=c}=m;return m.usePointStyle&&(f=Math.min(f,c),_=m.pointStyleWidth||Math.min(_,c)),{boxWidth:_,boxHeight:f,itemHeight:Math.max(c,f)}};class ga extends La{constructor(c){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,f,_){this.maxWidth=c,this.maxHeight=f,this._margins=_,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const c=this.options.labels||{};let f=Ot(c.generateLabels,[this.chart],this)||[];c.filter&&(f=f.filter(_=>c.filter(_,this.chart.data))),c.sort&&(f=f.sort((_,I)=>c.sort(_,I,this.chart.data))),this.options.reverse&&f.reverse(),this.legendItems=f}fit(){const{options:c,ctx:f}=this;if(!c.display)return void(this.width=this.height=0);const _=c.labels,I=kn(_.font),L=I.size,z=this._computeTitleHeight(),{boxWidth:$,itemHeight:fe}=eg(_,L);let Re,rt;f.font=I.string,this.isHorizontal()?(Re=this.maxWidth,rt=this._fitRows(z,L,$,fe)+10):(rt=this.maxHeight,Re=this._fitCols(z,I,$,fe)+10),this.width=Math.min(Re,c.maxWidth||this.maxWidth),this.height=Math.min(rt,c.maxHeight||this.maxHeight)}_fitRows(c,f,_,I){const{ctx:L,maxWidth:z,options:{labels:{padding:$}}}=this,fe=this.legendHitBoxes=[],Re=this.lineWidths=[0],rt=I+$;let wt=c;L.textAlign="left",L.textBaseline="middle";let Ut=-1,en=-rt;return this.legendItems.forEach((nn,vn)=>{const In=_+f/2+L.measureText(nn.text).width;(0===vn||Re[Re.length-1]+In+2*$>z)&&(wt+=rt,Re[Re.length-(vn>0?0:1)]=0,en+=rt,Ut++),fe[vn]={left:0,top:en,row:Ut,width:In,height:I},Re[Re.length-1]+=In+$}),wt}_fitCols(c,f,_,I){const{ctx:L,maxHeight:z,options:{labels:{padding:$}}}=this,fe=this.legendHitBoxes=[],Re=this.columnSizes=[],rt=z-c;let wt=$,Ut=0,en=0,nn=0,vn=0;return this.legendItems.forEach((In,Un)=>{const{itemWidth:Jn,itemHeight:qn}=function tg(m,c,f,_,I){const L=function qp(m,c,f,_){let I=m.text;return I&&"string"!=typeof I&&(I=I.reduce((L,z)=>L.length>z.length?L:z)),c+f.size/2+_.measureText(I).width}(_,m,c,f),z=function V_(m,c,f){let _=m;return"string"!=typeof c.text&&(_=Xp(c,f)),_}(I,_,c.lineHeight);return{itemWidth:L,itemHeight:z}}(_,f,L,In,I);Un>0&&en+qn+2*$>rt&&(wt+=Ut+$,Re.push({width:Ut,height:en}),nn+=Ut+$,vn++,Ut=en=0),fe[Un]={left:nn,top:en,col:vn,width:Jn,height:qn},Ut=Math.max(Ut,Jn),en+=qn+$}),wt+=Ut,Re.push({width:Ut,height:en}),wt}adjustHitBoxes(){if(!this.options.display)return;const c=this._computeTitleHeight(),{legendHitBoxes:f,options:{align:_,labels:{padding:I},rtl:L}}=this,z=mt(L,this.left,this.width);if(this.isHorizontal()){let $=0,fe=Oo(_,this.left+I,this.right-this.lineWidths[$]);for(const Re of f)$!==Re.row&&($=Re.row,fe=Oo(_,this.left+I,this.right-this.lineWidths[$])),Re.top+=this.top+c+I,Re.left=z.leftForLtr(z.x(fe),Re.width),fe+=Re.width+I}else{let $=0,fe=Oo(_,this.top+c+I,this.bottom-this.columnSizes[$].height);for(const Re of f)Re.col!==$&&($=Re.col,fe=Oo(_,this.top+c+I,this.bottom-this.columnSizes[$].height)),Re.top=fe,Re.left+=this.left+I,Re.left=z.leftForLtr(z.x(Re.left),Re.width),fe+=Re.height+I}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const c=this.ctx;Ss(c,this),this._draw(),ks(c)}}_draw(){const{options:c,columnSizes:f,lineWidths:_,ctx:I}=this,{align:L,labels:z}=c,$=Yi.color,fe=mt(c.rtl,this.left,this.width),Re=kn(z.font),{padding:rt}=z,wt=Re.size,Ut=wt/2;let en;this.drawTitle(),I.textAlign=fe.textAlign("left"),I.textBaseline="middle",I.lineWidth=.5,I.font=Re.string;const{boxWidth:nn,boxHeight:vn,itemHeight:In}=eg(z,wt),qn=this.isHorizontal(),ei=this._computeTitleHeight();en=qn?{x:Oo(L,this.left+rt,this.right-_[0]),y:this.top+rt+ei,line:0}:{x:this.left+rt,y:Oo(L,this.top+ei+rt,this.bottom-f[0].height),line:0},Ge(this.ctx,c.textDirection);const Yn=In+rt;this.legendItems.forEach((ui,fi)=>{I.strokeStyle=ui.fontColor,I.fillStyle=ui.fontColor;const _i=I.measureText(ui.text).width,Fi=fe.textAlign(ui.textAlign||(ui.textAlign=z.textAlign)),co=nn+Ut+_i;let po=en.x,Do=en.y;fe.setWidth(this.width),qn?fi>0&&po+co+rt>this.right&&(Do=en.y+=Yn,en.line++,po=en.x=Oo(L,this.left+rt,this.right-_[en.line])):fi>0&&Do+Yn>this.bottom&&(po=en.x=po+f[en.line].width+rt,en.line++,Do=en.y=Oo(L,this.top+ei+rt,this.bottom-f[en.line].height)),function(ui,fi,_i){if(isNaN(nn)||nn<=0||isNaN(vn)||vn<0)return;I.save();const Fi=gt(_i.lineWidth,1);if(I.fillStyle=gt(_i.fillStyle,$),I.lineCap=gt(_i.lineCap,"butt"),I.lineDashOffset=gt(_i.lineDashOffset,0),I.lineJoin=gt(_i.lineJoin,"miter"),I.lineWidth=Fi,I.strokeStyle=gt(_i.strokeStyle,$),I.setLineDash(gt(_i.lineDash,[])),z.usePointStyle){const co={radius:vn*Math.SQRT2/2,pointStyle:_i.pointStyle,rotation:_i.rotation,borderWidth:Fi},po=fe.xPlus(ui,nn/2);bs(I,co,po,fi+Ut,z.pointStyleWidth&&nn)}else{const co=fi+Math.max((wt-vn)/2,0),po=fe.leftForLtr(ui,nn),Do=At(_i.borderRadius);I.beginPath(),Object.values(Do).some(Br=>0!==Br)?_o(I,{x:po,y:co,w:nn,h:vn,radius:Do}):I.rect(po,co,nn,vn),I.fill(),0!==Fi&&I.stroke()}I.restore()}(fe.x(po),Do,ui),po=((m,c,f,_)=>m===(_?"left":"right")?f:"center"===m?(c+f)/2:c)(Fi,po+nn+Ut,qn?po+co:this.right,c.rtl),function(ui,fi,_i){xs(I,_i.text,ui,fi+In/2,Re,{strikethrough:_i.hidden,textAlign:fe.textAlign(_i.textAlign)})}(fe.x(po),Do,ui),qn?en.x+=co+rt:en.y+="string"!=typeof ui.text?Xp(ui,Re.lineHeight)+rt:Yn}),Mt(this.ctx,c.textDirection)}drawTitle(){const c=this.options,f=c.title,_=kn(f.font),I=Ht(f.padding);if(!f.display)return;const L=mt(c.rtl,this.left,this.width),z=this.ctx,$=f.position,Re=I.top+_.size/2;let rt,wt=this.left,Ut=this.width;if(this.isHorizontal())Ut=Math.max(...this.lineWidths),rt=this.top+Re,wt=Oo(c.align,wt,this.right-Ut);else{const nn=this.columnSizes.reduce((vn,In)=>Math.max(vn,In.height),0);rt=Re+Oo(c.align,this.top,this.bottom-nn-c.labels.padding-this._computeTitleHeight())}const en=Oo($,wt,wt+Ut);z.textAlign=L.textAlign(fo($)),z.textBaseline="middle",z.strokeStyle=f.color,z.fillStyle=f.color,z.font=_.string,xs(z,f.text,en,rt,_)}_computeTitleHeight(){const c=this.options.title,f=kn(c.font),_=Ht(c.padding);return c.display?f.lineHeight+_.height:0}_getLegendItemAt(c,f){let _,I,L;if(oi(c,this.left,this.right)&&oi(f,this.top,this.bottom))for(L=this.legendHitBoxes,_=0;_<L.length;++_)if(I=L[_],oi(c,I.left,I.left+I.width)&&oi(f,I.top,I.top+I.height))return this.legendItems[_];return null}handleEvent(c){const f=this.options;if(!function _c(m,c){return!(("mousemove"!==m&&"mouseout"!==m||!c.onHover&&!c.onLeave)&&(!c.onClick||"click"!==m&&"mouseup"!==m))}(c.type,f))return;const _=this._getLegendItemAt(c.x,c.y);if("mousemove"===c.type||"mouseout"===c.type){const I=this._hoveredItem,L=((m,c)=>null!==m&&null!==c&&m.datasetIndex===c.datasetIndex&&m.index===c.index)(I,_);I&&!L&&Ot(f.onLeave,[c,I,this],this),this._hoveredItem=_,_&&!L&&Ot(f.onHover,[c,_,this],this)}else _&&Ot(f.onClick,[c,_,this],this)}}function Xp(m,c){return c*(m.text?m.text.length:0)}var rp={id:"legend",_element:ga,start(m,c,f){const _=m.legend=new ga({ctx:m.ctx,options:f,chart:m});yo.configure(m,_,f),yo.addBox(m,_)},stop(m){yo.removeBox(m,m.legend),delete m.legend},beforeUpdate(m,c,f){const _=m.legend;yo.configure(m,_,f),_.options=f},afterUpdate(m){const c=m.legend;c.buildLabels(),c.adjustHitBoxes()},afterEvent(m,c){c.replay||m.legend.handleEvent(c.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(m,c,f){const _=c.datasetIndex,I=f.chart;I.isDatasetVisible(_)?(I.hide(_),c.hidden=!0):(I.show(_),c.hidden=!1)},onHover:null,onLeave:null,labels:{color:m=>m.chart.options.color,boxWidth:40,padding:10,generateLabels(m){const c=m.data.datasets,{labels:{usePointStyle:f,pointStyle:_,textAlign:I,color:L,useBorderRadius:z,borderRadius:$}}=m.legend.options;return m._getSortedDatasetMetas().map(fe=>{const Re=fe.controller.getStyle(f?0:void 0),rt=Ht(Re.borderWidth);return{text:c[fe.index].label,fillStyle:Re.backgroundColor,fontColor:L,hidden:!fe.visible,lineCap:Re.borderCapStyle,lineDash:Re.borderDash,lineDashOffset:Re.borderDashOffset,lineJoin:Re.borderJoinStyle,lineWidth:(rt.width+rt.height)/4,strokeStyle:Re.borderColor,pointStyle:_||Re.pointStyle,rotation:Re.rotation,textAlign:I||Re.textAlign,borderRadius:z&&($||Re.borderRadius),datasetIndex:fe.index}},this)}},title:{color:m=>m.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:m=>!m.startsWith("on"),labels:{_scriptable:m=>!["generateLabels","filter","sort"].includes(m)}}};class dd extends La{constructor(c){super(),this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,f){const _=this.options;if(this.left=0,this.top=0,!_.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=c,this.height=this.bottom=f;const I=ut(_.text)?_.text.length:1;this._padding=Ht(_.padding);const L=I*kn(_.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=L:this.width=L}isHorizontal(){const c=this.options.position;return"top"===c||"bottom"===c}_drawArgs(c){const{top:f,left:_,bottom:I,right:L,options:z}=this,$=z.align;let Re,rt,wt,fe=0;return this.isHorizontal()?(rt=Oo($,_,L),wt=f+c,Re=L-_):("left"===z.position?(rt=_+c,wt=Oo($,I,f),fe=-.5*sn):(rt=L-c,wt=Oo($,f,I),fe=.5*sn),Re=I-f),{titleX:rt,titleY:wt,maxWidth:Re,rotation:fe}}draw(){const c=this.ctx,f=this.options;if(!f.display)return;const _=kn(f.font),L=_.lineHeight/2+this._padding.top,{titleX:z,titleY:$,maxWidth:fe,rotation:Re}=this._drawArgs(L);xs(c,f.text,0,0,_,{color:f.color,maxWidth:fe,rotation:Re,textAlign:fo(f.align),textBaseline:"middle",translation:[z,$]})}}var Zl={id:"title",_element:dd,start(m,c,f){!function eh(m,c){const f=new dd({ctx:m.ctx,options:c,chart:m});yo.configure(m,f,c),yo.addBox(m,f),m.titleBlock=f}(m,f)},stop(m){yo.removeBox(m,m.titleBlock),delete m.titleBlock},beforeUpdate(m,c,f){const _=m.titleBlock;yo.configure(m,_,f),_.options=f},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Na=new WeakMap;var Df={id:"subtitle",start(m,c,f){const _=new dd({ctx:m.ctx,options:f,chart:m});yo.configure(m,_,f),yo.addBox(m,_),Na.set(m,_)},stop(m){yo.removeBox(m,Na.get(m)),Na.delete(m)},beforeUpdate(m,c,f){const _=Na.get(m);yo.configure(m,_,f),_.options=f},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ku={average(m){if(!m.length)return!1;let c,f,_=0,I=0,L=0;for(c=0,f=m.length;c<f;++c){const z=m[c].element;if(z&&z.hasValue()){const $=z.tooltipPosition();_+=$.x,I+=$.y,++L}}return{x:_/L,y:I/L}},nearest(m,c){if(!m.length)return!1;let L,z,$,f=c.x,_=c.y,I=Number.POSITIVE_INFINITY;for(L=0,z=m.length;L<z;++L){const fe=m[L].element;if(fe&&fe.hasValue()){const rt=yn(c,fe.getCenterPoint());rt<I&&(I=rt,$=fe)}}if($){const fe=$.tooltipPosition();f=fe.x,_=fe.y}return{x:f,y:_}}};function bl(m,c){return c&&(ut(c)?Array.prototype.push.apply(m,c):m.push(c)),m}function yl(m){return("string"==typeof m||m instanceof String)&&m.indexOf("\n")>-1?m.split("\n"):m}function Mf(m,c){const{element:f,datasetIndex:_,index:I}=c,L=m.getDatasetMeta(_).controller,{label:z,value:$}=L.getLabelAndValue(I);return{chart:m,label:z,parsed:L.getParsed(I),raw:m.data.datasets[_].data[I],formattedValue:$,dataset:L.getDataset(),dataIndex:I,datasetIndex:_,element:f}}function ll(m,c){const f=m.chart.ctx,{body:_,footer:I,title:L}=m,{boxWidth:z,boxHeight:$}=c,fe=kn(c.bodyFont),Re=kn(c.titleFont),rt=kn(c.footerFont),wt=L.length,Ut=I.length,en=_.length,nn=Ht(c.padding);let vn=nn.height,In=0,Un=_.reduce((ei,Yn)=>ei+Yn.before.length+Yn.lines.length+Yn.after.length,0);Un+=m.beforeBody.length+m.afterBody.length,wt&&(vn+=wt*Re.lineHeight+(wt-1)*c.titleSpacing+c.titleMarginBottom),Un&&(vn+=en*(c.displayColors?Math.max($,fe.lineHeight):fe.lineHeight)+(Un-en)*fe.lineHeight+(Un-1)*c.bodySpacing),Ut&&(vn+=c.footerMarginTop+Ut*rt.lineHeight+(Ut-1)*c.footerSpacing);let Jn=0;const qn=function(ei){In=Math.max(In,f.measureText(ei).width+Jn)};return f.save(),f.font=Re.string,Oe(m.title,qn),f.font=fe.string,Oe(m.beforeBody.concat(m.afterBody),qn),Jn=c.displayColors?z+2+c.boxPadding:0,Oe(_,ei=>{Oe(ei.before,qn),Oe(ei.lines,qn),Oe(ei.after,qn)}),Jn=0,f.font=rt.string,Oe(m.footer,qn),f.restore(),In+=nn.width,{width:In,height:vn}}function jc(m,c,f,_){const{x:I,width:L}=f,{width:z,chartArea:{left:$,right:fe}}=m;let Re="center";return"center"===_?Re=I<=($+fe)/2?"left":"right":I<=L/2?Re="left":I>=z-L/2&&(Re="right"),function ng(m,c,f,_){const{x:I,width:L}=_,z=f.caretSize+f.caretPadding;if("left"===m&&I+L+z>c.width||"right"===m&&I-L-z<0)return!0}(Re,m,c,f)&&(Re="center"),Re}function ap(m,c,f){const _=f.yAlign||c.yAlign||function Yc(m,c){const{y:f,height:_}=c;return f<_/2?"top":f>m.height-_/2?"bottom":"center"}(m,f);return{xAlign:f.xAlign||c.xAlign||jc(m,c,f,_),yAlign:_}}function ig(m,c,f,_){const{caretSize:I,caretPadding:L,cornerRadius:z}=m,{xAlign:$,yAlign:fe}=f,Re=I+L,{topLeft:rt,topRight:wt,bottomLeft:Ut,bottomRight:en}=At(z);let nn=function th(m,c){let{x:f,width:_}=m;return"right"===c?f-=_:"center"===c&&(f-=_/2),f}(c,$);const vn=function Of(m,c,f){let{y:_,height:I}=m;return"top"===c?_+=f:_-="bottom"===c?I+f:I/2,_}(c,fe,Re);return"center"===fe?"left"===$?nn+=Re:"right"===$&&(nn-=Re):"left"===$?nn-=Math.max(rt,Ut)+I:"right"===$&&(nn+=Math.max(wt,en)+I),{x:li(nn,0,_.width-c.width),y:li(vn,0,_.height-c.height)}}function pd(m,c,f){const _=Ht(f.padding);return"center"===c?m.x+m.width/2:"right"===c?m.x+m.width-_.right:m.x+_.left}function og(m){return bl([],yl(m))}function sg(m,c){const f=c&&c.dataset&&c.dataset.tooltip&&c.dataset.tooltip.callbacks;return f?m.override(f):m}const rg={beforeTitle:Xt,title(m){if(m.length>0){const c=m[0],f=c.chart.data.labels,_=f?f.length:0;if(this&&this.options&&"dataset"===this.options.mode)return c.dataset.label||"";if(c.label)return c.label;if(_>0&&c.dataIndex<_)return f[c.dataIndex]}return""},afterTitle:Xt,beforeBody:Xt,beforeLabel:Xt,label(m){if(this&&this.options&&"dataset"===this.options.mode)return m.label+": "+m.formattedValue||m.formattedValue;let c=m.dataset.label||"";c&&(c+=": ");const f=m.formattedValue;return ht(f)||(c+=f),c},labelColor(m){const f=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{borderColor:f.borderColor,backgroundColor:f.backgroundColor,borderWidth:f.borderWidth,borderDash:f.borderDash,borderDashOffset:f.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(m){const f=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{pointStyle:f.pointStyle,rotation:f.rotation}},afterLabel:Xt,afterBody:Xt,beforeFooter:Xt,footer:Xt,afterFooter:Xt};function ta(m,c,f,_){const I=m[c].call(f,_);return void 0===I?rg[c].call(f,_):I}class fa extends La{constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const f=this.chart,_=this.options.setContext(this.getContext()),I=_.enabled&&f.options.animation&&_.animations,L=new ge(this.chart,I);return I._cacheable&&(this._cachedAnimations=Object.freeze(L)),L}getContext(){return this.$context||(this.$context=function Pf(m,c,f){return Zi(m,{tooltip:c,tooltipItems:f,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,f){const{callbacks:_}=f,I=ta(_,"beforeTitle",this,c),L=ta(_,"title",this,c),z=ta(_,"afterTitle",this,c);let $=[];return $=bl($,yl(I)),$=bl($,yl(L)),$=bl($,yl(z)),$}getBeforeBody(c,f){return og(ta(f.callbacks,"beforeBody",this,c))}getBody(c,f){const{callbacks:_}=f,I=[];return Oe(c,L=>{const z={before:[],lines:[],after:[]},$=sg(_,L);bl(z.before,yl(ta($,"beforeLabel",this,L))),bl(z.lines,ta($,"label",this,L)),bl(z.after,yl(ta($,"afterLabel",this,L))),I.push(z)}),I}getAfterBody(c,f){return og(ta(f.callbacks,"afterBody",this,c))}getFooter(c,f){const{callbacks:_}=f,I=ta(_,"beforeFooter",this,c),L=ta(_,"footer",this,c),z=ta(_,"afterFooter",this,c);let $=[];return $=bl($,yl(I)),$=bl($,yl(L)),$=bl($,yl(z)),$}_createItems(c){const f=this._active,_=this.chart.data,I=[],L=[],z=[];let fe,Re,$=[];for(fe=0,Re=f.length;fe<Re;++fe)$.push(Mf(this.chart,f[fe]));return c.filter&&($=$.filter((rt,wt,Ut)=>c.filter(rt,wt,Ut,_))),c.itemSort&&($=$.sort((rt,wt)=>c.itemSort(rt,wt,_))),Oe($,rt=>{const wt=sg(c.callbacks,rt);I.push(ta(wt,"labelColor",this,rt)),L.push(ta(wt,"labelPointStyle",this,rt)),z.push(ta(wt,"labelTextColor",this,rt))}),this.labelColors=I,this.labelPointStyles=L,this.labelTextColors=z,this.dataPoints=$,$}update(c,f){const _=this.options.setContext(this.getContext()),I=this._active;let L,z=[];if(I.length){const $=ku[_.position].call(this,I,this._eventPosition);z=this._createItems(_),this.title=this.getTitle(z,_),this.beforeBody=this.getBeforeBody(z,_),this.body=this.getBody(z,_),this.afterBody=this.getAfterBody(z,_),this.footer=this.getFooter(z,_);const fe=this._size=ll(this,_),Re=Object.assign({},$,fe),rt=ap(this.chart,_,Re),wt=ig(_,Re,rt,this.chart);this.xAlign=rt.xAlign,this.yAlign=rt.yAlign,L={opacity:1,x:wt.x,y:wt.y,width:fe.width,height:fe.height,caretX:$.x,caretY:$.y}}else 0!==this.opacity&&(L={opacity:0});this._tooltipItems=z,this.$context=void 0,L&&this._resolveAnimations().update(this,L),c&&_.external&&_.external.call(this,{chart:this.chart,tooltip:this,replay:f})}drawCaret(c,f,_,I){const L=this.getCaretPosition(c,_,I);f.lineTo(L.x1,L.y1),f.lineTo(L.x2,L.y2),f.lineTo(L.x3,L.y3)}getCaretPosition(c,f,_){const{xAlign:I,yAlign:L}=this,{caretSize:z,cornerRadius:$}=_,{topLeft:fe,topRight:Re,bottomLeft:rt,bottomRight:wt}=At($),{x:Ut,y:en}=c,{width:nn,height:vn}=f;let In,Un,Jn,qn,ei,Yn;return"center"===L?(ei=en+vn/2,"left"===I?(In=Ut,Un=In-z,qn=ei+z,Yn=ei-z):(In=Ut+nn,Un=In+z,qn=ei-z,Yn=ei+z),Jn=In):(Un="left"===I?Ut+Math.max(fe,rt)+z:"right"===I?Ut+nn-Math.max(Re,wt)-z:this.caretX,"top"===L?(qn=en,ei=qn-z,In=Un-z,Jn=Un+z):(qn=en+vn,ei=qn+z,In=Un+z,Jn=Un-z),Yn=qn),{x1:In,x2:Un,x3:Jn,y1:qn,y2:ei,y3:Yn}}drawTitle(c,f,_){const I=this.title,L=I.length;let z,$,fe;if(L){const Re=mt(_.rtl,this.x,this.width);for(c.x=pd(this,_.titleAlign,_),f.textAlign=Re.textAlign(_.titleAlign),f.textBaseline="middle",z=kn(_.titleFont),$=_.titleSpacing,f.fillStyle=_.titleColor,f.font=z.string,fe=0;fe<L;++fe)f.fillText(I[fe],Re.x(c.x),c.y+z.lineHeight/2),c.y+=z.lineHeight+$,fe+1===L&&(c.y+=_.titleMarginBottom-$)}}_drawColorBox(c,f,_,I,L){const z=this.labelColors[_],$=this.labelPointStyles[_],{boxHeight:fe,boxWidth:Re}=L,rt=kn(L.bodyFont),wt=pd(this,"left",L),Ut=I.x(wt),nn=f.y+(fe<rt.lineHeight?(rt.lineHeight-fe)/2:0);if(L.usePointStyle){const vn={radius:Math.min(Re,fe)/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:1},In=I.leftForLtr(Ut,Re)+Re/2,Un=nn+fe/2;c.strokeStyle=L.multiKeyBackground,c.fillStyle=L.multiKeyBackground,vs(c,vn,In,Un),c.strokeStyle=z.borderColor,c.fillStyle=z.backgroundColor,vs(c,vn,In,Un)}else{c.lineWidth=xe(z.borderWidth)?Math.max(...Object.values(z.borderWidth)):z.borderWidth||1,c.strokeStyle=z.borderColor,c.setLineDash(z.borderDash||[]),c.lineDashOffset=z.borderDashOffset||0;const vn=I.leftForLtr(Ut,Re),In=I.leftForLtr(I.xPlus(Ut,1),Re-2),Un=At(z.borderRadius);Object.values(Un).some(Jn=>0!==Jn)?(c.beginPath(),c.fillStyle=L.multiKeyBackground,_o(c,{x:vn,y:nn,w:Re,h:fe,radius:Un}),c.fill(),c.stroke(),c.fillStyle=z.backgroundColor,c.beginPath(),_o(c,{x:In,y:nn+1,w:Re-2,h:fe-2,radius:Un}),c.fill()):(c.fillStyle=L.multiKeyBackground,c.fillRect(vn,nn,Re,fe),c.strokeRect(vn,nn,Re,fe),c.fillStyle=z.backgroundColor,c.fillRect(In,nn+1,Re-2,fe-2))}c.fillStyle=this.labelTextColors[_]}drawBody(c,f,_){const{body:I}=this,{bodySpacing:L,bodyAlign:z,displayColors:$,boxHeight:fe,boxWidth:Re,boxPadding:rt}=_,wt=kn(_.bodyFont);let Ut=wt.lineHeight,en=0;const nn=mt(_.rtl,this.x,this.width),vn=function(_i){f.fillText(_i,nn.x(c.x+en),c.y+Ut/2),c.y+=Ut+L},In=nn.textAlign(z);let Un,Jn,qn,ei,Yn,ui,fi;for(f.textAlign=z,f.textBaseline="middle",f.font=wt.string,c.x=pd(this,In,_),f.fillStyle=_.bodyColor,Oe(this.beforeBody,vn),en=$&&"right"!==In?"center"===z?Re/2+rt:Re+2+rt:0,ei=0,ui=I.length;ei<ui;++ei){for(Un=I[ei],Jn=this.labelTextColors[ei],f.fillStyle=Jn,Oe(Un.before,vn),qn=Un.lines,$&&qn.length&&(this._drawColorBox(f,c,ei,nn,_),Ut=Math.max(wt.lineHeight,fe)),Yn=0,fi=qn.length;Yn<fi;++Yn)vn(qn[Yn]),Ut=wt.lineHeight;Oe(Un.after,vn)}en=0,Ut=wt.lineHeight,Oe(this.afterBody,vn),c.y-=L}drawFooter(c,f,_){const I=this.footer,L=I.length;let z,$;if(L){const fe=mt(_.rtl,this.x,this.width);for(c.x=pd(this,_.footerAlign,_),c.y+=_.footerMarginTop,f.textAlign=fe.textAlign(_.footerAlign),f.textBaseline="middle",z=kn(_.footerFont),f.fillStyle=_.footerColor,f.font=z.string,$=0;$<L;++$)f.fillText(I[$],fe.x(c.x),c.y+z.lineHeight/2),c.y+=z.lineHeight+_.footerSpacing}}drawBackground(c,f,_,I){const{xAlign:L,yAlign:z}=this,{x:$,y:fe}=c,{width:Re,height:rt}=_,{topLeft:wt,topRight:Ut,bottomLeft:en,bottomRight:nn}=At(I.cornerRadius);f.fillStyle=I.backgroundColor,f.strokeStyle=I.borderColor,f.lineWidth=I.borderWidth,f.beginPath(),f.moveTo($+wt,fe),"top"===z&&this.drawCaret(c,f,_,I),f.lineTo($+Re-Ut,fe),f.quadraticCurveTo($+Re,fe,$+Re,fe+Ut),"center"===z&&"right"===L&&this.drawCaret(c,f,_,I),f.lineTo($+Re,fe+rt-nn),f.quadraticCurveTo($+Re,fe+rt,$+Re-nn,fe+rt),"bottom"===z&&this.drawCaret(c,f,_,I),f.lineTo($+en,fe+rt),f.quadraticCurveTo($,fe+rt,$,fe+rt-en),"center"===z&&"left"===L&&this.drawCaret(c,f,_,I),f.lineTo($,fe+wt),f.quadraticCurveTo($,fe,$+wt,fe),f.closePath(),f.fill(),I.borderWidth>0&&f.stroke()}_updateAnimationTarget(c){const f=this.chart,_=this.$animations,I=_&&_.x,L=_&&_.y;if(I||L){const z=ku[c.position].call(this,this._active,this._eventPosition);if(!z)return;const $=this._size=ll(this,c),fe=Object.assign({},z,this._size),Re=ap(f,c,fe),rt=ig(c,fe,Re,f);(I._to!==rt.x||L._to!==rt.y)&&(this.xAlign=Re.xAlign,this.yAlign=Re.yAlign,this.width=$.width,this.height=$.height,this.caretX=z.x,this.caretY=z.y,this._resolveAnimations().update(this,rt))}}_willRender(){return!!this.opacity}draw(c){const f=this.options.setContext(this.getContext());let _=this.opacity;if(!_)return;this._updateAnimationTarget(f);const I={width:this.width,height:this.height},L={x:this.x,y:this.y};_=Math.abs(_)<.001?0:_;const z=Ht(f.padding);f.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(c.save(),c.globalAlpha=_,this.drawBackground(L,c,I,f),Ge(c,f.textDirection),L.y+=z.top,this.drawTitle(L,c,f),this.drawBody(L,c,f),this.drawFooter(L,c,f),Mt(c,f.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,f){const _=this._active,I=c.map(({datasetIndex:$,index:fe})=>{const Re=this.chart.getDatasetMeta($);if(!Re)throw new Error("Cannot find a dataset at index "+$);return{datasetIndex:$,element:Re.data[fe],index:fe}}),L=!et(_,I),z=this._positionChanged(I,f);(L||z)&&(this._active=I,this._eventPosition=f,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,f,_=!0){if(f&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const I=this.options,L=this._active||[],z=this._getActiveElements(c,L,f,_),$=this._positionChanged(z,c),fe=f||!et(z,L)||$;return fe&&(this._active=z,(I.enabled||I.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,f))),fe}_getActiveElements(c,f,_,I){const L=this.options;if("mouseout"===c.type)return[];if(!I)return f;const z=this.chart.getElementsAtEventForMode(c,L.mode,L,_);return L.reverse&&z.reverse(),z}_positionChanged(c,f){const{caretX:_,caretY:I,options:L}=this,z=ku[L.position].call(this,c,f);return!1!==z&&(_!==z.x||I!==z.y)}}gi(fa,"positioners",ku);var ag=Object.freeze({__proto__:null,Colors:lo,Decimation:ba,Filler:Wc,Legend:rp,SubTitle:Df,Title:Zl,Tooltip:{id:"tooltip",_element:fa,positioners:ku,afterInit(m,c,f){f&&(m.tooltip=new fa({chart:m,options:f}))},beforeUpdate(m,c,f){m.tooltip&&m.tooltip.initialize(f)},reset(m,c,f){m.tooltip&&m.tooltip.initialize(f)},afterDraw(m){const c=m.tooltip;if(c&&c._willRender()){const f={tooltip:c};if(!1===m.notifyPlugins("beforeTooltipDraw",cb(lb({},f),{cancelable:!0})))return;c.draw(m.ctx),m.notifyPlugins("afterTooltipDraw",f)}},afterEvent(m,c){m.tooltip&&m.tooltip.handleEvent(c.event,c.replay,c.inChartArea)&&(c.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(m,c)=>c.bodyFont.size,boxWidth:(m,c)=>c.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:m=>"filter"!==m&&"itemSort"!==m&&"external"!==m,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Rf(m){const c=this.getLabels();return m>=0&&m<c.length?c[m]:m}class go extends Er{constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const f=this._addedLabels;if(f.length){const _=this.getLabels();for(const{index:I,label:L}of f)_[I]===L&&_.splice(I,1);this._addedLabels=[]}super.init(c)}parse(c,f){if(ht(c))return null;const _=this.getLabels();return((m,c)=>null===m?null:li(Math.round(m),0,c))(f=isFinite(f)&&_[f]===c?f:function lg(m,c,f,_){const I=m.indexOf(c);return-1===I?((m,c,f,_)=>("string"==typeof c?(f=m.push(c)-1,_.unshift({index:f,label:c})):isNaN(c)&&(f=null),f))(m,c,f,_):I!==m.lastIndexOf(c)?f:I}(_,c,gt(f,c),this._addedLabels),_.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:f}=this.getUserBounds();let{min:_,max:I}=this.getMinMax(!0);"ticks"===this.options.bounds&&(c||(_=0),f||(I=this.getLabels().length-1)),this.min=_,this.max=I}buildTicks(){const c=this.min,f=this.max,_=this.options.offset,I=[];let L=this.getLabels();L=0===c&&f===L.length-1?L:L.slice(c,f+1),this._valueRange=Math.max(L.length-(_?0:1),1),this._startValue=this.min-(_?.5:0);for(let z=c;z<=f;z++)I.push({value:z});return I}getLabelForValue(c){return Rf.call(this,c)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return"number"!=typeof c&&(c=this.parse(c)),null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const f=this.ticks;return c<0||c>f.length-1?null:this.getPixelForValue(f[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}}function gd(m,c,{horizontal:f,minRotation:_}){const I=Qe(_),L=(f?Math.sin(I):Math.cos(I))||.001;return Math.min(c/L,.75*c*(""+m).length)}gi(go,"id","category"),gi(go,"defaults",{ticks:{callback:Rf}});class ih extends Er{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(c,f){return ht(c)||("number"==typeof c||c instanceof Number)&&!isFinite(+c)?null:+c}handleTickRangeOptions(){const{beginAtZero:c}=this.options,{minDefined:f,maxDefined:_}=this.getUserBounds();let{min:I,max:L}=this;const z=fe=>I=f?I:fe,$=fe=>L=_?L:fe;if(c){const fe=Ci(I),Re=Ci(L);fe<0&&Re<0?$(0):fe>0&&Re>0&&z(0)}if(I===L){let fe=0===L?1:Math.abs(.05*L);$(L+fe),c||z(I-fe)}this.min=I,this.max=L}getTickLimit(){const c=this.options.ticks;let I,{maxTicksLimit:f,stepSize:_}=c;return _?(I=Math.ceil(this.max/_)-Math.floor(this.min/_)+1,I>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_} would result generating up to ${I} ticks. Limiting to 1000.`),I=1e3)):(I=this.computeTickLimit(),f=f||11),f&&(I=Math.min(f,I)),I}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const c=this.options,f=c.ticks;let _=this.getTickLimit();_=Math.max(2,_);const z=function nh(m,c){const f=[],{bounds:I,step:L,min:z,max:$,precision:fe,count:Re,maxTicks:rt,maxDigits:wt,includeBounds:Ut}=m,en=L||1,nn=rt-1,{min:vn,max:In}=c,Un=!ht(z),Jn=!ht($),qn=!ht(Re),ei=(In-vn)/(wt+1);let ui,fi,_i,Fi,Yn=oo((In-vn)/nn/en)*en;if(Yn<1e-14&&!Un&&!Jn)return[{value:vn},{value:In}];Fi=Math.ceil(In/Yn)-Math.floor(vn/Yn),Fi>nn&&(Yn=oo(Fi*Yn/nn/en)*en),ht(fe)||(ui=Math.pow(10,fe),Yn=Math.ceil(Yn*ui)/ui),"ticks"===I?(fi=Math.floor(vn/Yn)*Yn,_i=Math.ceil(In/Yn)*Yn):(fi=vn,_i=In),Un&&Jn&&L&&function Ye(m,c){const f=Math.round(m);return f-c<=m&&f+c>=m}(($-z)/L,Yn/1e3)?(Fi=Math.round(Math.min(($-z)/Yn,rt)),Yn=($-z)/Fi,fi=z,_i=$):qn?(fi=Un?z:fi,_i=Jn?$:_i,Fi=Re-1,Yn=(_i-fi)/Fi):(Fi=(_i-fi)/Yn,Fi=Qi(Fi,Math.round(Fi),Yn/1e3)?Math.round(Fi):Math.ceil(Fi));const co=Math.max(gn(Yn),gn(fi));ui=Math.pow(10,ht(fe)?co:fe),fi=Math.round(fi*ui)/ui,_i=Math.round(_i*ui)/ui;let po=0;for(Un&&(Ut&&fi!==z?(f.push({value:z}),fi<z&&po++,Qi(Math.round((fi+po*Yn)*ui)/ui,z,gd(z,ei,m))&&po++):fi<z&&po++);po<Fi;++po){const Do=Math.round((fi+po*Yn)*ui)/ui;if(Jn&&Do>$)break;f.push({value:Do})}return Jn&&Ut&&_i!==$?f.length&&Qi(f[f.length-1].value,$,gd($,ei,m))?f[f.length-1].value=$:f.push({value:$}):(!Jn||_i===$)&&f.push({value:_i}),f}({maxTicks:_,bounds:c.bounds,min:c.min,max:c.max,precision:f.precision,step:f.stepSize,count:f.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:f.minRotation||0,includeBounds:!1!==f.includeBounds},this._range||this);return"ticks"===c.bounds&&Ee(z,this,"value"),c.reverse?(z.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),z}configure(){const c=this.ticks;let f=this.min,_=this.max;if(super.configure(),this.options.offset&&c.length){const I=(_-f)/Math.max(c.length-1,1)/2;f-=I,_+=I}this._startValue=f,this._endValue=_,this._valueRange=_-f}getLabelForValue(c){return Li(c,this.chart.options.locale,this.options.ticks.format)}}class Nf extends ih{determineDataLimits(){const{min:c,max:f}=this.getMinMax(!0);this.min=De(c)?c:0,this.max=De(f)?f:1,this.handleTickRangeOptions()}computeTickLimit(){const c=this.isHorizontal(),f=c?this.width:this.height,_=Qe(this.options.ticks.minRotation),I=(c?Math.sin(_):Math.cos(_))||.001,L=this._resolveTickFontOptions(0);return Math.ceil(f/Math.min(40,L.lineHeight/I))}getPixelForValue(c){return null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getValueForPixel(c){return this._startValue+this.getDecimalForPixel(c)*this._valueRange}}gi(Nf,"id","linear"),gi(Nf,"defaults",{ticks:{callback:ws.formatters.numeric}});const Cc=m=>Math.floor(ri(m)),Kc=(m,c)=>Math.pow(10,Cc(m)+c);function cg(m){return m/Math.pow(10,Cc(m))==1}function ug(m,c,f){const _=Math.pow(10,f),I=Math.floor(m/_);return Math.ceil(c/_)-I}class fd extends Er{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(c,f){const _=ih.prototype.parse.apply(this,[c,f]);if(0!==_)return De(_)&&_>0?_:null;this._zero=!0}determineDataLimits(){const{min:c,max:f}=this.getMinMax(!0);this.min=De(c)?Math.max(0,c):null,this.max=De(f)?Math.max(0,f):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!De(this._userMin)&&(this.min=c===Kc(this.min,0)?Kc(this.min,-1):Kc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:c,maxDefined:f}=this.getUserBounds();let _=this.min,I=this.max;const L=$=>_=c?_:$,z=$=>I=f?I:$;_===I&&(_<=0?(L(1),z(10)):(L(Kc(_,-1)),z(Kc(I,1)))),_<=0&&L(Kc(I,-1)),I<=0&&z(Kc(_,1)),this.min=_,this.max=I}buildTicks(){const c=this.options,_=function $c(m,{min:c,max:f}){c=We(m.min,c);const _=[],I=Cc(c);let L=function Ff(m,c){let _=Cc(c-m);for(;ug(m,c,_)>10;)_++;for(;ug(m,c,_)<10;)_--;return Math.min(_,Cc(m))}(c,f),z=L<0?Math.pow(10,Math.abs(L)):1;const $=Math.pow(10,L),fe=I>L?Math.pow(10,I):0,Re=Math.round((c-fe)*z)/z,rt=Math.floor((c-fe)/$/10)*$*10;let wt=Math.floor((Re-rt)/Math.pow(10,L)),Ut=We(m.min,Math.round((fe+rt+wt*Math.pow(10,L))*z)/z);for(;Ut<f;)_.push({value:Ut,major:cg(Ut),significand:wt}),wt>=10?wt=wt<15?15:20:wt++,wt>=20&&(L++,wt=2,z=L>=0?1:z),Ut=Math.round((fe+rt+wt*Math.pow(10,L))*z)/z;const en=We(m.max,Ut);return _.push({value:en,major:cg(en),significand:wt}),_}({min:this._userMin,max:this._userMax},this);return"ticks"===c.bounds&&Ee(_,this,"value"),c.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}getLabelForValue(c){return void 0===c?"0":Li(c,this.chart.options.locale,this.options.ticks.format)}configure(){const c=this.min;super.configure(),this._startValue=ri(c),this._valueRange=ri(this.max)-ri(c)}getPixelForValue(c){return(void 0===c||0===c)&&(c=this.min),null===c||isNaN(c)?NaN:this.getPixelForDecimal(c===this.min?0:(ri(c)-this._startValue)/this._valueRange)}getValueForPixel(c){const f=this.getDecimalForPixel(c);return Math.pow(10,this._startValue+f*this._valueRange)}}function oh(m){const c=m.ticks;if(c.display&&m.display){const f=Ht(c.backdropPadding);return gt(c.font&&c.font.size,Yi.font.size)+f.height}return 0}function ya(m,c,f){return f=ut(f)?f:[f],{w:rr(m,c.string,f),h:f.length*c.lineHeight}}function lp(m,c,f,_,I){return m===_||m===I?{start:c-f/2,end:c+f/2}:m<_||m>I?{start:c-f,end:c}:{start:c,end:c+f}}function md(m,c,f,_,I){const L=Math.abs(Math.sin(f)),z=Math.abs(Math.cos(f));let $=0,fe=0;_.start<c.l?($=(c.l-_.start)/L,m.l=Math.min(m.l,c.l-$)):_.end>c.r&&($=(_.end-c.r)/L,m.r=Math.max(m.r,c.r+$)),I.start<c.t?(fe=(c.t-I.start)/z,m.t=Math.min(m.t,c.t-fe)):I.end>c.b&&(fe=(I.end-c.b)/z,m.b=Math.max(m.b,c.b+fe))}function sh(m,c,f){const _=m.drawingArea,{extra:I,additionalAngle:L,padding:z,size:$}=f,fe=m.getPointPosition(c,_+I+z,L),Re=Math.round(dt($n(fe.angle+rn))),rt=function Il(m,c,f){return 90===f||270===f?m-=c/2:(f>270||f<90)&&(m-=c),m}(fe.y,$.h,Re),wt=function dg(m){return 0===m||180===m?"center":m<180?"left":"right"}(Re),Ut=function rh(m,c,f){return"right"===f?m-=c:"center"===f&&(m-=c/2),m}(fe.x,$.w,wt);return{visible:!0,x:fe.x,y:rt,textAlign:wt,left:Ut,top:rt,right:Ut+$.w,bottom:rt+$.h}}function Hl(m,c){if(!c)return!0;const{left:f,top:_,right:I,bottom:L}=m;return!(ys({x:f,y:_},c)||ys({x:f,y:L},c)||ys({x:I,y:_},c)||ys({x:I,y:L},c))}function Bf(m,c,f){const{left:_,top:I,right:L,bottom:z}=f,{backdropColor:$}=c;if(!ht($)){const fe=At(c.borderRadius),Re=Ht(c.backdropPadding);m.fillStyle=$;const rt=_-Re.left,wt=I-Re.top,Ut=L-_+Re.width,en=z-I+Re.height;Object.values(fe).some(nn=>0!==nn)?(m.beginPath(),_o(m,{x:rt,y:wt,w:Ut,h:en,radius:fe}),m.fill()):m.fillRect(rt,wt,Ut,en)}}function ah(m,c,f,_){const{ctx:I}=m;if(f)I.arc(m.xCenter,m.yCenter,c,0,fn);else{let L=m.getPointPosition(0,c);I.moveTo(L.x,L.y);for(let z=1;z<_;z++)L=m.getPointPosition(z,c),I.lineTo(L.x,L.y)}}gi(fd,"id","logarithmic"),gi(fd,"defaults",{ticks:{callback:ws.formatters.logarithmic,major:{enabled:!0}}});class qc extends ih{constructor(c){super(c),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const c=this._padding=Ht(oh(this.options)/2),f=this.width=this.maxWidth-c.width,_=this.height=this.maxHeight-c.height;this.xCenter=Math.floor(this.left+f/2+c.left),this.yCenter=Math.floor(this.top+_/2+c.top),this.drawingArea=Math.floor(Math.min(f,_)/2)}determineDataLimits(){const{min:c,max:f}=this.getMinMax(!1);this.min=De(c)&&!isNaN(c)?c:0,this.max=De(f)&&!isNaN(f)?f:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oh(this.options))}generateTickLabels(c){ih.prototype.generateTickLabels.call(this,c),this._pointLabels=this.getLabels().map((f,_)=>{const I=Ot(this.options.pointLabels.callback,[f,_],this);return I||0===I?I:""}).filter((f,_)=>this.chart.getDataVisibility(_))}fit(){const c=this.options;c.display&&c.pointLabels.display?function Bs(m){const c={l:m.left+m._padding.left,r:m.right-m._padding.right,t:m.top+m._padding.top,b:m.bottom-m._padding.bottom},f=Object.assign({},c),_=[],I=[],L=m._pointLabels.length,z=m.options.pointLabels,$=z.centerPointLabels?sn/L:0;for(let fe=0;fe<L;fe++){const Re=z.setContext(m.getPointLabelContext(fe));I[fe]=Re.padding;const rt=m.getPointPosition(fe,m.drawingArea+I[fe],$),wt=kn(Re.font),Ut=ya(m.ctx,wt,m._pointLabels[fe]);_[fe]=Ut;const en=$n(m.getIndexAngle(fe)+$),nn=Math.round(dt(en));md(f,c,en,lp(nn,rt.x,Ut.w,0,180),lp(nn,rt.y,Ut.h,90,270))}m.setCenterPoint(c.l-f.l,f.r-c.r,c.t-f.t,f.b-c.b),m._pointLabelItems=function xl(m,c,f){const _=[],I=m._pointLabels.length,L=m.options,{centerPointLabels:z,display:$}=L.pointLabels,fe={extra:oh(L)/2,additionalAngle:z?sn/I:0};let Re;for(let rt=0;rt<I;rt++){fe.padding=f[rt],fe.size=c[rt];const wt=sh(m,rt,fe);_.push(wt),"auto"===$&&(wt.visible=Hl(wt,Re),wt.visible&&(Re=wt))}return _}(m,_,I)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(c,f,_,I){this.xCenter+=Math.floor((c-f)/2),this.yCenter+=Math.floor((_-I)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(c,f,_,I))}getIndexAngle(c){return $n(c*(fn/(this._pointLabels.length||1))+Qe(this.options.startAngle||0))}getDistanceFromCenterForValue(c){if(ht(c))return NaN;const f=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-c)*f:(c-this.min)*f}getValueForDistanceFromCenter(c){if(ht(c))return NaN;const f=c/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-f:this.min+f}getPointLabelContext(c){const f=this._pointLabels||[];if(c>=0&&c<f.length){const _=f[c];return function _d(m,c,f){return Zi(m,{label:f,index:c,type:"pointLabel"})}(this.getContext(),c,_)}}getPointPosition(c,f,_=0){const I=this.getIndexAngle(c)-rn+_;return{x:Math.cos(I)*f+this.xCenter,y:Math.sin(I)*f+this.yCenter,angle:I}}getPointPositionForValue(c,f){return this.getPointPosition(c,this.getDistanceFromCenterForValue(f))}getBasePosition(c){return this.getPointPositionForValue(c||0,this.getBaseValue())}getPointLabelPosition(c){const{left:f,top:_,right:I,bottom:L}=this._pointLabelItems[c];return{left:f,top:_,right:I,bottom:L}}drawBackground(){const{backgroundColor:c,grid:{circular:f}}=this.options;if(c){const _=this.ctx;_.save(),_.beginPath(),ah(this,this.getDistanceFromCenterForValue(this._endValue),f,this._pointLabels.length),_.closePath(),_.fillStyle=c,_.fill(),_.restore()}}drawGrid(){const c=this.ctx,f=this.options,{angleLines:_,grid:I,border:L}=f,z=this._pointLabels.length;let $,fe,Re;if(f.pointLabels.display&&function Zf(m,c){const{ctx:f,options:{pointLabels:_}}=m;for(let I=c-1;I>=0;I--){const L=m._pointLabelItems[I];if(!L.visible)continue;const z=_.setContext(m.getPointLabelContext(I));Bf(f,z,L);const $=kn(z.font),{x:fe,y:Re,textAlign:rt}=L;xs(f,m._pointLabels[I],fe,Re+$.lineHeight/2,$,{color:z.color,textAlign:rt,textBaseline:"middle"})}}(this,z),I.display&&this.ticks.forEach((rt,wt)=>{if(0!==wt){fe=this.getDistanceFromCenterForValue(rt.value);const Ut=this.getContext(wt),en=I.setContext(Ut),nn=L.setContext(Ut);!function pg(m,c,f,_,I){const L=m.ctx,z=c.circular,{color:$,lineWidth:fe}=c;!z&&!_||!$||!fe||f<0||(L.save(),L.strokeStyle=$,L.lineWidth=fe,L.setLineDash(I.dash),L.lineDashOffset=I.dashOffset,L.beginPath(),ah(m,f,z,_),L.closePath(),L.stroke(),L.restore())}(this,en,fe,z,nn)}}),_.display){for(c.save(),$=z-1;$>=0;$--){const rt=_.setContext(this.getPointLabelContext($)),{color:wt,lineWidth:Ut}=rt;!Ut||!wt||(c.lineWidth=Ut,c.strokeStyle=wt,c.setLineDash(rt.borderDash),c.lineDashOffset=rt.borderDashOffset,fe=this.getDistanceFromCenterForValue(f.ticks.reverse?this.min:this.max),Re=this.getPointPosition($,fe),c.beginPath(),c.moveTo(this.xCenter,this.yCenter),c.lineTo(Re.x,Re.y),c.stroke())}c.restore()}}drawBorder(){}drawLabels(){const c=this.ctx,f=this.options,_=f.ticks;if(!_.display)return;const I=this.getIndexAngle(0);let L,z;c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(I),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach(($,fe)=>{if(0===fe&&!f.reverse)return;const Re=_.setContext(this.getContext(fe)),rt=kn(Re.font);if(L=this.getDistanceFromCenterForValue(this.ticks[fe].value),Re.showLabelBackdrop){c.font=rt.string,z=c.measureText($.label).width,c.fillStyle=Re.backdropColor;const wt=Ht(Re.backdropPadding);c.fillRect(-z/2-wt.left,-L-rt.size/2-wt.top,z+wt.width,rt.size+wt.height)}xs(c,$.label,0,-L,rt,{color:Re.color,strokeColor:Re.textStrokeColor,strokeWidth:Re.textStrokeWidth})}),c.restore()}drawTitle(){}}gi(qc,"id","radialLinear"),gi(qc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ws.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:c=>c,padding:5,centerPointLabels:!1}}),gi(qc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),gi(qc,"descriptors",{angleLines:{_fallback:"grid"}});const cp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Os=Object.keys(cp);function up(m,c){return m-c}function lh(m,c){if(ht(c))return null;const f=m._adapter,{parser:_,round:I,isoWeekday:L}=m._parseOpts;let z=c;return"function"==typeof _&&(z=_(z)),De(z)||(z="string"==typeof _?f.parse(z,_):f.parse(z)),null===z?null:(I&&(z="week"!==I||!Vt(L)&&!0!==L?f.startOf(z,I):f.startOf(z,"isoWeek",L)),+z)}function ur(m,c,f,_){const I=Os.length;for(let L=Os.indexOf(m);L<I-1;++L){const z=cp[Os[L]],$=z.steps?z.steps:Number.MAX_SAFE_INTEGER;if(z.common&&Math.ceil((f-c)/($*z.size))<=_)return Os[L]}return Os[I-1]}function vc(m,c,f){if(f){if(f.length){const{lo:_,hi:I}=Mi(f,c);m[f[_]>=c?f[_]:f[I]]=!0}}else m[c]=!0}function dp(m,c,f){const _=[],I={},L=c.length;let z,$;for(z=0;z<L;++z)$=c[z],I[$]=z,_.push({value:$,major:!1});return 0!==L&&f?function Uf(m,c,f,_){const I=m._adapter,L=+I.startOf(c[0].value,_),z=c[c.length-1].value;let $,fe;for($=L;$<=z;$=+I.add($,1,_))fe=f[$],fe>=0&&(c[fe].major=!0);return c}(m,_,I,f):_}class Du extends Er{constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,f={}){const _=c.time||(c.time={}),I=this._adapter=new el__date(c.adapters.date);I.init(f),Ce(_.displayFormats,I.formats()),this._parseOpts={parser:_.parser,round:_.round,isoWeekday:_.isoWeekday},super.init(c),this._normalized=f.normalized}parse(c,f){return void 0===c?null:lh(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,f=this._adapter,_=c.time.unit||"day";let{min:I,max:L,minDefined:z,maxDefined:$}=this.getUserBounds();function fe(Re){!z&&!isNaN(Re.min)&&(I=Math.min(I,Re.min)),!$&&!isNaN(Re.max)&&(L=Math.max(L,Re.max))}(!z||!$)&&(fe(this._getLabelBounds()),("ticks"!==c.bounds||"labels"!==c.ticks.source)&&fe(this.getMinMax(!1))),I=De(I)&&!isNaN(I)?I:+f.startOf(Date.now(),_),L=De(L)&&!isNaN(L)?L:+f.endOf(Date.now(),_)+1,this.min=Math.min(I,L-1),this.max=Math.max(I+1,L)}_getLabelBounds(){const c=this.getLabelTimestamps();let f=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY;return c.length&&(f=c[0],_=c[c.length-1]),{min:f,max:_}}buildTicks(){const c=this.options,f=c.time,_=c.ticks,I="labels"===_.source?this.getLabelTimestamps():this._generate();"ticks"===c.bounds&&I.length&&(this.min=this._userMin||I[0],this.max=this._userMax||I[I.length-1]);const L=this.min,$=function ai(m,c,f){let _=0,I=m.length;for(;_<I&&m[_]<c;)_++;for(;I>_&&m[I-1]>f;)I--;return _>0||I<m.length?m.slice(_,I):m}(I,L,this.max);return this._unit=f.unit||(_.autoSkip?ur(f.minUnit,this.min,this.max,this._getLabelCapacity(L)):function Vl(m,c,f,_,I){for(let L=Os.length-1;L>=Os.indexOf(f);L--){const z=Os[L];if(cp[z].common&&m._adapter.diff(I,_,z)>=c-1)return z}return Os[f?Os.indexOf(f):0]}(this,$.length,f.minUnit,this.min,this.max)),this._majorUnit=_.major.enabled&&"year"!==this._unit?function ch(m){for(let c=Os.indexOf(m)+1,f=Os.length;c<f;++c)if(cp[Os[c]].common)return Os[c]}(this._unit):void 0,this.initOffsets(I),c.reverse&&$.reverse(),dp(this,$,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c=[]){let I,L,f=0,_=0;this.options.offset&&c.length&&(I=this.getDecimalForValue(c[0]),f=1===c.length?1-I:(this.getDecimalForValue(c[1])-I)/2,L=this.getDecimalForValue(c[c.length-1]),_=1===c.length?L:(L-this.getDecimalForValue(c[c.length-2]))/2);const z=c.length<3?.5:.25;f=li(f,0,z),_=li(_,0,z),this._offsets={start:f,end:_,factor:1/(f+1+_)}}_generate(){const c=this._adapter,f=this.min,_=this.max,I=this.options,L=I.time,z=L.unit||ur(L.minUnit,f,_,this._getLabelCapacity(f)),$=gt(I.ticks.stepSize,1),fe="week"===z&&L.isoWeekday,Re=Vt(fe)||!0===fe,rt={};let Ut,en,wt=f;if(Re&&(wt=+c.startOf(wt,"isoWeek",fe)),wt=+c.startOf(wt,Re?"day":z),c.diff(_,f,z)>1e5*$)throw new Error(f+" and "+_+" are too far apart with stepSize of "+$+" "+z);const nn="data"===I.ticks.source&&this.getDataTimestamps();for(Ut=wt,en=0;Ut<_;Ut=+c.add(Ut,$,z),en++)vc(rt,Ut,nn);return(Ut===_||"ticks"===I.bounds||1===en)&&vc(rt,Ut,nn),Object.keys(rt).sort(up).map(vn=>+vn)}getLabelForValue(c){const _=this.options.time;return this._adapter.format(c,_.tooltipFormat?_.tooltipFormat:_.displayFormats.datetime)}format(c,f){return this._adapter.format(c,f||this.options.time.displayFormats[this._unit])}_tickFormatFunction(c,f,_,I){const L=this.options,z=L.ticks.callback;if(z)return Ot(z,[c,f,_],this);const $=L.time.displayFormats,fe=this._unit,Re=this._majorUnit,wt=Re&&$[Re],Ut=_[f];return this._adapter.format(c,I||(Re&&wt&&Ut&&Ut.major?wt:fe&&$[fe]))}generateTickLabels(c){let f,_,I;for(f=0,_=c.length;f<_;++f)I=c[f],I.label=this._tickFormatFunction(I.value,f,c)}getDecimalForValue(c){return null===c?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const f=this._offsets,_=this.getDecimalForValue(c);return this.getPixelForDecimal((f.start+_)*f.factor)}getValueForPixel(c){const f=this._offsets,_=this.getDecimalForPixel(c)/f.factor-f.end;return this.min+_*(this.max-this.min)}_getLabelSize(c){const f=this.options.ticks,_=this.ctx.measureText(c).width,I=Qe(this.isHorizontal()?f.maxRotation:f.minRotation),L=Math.cos(I),z=Math.sin(I),$=this._resolveTickFontOptions(0).size;return{w:_*L+$*z,h:_*z+$*L}}_getLabelCapacity(c){const f=this.options.time,_=f.displayFormats,I=_[f.unit]||_.millisecond,L=this._tickFormatFunction(c,0,dp(this,[c],this._majorUnit),I),z=this._getLabelSize(L),$=Math.floor(this.isHorizontal()?this.width/z.w:this.height/z.h)-1;return $>0?$:1}getDataTimestamps(){let f,_,c=this._cache.data||[];if(c.length)return c;const I=this.getMatchingVisibleMetas();if(this._normalized&&I.length)return this._cache.data=I[0].controller.getAllParsedValues(this);for(f=0,_=I.length;f<_;++f)c=c.concat(I[f].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let f,_;if(c.length)return c;const I=this.getLabels();for(f=0,_=I.length;f<_;++f)c.push(lh(this,I[f]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return Co(c.sort(up))}}function Cd(m,c,f){let L,z,$,fe,_=0,I=m.length-1;f?(c>=m[_].pos&&c<=m[I].pos&&({lo:_,hi:I}=Wi(m,"pos",c)),({pos:L,time:$}=m[_]),({pos:z,time:fe}=m[I])):(c>=m[_].time&&c<=m[I].time&&({lo:_,hi:I}=Wi(m,"time",c)),({time:L,pos:$}=m[_]),({time:z,pos:fe}=m[I]));const Re=z-L;return Re?$+(fe-$)*(c-L)/Re:$}gi(Du,"id","time"),gi(Du,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class zl extends Du{constructor(c){super(c),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const c=this._getTimestampsForTable(),f=this._table=this.buildLookupTable(c);this._minPos=Cd(f,this.min),this._tableRange=Cd(f,this.max)-this._minPos,super.initOffsets(c)}buildLookupTable(c){const{min:f,max:_}=this,I=[],L=[];let z,$,fe,Re,rt;for(z=0,$=c.length;z<$;++z)Re=c[z],Re>=f&&Re<=_&&I.push(Re);if(I.length<2)return[{time:f,pos:0},{time:_,pos:1}];for(z=0,$=I.length;z<$;++z)rt=I[z+1],fe=I[z-1],Re=I[z],Math.round((rt+fe)/2)!==Re&&L.push({time:Re,pos:z/($-1)});return L}_generate(){const c=this.min,f=this.max;let _=super.getDataTimestamps();return(!_.includes(c)||!_.length)&&_.splice(0,0,c),(!_.includes(f)||1===_.length)&&_.push(f),_.sort((I,L)=>I-L)}_getTimestampsForTable(){let c=this._cache.all||[];if(c.length)return c;const f=this.getDataTimestamps(),_=this.getLabelTimestamps();return c=f.length&&_.length?this.normalize(f.concat(_)):f.length?f:_,c=this._cache.all=c,c}getDecimalForValue(c){return(Cd(this._table,c)-this._minPos)/this._tableRange}getValueForPixel(c){const f=this._offsets,_=this.getDecimalForPixel(c)/f.factor-f.end;return Cd(this._table,_*this._tableRange+this._minPos,!0)}}gi(zl,"id","timeseries"),gi(zl,"defaults",Du.defaults),cr.register($l,Yp,ag,Object.freeze({__proto__:null,CategoryScale:go,LinearScale:Nf,LogarithmicScale:fd,RadialLinearScale:qc,TimeScale:Du,TimeSeriesScale:zl}));const hp=cr;let Hf=(()=>{class m{constructor(f){this.el=f,this.plugins=[],this.responsive=!0,this.onDataSelect=new e.vpe,this._options={}}get data(){return this._data}set data(f){this._data=f,this.reinit()}get options(){return this._options}set options(f){this._options=f,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(f){if(this.chart){const _=this.chart.getElementsAtEventForMode(f,"nearest",{intersect:!0},!1),I=this.chart.getElementsAtEventForMode(f,"dataset",{intersect:!0},!1);_&&_[0]&&I&&this.onDataSelect.emit({originalEvent:f,element:_[0],dataset:I})}}initChart(){let f=this.options||{};f.responsive=this.responsive,f.responsive&&(this.height||this.width)&&(f.maintainAspectRatio=!1),this.chart=new hp(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return m.\u0275fac=function(f){return new(f||m)(e.Y36(e.SBq))},m.\u0275cmp=e.Xpm({type:m,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(f,_){1&f&&(e.TgZ(0,"div",0)(1,"canvas",1),e.NdJ("click",function(L){return _.onCanvasClick(L)}),e.qZA()()),2&f&&(e.Udp("width",_.responsive&&!_.width?null:_.width)("height",_.responsive&&!_.height?null:_.height),e.xp6(1),e.uIk("width",_.responsive&&!_.width?null:_.width)("height",_.responsive&&!_.height?null:_.height))},encapsulation:2,changeDetection:0}),m})(),uh=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[d.ez]}),m})()},1208:(dn,pt,C)=>{"use strict";C.d(pt,{XZ:()=>Q,nD:()=>N});var e=C(5e3),d=C(9808),u=C(2382),p=C(5921);const x=["cb"],R=function(T,y,w){return{"p-checkbox-label":!0,"p-checkbox-label-active":T,"p-disabled":y,"p-checkbox-label-focus":w}};function b(T,y){if(1&T){const w=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(V){e.CHM(w);const U=e.oxw(),oe=e.MAs(3);return e.KtG(U.onClick(V,oe,!0))}),e._uU(1),e.qZA()}if(2&T){const w=e.oxw();e.Tol(w.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,R,w.checked(),w.disabled,w.focused)),e.uIk("for",w.inputId),e.xp6(1),e.Oqu(w.label)}}const s=function(T,y,w){return{"p-checkbox p-component":!0,"p-checkbox-checked":T,"p-checkbox-disabled":y,"p-checkbox-focused":w}},F=function(T,y,w){return{"p-highlight":T,"p-disabled":y,"p-focus":w}},O={provide:u.JU,useExisting:(0,e.Gpc)(()=>Q),multi:!0};let Q=(()=>{class T{constructor(w){this.cd=w,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(w,k,V){w.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(w),V&&k.focus())}updateModel(w){let k;this.binary?(k=this.checked()?this.falseValue:this.trueValue,this.model=k,this.onModelChange(k)):(k=this.checked()?this.model.filter(V=>!p.gb.equals(V,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(k),this.model=k,this.formControl&&this.formControl.setValue(k)),this.onChange.emit({checked:k,originalEvent:w})}handleChange(w){this.readonly||this.updateModel(w)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(w){this.model=w,this.cd.markForCheck()}registerOnChange(w){this.onModelChange=w}registerOnTouched(w){this.onModelTouched=w}setDisabledState(w){this.disabled=w,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:p.gb.contains(this.value,this.model)}}return T.\u0275fac=function(w){return new(w||T)(e.Y36(e.sBO))},T.\u0275cmp=e.Xpm({type:T,selectors:[["p-checkbox"]],viewQuery:function(w,k){if(1&w&&e.Gf(x,5),2&w){let V;e.iGM(V=e.CRH())&&(k.inputViewChild=V.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([O])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(w,k){if(1&w){const V=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return k.onFocus()})("blur",function(){return k.onBlur()})("change",function(oe){return k.handleChange(oe)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(oe){e.CHM(V);const K=e.MAs(3);return e.KtG(k.onClick(oe,K,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,b,2,9,"label",6)}2&w&&(e.Tol(k.styleClass),e.Q6J("ngStyle",k.style)("ngClass",e.kEZ(18,s,k.checked(),k.disabled,k.focused)),e.xp6(2),e.Q6J("readonly",k.readonly)("value",k.value)("checked",k.checked())("disabled",k.disabled),e.uIk("id",k.inputId)("name",k.name)("tabindex",k.tabindex)("aria-labelledby",k.ariaLabelledBy)("aria-label",k.ariaLabel)("aria-checked",k.checked())("required",k.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,F,k.checked(),k.disabled,k.focused)),e.xp6(1),e.Q6J("ngClass",k.checked()?k.checkboxIcon:null),e.xp6(1),e.Q6J("ngIf",k.label))},dependencies:[d.mk,d.O5,d.PC],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),T})(),N=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[d.ez]}),T})()},6888:(dn,pt,C)=>{"use strict";C.d(pt,{e4:()=>P,zH:()=>D});var e=C(5e3),d=C(1777),u=C(9808),p=C(5730),x=C(2382),R=C(5921),b=C(9783);const s=["container"],F=["input"],O=["colorSelector"],Q=["colorHandle"],N=["hue"],T=["hueHandle"],y=function(Y){return{"p-disabled":Y}};function w(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(j);const ie=e.oxw();return e.KtG(ie.onInputFocus())})("click",function(){e.CHM(j);const ie=e.oxw();return e.KtG(ie.onInputClick())})("keydown",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onInputKeydown(ie))}),e.qZA()}if(2&Y){const j=e.oxw();e.Udp("background-color",j.inputBgColor),e.Q6J("ngClass",e.VKq(6,y,j.disabled))("disabled",j.disabled),e.uIk("id",j.inputId)("tabindex",j.tabindex)}}const k=function(Y,re){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":Y,"p-disabled":re}},V=function(Y,re){return{showTransitionParams:Y,hideTransitionParams:re}},U=function(Y){return{value:"visible",params:Y}};function oe(Y,re){if(1&Y){const j=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onOverlayClick(ie))})("@overlayAnimation.start",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onOverlayAnimationStart(ie))})("@overlayAnimation.done",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onOverlayAnimationEnd(ie))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onColorTouchStart(ie))})("touchmove",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onMove(ie))})("touchend",function(){e.CHM(j);const ie=e.oxw();return e.KtG(ie.onDragEnd())})("mousedown",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onColorMousedown(ie))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onHueMousedown(ie))})("touchstart",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onHueTouchStart(ie))})("touchmove",function(ie){e.CHM(j);const Te=e.oxw();return e.KtG(Te.onMove(ie))})("touchend",function(){e.CHM(j);const ie=e.oxw();return e.KtG(ie.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&Y){const j=e.oxw();e.Q6J("ngClass",e.WLB(3,k,!j.inline,j.disabled))("@overlayAnimation",e.VKq(9,U,e.WLB(6,V,j.showTransitionOptions,j.hideTransitionOptions)))("@.disabled",!0===j.inline)}}const K=function(Y,re){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":Y,"p-colorpicker-dragging":re}},H={provide:x.JU,useExisting:(0,e.Gpc)(()=>D),multi:!0};let D=(()=>{class Y{constructor(j,G,ie,Te,Me){this.el=j,this.renderer=G,this.cd=ie,this.config=Te,this.overlayService=Me,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(j){this.colorSelectorViewChild=j}set colorHandle(j){this.colorHandleViewChild=j}set hue(j){this.hueViewChild=j}set hueHandle(j){this.hueHandleViewChild=j}onHueMousedown(j){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(j))}onHueTouchStart(j){this.disabled||(this.hueDragging=!0,this.pickHue(j,j.changedTouches[0]))}onColorTouchStart(j){this.disabled||(this.colorDragging=!0,this.pickColor(j,j.changedTouches[0]))}pickHue(j,G){let ie=G?G.pageY:j.pageY,Te=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,ie-Te)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:j,value:this.getValueToUpdate()})}onColorMousedown(j){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(j))}onMove(j){this.colorDragging&&(this.pickColor(j,j.changedTouches[0]),j.preventDefault()),this.hueDragging&&(this.pickHue(j,j.changedTouches[0]),j.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(j,G){let ie=G?G.pageX:j.pageX,Te=G?G.pageY:j.pageY,Me=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),de=Me.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),te=Me.left+document.body.scrollLeft,ce=Math.floor(100*Math.max(0,Math.min(150,ie-te))/150),J=Math.floor(100*(150-Math.max(0,Math.min(150,Te-de)))/150);this.value=this.validateHSB({h:this.value.h,s:ce,b:J}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:j,value:this.getValueToUpdate()})}getValueToUpdate(){let j;switch(this.format){case"hex":j="#"+this.HSBtoHEX(this.value);break;case"rgb":j=this.HSBtoRGB(this.value);break;case"hsb":j=this.value}return j}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(j){if(j)switch(this.format){case"hex":this.value=this.HEXtoHSB(j);break;case"rgb":this.value=this.RGBtoHSB(j);break;case"hsb":this.value=j}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const j={s:100,b:100};j.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(j)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(j){switch(j.toState){case"visible":this.inline||(this.overlay=j.element,this.appendOverlay(),this.autoZIndex&&R.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(j){switch(j.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&R.P9.clear(j.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):p.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?p.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):p.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(j){switch(j.which){case 32:this.togglePanel(),j.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(j){this.overlayService.add({originalEvent:j,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(j){this.onModelChange=j}registerOnTouched(j){this.onModelTouched=j}setDisabledState(j){this.disabled=j,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",G=>{this.colorDragging&&this.pickColor(G),this.hueDragging&&this.pickHue(G)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!p.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new p.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(j){return{h:Math.min(360,Math.max(0,j.h)),s:Math.min(100,Math.max(0,j.s)),b:Math.min(100,Math.max(0,j.b))}}validateRGB(j){return{r:Math.min(255,Math.max(0,j.r)),g:Math.min(255,Math.max(0,j.g)),b:Math.min(255,Math.max(0,j.b))}}validateHEX(j){var G=6-j.length;if(G>0){for(var ie=[],Te=0;Te<G;Te++)ie.push("0");ie.push(j),j=ie.join("")}return j}HEXtoRGB(j){let G=parseInt(j.indexOf("#")>-1?j.substring(1):j,16);return{r:G>>16,g:(65280&G)>>8,b:255&G}}HEXtoHSB(j){return this.RGBtoHSB(this.HEXtoRGB(j))}RGBtoHSB(j){var G={h:0,s:0,b:0},ie=Math.min(j.r,j.g,j.b),Te=Math.max(j.r,j.g,j.b),Me=Te-ie;return G.b=Te,G.s=0!=Te?255*Me/Te:0,G.h=0!=G.s?j.r==Te?(j.g-j.b)/Me:j.g==Te?2+(j.b-j.r)/Me:4+(j.r-j.g)/Me:-1,G.h*=60,G.h<0&&(G.h+=360),G.s*=100/255,G.b*=100/255,G}HSBtoRGB(j){var G={r:null,g:null,b:null};let ie=j.h,Te=255*j.s/100,Me=255*j.b/100;if(0==Te)G={r:Me,g:Me,b:Me};else{let de=Me,te=(255-Te)*Me/255,ce=ie%60*(de-te)/60;360==ie&&(ie=0),ie<60?(G.r=de,G.b=te,G.g=te+ce):ie<120?(G.g=de,G.b=te,G.r=de-ce):ie<180?(G.g=de,G.r=te,G.b=te+ce):ie<240?(G.b=de,G.r=te,G.g=de-ce):ie<300?(G.b=de,G.g=te,G.r=te+ce):ie<360?(G.r=de,G.g=te,G.b=de-ce):(G.r=0,G.g=0,G.b=0)}return{r:Math.round(G.r),g:Math.round(G.g),b:Math.round(G.b)}}RGBtoHEX(j){var G=[j.r.toString(16),j.g.toString(16),j.b.toString(16)];for(var ie in G)1==G[ie].length&&(G[ie]="0"+G[ie]);return G.join("")}HSBtoHEX(j){return this.RGBtoHEX(this.HSBtoRGB(j))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&R.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return Y.\u0275fac=function(j){return new(j||Y)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(b.b4),e.Y36(b.F0))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["p-colorPicker"]],viewQuery:function(j,G){if(1&j&&(e.Gf(s,5),e.Gf(F,5),e.Gf(O,5),e.Gf(Q,5),e.Gf(N,5),e.Gf(T,5)),2&j){let ie;e.iGM(ie=e.CRH())&&(G.containerViewChild=ie.first),e.iGM(ie=e.CRH())&&(G.inputViewChild=ie.first),e.iGM(ie=e.CRH())&&(G.colorSelector=ie.first),e.iGM(ie=e.CRH())&&(G.colorHandle=ie.first),e.iGM(ie=e.CRH())&&(G.hue=ie.first),e.iGM(ie=e.CRH())&&(G.hueHandle=ie.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([H])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(j,G){1&j&&(e.TgZ(0,"div",0,1),e.YNc(2,w,2,8,"input",2),e.YNc(3,oe,11,11,"div",3),e.qZA()),2&j&&(e.Tol(G.styleClass),e.Q6J("ngStyle",G.style)("ngClass",e.WLB(6,K,!G.inline,G.colorDragging||G.hueDragging)),e.xp6(2),e.Q6J("ngIf",!G.inline),e.xp6(1),e.Q6J("ngIf",G.inline||G.overlayVisible))},dependencies:[u.mk,u.O5,u.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),Y})(),P=(()=>{class Y{}return Y.\u0275fac=function(j){return new(j||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[u.ez]}),Y})()},9114:(dn,pt,C)=>{"use strict";C.d(pt,{D:()=>te,Q:()=>de});var e=C(5e3),d=C(1777),u=C(9808),p=C(5730),x=C(9783),R=C(845),b=C(5921),s=C(5787);const F=["content"];function O(ce,J){1&ce&&e.GkF(0)}function Q(ce,J){if(1&ce&&(e.TgZ(0,"div",10),e.YNc(1,O,1,0,"ng-container",11),e.qZA()),2&ce){const ve=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",ve.headerTemplate)}}function N(ce,J){if(1&ce&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&ce){const ve=e.oxw(4);e.xp6(1),e.Oqu(ve.option("header"))}}const T=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function y(ce,J){if(1&ce){const ve=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(Be){e.CHM(ve);const we=e.oxw(4);return e.KtG(we.close(Be))})("keydown.enter",function(Be){e.CHM(ve);const we=e.oxw(4);return e.KtG(we.close(Be))}),e._UZ(1,"span",17),e.qZA()}2&ce&&e.Q6J("ngClass",e.DdM(1,T))}function w(ce,J){if(1&ce&&(e.TgZ(0,"div",10),e.YNc(1,N,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,y,2,2,"button",14),e.qZA()()),2&ce){const ve=e.oxw(3);e.xp6(1),e.Q6J("ngIf",ve.option("header")),e.xp6(2),e.Q6J("ngIf",ve.closable)}}function k(ce,J){if(1&ce&&e._UZ(0,"i",1),2&ce){const ve=e.oxw(3);e.Tol(ve.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function V(ce,J){1&ce&&e.GkF(0)}function U(ce,J){if(1&ce&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,V,1,0,"ng-container",11),e.qZA()),2&ce){const ve=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",ve.footerTemplate)}}function oe(ce,J){if(1&ce){const ve=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(ve);const Be=e.oxw(4);return e.KtG(Be.reject())}),e.qZA()}if(2&ce){const ve=e.oxw(4);e.Tol(ve.option("rejectButtonStyleClass")),e.Q6J("icon",ve.option("rejectIcon"))("label",ve.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",ve.rejectAriaLabel)}}function K(ce,J){if(1&ce){const ve=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(ve);const Be=e.oxw(4);return e.KtG(Be.accept())}),e.qZA()}if(2&ce){const ve=e.oxw(4);e.Tol(ve.option("acceptButtonStyleClass")),e.Q6J("icon",ve.option("acceptIcon"))("label",ve.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",ve.acceptAriaLabel)}}function H(ce,J){if(1&ce&&(e.TgZ(0,"div",18),e.YNc(1,oe,1,6,"button",19),e.YNc(2,K,1,6,"button",19),e.qZA()),2&ce){const ve=e.oxw(3);e.xp6(1),e.Q6J("ngIf",ve.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",ve.option("acceptVisible"))}}const D=function(ce){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":ce}},P=function(ce,J){return{transform:ce,transition:J}},Y=function(ce){return{value:"visible",params:ce}};function re(ce,J){if(1&ce){const ve=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(Be){e.CHM(ve);const we=e.oxw(2);return e.KtG(we.onAnimationStart(Be))})("@animation.done",function(Be){e.CHM(ve);const we=e.oxw(2);return e.KtG(we.onAnimationEnd(Be))}),e.YNc(1,Q,2,1,"div",4),e.YNc(2,w,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,k,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,U,3,1,"div",9),e.YNc(8,H,3,2,"div",9),e.qZA()}if(2&ce){const ve=e.oxw(2);e.Tol(ve.styleClass),e.Q6J("ngClass",e.VKq(11,D,ve.rtl))("ngStyle",ve.style)("@animation",e.VKq(16,Y,e.WLB(13,P,ve.transformOptions,ve.transitionOptions))),e.xp6(1),e.Q6J("ngIf",ve.headerTemplate),e.xp6(1),e.Q6J("ngIf",!ve.headerTemplate),e.xp6(3),e.Q6J("ngIf",ve.option("icon")),e.xp6(1),e.Q6J("innerHTML",ve.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",ve.footer||ve.footerTemplate),e.xp6(1),e.Q6J("ngIf",!ve.footer&&!ve.footerTemplate)}}function j(ce,J){if(1&ce&&(e.TgZ(0,"div",1),e.YNc(1,re,9,18,"div",2),e.qZA()),2&ce){const ve=e.oxw();e.Tol(ve.maskStyleClass),e.Q6J("ngClass",ve.getMaskClass()),e.xp6(1),e.Q6J("ngIf",ve.visible)}}const G=[[["p-footer"]]],ie=["p-footer"],Te=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),Me=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let de=(()=>{class ce{constructor(ve,be,Be,we,ke,X){this.el=ve,this.renderer=be,this.confirmationService=Be,this.zone=we,this.cd=ke,this.config=X,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,b.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(q=>{q?q.key===this.key&&(this.confirmation=q,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(ve){this._visible=ve,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(ve){switch(this._position=ve,ve){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(ve=>{switch(ve.getType()){case"header":this.headerTemplate=ve.template;break;case"footer":this.footerTemplate=ve.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(ve){const be=this.confirmationOptions||this;if(be.hasOwnProperty(ve))return be[ve]}onAnimationStart(ve){if("visible"===ve.toState){this.container=ve.element,this.wrapper=this.container.parentElement,this.contentContainer=p.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const be=this.getElementToFocus();be&&be.focus()}}onAnimationEnd(ve){"void"===ve.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return p.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return p.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return p.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):p.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&p.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",ve=>{this.wrapper&&this.wrapper.isSameNode(ve.target)&&this.close(ve)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&p.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let ve="";for(let be in this.breakpoints)ve+=`\n                    @media screen and (max-width: ${be}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[be]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=ve}}close(ve){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(x.wB.CANCEL),this.hide(x.wB.CANCEL),ve.preventDefault()}hide(ve){this.onHide.emit(ve),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(b.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let ve={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return ve[this.getPositionClass().toString()]=!0,ve}getPositionClass(){const be=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(Be=>Be===this.position);return be?`p-dialog-${be}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",be=>{if(27==be.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===b.P9.get(this.container)&&this.visible&&this.close(be),9===be.which&&this.focusTrap){be.preventDefault();let Be=p.p.getFocusableElements(this.container);if(Be&&Be.length>0)if(Be[0].ownerDocument.activeElement){let we=Be.indexOf(Be[0].ownerDocument.activeElement);be.shiftKey?-1==we||0===we?Be[Be.length-1].focus():Be[we-1].focus():-1==we||we===Be.length-1?Be[0].focus():Be[we+1].focus()}else Be[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&b.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(x.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(x.wB.REJECT),this.hide(x.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(x.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(x.ws.REJECT)}}return ce.\u0275fac=function(ve){return new(ve||ce)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(x.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(x.b4))},ce.\u0275cmp=e.Xpm({type:ce,selectors:[["p-confirmDialog"]],contentQueries:function(ve,be,Be){if(1&ve&&(e.Suo(Be,x.$_,5),e.Suo(Be,x.jx,4)),2&ve){let we;e.iGM(we=e.CRH())&&(be.footer=we.first),e.iGM(we=e.CRH())&&(be.templates=we)}},viewQuery:function(ve,be){if(1&ve&&e.Gf(F,5),2&ve){let Be;e.iGM(Be=e.CRH())&&(be.contentViewChild=Be.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:ie,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(ve,be){1&ve&&(e.F$t(G),e.YNc(0,j,2,4,"div",0)),2&ve&&e.Q6J("ngIf",be.maskVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC,R.Hq,s.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(Te)]),(0,d.eR)("visible => void",[(0,d._7)(Me)])])]},changeDetection:0}),ce})(),te=(()=>{class ce{}return ce.\u0275fac=function(ve){return new(ve||ce)},ce.\u0275mod=e.oAB({type:ce}),ce.\u0275inj=e.cJS({imports:[u.ez,R.hJ,s.T,R.hJ,x.m8]}),ce})()},7307:(dn,pt,C)=>{"use strict";C.d(pt,{P:()=>y,n:()=>w});var e=C(5e3),d=C(9808),u=C(9783),p=C(845),x=C(5921),R=C(1777),b=C(5730);function s(k,V){if(1&k&&e._UZ(0,"i",8),2&k){const U=e.oxw(2);e.Tol(U.confirmation.icon),e.Q6J("ngClass","p-confirm-popup-icon")}}function F(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(U);const K=e.oxw(2);return e.KtG(K.reject())}),e.qZA()}if(2&k){const U=e.oxw(2);e.Tol(U.confirmation.rejectButtonStyleClass||"p-button-text"),e.Q6J("icon",U.confirmation.rejectIcon)("label",U.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),e.uIk("aria-label",U.rejectButtonLabel)}}function O(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(U);const K=e.oxw(2);return e.KtG(K.accept())}),e.qZA()}if(2&k){const U=e.oxw(2);e.Tol(U.confirmation.acceptButtonStyleClass),e.Q6J("icon",U.confirmation.acceptIcon)("label",U.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),e.uIk("aria-label",U.acceptButtonLabel)}}const Q=function(k,V){return{showTransitionParams:k,hideTransitionParams:V}},N=function(k){return{value:"open",params:k}};function T(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(K){e.CHM(U);const H=e.oxw();return e.KtG(H.onOverlayClick(K))})("@animation.start",function(K){e.CHM(U);const H=e.oxw();return e.KtG(H.onAnimationStart(K))})("@animation.done",function(K){e.CHM(U);const H=e.oxw();return e.KtG(H.onAnimationEnd(K))}),e.TgZ(1,"div",2,3),e.YNc(3,s,1,3,"i",4),e.TgZ(4,"span",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,F,1,6,"button",7),e.YNc(8,O,1,6,"button",7),e.qZA()()}if(2&k){const U=e.oxw();e.Tol(U.styleClass),e.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",U.style)("@animation",e.VKq(12,N,e.WLB(9,Q,U.showTransitionOptions,U.hideTransitionOptions))),e.xp6(3),e.Q6J("ngIf",U.confirmation.icon),e.xp6(2),e.Oqu(U.confirmation.message),e.xp6(2),e.Q6J("ngIf",!1!==U.confirmation.rejectVisible),e.xp6(1),e.Q6J("ngIf",!1!==U.confirmation.acceptVisible)}}let y=(()=>{class k{constructor(U,oe,K,H,D,P){this.el=U,this.confirmationService=oe,this.renderer=K,this.cd=H,this.config=D,this.overlayService=P,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(Y=>{Y?Y.key===this.key&&(this.confirmation=Y,this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(U){this._visible=U,this.cd.markForCheck()}onAnimationStart(U){if("open"===U.toState){this.container=U.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const oe=this.getElementToFocus();oe&&oe.focus()}}onAnimationEnd(U){"void"===U.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return b.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return b.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&x.P9.set("overlay",this.container,this.config.zIndex.overlay),b.p.absolutePosition(this.container,this.confirmation.target);const U=b.p.getOffset(this.container),oe=b.p.getOffset(this.confirmation.target);let K=0;U.left<oe.left&&(K=oe.left-U.left),this.container.style.setProperty("--overlayArrowLeft",`${K}px`),U.top<oe.top&&b.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(U){this.overlayService.add({originalEvent:U,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let U=b.p.isIOS()?"touchstart":"click";const oe=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(oe,U,K=>{let H=this.confirmation.target;this.container!==K.target&&!this.container.contains(K.target)&&H!==K.target&&!H.contains(K.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!b.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new b.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&x.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(u.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(u.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return k.\u0275fac=function(U){return new(U||k)(e.Y36(e.SBq),e.Y36(u.YP),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(u.b4),e.Y36(u.F0))},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(U,oe){1&U&&e.YNc(0,T,9,14,"div",0),2&U&&e.Q6J("ngIf",oe.visible)},dependencies:[d.mk,d.O5,d.PC,p.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,R.X$)("animation",[(0,R.SB)("void",(0,R.oB)({transform:"scaleY(0.8)",opacity:0})),(0,R.SB)("open",(0,R.oB)({transform:"translateY(0)",opacity:1})),(0,R.eR)("void => open",(0,R.jt)("{{showTransitionParams}}")),(0,R.eR)("open => void",(0,R.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),k})(),w=(()=>{class k{}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[d.ez,p.hJ]}),k})()},330:(dn,pt,C)=>{"use strict";C.d(pt,{vI:()=>Be,xV:()=>be});var e=C(5e3),d=C(9808),u=C(5730),p=C(9783),x=C(5787),R=C(5921),b=C(3470),s=C(7579),F=C(2722),O=C(4119);const Q=["sublist"],N=["menuitem"],T=function(we){return{"p-hidden":we}};function y(we,ke){if(1&we&&e._UZ(0,"li",5,6),2&we){const X=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,T,!1===X.visible))}}function w(we,ke){if(1&we&&e._UZ(0,"span",17),2&we){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.icon)("ngStyle",X.iconStyle)}}function k(we,ke){if(1&we&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&we){const X=e.oxw(3).$implicit;e.xp6(1),e.Oqu(X.label)}}function V(we,ke){if(1&we&&e._UZ(0,"span",19),2&we){const X=e.oxw(3).$implicit;e.Q6J("innerHTML",X.label,e.oJD)}}function U(we,ke){if(1&we&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&we){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.badgeStyleClass),e.xp6(1),e.Oqu(X.badge)}}function oe(we,ke){1&we&&e._UZ(0,"span",21)}const K=function(we){return{"p-menuitem-link":!0,"p-disabled":we}};function H(we,ke){if(1&we){const X=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(pe){e.CHM(X),e.oxw();const _e=e.MAs(1),Xe=e.oxw(),ct=Xe.$implicit,ot=Xe.index,Zt=e.oxw();return e.KtG(Zt.onItemClick(pe,ct,_e,Zt.getKey(ot)))}),e.YNc(1,w,1,2,"span",12),e.YNc(2,k,2,1,"span",13),e.YNc(3,V,1,1,"ng-template",null,14,e.W1O),e.YNc(5,U,2,2,"span",15),e.YNc(6,oe,1,0,"span",16),e.qZA()}if(2&we){const X=e.MAs(4),q=e.oxw(2),pe=q.$implicit,_e=q.index,Xe=e.oxw();e.Q6J("target",pe.target)("ngClass",e.VKq(13,K,pe.disabled)),e.uIk("href",pe.url?pe.url:null,e.LSH)("title",pe.title)("id",pe.id)("tabindex",pe.disabled?null:"0")("aria-haspopup",null!=Xe.item.items)("aria-expanded",Xe.isActive(Xe.getKey(_e))),e.xp6(1),e.Q6J("ngIf",pe.icon),e.xp6(1),e.Q6J("ngIf",!1!==pe.escape)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",pe.badge),e.xp6(1),e.Q6J("ngIf",pe.items)}}function D(we,ke){if(1&we&&e._UZ(0,"span",17),2&we){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.icon)("ngStyle",X.iconStyle)}}function P(we,ke){if(1&we&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&we){const X=e.oxw(3).$implicit;e.xp6(1),e.Oqu(X.label)}}function Y(we,ke){if(1&we&&e._UZ(0,"span",19),2&we){const X=e.oxw(3).$implicit;e.Q6J("innerHTML",X.label,e.oJD)}}function re(we,ke){if(1&we&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&we){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.badgeStyleClass),e.xp6(1),e.Oqu(X.badge)}}function j(we,ke){1&we&&e._UZ(0,"span",21)}const G=function(){return{exact:!1}};function ie(we,ke){if(1&we){const X=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(pe){e.CHM(X),e.oxw();const _e=e.MAs(1),Xe=e.oxw(),ct=Xe.$implicit,ot=Xe.index,Zt=e.oxw();return e.KtG(Zt.onItemClick(pe,ct,_e,Zt.getKey(ot)))}),e.YNc(1,D,1,2,"span",12),e.YNc(2,P,2,1,"span",13),e.YNc(3,Y,1,1,"ng-template",null,23,e.W1O),e.YNc(5,re,2,2,"span",15),e.YNc(6,j,1,0,"span",16),e.qZA()}if(2&we){const X=e.MAs(4),q=e.oxw(2).$implicit;e.Q6J("routerLink",q.routerLink)("queryParams",q.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",q.routerLinkActiveOptions||e.DdM(20,G))("target",q.target)("ngClass",e.VKq(21,K,q.disabled))("fragment",q.fragment)("queryParamsHandling",q.queryParamsHandling)("preserveFragment",q.preserveFragment)("skipLocationChange",q.skipLocationChange)("replaceUrl",q.replaceUrl)("state",q.state),e.uIk("title",q.title)("id",q.id)("tabindex",q.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",q.icon),e.xp6(1),e.Q6J("ngIf",!1!==q.escape)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",q.badge),e.xp6(1),e.Q6J("ngIf",q.items)}}function Te(we,ke){if(1&we){const X=e.EpF();e.TgZ(0,"p-contextMenuSub",24),e.NdJ("leafClick",function(){e.CHM(X);const pe=e.oxw(3);return e.KtG(pe.onLeafClick())}),e.qZA()}if(2&we){const X=e.oxw(2),q=X.index,pe=X.$implicit,_e=e.oxw();e.Q6J("parentItemKey",_e.getKey(q))("item",pe)}}const Me=function(we,ke){return{"p-menuitem":!0,"p-menuitem-active":we,"p-hidden":ke}};function de(we,ke){if(1&we){const X=e.EpF();e.TgZ(0,"li",7,6),e.NdJ("mouseenter",function(pe){e.CHM(X);const _e=e.oxw(),Xe=_e.$implicit,ct=_e.index,ot=e.oxw();return e.KtG(ot.onItemMouseEnter(pe,Xe,ot.getKey(ct)))})("mouseleave",function(pe){e.CHM(X);const _e=e.oxw().$implicit,Xe=e.oxw();return e.KtG(Xe.onItemMouseLeave(pe,_e))}),e.YNc(2,H,7,15,"a",8),e.YNc(3,ie,7,23,"a",9),e.YNc(4,Te,1,2,"p-contextMenuSub",10),e.qZA()}if(2&we){const X=e.oxw(),q=X.$implicit,pe=X.index,_e=e.oxw();e.Tol(q.styleClass),e.Q6J("ngClass",e.WLB(9,Me,_e.isActive(_e.getKey(pe)),!1===q.visible))("ngStyle",q.style)("tooltipOptions",q.tooltipOptions),e.uIk("data-ik",_e.getKey(pe)),e.xp6(2),e.Q6J("ngIf",!q.routerLink),e.xp6(1),e.Q6J("ngIf",q.routerLink),e.xp6(1),e.Q6J("ngIf",q.items)}}function te(we,ke){if(1&we&&(e.YNc(0,y,2,3,"li",3),e.YNc(1,de,5,12,"li",4)),2&we){const X=ke.$implicit;e.Q6J("ngIf",X.separator),e.xp6(1),e.Q6J("ngIf",!X.separator)}}const ce=function(we){return{"p-submenu-list":we}},J=["container"];let ve=(()=>{class we{constructor(X){this.leafClick=new e.vpe,this.contextMenu=X}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,F.R)(this.contextMenu.ngDestroy$)).subscribe(X=>{this.activeItemKey=X,this.isActive(this.parentItemKey)&&u.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(X,q,pe){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),q.disabled)this.activeItemKey=null;else{if(q.items){let _e=u.p.findSingle(X.currentTarget,".p-submenu-list");u.p.addClass(_e,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(pe)}}onItemMouseLeave(X,q){q.disabled||this.contextMenu.el.nativeElement.contains(X.toElement)&&(q.items&&this.contextMenu.removeActiveFromSubLists(X.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(X,q,pe,_e){if(q.disabled)X.preventDefault();else{if(!q.url&&!q.routerLink&&X.preventDefault(),q.command&&q.command({originalEvent:X,item:q}),q.items){let Xe=u.p.findSingle(pe,".p-submenu-list");Xe&&(this.isActive(_e)&&u.p.hasClass(Xe,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(pe):u.p.addClass(Xe,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(_e))}q.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(X){return this.root?String(X):this.parentItemKey+"_"+X}isActive(X){return this.activeItemKey&&(this.activeItemKey.startsWith(X+"_")||this.activeItemKey===X)}}return we.\u0275fac=function(X){return new(X||we)(e.Y36((0,e.Gpc)(()=>be)))},we.\u0275cmp=e.Xpm({type:we,selectors:[["p-contextMenuSub"]],viewQuery:function(X,q){if(1&X&&(e.Gf(Q,5),e.Gf(N,5)),2&X){let pe;e.iGM(pe=e.CRH())&&(q.sublistViewChild=pe.first),e.iGM(pe=e.CRH())&&(q.menuitemViewChild=pe.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(X,q){1&X&&(e.TgZ(0,"ul",0,1),e.YNc(2,te,2,2,"ng-template",2),e.qZA()),2&X&&(e.Q6J("ngClass",e.VKq(2,ce,!q.root)),e.xp6(2),e.Q6J("ngForOf",q.root?q.item:q.item.items))},dependencies:[d.mk,d.sg,d.O5,d.PC,b.yS,b.Od,x.H,O.u,we],encapsulation:2}),we})(),be=(()=>{class we{constructor(X,q,pe,_e,Xe,ct){this.el=X,this.renderer=q,this.cd=pe,this.zone=_e,this.contextMenuService=Xe,this.config=ct,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new e.vpe,this.onHide=new e.vpe,this.ngDestroy$=new s.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,q=>{this.show(q),q.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,X=>{this.show(X),X.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):u.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(X){this.clearActiveItem(),this.position(X),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,u.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),X&&X.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&R.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&R.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(X){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(X)}position(X){if(X){let q=X.pageX+1,pe=X.pageY+1,_e=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:u.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),Xe=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:u.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),ct=u.p.getViewport();q+_e-document.scrollingElement.scrollLeft>ct.width&&(q-=_e),pe+Xe-document.scrollingElement.scrollTop>ct.height&&(pe-=Xe),q<document.scrollingElement.scrollLeft&&(q=document.scrollingElement.scrollLeft),pe<document.scrollingElement.scrollTop&&(pe=document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=q+"px",this.containerViewChild.nativeElement.style.top=pe+"px"}}positionSubmenu(X){let q=X.parentElement.parentElement,pe=u.p.getViewport(),_e=X.offsetParent?X.offsetWidth:u.p.getHiddenElementOuterWidth(X),Xe=X.offsetHeight?X.offsetHeight:u.p.getHiddenElementOuterHeight(X),ct=u.p.getOuterWidth(q.children[0]),ot=u.p.getOuterHeight(q.children[0]),Zt=u.p.getOffset(q.parentElement);X.style.zIndex=++u.p.zindex,parseInt(Zt.top)+ot+Xe>pe.height-u.p.calculateScrollbarHeight()?(X.style.removeProperty("top"),X.style.bottom="0px"):(X.style.removeProperty("bottom"),X.style.top="0px"),X.style.left=parseInt(Zt.left)+ct+_e>pe.width-u.p.calculateScrollbarWidth()?-_e+"px":ct+"px"}isItemMatched(X){return u.p.hasClass(X,"p-menuitem")&&!u.p.hasClass(X.children[0],"p-disabled")}findNextItem(X,q){let pe=X.nextElementSibling;if(pe)return this.isItemMatched(pe)?pe:this.findNextItem(pe,q);{let _e=X.parentElement.children[0];return this.isItemMatched(_e)?_e:q?null:this.findNextItem(_e,!0)}}findPrevItem(X,q){let pe=X.previousElementSibling;if(pe)return this.isItemMatched(pe)?pe:this.findPrevItem(pe,q);{let _e=X.parentElement.children[X.parentElement.children.length-1];return this.isItemMatched(_e)?_e:q?null:this.findPrevItem(_e,!0)}}getActiveItem(){let X=this.contextMenuService.activeItemKey;return null==X?null:u.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+X+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(X){let q=u.p.find(X,".p-submenu-list-active");for(let pe of q)u.p.removeClass(pe,"p-submenu-list-active")}removeActiveFromSublist(X){X&&u.p.findSingle(X,".p-submenu-list")&&u.p.hasClass(X,"p-submenu-list-active")&&u.p.removeClass(X,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const X=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(X,"click",q=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(q)&&!q.ctrlKey&&2!==q.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(X,this.triggerEvent,q=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(q)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",q=>{let pe=this.getActiveItem();switch(q.key){case"ArrowDown":if(pe)this.removeActiveFromSublist(pe),pe=this.findNextItem(pe);else{let _e=u.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;pe=this.isItemMatched(_e)?_e:this.findNextItem(_e)}pe&&this.contextMenuService.changeKey(pe.getAttribute("data-ik")),q.preventDefault();break;case"ArrowUp":if(pe)this.removeActiveFromSublist(pe),pe=this.findPrevItem(pe);else{let _e=u.p.findSingle(this.containerViewChild.nativeElement,"ul"),Xe=_e.children[_e.children.length-1];pe=this.isItemMatched(Xe)?Xe:this.findPrevItem(Xe)}pe&&this.contextMenuService.changeKey(pe.getAttribute("data-ik")),q.preventDefault();break;case"ArrowRight":if(pe){let _e=u.p.findSingle(pe,".p-submenu-list");_e&&(u.p.addClass(_e,"p-submenu-list-active"),pe=u.p.findSingle(_e,".p-menuitem-link:not(.p-disabled)").parentElement,pe&&this.contextMenuService.changeKey(pe.getAttribute("data-ik")))}q.preventDefault();break;case"ArrowLeft":if(pe){let _e=pe.parentElement;_e&&u.p.hasClass(_e,"p-submenu-list-active")&&(u.p.removeClass(_e,"p-submenu-list-active"),pe=_e.parentElement.parentElement,pe&&this.contextMenuService.changeKey(pe.getAttribute("data-ik")))}q.preventDefault();break;case"Escape":this.hide(),q.preventDefault();break;case"Enter":pe&&this.handleItemClick(q,this.findModelItemFromKey(this.contextMenuService.activeItemKey),pe),q.preventDefault()}}))}findModelItemFromKey(X){return null!=X&&this.model?X.split("_").reduce((pe,_e)=>pe?pe.items[_e]:this.model[_e],null):null}handleItemClick(X,q,pe){if(q&&!q.disabled){if(q.command&&q.command({originalEvent:X,item:q}),q.items){let _e=u.p.findSingle(pe,".p-submenu-list");_e&&(u.p.hasClass(_e,"p-submenu-list-active")?this.removeActiveFromSubLists(pe):(u.p.addClass(_e,"p-submenu-list-active"),this.positionSubmenu(_e)))}q.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(X){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(X){return!(this.containerViewChild.nativeElement.isSameNode(X.target)||this.containerViewChild.nativeElement.contains(X.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&R.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return we.\u0275fac=function(X){return new(X||we)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(p.Lk),e.Y36(p.b4))},we.\u0275cmp=e.Xpm({type:we,selectors:[["p-contextMenu"]],viewQuery:function(X,q){if(1&X&&e.Gf(J,5),2&X){let pe;e.iGM(pe=e.CRH())&&(q.containerViewChild=pe.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(X,q){1&X&&(e.TgZ(0,"div",0,1),e._UZ(2,"p-contextMenuSub",2),e.qZA()),2&X&&(e.Tol(q.styleClass),e.Q6J("ngClass","p-contextmenu p-component")("ngStyle",q.style),e.xp6(2),e.Q6J("item",q.model)("root",!0))},dependencies:[d.mk,d.PC,ve],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),we})(),Be=(()=>{class we{}return we.\u0275fac=function(X){return new(X||we)},we.\u0275mod=e.oAB({type:we}),we.\u0275inj=e.cJS({providers:[p.Lk],imports:[d.ez,b.Bz,x.T,O.z,b.Bz,O.z]}),we})()},5315:(dn,pt,C)=>{"use strict";C.d(pt,{V:()=>ve,S:()=>be});var e=C(5e3),d=C(1777),u=C(9808),p=C(5730),x=C(9783);let R=(()=>{class Be{constructor(ke){this.el=ke}onkeydown(ke){if(!0!==this.pFocusTrapDisabled){ke.preventDefault();let X=p.p.getFocusableElements(this.el.nativeElement);if(X&&X.length>0)if(X[0].ownerDocument.activeElement){let q=X.indexOf(X[0].ownerDocument.activeElement);ke.shiftKey?-1==q||0===q?X[X.length-1].focus():X[q-1].focus():-1==q||q===X.length-1?X[0].focus():X[q+1].focus()}else X[0].focus()}}}return Be.\u0275fac=function(ke){return new(ke||Be)(e.Y36(e.SBq))},Be.\u0275dir=e.lG2({type:Be,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(ke,X){1&ke&&e.NdJ("keydown.tab",function(pe){return X.onkeydown(pe)})("keydown.shift.tab",function(pe){return X.onkeydown(pe)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),Be})(),b=(()=>{class Be{}return Be.\u0275fac=function(ke){return new(ke||Be)},Be.\u0275mod=e.oAB({type:Be}),Be.\u0275inj=e.cJS({imports:[u.ez]}),Be})();var s=C(5787),F=C(5921);const O=["titlebar"],Q=["content"],N=["footer"];function T(Be,we){if(1&Be){const ke=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(q){e.CHM(ke);const pe=e.oxw(3);return e.KtG(pe.initResize(q))}),e.qZA()}}function y(Be,we){if(1&Be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&Be){const ke=e.oxw(4);e.uIk("id",ke.id+"-label"),e.xp6(1),e.Oqu(ke.header)}}function w(Be,we){if(1&Be&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&Be){const ke=e.oxw(4);e.uIk("id",ke.id+"-label")}}function k(Be,we){1&Be&&e.GkF(0)}const V=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function U(Be,we){if(1&Be){const ke=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(ke);const q=e.oxw(4);return e.KtG(q.maximize())})("keydown.enter",function(){e.CHM(ke);const q=e.oxw(4);return e.KtG(q.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&Be){const ke=e.oxw(4);e.Q6J("ngClass",e.DdM(2,V)),e.xp6(1),e.Q6J("ngClass",ke.maximized?ke.minimizeIcon:ke.maximizeIcon)}}const oe=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function K(Be,we){if(1&Be){const ke=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(q){e.CHM(ke);const pe=e.oxw(4);return e.KtG(pe.close(q))})("keydown.enter",function(q){e.CHM(ke);const pe=e.oxw(4);return e.KtG(pe.close(q))}),e._UZ(1,"span",22),e.qZA()}if(2&Be){const ke=e.oxw(4);e.Q6J("ngClass",e.DdM(4,oe)),e.uIk("aria-label",ke.closeAriaLabel)("tabindex",ke.closeTabindex),e.xp6(1),e.Q6J("ngClass",ke.closeIcon)}}function H(Be,we){if(1&Be){const ke=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(q){e.CHM(ke);const pe=e.oxw(3);return e.KtG(pe.initDrag(q))}),e.YNc(2,y,2,2,"span",14),e.YNc(3,w,2,1,"span",14),e.YNc(4,k,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,U,2,3,"button",16),e.YNc(7,K,2,5,"button",17),e.qZA()()}if(2&Be){const ke=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!ke.headerFacet&&!ke.headerTemplate),e.xp6(1),e.Q6J("ngIf",ke.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",ke.headerTemplate),e.xp6(2),e.Q6J("ngIf",ke.maximizable),e.xp6(1),e.Q6J("ngIf",ke.closable)}}function D(Be,we){1&Be&&e.GkF(0)}function P(Be,we){1&Be&&e.GkF(0)}function Y(Be,we){if(1&Be&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,P,1,0,"ng-container",9),e.qZA()),2&Be){const ke=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",ke.footerTemplate)}}const re=function(Be,we,ke,X){return{"p-dialog p-component":!0,"p-dialog-rtl":Be,"p-dialog-draggable":we,"p-dialog-resizable":ke,"p-dialog-maximized":X}},j=function(Be,we){return{transform:Be,transition:we}},G=function(Be){return{value:"visible",params:Be}};function ie(Be,we){if(1&Be){const ke=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(q){e.CHM(ke);const pe=e.oxw(2);return e.KtG(pe.onAnimationStart(q))})("@animation.done",function(q){e.CHM(ke);const pe=e.oxw(2);return e.KtG(pe.onAnimationEnd(q))}),e.YNc(2,T,1,0,"div",5),e.YNc(3,H,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,D,1,0,"ng-container",9),e.qZA(),e.YNc(8,Y,4,1,"div",10),e.qZA()}if(2&Be){const ke=e.oxw(2);e.Tol(ke.styleClass),e.Q6J("ngClass",e.l5B(15,re,ke.rtl,ke.draggable,ke.resizable,ke.maximized))("ngStyle",ke.style)("pFocusTrapDisabled",!1===ke.focusTrap)("@animation",e.VKq(23,G,e.WLB(20,j,ke.transformOptions,ke.transitionOptions))),e.uIk("aria-labelledby",ke.id+"-label"),e.xp6(2),e.Q6J("ngIf",ke.resizable),e.xp6(1),e.Q6J("ngIf",ke.showHeader),e.xp6(1),e.Tol(ke.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",ke.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",ke.contentTemplate),e.xp6(1),e.Q6J("ngIf",ke.footerFacet||ke.footerTemplate)}}const Te=function(Be,we,ke,X,q,pe,_e,Xe,ct,ot){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":Be,"p-dialog-mask-scrollblocker":we,"p-dialog-left":ke,"p-dialog-right":X,"p-dialog-top":q,"p-dialog-top-left":pe,"p-dialog-top-right":_e,"p-dialog-bottom":Xe,"p-dialog-bottom-left":ct,"p-dialog-bottom-right":ot}};function Me(Be,we){if(1&Be&&(e.TgZ(0,"div",1),e.YNc(1,ie,9,25,"div",2),e.qZA()),2&Be){const ke=e.oxw();e.Tol(ke.maskStyleClass),e.Q6J("ngClass",e.rFY(4,Te,[ke.modal,ke.modal||ke.blockScroll,"left"===ke.position,"right"===ke.position,"top"===ke.position,"topleft"===ke.position||"top-left"===ke.position,"topright"===ke.position||"top-right"===ke.position,"bottom"===ke.position,"bottomleft"===ke.position||"bottom-left"===ke.position,"bottomright"===ke.position||"bottom-right"===ke.position])),e.xp6(1),e.Q6J("ngIf",ke.visible)}}const de=["*",[["p-header"]],[["p-footer"]]],te=["*","p-header","p-footer"],ce=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}")]),J=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let ve=(()=>{class Be{constructor(ke,X,q,pe,_e){this.el=ke,this.renderer=X,this.zone=q,this.cd=pe,this.config=_e,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,F.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(ke){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(ke){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(ke){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(ke){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(ke=>{switch(ke.getType()){case"header":this.headerTemplate=ke.template;break;case"content":default:this.contentTemplate=ke.template;break;case"footer":this.footerTemplate=ke.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(ke){this._visible=ke,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(ke){ke&&(this._style=Object.assign({},ke),this.originalStyle=ke)}get position(){return this._position}set position(ke){switch(this._position=ke,ke){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let ke=p.p.findSingle(this.container,"[autofocus]");ke&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ke.focus(),5)})}close(ke){this.visibleChange.emit(!1),ke.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",ke=>{this.wrapper&&this.wrapper.isSameNode(ke.target)&&this.close(ke)})),this.modal&&p.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&p.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?p.p.addClass(document.body,"p-overflow-hidden"):p.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(F.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let ke="";for(let X in this.breakpoints)ke+=`\n                    @media screen and (max-width: ${X}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[X]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=ke}}initDrag(ke){p.p.hasClass(ke.target,"p-dialog-header-icon")||p.p.hasClass(ke.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=ke.pageX,this.lastPageY=ke.pageY,this.container.style.margin="0",p.p.addClass(document.body,"p-unselectable-text"))}onKeydown(ke){if(this.focusTrap&&9===ke.which){ke.preventDefault();let X=p.p.getFocusableElements(this.container);if(X&&X.length>0)if(X[0].ownerDocument.activeElement){let q=X.indexOf(X[0].ownerDocument.activeElement);ke.shiftKey?-1==q||0===q?X[X.length-1].focus():X[q-1].focus():-1==q||q===X.length-1?X[0].focus():X[q+1].focus()}else X[0].focus()}}onDrag(ke){if(this.dragging){let X=p.p.getOuterWidth(this.container),q=p.p.getOuterHeight(this.container),pe=ke.pageX-this.lastPageX,_e=ke.pageY-this.lastPageY,Xe=this.container.getBoundingClientRect(),ct=Xe.left+pe,ot=Xe.top+_e,Zt=p.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(ct>=this.minX&&ct+X<Zt.width&&(this._style.left=ct+"px",this.lastPageX=ke.pageX,this.container.style.left=ct+"px"),ot>=this.minY&&ot+q<Zt.height&&(this._style.top=ot+"px",this.lastPageY=ke.pageY,this.container.style.top=ot+"px")):(this.lastPageX=ke.pageX,this.container.style.left=ct+"px",this.lastPageY=ke.pageY,this.container.style.top=ot+"px")}}endDrag(ke){this.dragging&&(this.dragging=!1,p.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(ke))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(ke){this.resizable&&(this.resizing=!0,this.lastPageX=ke.pageX,this.lastPageY=ke.pageY,p.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(ke))}onResize(ke){if(this.resizing){let X=ke.pageX-this.lastPageX,q=ke.pageY-this.lastPageY,pe=p.p.getOuterWidth(this.container),_e=p.p.getOuterHeight(this.container),Xe=p.p.getOuterHeight(this.contentViewChild.nativeElement),ct=pe+X,ot=_e+q,Zt=this.container.style.minWidth,Dt=this.container.style.minHeight,Cn=this.container.getBoundingClientRect(),Xt=p.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(ct+=X,ot+=q),(!Zt||ct>parseInt(Zt))&&Cn.left+ct<Xt.width&&(this._style.width=ct+"px",this.container.style.width=this._style.width),(!Dt||ot>parseInt(Dt))&&Cn.top+ot<Xt.height&&(this.contentViewChild.nativeElement.style.height=Xe+ot-_e+"px",this._style.height&&(this._style.height=ot+"px",this.container.style.height=this._style.height)),this.lastPageX=ke.pageX,this.lastPageY=ke.pageY}}resizeEnd(ke){this.resizing&&(this.resizing=!1,p.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(ke))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",X=>{27==X.which&&this.close(X)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):p.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(ke){switch(ke.toState){case"visible":this.container=ke.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&p.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&p.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(ke){switch(ke.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(p.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&p.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&F.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return Be.\u0275fac=function(ke){return new(ke||Be)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(x.b4))},Be.\u0275cmp=e.Xpm({type:Be,selectors:[["p-dialog"]],contentQueries:function(ke,X,q){if(1&ke&&(e.Suo(q,x.h4,5),e.Suo(q,x.$_,5),e.Suo(q,x.jx,4)),2&ke){let pe;e.iGM(pe=e.CRH())&&(X.headerFacet=pe.first),e.iGM(pe=e.CRH())&&(X.footerFacet=pe.first),e.iGM(pe=e.CRH())&&(X.templates=pe)}},viewQuery:function(ke,X){if(1&ke&&(e.Gf(O,5),e.Gf(Q,5),e.Gf(N,5)),2&ke){let q;e.iGM(q=e.CRH())&&(X.headerViewChild=q.first),e.iGM(q=e.CRH())&&(X.contentViewChild=q.first),e.iGM(q=e.CRH())&&(X.footerViewChild=q.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:te,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(ke,X){1&ke&&(e.F$t(de),e.YNc(0,Me,2,15,"div",0)),2&ke&&e.Q6J("ngIf",X.maskVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC,R,s.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(ce)]),(0,d.eR)("visible => void",[(0,d._7)(J)])])]},changeDetection:0}),Be})(),be=(()=>{class Be{}return Be.\u0275fac=function(ke){return new(ke||Be)},Be.\u0275mod=e.oAB({type:Be}),Be.\u0275inj=e.cJS({imports:[u.ez,b,s.T,x.m8]}),Be})()},5730:(dn,pt,C)=>{"use strict";C.d(pt,{V:()=>d,p:()=>e});let e=(()=>{class u{static addClass(x,R){x&&R&&(x.classList?x.classList.add(R):x.className+=" "+R)}static addMultipleClasses(x,R){if(x&&R)if(x.classList){let b=R.trim().split(" ");for(let s=0;s<b.length;s++)x.classList.add(b[s])}else{let b=R.split(" ");for(let s=0;s<b.length;s++)x.className+=" "+b[s]}}static removeClass(x,R){x&&R&&(x.classList?x.classList.remove(R):x.className=x.className.replace(new RegExp("(^|\\b)"+R.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(x,R){return!(!x||!R)&&(x.classList?x.classList.contains(R):new RegExp("(^| )"+R+"( |$)","gi").test(x.className))}static siblings(x){return Array.prototype.filter.call(x.parentNode.children,function(R){return R!==x})}static find(x,R){return Array.from(x.querySelectorAll(R))}static findSingle(x,R){return x?x.querySelector(R):null}static index(x){let R=x.parentNode.childNodes,b=0;for(var s=0;s<R.length;s++){if(R[s]==x)return b;1==R[s].nodeType&&b++}return-1}static indexWithinGroup(x,R){let b=x.parentNode?x.parentNode.childNodes:[],s=0;for(var F=0;F<b.length;F++){if(b[F]==x)return s;b[F].attributes&&b[F].attributes[R]&&1==b[F].nodeType&&s++}return-1}static appendOverlay(x,R,b="self"){"self"!==b&&x&&R&&this.appendChild(x,R)}static alignOverlay(x,R,b="self",s=!0){x&&R&&(s&&(x.style.minWidth||(x.style.minWidth=u.getOuterWidth(R)+"px")),"self"===b?this.relativePosition(x,R):this.absolutePosition(x,R))}static relativePosition(x,R){const b=U=>{if(U)return"relative"===getComputedStyle(U).getPropertyValue("position")?U:b(U.parentElement)},s=x.offsetParent?{width:x.offsetWidth,height:x.offsetHeight}:this.getHiddenElementDimensions(x),F=R.offsetHeight,O=R.getBoundingClientRect(),Q=this.getWindowScrollTop(),N=this.getWindowScrollLeft(),T=this.getViewport(),y=b(x),w=(null==y?void 0:y.getBoundingClientRect())||{top:-1*Q,left:-1*N};let k,V;O.top+F+s.height>T.height?(k=O.top-w.top-s.height,x.style.transformOrigin="bottom",O.top+k<0&&(k=-1*O.top)):(k=F+O.top-w.top,x.style.transformOrigin="top"),V=s.width>T.width?-1*(O.left-w.left):O.left-w.left+s.width>T.width?-1*(O.left-w.left+s.width-T.width):O.left-w.left,x.style.top=k+"px",x.style.left=V+"px"}static absolutePosition(x,R){const b=x.offsetParent?{width:x.offsetWidth,height:x.offsetHeight}:this.getHiddenElementDimensions(x),s=b.height,F=b.width,O=R.offsetHeight,Q=R.offsetWidth,N=R.getBoundingClientRect(),T=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),w=this.getViewport();let k,V;N.top+O+s>w.height?(k=N.top+T-s,x.style.transformOrigin="bottom",k<0&&(k=T)):(k=O+N.top+T,x.style.transformOrigin="top"),V=N.left+F>w.width?Math.max(0,N.left+y+Q-F):N.left+y,x.style.top=k+"px",x.style.left=V+"px"}static getParents(x,R=[]){return null===x.parentNode?R:this.getParents(x.parentNode,R.concat([x.parentNode]))}static getScrollableParents(x){let R=[];if(x){let b=this.getParents(x);const s=/(auto|scroll)/,F=O=>{let Q=window.getComputedStyle(O,null);return s.test(Q.getPropertyValue("overflow"))||s.test(Q.getPropertyValue("overflowX"))||s.test(Q.getPropertyValue("overflowY"))};for(let O of b){let Q=1===O.nodeType&&O.dataset.scrollselectors;if(Q){let N=Q.split(",");for(let T of N){let y=this.findSingle(O,T);y&&F(y)&&R.push(y)}}9!==O.nodeType&&F(O)&&R.push(O)}}return R}static getHiddenElementOuterHeight(x){x.style.visibility="hidden",x.style.display="block";let R=x.offsetHeight;return x.style.display="none",x.style.visibility="visible",R}static getHiddenElementOuterWidth(x){x.style.visibility="hidden",x.style.display="block";let R=x.offsetWidth;return x.style.display="none",x.style.visibility="visible",R}static getHiddenElementDimensions(x){let R={};return x.style.visibility="hidden",x.style.display="block",R.width=x.offsetWidth,R.height=x.offsetHeight,x.style.display="none",x.style.visibility="visible",R}static scrollInView(x,R){let b=getComputedStyle(x).getPropertyValue("borderTopWidth"),s=b?parseFloat(b):0,F=getComputedStyle(x).getPropertyValue("paddingTop"),O=F?parseFloat(F):0,Q=x.getBoundingClientRect(),T=R.getBoundingClientRect().top+document.body.scrollTop-(Q.top+document.body.scrollTop)-s-O,y=x.scrollTop,w=x.clientHeight,k=this.getOuterHeight(R);T<0?x.scrollTop=y+T:T+k>w&&(x.scrollTop=y+T-w+k)}static fadeIn(x,R){x.style.opacity=0;let b=+new Date,s=0,F=function(){s=+x.style.opacity.replace(",",".")+((new Date).getTime()-b)/R,x.style.opacity=s,b=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(F)||setTimeout(F,16))};F()}static fadeOut(x,R){var b=1,O=50/R;let Q=setInterval(()=>{(b-=O)<=0&&(b=0,clearInterval(Q)),x.style.opacity=b},50)}static getWindowScrollTop(){let x=document.documentElement;return(window.pageYOffset||x.scrollTop)-(x.clientTop||0)}static getWindowScrollLeft(){let x=document.documentElement;return(window.pageXOffset||x.scrollLeft)-(x.clientLeft||0)}static matches(x,R){var b=Element.prototype;return(b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||function(F){return-1!==[].indexOf.call(document.querySelectorAll(F),this)}).call(x,R)}static getOuterWidth(x,R){let b=x.offsetWidth;if(R){let s=getComputedStyle(x);b+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return b}static getHorizontalPadding(x){let R=getComputedStyle(x);return parseFloat(R.paddingLeft)+parseFloat(R.paddingRight)}static getHorizontalMargin(x){let R=getComputedStyle(x);return parseFloat(R.marginLeft)+parseFloat(R.marginRight)}static innerWidth(x){let R=x.offsetWidth,b=getComputedStyle(x);return R+=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight),R}static width(x){let R=x.offsetWidth,b=getComputedStyle(x);return R-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight),R}static getInnerHeight(x){let R=x.offsetHeight,b=getComputedStyle(x);return R+=parseFloat(b.paddingTop)+parseFloat(b.paddingBottom),R}static getOuterHeight(x,R){let b=x.offsetHeight;if(R){let s=getComputedStyle(x);b+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return b}static getHeight(x){let R=x.offsetHeight,b=getComputedStyle(x);return R-=parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)+parseFloat(b.borderTopWidth)+parseFloat(b.borderBottomWidth),R}static getWidth(x){let R=x.offsetWidth,b=getComputedStyle(x);return R-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)+parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth),R}static getViewport(){let x=window,R=document,b=R.documentElement,s=R.getElementsByTagName("body")[0];return{width:x.innerWidth||b.clientWidth||s.clientWidth,height:x.innerHeight||b.clientHeight||s.clientHeight}}static getOffset(x){var R=x.getBoundingClientRect();return{top:R.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:R.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(x,R){let b=x.parentNode;if(!b)throw"Can't replace element";return b.replaceChild(R,x)}static getUserAgent(){return navigator.userAgent}static isIE(){var x=window.navigator.userAgent;return x.indexOf("MSIE ")>0||(x.indexOf("Trident/")>0?(x.indexOf("rv:"),!0):x.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(x,R){if(this.isElement(R))R.appendChild(x);else{if(!R.el||!R.el.nativeElement)throw"Cannot append "+R+" to "+x;R.el.nativeElement.appendChild(x)}}static removeChild(x,R){if(this.isElement(R))R.removeChild(x);else{if(!R.el||!R.el.nativeElement)throw"Cannot remove "+x+" from "+R;R.el.nativeElement.removeChild(x)}}static removeElement(x){"remove"in Element.prototype?x.remove():x.parentNode.removeChild(x)}static isElement(x){return"object"==typeof HTMLElement?x instanceof HTMLElement:x&&"object"==typeof x&&null!==x&&1===x.nodeType&&"string"==typeof x.nodeName}static calculateScrollbarWidth(x){if(x){let R=getComputedStyle(x);return x.offsetWidth-x.clientWidth-parseFloat(R.borderLeftWidth)-parseFloat(R.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let R=document.createElement("div");R.className="p-scrollbar-measure",document.body.appendChild(R);let b=R.offsetWidth-R.clientWidth;return document.body.removeChild(R),this.calculatedScrollbarWidth=b,b}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let x=document.createElement("div");x.className="p-scrollbar-measure",document.body.appendChild(x);let R=x.offsetHeight-x.clientHeight;return document.body.removeChild(x),this.calculatedScrollbarWidth=R,R}static invokeElementMethod(x,R,b){x[R].apply(x,b)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(x){}}static getBrowser(){if(!this.browser){let x=this.resolveUserAgent();this.browser={},x.browser&&(this.browser[x.browser]=!0,this.browser.version=x.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let x=navigator.userAgent.toLowerCase(),R=/(chrome)[ \/]([\w.]+)/.exec(x)||/(webkit)[ \/]([\w.]+)/.exec(x)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(x)||/(msie) ([\w.]+)/.exec(x)||x.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(x)||[];return{browser:R[1]||"",version:R[2]||"0"}}static isInteger(x){return Number.isInteger?Number.isInteger(x):"number"==typeof x&&isFinite(x)&&Math.floor(x)===x}static isHidden(x){return!x||null===x.offsetParent}static isVisible(x){return x&&null!=x.offsetParent}static isExist(x){return null!=x&&x.nodeName&&x.parentNode}static focus(x,R){x&&document.activeElement!==x&&x.focus(R)}static getFocusableElements(x){let R=u.find(x,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),b=[];for(let s of R)"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&b.push(s);return b}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(x,R){if(!x)return null;switch(x){case"document":return document;case"window":return window;case"@next":return null==R?void 0:R.nextElementSibling;case"@prev":return null==R?void 0:R.previousElementSibling;case"@parent":return null==R?void 0:R.parentElement;case"@grandparent":return null==R?void 0:R.parentElement.parentElement;default:const b=typeof x;if("string"===b)return document.querySelector(x);if("object"===b&&x.hasOwnProperty("nativeElement"))return this.isExist(x.nativeElement)?x.nativeElement:void 0;const F=(O=x)&&O.constructor&&O.call&&O.apply?x():x;return F&&9===F.nodeType||this.isExist(F)?F:null}var O}}return u.zindex=1e3,u.calculatedScrollbarWidth=null,u.calculatedScrollbarHeight=null,u})();class d{constructor(p,x=(()=>{})){this.element=p,this.listener=x}bindScrollListener(){this.scrollableParents=e.getScrollableParents(this.element);for(let p=0;p<this.scrollableParents.length;p++)this.scrollableParents[p].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let p=0;p<this.scrollableParents.length;p++)this.scrollableParents[p].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},9873:(dn,pt,C)=>{"use strict";C.d(pt,{_l:()=>p,_t:()=>R,bK:()=>x});var e=C(5e3),d=C(9808),u=C(5730);let p=(()=>{class b{constructor(F,O){this.el=F,this.zone=O,this.onDragStart=new e.vpe,this.onDragEnd=new e.vpe,this.onDrag=new e.vpe}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(F){this._pDraggableDisabled=F,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(F){this.onDrag.emit(F)}dragStart(F){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(F.dataTransfer.effectAllowed=this.dragEffect),F.dataTransfer.setData("text",this.scope),this.onDragStart.emit(F),this.bindDragListener()):F.preventDefault()}dragEnd(F){this.onDragEnd.emit(F),this.unbindDragListener()}mousedown(F){this.handle=F.target}mouseup(F){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||u.p.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return b.\u0275fac=function(F){return new(F||b)(e.Y36(e.SBq),e.Y36(e.R0b))},b.\u0275dir=e.lG2({type:b,selectors:[["","pDraggable",""]],hostAttrs:[1,"p-element"],hostBindings:function(F,O){1&F&&e.NdJ("dragstart",function(N){return O.dragStart(N)})("dragend",function(N){return O.dragEnd(N)})},inputs:{scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),b})(),x=(()=>{class b{constructor(F,O){this.el=F,this.zone=O,this.onDragEnter=new e.vpe,this.onDragLeave=new e.vpe,this.onDrop=new e.vpe}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(F){F.preventDefault()}drop(F){this.allowDrop(F)&&(u.p.removeClass(this.el.nativeElement,"p-draggable-enter"),F.preventDefault(),this.onDrop.emit(F))}dragEnter(F){F.preventDefault(),this.dropEffect&&(F.dataTransfer.dropEffect=this.dropEffect),u.p.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(F)}dragLeave(F){F.preventDefault(),u.p.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(F)}allowDrop(F){let O=F.dataTransfer.getData("text");if("string"==typeof this.scope&&O==this.scope)return!0;if(this.scope instanceof Array)for(let Q=0;Q<this.scope.length;Q++)if(O==this.scope[Q])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return b.\u0275fac=function(F){return new(F||b)(e.Y36(e.SBq),e.Y36(e.R0b))},b.\u0275dir=e.lG2({type:b,selectors:[["","pDroppable",""]],hostAttrs:[1,"p-element"],hostBindings:function(F,O){1&F&&e.NdJ("drop",function(N){return O.drop(N)})("dragenter",function(N){return O.dragEnter(N)})("dragleave",function(N){return O.dragLeave(N)})},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),b})(),R=(()=>{class b{}return b.\u0275fac=function(F){return new(F||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[d.ez]}),b})()},4036:(dn,pt,C)=>{"use strict";C.d(pt,{Lt:()=>Tn,kW:()=>qt});var e=C(9808),d=C(5e3),u=C(2382),p=C(9783),x=C(9618),R=C(5730),b=C(8050),s=C(5787),F=C(5871),O=C(4119),Q=C(5921);function N(xt,Ct){if(1&xt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&xt){const me=d.oxw();d.xp6(1),d.Oqu(me.label||"empty")}}function T(xt,Ct){1&xt&&d.GkF(0)}const y=function(xt){return{height:xt}},w=function(xt,Ct){return{"p-dropdown-item":!0,"p-highlight":xt,"p-disabled":Ct}},k=function(xt){return{$implicit:xt}},V=["container"],U=["filter"],oe=["in"],K=["editableInput"],H=["items"],D=["scroller"],P=["overlay"];function Y(xt,Ct){if(1&xt&&(d.ynx(0),d._uU(1),d.BQk()),2&xt){const me=d.oxw(2);d.xp6(1),d.Oqu(me.label||"empty")}}function re(xt,Ct){1&xt&&d.GkF(0)}const j=function(xt){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":xt}};function G(xt,Ct){if(1&xt&&(d.TgZ(0,"span",14),d.YNc(1,Y,2,1,"ng-container",15),d.YNc(2,re,1,0,"ng-container",16),d.qZA()),2&xt){const me=d.oxw();d.Q6J("ngClass",d.VKq(9,j,null==me.label||0===me.label.length))("pTooltip",me.tooltip)("tooltipPosition",me.tooltipPosition)("positionStyle",me.tooltipPositionStyle)("tooltipStyleClass",me.tooltipStyleClass),d.uIk("id",me.labelId),d.xp6(1),d.Q6J("ngIf",!me.selectedItemTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",me.selectedItemTemplate)("ngTemplateOutletContext",d.VKq(11,k,me.selectedOption))}}const ie=function(xt){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":xt}};function Te(xt,Ct){if(1&xt&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&xt){const me=d.oxw();d.Q6J("ngClass",d.VKq(2,ie,null==me.placeholder||0===me.placeholder.length)),d.xp6(1),d.Oqu(me.placeholder||"empty")}}function Me(xt,Ct){if(1&xt){const me=d.EpF();d.TgZ(0,"input",18,19),d.NdJ("input",function($e){d.CHM(me);const Lt=d.oxw();return d.KtG(Lt.onEditableInputChange($e))})("focus",function($e){d.CHM(me);const Lt=d.oxw();return d.KtG(Lt.onEditableInputFocus($e))})("blur",function($e){d.CHM(me);const Lt=d.oxw();return d.KtG(Lt.onInputBlur($e))}),d.qZA()}if(2&xt){const me=d.oxw();d.Q6J("disabled",me.disabled),d.uIk("maxlength",me.maxlength)("placeholder",me.placeholder)("aria-expanded",me.overlayVisible)}}function de(xt,Ct){if(1&xt){const me=d.EpF();d.TgZ(0,"i",20),d.NdJ("click",function($e){d.CHM(me);const Lt=d.oxw();return d.KtG(Lt.clear($e))}),d.qZA()}}function te(xt,Ct){1&xt&&d.GkF(0)}function ce(xt,Ct){1&xt&&d.GkF(0)}const J=function(xt){return{options:xt}};function ve(xt,Ct){if(1&xt&&(d.ynx(0),d.YNc(1,ce,1,0,"ng-container",16),d.BQk()),2&xt){const me=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",me.filterTemplate)("ngTemplateOutletContext",d.VKq(2,J,me.filterOptions))}}function be(xt,Ct){if(1&xt){const me=d.EpF();d.TgZ(0,"div",30)(1,"input",31,32),d.NdJ("keydown.enter",function($e){return $e.preventDefault()})("keydown",function($e){d.CHM(me);const Lt=d.oxw(3);return d.KtG(Lt.onKeydown($e,!1))})("input",function($e){d.CHM(me);const Lt=d.oxw(3);return d.KtG(Lt.onFilterInputChange($e))}),d.qZA(),d._UZ(3,"span",33),d.qZA()}if(2&xt){const me=d.oxw(3);d.xp6(1),d.Q6J("value",me.filterValue||""),d.uIk("placeholder",me.filterPlaceholder)("aria-label",me.ariaFilterLabel)("aria-activedescendant",me.overlayVisible?"p-highlighted-option":me.labelId)}}function Be(xt,Ct){if(1&xt&&(d.TgZ(0,"div",27),d.NdJ("click",function(lt){return lt.stopPropagation()}),d.YNc(1,ve,2,4,"ng-container",28),d.YNc(2,be,4,4,"ng-template",null,29,d.W1O),d.qZA()),2&xt){const me=d.MAs(3),lt=d.oxw(2);d.xp6(1),d.Q6J("ngIf",lt.filterTemplate)("ngIfElse",me)}}function we(xt,Ct){1&xt&&d.GkF(0)}const ke=function(xt,Ct){return{$implicit:xt,options:Ct}};function X(xt,Ct){if(1&xt&&d.YNc(0,we,1,0,"ng-container",16),2&xt){const me=Ct.$implicit,lt=Ct.options;d.oxw(2);const $e=d.MAs(7);d.Q6J("ngTemplateOutlet",$e)("ngTemplateOutletContext",d.WLB(2,ke,me,lt))}}function q(xt,Ct){1&xt&&d.GkF(0)}function pe(xt,Ct){if(1&xt&&d.YNc(0,q,1,0,"ng-container",16),2&xt){const me=Ct.options,lt=d.oxw(4);d.Q6J("ngTemplateOutlet",lt.loaderTemplate)("ngTemplateOutletContext",d.VKq(2,J,me))}}function _e(xt,Ct){1&xt&&(d.ynx(0),d.YNc(1,pe,1,4,"ng-template",36),d.BQk())}function Xe(xt,Ct){if(1&xt){const me=d.EpF();d.TgZ(0,"p-scroller",34,35),d.NdJ("onLazyLoad",function($e){d.CHM(me);const Lt=d.oxw(2);return d.KtG(Lt.onLazyLoad.emit($e))}),d.YNc(2,X,1,5,"ng-template",13),d.YNc(3,_e,2,0,"ng-container",15),d.qZA()}if(2&xt){const me=d.oxw(2);d.Akn(d.VKq(8,y,me.scrollHeight)),d.Q6J("items",me.optionsToDisplay)("itemSize",me.virtualScrollItemSize||me._itemSize)("autoSize",!0)("lazy",me.lazy)("options",me.virtualScrollOptions),d.xp6(3),d.Q6J("ngIf",me.loaderTemplate)}}function ct(xt,Ct){1&xt&&d.GkF(0)}const ot=function(){return{}};function Zt(xt,Ct){if(1&xt&&(d.ynx(0),d.YNc(1,ct,1,0,"ng-container",16),d.BQk()),2&xt){d.oxw();const me=d.MAs(7),lt=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",d.WLB(3,ke,lt.optionsToDisplay,d.DdM(2,ot)))}}function Dt(xt,Ct){if(1&xt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&xt){const me=d.oxw().$implicit,lt=d.oxw(4);d.xp6(1),d.Oqu(lt.getOptionGroupLabel(me)||"empty")}}function Cn(xt,Ct){1&xt&&d.GkF(0)}function Xt(xt,Ct){1&xt&&d.GkF(0)}const jt=function(xt,Ct){return{$implicit:xt,selectedOption:Ct}};function ht(xt,Ct){if(1&xt&&(d.TgZ(0,"li",42),d.YNc(1,Dt,2,1,"span",15),d.YNc(2,Cn,1,0,"ng-container",16),d.qZA(),d.YNc(3,Xt,1,0,"ng-container",16)),2&xt){const me=Ct.$implicit,lt=d.oxw(2).options,$e=d.MAs(5),Lt=d.oxw(2);d.Q6J("ngStyle",d.VKq(6,y,lt.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Lt.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",Lt.groupTemplate)("ngTemplateOutletContext",d.VKq(8,k,me)),d.xp6(1),d.Q6J("ngTemplateOutlet",$e)("ngTemplateOutletContext",d.WLB(10,jt,Lt.getOptionGroupChildren(me),Lt.selectedOption))}}function ut(xt,Ct){if(1&xt&&(d.ynx(0),d.YNc(1,ht,4,13,"ng-template",41),d.BQk()),2&xt){const me=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",me)}}function xe(xt,Ct){1&xt&&d.GkF(0)}function De(xt,Ct){if(1&xt&&(d.ynx(0),d.YNc(1,xe,1,0,"ng-container",16),d.BQk()),2&xt){const me=d.oxw().$implicit,lt=d.MAs(5),$e=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",lt)("ngTemplateOutletContext",d.WLB(2,jt,me,$e.selectedOption))}}function We(xt,Ct){if(1&xt){const me=d.EpF();d.TgZ(0,"p-dropdownItem",43),d.NdJ("onClick",function($e){d.CHM(me);const Lt=d.oxw(4);return d.KtG(Lt.onItemClick($e))}),d.qZA()}if(2&xt){const me=Ct.$implicit,lt=d.oxw().selectedOption,$e=d.oxw(3);d.Q6J("option",me)("selected",lt==me)("label",$e.getOptionLabel(me))("disabled",$e.isOptionDisabled(me))("template",$e.itemTemplate)}}function gt(xt,Ct){1&xt&&d.YNc(0,We,1,5,"ng-template",41),2&xt&&d.Q6J("ngForOf",Ct.$implicit)}function Tt(xt,Ct){if(1&xt&&(d.ynx(0),d._uU(1),d.BQk()),2&xt){const me=d.oxw(4);d.xp6(1),d.hij(" ",me.emptyFilterMessageLabel," ")}}function Ft(xt,Ct){1&xt&&d.GkF(0,null,45)}function Ot(xt,Ct){if(1&xt&&(d.TgZ(0,"li",44),d.YNc(1,Tt,2,1,"ng-container",28),d.YNc(2,Ft,2,0,"ng-container",22),d.qZA()),2&xt){const me=d.oxw().options,lt=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,y,me.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!lt.emptyFilterTemplate&&!lt.emptyTemplate)("ngIfElse",lt.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",lt.emptyFilterTemplate||lt.emptyTemplate)}}function Oe(xt,Ct){if(1&xt&&(d.ynx(0),d._uU(1),d.BQk()),2&xt){const me=d.oxw(4);d.xp6(1),d.hij(" ",me.emptyMessageLabel," ")}}function et(xt,Ct){1&xt&&d.GkF(0,null,46)}function Ne(xt,Ct){if(1&xt&&(d.TgZ(0,"li",44),d.YNc(1,Oe,2,1,"ng-container",28),d.YNc(2,et,2,0,"ng-container",22),d.qZA()),2&xt){const me=d.oxw().options,lt=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,y,me.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!lt.emptyTemplate)("ngIfElse",lt.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",lt.emptyTemplate)}}function yt(xt,Ct){if(1&xt&&(d.TgZ(0,"ul",37,38),d.YNc(2,ut,2,1,"ng-container",15),d.YNc(3,De,2,5,"ng-container",15),d.YNc(4,gt,1,1,"ng-template",null,39,d.W1O),d.YNc(6,Ot,3,6,"li",40),d.YNc(7,Ne,3,6,"li",40),d.qZA()),2&xt){const me=Ct.options,lt=d.oxw(2);d.Akn(me.contentStyle),d.Q6J("ngClass",me.contentStyleClass),d.uIk("id",lt.listId),d.xp6(2),d.Q6J("ngIf",lt.group),d.xp6(1),d.Q6J("ngIf",!lt.group),d.xp6(3),d.Q6J("ngIf",lt.filterValue&&lt.isEmpty()),d.xp6(1),d.Q6J("ngIf",!lt.filterValue&&lt.isEmpty())}}function ee(xt,Ct){1&xt&&d.GkF(0)}function Ze(xt,Ct){if(1&xt&&(d.TgZ(0,"div",21),d.YNc(1,te,1,0,"ng-container",22),d.YNc(2,Be,4,2,"div",23),d.TgZ(3,"div",24),d.YNc(4,Xe,4,10,"p-scroller",25),d.YNc(5,Zt,2,6,"ng-container",15),d.YNc(6,yt,8,8,"ng-template",null,26,d.W1O),d.qZA(),d.YNc(8,ee,1,0,"ng-container",22),d.qZA()),2&xt){const me=d.oxw();d.Tol(me.panelStyleClass),d.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",me.panelStyle),d.xp6(1),d.Q6J("ngTemplateOutlet",me.headerTemplate),d.xp6(1),d.Q6J("ngIf",me.filter),d.xp6(1),d.Udp("max-height",me.virtualScroll?"auto":me.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngIf",me.virtualScroll),d.xp6(1),d.Q6J("ngIf",!me.virtualScroll),d.xp6(3),d.Q6J("ngTemplateOutlet",me.footerTemplate)}}const Ce=function(xt,Ct,me,lt){return{"p-dropdown p-component":!0,"p-disabled":xt,"p-dropdown-open":Ct,"p-focus":me,"p-dropdown-clearable":lt}},ft={provide:u.JU,useExisting:(0,d.Gpc)(()=>Tn),multi:!0};let an=(()=>{class xt{constructor(){this.onClick=new d.vpe}onOptionClick(me){this.onClick.emit({originalEvent:me,option:this.option})}}return xt.\u0275fac=function(me){return new(me||xt)},xt.\u0275cmp=d.Xpm({type:xt,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(me,lt){1&me&&(d.TgZ(0,"li",0),d.NdJ("click",function(Lt){return lt.onOptionClick(Lt)}),d.YNc(1,N,2,1,"span",1),d.YNc(2,T,1,0,"ng-container",2),d.qZA()),2&me&&(d.Q6J("ngStyle",d.VKq(8,y,lt.itemSize+"px"))("id",lt.selected?"p-highlighted-option":"")("ngClass",d.WLB(10,w,lt.selected,lt.disabled)),d.uIk("aria-label",lt.label)("aria-selected",lt.selected),d.xp6(1),d.Q6J("ngIf",!lt.template),d.xp6(1),d.Q6J("ngTemplateOutlet",lt.template)("ngTemplateOutletContext",d.VKq(13,k,lt.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,s.H],encapsulation:2}),xt})(),Tn=(()=>{class xt{constructor(me,lt,$e,Lt,je,sn){this.el=me,this.renderer=lt,this.cd=$e,this.zone=Lt,this.filterService=je,this.config=sn,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onShow=new d.vpe,this.onHide=new d.vpe,this.onClear=new d.vpe,this.onLazyLoad=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,Q.Th)()}get disabled(){return this._disabled}set disabled(me){me&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=me,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(me){this._itemSize=me,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(me){this._autoZIndex=me,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(me){this._baseZIndex=me,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(me){this._showTransitionOptions=me,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(me){this._hideTransitionOptions=me,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(me=>{switch(me.getType()){case"item":default:this.itemTemplate=me.template;break;case"selectedItem":this.selectedItemTemplate=me.template;break;case"header":this.headerTemplate=me.template;break;case"filter":this.filterTemplate=me.template;break;case"footer":this.footerTemplate=me.template;break;case"emptyfilter":this.emptyFilterTemplate=me.template;break;case"empty":this.emptyTemplate=me.template;break;case"group":this.groupTemplate=me.template;break;case"loader":this.loaderTemplate=me.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:me=>this.onFilterInputChange(me),reset:()=>this.resetFilter()})}get options(){return this._options}set options(me){this._options=me,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Q.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(me){this._filterValue=me,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(p.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(p.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(me){return this.optionLabel?Q.gb.resolveFieldData(me,this.optionLabel):me&&void 0!==me.label?me.label:me}getOptionValue(me){return this.optionValue?Q.gb.resolveFieldData(me,this.optionValue):!this.optionLabel&&me&&void 0!==me.value?me.value:me}isOptionDisabled(me){return this.optionDisabled?Q.gb.resolveFieldData(me,this.optionDisabled):!(!me||void 0===me.disabled)&&me.disabled}getOptionGroupLabel(me){return this.optionGroupLabel?Q.gb.resolveFieldData(me,this.optionGroupLabel):me&&void 0!==me.label?me.label:me}getOptionGroupChildren(me){return this.optionGroupChildren?Q.gb.resolveFieldData(me,this.optionGroupChildren):me.items}onItemClick(me){const lt=me.option;this.isOptionDisabled(lt)||(this.selectItem(me.originalEvent,lt),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(me,lt){this.selectedOption!=lt&&(this.selectedOption=lt,this.value=this.getOptionValue(lt),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:me,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(R.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&R.p.scrollInView(this.itemsWrapper,R.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(me){this.filter&&this.resetFilter(),this.value=me,this.updateSelectedOption(me),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(me){this.selectedOption=this.findOption(me,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(me){this.onModelChange=me}registerOnTouched(me){this.onModelTouched=me}setDisabledState(me){this.disabled=me,this.cd.markForCheck()}onMouseclick(me){this.disabled||this.readonly||this.isInputClick(me)||(this.onClick.emit(me),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(me){return R.p.hasClass(me.target,"p-dropdown-clear-icon")||me.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&me.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(me){this.focused=!0,this.hide(),this.onFocus.emit(me)}onEditableInputChange(me){this.value=me.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:me,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(me){if("visible"===me.toState){if(this.itemsWrapper=R.p.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const lt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==lt&&this.scroller.scrollToIndex(lt)}else{let lt=R.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");lt&&lt.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(me)}"void"===me.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(me))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(me){this.focused=!0,this.onFocus.emit(me)}onInputBlur(me){this.focused=!1,this.onBlur.emit(me),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(me){let lt;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let $e=me-1;0<=$e;$e--){let Lt=this.optionsToDisplay[$e];if(!this.isOptionDisabled(Lt)){lt=Lt;break}}if(!lt)for(let $e=this.optionsToDisplay.length-1;$e>=me;$e--){let Lt=this.optionsToDisplay[$e];if(!this.isOptionDisabled(Lt)){lt=Lt;break}}}return lt}findNextEnabledOption(me){let lt;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let $e=me+1;$e<this.optionsToDisplay.length;$e++){let Lt=this.optionsToDisplay[$e];if(!this.isOptionDisabled(Lt)){lt=Lt;break}}if(!lt)for(let $e=0;$e<me;$e++){let Lt=this.optionsToDisplay[$e];if(!this.isOptionDisabled(Lt)){lt=Lt;break}}}return lt}onKeydown(me,lt){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(me.which){case 40:if(!this.overlayVisible&&me.altKey)this.show();else if(this.group){let $e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==$e){let Lt=$e.itemIndex+1;Lt<this.getOptionGroupChildren(this.optionsToDisplay[$e.groupIndex]).length?(this.selectItem(me,this.getOptionGroupChildren(this.optionsToDisplay[$e.groupIndex])[Lt]),this.selectedOptionUpdated=!0):this.optionsToDisplay[$e.groupIndex+1]&&(this.selectItem(me,this.getOptionGroupChildren(this.optionsToDisplay[$e.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(me,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let $e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Lt=this.findNextEnabledOption($e);Lt&&(this.selectItem(me,Lt),this.selectedOptionUpdated=!0)}me.preventDefault();break;case 38:if(this.group){let $e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==$e){let Lt=$e.itemIndex-1;if(Lt>=0)this.selectItem(me,this.getOptionGroupChildren(this.optionsToDisplay[$e.groupIndex])[Lt]),this.selectedOptionUpdated=!0;else if(Lt<0){let je=this.optionsToDisplay[$e.groupIndex-1];je&&(this.selectItem(me,this.getOptionGroupChildren(je)[this.getOptionGroupChildren(je).length-1]),this.selectedOptionUpdated=!0)}}}else{let $e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Lt=this.findPrevEnabledOption($e);Lt&&(this.selectItem(me,Lt),this.selectedOptionUpdated=!0)}me.preventDefault();break;case 32:lt&&(this.overlayVisible?this.hide():this.show(),me.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),me.preventDefault();break;case 27:case 9:this.hide();break;default:lt&&!me.metaKey&&17!==me.which&&this.search(me)}}search(me){this.searchTimeout&&clearTimeout(this.searchTimeout);const lt=me.key;let $e;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=lt,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+lt:lt,this.group){let Lt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};$e=this.searchOptionWithinGroup(Lt)}else{let Lt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;$e=this.searchOption(++Lt)}$e&&!this.isOptionDisabled($e)&&(this.selectItem(me,$e),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(me){let lt;return this.searchValue&&(lt=this.searchOptionInRange(me,this.optionsToDisplay.length),lt||(lt=this.searchOptionInRange(0,me))),lt}searchOptionInRange(me,lt){for(let $e=me;$e<lt;$e++){let Lt=this.optionsToDisplay[$e];if(this.getOptionLabel(Lt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Lt))return Lt}return null}searchOptionWithinGroup(me){if(this.searchValue){for(let $e=me.groupIndex;$e<this.optionsToDisplay.length;$e++)for(let Lt=me.groupIndex===$e?me.itemIndex+1:0;Lt<this.getOptionGroupChildren(this.optionsToDisplay[$e]).length;Lt++){let je=this.getOptionGroupChildren(this.optionsToDisplay[$e])[Lt];if(this.getOptionLabel(je).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(je))return je}for(let $e=0;$e<=me.groupIndex;$e++)for(let Lt=0;Lt<(me.groupIndex===$e?me.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[$e]).length);Lt++){let je=this.getOptionGroupChildren(this.optionsToDisplay[$e])[Lt];if(this.getOptionLabel(je).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(je))return je}}return null}findOptionIndex(me,lt){let $e=-1;if(lt)for(let Lt=0;Lt<lt.length;Lt++)if(null==me&&null==this.getOptionValue(lt[Lt])||Q.gb.equals(me,this.getOptionValue(lt[Lt]),this.dataKey)){$e=Lt;break}return $e}findOptionGroupIndex(me,lt){let $e,Lt;if(lt)for(let je=0;je<lt.length&&($e=je,Lt=this.findOptionIndex(me,this.getOptionGroupChildren(lt[je])),-1===Lt);je++);return-1!==Lt?{groupIndex:$e,itemIndex:Lt}:-1}findOption(me,lt,$e){if(this.group&&!$e){let Lt;if(lt&&lt.length)for(let je of lt)if(Lt=this.findOption(me,this.getOptionGroupChildren(je),!0),Lt)break;return Lt}{let Lt=this.findOptionIndex(me,lt);return-1!=Lt?lt[Lt]:null}}onFilterInputChange(me){let lt=me.target.value;lt&&lt.length?(this._filterValue=lt,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:me,filter:this._filterValue})}activateFilter(){let me=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let lt=[];for(let $e of this.options){let Lt=this.filterService.filter(this.getOptionGroupChildren($e),me,this.filterValue,this.filterMatchMode,this.filterLocale);Lt&&Lt.length&&lt.push(Object.assign(Object.assign({},$e),{[this.optionGroupChildren]:Lt}))}this.optionsToDisplay=lt}else this.optionsToDisplay=this.filterService.filter(this.options,me,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?R.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():R.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(me){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:me,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(me)}}return xt.\u0275fac=function(me){return new(me||xt)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(p.iZ),d.Y36(p.b4))},xt.\u0275cmp=d.Xpm({type:xt,selectors:[["p-dropdown"]],contentQueries:function(me,lt,$e){if(1&me&&d.Suo($e,p.jx,4),2&me){let Lt;d.iGM(Lt=d.CRH())&&(lt.templates=Lt)}},viewQuery:function(me,lt){if(1&me&&(d.Gf(V,5),d.Gf(U,5),d.Gf(oe,5),d.Gf(K,5),d.Gf(H,5),d.Gf(D,5),d.Gf(P,5)),2&me){let $e;d.iGM($e=d.CRH())&&(lt.containerViewChild=$e.first),d.iGM($e=d.CRH())&&(lt.filterViewChild=$e.first),d.iGM($e=d.CRH())&&(lt.accessibleViewChild=$e.first),d.iGM($e=d.CRH())&&(lt.editableInputViewChild=$e.first),d.iGM($e=d.CRH())&&(lt.itemsViewChild=$e.first),d.iGM($e=d.CRH())&&(lt.scroller=$e.first),d.iGM($e=d.CRH())&&(lt.overlayViewChild=$e.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(me,lt){2&me&&d.ekj("p-inputwrapper-filled",lt.filled)("p-inputwrapper-focus",lt.focused||lt.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[d._Bn([ft])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(me,lt){1&me&&(d.TgZ(0,"div",0,1),d.NdJ("click",function(Lt){return lt.onMouseclick(Lt)}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(Lt){return lt.onInputFocus(Lt)})("blur",function(Lt){return lt.onInputBlur(Lt)})("keydown",function(Lt){return lt.onKeydown(Lt,!0)}),d.qZA()(),d.YNc(5,G,3,13,"span",5),d.YNc(6,Te,2,4,"span",6),d.YNc(7,Me,2,4,"input",7),d.YNc(8,de,1,0,"i",8),d.TgZ(9,"div",9),d._UZ(10,"span",10),d.qZA(),d.TgZ(11,"p-overlay",11,12),d.NdJ("visibleChange",function(Lt){return lt.overlayVisible=Lt})("onAnimationStart",function(Lt){return lt.onOverlayAnimationStart(Lt)})("onHide",function(){return lt.hide()}),d.YNc(13,Ze,9,11,"ng-template",13),d.qZA()()),2&me&&(d.Tol(lt.styleClass),d.Q6J("ngClass",d.l5B(27,Ce,lt.disabled,lt.overlayVisible,lt.focused,lt.showClear&&!lt.disabled))("ngStyle",lt.style),d.xp6(3),d.Q6J("disabled",lt.disabled)("autofocus",lt.autofocus),d.uIk("id",lt.inputId)("placeholder",lt.placeholder)("aria-label",lt.ariaLabel)("aria-expanded",!1)("aria-labelledby",lt.ariaLabelledBy)("tabindex",lt.tabindex)("aria-activedescendant",lt.overlayVisible?lt.labelId:null),d.xp6(2),d.Q6J("ngIf",!lt.editable&&null!=lt.label),d.xp6(1),d.Q6J("ngIf",!lt.editable&&null==lt.label),d.xp6(1),d.Q6J("ngIf",lt.editable),d.xp6(1),d.Q6J("ngIf",lt.isVisibleClearIcon),d.xp6(1),d.uIk("aria-expanded",lt.overlayVisible),d.xp6(1),d.Q6J("ngClass",lt.dropdownIcon),d.xp6(1),d.Q6J("visible",lt.overlayVisible)("options",lt.overlayOptions)("target","@parent")("appendTo",lt.appendTo)("autoZIndex",lt.autoZIndex)("baseZIndex",lt.baseZIndex)("showTransitionOptions",lt.showTransitionOptions)("hideTransitionOptions",lt.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,b.aV,p.jx,O.u,F.T,x.P,an],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),xt})(),qt=(()=>{class xt{}return xt.\u0275fac=function(me){return new(me||xt)},xt.\u0275mod=d.oAB({type:xt}),xt.\u0275inj=d.cJS({imports:[e.ez,b.U8,p.m8,O.z,s.T,F.v,x.E,b.U8,p.m8,F.v]}),xt})()},5330:(dn,pt,C)=>{"use strict";C.d(pt,{DL:()=>Te,E7:()=>re,S:()=>Y,xA:()=>de});var e=C(5e3),d=C(1777),u=C(9808),p=C(5730),x=C(5921),R=C(7579),b=C(9783);const s=["mask"],F=["content"],O=["titlebar"];function Q(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(be){e.CHM(J);const Be=e.oxw(2);return e.KtG(Be.initResize(be))}),e.qZA()}}const N=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function T(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(J);const be=e.oxw(3);return e.KtG(be.maximize())})("keydown.enter",function(){e.CHM(J);const be=e.oxw(3);return e.KtG(be.maximize())}),e._UZ(1,"span",19),e.qZA()}if(2&te){const J=e.oxw(3);e.Q6J("ngClass",e.DdM(2,N)),e.xp6(1),e.Q6J("ngClass",J.maximized?J.minimizeIcon:J.maximizeIcon)}}function y(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(J);const be=e.oxw(3);return e.KtG(be.hide())})("keydown.enter",function(){e.CHM(J);const be=e.oxw(3);return e.KtG(be.hide())}),e._UZ(1,"span",21),e.qZA()}2&te&&e.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function w(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(be){e.CHM(J);const Be=e.oxw(2);return e.KtG(Be.initDrag(be))}),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.TgZ(4,"div",15),e.YNc(5,T,2,3,"button",16),e.YNc(6,y,2,1,"button",17),e.qZA()()}if(2&te){const J=e.oxw(2);e.xp6(3),e.Oqu(J.config.header),e.xp6(2),e.Q6J("ngIf",J.config.maximizable),e.xp6(1),e.Q6J("ngIf",!1!==J.config.closable)}}function k(te,ce){}function V(te,ce){if(1&te&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&te){const J=e.oxw(2);e.xp6(1),e.hij(" ",J.config.footer," ")}}const U=function(te,ce,J,ve){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":te,"p-dialog-resizable":ce,"p-dialog-draggable":J,"p-dialog-maximized":ve}},oe=function(te,ce){return{transform:te,transition:ce}},K=function(te){return{value:"visible",params:te}};function H(te,ce){if(1&te){const J=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(be){e.CHM(J);const Be=e.oxw();return e.KtG(Be.onAnimationStart(be))})("@animation.done",function(be){e.CHM(J);const Be=e.oxw();return e.KtG(Be.onAnimationEnd(be))}),e.YNc(2,Q,1,0,"div",5),e.YNc(3,w,7,3,"div",6),e.TgZ(4,"div",7,8),e.YNc(6,k,0,0,"ng-template",9),e.qZA(),e.YNc(7,V,2,1,"div",10),e.qZA()}if(2&te){const J=e.oxw();e.Tol(J.config.styleClass),e.Udp("width",J.config.width)("height",J.config.height),e.Q6J("ngClass",e.l5B(13,U,J.config.rtl,J.config.resizable,J.config.draggable,J.maximized))("ngStyle",J.config.style)("@animation",e.VKq(21,K,e.WLB(18,oe,J.transformOptions,J.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),e.xp6(2),e.Q6J("ngIf",J.config.resizable),e.xp6(1),e.Q6J("ngIf",!1!==J.config.showHeader),e.xp6(1),e.Q6J("ngStyle",J.config.contentStyle),e.xp6(3),e.Q6J("ngIf",J.config.footer)}}const D=function(te,ce,J,ve,be,Be,we,ke,X){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":te,"p-dialog-left":ce,"p-dialog-right":J,"p-dialog-top":ve,"p-dialog-bottom":be,"p-dialog-top-left":Be,"p-dialog-top-right":we,"p-dialog-bottom-left":ke,"p-dialog-bottom-right":X}};let P=(()=>{class te{constructor(J){this.viewContainerRef=J}}return te.\u0275fac=function(J){return new(J||te)(e.Y36(e.s_b))},te.\u0275dir=e.lG2({type:te,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),te})();class Y{}class re{constructor(){this._onClose=new R.x,this.onClose=this._onClose.asObservable(),this._onDestroy=new R.x,this.onDestroy=this._onDestroy.asObservable(),this._onDragStart=new R.x,this.onDragStart=this._onDragStart.asObservable(),this._onDragEnd=new R.x,this.onDragEnd=this._onDragEnd.asObservable(),this._onResizeInit=new R.x,this.onResizeInit=this._onResizeInit.asObservable(),this._onResizeEnd=new R.x,this.onResizeEnd=this._onResizeEnd.asObservable(),this._onMaximize=new R.x,this.onMaximize=this._onMaximize.asObservable()}close(ce){this._onClose.next(ce)}destroy(){this._onDestroy.next(null)}dragStart(ce){this._onDragStart.next(ce)}dragEnd(ce){this._onDragEnd.next(ce)}resizeInit(ce){this._onResizeInit.next(ce)}resizeEnd(ce){this._onResizeEnd.next(ce)}maximize(ce){this._onMaximize.next(ce)}}const j=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),G=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let ie=(()=>{class te{constructor(J,ve,be,Be,we,ke,X){this.componentFactoryResolver=J,this.cd=ve,this.renderer=be,this.config=Be,this.dialogRef=we,this.zone=ke,this.primeNGConfig=X,this.visible=!0,this._style={},this.transformOptions="scale(0.7)"}get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon?this.config.maximizeIcon:"pi pi-window-maximize"}get minimizeIcon(){return this.config.minimizeIcon?this.config.minimizeIcon:"pi pi-window-minimize"}get style(){return this._style}get position(){return this.config.position}set style(J){J&&(this._style=Object.assign({},J),this.originalStyle=J)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(J){var ve;let be=this.componentFactoryResolver.resolveComponentFactory(J),Be=null===(ve=this.insertionPoint)||void 0===ve?void 0:ve.viewContainerRef;null==Be||Be.clear(),this.componentRef=null==Be?void 0:Be.createComponent(be)}moveOnTop(){!1!==this.config.autoZIndex&&(x.P9.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(J){switch(J.toState){case"visible":this.container=J.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&p.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(J){"void"===J.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&x.P9.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",J=>{this.wrapper&&this.wrapper.isSameNode(J.target)&&this.hide()})),!1!==this.config.modal&&p.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&p.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(J){if(9===J.which){J.preventDefault();let ve=p.p.getFocusableElements(this.container);if(ve&&ve.length>0)if(ve[0].ownerDocument.activeElement){let be=ve.indexOf(ve[0].ownerDocument.activeElement);J.shiftKey?-1==be||0===be?ve[ve.length-1].focus():ve[be-1].focus():-1==be||be===ve.length-1?ve[0].focus():ve[be+1].focus()}else ve[0].focus()}}focus(){let J=p.p.findSingle(this.container,"[autofocus]");J&&this.zone.runOutsideAngular(()=>{setTimeout(()=>J.focus(),5)})}maximize(){this.maximized=!this.maximized,this.maximized?p.p.addClass(document.body,"p-overflow-hidden"):p.p.removeClass(document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(J){this.config.resizable&&(this.resizing=!0,this.lastPageX=J.pageX,this.lastPageY=J.pageY,p.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.resizeInit(J))}onResize(J){if(this.resizing){let ve=J.pageX-this.lastPageX,be=J.pageY-this.lastPageY,Be=p.p.getOuterWidth(this.container),we=p.p.getOuterHeight(this.container),ke=p.p.getOuterHeight(this.contentViewChild.nativeElement),X=Be+ve,q=we+be,pe=this.container.style.minWidth,_e=this.container.style.minHeight,Xe=this.container.getBoundingClientRect(),ct=p.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(X+=ve,q+=be),(!pe||X>parseInt(pe))&&Xe.left+X<ct.width&&(this._style.width=X+"px",this.container.style.width=this._style.width),(!_e||q>parseInt(_e))&&Xe.top+q<ct.height&&(this.contentViewChild.nativeElement.style.height=ke+q-we+"px",this._style.height&&(this._style.height=q+"px",this.container.style.height=this._style.height)),this.lastPageX=J.pageX,this.lastPageY=J.pageY}}resizeEnd(J){this.resizing&&(this.resizing=!1,p.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(J))}initDrag(J){p.p.hasClass(J.target,"p-dialog-header-icon")||p.p.hasClass(J.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=J.pageX,this.lastPageY=J.pageY,this.container.style.margin="0",p.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.dragStart(J))}onDrag(J){if(this.dragging){let ve=p.p.getOuterWidth(this.container),be=p.p.getOuterHeight(this.container),Be=J.pageX-this.lastPageX,we=J.pageY-this.lastPageY,ke=this.container.getBoundingClientRect(),X=ke.left+Be,q=ke.top+we,pe=p.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(X>=this.minX&&X+ve<pe.width&&(this._style.left=X+"px",this.lastPageX=J.pageX,this.container.style.left=X+"px"),q>=this.minY&&q+be<pe.height&&(this._style.top=q+"px",this.lastPageY=J.pageY,this.container.style.top=q+"px")):(this.lastPageX=J.pageX,this.container.style.left=X+"px",this.lastPageY=J.pageY,this.container.style.top=q+"px")}}endDrag(J){this.dragging&&(this.dragging=!1,p.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.dragEnd(J),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",ve=>{27==ve.which&&parseInt(this.container.style.zIndex)==x.P9.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return te.\u0275fac=function(J){return new(J||te)(e.Y36(e._Vd),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(Y),e.Y36(re),e.Y36(e.R0b),e.Y36(b.b4))},te.\u0275cmp=e.Xpm({type:te,selectors:[["p-dynamicDialog"]],viewQuery:function(J,ve){if(1&J&&(e.Gf(P,5),e.Gf(s,5),e.Gf(F,5),e.Gf(O,5)),2&J){let be;e.iGM(be=e.CRH())&&(ve.insertionPoint=be.first),e.iGM(be=e.CRH())&&(ve.maskViewChild=be.first),e.iGM(be=e.CRH())&&(ve.contentViewChild=be.first),e.iGM(be=e.CRH())&&(ve.headerViewChild=be.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["content",""],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(J,ve){1&J&&(e.TgZ(0,"div",0,1),e.YNc(2,H,8,23,"div",2),e.qZA()),2&J&&(e.Tol(ve.config.maskStyleClass),e.Q6J("ngClass",e.rFY(4,D,[!1!==ve.config.modal,"left"===ve.position,"right"===ve.position,"top"===ve.position,"bottom"===ve.position,"topleft"===ve.position||"top-left"===ve.position,"topright"===ve.position||"top-right"===ve.position,"bottomleft"===ve.position||"bottom-left"===ve.position,"bottomright"===ve.position||"bottom-right"===ve.position])),e.xp6(2),e.Q6J("ngIf",ve.visible))},dependencies:function(){return[u.mk,u.O5,u.PC,P]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(j)]),(0,d.eR)("visible => void",[(0,d._7)(G)])])]}}),te})(),Te=(()=>{class te{}return te.\u0275fac=function(J){return new(J||te)},te.\u0275mod=e.oAB({type:te}),te.\u0275inj=e.cJS({imports:[u.ez]}),te})();class Me{constructor(ce,J){this._parentInjector=ce,this._additionalTokens=J}get(ce,J,ve){return this._additionalTokens.get(ce)||this._parentInjector.get(ce,J)}}let de=(()=>{class te{constructor(J,ve,be){this.componentFactoryResolver=J,this.appRef=ve,this.injector=be,this.dialogComponentRefMap=new Map}open(J,ve){const be=this.appendDialogComponentToBody(ve);return this.dialogComponentRefMap.get(be).instance.childComponentType=J,be}appendDialogComponentToBody(J){const ve=new WeakMap;ve.set(Y,J);const be=new re;ve.set(re,be);const Be=be.onClose.subscribe(()=>{this.dialogComponentRefMap.get(be).instance.close()}),we=be.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(be),we.unsubscribe(),Be.unsubscribe()}),X=this.componentFactoryResolver.resolveComponentFactory(ie).create(new Me(this.injector,ve));return this.appRef.attachView(X.hostView),document.body.appendChild(X.hostView.rootNodes[0]),this.dialogComponentRefMap.set(be,X),be}removeDialogComponentFromBody(J){if(!J||!this.dialogComponentRefMap.has(J))return;const ve=this.dialogComponentRefMap.get(J);this.appRef.detachView(ve.hostView),ve.destroy(),this.dialogComponentRefMap.delete(J)}}return te.\u0275fac=function(J){return new(J||te)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},te.\u0275prov=e.Yz7({token:te,factory:te.\u0275fac}),te})()},2537:(dn,pt,C)=>{"use strict";C.d(pt,{vy:()=>O,zz:()=>Q});var e=C(5e3),d=C(9808),u=C(5730),p=C(1424),x=C(2382),R=C(9618);const b=["input"];function s(N,T){if(1&N){const y=e.EpF();e.TgZ(0,"i",3),e.NdJ("click",function(){e.CHM(y);const k=e.oxw();return e.KtG(k.clear())}),e.qZA()}}const F={provide:x.JU,useExisting:(0,e.Gpc)(()=>O),multi:!0};let O=(()=>{class N{constructor(y,w){this.el=y,this.cd=w,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onInput=new e.vpe,this.onKeydown=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let y=u.p.getUserAgent();this.androidChrome=/chrome/i.test(y)&&/android/i.test(y),this.initMask()}get mask(){return this._mask}set mask(y){this._mask=y,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let y=this.mask.split("");for(let w=0;w<y.length;w++){let k=y[w];"?"==k?(this.len--,this.partialPosition=w):this.defs[k]?(this.tests.push(new RegExp(this.defs[k])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),w<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let w=0;w<y.length;w++){let k=y[w];"?"!=k&&this.buffer.push(this.defs[k]?this.getPlaceholder(w):k)}this.defaultBuffer=this.buffer.join("")}writeValue(y){this.value=y,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(y){this.onModelChange=y}registerOnTouched(y){this.onModelTouched=y}setDisabledState(y){this.disabled=y,this.cd.markForCheck()}caret(y,w){let k,V,U;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof y)return this.inputViewChild.nativeElement.setSelectionRange?(V=this.inputViewChild.nativeElement.selectionStart,U=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(k=document.selection.createRange(),V=0-k.duplicate().moveStart("character",-1e5),U=V+k.text.length),{begin:V,end:U};V=y,U="number"==typeof w?w:V,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(V,U):this.inputViewChild.nativeElement.createTextRange&&(k=this.inputViewChild.nativeElement.createTextRange(),k.collapse(!0),k.moveEnd("character",U),k.moveStart("character",V),k.select())}}isCompleted(){for(let w=this.firstNonMaskPos;w<=this.lastRequiredNonMaskPos;w++)if(this.tests[w]&&this.buffer[w]===this.getPlaceholder(w))return!1;return!0}getPlaceholder(y){return this.slotChar.charAt(y<this.slotChar.length?y:0)}seekNext(y){for(;++y<this.len&&!this.tests[y];);return y}seekPrev(y){for(;--y>=0&&!this.tests[y];);return y}shiftL(y,w){let k,V;if(!(y<0)){for(k=y,V=this.seekNext(w);k<this.len;k++)if(this.tests[k]){if(!(V<this.len&&this.tests[k].test(this.buffer[V])))break;this.buffer[k]=this.buffer[V],this.buffer[V]=this.getPlaceholder(V),V=this.seekNext(V)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,y))}}shiftR(y){let w,k,V,U;for(w=y,k=this.getPlaceholder(y);w<this.len;w++)if(this.tests[w]){if(V=this.seekNext(w),U=this.buffer[w],this.buffer[w]=k,!(V<this.len&&this.tests[V].test(U)))break;k=U}}handleAndroidInput(y){var w=this.inputViewChild.nativeElement.value,k=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>w.length){for(this.checkVal(!0);k.begin>0&&!this.tests[k.begin-1];)k.begin--;if(0===k.begin)for(;k.begin<this.firstNonMaskPos&&!this.tests[k.begin];)k.begin++;setTimeout(()=>{this.caret(k.begin,k.begin),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);k.begin<this.len&&!this.tests[k.begin];)k.begin++;setTimeout(()=>{this.caret(k.begin,k.begin),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(y){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(y),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(y);let w=document.createEvent("HTMLEvents");w.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(w)}}onInputKeydown(y){if(this.readonly)return;let k,V,U,w=y.which||y.keyCode,oe=/iphone/i.test(u.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(y),8===w||46===w||oe&&127===w?(k=this.caret(),V=k.begin,U=k.end,U-V==0&&(V=46!==w?this.seekPrev(V):U=this.seekNext(V-1),U=46===w?this.seekNext(U):U),this.clearBuffer(V,U),this.shiftL(V,U-1),this.updateModel(y),this.onInput.emit(y),y.preventDefault()):13===w?(this.onInputBlur(y),this.updateModel(y)):27===w&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(y),y.preventDefault())}onKeyPress(y){if(!this.readonly){var V,U,oe,K,w=y.which||y.keyCode,k=this.caret();y.ctrlKey||y.altKey||y.metaKey||w<32||w>34&&w<41||(w&&13!==w&&(k.end-k.begin!=0&&(this.clearBuffer(k.begin,k.end),this.shiftL(k.begin,k.end-1)),(V=this.seekNext(k.begin-1))<this.len&&(U=String.fromCharCode(w),this.tests[V].test(U)&&(this.shiftR(V),this.buffer[V]=U,this.writeBuffer(),oe=this.seekNext(V),/android/i.test(u.p.getUserAgent())?setTimeout(()=>{this.caret(oe)},0):this.caret(oe),k.begin<=this.lastRequiredNonMaskPos&&(K=this.isCompleted()),this.onInput.emit(y))),y.preventDefault()),this.updateModel(y),this.updateFilledState(),K&&this.onComplete.emit())}}clearBuffer(y,w){let k;for(k=y;k<w&&k<this.len;k++)this.tests[k]&&(this.buffer[k]=this.getPlaceholder(k))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(y){let V,U,oe,w=this.inputViewChild.nativeElement.value,k=-1;for(V=0,oe=0;V<this.len;V++)if(this.tests[V]){for(this.buffer[V]=this.getPlaceholder(V);oe++<w.length;)if(U=w.charAt(oe-1),this.tests[V].test(U)){this.buffer[V]=U,k=V;break}if(oe>w.length){this.clearBuffer(V+1,this.len);break}}else this.buffer[V]===w.charAt(oe)&&oe++,V<this.partialPosition&&(k=V);return y?this.writeBuffer():k+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,k+1)),this.partialPosition?V:this.firstNonMaskPos}onInputFocus(y){if(this.readonly)return;let w;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,w=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),w==this.mask.replace("?","").length?this.caret(0,w):this.caret(w))},10),this.onFocus.emit(y)}onInputChange(y){this.androidChrome?this.handleAndroidInput(y):this.handleInputChange(y),this.onInput.emit(y)}handleInputChange(y){this.readonly||setTimeout(()=>{var w=this.checkVal(!0);this.caret(w),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let y=[];for(let w=0;w<this.buffer.length;w++){let k=this.buffer[w];this.tests[w]&&k!=this.getPlaceholder(w)&&y.push(k)}return y.join("")}updateModel(y){const w=this.unmask?this.getUnmaskedValue():y.target.value;(null!==w||void 0!==w)&&(this.value=w,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return N.\u0275fac=function(y){return new(y||N)(e.Y36(e.SBq),e.Y36(e.sBO))},N.\u0275cmp=e.Xpm({type:N,selectors:[["p-inputMask"]],viewQuery:function(y,w){if(1&y&&e.Gf(b,7),2&y){let k;e.iGM(k=e.CRH())&&(w.inputViewChild=k.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(y,w){2&y&&e.ekj("p-inputwrapper-filled",w.filled)("p-inputwrapper-focus",w.focused)("p-inputmask-clearable",w.showClear&&!w.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e._Bn([F])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(y,w){1&y&&(e.TgZ(0,"input",0,1),e.NdJ("focus",function(V){return w.onInputFocus(V)})("blur",function(V){return w.onInputBlur(V)})("keydown",function(V){return w.onInputKeydown(V)})("keypress",function(V){return w.onKeyPress(V)})("input",function(V){return w.onInputChange(V)})("paste",function(V){return w.handleInputChange(V)}),e.qZA(),e.YNc(2,s,1,0,"i",2)),2&y&&(e.Q6J("ngStyle",w.style)("ngClass",w.styleClass)("disabled",w.disabled)("readonly",w.readonly)("autofocus",w.autoFocus),e.uIk("id",w.inputId)("type",w.type)("name",w.name)("placeholder",w.placeholder)("title",w.title)("size",w.size)("autocomplete",w.autocomplete)("maxlength",w.maxlength)("tabindex",w.tabindex)("aria-label",w.ariaLabel)("aria-required",w.ariaRequired)("required",w.required),e.xp6(2),e.Q6J("ngIf",null!=w.value&&w.filled&&w.showClear&&!w.disabled))},dependencies:[d.mk,d.O5,d.PC,p.o,R.P],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),N})(),Q=(()=>{class N{}return N.\u0275fac=function(y){return new(y||N)},N.\u0275mod=e.oAB({type:N}),N.\u0275inj=e.cJS({imports:[d.ez,p.j,R.E]}),N})()},7010:(dn,pt,C)=>{"use strict";C.d(pt,{L$:()=>V,Rn:()=>k});var e=C(9808),d=C(5e3),u=C(2382),p=C(845),x=C(5730),R=C(1424);const b=["input"];function s(U,oe){if(1&U){const K=d.EpF();d.TgZ(0,"i",6),d.NdJ("click",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.clear())}),d.qZA()}}const F=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},O=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Q(U,oe){if(1&U){const K=d.EpF();d.TgZ(0,"span",7)(1,"button",8),d.NdJ("mousedown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onUpButtonMouseDown(D))})("mouseup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onUpButtonMouseUp())})("mouseleave",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onUpButtonMouseLeave())})("keydown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onUpButtonKeyDown(D))})("keyup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onUpButtonKeyUp())}),d.qZA(),d.TgZ(2,"button",8),d.NdJ("mousedown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onDownButtonMouseDown(D))})("mouseup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onDownButtonMouseUp())})("mouseleave",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onDownButtonMouseLeave())})("keydown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onDownButtonKeyDown(D))})("keyup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onDownButtonKeyUp())}),d.qZA()()}if(2&U){const K=d.oxw();d.xp6(1),d.Tol(K.incrementButtonClass),d.Q6J("ngClass",d.DdM(10,F))("icon",K.incrementButtonIcon)("disabled",K.disabled),d.xp6(1),d.Tol(K.decrementButtonClass),d.Q6J("ngClass",d.DdM(11,O))("icon",K.decrementButtonIcon)("disabled",K.disabled)}}function N(U,oe){if(1&U){const K=d.EpF();d.TgZ(0,"button",8),d.NdJ("mousedown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onUpButtonMouseDown(D))})("mouseup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onUpButtonMouseUp())})("mouseleave",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onUpButtonMouseLeave())})("keydown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onUpButtonKeyDown(D))})("keyup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onUpButtonKeyUp())}),d.qZA()}if(2&U){const K=d.oxw();d.Tol(K.incrementButtonClass),d.Q6J("ngClass",d.DdM(5,F))("icon",K.incrementButtonIcon)("disabled",K.disabled)}}function T(U,oe){if(1&U){const K=d.EpF();d.TgZ(0,"button",8),d.NdJ("mousedown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onDownButtonMouseDown(D))})("mouseup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onDownButtonMouseUp())})("mouseleave",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onDownButtonMouseLeave())})("keydown",function(D){d.CHM(K);const P=d.oxw();return d.KtG(P.onDownButtonKeyDown(D))})("keyup",function(){d.CHM(K);const D=d.oxw();return d.KtG(D.onDownButtonKeyUp())}),d.qZA()}if(2&U){const K=d.oxw();d.Tol(K.decrementButtonClass),d.Q6J("ngClass",d.DdM(5,O))("icon",K.decrementButtonIcon)("disabled",K.disabled)}}const y=function(U,oe,K){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":U,"p-inputnumber-buttons-horizontal":oe,"p-inputnumber-buttons-vertical":K}},w={provide:u.JU,useExisting:(0,d.Gpc)(()=>k),multi:!0};let k=(()=>{class U{constructor(K,H){this.el=K,this.cd=H,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onKeyDown=new d.vpe,this.onClear=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(K){K&&(this.focused=!1),this._disabled=K,this.timer&&this.clearTimer()}ngOnChanges(K){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(D=>!!K[D])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const K=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),H=new Map(K.map((D,P)=>[D,P]));this._numeral=new RegExp(`[${K.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=D=>H.get(D)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(K){return K.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const K=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${K.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const K=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=K.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const K=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${K.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const K=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${K.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const K=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=K.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const K=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=K.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(K){if(null!=K){if("-"===K)return K;if(this.format){let D=new Intl.NumberFormat(this.locale,this.getOptions()).format(K);return this.prefix&&(D=this.prefix+D),this.suffix&&(D+=this.suffix),D}return K.toString()}return""}parseValue(K){let H=K.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(H){if("-"===H)return H;let D=+H;return isNaN(D)?null:D}return null}repeat(K,H,D){if(this.readonly)return;let P=H||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(K,40,D)},P),this.spin(K,D)}spin(K,H){let D=this.step*H,P=this.parseValue(this.input.nativeElement.value)||0,Y=this.validateValue(P+D);this.maxlength&&this.maxlength<this.formatValue(Y).length||(this.updateInput(Y,null,"spin",null),this.updateModel(K,Y),this.handleOnInput(K,P,Y))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(K){this.input.nativeElement.focus(),this.repeat(K,null,1),K.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(K){(32===K.keyCode||13===K.keyCode)&&this.repeat(K,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(K){this.input.nativeElement.focus(),this.repeat(K,null,-1),K.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(K){(32===K.keyCode||13===K.keyCode)&&this.repeat(K,null,-1)}onUserInput(K){this.readonly||(this.isSpecialChar&&(K.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(K){if(this.readonly)return;if(this.lastValue=K.target.value,K.shiftKey||K.altKey)return void(this.isSpecialChar=!0);let H=K.target.selectionStart,D=K.target.selectionEnd,P=K.target.value,Y=null;switch(K.altKey&&K.preventDefault(),K.which){case 38:this.spin(K,1),K.preventDefault();break;case 40:this.spin(K,-1),K.preventDefault();break;case 37:this.isNumeralChar(P.charAt(H-1))||K.preventDefault();break;case 39:this.isNumeralChar(P.charAt(H))||K.preventDefault();break;case 13:Y=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(Y),this.input.nativeElement.setAttribute("aria-valuenow",Y),this.updateModel(K,Y);break;case 8:if(K.preventDefault(),H===D){const re=P.charAt(H-1),{decimalCharIndex:j,decimalCharIndexWithoutPrefix:G}=this.getDecimalCharIndexes(P);if(this.isNumeralChar(re)){const ie=this.getDecimalLength(P);if(this._group.test(re))this._group.lastIndex=0,Y=P.slice(0,H-2)+P.slice(H-1);else if(this._decimal.test(re))this._decimal.lastIndex=0,ie?this.input.nativeElement.setSelectionRange(H-1,H-1):Y=P.slice(0,H-1)+P.slice(H);else if(j>0&&H>j){const Te=this.isDecimalMode()&&(this.minFractionDigits||0)<ie?"":"0";Y=P.slice(0,H-1)+Te+P.slice(H)}else 1===G?(Y=P.slice(0,H-1)+"0"+P.slice(H),Y=this.parseValue(Y)>0?Y:""):Y=P.slice(0,H-1)+P.slice(H)}this.updateValue(K,Y,null,"delete-single")}else Y=this.deleteRange(P,H,D),this.updateValue(K,Y,null,"delete-range");break;case 46:if(K.preventDefault(),H===D){const re=P.charAt(H),{decimalCharIndex:j,decimalCharIndexWithoutPrefix:G}=this.getDecimalCharIndexes(P);if(this.isNumeralChar(re)){const ie=this.getDecimalLength(P);if(this._group.test(re))this._group.lastIndex=0,Y=P.slice(0,H)+P.slice(H+2);else if(this._decimal.test(re))this._decimal.lastIndex=0,ie?this.input.nativeElement.setSelectionRange(H+1,H+1):Y=P.slice(0,H)+P.slice(H+1);else if(j>0&&H>j){const Te=this.isDecimalMode()&&(this.minFractionDigits||0)<ie?"":"0";Y=P.slice(0,H)+Te+P.slice(H+1)}else 1===G?(Y=P.slice(0,H)+"0"+P.slice(H+1),Y=this.parseValue(Y)>0?Y:""):Y=P.slice(0,H)+P.slice(H+1)}this.updateValue(K,Y,null,"delete-back-single")}else Y=this.deleteRange(P,H,D),this.updateValue(K,Y,null,"delete-range")}this.onKeyDown.emit(K)}onInputKeyPress(K){if(this.readonly)return;let H=K.which||K.keyCode,D=String.fromCharCode(H);const P=this.isDecimalSign(D),Y=this.isMinusSign(D);13!=H&&K.preventDefault(),(48<=H&&H<=57||Y||P)&&this.insert(K,D,{isDecimalSign:P,isMinusSign:Y})}onPaste(K){if(!this.disabled&&!this.readonly){K.preventDefault();let H=(K.clipboardData||window.clipboardData).getData("Text");if(H){let D=this.parseValue(H);null!=D&&this.insert(K,D.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(K){return!(!this._minusSign.test(K)&&"-"!==K||(this._minusSign.lastIndex=0,0))}isDecimalSign(K){return!!this._decimal.test(K)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(K){let H=K.search(this._decimal);this._decimal.lastIndex=0;const P=K.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:H,decimalCharIndexWithoutPrefix:P}}getCharIndexes(K){const H=K.search(this._decimal);this._decimal.lastIndex=0;const D=K.search(this._minusSign);this._minusSign.lastIndex=0;const P=K.search(this._suffix);this._suffix.lastIndex=0;const Y=K.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:H,minusCharIndex:D,suffixCharIndex:P,currencyCharIndex:Y}}insert(K,H,D={isDecimalSign:!1,isMinusSign:!1}){const P=H.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==P)return;let Y=this.input.nativeElement.selectionStart,re=this.input.nativeElement.selectionEnd,j=this.input.nativeElement.value.trim();const{decimalCharIndex:G,minusCharIndex:ie,suffixCharIndex:Te,currencyCharIndex:Me}=this.getCharIndexes(j);let de;if(D.isMinusSign)0===Y&&(de=j,(-1===ie||0!==re)&&(de=this.insertText(j,H,0,re)),this.updateValue(K,de,H,"insert"));else if(D.isDecimalSign)G>0&&Y===G?this.updateValue(K,j,H,"insert"):(G>Y&&G<re||-1===G&&this.maxFractionDigits)&&(de=this.insertText(j,H,Y,re),this.updateValue(K,de,H,"insert"));else{const te=this.numberFormat.resolvedOptions().maximumFractionDigits,ce=Y!==re?"range-insert":"insert";if(G>0&&Y>G){if(Y+H.length-(G+1)<=te){const J=Me>=Y?Me-1:Te>=Y?Te:j.length;de=j.slice(0,Y)+H+j.slice(Y+H.length,J)+j.slice(J),this.updateValue(K,de,H,ce)}}else de=this.insertText(j,H,Y,re),this.updateValue(K,de,H,ce)}}insertText(K,H,D,P){if(2===("."===H?H:H.split(".")).length){const re=K.slice(D,P).search(this._decimal);return this._decimal.lastIndex=0,re>0?K.slice(0,D)+this.formatValue(H)+K.slice(P):K||this.formatValue(H)}return P-D===K.length?this.formatValue(H):0===D?H+K.slice(P):P===K.length?K.slice(0,D)+H:K.slice(0,D)+H+K.slice(P)}deleteRange(K,H,D){let P;return P=D-H===K.length?"":0===H?K.slice(D):D===K.length?K.slice(0,H):K.slice(0,H)+K.slice(D),P}initCursor(){let K=this.input.nativeElement.selectionStart,H=this.input.nativeElement.value,D=H.length,P=null,Y=(this.prefixChar||"").length;H=H.replace(this._prefix,""),K-=Y;let re=H.charAt(K);if(this.isNumeralChar(re))return K+Y;let j=K-1;for(;j>=0;){if(re=H.charAt(j),this.isNumeralChar(re)){P=j+Y;break}j--}if(null!==P)this.input.nativeElement.setSelectionRange(P+1,P+1);else{for(j=K;j<D;){if(re=H.charAt(j),this.isNumeralChar(re)){P=j+Y;break}j++}null!==P&&this.input.nativeElement.setSelectionRange(P,P)}return P||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==x.p.getSelection()&&this.initCursor()}isNumeralChar(K){return!(1!==K.length||!(this._numeral.test(K)||this._decimal.test(K)||this._group.test(K)||this._minusSign.test(K))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(K,H,D,P){let Y=this.input.nativeElement.value,re=null;null!=H&&(re=this.parseValue(H),re=re||this.allowEmpty?re:0,this.updateInput(re,D,P,H),this.handleOnInput(K,Y,re))}handleOnInput(K,H,D){this.isValueChanged(H,D)&&this.onInput.emit({originalEvent:K,value:D,formattedValue:H})}isValueChanged(K,H){return null===H&&null!==K||null!=H&&H!==("string"==typeof K?this.parseValue(K):K)}validateValue(K){return"-"===K||null==K?null:null!=this.min&&K<this.min?this.min:null!=this.max&&K>this.max?this.max:K}updateInput(K,H,D,P){H=H||"";let Y=this.input.nativeElement.value,re=this.formatValue(K),j=Y.length;if(re!==P&&(re=this.concatValues(re,P)),0===j){this.input.nativeElement.value=re,this.input.nativeElement.setSelectionRange(0,0);const ie=this.initCursor()+H.length;this.input.nativeElement.setSelectionRange(ie,ie)}else{let G=this.input.nativeElement.selectionStart,ie=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<re.length)return;this.input.nativeElement.value=re;let Te=re.length;if("range-insert"===D){const Me=this.parseValue((Y||"").slice(0,G)),te=(null!==Me?Me.toString():"").split("").join(`(${this.groupChar})?`),ce=new RegExp(te,"g");ce.test(re);const J=H.split("").join(`(${this.groupChar})?`),ve=new RegExp(J,"g");ve.test(re.slice(ce.lastIndex)),ie=ce.lastIndex+ve.lastIndex,this.input.nativeElement.setSelectionRange(ie,ie)}else if(Te===j)"insert"===D||"delete-back-single"===D?this.input.nativeElement.setSelectionRange(ie+1,ie+1):"delete-single"===D?this.input.nativeElement.setSelectionRange(ie-1,ie-1):("delete-range"===D||"spin"===D)&&this.input.nativeElement.setSelectionRange(ie,ie);else if("delete-back-single"===D){let Me=Y.charAt(ie-1),de=Y.charAt(ie),te=j-Te,ce=this._group.test(de);ce&&1===te?ie+=1:!ce&&this.isNumeralChar(Me)&&(ie+=-1*te+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(ie,ie)}else if("-"===Y&&"insert"===D){this.input.nativeElement.setSelectionRange(0,0);const de=this.initCursor()+H.length+1;this.input.nativeElement.setSelectionRange(de,de)}else ie+=Te-j,this.input.nativeElement.setSelectionRange(ie,ie)}this.input.nativeElement.setAttribute("aria-valuenow",K)}concatValues(K,H){if(K&&H){let D=H.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?K.replace(this.suffixChar,"").split(this._decimal)[0]+H.replace(this.suffixChar,"").slice(D)+this.suffixChar:-1!==D?K.split(this._decimal)[0]+H.slice(D):K}return K}getDecimalLength(K){if(K){const H=K.split(this._decimal);if(2===H.length)return H[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(K){this.focused=!0,this.onFocus.emit(K)}onInputBlur(K){this.focused=!1;let H=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(H),this.input.nativeElement.setAttribute("aria-valuenow",H),this.updateModel(K,H),this.onBlur.emit(K)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(K,H){this.value!==H&&(this.value=H,this.onModelChange(H)),this.onModelTouched()}writeValue(K){this.value=K,this.cd.markForCheck()}registerOnChange(K){this.onModelChange=K}registerOnTouched(K){this.onModelTouched=K}setDisabledState(K){this.disabled=K,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return U.\u0275fac=function(K){return new(K||U)(d.Y36(d.SBq),d.Y36(d.sBO))},U.\u0275cmp=d.Xpm({type:U,selectors:[["p-inputNumber"]],viewQuery:function(K,H){if(1&K&&d.Gf(b,5),2&K){let D;d.iGM(D=d.CRH())&&(H.input=D.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(K,H){2&K&&d.ekj("p-inputwrapper-filled",H.filled)("p-inputwrapper-focus",H.focused)("p-inputnumber-clearable",H.showClear&&"vertical"!=H.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[d._Bn([w]),d.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(K,H){1&K&&(d.TgZ(0,"span",0)(1,"input",1,2),d.NdJ("input",function(P){return H.onUserInput(P)})("keydown",function(P){return H.onInputKeyDown(P)})("keypress",function(P){return H.onInputKeyPress(P)})("paste",function(P){return H.onPaste(P)})("click",function(){return H.onInputClick()})("focus",function(P){return H.onInputFocus(P)})("blur",function(P){return H.onInputBlur(P)}),d.qZA(),d.YNc(3,s,1,0,"i",3),d.YNc(4,Q,3,12,"span",4),d.YNc(5,N,1,6,"button",5),d.YNc(6,T,1,6,"button",5),d.qZA()),2&K&&(d.Tol(H.styleClass),d.Q6J("ngClass",d.kEZ(28,y,H.showButtons&&"stacked"===H.buttonLayout,H.showButtons&&"horizontal"===H.buttonLayout,H.showButtons&&"vertical"===H.buttonLayout))("ngStyle",H.style),d.xp6(1),d.Tol(H.inputStyleClass),d.Q6J("ngClass","p-inputnumber-input")("ngStyle",H.inputStyle)("value",H.formattedValue())("disabled",H.disabled)("readonly",H.readonly),d.uIk("placeholder",H.placeholder)("title",H.title)("id",H.inputId)("size",H.size)("name",H.name)("autocomplete",H.autocomplete)("maxlength",H.maxlength)("tabindex",H.tabindex)("aria-label",H.ariaLabel)("aria-required",H.ariaRequired)("required",H.required)("min",H.min)("max",H.max),d.xp6(2),d.Q6J("ngIf","vertical"!=H.buttonLayout&&H.showClear&&H.value),d.xp6(1),d.Q6J("ngIf",H.showButtons&&"stacked"===H.buttonLayout),d.xp6(1),d.Q6J("ngIf",H.showButtons&&"stacked"!==H.buttonLayout),d.xp6(1),d.Q6J("ngIf",H.showButtons&&"stacked"!==H.buttonLayout))},dependencies:[e.mk,e.O5,e.PC,R.o,p.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),U})(),V=(()=>{class U{}return U.\u0275fac=function(K){return new(K||U)},U.\u0275mod=d.oAB({type:U}),U.\u0275inj=d.cJS({imports:[e.ez,R.j,p.hJ]}),U})()},242:(dn,pt,C)=>{"use strict";C.d(pt,{Iu:()=>b,Ql:()=>R});var e=C(5e3),d=C(9808),u=C(2382);const p=function(s,F,O){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":s,"p-disabled":F,"p-focus":O}},x={provide:u.JU,useExisting:(0,e.Gpc)(()=>R),multi:!0};let R=(()=>{class s{constructor(O){this.cd=O,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(O,Q){!this.disabled&&!this.readonly&&(O.preventDefault(),this.toggle(O),Q.focus())}onInputChange(O){this.readonly||this.updateModel(O,O.target.checked)}toggle(O){this.updateModel(O,!this.checked())}updateModel(O,Q){this.modelValue=Q?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:O,checked:this.modelValue})}onFocus(O){this.focused=!0}onBlur(O){this.focused=!1,this.onModelTouched()}writeValue(O){this.modelValue=O,this.cd.markForCheck()}registerOnChange(O){this.onModelChange=O}registerOnTouched(O){this.onModelTouched=O}setDisabledState(O){this.disabled=O,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return s.\u0275fac=function(O){return new(O||s)(e.Y36(e.sBO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([x])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(O,Q){if(1&O){const N=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(y){e.CHM(N);const w=e.MAs(3);return e.KtG(Q.onClick(y,w))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(y){return Q.onInputChange(y)})("focus",function(y){return Q.onFocus(y)})("blur",function(y){return Q.onBlur(y)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&O&&(e.Tol(Q.styleClass),e.Q6J("ngClass",e.kEZ(12,p,Q.checked(),Q.disabled,Q.focused))("ngStyle",Q.style),e.xp6(2),e.Q6J("checked",Q.checked())("disabled",Q.disabled),e.uIk("aria-label",Q.ariaLabel)("id",Q.inputId)("name",Q.name)("tabindex",Q.tabindex)("aria-checked",Q.checked())("aria-labelledby",Q.ariaLabelledBy))},dependencies:[d.mk,d.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),s})(),b=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[d.ez]}),s})()},1424:(dn,pt,C)=>{"use strict";C.d(pt,{j:()=>x,o:()=>p});var e=C(5e3),d=C(9808),u=C(2382);let p=(()=>{class R{constructor(s,F,O){this.el=s,this.ngModel=F,this.cd=O}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(s){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return R.\u0275fac=function(s){return new(s||R)(e.Y36(e.SBq),e.Y36(u.On,8),e.Y36(e.sBO))},R.\u0275dir=e.lG2({type:R,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(s,F){1&s&&e.NdJ("input",function(Q){return F.onInput(Q)}),2&s&&e.ekj("p-filled",F.filled)}}),R})(),x=(()=>{class R{}return R.\u0275fac=function(s){return new(s||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[d.ez]}),R})()},3407:(dn,pt,C)=>{"use strict";C.d(pt,{A:()=>x,g:()=>p});var e=C(5e3),d=C(9808),u=C(2382);let p=(()=>{class R{constructor(s,F,O,Q){this.el=s,this.ngModel=F,this.control=O,this.cd=Q,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(s){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(s){this.autoResize&&this.resize(s)}onBlur(s){this.autoResize&&this.resize(s)}resize(s){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(s||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return R.\u0275fac=function(s){return new(s||R)(e.Y36(e.SBq),e.Y36(u.On,8),e.Y36(u.a5,8),e.Y36(e.sBO))},R.\u0275dir=e.lG2({type:R,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(s,F){1&s&&e.NdJ("input",function(Q){return F.onInput(Q)})("focus",function(Q){return F.onFocus(Q)})("blur",function(Q){return F.onBlur(Q)}),2&s&&e.ekj("p-filled",F.filled)("p-inputtextarea-resizable",F.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),R})(),x=(()=>{class R{}return R.\u0275fac=function(s){return new(s||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[d.ez]}),R})()},657:(dn,pt,C)=>{"use strict";C.d(pt,{Fr:()=>F,kK:()=>O});var e=C(5e3),d=C(9808),u=C(5730);const x={provide:C(2382).Cf,useExisting:(0,e.Gpc)(()=>F),multi:!0},R={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},s={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let F=(()=>{class Q{constructor(T){this.el=T,this.ngModelChange=new e.vpe,this.isAndroid=u.p.isAndroid()}get pattern(){return this._pattern}set pattern(T){this._pattern=T,this.regex=R[this._pattern]||this._pattern}isNavKeyPress(T){let y=T.keyCode;return y=u.p.getBrowser().safari&&s[y]||y,y>=33&&y<=40||13==y||9==y||27==y}isSpecialKey(T){let y=T.keyCode||T.charCode;return 9==y||13==y||27==y||16==y||17==y||y>=18&&y<=20||u.p.getBrowser().opera&&!T.shiftKey&&(8==y||y>=33&&y<=35||y>=36&&y<=39||y>=44&&y<=45)}getKey(T){let y=T.keyCode||T.charCode;return u.p.getBrowser().safari&&s[y]||y}getCharCode(T){return T.charCode||T.keyCode||T.which}findDelta(T,y){let w="";for(let k=0;k<T.length;k++)T.substr(0,k)+T.substr(k+T.length-y.length)===y&&(w=T.substr(k,T.length-y.length));return w}isValidChar(T){return this.regex.test(T)}isValidString(T){for(let y=0;y<T.length;y++)if(!this.isValidChar(T.substr(y,1)))return!1;return!0}onInput(T){if(this.isAndroid&&!this.pValidateOnly){let y=this.el.nativeElement.value,w=this.lastValue||"",k=this.findDelta(y,w),V=this.findDelta(w,y);k.length>1||!k&&!V?this.isValidString(y)||(this.el.nativeElement.value=w,this.ngModelChange.emit(w)):V||this.isValidChar(k)||(this.el.nativeElement.value=w,this.ngModelChange.emit(w)),y=this.el.nativeElement.value,this.isValidString(y)&&(this.lastValue=y)}}onKeyPress(T){if(this.isAndroid||this.pValidateOnly)return;let y=u.p.getBrowser(),w=this.getKey(T);if(y.mozilla&&(T.ctrlKey||T.altKey))return;if(17==w||18==w)return;let k=this.getCharCode(T),V=String.fromCharCode(k),U=!0;!y.mozilla&&(this.isSpecialKey(T)||!V)||(U=this.regex.test(V),U||T.preventDefault())}onPaste(T){const y=T.clipboardData||window.clipboardData.getData("text");if(y){const w=y.getData("text");for(let k of w.toString())if(!this.regex.test(k))return void T.preventDefault()}}validate(T){if(this.pValidateOnly){let y=this.el.nativeElement.value;if(y&&!this.regex.test(y))return{validatePattern:!1}}}}return Q.\u0275fac=function(T){return new(T||Q)(e.Y36(e.SBq))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(T,y){1&T&&e.NdJ("input",function(k){return y.onInput(k)})("keypress",function(k){return y.onKeyPress(k)})("paste",function(k){return y.onPaste(k)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[e._Bn([x])]}),Q})(),O=(()=>{class Q{}return Q.\u0275fac=function(T){return new(T||Q)},Q.\u0275mod=e.oAB({type:Q}),Q.\u0275inj=e.cJS({imports:[d.ez]}),Q})()},5055:(dn,pt,C)=>{"use strict";C.d(pt,{ON:()=>jt,Ri:()=>Xt});var e=C(5e3),d=C(9808),u=C(9783),p=C(5730),x=C(5921),R=C(2382),b=C(5787);const s=["headerchkbox"],F=["filter"];function O(ht,ut){1&ht&&e.GkF(0)}function Q(ht,ut){if(1&ht&&(e.TgZ(0,"div",7),e.Hsn(1),e.YNc(2,O,1,0,"ng-container",8),e.qZA()),2&ht){const xe=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",xe.headerTemplate)}}const N=function(ht){return{"p-checkbox-disabled":ht}},T=function(ht,ut,xe){return{"p-highlight":ht,"p-focus":ut,"p-disabled":xe}},y=function(ht){return{"pi pi-check":ht}};function w(ht,ut){if(1&ht){const xe=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"input",14),e.NdJ("focus",function(){e.CHM(xe);const We=e.oxw(2);return e.KtG(We.onHeaderCheckboxFocus())})("blur",function(){e.CHM(xe);const We=e.oxw(2);return e.KtG(We.onHeaderCheckboxBlur())})("keydown.space",function(We){e.CHM(xe);const gt=e.oxw(2);return e.KtG(gt.toggleAll(We))}),e.qZA()(),e.TgZ(3,"div",15,16),e.NdJ("click",function(We){e.CHM(xe);const gt=e.oxw(2);return e.KtG(gt.toggleAll(We))}),e._UZ(5,"span",17),e.qZA()()}if(2&ht){const xe=e.oxw(2);e.Q6J("ngClass",e.VKq(5,N,xe.disabled||xe.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",xe.allChecked)("disabled",xe.disabled||xe.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,T,xe.allChecked,xe.headerCheckboxFocus,xe.disabled||xe.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,y,xe.allChecked))}}function k(ht,ut){1&ht&&e.GkF(0)}const V=function(ht){return{options:ht}};function U(ht,ut){if(1&ht&&(e.ynx(0),e.YNc(1,k,1,0,"ng-container",18),e.BQk()),2&ht){const xe=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",xe.filterTemplate)("ngTemplateOutletContext",e.VKq(2,V,xe.filterOptions))}}function oe(ht,ut){if(1&ht){const xe=e.EpF();e.TgZ(0,"div",20)(1,"input",21,22),e.NdJ("input",function(We){e.CHM(xe);const gt=e.oxw(3);return e.KtG(gt.onFilter(We))}),e.qZA(),e._UZ(3,"span",23),e.qZA()}if(2&ht){const xe=e.oxw(3);e.xp6(1),e.Q6J("value",xe.filterValue||"")("disabled",xe.disabled),e.uIk("placeholder",xe.filterPlaceHolder)("aria-label",xe.ariaFilterLabel)}}function K(ht,ut){if(1&ht&&e.YNc(0,oe,4,4,"div",19),2&ht){const xe=e.oxw(2);e.Q6J("ngIf",xe.filter)}}function H(ht,ut){if(1&ht&&(e.TgZ(0,"div",7),e.YNc(1,w,6,13,"div",9),e.YNc(2,U,2,4,"ng-container",10),e.YNc(3,K,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&ht){const xe=e.MAs(4),De=e.oxw();e.xp6(1),e.Q6J("ngIf",De.checkbox&&De.multiple&&De.showToggleAll),e.xp6(1),e.Q6J("ngIf",De.filterTemplate)("ngIfElse",xe)}}function D(ht,ut){if(1&ht&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ht){const xe=e.oxw().$implicit,De=e.oxw(2);e.xp6(1),e.Oqu(De.getOptionGroupLabel(xe)||"empty")}}function P(ht,ut){1&ht&&e.GkF(0)}function Y(ht,ut){1&ht&&e.GkF(0)}const re=function(ht){return{$implicit:ht}};function j(ht,ut){if(1&ht&&(e.TgZ(0,"li",25),e.YNc(1,D,2,1,"span",3),e.YNc(2,P,1,0,"ng-container",18),e.qZA(),e.YNc(3,Y,1,0,"ng-container",18)),2&ht){const xe=ut.$implicit,De=e.oxw(2),We=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!De.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",De.groupTemplate)("ngTemplateOutletContext",e.VKq(5,re,xe)),e.xp6(1),e.Q6J("ngTemplateOutlet",We)("ngTemplateOutletContext",e.VKq(7,re,De.getOptionGroupChildren(xe)))}}function G(ht,ut){if(1&ht&&(e.ynx(0),e.YNc(1,j,4,9,"ng-template",24),e.BQk()),2&ht){const xe=e.oxw();e.xp6(1),e.Q6J("ngForOf",xe.optionsToRender)}}function ie(ht,ut){1&ht&&e.GkF(0)}function Te(ht,ut){if(1&ht&&(e.ynx(0),e.YNc(1,ie,1,0,"ng-container",18),e.BQk()),2&ht){const xe=e.oxw(),De=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",De)("ngTemplateOutletContext",e.VKq(2,re,xe.optionsToRender))}}const Me=function(ht){return{"p-highlight":ht}};function de(ht,ut){if(1&ht&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"span",17),e.qZA()()),2&ht){const xe=e.oxw().$implicit,De=e.oxw(2);e.Q6J("ngClass",e.VKq(3,N,De.disabled||De.isOptionDisabled(xe))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,Me,De.isSelected(xe))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,y,De.isSelected(xe)))}}function te(ht,ut){if(1&ht&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ht){const xe=e.oxw().$implicit,De=e.oxw(2);e.xp6(1),e.Oqu(De.getOptionLabel(xe))}}function ce(ht,ut){1&ht&&e.GkF(0)}const J=function(ht,ut){return{"p-listbox-item":!0,"p-highlight":ht,"p-disabled":ut}},ve=function(ht,ut){return{$implicit:ht,index:ut}};function be(ht,ut){if(1&ht){const xe=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(We){const Tt=e.CHM(xe).$implicit,Ft=e.oxw(2);return e.KtG(Ft.onOptionClick(We,Tt))})("dblclick",function(We){const Tt=e.CHM(xe).$implicit,Ft=e.oxw(2);return e.KtG(Ft.onOptionDoubleClick(We,Tt))})("touchend",function(){const gt=e.CHM(xe).$implicit,Tt=e.oxw(2);return e.KtG(Tt.onOptionTouchEnd(gt))})("keydown",function(We){const Tt=e.CHM(xe).$implicit,Ft=e.oxw(2);return e.KtG(Ft.onOptionKeyDown(We,Tt))}),e.YNc(1,de,3,9,"div",9),e.YNc(2,te,2,1,"span",3),e.YNc(3,ce,1,0,"ng-container",18),e.qZA()}if(2&ht){const xe=ut.$implicit,De=ut.index,We=e.oxw(2);e.Q6J("ngClass",e.WLB(8,J,We.isSelected(xe),We.isOptionDisabled(xe))),e.uIk("tabindex",We.disabled||We.isOptionDisabled(xe)?null:"0")("aria-label",We.getOptionLabel(xe))("aria-selected",We.isSelected(xe)),e.xp6(1),e.Q6J("ngIf",We.checkbox&&We.multiple),e.xp6(1),e.Q6J("ngIf",!We.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",We.itemTemplate)("ngTemplateOutletContext",e.WLB(11,ve,xe,De))}}function Be(ht,ut){1&ht&&e.YNc(0,be,4,14,"li",26),2&ht&&e.Q6J("ngForOf",ut.$implicit)}function we(ht,ut){if(1&ht&&(e.ynx(0),e._uU(1),e.BQk()),2&ht){const xe=e.oxw(2);e.xp6(1),e.hij(" ",xe.emptyFilterMessageLabel," ")}}function ke(ht,ut){1&ht&&e.GkF(0,null,30)}function X(ht,ut){if(1&ht&&(e.TgZ(0,"li",29),e.YNc(1,we,2,1,"ng-container",10),e.YNc(2,ke,2,0,"ng-container",8),e.qZA()),2&ht){const xe=e.oxw();e.xp6(1),e.Q6J("ngIf",!xe.emptyFilterTemplate&&!xe.emptyTemplate)("ngIfElse",xe.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",xe.emptyFilterTemplate||xe.emptyTemplate)}}function q(ht,ut){if(1&ht&&(e.ynx(0),e._uU(1),e.BQk()),2&ht){const xe=e.oxw(2);e.xp6(1),e.hij(" ",xe.emptyMessageLabel," ")}}function pe(ht,ut){1&ht&&e.GkF(0,null,31)}function _e(ht,ut){if(1&ht&&(e.TgZ(0,"li",29),e.YNc(1,q,2,1,"ng-container",10),e.YNc(2,pe,2,0,"ng-container",8),e.qZA()),2&ht){const xe=e.oxw();e.xp6(1),e.Q6J("ngIf",!xe.emptyTemplate)("ngIfElse",xe.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",xe.emptyTemplate)}}function Xe(ht,ut){1&ht&&e.GkF(0)}function ct(ht,ut){if(1&ht&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,Xe,1,0,"ng-container",8),e.qZA()),2&ht){const xe=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",xe.footerTemplate)}}const ot=[[["p-header"]],[["p-footer"]]],Zt=function(ht){return{"p-listbox p-component":!0,"p-disabled":ht}},Dt=["p-header","p-footer"],Cn={provide:R.JU,useExisting:(0,e.Gpc)(()=>Xt),multi:!0};let Xt=(()=>{class ht{constructor(xe,De,We,gt){this.el=xe,this.cd=De,this.filterService=We,this.config=gt,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(xe){this._options=xe,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(xe){this._filterValue=xe,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:xe=>this.onFilter(xe),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(xe=>{switch(xe.getType()){case"item":default:this.itemTemplate=xe.template;break;case"group":this.groupTemplate=xe.template;break;case"header":this.headerTemplate=xe.template;break;case"filter":this.filterTemplate=xe.template;break;case"footer":this.footerTemplate=xe.template;break;case"empty":this.emptyTemplate=xe.template;break;case"emptyfilter":this.emptyFilterTemplate=xe.template}})}getOptionLabel(xe){return this.optionLabel?x.gb.resolveFieldData(xe,this.optionLabel):null!=xe.label?xe.label:xe}getOptionGroupChildren(xe){return this.optionGroupChildren?x.gb.resolveFieldData(xe,this.optionGroupChildren):xe.items}getOptionGroupLabel(xe){return this.optionGroupLabel?x.gb.resolveFieldData(xe,this.optionGroupLabel):null!=xe.label?xe.label:xe}getOptionValue(xe){return this.optionValue?x.gb.resolveFieldData(xe,this.optionValue):this.optionLabel||void 0===xe.value?xe:xe.value}isOptionDisabled(xe){return this.optionDisabled?x.gb.resolveFieldData(xe,this.optionDisabled):void 0!==xe.disabled&&xe.disabled}writeValue(xe){this.value=xe,this.cd.markForCheck()}registerOnChange(xe){this.onModelChange=xe}registerOnTouched(xe){this.onModelTouched=xe}setDisabledState(xe){this.disabled=xe,this.cd.markForCheck()}onOptionClick(xe,De){this.disabled||this.isOptionDisabled(De)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(xe,De):this.onOptionClickMultiple(xe,De):this.onOptionClickSingle(xe,De),this.onClick.emit({originalEvent:xe,option:De,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(xe){this.disabled||this.isOptionDisabled(xe)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(xe,De){this.disabled||this.isOptionDisabled(De)||this.readonly||this.onDblClick.emit({originalEvent:xe,option:De,value:this.value})}onOptionClickSingle(xe,De){let We=this.isSelected(De),gt=!1;if(!this.optionTouched&&this.metaKeySelection){let Ft=xe.metaKey||xe.ctrlKey;We?Ft&&(this.value=null,gt=!0):(this.value=this.getOptionValue(De),gt=!0)}else this.value=We?null:this.getOptionValue(De),gt=!0;gt&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:xe,value:this.value}))}onOptionClickMultiple(xe,De){let We=this.isSelected(De),gt=!1;if(!this.optionTouched&&this.metaKeySelection){let Ft=xe.metaKey||xe.ctrlKey;We?(Ft?this.removeOption(De):this.value=[this.getOptionValue(De)],gt=!0):(this.value=Ft&&this.value||[],this.value=[...this.value,this.getOptionValue(De)],gt=!0)}else We?this.removeOption(De):this.value=[...this.value||[],this.getOptionValue(De)],gt=!0;gt&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:xe,value:this.value}))}onOptionClickCheckbox(xe,De){this.disabled||this.readonly||(this.isSelected(De)?this.removeOption(De):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(De)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:xe,value:this.value}))}removeOption(xe){this.value=this.value.filter(De=>!x.gb.equals(De,this.getOptionValue(xe),this.dataKey))}isSelected(xe){let De=!1,We=this.getOptionValue(xe);if(this.multiple){if(this.value)for(let gt of this.value)if(x.gb.equals(gt,We,this.dataKey)){De=!0;break}}else De=x.gb.equals(this.value,We,this.dataKey);return De}get allChecked(){let xe=this.optionsToRender;if(!xe||0===xe.length)return!1;{let De=0,We=0,gt=0,Tt=this.group?0:this.optionsToRender.length;for(let Ft of xe)if(this.group)for(let Ot of this.getOptionGroupChildren(Ft)){let Oe=this.isOptionDisabled(Ot),et=this.isSelected(Ot);if(Oe)et?De++:We++;else{if(!et)return!1;gt++}Tt++}else{let Ot=this.isOptionDisabled(Ft),Oe=this.isSelected(Ft);if(Ot)Oe?De++:We++;else{if(!Oe)return!1;gt++}}return Tt===De||Tt===gt||gt&&Tt===gt+We+De}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(u.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(u.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(xe){this._filterValue=xe.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let xe=(this.filterBy||this.optionLabel||"label").split(","),De=[];for(let We of this.options){let gt=this.filterService.filter(this.getOptionGroupChildren(We),xe,this.filterValue,this.filterMatchMode,this.filterLocale);gt&&gt.length&&De.push(Object.assign(Object.assign({},We),{[this.optionGroupChildren]:gt}))}this._filteredOptions=De}else this._filteredOptions=this._options.filter(xe=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(xe),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let xe=this.optionsToRender;if(!xe||0===xe.length)return!0;for(let De of xe)if(!this.isOptionDisabled(De))return!1;return!0}toggleAll(xe){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:xe,value:this.value}),xe.preventDefault())}checkAll(){let De=[];this.optionsToRender.forEach(We=>{if(this.group){let gt=this.getOptionGroupChildren(We);gt&&gt.forEach(Tt=>{let Ft=this.isOptionDisabled(Tt);(!Ft||Ft&&this.isSelected(Tt))&&De.push(this.getOptionValue(Tt))})}else{let gt=this.isOptionDisabled(We);(!gt||gt&&this.isSelected(We))&&De.push(this.getOptionValue(We))}}),this.value=De}uncheckAll(){let De=[];this.optionsToRender.forEach(We=>{this.group?We.items&&We.items.forEach(gt=>{this.isOptionDisabled(gt)&&this.isSelected(gt)&&De.push(this.getOptionValue(gt))}):this.isOptionDisabled(We)&&this.isSelected(We)&&De.push(this.getOptionValue(We))}),this.value=De}onOptionKeyDown(xe,De){if(this.readonly)return;let We=xe.currentTarget;switch(xe.which){case 40:var gt=this.findNextItem(We);gt&&gt.focus(),xe.preventDefault();break;case 38:var Tt=this.findPrevItem(We);Tt&&Tt.focus(),xe.preventDefault();break;case 13:this.onOptionClick(xe,De),xe.preventDefault()}}findNextItem(xe){let De=xe.nextElementSibling;return De?p.p.hasClass(De,"p-disabled")||p.p.isHidden(De)||p.p.hasClass(De,"p-listbox-item-group")?this.findNextItem(De):De:null}findPrevItem(xe){let De=xe.previousElementSibling;return De?p.p.hasClass(De,"p-disabled")||p.p.isHidden(De)||p.p.hasClass(De,"p-listbox-item-group")?this.findPrevItem(De):De:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return ht.\u0275fac=function(xe){return new(xe||ht)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(u.iZ),e.Y36(u.b4))},ht.\u0275cmp=e.Xpm({type:ht,selectors:[["p-listbox"]],contentQueries:function(xe,De,We){if(1&xe&&(e.Suo(We,u.h4,5),e.Suo(We,u.$_,5),e.Suo(We,u.jx,4)),2&xe){let gt;e.iGM(gt=e.CRH())&&(De.headerFacet=gt.first),e.iGM(gt=e.CRH())&&(De.footerFacet=gt.first),e.iGM(gt=e.CRH())&&(De.templates=gt)}},viewQuery:function(xe,De){if(1&xe&&(e.Gf(s,5),e.Gf(F,5)),2&xe){let We;e.iGM(We=e.CRH())&&(De.headerCheckboxViewChild=We.first),e.iGM(We=e.CRH())&&(De.filterViewChild=We.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([Cn])],ngContentSelectors:Dt,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(xe,De){1&xe&&(e.F$t(ot),e.TgZ(0,"div",0),e.YNc(1,Q,3,1,"div",1),e.YNc(2,H,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,G,2,1,"ng-container",3),e.YNc(6,Te,2,4,"ng-container",3),e.YNc(7,Be,1,1,"ng-template",null,4,e.W1O),e.YNc(9,X,3,3,"li",5),e.YNc(10,_e,3,3,"li",5),e.qZA()(),e.YNc(11,ct,3,1,"div",6),e.qZA()),2&xe&&(e.Tol(De.styleClass),e.Q6J("ngClass",e.VKq(16,Zt,De.disabled))("ngStyle",De.style),e.xp6(1),e.Q6J("ngIf",De.headerFacet||De.headerTemplate),e.xp6(1),e.Q6J("ngIf",De.checkbox&&De.multiple&&De.showToggleAll||De.filter),e.xp6(1),e.Tol(De.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",De.listStyle),e.xp6(1),e.uIk("aria-multiselectable",De.multiple),e.xp6(1),e.Q6J("ngIf",De.group),e.xp6(1),e.Q6J("ngIf",!De.group),e.xp6(3),e.Q6J("ngIf",De.hasFilter()&&De.isEmpty()),e.xp6(1),e.Q6J("ngIf",!De.hasFilter()&&De.isEmpty()),e.xp6(1),e.Q6J("ngIf",De.footerFacet||De.footerTemplate))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,b.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),ht})(),jt=(()=>{class ht{}return ht.\u0275fac=function(xe){return new(xe||ht)},ht.\u0275mod=e.oAB({type:ht}),ht.\u0275inj=e.cJS({imports:[d.ez,u.m8,b.T,u.m8]}),ht})()},1874:(dn,pt,C)=>{"use strict";C.d(pt,{$9:()=>ct,v2:()=>Xe});var e=C(5e3),d=C(1777),u=C(9808),p=C(5730),x=C(5921),R=C(3470),b=C(5787),s=C(4119),F=C(9783);const O=["pMenuItemContent",""];function Q(ot,Zt){if(1&ot&&e._UZ(0,"span",7),2&ot){const Dt=e.oxw(2);e.Tol(Dt.item.iconClass),e.Q6J("ngClass",Dt.item.icon)("ngStyle",Dt.item.iconStyle)}}function N(ot,Zt){if(1&ot&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&ot){const Dt=e.oxw(2);e.xp6(1),e.Oqu(Dt.item.label)}}function T(ot,Zt){if(1&ot&&e._UZ(0,"span",9),2&ot){const Dt=e.oxw(2);e.Q6J("innerHTML",Dt.item.label,e.oJD)}}function y(ot,Zt){if(1&ot&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&ot){const Dt=e.oxw(2);e.Q6J("ngClass",Dt.item.badgeStyleClass),e.xp6(1),e.Oqu(Dt.item.badge)}}const w=function(ot){return{"p-disabled":ot}};function k(ot,Zt){if(1&ot){const Dt=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.onItemKeyDown(Xt))})("click",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.menu.itemClick(Xt,jt.item))}),e.YNc(1,Q,1,4,"span",3),e.YNc(2,N,2,1,"span",4),e.YNc(3,T,1,1,"ng-template",null,5,e.W1O),e.YNc(5,y,2,2,"span",6),e.qZA()}if(2&ot){const Dt=e.MAs(4),Cn=e.oxw();e.Q6J("target",Cn.item.target)("ngClass",e.VKq(12,w,Cn.item.disabled))("target",Cn.item.target),e.uIk("href",Cn.item.url||null,e.LSH)("tabindex",Cn.item.disabled?null:"0")("data-automationid",Cn.item.automationId)("title",Cn.item.title)("id",Cn.item.id),e.xp6(1),e.Q6J("ngIf",Cn.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Cn.item.escape)("ngIfElse",Dt),e.xp6(3),e.Q6J("ngIf",Cn.item.badge)}}function V(ot,Zt){if(1&ot&&e._UZ(0,"span",14),2&ot){const Dt=e.oxw(2);e.Q6J("ngClass",Dt.item.icon)}}function U(ot,Zt){if(1&ot&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&ot){const Dt=e.oxw(2);e.xp6(1),e.Oqu(Dt.item.label)}}function oe(ot,Zt){if(1&ot&&e._UZ(0,"span",9),2&ot){const Dt=e.oxw(2);e.Q6J("innerHTML",Dt.item.label,e.oJD)}}function K(ot,Zt){if(1&ot&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&ot){const Dt=e.oxw(2);e.Q6J("ngClass",Dt.item.badgeStyleClass),e.xp6(1),e.Oqu(Dt.item.badge)}}const H=function(){return{exact:!1}};function D(ot,Zt){if(1&ot){const Dt=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.onItemKeyDown(Xt))})("click",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.menu.itemClick(Xt,jt.item))}),e.YNc(1,V,1,1,"span",12),e.YNc(2,U,2,1,"span",4),e.YNc(3,oe,1,1,"ng-template",null,13,e.W1O),e.YNc(5,K,2,2,"span",6),e.qZA()}if(2&ot){const Dt=e.MAs(4),Cn=e.oxw();e.Q6J("routerLink",Cn.item.routerLink)("queryParams",Cn.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Cn.item.routerLinkActiveOptions||e.DdM(20,H))("target",Cn.item.target)("ngClass",e.VKq(21,w,Cn.item.disabled))("fragment",Cn.item.fragment)("queryParamsHandling",Cn.item.queryParamsHandling)("preserveFragment",Cn.item.preserveFragment)("skipLocationChange",Cn.item.skipLocationChange)("replaceUrl",Cn.item.replaceUrl)("state",Cn.item.state),e.uIk("data-automationid",Cn.item.automationId)("id",Cn.item.id)("tabindex",Cn.item.disabled?null:"0")("title",Cn.item.title),e.xp6(1),e.Q6J("ngIf",Cn.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Cn.item.escape)("ngIfElse",Dt),e.xp6(3),e.Q6J("ngIf",Cn.item.badge)}}const P=["container"],Y=function(ot){return{"p-hidden":ot}};function re(ot,Zt){if(1&ot&&e._UZ(0,"li",8),2&ot){const Dt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Y,!1===Dt.visible))}}function j(ot,Zt){if(1&ot&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ot){const Dt=e.oxw(2).$implicit;e.xp6(1),e.Oqu(Dt.label)}}function G(ot,Zt){if(1&ot&&e._UZ(0,"span",12),2&ot){const Dt=e.oxw(2).$implicit;e.Q6J("innerHTML",Dt.label,e.oJD)}}const ie=function(ot,Zt){return{"p-hidden":ot,flex:Zt}};function Te(ot,Zt){if(1&ot&&(e.TgZ(0,"li",9),e.YNc(1,j,2,1,"span",10),e.YNc(2,G,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&ot){const Dt=e.MAs(3),Cn=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,ie,!1===Cn.visible,Cn.visible))("tooltipOptions",Cn.tooltipOptions),e.uIk("data-automationid",Cn.automationId),e.xp6(1),e.Q6J("ngIf",!1!==Cn.escape)("ngIfElse",Dt)}}function Me(ot,Zt){if(1&ot&&e._UZ(0,"li",8),2&ot){const Dt=e.oxw().$implicit,Cn=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Y,!1===Dt.visible||!1===Cn.visible))}}function de(ot,Zt){if(1&ot&&e._UZ(0,"li",14),2&ot){const Dt=e.oxw().$implicit,Cn=e.oxw().$implicit;e.Tol(Dt.styleClass),e.Q6J("pMenuItemContent",Dt)("ngClass",e.VKq(6,Y,!1===Dt.visible||!1===Cn.visible))("ngStyle",Dt.style)("tooltipOptions",Dt.tooltipOptions)}}function te(ot,Zt){if(1&ot&&(e.YNc(0,Me,1,3,"li",6),e.YNc(1,de,1,8,"li",13)),2&ot){const Dt=Zt.$implicit;e.Q6J("ngIf",Dt.separator),e.xp6(1),e.Q6J("ngIf",!Dt.separator)}}function ce(ot,Zt){if(1&ot&&(e.YNc(0,re,1,3,"li",6),e.YNc(1,Te,4,8,"li",7),e.YNc(2,te,2,2,"ng-template",5)),2&ot){const Dt=Zt.$implicit;e.Q6J("ngIf",Dt.separator),e.xp6(1),e.Q6J("ngIf",!Dt.separator),e.xp6(1),e.Q6J("ngForOf",Dt.items)}}function J(ot,Zt){if(1&ot&&e.YNc(0,ce,3,3,"ng-template",5),2&ot){const Dt=e.oxw(2);e.Q6J("ngForOf",Dt.model)}}function ve(ot,Zt){if(1&ot&&e._UZ(0,"li",8),2&ot){const Dt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Y,!1===Dt.visible))}}function be(ot,Zt){if(1&ot&&e._UZ(0,"li",14),2&ot){const Dt=e.oxw().$implicit;e.Tol(Dt.styleClass),e.Q6J("pMenuItemContent",Dt)("ngClass",e.VKq(6,Y,!1===Dt.visible))("ngStyle",Dt.style)("tooltipOptions",Dt.tooltipOptions)}}function Be(ot,Zt){if(1&ot&&(e.YNc(0,ve,1,3,"li",6),e.YNc(1,be,1,8,"li",13)),2&ot){const Dt=Zt.$implicit;e.Q6J("ngIf",Dt.separator),e.xp6(1),e.Q6J("ngIf",!Dt.separator)}}function we(ot,Zt){if(1&ot&&e.YNc(0,Be,2,2,"ng-template",5),2&ot){const Dt=e.oxw(2);e.Q6J("ngForOf",Dt.model)}}const ke=function(ot){return{"p-menu p-component":!0,"p-menu-overlay":ot}},X=function(ot,Zt){return{showTransitionParams:ot,hideTransitionParams:Zt}},q=function(ot){return{value:"visible",params:ot}};function pe(ot,Zt){if(1&ot){const Dt=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.onOverlayClick(Xt))})("@overlayAnimation.start",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.onOverlayAnimationStart(Xt))})("@overlayAnimation.done",function(Xt){e.CHM(Dt);const jt=e.oxw();return e.KtG(jt.onOverlayAnimationEnd(Xt))}),e.TgZ(2,"ul",3),e.YNc(3,J,1,1,null,4),e.YNc(4,we,1,1,null,4),e.qZA()()}if(2&ot){const Dt=e.oxw();e.Tol(Dt.styleClass),e.Q6J("ngClass",e.VKq(8,ke,Dt.popup))("ngStyle",Dt.style)("@overlayAnimation",e.VKq(13,q,e.WLB(10,X,Dt.showTransitionOptions,Dt.hideTransitionOptions)))("@.disabled",!0!==Dt.popup),e.xp6(3),e.Q6J("ngIf",Dt.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!Dt.hasSubMenu())}}let _e=(()=>{class ot{constructor(Dt){this.menu=Dt}onItemKeyDown(Dt){let Cn=Dt.currentTarget.parentElement;switch(Dt.code){case"ArrowDown":var Xt=this.findNextItem(Cn);Xt&&Xt.children[0].focus(),Dt.preventDefault();break;case"ArrowUp":var jt=this.findPrevItem(Cn);jt&&jt.children[0].focus(),Dt.preventDefault();break;case"Space":case"Enter":Cn&&!p.p.hasClass(Cn,"p-disabled")&&Cn.children[0].click(),Dt.preventDefault()}}findNextItem(Dt){let Cn=Dt.nextElementSibling;return Cn?p.p.hasClass(Cn,"p-disabled")||!p.p.hasClass(Cn,"p-menuitem")?this.findNextItem(Cn):Cn:null}findPrevItem(Dt){let Cn=Dt.previousElementSibling;return Cn?p.p.hasClass(Cn,"p-disabled")||!p.p.hasClass(Cn,"p-menuitem")?this.findPrevItem(Cn):Cn:null}}return ot.\u0275fac=function(Dt){return new(Dt||ot)(e.Y36((0,e.Gpc)(()=>Xe)))},ot.\u0275cmp=e.Xpm({type:ot,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:O,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(Dt,Cn){1&Dt&&(e.YNc(0,k,6,14,"a",0),e.YNc(1,D,6,23,"a",1)),2&Dt&&(e.Q6J("ngIf",!Cn.item.routerLink),e.xp6(1),e.Q6J("ngIf",Cn.item.routerLink))},dependencies:[u.mk,u.O5,u.PC,R.yS,R.Od,b.H],encapsulation:2}),ot})(),Xe=(()=>{class ot{constructor(Dt,Cn,Xt,jt,ht){this.el=Dt,this.renderer=Cn,this.cd=Xt,this.config=jt,this.overlayService=ht,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(Dt){this.visible?this.hide():this.show(Dt),this.preventDocumentDefault=!0}show(Dt){this.target=Dt.currentTarget,this.relativeAlign=Dt.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(Dt){switch(Dt.toState){case"visible":this.popup&&(this.container=Dt.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(Dt){"void"===Dt.toState&&this.autoZIndex&&x.P9.clear(Dt.element)}alignOverlay(){this.relativeAlign?p.p.relativePosition(this.container,this.target):p.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):p.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&x.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!p.p.isTouchDevice()&&this.hide()}itemClick(Dt,Cn){Cn.disabled?Dt.preventDefault():(!Cn.url&&!Cn.routerLink&&Dt.preventDefault(),Cn.command&&Cn.command({originalEvent:Dt,item:Cn}),this.popup&&this.hide())}onOverlayClick(Dt){this.popup&&this.overlayService.add({originalEvent:Dt,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new p.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&x.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var Dt of this.model)if(Dt.items)return!0;return!1}}return ot.\u0275fac=function(Dt){return new(Dt||ot)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(F.b4),e.Y36(F.F0))},ot.\u0275cmp=e.Xpm({type:ot,selectors:[["p-menu"]],viewQuery:function(Dt,Cn){if(1&Dt&&e.Gf(P,5),2&Dt){let Xt;e.iGM(Xt=e.CRH())&&(Cn.containerViewChild=Xt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(Dt,Cn){1&Dt&&e.YNc(0,pe,5,15,"div",0),2&Dt&&e.Q6J("ngIf",!Cn.popup||Cn.visible)},dependencies:[u.mk,u.sg,u.O5,u.PC,s.u,_e],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),ot})(),ct=(()=>{class ot{}return ot.\u0275fac=function(Dt){return new(Dt||ot)},ot.\u0275mod=e.oAB({type:ot}),ot.\u0275inj=e.cJS({imports:[u.ez,R.Bz,b.T,s.z,R.Bz,s.z]}),ot})()},7172:(dn,pt,C)=>{"use strict";C.d(pt,{W6:()=>pe,nm:()=>q});var e=C(5e3),d=C(9808),u=C(5921),p=C(9783),x=C(3470),R=C(5787),b=C(4119);const s=function(_e){return{"p-hidden":_e}};function F(_e,Xe){if(1&_e&&e._UZ(0,"li",4),2&_e){const ct=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,s,!1===ct.visible))}}function O(_e,Xe){if(1&_e&&e._UZ(0,"span",16),2&_e){const ct=e.oxw(3).$implicit;e.Q6J("ngClass",ct.icon)("ngStyle",ct.iconStyle)}}function Q(_e,Xe){if(1&_e&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&_e){const ct=e.oxw(3).$implicit;e.xp6(1),e.Oqu(ct.label)}}function N(_e,Xe){if(1&_e&&e._UZ(0,"span",18),2&_e){const ct=e.oxw(3).$implicit;e.Q6J("innerHTML",ct.label,e.oJD)}}function T(_e,Xe){if(1&_e&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&_e){const ct=e.oxw(3).$implicit;e.Q6J("ngClass",ct.badgeStyleClass),e.xp6(1),e.Oqu(ct.badge)}}const y=function(_e,Xe){return{"pi-angle-down":_e,"pi-angle-right":Xe}};function w(_e,Xe){if(1&_e&&e._UZ(0,"span",20),2&_e){const ct=e.oxw(4);e.Q6J("ngClass",e.WLB(1,y,ct.root,!ct.root))}}const k=function(_e){return{"p-menuitem-link":!0,"p-disabled":_e}};function V(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(Zt){e.CHM(ct);const Dt=e.oxw(2).$implicit,Cn=e.oxw();return e.KtG(Cn.onItemClick(Zt,Dt))})("mouseenter",function(Zt){e.CHM(ct);const Dt=e.oxw(2).$implicit,Cn=e.oxw();return e.KtG(Cn.onItemMouseEnter(Zt,Dt))}),e.YNc(1,O,1,2,"span",11),e.YNc(2,Q,2,1,"span",12),e.YNc(3,N,1,1,"ng-template",null,13,e.W1O),e.YNc(5,T,2,2,"span",14),e.YNc(6,w,1,4,"span",15),e.qZA()}if(2&_e){const ct=e.MAs(4),ot=e.oxw(2).$implicit,Zt=e.oxw();e.Q6J("target",ot.target)("ngClass",e.VKq(14,k,ot.disabled)),e.uIk("href",ot.url,e.LSH)("data-automationid",ot.automationId)("title",ot.title)("id",ot.id)("tabindex",ot.disabled?null:"0")("aria-haspopup",null!=Zt.item.items)("aria-expanded",Zt.item===Zt.activeItem),e.xp6(1),e.Q6J("ngIf",ot.icon),e.xp6(1),e.Q6J("ngIf",!1!==ot.escape)("ngIfElse",ct),e.xp6(3),e.Q6J("ngIf",ot.badge),e.xp6(1),e.Q6J("ngIf",ot.items)}}function U(_e,Xe){if(1&_e&&e._UZ(0,"span",16),2&_e){const ct=e.oxw(3).$implicit;e.Q6J("ngClass",ct.icon)("ngStyle",ct.iconStyle)}}function oe(_e,Xe){if(1&_e&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&_e){const ct=e.oxw(3).$implicit;e.xp6(1),e.Oqu(ct.label)}}function K(_e,Xe){if(1&_e&&e._UZ(0,"span",18),2&_e){const ct=e.oxw(3).$implicit;e.Q6J("innerHTML",ct.label,e.oJD)}}function H(_e,Xe){if(1&_e&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&_e){const ct=e.oxw(3).$implicit;e.Q6J("ngClass",ct.badgeStyleClass),e.xp6(1),e.Oqu(ct.badge)}}function D(_e,Xe){if(1&_e&&e._UZ(0,"span",20),2&_e){const ct=e.oxw(4);e.Q6J("ngClass",e.WLB(1,y,ct.root,!ct.root))}}const P=function(){return{exact:!1}};function Y(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(Zt){e.CHM(ct);const Dt=e.oxw(2).$implicit,Cn=e.oxw();return e.KtG(Cn.onItemClick(Zt,Dt))})("mouseenter",function(Zt){e.CHM(ct);const Dt=e.oxw(2).$implicit,Cn=e.oxw();return e.KtG(Cn.onItemMouseEnter(Zt,Dt))}),e.YNc(1,U,1,2,"span",11),e.YNc(2,oe,2,1,"span",12),e.YNc(3,K,1,1,"ng-template",null,22,e.W1O),e.YNc(5,H,2,2,"span",14),e.YNc(6,D,1,4,"span",15),e.qZA()}if(2&_e){const ct=e.MAs(4),ot=e.oxw(2).$implicit;e.Q6J("routerLink",ot.routerLink)("queryParams",ot.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",ot.routerLinkActiveOptions||e.DdM(21,P))("target",ot.target)("ngClass",e.VKq(22,k,ot.disabled))("fragment",ot.fragment)("queryParamsHandling",ot.queryParamsHandling)("preserveFragment",ot.preserveFragment)("skipLocationChange",ot.skipLocationChange)("replaceUrl",ot.replaceUrl)("state",ot.state),e.uIk("data-automationid",ot.automationId)("title",ot.title)("id",ot.id)("tabindex",ot.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",ot.icon),e.xp6(1),e.Q6J("ngIf",!1!==ot.escape)("ngIfElse",ct),e.xp6(3),e.Q6J("ngIf",ot.badge),e.xp6(1),e.Q6J("ngIf",ot.items)}}function re(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"p-menubarSub",23),e.NdJ("leafClick",function(){e.CHM(ct);const Zt=e.oxw(3);return e.KtG(Zt.onLeafClick())}),e.qZA()}if(2&_e){const ct=e.oxw(2).$implicit,ot=e.oxw();e.Q6J("parentActive",ct===ot.activeItem)("item",ct)("mobileActive",ot.mobileActive)("autoDisplay",ot.autoDisplay)}}const j=function(_e,Xe){return{"p-menuitem":!0,"p-menuitem-active":_e,"p-hidden":Xe}};function G(_e,Xe){if(1&_e&&(e.TgZ(0,"li",5,6),e.YNc(2,V,7,16,"a",7),e.YNc(3,Y,7,24,"a",8),e.YNc(4,re,1,4,"p-menubarSub",9),e.qZA()),2&_e){const ct=e.oxw().$implicit,ot=e.oxw();e.Tol(ct.styleClass),e.Q6J("ngClass",e.WLB(8,j,ct===ot.activeItem,!1===ct.visible))("ngStyle",ct.style)("tooltipOptions",ct.tooltipOptions),e.xp6(2),e.Q6J("ngIf",!ct.routerLink),e.xp6(1),e.Q6J("ngIf",ct.routerLink),e.xp6(1),e.Q6J("ngIf",ct.items)}}function ie(_e,Xe){if(1&_e&&(e.YNc(0,F,1,3,"li",2),e.YNc(1,G,5,11,"li",3)),2&_e){const ct=Xe.$implicit;e.Q6J("ngIf",ct.separator),e.xp6(1),e.Q6J("ngIf",!ct.separator)}}const Te=function(_e,Xe){return{"p-submenu-list":_e,"p-menubar-root-list":Xe}},Me=["menubutton"],de=["rootmenu"];function te(_e,Xe){1&_e&&e.GkF(0)}function ce(_e,Xe){if(1&_e&&(e.TgZ(0,"div",7),e.YNc(1,te,1,0,"ng-container",8),e.qZA()),2&_e){const ct=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",ct.startTemplate)}}function J(_e,Xe){if(1&_e){const ct=e.EpF();e.TgZ(0,"a",9,10),e.NdJ("click",function(Zt){e.CHM(ct);const Dt=e.oxw();return e.KtG(Dt.toggle(Zt))}),e._UZ(2,"i",11),e.qZA()}}function ve(_e,Xe){1&_e&&e.GkF(0)}function be(_e,Xe){if(1&_e&&(e.TgZ(0,"div",12),e.YNc(1,ve,1,0,"ng-container",8),e.qZA()),2&_e){const ct=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",ct.endTemplate)}}function Be(_e,Xe){1&_e&&(e.TgZ(0,"div",12),e.Hsn(1),e.qZA())}const we=function(_e){return{"p-menubar p-component":!0,"p-menubar-mobile-active":_e}},ke=["*"];let X=(()=>{class _e{constructor(ct,ot,Zt){this.el=ct,this.renderer=ot,this.cd=Zt,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new e.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(ct){this.root||(this._parentActive=ct,ct||(this.activeItem=null))}onItemClick(ct,ot){ot.disabled?ct.preventDefault():(!ot.url&&!ot.routerLink&&ct.preventDefault(),ot.command&&ot.command({originalEvent:ct,item:ot}),ot.items&&(this.activeItem&&ot===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=ot,this.root&&this.bindDocumentClickListener())),ot.items||this.onLeafClick())}onItemMouseEnter(ct,ot){ot.disabled||this.mobileActive?ct.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=ot,this.bindDocumentClickListener()):(this.activeItem=ot,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=ct=>{this.el&&!this.el.nativeElement.contains(ct.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return _e.\u0275fac=function(ct){return new(ct||_e)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(ct,ot){1&ct&&(e.TgZ(0,"ul",0),e.YNc(1,ie,2,2,"ng-template",1),e.qZA()),2&ct&&(e.Q6J("ngClass",e.WLB(3,Te,!ot.root,ot.root)),e.uIk("role",ot.root?"menubar":"menu"),e.xp6(1),e.Q6J("ngForOf",ot.root?ot.item:ot.item.items))},dependencies:[d.mk,d.sg,d.O5,d.PC,x.yS,x.Od,R.H,b.u,_e],encapsulation:2}),_e})(),q=(()=>{class _e{constructor(ct,ot,Zt,Dt){this.el=ct,this.renderer=ot,this.cd=Zt,this.config=Dt,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(ct=>{switch(ct.getType()){case"start":this.startTemplate=ct.template;break;case"end":this.endTemplate=ct.template}})}toggle(ct){this.mobileActive?(this.hide(),u.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,u.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),ct.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=ct=>{this.mobileActive&&this.rootmenu.el.nativeElement!==ct.target&&!this.rootmenu.el.nativeElement.contains(ct.target)&&this.menubutton.nativeElement!==ct.target&&!this.menubutton.nativeElement.contains(ct.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),u.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return _e.\u0275fac=function(ct){return new(ct||_e)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(p.b4))},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["p-menubar"]],contentQueries:function(ct,ot,Zt){if(1&ct&&e.Suo(Zt,p.jx,4),2&ct){let Dt;e.iGM(Dt=e.CRH())&&(ot.templates=Dt)}},viewQuery:function(ct,ot){if(1&ct&&(e.Gf(Me,5),e.Gf(de,5)),2&ct){let Zt;e.iGM(Zt=e.CRH())&&(ot.menubutton=Zt.first),e.iGM(Zt=e.CRH())&&(ot.rootmenu=Zt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:ke,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(ct,ot){if(1&ct&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,ce,2,1,"div",1),e.YNc(2,J,3,0,"a",2),e.TgZ(3,"p-menubarSub",3,4),e.NdJ("leafClick",function(){return ot.onLeafClick()}),e.qZA(),e.YNc(5,be,2,1,"div",5),e.YNc(6,Be,2,0,"ng-template",null,6,e.W1O),e.qZA()),2&ct){const Zt=e.MAs(7);e.Tol(ot.styleClass),e.Q6J("ngClass",e.VKq(13,we,ot.mobileActive))("ngStyle",ot.style),e.xp6(1),e.Q6J("ngIf",ot.startTemplate),e.xp6(1),e.Q6J("ngIf",ot.model&&ot.model.length>0),e.xp6(1),e.Q6J("item",ot.model)("baseZIndex",ot.baseZIndex)("autoZIndex",ot.autoZIndex)("mobileActive",ot.mobileActive)("autoDisplay",ot.autoDisplay),e.xp6(2),e.Q6J("ngIf",ot.endTemplate)("ngIfElse",Zt)}},dependencies:[d.mk,d.O5,d.tP,d.PC,X],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),_e})(),pe=(()=>{class _e{}return _e.\u0275fac=function(ct){return new(ct||_e)},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({imports:[d.ez,x.Bz,R.T,b.z,p.m8,x.Bz,b.z,p.m8]}),_e})()},6526:(dn,pt,C)=>{"use strict";C.d(pt,{NU:()=>sn,q4:()=>fn});var e=C(9808),d=C(5e3),u=C(2382),p=C(9783),x=C(5730),R=C(8050),b=C(5787),s=C(5871),F=C(4119),O=C(5921);function Q(Gt,On){if(1&Gt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Gt){const Bt=d.oxw();d.xp6(1),d.Oqu(Bt.label)}}function N(Gt,On){1&Gt&&d.GkF(0)}const T=function(Gt){return{height:Gt}},y=function(Gt,On){return{"p-highlight":Gt,"p-disabled":On}},w=function(Gt){return{"p-highlight":Gt}},k=function(Gt){return{"pi pi-check":Gt}},V=function(Gt){return{$implicit:Gt}},U=["container"],oe=["overlay"],K=["filterInput"],H=["in"],D=["items"],P=["scroller"];function Y(Gt,On){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Bt=d.oxw(2);d.xp6(1),d.Oqu(Bt.valuesAsString||"empty")}}function re(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"span",20),d.NdJ("click",function(Hn){d.CHM(Bt);const zn=d.oxw().$implicit,ri=d.oxw(3);return d.KtG(ri.removeChip(zn,Hn))}),d.qZA()}}function j(Gt,On){if(1&Gt&&(d.TgZ(0,"div",16,17)(2,"span",18),d._uU(3),d.qZA(),d.YNc(4,re,1,0,"span",19),d.qZA()),2&Gt){const Bt=On.$implicit,rn=d.oxw(3);d.xp6(3),d.Oqu(rn.findLabelByValue(Bt)),d.xp6(1),d.Q6J("ngIf",!rn.disabled)}}function G(Gt,On){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Bt=d.oxw(3);d.xp6(1),d.Oqu(Bt.placeholder||Bt.defaultLabel||"empty")}}function ie(Gt,On){if(1&Gt&&(d.ynx(0),d.YNc(1,j,5,2,"div",15),d.YNc(2,G,2,1,"ng-container",7),d.BQk()),2&Gt){const Bt=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",Bt.value),d.xp6(1),d.Q6J("ngIf",!Bt.value||0===Bt.value.length)}}function Te(Gt,On){if(1&Gt&&(d.ynx(0),d.YNc(1,Y,2,1,"ng-container",7),d.YNc(2,ie,3,2,"ng-container",7),d.BQk()),2&Gt){const Bt=d.oxw();d.xp6(1),d.Q6J("ngIf","comma"===Bt.display),d.xp6(1),d.Q6J("ngIf","chip"===Bt.display)}}function Me(Gt,On){1&Gt&&d.GkF(0)}function de(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"i",21),d.NdJ("click",function(Hn){d.CHM(Bt);const zn=d.oxw();return d.KtG(zn.clear(Hn))}),d.qZA()}}function te(Gt,On){1&Gt&&d.GkF(0)}function ce(Gt,On){1&Gt&&d.GkF(0)}const J=function(Gt){return{options:Gt}};function ve(Gt,On){if(1&Gt&&(d.ynx(0),d.YNc(1,ce,1,0,"ng-container",8),d.BQk()),2&Gt){const Bt=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",Bt.filterTemplate)("ngTemplateOutletContext",d.VKq(2,J,Bt.filterOptions))}}const be=function(Gt){return{"p-checkbox-disabled":Gt}},Be=function(Gt,On,Bt){return{"p-highlight":Gt,"p-focus":On,"p-disabled":Bt}};function we(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"div",36)(1,"div",2)(2,"input",37),d.NdJ("focus",function(){d.CHM(Bt);const Hn=d.oxw(4);return d.KtG(Hn.onHeaderCheckboxFocus())})("blur",function(){d.CHM(Bt);const Hn=d.oxw(4);return d.KtG(Hn.onHeaderCheckboxBlur())})("keydown.space",function(Hn){d.CHM(Bt);const zn=d.oxw(4);return d.KtG(zn.toggleAll(Hn))}),d.qZA()(),d.TgZ(3,"div",38),d.NdJ("click",function(Hn){d.CHM(Bt);const zn=d.oxw(4);return d.KtG(zn.toggleAll(Hn))}),d._UZ(4,"span",39),d.qZA()()}if(2&Gt){const Bt=d.oxw(4);d.Q6J("ngClass",d.VKq(6,be,Bt.disabled||Bt.toggleAllDisabled)),d.xp6(2),d.Q6J("checked",Bt.allChecked)("disabled",Bt.disabled||Bt.toggleAllDisabled),d.xp6(1),d.Q6J("ngClass",d.kEZ(8,Be,Bt.allChecked,Bt.headerCheckboxFocus,Bt.disabled||Bt.toggleAllDisabled)),d.uIk("aria-checked",Bt.allChecked),d.xp6(1),d.Q6J("ngClass",d.VKq(12,k,Bt.allChecked))}}function ke(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"div",40)(1,"input",41,42),d.NdJ("input",function(Hn){d.CHM(Bt);const zn=d.oxw(4);return d.KtG(zn.onFilterInputChange(Hn))}),d.qZA(),d._UZ(3,"span",43),d.qZA()}if(2&Gt){const Bt=d.oxw(4);d.xp6(1),d.Q6J("value",Bt.filterValue||"")("disabled",Bt.disabled),d.uIk("autocomplete",Bt.autocomplete)("placeholder",Bt.filterPlaceHolder)("aria-label",Bt.ariaFilterLabel)}}function X(Gt,On){if(1&Gt){const Bt=d.EpF();d.YNc(0,we,5,14,"div",32),d.YNc(1,ke,4,5,"div",33),d.TgZ(2,"button",34),d.NdJ("click",function(Hn){d.CHM(Bt);const zn=d.oxw(3);return d.KtG(zn.close(Hn))}),d._UZ(3,"span",35),d.qZA()}if(2&Gt){const Bt=d.oxw(3);d.Q6J("ngIf",Bt.showToggleAll&&!Bt.selectionLimit),d.xp6(1),d.Q6J("ngIf",Bt.filter)}}function q(Gt,On){if(1&Gt&&(d.TgZ(0,"div",28),d.Hsn(1),d.YNc(2,te,1,0,"ng-container",29),d.YNc(3,ve,2,4,"ng-container",30),d.YNc(4,X,4,2,"ng-template",null,31,d.W1O),d.qZA()),2&Gt){const Bt=d.MAs(5),rn=d.oxw(2);d.xp6(2),d.Q6J("ngTemplateOutlet",rn.headerTemplate),d.xp6(1),d.Q6J("ngIf",rn.filterTemplate)("ngIfElse",Bt)}}function pe(Gt,On){1&Gt&&d.GkF(0)}const _e=function(Gt,On){return{$implicit:Gt,options:On}};function Xe(Gt,On){if(1&Gt&&d.YNc(0,pe,1,0,"ng-container",8),2&Gt){const Bt=On.$implicit,rn=On.options;d.oxw(2);const Hn=d.MAs(6);d.Q6J("ngTemplateOutlet",Hn)("ngTemplateOutletContext",d.WLB(2,_e,Bt,rn))}}function ct(Gt,On){1&Gt&&d.GkF(0)}function ot(Gt,On){if(1&Gt&&d.YNc(0,ct,1,0,"ng-container",8),2&Gt){const Bt=On.options,rn=d.oxw(4);d.Q6J("ngTemplateOutlet",rn.loaderTemplate)("ngTemplateOutletContext",d.VKq(2,J,Bt))}}function Zt(Gt,On){1&Gt&&(d.ynx(0),d.YNc(1,ot,1,4,"ng-template",46),d.BQk())}function Dt(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"p-scroller",44,45),d.NdJ("onLazyLoad",function(Hn){d.CHM(Bt);const zn=d.oxw(2);return d.KtG(zn.onLazyLoad.emit(Hn))}),d.YNc(2,Xe,1,5,"ng-template",14),d.YNc(3,Zt,2,0,"ng-container",7),d.qZA()}if(2&Gt){const Bt=d.oxw(2);d.Akn(d.VKq(9,T,Bt.scrollHeight)),d.Q6J("items",Bt.optionsToRender)("itemSize",Bt.virtualScrollItemSize||Bt._itemSize)("autoSize",!0)("tabindex",-1)("lazy",Bt.lazy)("options",Bt.virtualScrollOptions),d.xp6(3),d.Q6J("ngIf",Bt.loaderTemplate)}}function Cn(Gt,On){1&Gt&&d.GkF(0)}const Xt=function(){return{}};function jt(Gt,On){if(1&Gt&&(d.ynx(0),d.YNc(1,Cn,1,0,"ng-container",8),d.BQk()),2&Gt){d.oxw();const Bt=d.MAs(6),rn=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",Bt)("ngTemplateOutletContext",d.WLB(3,_e,rn.optionsToRender,d.DdM(2,Xt)))}}function ht(Gt,On){if(1&Gt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Gt){const Bt=d.oxw().$implicit,rn=d.oxw(4);d.xp6(1),d.Oqu(rn.getOptionGroupLabel(Bt)||"empty")}}function ut(Gt,On){1&Gt&&d.GkF(0)}function xe(Gt,On){1&Gt&&d.GkF(0)}function De(Gt,On){if(1&Gt&&(d.TgZ(0,"li",52),d.YNc(1,ht,2,1,"span",7),d.YNc(2,ut,1,0,"ng-container",8),d.qZA(),d.YNc(3,xe,1,0,"ng-container",8)),2&Gt){const Bt=On.$implicit,rn=d.oxw(2).options,Hn=d.MAs(5),zn=d.oxw(2);d.Q6J("ngStyle",d.VKq(6,T,rn.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!zn.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",zn.groupTemplate)("ngTemplateOutletContext",d.VKq(8,V,Bt)),d.xp6(1),d.Q6J("ngTemplateOutlet",Hn)("ngTemplateOutletContext",d.VKq(10,V,zn.getOptionGroupChildren(Bt)))}}function We(Gt,On){if(1&Gt&&(d.ynx(0),d.YNc(1,De,4,12,"ng-template",51),d.BQk()),2&Gt){const Bt=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",Bt)}}function gt(Gt,On){1&Gt&&d.GkF(0)}function Tt(Gt,On){if(1&Gt&&(d.ynx(0),d.YNc(1,gt,1,0,"ng-container",8),d.BQk()),2&Gt){const Bt=d.oxw().$implicit,rn=d.MAs(5);d.xp6(1),d.Q6J("ngTemplateOutlet",rn)("ngTemplateOutletContext",d.VKq(2,V,Bt))}}function Ft(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"p-multiSelectItem",53),d.NdJ("onClick",function(Hn){d.CHM(Bt);const zn=d.oxw(4);return d.KtG(zn.onOptionClick(Hn))})("onKeydown",function(Hn){d.CHM(Bt);const zn=d.oxw(4);return d.KtG(zn.onOptionKeydown(Hn))}),d.qZA()}if(2&Gt){const Bt=On.$implicit,rn=d.oxw(2).options,Hn=d.oxw(2);d.Q6J("option",Bt)("selected",Hn.isSelected(Bt))("label",Hn.getOptionLabel(Bt))("disabled",Hn.isOptionDisabled(Bt))("template",Hn.itemTemplate)("itemSize",rn.itemSize)}}function Ot(Gt,On){1&Gt&&d.YNc(0,Ft,1,6,"ng-template",51),2&Gt&&d.Q6J("ngForOf",On.$implicit)}function Oe(Gt,On){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Bt=d.oxw(4);d.xp6(1),d.hij(" ",Bt.emptyFilterMessageLabel," ")}}function et(Gt,On){1&Gt&&d.GkF(0,null,55)}function Ne(Gt,On){if(1&Gt&&(d.TgZ(0,"li",54),d.YNc(1,Oe,2,1,"ng-container",30),d.YNc(2,et,2,0,"ng-container",29),d.qZA()),2&Gt){const Bt=d.oxw().options,rn=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,T,Bt.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!rn.emptyFilterTemplate&&!rn.emptyTemplate)("ngIfElse",rn.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.emptyFilterTemplate||rn.emptyTemplate)}}function yt(Gt,On){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Bt=d.oxw(4);d.xp6(1),d.hij(" ",Bt.emptyMessageLabel," ")}}function ee(Gt,On){1&Gt&&d.GkF(0,null,56)}function Ze(Gt,On){if(1&Gt&&(d.TgZ(0,"li",54),d.YNc(1,yt,2,1,"ng-container",30),d.YNc(2,ee,2,0,"ng-container",29),d.qZA()),2&Gt){const Bt=d.oxw().options,rn=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,T,Bt.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!rn.emptyTemplate)("ngIfElse",rn.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.emptyTemplate)}}function Ce(Gt,On){if(1&Gt&&(d.TgZ(0,"ul",47,48),d.YNc(2,We,2,1,"ng-container",7),d.YNc(3,Tt,2,4,"ng-container",7),d.YNc(4,Ot,1,1,"ng-template",null,49,d.W1O),d.YNc(6,Ne,3,6,"li",50),d.YNc(7,Ze,3,6,"li",50),d.qZA()),2&Gt){const Bt=On.options,rn=d.oxw(2);d.Akn(Bt.contentStyle),d.Q6J("ngClass",Bt.contentStyleClass),d.xp6(2),d.Q6J("ngIf",rn.group),d.xp6(1),d.Q6J("ngIf",!rn.group),d.xp6(3),d.Q6J("ngIf",rn.hasFilter()&&rn.isEmpty()),d.xp6(1),d.Q6J("ngIf",!rn.hasFilter()&&rn.isEmpty())}}function ft(Gt,On){1&Gt&&d.GkF(0)}function an(Gt,On){if(1&Gt&&(d.TgZ(0,"div",57),d.Hsn(1,1),d.YNc(2,ft,1,0,"ng-container",29),d.qZA()),2&Gt){const Bt=d.oxw(2);d.xp6(2),d.Q6J("ngTemplateOutlet",Bt.footerTemplate)}}const Tn=function(){return["p-multiselect-panel p-component"]};function qt(Gt,On){if(1&Gt){const Bt=d.EpF();d.TgZ(0,"div",22),d.NdJ("keydown",function(Hn){d.CHM(Bt);const zn=d.oxw();return d.KtG(zn.onKeydown(Hn))}),d.YNc(1,q,6,3,"div",23),d.TgZ(2,"div",24),d.YNc(3,Dt,4,11,"p-scroller",25),d.YNc(4,jt,2,6,"ng-container",7),d.YNc(5,Ce,8,7,"ng-template",null,26,d.W1O),d.qZA(),d.YNc(7,an,3,1,"div",27),d.qZA()}if(2&Gt){const Bt=d.oxw();d.Tol(Bt.panelStyleClass),d.Q6J("ngClass",d.DdM(10,Tn))("ngStyle",Bt.panelStyle),d.xp6(1),d.Q6J("ngIf",Bt.showHeader),d.xp6(1),d.Udp("max-height",Bt.virtualScroll?"auto":Bt.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngIf",Bt.virtualScroll),d.xp6(1),d.Q6J("ngIf",!Bt.virtualScroll),d.xp6(3),d.Q6J("ngIf",Bt.footerFacet||Bt.footerTemplate)}}const xt=[[["p-header"]],[["p-footer"]]],Ct=function(Gt,On,Bt,rn){return{"p-multiselect p-component":!0,"p-multiselect-open":Gt,"p-multiselect-chip":On,"p-focus":Bt,"p-disabled":rn}},me=function(Gt,On){return{"p-placeholder":Gt,"p-multiselect-label-empty":On}},lt=function(){return{"p-multiselect-trigger":!0}},$e=["p-header","p-footer"],Lt={provide:u.JU,useExisting:(0,d.Gpc)(()=>sn),multi:!0};let je=(()=>{class Gt{constructor(){this.onClick=new d.vpe,this.onKeydown=new d.vpe}onOptionClick(Bt){this.onClick.emit({originalEvent:Bt,option:this.option})}onOptionKeydown(Bt){this.onKeydown.emit({originalEvent:Bt,option:this.option})}}return Gt.\u0275fac=function(Bt){return new(Bt||Gt)},Gt.\u0275cmp=d.Xpm({type:Gt,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Bt,rn){1&Bt&&(d.TgZ(0,"li",0),d.NdJ("click",function(zn){return rn.onOptionClick(zn)})("keydown",function(zn){return rn.onOptionKeydown(zn)}),d.TgZ(1,"div",1)(2,"div",2),d._UZ(3,"span",3),d.qZA()(),d.YNc(4,Q,2,1,"span",4),d.YNc(5,N,1,0,"ng-container",5),d.qZA()),2&Bt&&(d.Q6J("ngStyle",d.VKq(9,T,rn.itemSize+"px"))("ngClass",d.WLB(11,y,rn.selected,rn.disabled)),d.uIk("aria-label",rn.label)("tabindex",rn.disabled?null:"0"),d.xp6(2),d.Q6J("ngClass",d.VKq(14,w,rn.selected)),d.xp6(1),d.Q6J("ngClass",d.VKq(16,k,rn.selected)),d.xp6(1),d.Q6J("ngIf",!rn.template),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.template)("ngTemplateOutletContext",d.VKq(18,V,rn.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,b.H],encapsulation:2}),Gt})(),sn=(()=>{class Gt{constructor(Bt,rn,Hn,zn,ri,Ci,Qi){this.el=Bt,this.renderer=rn,this.cd=Hn,this.zone=zn,this.filterService=ri,this.config=Ci,this.overlayService=Qi,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onClear=new d.vpe,this.onPanelShow=new d.vpe,this.onPanelHide=new d.vpe,this.onLazyLoad=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(Bt){this._autoZIndex=Bt,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(Bt){this._baseZIndex=Bt,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(Bt){this._showTransitionOptions=Bt,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(Bt){this._hideTransitionOptions=Bt,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(Bt){this._defaultLabel=Bt,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(Bt){this._placeholder=Bt,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(Bt){this._options=Bt,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(Bt){this._filterValue=Bt,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(Bt){this._itemSize=Bt,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:Bt=>this.onFilterInputChange(Bt),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(Bt=>{switch(Bt.getType()){case"item":default:this.itemTemplate=Bt.template;break;case"group":this.groupTemplate=Bt.template;break;case"selectedItems":this.selectedItemsTemplate=Bt.template;break;case"header":this.headerTemplate=Bt.template;break;case"filter":this.filterTemplate=Bt.template;break;case"emptyfilter":this.emptyFilterTemplate=Bt.template;break;case"empty":this.emptyTemplate=Bt.template;break;case"footer":this.footerTemplate=Bt.template;break;case"loader":this.loaderTemplate=Bt.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{var Bt;null===(Bt=this.overlayViewChild)||void 0===Bt||Bt.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(Bt){return this.optionLabel?O.gb.resolveFieldData(Bt,this.optionLabel):Bt&&null!=Bt.label?Bt.label:Bt}getOptionValue(Bt){return this.optionValue?O.gb.resolveFieldData(Bt,this.optionValue):!this.optionLabel&&Bt&&void 0!==Bt.value?Bt.value:Bt}getOptionGroupLabel(Bt){return this.optionGroupLabel?O.gb.resolveFieldData(Bt,this.optionGroupLabel):Bt&&null!=Bt.label?Bt.label:Bt}getOptionGroupChildren(Bt){return this.optionGroupChildren?O.gb.resolveFieldData(Bt,this.optionGroupChildren):Bt.items}isOptionDisabled(Bt){return(this.optionDisabled?O.gb.resolveFieldData(Bt,this.optionDisabled):!(!Bt||void 0===Bt.disabled)&&Bt.disabled)||this.maxSelectionLimitReached&&!this.isSelected(Bt)}writeValue(Bt){this.value=Bt,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(Bt){this.onModelChange=Bt}registerOnTouched(Bt){this.onModelTouched=Bt}setDisabledState(Bt){this.disabled=Bt,this.cd.markForCheck()}onOptionClick(Bt){let rn=Bt.option;if(this.isOptionDisabled(rn))return;let Hn=this.getOptionValue(rn),zn=this.findSelectionIndex(Hn);-1!=zn?(this.value=this.value.filter((ri,Ci)=>Ci!=zn),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],Hn]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:Bt.originalEvent,value:this.value,itemValue:Hn}),this.updateLabel(),this.updateFilledState()}isSelected(Bt){return-1!=this.findSelectionIndex(this.getOptionValue(Bt))}findSelectionIndex(Bt){let rn=-1;if(this.value)for(let Hn=0;Hn<this.value.length;Hn++)if(O.gb.equals(this.value[Hn],Bt,this.dataKey)){rn=Hn;break}return rn}get toggleAllDisabled(){let Bt=this.optionsToRender;if(!Bt||0===Bt.length)return!0;for(let rn of Bt)if(!this.isOptionDisabled(rn))return!1;return!0}toggleAll(Bt){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:Bt,value:this.value}),this.updateFilledState(),this.updateLabel(),Bt.preventDefault())}checkAll(){let rn=[];this.optionsToRender.forEach(Hn=>{if(this.group){let zn=this.getOptionGroupChildren(Hn);zn&&zn.forEach(ri=>{let Ci=this.isOptionDisabled(ri);(!Ci||Ci&&this.isSelected(ri))&&rn.push(this.getOptionValue(ri))})}else{let zn=this.isOptionDisabled(Hn);(!zn||zn&&this.isSelected(Hn))&&rn.push(this.getOptionValue(Hn))}}),this.value=rn}uncheckAll(){let rn=[];this.optionsToRender.forEach(Hn=>{this.group?Hn.items&&Hn.items.forEach(zn=>{this.isOptionDisabled(zn)&&this.isSelected(zn)&&rn.push(this.getOptionValue(zn))}):this.isOptionDisabled(Hn)&&this.isSelected(Hn)&&rn.push(this.getOptionValue(Hn))}),this.value=rn}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(Bt){var rn;switch(Bt.toState){case"visible":this.virtualScroll&&(null===(rn=this.scroller)||void 0===rn||rn.setContentEl(this.itemsViewChild.nativeElement)),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(Bt){this.hide(),Bt.preventDefault(),Bt.stopPropagation()}clear(Bt){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),Bt.stopPropagation()}onMouseclick(Bt,rn){var Hn,zn,ri;this.disabled||this.readonly||Bt.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(Bt),(null===(ri=null===(zn=null===(Hn=this.overlayViewChild)||void 0===Hn?void 0:Hn.el)||void 0===zn?void 0:zn.nativeElement)||void 0===ri||!ri.contains(Bt.target))&&!x.p.hasClass(Bt.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),rn.focus()))}removeChip(Bt,rn){this.value=this.value.filter(Hn=>!O.gb.equals(Hn,Bt,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:rn,value:this.value,itemValue:Bt}),this.updateLabel(),this.updateFilledState()}onInputFocus(Bt){this.focus=!0,this.onFocus.emit({originalEvent:Bt})}onInputBlur(Bt){this.focus=!1,this.onBlur.emit({originalEvent:Bt}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(Bt){if(!this.readonly)switch(Bt.originalEvent.which){case 40:var rn=this.findNextItem(Bt.originalEvent.target.parentElement);rn&&rn.focus(),Bt.originalEvent.preventDefault();break;case 38:var Hn=this.findPrevItem(Bt.originalEvent.target.parentElement);Hn&&Hn.focus(),Bt.originalEvent.preventDefault();break;case 13:this.onOptionClick(Bt),Bt.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(Bt){let rn=Bt.nextElementSibling;return rn?x.p.hasClass(rn.children[0],"p-disabled")||x.p.isHidden(rn.children[0])||x.p.hasClass(rn,"p-multiselect-item-group")?this.findNextItem(rn):rn.children[0]:null}findPrevItem(Bt){let rn=Bt.previousElementSibling;return rn?x.p.hasClass(rn.children[0],"p-disabled")||x.p.isHidden(rn.children[0])||x.p.hasClass(rn,"p-multiselect-item-group")?this.findPrevItem(rn):rn.children[0]:null}onKeydown(Bt){switch(Bt.which){case 40:!this.overlayVisible&&Bt.altKey&&(this.show(),Bt.preventDefault());break;case 32:this.overlayVisible||(this.show(),Bt.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let Bt="";for(let rn=0;rn<this.value.length;rn++){let Hn=this.findLabelByValue(this.value[rn]);Hn&&(Bt.length>0&&(Bt+=", "),Bt+=Hn)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=Bt;else{let rn=/{(.*?)}/;this.valuesAsString=rn.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(rn)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(Bt){if(this.group){let rn=null;for(let Hn=0;Hn<this.options.length;Hn++){let zn=this.getOptionGroupChildren(this.options[Hn]);if(zn&&(rn=this.searchLabelByValue(Bt,zn),rn))break}return rn}return this.searchLabelByValue(Bt,this.options)}searchLabelByValue(Bt,rn){let Hn=null;for(let zn=0;zn<rn.length;zn++){let ri=rn[zn],Ci=this.getOptionValue(ri);if(null==Bt&&null==Ci||O.gb.equals(Bt,Ci,this.dataKey)){Hn=this.getOptionLabel(ri);break}}return Hn}get allChecked(){let Bt=this.optionsToRender;if(!Bt||0===Bt.length)return!1;{let rn=0,Hn=0,zn=0,ri=this.group?0:this.optionsToRender.length;for(let Ci of Bt)if(this.group)for(let Qi of this.getOptionGroupChildren(Ci)){let oo=this.isOptionDisabled(Qi),$o=this.isSelected(Qi);if(oo)$o?rn++:Hn++;else{if(!$o)return!1;zn++}ri++}else{let Qi=this.isOptionDisabled(Ci),oo=this.isSelected(Ci);if(Qi)oo?rn++:Hn++;else{if(!oo)return!1;zn++}}return ri===rn||ri===zn||zn&&ri===zn+Hn+rn}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(p.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(p.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(Bt){this._filterValue=Bt.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:Bt,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let Bt=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let rn=[];for(let Hn of this.options){let zn=this.filterService.filter(this.getOptionGroupChildren(Hn),Bt,this.filterValue,this.filterMatchMode,this.filterLocale);zn&&zn.length&&rn.push(Object.assign(Object.assign({},Hn),{[this.optionGroupChildren]:zn}))}this._filteredOptions=rn}else this._filteredOptions=this.filterService.filter(this.options,Bt,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return Gt.\u0275fac=function(Bt){return new(Bt||Gt)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(p.iZ),d.Y36(p.b4),d.Y36(p.F0))},Gt.\u0275cmp=d.Xpm({type:Gt,selectors:[["p-multiSelect"]],contentQueries:function(Bt,rn,Hn){if(1&Bt&&(d.Suo(Hn,p.$_,5),d.Suo(Hn,p.h4,5),d.Suo(Hn,p.jx,4)),2&Bt){let zn;d.iGM(zn=d.CRH())&&(rn.footerFacet=zn.first),d.iGM(zn=d.CRH())&&(rn.headerFacet=zn.first),d.iGM(zn=d.CRH())&&(rn.templates=zn)}},viewQuery:function(Bt,rn){if(1&Bt&&(d.Gf(U,5),d.Gf(oe,5),d.Gf(K,5),d.Gf(H,5),d.Gf(D,5),d.Gf(P,5)),2&Bt){let Hn;d.iGM(Hn=d.CRH())&&(rn.containerViewChild=Hn.first),d.iGM(Hn=d.CRH())&&(rn.overlayViewChild=Hn.first),d.iGM(Hn=d.CRH())&&(rn.filterInputChild=Hn.first),d.iGM(Hn=d.CRH())&&(rn.accessibleViewChild=Hn.first),d.iGM(Hn=d.CRH())&&(rn.itemsViewChild=Hn.first),d.iGM(Hn=d.CRH())&&(rn.scroller=Hn.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(Bt,rn){2&Bt&&d.ekj("p-inputwrapper-filled",rn.filled)("p-inputwrapper-focus",rn.focus||rn.overlayVisible)("p-multiselect-clearable",rn.showClear&&!rn.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[d._Bn([Lt])],ngContentSelectors:$e,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(Bt,rn){if(1&Bt){const Hn=d.EpF();d.F$t(xt),d.TgZ(0,"div",0,1),d.NdJ("click",function(ri){d.CHM(Hn);const Ci=d.MAs(4);return d.KtG(rn.onMouseclick(ri,Ci))}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(ri){return rn.onInputFocus(ri)})("blur",function(ri){return rn.onInputBlur(ri)})("keydown",function(ri){return rn.onKeydown(ri)}),d.qZA()(),d.TgZ(5,"div",5)(6,"div",6),d.YNc(7,Te,3,2,"ng-container",7),d.YNc(8,Me,1,0,"ng-container",8),d.qZA(),d.YNc(9,de,1,0,"i",9),d.qZA(),d.TgZ(10,"div",10),d._UZ(11,"span",11),d.qZA(),d.TgZ(12,"p-overlay",12,13),d.NdJ("visibleChange",function(ri){return rn.overlayVisible=ri})("onAnimationStart",function(ri){return rn.onOverlayAnimationStart(ri)})("onHide",function(){return rn.hide()}),d.YNc(14,qt,8,11,"ng-template",14),d.qZA()()}2&Bt&&(d.Tol(rn.styleClass),d.Q6J("ngClass",d.l5B(30,Ct,rn.overlayVisible,"chip"===rn.display,rn.focus,rn.disabled))("ngStyle",rn.style),d.xp6(3),d.Q6J("disabled",rn.disabled),d.uIk("label",rn.label)("id",rn.inputId)("name",rn.name)("tabindex",rn.tabindex)("aria-expanded",rn.overlayVisible)("aria-labelledby",rn.ariaLabelledBy),d.xp6(2),d.Q6J("pTooltip",rn.tooltip)("tooltipPosition",rn.tooltipPosition)("positionStyle",rn.tooltipPositionStyle)("tooltipStyleClass",rn.tooltipStyleClass),d.xp6(1),d.Q6J("ngClass",d.WLB(35,me,rn.valuesAsString===(rn.defaultLabel||rn.placeholder),!(null!=rn.valuesAsString&&0!==rn.valuesAsString.length||null!=rn.placeholder&&0!==rn.placeholder.length))),d.xp6(1),d.Q6J("ngIf",!rn.selectedItemsTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.selectedItemsTemplate)("ngTemplateOutletContext",d.VKq(38,V,rn.value)),d.xp6(1),d.Q6J("ngIf",null!=rn.value&&rn.filled&&!rn.disabled&&rn.showClear),d.xp6(1),d.Q6J("ngClass",d.DdM(40,lt)),d.xp6(1),d.Q6J("ngClass",rn.dropdownIcon),d.xp6(1),d.Q6J("visible",rn.overlayVisible)("options",rn.overlayOptions)("target","@parent")("appendTo",rn.appendTo)("autoZIndex",rn.autoZIndex)("baseZIndex",rn.baseZIndex)("showTransitionOptions",rn.showTransitionOptions)("hideTransitionOptions",rn.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,R.aV,p.jx,F.u,b.H,s.T,je],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),Gt})(),fn=(()=>{class Gt{}return Gt.\u0275fac=function(Bt){return new(Bt||Gt)},Gt.\u0275mod=d.oAB({type:Gt}),Gt.\u0275inj=d.cJS({imports:[e.ez,R.U8,p.m8,F.z,b.T,s.v,R.U8,p.m8,s.v]}),Gt})()},8050:(dn,pt,C)=>{"use strict";C.d(pt,{U8:()=>P,aV:()=>D});var e=C(1777),d=C(9808),u=C(5e3),p=C(2382),x=C(9783),R=C(5730),b=C(5921);const s=["overlay"],F=["content"];function O(Y,re){1&Y&&u.GkF(0)}const Q=function(Y,re,j){return{showTransitionParams:Y,hideTransitionParams:re,transform:j}},N=function(Y){return{value:"visible",params:Y}},T=function(Y){return{mode:Y}},y=function(Y){return{$implicit:Y}};function w(Y,re){if(1&Y){const j=u.EpF();u.TgZ(0,"div",1,3),u.NdJ("click",function(ie){u.CHM(j);const Te=u.oxw(2);return u.KtG(Te.onOverlayContentClick(ie))})("@overlayContentAnimation.start",function(ie){u.CHM(j);const Te=u.oxw(2);return u.KtG(Te.onOverlayContentAnimationStart(ie))})("@overlayContentAnimation.done",function(ie){u.CHM(j);const Te=u.oxw(2);return u.KtG(Te.onOverlayContentAnimationDone(ie))}),u.Hsn(2),u.YNc(3,O,1,0,"ng-container",4),u.qZA()}if(2&Y){const j=u.oxw(2);u.Tol(j.contentStyleClass),u.Q6J("ngStyle",j.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",u.VKq(11,N,u.kEZ(7,Q,j.showTransitionOptions,j.hideTransitionOptions,j.transformOptions[j.modal?j.overlayResponsiveDirection:"default"]))),u.xp6(3),u.Q6J("ngTemplateOutlet",j.contentTemplate)("ngTemplateOutletContext",u.VKq(15,y,u.VKq(13,T,j.overlayMode)))}}const k=function(Y,re,j,G,ie,Te,Me,de,te,ce,J,ve,be,Be){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":Y,"p-overlay-center":re,"p-overlay-top":j,"p-overlay-top-start":G,"p-overlay-top-end":ie,"p-overlay-bottom":Te,"p-overlay-bottom-start":Me,"p-overlay-bottom-end":de,"p-overlay-left":te,"p-overlay-left-start":ce,"p-overlay-left-end":J,"p-overlay-right":ve,"p-overlay-right-start":be,"p-overlay-right-end":Be}};function V(Y,re){if(1&Y){const j=u.EpF();u.TgZ(0,"div",1,2),u.NdJ("click",function(ie){u.CHM(j);const Te=u.oxw();return u.KtG(Te.onOverlayClick(ie))}),u.YNc(2,w,4,17,"div",0),u.qZA()}if(2&Y){const j=u.oxw();u.Tol(j.styleClass),u.Q6J("ngStyle",j.style)("ngClass",u.rFY(5,k,[j.modal,j.modal&&"center"===j.overlayResponsiveDirection,j.modal&&"top"===j.overlayResponsiveDirection,j.modal&&"top-start"===j.overlayResponsiveDirection,j.modal&&"top-end"===j.overlayResponsiveDirection,j.modal&&"bottom"===j.overlayResponsiveDirection,j.modal&&"bottom-start"===j.overlayResponsiveDirection,j.modal&&"bottom-end"===j.overlayResponsiveDirection,j.modal&&"left"===j.overlayResponsiveDirection,j.modal&&"left-start"===j.overlayResponsiveDirection,j.modal&&"left-end"===j.overlayResponsiveDirection,j.modal&&"right"===j.overlayResponsiveDirection,j.modal&&"right-start"===j.overlayResponsiveDirection,j.modal&&"right-end"===j.overlayResponsiveDirection])),u.xp6(2),u.Q6J("ngIf",j.visible)}}const U=["*"],oe={provide:p.JU,useExisting:(0,u.Gpc)(()=>D),multi:!0},K=(0,e.oQ)([(0,e.oB)({transform:"{{transform}}",opacity:0}),(0,e.jt)("{{showTransitionParams}}")]),H=(0,e.oQ)([(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({transform:"{{transform}}",opacity:0}))]);let D=(()=>{class Y{constructor(j,G,ie,Te,Me,de){this.document=j,this.el=G,this.renderer=ie,this.config=Te,this.overlayService=Me,this.cd=de,this.visibleChange=new u.vpe,this.onBeforeShow=new u.vpe,this.onShow=new u.vpe,this.onBeforeHide=new u.vpe,this.onHide=new u.vpe,this.onAnimationStart=new u.vpe,this.onAnimationDone=new u.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(j){this._visible=j,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){var j;return this._mode||(null===(j=this.overlayOptions)||void 0===j?void 0:j.mode)}set mode(j){this._mode=j}get style(){var j,G;return b.gb.merge(this._style,this.modal?null===(j=this.overlayResponsiveOptions)||void 0===j?void 0:j.style:null===(G=this.overlayOptions)||void 0===G?void 0:G.style)}set style(j){this._style=j}get styleClass(){var j,G;return b.gb.merge(this._styleClass,this.modal?null===(j=this.overlayResponsiveOptions)||void 0===j?void 0:j.styleClass:null===(G=this.overlayOptions)||void 0===G?void 0:G.styleClass)}set styleClass(j){this._styleClass=j}get contentStyle(){var j,G;return b.gb.merge(this._contentStyle,this.modal?null===(j=this.overlayResponsiveOptions)||void 0===j?void 0:j.contentStyle:null===(G=this.overlayOptions)||void 0===G?void 0:G.contentStyle)}set contentStyle(j){this._contentStyle=j}get contentStyleClass(){var j,G;return b.gb.merge(this._contentStyleClass,this.modal?null===(j=this.overlayResponsiveOptions)||void 0===j?void 0:j.contentStyleClass:null===(G=this.overlayOptions)||void 0===G?void 0:G.contentStyleClass)}set contentStyleClass(j){this._contentStyleClass=j}get target(){var j;const G=this._target||(null===(j=this.overlayOptions)||void 0===j?void 0:j.target);return void 0===G?"@prev":G}set target(j){this._target=j}get appendTo(){var j;return this._appendTo||(null===(j=this.overlayOptions)||void 0===j?void 0:j.appendTo)}set appendTo(j){this._appendTo=j}get autoZIndex(){var j;const G=this._autoZIndex||(null===(j=this.overlayOptions)||void 0===j?void 0:j.autoZIndex);return void 0===G||G}set autoZIndex(j){this._autoZIndex=j}get baseZIndex(){var j;const G=this._baseZIndex||(null===(j=this.overlayOptions)||void 0===j?void 0:j.baseZIndex);return void 0===G?0:G}set baseZIndex(j){this._baseZIndex=j}get showTransitionOptions(){var j;const G=this._showTransitionOptions||(null===(j=this.overlayOptions)||void 0===j?void 0:j.showTransitionOptions);return void 0===G?".12s cubic-bezier(0, 0, 0.2, 1)":G}set showTransitionOptions(j){this._showTransitionOptions=j}get hideTransitionOptions(){var j;const G=this._hideTransitionOptions||(null===(j=this.overlayOptions)||void 0===j?void 0:j.hideTransitionOptions);return void 0===G?".1s linear":G}set hideTransitionOptions(j){this._hideTransitionOptions=j}get listener(){var j;return this._listener||(null===(j=this.overlayOptions)||void 0===j?void 0:j.listener)}set listener(j){this._listener=j}get responsive(){var j;return this._responsive||(null===(j=this.overlayOptions)||void 0===j?void 0:j.responsive)}set responsive(j){this._responsive=j}get options(){return this._options}set options(j){this._options=j}get modal(){var j,G;return"modal"===this.mode||this.overlayResponsiveOptions&&(null===(j=this.window)||void 0===j?void 0:j.matchMedia((null===(G=this.overlayResponsiveOptions.media)||void 0===G?void 0:G.replace("@media",""))||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches)}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){var j;return Object.assign(Object.assign({},null===(j=this.config)||void 0===j?void 0:j.overlayOptions),this.options)}get overlayResponsiveOptions(){var j;return Object.assign(Object.assign({},null===(j=this.overlayOptions)||void 0===j?void 0:j.responsive),this.responsive)}get overlayResponsiveDirection(){var j;return(null===(j=this.overlayResponsiveOptions)||void 0===j?void 0:j.direction)||"center"}get overlayEl(){var j;return null===(j=this.overlayViewChild)||void 0===j?void 0:j.nativeElement}get contentEl(){var j;return null===(j=this.contentViewChild)||void 0===j?void 0:j.nativeElement}get targetEl(){var j;return R.p.getTargetElement(this.target,null===(j=this.el)||void 0===j?void 0:j.nativeElement)}ngAfterContentInit(){var j;null===(j=this.templates)||void 0===j||j.forEach(G=>{G.getType(),this.contentTemplate=G.template})}show(j,G=!1){var ie;this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:j||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),G&&R.p.focus(this.targetEl),this.modal&&R.p.addClass(null===(ie=this.document)||void 0===ie?void 0:ie.body,"p-overflow-hidden")}hide(j,G=!1){var ie;this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:j||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),G&&R.p.focus(this.targetEl),this.modal&&R.p.removeClass(null===(ie=this.document)||void 0===ie?void 0:ie.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&R.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(j){this._visible=j,this.visibleChange.emit(j)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(j){this.overlayService.add({originalEvent:j,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(j){var G;switch(j.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&b.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+(null===(G=this.config)||void 0===G?void 0:G.zIndex[this.overlayMode])),R.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&R.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",j)}onOverlayContentAnimationDone(j){const G=this.overlayEl||j.element.parentElement;switch(j.toState){case"visible":this.show(G,!0),this.bindListeners();break;case"void":this.hide(G,!0),this.unbindListeners(),R.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),b.P9.clear(G),this.modalVisible=!1}this.handleEvents("onAnimationDone",j)}handleEvents(j,G){var ie,Te,Me;this[j].emit(G),this.options&&this.options[j]&&this.options[j](G),(null===(ie=this.config)||void 0===ie?void 0:ie.overlayOptions)&&(null===(Te=this.config)||void 0===Te?void 0:Te.overlayOptions[j])&&(null===(Me=this.config)||void 0===Me||Me.overlayOptions[j](G))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new R.V(this.targetEl,j=>{(!this.listener||this.listener(j,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(j,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",j=>{const ie=!(this.targetEl&&(this.targetEl.isSameNode(j.target)||!this.isOverlayClicked&&this.targetEl.contains(j.target))||this.isOverlayContentClicked);(this.listener?this.listener(j,{type:"outside",mode:this.overlayMode,valid:3!==j.which&&ie}):ie)&&this.hide(j),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",j=>{(this.listener?this.listener(j,{type:"resize",mode:this.overlayMode,valid:!R.p.isTouchDevice()}):!R.p.isTouchDevice())&&this.hide(j,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(R.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),b.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return Y.\u0275fac=function(j){return new(j||Y)(u.Y36(d.K0),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(x.b4),u.Y36(x.F0),u.Y36(u.sBO))},Y.\u0275cmp=u.Xpm({type:Y,selectors:[["p-overlay"]],contentQueries:function(j,G,ie){if(1&j&&u.Suo(ie,x.jx,4),2&j){let Te;u.iGM(Te=u.CRH())&&(G.templates=Te)}},viewQuery:function(j,G){if(1&j&&(u.Gf(s,5),u.Gf(F,5)),2&j){let ie;u.iGM(ie=u.CRH())&&(G.overlayViewChild=ie.first),u.iGM(ie=u.CRH())&&(G.contentViewChild=ie.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[u._Bn([oe])],ngContentSelectors:U,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(j,G){1&j&&(u.F$t(),u.YNc(0,V,3,20,"div",0)),2&j&&u.Q6J("ngIf",G.modalVisible)},dependencies:[d.mk,d.O5,d.tP,d.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayContentAnimation",[(0,e.eR)(":enter",[(0,e._7)(K)]),(0,e.eR)(":leave",[(0,e._7)(H)])])]},changeDetection:0}),Y})(),P=(()=>{class Y{}return Y.\u0275fac=function(j){return new(j||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[d.ez,x.m8,x.m8]}),Y})()},3640:(dn,pt,C)=>{"use strict";C.d(pt,{T:()=>y,y:()=>w});var e=C(5e3),d=C(9808),u=C(5730),p=C(9783),x=C(5787),R=C(1777),b=C(5921);function s(k,V){1&k&&e.GkF(0)}function F(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(K){e.CHM(U);const H=e.oxw(2);return e.KtG(H.onCloseClick(K))})("keydown.enter",function(){e.CHM(U);const K=e.oxw(2);return e.KtG(K.hide())}),e._UZ(1,"span",6),e.qZA()}if(2&k){const U=e.oxw(2);e.uIk("aria-label",U.ariaCloseLabel)}}const O=function(k,V){return{showTransitionParams:k,hideTransitionParams:V}},Q=function(k,V){return{value:k,params:V}};function N(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(K){e.CHM(U);const H=e.oxw();return e.KtG(H.onOverlayClick(K))})("@animation.start",function(K){e.CHM(U);const H=e.oxw();return e.KtG(H.onAnimationStart(K))})("@animation.done",function(K){e.CHM(U);const H=e.oxw();return e.KtG(H.onAnimationEnd(K))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(U);const K=e.oxw();return e.KtG(K.onContentClick())})("mousedown",function(){e.CHM(U);const K=e.oxw();return e.KtG(K.onContentClick())}),e.Hsn(2),e.YNc(3,s,1,0,"ng-container",3),e.qZA(),e.YNc(4,F,2,1,"button",4),e.qZA()}if(2&k){const U=e.oxw();e.Tol(U.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",U.style)("@animation",e.WLB(10,Q,U.overlayVisible?"open":"close",e.WLB(7,O,U.showTransitionOptions,U.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",U.contentTemplate),e.xp6(1),e.Q6J("ngIf",U.showCloseIcon)}}const T=["*"];let y=(()=>{class k{constructor(U,oe,K,H,D,P){this.el=U,this.renderer=oe,this.cd=K,this.zone=H,this.config=D,this.overlayService=P,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(U=>{U.getType(),this.contentTemplate=U.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let U=u.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",U,K=>{!this.container.contains(K.target)&&this.target!==K.target&&!this.target.contains(K.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(U,oe){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(U,oe)&&(this.destroyCallback=()=>{this.show(null,oe||U.currentTarget||U.target)}),this.hide()):this.show(U,oe))}show(U,oe){this.isOverlayAnimationInProgress||(this.target=oe||U.currentTarget||U.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(U){this.overlayService.add({originalEvent:U,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(U,oe){return null!=this.target&&this.target!==(oe||U.currentTarget||U.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):u.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&b.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),u.p.absolutePosition(this.container,this.target);const U=u.p.getOffset(this.container),oe=u.p.getOffset(this.target);let K=0;U.left<oe.left&&(K=oe.left-U.left),this.container.style.setProperty("--overlayArrowLeft",`${K}px`),U.top<oe.top&&(u.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&(this.container.style.marginTop="30px"))}onAnimationStart(U){"open"===U.toState&&(this.container=U.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=oe=>{this.container&&this.container.contains(oe.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(U){switch(U.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&b.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let U=u.p.findSingle(this.container,"[autofocus]");U&&this.zone.runOutsideAngular(()=>{setTimeout(()=>U.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(U){this.hide(),U.preventDefault()}onWindowResize(U){this.overlayVisible&&!u.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new u.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&b.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return k.\u0275fac=function(U){return new(U||k)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(p.b4),e.Y36(p.F0))},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-overlayPanel"]],contentQueries:function(U,oe,K){if(1&U&&e.Suo(K,p.jx,4),2&U){let H;e.iGM(H=e.CRH())&&(oe.templates=H)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:T,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(U,oe){1&U&&(e.F$t(),e.YNc(0,N,5,13,"div",0)),2&U&&e.Q6J("ngIf",oe.render)},dependencies:[d.mk,d.O5,d.tP,d.PC,x.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,R.X$)("animation",[(0,R.SB)("void",(0,R.oB)({transform:"scaleY(0.8)",opacity:0})),(0,R.SB)("close",(0,R.oB)({opacity:0})),(0,R.SB)("open",(0,R.oB)({transform:"translateY(0)",opacity:1})),(0,R.eR)("void => open",(0,R.jt)("{{showTransitionParams}}")),(0,R.eR)("open => close",(0,R.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),k})(),w=(()=>{class k{}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[d.ez,x.T,p.m8,p.m8]}),k})()},4132:(dn,pt,C)=>{"use strict";C.d(pt,{D:()=>ie,U:()=>Te});var e=C(5e3),d=C(9808),u=C(2382),p=C(4036),x=C(5787),R=C(9783),b=C(7010);function s(Me,de){1&Me&&e.GkF(0)}const F=function(Me){return{$implicit:Me}};function O(Me,de){if(1&Me&&(e.TgZ(0,"div",15),e.YNc(1,s,1,0,"ng-container",16),e.qZA()),2&Me){const te=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",te.templateLeft)("ngTemplateOutletContext",e.VKq(2,F,te.paginatorState))}}function Q(Me,de){if(1&Me&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Me){const te=e.oxw(2);e.xp6(1),e.Oqu(te.currentPageReport)}}const N=function(Me){return{"p-disabled":Me}};function T(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(J){e.CHM(te);const ve=e.oxw(2);return e.KtG(ve.changePageToFirst(J))}),e._UZ(1,"span",19),e.qZA()}if(2&Me){const te=e.oxw(2);e.Q6J("disabled",te.isFirstPage()||te.empty())("ngClass",e.VKq(2,N,te.isFirstPage()||te.empty()))}}const y=function(Me){return{"p-highlight":Me}};function w(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(J){const be=e.CHM(te).$implicit,Be=e.oxw(3);return e.KtG(Be.onPageLinkClick(J,be-1))}),e._uU(1),e.qZA()}if(2&Me){const te=de.$implicit,ce=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,te-1==ce.getPage())),e.xp6(1),e.hij(" ",te," ")}}function k(Me,de){if(1&Me&&(e.TgZ(0,"span",20),e.YNc(1,w,2,4,"button",21),e.qZA()),2&Me){const te=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",te.pageLinks)}}function V(Me,de){if(1&Me&&e._uU(0),2&Me){const te=e.oxw(3);e.Oqu(te.currentPageReport)}}function U(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(J){e.CHM(te);const ve=e.oxw(2);return e.KtG(ve.onPageDropdownChange(J))}),e.YNc(1,V,1,1,"ng-template",24),e.qZA()}if(2&Me){const te=e.oxw(2);e.Q6J("options",te.pageItems)("ngModel",te.getPage())("disabled",te.empty())("appendTo",te.dropdownAppendTo)("scrollHeight",te.dropdownScrollHeight)}}function oe(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(J){e.CHM(te);const ve=e.oxw(2);return e.KtG(ve.changePageToLast(J))}),e._UZ(1,"span",26),e.qZA()}if(2&Me){const te=e.oxw(2);e.Q6J("disabled",te.isLastPage()||te.empty())("ngClass",e.VKq(2,N,te.isLastPage()||te.empty()))}}function K(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(J){e.CHM(te);const ve=e.oxw(2);return e.KtG(ve.changePage(J-1))}),e.qZA()}if(2&Me){const te=e.oxw(2);e.Q6J("ngModel",te.currentPage())("disabled",te.empty())}}function H(Me,de){1&Me&&e.GkF(0)}function D(Me,de){if(1&Me&&e.YNc(0,H,1,0,"ng-container",16),2&Me){const te=de.$implicit,ce=e.oxw(4);e.Q6J("ngTemplateOutlet",ce.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,F,te))}}function P(Me,de){1&Me&&(e.ynx(0),e.YNc(1,D,1,4,"ng-template",30),e.BQk())}function Y(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(J){e.CHM(te);const ve=e.oxw(2);return e.KtG(ve.rows=J)})("onChange",function(J){e.CHM(te);const ve=e.oxw(2);return e.KtG(ve.onRppChange(J))}),e.YNc(1,P,2,0,"ng-container",29),e.qZA()}if(2&Me){const te=e.oxw(2);e.Q6J("options",te.rowsPerPageItems)("ngModel",te.rows)("disabled",te.empty())("appendTo",te.dropdownAppendTo)("scrollHeight",te.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",te.dropdownItemTemplate)}}function re(Me,de){1&Me&&e.GkF(0)}function j(Me,de){if(1&Me&&(e.TgZ(0,"div",31),e.YNc(1,re,1,0,"ng-container",16),e.qZA()),2&Me){const te=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",te.templateRight)("ngTemplateOutletContext",e.VKq(2,F,te.paginatorState))}}function G(Me,de){if(1&Me){const te=e.EpF();e.TgZ(0,"div",1),e.YNc(1,O,2,4,"div",2),e.YNc(2,Q,2,1,"span",3),e.YNc(3,T,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(J){e.CHM(te);const ve=e.oxw();return e.KtG(ve.changePageToPrev(J))}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,k,2,1,"span",7),e.YNc(7,U,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(J){e.CHM(te);const ve=e.oxw();return e.KtG(ve.changePageToNext(J))}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,oe,2,4,"button",11),e.YNc(11,K,1,2,"p-inputNumber",12),e.YNc(12,Y,2,6,"p-dropdown",13),e.YNc(13,j,2,4,"div",14),e.qZA()}if(2&Me){const te=e.oxw();e.Tol(te.styleClass),e.Q6J("ngStyle",te.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",te.templateLeft),e.xp6(1),e.Q6J("ngIf",te.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",te.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",te.isFirstPage()||te.empty())("ngClass",e.VKq(17,N,te.isFirstPage()||te.empty())),e.xp6(2),e.Q6J("ngIf",te.showPageLinks),e.xp6(1),e.Q6J("ngIf",te.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",te.isLastPage()||te.empty())("ngClass",e.VKq(19,N,te.isLastPage()||te.empty())),e.xp6(2),e.Q6J("ngIf",te.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",te.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",te.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",te.templateRight)}}let ie=(()=>{class Me{constructor(te){this.cd=te,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(te){te.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),te.first&&(this._first=te.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),te.rows&&(this.updatePageLinks(),this.updatePaginatorState()),te.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(te){this._first=te}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let te of this.rowsPerPageOptions)"object"==typeof te&&te.showAll?this.rowsPerPageItems.unshift({label:te.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(te),value:te})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let te=this.getPageCount(),ce=Math.min(this.pageLinkSize,te),J=Math.max(0,Math.ceil(this.getPage()-ce/2)),ve=Math.min(te-1,J+ce-1);return J=Math.max(0,J-(this.pageLinkSize-(ve-J+1))),[J,ve]}updatePageLinks(){this.pageLinks=[];let te=this.calculatePageLinkBoundaries(),J=te[1];for(let ve=te[0];ve<=J;ve++)this.pageLinks.push(ve+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let ve=0;ve<this.getPageCount();ve++)this.pageItems.push({label:String(ve+1),value:ve})}}changePage(te){var ce=this.getPageCount();if(te>=0&&te<ce){this._first=this.rows*te;var J={page:te,first:this.first,rows:this.rows,pageCount:ce};this.updatePageLinks(),this.onPageChange.emit(J),this.updatePaginatorState()}}updateFirst(){const te=this.getPage();te>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(te-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(te){this.isFirstPage()||this.changePage(0),te.preventDefault()}changePageToPrev(te){this.changePage(this.getPage()-1),te.preventDefault()}changePageToNext(te){this.changePage(this.getPage()+1),te.preventDefault()}changePageToLast(te){this.isLastPage()||this.changePage(this.getPageCount()-1),te.preventDefault()}onPageLinkClick(te,ce){this.changePage(ce),te.preventDefault()}onRppChange(te){this.changePage(this.getPage())}onPageDropdownChange(te){this.changePage(te.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return Me.\u0275fac=function(te){return new(te||Me)(e.Y36(e.sBO))},Me.\u0275cmp=e.Xpm({type:Me,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(te,ce){1&te&&e.YNc(0,G,14,21,"div",0),2&te&&e.Q6J("ngIf",!!ce.alwaysShow||ce.pageLinks&&ce.pageLinks.length>1)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,p.Lt,R.jx,b.Rn,u.JJ,u.On,x.H],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),Me})(),Te=(()=>{class Me{}return Me.\u0275fac=function(te){return new(te||Me)},Me.\u0275mod=e.oAB({type:Me}),Me.\u0275inj=e.cJS({imports:[d.ez,p.kW,b.L$,u.u5,R.m8,x.T,p.kW,b.L$,u.u5,R.m8]}),Me})()},5132:(dn,pt,C)=>{"use strict";C.d(pt,{G:()=>Cn,f:()=>Xt});var e=C(5e3),d=C(9808),u=C(845),p=C(9783),x=C(5730),R=C(5787),b=C(5573),s=C(5921);const F=["sourcelist"],O=["targetlist"],Q=["sourceFilter"],N=["targetFilter"];function T(jt,ht){if(1&jt){const ut=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(6);return e.KtG(De.moveUp(We,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(6);return e.KtG(De.moveTop(We,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(6);return e.KtG(De.moveDown(We,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(6);return e.KtG(De.moveBottom(We,De.source,De.selectedItemsSource,De.onSourceReorder,De.SOURCE_LIST))}),e.qZA()()}if(2&jt){const ut=e.oxw();e.xp6(1),e.Q6J("disabled",ut.sourceMoveDisabled()),e.uIk("aria-label",ut.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ut.sourceMoveDisabled()),e.uIk("aria-label",ut.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ut.sourceMoveDisabled()),e.uIk("aria-label",ut.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ut.sourceMoveDisabled()),e.uIk("aria-label",ut.bottomButtonAriaLabel)}}function y(jt,ht){if(1&jt&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Oqu(ut.sourceHeader)}}function w(jt,ht){1&jt&&e.GkF(0)}function k(jt,ht){if(1&jt&&(e.TgZ(0,"div",23),e.YNc(1,y,2,1,"div",24),e.YNc(2,w,1,0,"ng-container",25),e.qZA()),2&jt){const ut=e.oxw();e.xp6(1),e.Q6J("ngIf",!ut.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ut.sourceHeaderTemplate)}}function V(jt,ht){1&jt&&e.GkF(0)}const U=function(jt){return{options:jt}};function oe(jt,ht){if(1&jt&&(e.ynx(0),e.YNc(1,V,1,0,"ng-container",30),e.BQk()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.sourceFilterTemplate)("ngTemplateOutletContext",e.VKq(2,U,ut.sourceFilterOptions))}}function K(jt,ht){if(1&jt){const ut=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("keyup",function(De){e.CHM(ut);const We=e.oxw(2);return e.KtG(We.onFilter(De,We.SOURCE_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("disabled",ut.disabled),e.uIk("placeholder",ut.sourceFilterPlaceholder)("aria-label",ut.ariaSourceFilterLabel)}}function H(jt,ht){if(1&jt&&(e.TgZ(0,"div",27),e.YNc(1,oe,2,4,"ng-container",28),e.YNc(2,K,4,3,"ng-template",null,29,e.W1O),e.qZA()),2&jt){const ut=e.MAs(3),xe=e.oxw();e.xp6(1),e.Q6J("ngIf",xe.sourceFilterTemplate)("ngIfElse",ut)}}function D(jt,ht){1&jt&&e.GkF(0)}const P=function(jt,ht){return{"p-picklist-item":!0,"p-highlight":jt,"p-disabled":ht}},Y=function(jt,ht){return{$implicit:jt,index:ht}};function re(jt,ht){if(1&jt){const ut=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(De){e.CHM(ut);const We=e.oxw().$implicit,gt=e.oxw();return e.KtG(gt.onItemClick(De,We,gt.selectedItemsSource,gt.onSourceSelect))})("dblclick",function(){e.CHM(ut);const De=e.oxw(2);return e.KtG(De.onSourceItemDblClick())})("touchend",function(){e.CHM(ut);const De=e.oxw(2);return e.KtG(De.onItemTouchEnd())})("keydown",function(De){e.CHM(ut);const We=e.oxw().$implicit,gt=e.oxw();return e.KtG(gt.onItemKeydown(De,We,gt.selectedItemsSource,gt.onSourceSelect))}),e.YNc(1,D,1,0,"ng-container",30),e.qZA()}if(2&jt){const ut=e.oxw(),xe=ut.$implicit,De=ut.index,We=e.oxw();e.Q6J("ngClass",e.WLB(6,P,We.isSelected(xe,We.selectedItemsSource),We.disabled))("cdkDragData",xe)("cdkDragDisabled",!We.dragdrop),e.uIk("aria-selected",We.isSelected(xe,We.selectedItemsSource)),e.xp6(1),e.Q6J("ngTemplateOutlet",We.itemTemplate)("ngTemplateOutletContext",e.WLB(9,Y,xe,De))}}function j(jt,ht){if(1&jt&&e.YNc(0,re,2,12,"li",35),2&jt){const ut=ht.$implicit,xe=e.oxw();e.Q6J("ngIf",xe.isItemVisible(ut,xe.SOURCE_LIST))}}function G(jt,ht){1&jt&&e.GkF(0)}function ie(jt,ht){if(1&jt&&(e.TgZ(0,"li",38),e.YNc(1,G,1,0,"ng-container",25),e.qZA()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.emptyMessageSourceTemplate)}}function Te(jt,ht){1&jt&&e.GkF(0)}function Me(jt,ht){if(1&jt&&(e.TgZ(0,"li",38),e.YNc(1,Te,1,0,"ng-container",25),e.qZA()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.emptyFilterMessageSourceTemplate)}}function de(jt,ht){if(1&jt&&(e.ynx(0),e.YNc(1,ie,2,1,"li",37),e.YNc(2,Me,2,1,"li",37),e.BQk()),2&jt){const ut=e.oxw();e.xp6(1),e.Q6J("ngIf",!ut.filterValueSource||!ut.emptyFilterMessageSourceTemplate),e.xp6(1),e.Q6J("ngIf",ut.filterValueSource)}}function te(jt,ht){if(1&jt&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Oqu(ut.targetHeader)}}function ce(jt,ht){1&jt&&e.GkF(0)}function J(jt,ht){if(1&jt&&(e.TgZ(0,"div",23),e.YNc(1,te,2,1,"div",24),e.YNc(2,ce,1,0,"ng-container",25),e.qZA()),2&jt){const ut=e.oxw();e.xp6(1),e.Q6J("ngIf",!ut.targetHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ut.targetHeaderTemplate)}}function ve(jt,ht){1&jt&&e.GkF(0)}function be(jt,ht){if(1&jt&&(e.ynx(0),e.YNc(1,ve,1,0,"ng-container",30),e.BQk()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.targetFilterTemplate)("ngTemplateOutletContext",e.VKq(2,U,ut.targetFilterOptions))}}function Be(jt,ht){if(1&jt){const ut=e.EpF();e.TgZ(0,"div",31)(1,"input",32,40),e.NdJ("keyup",function(De){e.CHM(ut);const We=e.oxw(2);return e.KtG(We.onFilter(De,We.TARGET_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("disabled",ut.disabled),e.uIk("placeholder",ut.targetFilterPlaceholder)("aria-label",ut.ariaTargetFilterLabel)}}function we(jt,ht){if(1&jt&&(e.TgZ(0,"div",27),e.YNc(1,be,2,4,"ng-container",28),e.YNc(2,Be,4,3,"ng-template",null,39,e.W1O),e.qZA()),2&jt){const ut=e.MAs(3),xe=e.oxw();e.xp6(1),e.Q6J("ngIf",xe.targetFilterTemplate)("ngIfElse",ut)}}function ke(jt,ht){1&jt&&e.GkF(0)}function X(jt,ht){if(1&jt){const ut=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(De){e.CHM(ut);const We=e.oxw().$implicit,gt=e.oxw();return e.KtG(gt.onItemClick(De,We,gt.selectedItemsTarget,gt.onTargetSelect))})("dblclick",function(){e.CHM(ut);const De=e.oxw(2);return e.KtG(De.onTargetItemDblClick())})("touchend",function(){e.CHM(ut);const De=e.oxw(2);return e.KtG(De.onItemTouchEnd())})("keydown",function(De){e.CHM(ut);const We=e.oxw().$implicit,gt=e.oxw();return e.KtG(gt.onItemKeydown(De,We,gt.selectedItemsTarget,gt.onTargetSelect))}),e.YNc(1,ke,1,0,"ng-container",30),e.qZA()}if(2&jt){const ut=e.oxw(),xe=ut.$implicit,De=ut.index,We=e.oxw();e.Q6J("ngClass",e.WLB(6,P,We.isSelected(xe,We.selectedItemsTarget),We.disabled))("cdkDragData",xe)("cdkDragDisabled",!We.dragdrop),e.uIk("aria-selected",We.isSelected(xe,We.selectedItemsTarget)),e.xp6(1),e.Q6J("ngTemplateOutlet",We.itemTemplate)("ngTemplateOutletContext",e.WLB(9,Y,xe,De))}}function q(jt,ht){if(1&jt&&e.YNc(0,X,2,12,"li",35),2&jt){const ut=ht.$implicit,xe=e.oxw();e.Q6J("ngIf",xe.isItemVisible(ut,xe.TARGET_LIST))}}function pe(jt,ht){1&jt&&e.GkF(0)}function _e(jt,ht){if(1&jt&&(e.TgZ(0,"li",38),e.YNc(1,pe,1,0,"ng-container",25),e.qZA()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.emptyMessageTargetTemplate)}}function Xe(jt,ht){1&jt&&e.GkF(0)}function ct(jt,ht){if(1&jt&&(e.TgZ(0,"li",38),e.YNc(1,Xe,1,0,"ng-container",25),e.qZA()),2&jt){const ut=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.emptyFilterMessageTargetTemplate)}}function ot(jt,ht){if(1&jt&&(e.ynx(0),e.YNc(1,_e,2,1,"li",37),e.YNc(2,ct,2,1,"li",37),e.BQk()),2&jt){const ut=e.oxw();e.xp6(1),e.Q6J("ngIf",!ut.filterValueTarget||!ut.emptyFilterMessageTargetTemplate),e.xp6(1),e.Q6J("ngIf",ut.filterValueTarget)}}function Zt(jt,ht){if(1&jt){const ut=e.EpF();e.TgZ(0,"div",41)(1,"button",19),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(18);return e.KtG(De.moveUp(We,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(18);return e.KtG(De.moveTop(We,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(18);return e.KtG(De.moveDown(We,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(ut);const De=e.oxw(),We=e.MAs(18);return e.KtG(De.moveBottom(We,De.target,De.selectedItemsTarget,De.onTargetReorder,De.TARGET_LIST))}),e.qZA()()}if(2&jt){const ut=e.oxw();e.xp6(1),e.Q6J("disabled",ut.targetMoveDisabled()),e.uIk("aria-label",ut.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ut.targetMoveDisabled()),e.uIk("aria-label",ut.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ut.targetMoveDisabled()),e.uIk("aria-label",ut.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ut.targetMoveDisabled()),e.uIk("aria-label",ut.bottomButtonAriaLabel)}}const Dt=function(jt){return{"p-picklist p-component":!0,"p-picklist-striped":jt}};let Cn=(()=>{class jt{constructor(ut,xe,De){this.el=ut,this.cd=xe,this.filterService=De,this.trackBy=(We,gt)=>gt,this.showSourceFilter=!0,this.showTargetFilter=!0,this.metaKeySelection=!0,this.dragdrop=!1,this.showSourceControls=!0,this.showTargetControls=!0,this.disabled=!1,this.filterMatchMode="contains",this.breakpoint="960px",this.keepSelection=!1,this.onMoveToSource=new e.vpe,this.onMoveAllToSource=new e.vpe,this.onMoveAllToTarget=new e.vpe,this.onMoveToTarget=new e.vpe,this.onSourceReorder=new e.vpe,this.onTargetReorder=new e.vpe,this.onSourceSelect=new e.vpe,this.onTargetSelect=new e.vpe,this.onSourceFilter=new e.vpe,this.onTargetFilter=new e.vpe,this.selectedItemsSource=[],this.selectedItemsTarget=[],this.id=(0,s.Th)(),this.SOURCE_LIST=-1,this.TARGET_LIST=1}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.sourceFilterOptions={filter:ut=>this.filterSource(ut),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:ut=>this.filterTarget(ut),reset:()=>this.resetTargetFilter()})}ngAfterContentInit(){this.templates.forEach(ut=>{switch(ut.getType()){case"item":default:this.itemTemplate=ut.template;break;case"sourceHeader":this.sourceHeaderTemplate=ut.template;break;case"targetHeader":this.targetHeaderTemplate=ut.template;break;case"sourceFilter":this.sourceFilterTemplate=ut.template;break;case"targetFilter":this.targetFilterTemplate=ut.template;break;case"emptymessagesource":this.emptyMessageSourceTemplate=ut.template;break;case"emptyfiltermessagesource":this.emptyFilterMessageSourceTemplate=ut.template;break;case"emptymessagetarget":this.emptyMessageTargetTemplate=ut.template;break;case"emptyfiltermessagetarget":this.emptyFilterMessageTargetTemplate=ut.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let xe,ut=x.p.find(this.reorderedListElement,"li.p-highlight");xe=this.movedUp?ut[0]:ut[ut.length-1],x.p.scrollInView(this.reorderedListElement,xe),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}}onItemClick(ut,xe,De,We){if(this.disabled)return;let gt=this.findIndexInSelection(xe,De),Tt=-1!=gt;if(!this.itemTouched&&this.metaKeySelection){let Ot=ut.metaKey||ut.ctrlKey||ut.shiftKey;Tt&&Ot?De.splice(gt,1):(Ot||(De.length=0),De.push(xe))}else Tt?De.splice(gt,1):De.push(xe);We.emit({originalEvent:ut,items:De}),this.itemTouched=!1}onSourceItemDblClick(){this.disabled||this.moveRight()}onTargetItemDblClick(){this.disabled||this.moveLeft()}onFilter(ut,xe){let De=ut.target.value;xe===this.SOURCE_LIST?this.filterSource(De):xe===this.TARGET_LIST&&this.filterTarget(De)}filterSource(ut=""){this.filterValueSource=ut.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST)}filterTarget(ut=""){this.filterValueTarget=ut.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST)}filter(ut,xe){let De=this.filterBy.split(",");xe===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(ut,De,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):xe===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(ut,De,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(ut,xe){return xe==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,ut,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,ut,this.filterValueTarget)}isEmpty(ut){return ut==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||0===this.visibleOptionsSource.length:!this.source||0===this.source.length:this.filterValueTarget?!this.visibleOptionsTarget||0===this.visibleOptionsTarget.length:!this.target||0===this.target.length}isVisibleInList(ut,xe,De){if(!De||!De.trim().length)return!0;for(let We=0;We<ut.length;We++)if(xe==ut[We])return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(ut,xe){return ut.sort((De,We)=>s.gb.findIndexInList(De,xe)-s.gb.findIndexInList(We,xe))}moveUp(ut,xe,De,We,gt){if(De&&De.length){De=this.sortByIndexInList(De,xe);for(let Tt=0;Tt<De.length;Tt++){let Ot=s.gb.findIndexInList(De[Tt],xe);if(0==Ot)break;{let et=xe[Ot-1];xe[Ot-1]=xe[Ot],xe[Ot]=et}}this.dragdrop&&(this.filterValueSource&&gt===this.SOURCE_LIST||this.filterValueTarget&&gt===this.TARGET_LIST)&&this.filter(xe,gt),this.movedUp=!0,this.reorderedListElement=ut,We.emit({items:De})}}moveTop(ut,xe,De,We,gt){if(De&&De.length){De=this.sortByIndexInList(De,xe);for(let Tt=0;Tt<De.length;Tt++){let Ot=s.gb.findIndexInList(De[Tt],xe);if(0==Ot)break;{let Oe=xe.splice(Ot,1)[0];xe.unshift(Oe)}}this.dragdrop&&(this.filterValueSource&&gt===this.SOURCE_LIST||this.filterValueTarget&&gt===this.TARGET_LIST)&&this.filter(xe,gt),ut.scrollTop=0,We.emit({items:De})}}moveDown(ut,xe,De,We,gt){if(De&&De.length){for(let Tt=(De=this.sortByIndexInList(De,xe)).length-1;Tt>=0;Tt--){let Ot=s.gb.findIndexInList(De[Tt],xe);if(Ot==xe.length-1)break;{let et=xe[Ot+1];xe[Ot+1]=xe[Ot],xe[Ot]=et}}this.dragdrop&&(this.filterValueSource&&gt===this.SOURCE_LIST||this.filterValueTarget&&gt===this.TARGET_LIST)&&this.filter(xe,gt),this.movedDown=!0,this.reorderedListElement=ut,We.emit({items:De})}}moveBottom(ut,xe,De,We,gt){if(De&&De.length){for(let Tt=(De=this.sortByIndexInList(De,xe)).length-1;Tt>=0;Tt--){let Ot=s.gb.findIndexInList(De[Tt],xe);if(Ot==xe.length-1)break;{let Oe=xe.splice(Ot,1)[0];xe.push(Oe)}}this.dragdrop&&(this.filterValueSource&&gt===this.SOURCE_LIST||this.filterValueTarget&&gt===this.TARGET_LIST)&&this.filter(xe,gt),ut.scrollTop=ut.scrollHeight,We.emit({items:De})}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(let ut=0;ut<this.selectedItemsSource.length;ut++){let xe=this.selectedItemsSource[ut];-1==s.gb.findIndexInList(xe,this.target)&&(this.target.push(this.source.splice(s.gb.findIndexInList(xe,this.source),1)[0]),this.visibleOptionsSource&&this.visibleOptionsSource.splice(s.gb.findIndexInList(xe,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}moveAllRight(){if(this.source){let ut=[];for(let xe=0;xe<this.source.length;xe++)if(this.isItemVisible(this.source[xe],this.SOURCE_LIST)){let De=this.source.splice(xe,1)[0];this.target.push(De),ut.push(De),xe--}this.onMoveAllToTarget.emit({items:ut}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[]}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(let ut=0;ut<this.selectedItemsTarget.length;ut++){let xe=this.selectedItemsTarget[ut];-1==s.gb.findIndexInList(xe,this.source)&&(this.source.push(this.target.splice(s.gb.findIndexInList(xe,this.target),1)[0]),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(s.gb.findIndexInList(xe,this.visibleOptionsTarget),1))}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}}moveAllLeft(){if(this.target){let ut=[];for(let xe=0;xe<this.target.length;xe++)if(this.isItemVisible(this.target[xe],this.TARGET_LIST)){let De=this.target.splice(xe,1)[0];this.source.push(De),ut.push(De),xe--}this.onMoveAllToSource.emit({items:ut}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[]}}isSelected(ut,xe){return-1!=this.findIndexInSelection(ut,xe)}findIndexInSelection(ut,xe){return s.gb.findIndexInList(ut,xe)}onDrop(ut,xe){let De=ut.previousContainer!==ut.container,We=this.getDropIndexes(ut.previousIndex,ut.currentIndex,xe,De,ut.item.data);if(xe===this.SOURCE_LIST){if(De){(0,b.EA)(ut.previousContainer.data,ut.container.data,We.previousIndex,We.currentIndex);let gt=s.gb.findIndexInList(ut.item.data,this.selectedItemsTarget);-1!=gt&&(this.selectedItemsTarget.splice(gt,1),this.keepSelection&&this.selectedItemsTarget.push(ut.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(ut.previousIndex,1),this.onMoveToSource.emit({items:[ut.item.data]})}else(0,b.bA)(ut.container.data,We.previousIndex,We.currentIndex),this.onSourceReorder.emit({items:[ut.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(De){(0,b.EA)(ut.previousContainer.data,ut.container.data,We.previousIndex,We.currentIndex);let gt=s.gb.findIndexInList(ut.item.data,this.selectedItemsSource);-1!=gt&&(this.selectedItemsSource.splice(gt,1),this.keepSelection&&this.selectedItemsTarget.push(ut.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(ut.previousIndex,1),this.onMoveToTarget.emit({items:[ut.item.data]})}else(0,b.bA)(ut.container.data,We.previousIndex,We.currentIndex),this.onTargetReorder.emit({items:[ut.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}getDropIndexes(ut,xe,De,We,gt){let Tt,Ft;return De===this.SOURCE_LIST?(Tt=We?this.filterValueTarget?s.gb.findIndexInList(gt,this.target):ut:this.filterValueSource?s.gb.findIndexInList(gt,this.source):ut,Ft=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,xe,this.source):xe):(Tt=We?this.filterValueSource?s.gb.findIndexInList(gt,this.source):ut:this.filterValueTarget?s.gb.findIndexInList(gt,this.target):ut,Ft=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,xe,this.target):xe),{previousIndex:Tt,currentIndex:Ft}}findFilteredCurrentIndex(ut,xe,De){return ut.length===xe?s.gb.findIndexInList(ut[xe-1],De)+1:s.gb.findIndexInList(ut[xe],De)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}onItemKeydown(ut,xe,De,We){let gt=ut.currentTarget;switch(ut.which){case 40:var Tt=this.findNextItem(gt);Tt&&Tt.focus(),ut.preventDefault();break;case 38:var Ft=this.findPrevItem(gt);Ft&&Ft.focus(),ut.preventDefault();break;case 13:this.onItemClick(ut,xe,De,We),ut.preventDefault()}}findNextItem(ut){let xe=ut.nextElementSibling;return xe?!x.p.hasClass(xe,"p-picklist-item")||x.p.isHidden(xe)?this.findNextItem(xe):xe:null}findPrevItem(ut){let xe=ut.previousElementSibling;return xe?!x.p.hasClass(xe,"p-picklist-item")||x.p.isHidden(xe)?this.findPrevItem(xe):xe:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n            @media screen and (max-width: ${this.breakpoint}) {\n                .p-picklist[${this.id}] {\n                    flex-direction: column;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons {\n                    padding: var(--content-padding);\n                    flex-direction: row;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button {\n                    margin-right: var(--inline-spacing);\n                    margin-bottom: 0;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button:last-child {\n                    margin-right: 0;\n                }\n\n                .p-picklist[${this.id}] .pi-angle-right:before {\n                    content: "\\e930"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-right:before {\n                    content: "\\e92c"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-left:before {\n                    content: "\\e933"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-left:before {\n                    content: "\\e92f"\n                }\n            }\n            `)}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||s.gb.isEmpty(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||s.gb.isEmpty(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||s.gb.isEmpty(this.source)}moveAllLeftDisabled(){return this.disabled||s.gb.isEmpty(this.target)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return jt.\u0275fac=function(ut){return new(ut||jt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(p.iZ))},jt.\u0275cmp=e.Xpm({type:jt,selectors:[["p-pickList"]],contentQueries:function(ut,xe,De){if(1&ut&&e.Suo(De,p.jx,4),2&ut){let We;e.iGM(We=e.CRH())&&(xe.templates=We)}},viewQuery:function(ut,xe){if(1&ut&&(e.Gf(F,5),e.Gf(O,5),e.Gf(Q,5),e.Gf(N,5)),2&ut){let De;e.iGM(De=e.CRH())&&(xe.listViewSourceChild=De.first),e.iGM(De=e.CRH())&&(xe.listViewTargetChild=De.first),e.iGM(De=e.CRH())&&(xe.sourceFilterViewChild=De.first),e.iGM(De=e.CRH())&&(xe.targetFilterViewChild=De.first)}},hostAttrs:[1,"p-element"],inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:"responsive",filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:"showSourceFilter",showTargetFilter:"showTargetFilter",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:"showSourceControls",showTargetControls:"showTargetControls",sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:"disabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",keepSelection:"keepSelection"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter"},decls:22,vars:30,consts:[["cdkDropListGroup","",3,"ngStyle","ngClass"],["class","p-picklist-buttons p-picklist-source-controls",4,"ngIf"],[1,"p-picklist-list-wrapper","p-picklist-source-wrapper"],["class","p-picklist-header",4,"ngIf"],["class","p-picklist-filter-container",4,"ngIf"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-source",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["sourcelist",""],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-picklist-buttons","p-picklist-transfer-buttons"],["type","button","pButton","","pRipple","","icon","pi pi-angle-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-left",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-left",3,"disabled","click"],[1,"p-picklist-list-wrapper","p-picklist-target-wrapper"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-target",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["targetlist",""],["class","p-picklist-buttons p-picklist-target-controls",4,"ngIf"],[1,"p-picklist-buttons","p-picklist-source-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-picklist-header"],["class","p-picklist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-picklist-title"],[1,"p-picklist-filter-container"],[4,"ngIf","ngIfElse"],["builtInSourceElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-picklist-filter"],["type","text","role","textbox",1,"p-picklist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["sourceFilter",""],[1,"p-picklist-filter-icon","pi","pi-search"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown",4,"ngIf"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown"],["class","p-picklist-empty-message",4,"ngIf"],[1,"p-picklist-empty-message"],["builtInTargetElement",""],["targetFilter",""],[1,"p-picklist-buttons","p-picklist-target-controls"]],template:function(ut,xe){1&ut&&(e.TgZ(0,"div",0),e.YNc(1,T,5,8,"div",1),e.TgZ(2,"div",2),e.YNc(3,k,3,2,"div",3),e.YNc(4,H,4,2,"div",4),e.TgZ(5,"ul",5,6),e.NdJ("cdkDropListDropped",function(We){return xe.onDrop(We,xe.SOURCE_LIST)}),e.YNc(7,j,1,1,"ng-template",7),e.YNc(8,de,3,2,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){return xe.moveRight()}),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return xe.moveAllRight()}),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){return xe.moveLeft()}),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){return xe.moveAllLeft()}),e.qZA()(),e.TgZ(14,"div",14),e.YNc(15,J,3,2,"div",3),e.YNc(16,we,4,2,"div",4),e.TgZ(17,"ul",15,16),e.NdJ("cdkDropListDropped",function(We){return xe.onDrop(We,xe.TARGET_LIST)}),e.YNc(19,q,1,1,"ng-template",7),e.YNc(20,ot,3,2,"ng-container",8),e.qZA()(),e.YNc(21,Zt,5,8,"div",17),e.qZA()),2&ut&&(e.Tol(xe.styleClass),e.Q6J("ngStyle",xe.style)("ngClass",e.VKq(28,Dt,xe.stripedRows)),e.xp6(1),e.Q6J("ngIf",xe.showSourceControls),e.xp6(2),e.Q6J("ngIf",xe.sourceHeader||xe.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngIf",xe.filterBy&&!1!==xe.showSourceFilter),e.xp6(1),e.Q6J("cdkDropListData",xe.source)("ngStyle",xe.sourceStyle),e.xp6(2),e.Q6J("ngForOf",xe.source)("ngForTrackBy",xe.sourceTrackBy||xe.trackBy),e.xp6(1),e.Q6J("ngIf",xe.isEmpty(xe.SOURCE_LIST)&&(xe.emptyMessageSourceTemplate||xe.emptyFilterMessageSourceTemplate)),e.xp6(2),e.Q6J("disabled",xe.moveRightDisabled()),e.uIk("aria-label",xe.rightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",xe.moveAllRightDisabled()),e.uIk("aria-label",xe.allRightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",xe.moveLeftDisabled()),e.uIk("aria-label",xe.leftButtonAriaLabel),e.xp6(1),e.Q6J("disabled",xe.moveAllLeftDisabled()),e.uIk("aria-label",xe.allLeftButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",xe.targetHeader||xe.targetHeaderTemplate),e.xp6(1),e.Q6J("ngIf",xe.filterBy&&!1!==xe.showTargetFilter),e.xp6(1),e.Q6J("cdkDropListData",xe.target)("ngStyle",xe.targetStyle),e.xp6(2),e.Q6J("ngForOf",xe.target)("ngForTrackBy",xe.targetTrackBy||xe.trackBy),e.xp6(1),e.Q6J("ngIf",xe.isEmpty(xe.TARGET_LIST)&&(xe.emptyMessageTargetTemplate||xe.emptyFilterMessageTargetTemplate)),e.xp6(1),e.Q6J("ngIf",xe.showTargetControls))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.Hq,R.H,b.Wj,b.Fd,b.Zt],styles:[".p-picklist{display:flex}.p-picklist-buttons{display:flex;flex-direction:column;justify-content:center}.p-picklist-list-wrapper{flex:1 1 50%}.p-picklist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-picklist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-picklist-item:not(.cdk-drag-disabled){cursor:move}.p-picklist-item.cdk-drag-placeholder{opacity:0}.p-picklist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-picklist-filter{position:relative}.p-picklist-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input{width:100%}.p-picklist-list.cdk-drop-list-dragging .p-picklist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),jt})(),Xt=(()=>{class jt{}return jt.\u0275fac=function(ut){return new(ut||jt)},jt.\u0275mod=e.oAB({type:jt}),jt.\u0275inj=e.cJS({imports:[d.ez,u.hJ,p.m8,R.T,b._t,p.m8,b._t]}),jt})()},8185:(dn,pt,C)=>{"use strict";C.d(pt,{k:()=>b,q:()=>s});var e=C(5e3),d=C(9808);function u(F,O){if(1&F&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&F){const Q=e.oxw(2);e.Udp("display",null!=Q.value&&0!==Q.value?"flex":"none"),e.xp6(1),e.AsE("",Q.value,"",Q.unit,"")}}function p(F,O){if(1&F&&(e.TgZ(0,"div",3),e.YNc(1,u,2,4,"div",4),e.qZA()),2&F){const Q=e.oxw();e.Udp("width",Q.value+"%"),e.xp6(1),e.Q6J("ngIf",Q.showValue)}}function x(F,O){1&F&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}const R=function(F,O){return{"p-progressbar p-component":!0,"p-progressbar-determinate":F,"p-progressbar-indeterminate":O}};let b=(()=>{class F{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return F.\u0275fac=function(Q){return new(Q||F)},F.\u0275cmp=e.Xpm({type:F,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(Q,N){1&Q&&(e.TgZ(0,"div",0),e.YNc(1,p,2,3,"div",1),e.YNc(2,x,2,0,"div",2),e.qZA()),2&Q&&(e.Tol(N.styleClass),e.Q6J("ngStyle",N.style)("ngClass",e.WLB(7,R,"determinate"===N.mode,"indeterminate"===N.mode)),e.uIk("aria-valuenow",N.value),e.xp6(1),e.Q6J("ngIf","determinate"===N.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===N.mode))},dependencies:[d.mk,d.O5,d.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),F})(),s=(()=>{class F{}return F.\u0275fac=function(Q){return new(Q||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[d.ez]}),F})()},6198:(dn,pt,C)=>{"use strict";C.d(pt,{G:()=>u,L:()=>p});var e=C(5e3),d=C(9808);let u=(()=>{class x{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(b,s){1&b&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&b&&(e.Q6J("ngStyle",s.style)("ngClass",s.styleClass),e.xp6(1),e.Udp("animation-duration",s.animationDuration),e.xp6(1),e.uIk("fill",s.fill)("stroke-width",s.strokeWidth))},dependencies:[d.mk,d.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),x})(),p=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[d.ez]}),x})()},5787:(dn,pt,C)=>{"use strict";C.d(pt,{H:()=>x,T:()=>R});var e=C(5e3),d=C(9808),u=C(5730),p=C(9783);let x=(()=>{class b{constructor(F,O,Q){this.el=F,this.zone=O,this.config=Q}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(F){let O=this.getInk();if(!O||"none"===getComputedStyle(O,null).display)return;if(u.p.removeClass(O,"p-ink-active"),!u.p.getHeight(O)&&!u.p.getWidth(O)){let y=Math.max(u.p.getOuterWidth(this.el.nativeElement),u.p.getOuterHeight(this.el.nativeElement));O.style.height=y+"px",O.style.width=y+"px"}let Q=u.p.getOffset(this.el.nativeElement),N=F.pageX-Q.left+document.body.scrollTop-u.p.getWidth(O)/2,T=F.pageY-Q.top+document.body.scrollLeft-u.p.getHeight(O)/2;O.style.top=T+"px",O.style.left=N+"px",u.p.addClass(O,"p-ink-active"),this.timeout=setTimeout(()=>{let y=this.getInk();y&&u.p.removeClass(y,"p-ink-active")},401)}getInk(){for(let F=0;F<this.el.nativeElement.children.length;F++)if(-1!==this.el.nativeElement.children[F].className.indexOf("p-ink"))return this.el.nativeElement.children[F];return null}resetInk(){let F=this.getInk();F&&u.p.removeClass(F,"p-ink-active")}onAnimationEnd(F){this.timeout&&clearTimeout(this.timeout),u.p.removeClass(F.currentTarget,"p-ink-active")}create(){let F=document.createElement("span");F.className="p-ink",this.el.nativeElement.appendChild(F),this.animationListener=this.onAnimationEnd.bind(this),F.addEventListener("animationend",this.animationListener)}remove(){let F=this.getInk();F&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),F.removeEventListener("animationend",this.animationListener),u.p.removeElement(F))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return b.\u0275fac=function(F){return new(F||b)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(p.b4,8))},b.\u0275dir=e.lG2({type:b,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),b})(),R=(()=>{class b{}return b.\u0275fac=function(F){return new(F||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[d.ez]}),b})()},5871:(dn,pt,C)=>{"use strict";C.d(pt,{T:()=>J,v:()=>ve});var e=C(9808),d=C(5e3),u=C(9783),p=C(5730);const x=["element"],R=["content"];function b(be,Be){1&be&&d.GkF(0)}const s=function(be,Be){return{$implicit:be,options:Be}};function F(be,Be){if(1&be&&(d.ynx(0),d.YNc(1,b,1,0,"ng-container",7),d.BQk()),2&be){const we=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",we.contentTemplate)("ngTemplateOutletContext",d.WLB(2,s,we.loadedItems,we.getContentOptions()))}}function O(be,Be){1&be&&d.GkF(0)}function Q(be,Be){if(1&be&&(d.ynx(0),d.YNc(1,O,1,0,"ng-container",7),d.BQk()),2&be){const we=Be.$implicit,ke=Be.index,X=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",X.itemTemplate)("ngTemplateOutletContext",d.WLB(2,s,we,X.getOptions(ke)))}}const N=function(be){return{"p-scroller-loading":be}};function T(be,Be){if(1&be&&(d.TgZ(0,"div",8,9),d.YNc(2,Q,2,5,"ng-container",10),d.qZA()),2&be){const we=d.oxw(2);d.Q6J("ngClass",d.VKq(4,N,we.d_loading))("ngStyle",we.contentStyle),d.xp6(2),d.Q6J("ngForOf",we.loadedItems)("ngForTrackBy",we._trackBy||we.index)}}function y(be,Be){if(1&be&&d._UZ(0,"div",11),2&be){const we=d.oxw(2);d.Q6J("ngStyle",we.spacerStyle)}}function w(be,Be){1&be&&d.GkF(0)}const k=function(be){return{numCols:be}},V=function(be){return{options:be}};function U(be,Be){if(1&be&&(d.ynx(0),d.YNc(1,w,1,0,"ng-container",7),d.BQk()),2&be){const we=Be.index,ke=d.oxw(4);d.xp6(1),d.Q6J("ngTemplateOutlet",ke.loaderTemplate)("ngTemplateOutletContext",d.VKq(4,V,ke.getLoaderOptions(we,ke.both&&d.VKq(2,k,ke._numItemsInViewport.cols))))}}function oe(be,Be){if(1&be&&(d.ynx(0),d.YNc(1,U,2,6,"ng-container",14),d.BQk()),2&be){const we=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",we.loaderArr)}}function K(be,Be){1&be&&d.GkF(0)}const H=function(){return{styleClass:"p-scroller-loading-icon"}};function D(be,Be){if(1&be&&(d.ynx(0),d.YNc(1,K,1,0,"ng-container",7),d.BQk()),2&be){const we=d.oxw(4);d.xp6(1),d.Q6J("ngTemplateOutlet",we.loaderIconTemplate)("ngTemplateOutletContext",d.VKq(3,V,d.DdM(2,H)))}}function P(be,Be){1&be&&d._UZ(0,"i",16)}function Y(be,Be){if(1&be&&(d.YNc(0,D,2,5,"ng-container",0),d.YNc(1,P,1,0,"ng-template",null,15,d.W1O)),2&be){const we=d.MAs(2),ke=d.oxw(3);d.Q6J("ngIf",ke.loaderIconTemplate)("ngIfElse",we)}}const re=function(be){return{"p-component-overlay":be}};function j(be,Be){if(1&be&&(d.TgZ(0,"div",12),d.YNc(1,oe,2,1,"ng-container",0),d.YNc(2,Y,3,2,"ng-template",null,13,d.W1O),d.qZA()),2&be){const we=d.MAs(3),ke=d.oxw(2);d.Q6J("ngClass",d.VKq(3,re,!ke.loaderTemplate)),d.xp6(1),d.Q6J("ngIf",ke.loaderTemplate)("ngIfElse",we)}}const G=function(be,Be,we){return{"p-scroller":!0,"p-scroller-inline":be,"p-both-scroll":Be,"p-horizontal-scroll":we}};function ie(be,Be){if(1&be){const we=d.EpF();d.ynx(0),d.TgZ(1,"div",2,3),d.NdJ("scroll",function(X){d.CHM(we);const q=d.oxw();return d.KtG(q.onContainerScroll(X))}),d.YNc(3,F,2,5,"ng-container",0),d.YNc(4,T,3,6,"ng-template",null,4,d.W1O),d.YNc(6,y,1,1,"div",5),d.YNc(7,j,4,5,"div",6),d.qZA(),d.BQk()}if(2&be){const we=d.MAs(5),ke=d.oxw();d.xp6(1),d.Tol(ke._styleClass),d.Q6J("ngStyle",ke._style)("ngClass",d.kEZ(10,G,ke.inline,ke.both,ke.horizontal)),d.uIk("id",ke._id)("tabindex",ke.tabindex),d.xp6(2),d.Q6J("ngIf",ke.contentTemplate)("ngIfElse",we),d.xp6(3),d.Q6J("ngIf",ke._showSpacer),d.xp6(1),d.Q6J("ngIf",!ke.loaderDisabled&&ke._showLoader&&ke.d_loading)}}function Te(be,Be){1&be&&d.GkF(0)}const Me=function(be,Be){return{rows:be,columns:Be}};function de(be,Be){if(1&be&&(d.ynx(0),d.YNc(1,Te,1,0,"ng-container",7),d.BQk()),2&be){const we=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",we.contentTemplate)("ngTemplateOutletContext",d.WLB(5,s,we.items,d.WLB(2,Me,we._items,we.loadedColumns)))}}function te(be,Be){if(1&be&&(d.Hsn(0),d.YNc(1,de,2,8,"ng-container",17)),2&be){const we=d.oxw();d.xp6(1),d.Q6J("ngIf",we.contentTemplate)}}const ce=["*"];let J=(()=>{class be{constructor(we,ke){this.cd=we,this.zone=ke,this.onLazyLoad=new d.vpe,this.onScroll=new d.vpe,this.onScrollIndexChange=new d.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(we){this._id=we}get style(){return this._style}set style(we){this._style=we}get styleClass(){return this._styleClass}set styleClass(we){this._styleClass=we}get tabindex(){return this._tabindex}set tabindex(we){this._tabindex=we}get items(){return this._items}set items(we){this._items=we}get itemSize(){return this._itemSize}set itemSize(we){this._itemSize=we}get scrollHeight(){return this._scrollHeight}set scrollHeight(we){this._scrollHeight=we}get scrollWidth(){return this._scrollWidth}set scrollWidth(we){this._scrollWidth=we}get orientation(){return this._orientation}set orientation(we){this._orientation=we}get step(){return this._step}set step(we){this._step=we}get delay(){return this._delay}set delay(we){this._delay=we}get resizeDelay(){return this._resizeDelay}set resizeDelay(we){this._resizeDelay=we}get appendOnly(){return this._appendOnly}set appendOnly(we){this._appendOnly=we}get inline(){return this._inline}set inline(we){this._inline=we}get lazy(){return this._lazy}set lazy(we){this._lazy=we}get disabled(){return this._disabled}set disabled(we){this._disabled=we}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(we){this._loaderDisabled=we}get columns(){return this._columns}set columns(we){this._columns=we}get showSpacer(){return this._showSpacer}set showSpacer(we){this._showSpacer=we}get showLoader(){return this._showLoader}set showLoader(we){this._showLoader=we}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(we){this._numToleratedItems=we}get loading(){return this._loading}set loading(we){this._loading=we}get autoSize(){return this._autoSize}set autoSize(we){this._autoSize=we}get trackBy(){return this._trackBy}set trackBy(we){this._trackBy=we}get options(){return this._options}set options(we){this._options=we,we&&"object"==typeof we&&Object.entries(we).forEach(([ke,X])=>this[`_${ke}`]!==X&&(this[`_${ke}`]=X))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(we=>this._columns?we:we.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(we){var ke,X,q,pe;let _e=!1;if(we.loading){const{previousValue:Xe,currentValue:ct}=we.loading;this.lazy&&Xe!==ct&&ct!==this.d_loading&&(this.d_loading=ct,_e=!0)}if(we.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),we.numToleratedItems){const{previousValue:Xe,currentValue:ct}=we.numToleratedItems;Xe!==ct&&ct!==this.d_numToleratedItems&&(this.d_numToleratedItems=ct)}if(we.options){const{previousValue:Xe,currentValue:ct}=we.options;this.lazy&&(null==Xe?void 0:Xe.loading)!==(null==ct?void 0:ct.loading)&&(null==ct?void 0:ct.loading)!==this.d_loading&&(this.d_loading=ct.loading,_e=!0),(null==Xe?void 0:Xe.numToleratedItems)!==(null==ct?void 0:ct.numToleratedItems)&&(null==ct?void 0:ct.numToleratedItems)!==this.d_numToleratedItems&&(this.d_numToleratedItems=ct.numToleratedItems)}this.initialized&&!_e&&((null===(X=null===(ke=we.items)||void 0===ke?void 0:ke.previousValue)||void 0===X?void 0:X.length)!==(null===(pe=null===(q=we.items)||void 0===q?void 0:q.currentValue)||void 0===pe?void 0:pe.length)||we.itemSize||we.scrollHeight||we.scrollWidth)&&this.init()}ngAfterContentInit(){this.templates.forEach(we=>{switch(we.getType()){case"content":this.contentTemplate=we.template;break;case"item":default:this.itemTemplate=we.template;break;case"loader":this.loaderTemplate=we.template;break;case"loadericon":this.loaderIconTemplate=we.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit(),this.calculateAutoSize()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){var we;p.p.isVisible(null===(we=this.elementViewChild)||void 0===we?void 0:we.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=p.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=p.p.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(we){var ke,X;this.contentEl=we||(null===(ke=this.contentViewChild)||void 0===ke?void 0:ke.nativeElement)||p.p.findSingle(null===(X=this.elementViewChild)||void 0===X?void 0:X.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(we){var ke,X;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(X=null===(ke=this.elementViewChild)||void 0===ke?void 0:ke.nativeElement)||void 0===X||X.scrollTo(we)}scrollToIndex(we,ke="auto"){const{numToleratedItems:X}=this.calculateNumItems(),q=this.getContentPosition(),pe=(ct=0,ot)=>ct<=ot?0:ct,_e=(ct,ot,Zt)=>ct*ot+Zt,Xe=(ct=0,ot=0)=>this.scrollTo({left:ct,top:ot,behavior:ke});this.both?(this.first={rows:pe(we[0],X[0]),cols:pe(we[1],X[1])},Xe(_e(this.first.cols,this._itemSize[1],q.left),_e(this.first.rows,this._itemSize[0],q.top))):(this.first=pe(we,X),this.horizontal?Xe(_e(this.first,this._itemSize,q.left),0):Xe(0,_e(this.first,this._itemSize,q.top)))}scrollInView(we,ke,X="auto"){if(ke){const{first:q,viewport:pe}=this.getRenderedRange(),_e=(ot=0,Zt=0)=>this.scrollTo({left:ot,top:Zt,behavior:X}),ct="to-end"===ke;if("to-start"===ke){if(this.both)pe.first.rows-q.rows>we[0]?_e(pe.first.cols*this._itemSize[1],(pe.first.rows-1)*this._itemSize[0]):pe.first.cols-q.cols>we[1]&&_e((pe.first.cols-1)*this._itemSize[1],pe.first.rows*this._itemSize[0]);else if(pe.first-q>we){const ot=(pe.first-1)*this._itemSize;this.horizontal?_e(ot,0):_e(0,ot)}}else if(ct)if(this.both)pe.last.rows-q.rows<=we[0]+1?_e(pe.first.cols*this._itemSize[1],(pe.first.rows+1)*this._itemSize[0]):pe.last.cols-q.cols<=we[1]+1&&_e((pe.first.cols+1)*this._itemSize[1],pe.first.rows*this._itemSize[0]);else if(pe.last-q<=we+1){const ot=(pe.first+1)*this._itemSize;this.horizontal?_e(ot,0):_e(0,ot)}}else this.scrollToIndex(we,X)}getRenderedRange(){var we;const ke=(pe,_e)=>Math.floor(pe/(_e||pe));let X=this.first,q=0;if(null!==(we=this.elementViewChild)&&void 0!==we&&we.nativeElement){const{scrollTop:pe,scrollLeft:_e}=this.elementViewChild.nativeElement;this.both?(X={rows:ke(pe,this._itemSize[0]),cols:ke(_e,this._itemSize[1])},q={rows:X.rows+this.numItemsInViewport.rows,cols:X.cols+this.numItemsInViewport.cols}):(X=ke(this.horizontal?_e:pe,this._itemSize),q=X+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:X,last:q}}}calculateNumItems(){var we,ke;const X=this.getContentPosition(),q=null!==(we=this.elementViewChild)&&void 0!==we&&we.nativeElement?this.elementViewChild.nativeElement.offsetWidth-X.left:0,pe=null!==(ke=this.elementViewChild)&&void 0!==ke&&ke.nativeElement?this.elementViewChild.nativeElement.offsetHeight-X.top:0,_e=(Zt,Dt)=>Math.ceil(Zt/(Dt||Zt)),Xe=Zt=>Math.ceil(Zt/2),ct=this.both?{rows:_e(pe,this._itemSize[0]),cols:_e(q,this._itemSize[1])}:_e(this.horizontal?q:pe,this._itemSize);return{numItemsInViewport:ct,numToleratedItems:this.d_numToleratedItems||(this.both?[Xe(ct.rows),Xe(ct.cols)]:Xe(ct))}}calculateOptions(){const{numItemsInViewport:we,numToleratedItems:ke}=this.calculateNumItems(),X=(_e,Xe,ct,ot=!1)=>this.getLast(_e+Xe+(_e<ct?2:3)*ct,ot),q=this.first,pe=this.both?{rows:X(this.first.rows,we.rows,ke[0]),cols:X(this.first.cols,we.cols,ke[1],!0)}:X(this.first,we,ke);this.last=pe,this.numItemsInViewport=we,this.d_numToleratedItems=ke,this.showLoader&&(this.loaderArr=this.both?Array.from({length:we.rows}).map(()=>Array.from({length:we.cols})):Array.from({length:we})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:q.cols}:0:q,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:we,offsetHeight:ke}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(we<this.defaultWidth?we:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(ke<this.defaultHeight?ke:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(we=0,ke=!1){return this._items?Math.min(ke?(this._columns||this._items[0]).length:this._items.length,we):0}getContentPosition(){if(this.contentEl){const we=getComputedStyle(this.contentEl),ke=parseFloat(we.paddingLeft)+Math.max(parseFloat(we.left)||0,0),X=parseFloat(we.paddingRight)+Math.max(parseFloat(we.right)||0,0),q=parseFloat(we.paddingTop)+Math.max(parseFloat(we.top)||0,0),pe=parseFloat(we.paddingBottom)+Math.max(parseFloat(we.bottom)||0,0);return{left:ke,right:X,top:q,bottom:pe,x:ke+X,y:q+pe}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var we;if(null!==(we=this.elementViewChild)&&void 0!==we&&we.nativeElement){const ke=this.elementViewChild.nativeElement.parentElement.parentElement,X=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||ke.offsetWidth}px`,q=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||ke.offsetHeight}px`,pe=(_e,Xe)=>this.elementViewChild.nativeElement.style[_e]=Xe;this.both||this.horizontal?(pe("height",q),pe("width",X)):pe("height",q)}}setSpacerSize(){if(this._items){const we=this.getContentPosition(),ke=(X,q,pe,_e=0)=>this.spacerStyle=Object.assign(Object.assign({},this.spacerStyle),{[`${X}`]:(q||[]).length*pe+_e+"px"});this.both?(ke("height",this._items,this._itemSize[0],we.y),ke("width",this._columns||this._items[1],this._itemSize[1],we.x)):this.horizontal?ke("width",this._columns||this._items,this._itemSize,we.x):ke("height",this._items,this._itemSize,we.y)}}setContentPosition(we){if(this.contentEl&&!this._appendOnly){const ke=we?we.first:this.first,X=(pe,_e)=>pe*_e,q=(pe=0,_e=0)=>this.contentStyle=Object.assign(Object.assign({},this.contentStyle),{transform:`translate3d(${pe}px, ${_e}px, 0)`});if(this.both)q(X(ke.cols,this._itemSize[1]),X(ke.rows,this._itemSize[0]));else{const pe=X(ke,this._itemSize);this.horizontal?q(pe,0):q(0,pe)}}}onScrollPositionChange(we){const ke=we.target,X=this.getContentPosition(),q=(ht,ut)=>ht?ht>ut?ht-ut:ht:0,pe=(ht,ut)=>Math.floor(ht/(ut||ht)),_e=(ht,ut,xe,De,We,gt)=>ht<=We?We:gt?xe-De-We:ut+We-1,Xe=(ht,ut,xe,De,We,gt,Tt)=>ht<=gt?0:Math.max(0,Tt?ht<ut?xe:ht-gt:ht>ut?xe:ht-2*gt),ct=(ht,ut,xe,De,We,gt=!1)=>{let Tt=ut+De+2*We;return ht>=We&&(Tt+=We+1),this.getLast(Tt,gt)},ot=q(ke.scrollTop,X.top),Zt=q(ke.scrollLeft,X.left);let Dt=this.both?{rows:0,cols:0}:0,Cn=this.last,Xt=!1,jt=this.lastScrollPos;if(this.both){const ht=this.lastScrollPos.top<=ot,ut=this.lastScrollPos.left<=Zt;if(!this._appendOnly||this._appendOnly&&(ht||ut)){const xe={rows:pe(ot,this._itemSize[0]),cols:pe(Zt,this._itemSize[1])},De={rows:_e(xe.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],ht),cols:_e(xe.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],ut)};Dt={rows:Xe(xe.rows,De.rows,this.first.rows,0,0,this.d_numToleratedItems[0],ht),cols:Xe(xe.cols,De.cols,this.first.cols,0,0,this.d_numToleratedItems[1],ut)},Cn={rows:ct(xe.rows,Dt.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:ct(xe.cols,Dt.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},Xt=Dt.rows!==this.first.rows||Cn.rows!==this.last.rows||Dt.cols!==this.first.cols||Cn.cols!==this.last.cols,jt={top:ot,left:Zt}}}else{const ht=this.horizontal?Zt:ot,ut=this.lastScrollPos<=ht;if(!this._appendOnly||this._appendOnly&&ut){const xe=pe(ht,this._itemSize);Dt=Xe(xe,_e(xe,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ut),this.first,0,0,this.d_numToleratedItems,ut),Cn=ct(xe,Dt,0,this.numItemsInViewport,this.d_numToleratedItems),Xt=Dt!==this.first||Cn!==this.last,jt=ht}}return{first:Dt,last:Cn,isRangeChanged:Xt,scrollPos:jt}}onScrollChange(we){const{first:ke,last:X,isRangeChanged:q,scrollPos:pe}=this.onScrollPositionChange(we);if(q){const _e={first:ke,last:X};if(this.setContentPosition(_e),this.first=ke,this.last=X,this.lastScrollPos=pe,this.handleEvents("onScrollIndexChange",_e),this._lazy&&this.isPageChanged){const Xe={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):ke,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:X,this.items.length)};(this.lazyLoadState.first!==Xe.first||this.lazyLoadState.last!==Xe.last)&&this.handleEvents("onLazyLoad",Xe),this.lazyLoadState=Xe}}}onContainerScroll(we){if(this.handleEvents("onScroll",{originalEvent:we}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:ke}=this.onScrollPositionChange(we);(ke||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(we),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(we)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var we;if(p.p.isVisible(null===(we=this.elementViewChild)||void 0===we?void 0:we.nativeElement)){const[ke,X]=[p.p.getWidth(this.elementViewChild.nativeElement),p.p.getHeight(this.elementViewChild.nativeElement)],[q,pe]=[ke!==this.defaultWidth,X!==this.defaultHeight];(this.both?q||pe:this.horizontal?q:this.vertical&&pe)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=ke,this.defaultHeight=X,this.init()})}},this._resizeDelay)}handleEvents(we,ke){return this.options&&this.options[we]?this.options[we](ke):this[we].emit(ke)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:we=>this.getOptions(we),loading:this.d_loading,getLoaderOptions:(we,ke)=>this.getLoaderOptions(we,ke),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(we){const ke=(this._items||[]).length,X=this.both?this.first.rows+we:this.first+we;return{index:X,count:ke,first:0===X,last:X===ke-1,even:X%2==0,odd:X%2!=0}}getLoaderOptions(we,ke){const X=this.loaderArr.length;return Object.assign({index:we,count:X,first:0===we,last:we===X-1,even:we%2==0,odd:we%2!=0},ke)}}return be.\u0275fac=function(we){return new(we||be)(d.Y36(d.sBO),d.Y36(d.R0b))},be.\u0275cmp=d.Xpm({type:be,selectors:[["p-scroller"]],contentQueries:function(we,ke,X){if(1&we&&d.Suo(X,u.jx,4),2&we){let q;d.iGM(q=d.CRH())&&(ke.templates=q)}},viewQuery:function(we,ke){if(1&we&&(d.Gf(x,5),d.Gf(R,5)),2&we){let X;d.iGM(X=d.CRH())&&(ke.elementViewChild=X.first),d.iGM(X=d.CRH())&&(ke.contentViewChild=X.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[d.TTD],ngContentSelectors:ce,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(we,ke){if(1&we&&(d.F$t(),d.YNc(0,ie,8,14,"ng-container",0),d.YNc(1,te,2,1,"ng-template",null,1,d.W1O)),2&we){const X=d.MAs(2);d.Q6J("ngIf",!ke._disabled)("ngIfElse",X)}},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),be})(),ve=(()=>{class be{}return be.\u0275fac=function(we){return new(we||be)},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({imports:[e.ez]}),be})()},7102:(dn,pt,C)=>{"use strict";C.d(pt,{Qy:()=>w,UN:()=>y});var e=C(5e3),d=C(9808),u=C(5921),p=C(5787),x=C(2382);function R(k,V){if(1&k&&e._UZ(0,"span",8),2&k){const U=e.oxw(2).$implicit;e.Tol(U.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function b(k,V){if(1&k&&(e.ynx(0),e.YNc(1,R,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&k){const U=e.oxw().$implicit,oe=e.oxw();e.xp6(1),e.Q6J("ngIf",U.icon),e.xp6(2),e.Oqu(oe.getOptionLabel(U))}}function s(k,V){1&k&&e.GkF(0)}const F=function(k,V){return{$implicit:k,index:V}};function O(k,V){if(1&k&&e.YNc(0,s,1,0,"ng-container",9),2&k){const U=e.oxw(),oe=U.$implicit,K=U.index,H=e.oxw();e.Q6J("ngTemplateOutlet",H.itemTemplate)("ngTemplateOutletContext",e.WLB(2,F,oe,K))}}const Q=function(k,V,U){return{"p-highlight":k,"p-disabled":V,"p-button-icon-only":U}};function N(k,V){if(1&k){const U=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function(K){const H=e.CHM(U),D=H.$implicit,P=H.index,Y=e.oxw();return e.KtG(Y.onItemClick(K,D,P))})("keydown.enter",function(K){const H=e.CHM(U),D=H.$implicit,P=H.index,Y=e.oxw();return e.KtG(Y.onItemClick(K,D,P))})("blur",function(){e.CHM(U);const K=e.oxw();return e.KtG(K.onBlur())}),e.YNc(2,b,4,2,"ng-container",4),e.YNc(3,O,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&k){const U=V.$implicit,oe=e.MAs(4),K=e.oxw();e.Tol(U.styleClass),e.Q6J("ngClass",e.kEZ(10,Q,K.isSelected(U),K.disabled||K.isOptionDisabled(U),U.icon&&!K.getOptionLabel(U))),e.uIk("aria-pressed",K.isSelected(U))("title",U.title)("aria-label",U.label)("tabindex",K.disabled?null:K.tabindex)("aria-labelledby",K.getOptionLabel(U)),e.xp6(2),e.Q6J("ngIf",!K.itemTemplate)("ngIfElse",oe)}}const T={provide:x.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0};let y=(()=>{class k{constructor(U){this.cd=U,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(U){return this.optionLabel?u.gb.resolveFieldData(U,this.optionLabel):null!=U.label?U.label:U}getOptionValue(U){return this.optionValue?u.gb.resolveFieldData(U,this.optionValue):this.optionLabel||void 0===U.value?U:U.value}isOptionDisabled(U){return this.optionDisabled?u.gb.resolveFieldData(U,this.optionDisabled):void 0!==U.disabled&&U.disabled}writeValue(U){this.value=U,this.cd.markForCheck()}registerOnChange(U){this.onModelChange=U}registerOnTouched(U){this.onModelTouched=U}setDisabledState(U){this.disabled=U,this.cd.markForCheck()}onItemClick(U,oe,K){if(!this.disabled&&!this.isOptionDisabled(oe)){if(this.multiple)this.isSelected(oe)?this.removeOption(oe):this.value=[...this.value||[],this.getOptionValue(oe)],this.onModelChange(this.value),this.onChange.emit({originalEvent:U,value:this.value});else{let H=this.getOptionValue(oe);this.value!==H&&(this.value=this.getOptionValue(oe),this.onModelChange(this.value),this.onChange.emit({originalEvent:U,value:this.value}))}this.onOptionClick.emit({originalEvent:U,option:oe,index:K})}}onBlur(){this.onModelTouched()}removeOption(U){this.value=this.value.filter(oe=>!u.gb.equals(oe,this.getOptionValue(U),this.dataKey))}isSelected(U){let oe=!1,K=this.getOptionValue(U);if(this.multiple){if(this.value&&this.value instanceof Array)for(let H of this.value)if(u.gb.equals(H,K,this.dataKey)){oe=!0;break}}else oe=u.gb.equals(this.getOptionValue(U),this.value,this.dataKey);return oe}}return k.\u0275fac=function(U){return new(U||k)(e.Y36(e.sBO))},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-selectButton"]],contentQueries:function(U,oe,K){if(1&U&&e.Suo(K,e.Rgc,5),2&U){let H;e.iGM(H=e.CRH())&&(oe.itemTemplate=H.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([T])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(U,oe){1&U&&(e.TgZ(0,"div",0),e.YNc(1,N,5,14,"div",1),e.qZA()),2&U&&(e.Tol(oe.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",oe.style),e.xp6(1),e.Q6J("ngForOf",oe.options))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,p.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),k})(),w=(()=>{class k{}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[d.ez,p.T]}),k})()},4500:(dn,pt,C)=>{"use strict";C.d(pt,{O:()=>u,m:()=>p});var e=C(5e3),d=C(9808);let u=(()=>{class x{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return x.\u0275fac=function(b){return new(b||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(b,s){1&b&&e._UZ(0,"div",0),2&b&&(e.Tol(s.styleClass),e.Q6J("ngClass",s.containerClass())("ngStyle",s.containerStyle()))},dependencies:[d.mk,d.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),x})(),p=(()=>{class x{}return x.\u0275fac=function(b){return new(b||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[d.ez]}),x})()},4496:(dn,pt,C)=>{"use strict";C.d(pt,{aj:()=>ke,ce:()=>X});var e=C(5e3),d=C(1777),u=C(9808),p=C(5730),x=C(3470),R=C(5921),b=C(4119),s=C(9783);const F=["sublist"],O=function(q){return{"p-hidden":q}};function Q(q,pe){if(1&q&&e._UZ(0,"li",5),2&q){const _e=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,O,!1===_e.visible))}}function N(q,pe){if(1&q&&e._UZ(0,"span",17),2&q){const _e=e.oxw(3).$implicit;e.Q6J("ngClass",_e.icon)("ngStyle",_e.iconStyle)}}function T(q,pe){if(1&q&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&q){const _e=e.oxw(3).$implicit;e.xp6(1),e.Oqu(_e.label)}}function y(q,pe){if(1&q&&e._UZ(0,"span",19),2&q){const _e=e.oxw(3).$implicit;e.Q6J("innerHTML",_e.label,e.oJD)}}function w(q,pe){if(1&q&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&q){const _e=e.oxw(3).$implicit;e.Q6J("ngClass",_e.badgeStyleClass),e.xp6(1),e.Oqu(_e.badge)}}function k(q,pe){1&q&&e._UZ(0,"span",21)}const V=function(q){return{"p-disabled":q}};function U(q,pe){if(1&q){const _e=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(ct){e.CHM(_e);const ot=e.oxw(3);return e.KtG(ot.onItemKeyDown(ct))})("click",function(ct){e.CHM(_e),e.oxw();const ot=e.MAs(1),Zt=e.oxw().$implicit,Dt=e.oxw();return e.KtG(Dt.itemClick(ct,Zt,ot))}),e.YNc(1,N,1,2,"span",12),e.YNc(2,T,2,1,"span",13),e.YNc(3,y,1,1,"ng-template",null,14,e.W1O),e.YNc(5,w,2,2,"span",15),e.YNc(6,k,1,0,"span",16),e.qZA()}if(2&q){const _e=e.MAs(4),Xe=e.oxw(2).$implicit,ct=e.oxw();e.Q6J("target",Xe.target)("ngClass",e.VKq(11,V,Xe.disabled)),e.uIk("href",Xe.url,e.LSH)("title",Xe.title)("id",Xe.id)("tabindex",Xe.disabled||!ct.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",Xe.icon),e.xp6(1),e.Q6J("ngIf",!1!==Xe.escape)("ngIfElse",_e),e.xp6(3),e.Q6J("ngIf",Xe.badge),e.xp6(1),e.Q6J("ngIf",Xe.items)}}function oe(q,pe){if(1&q&&e._UZ(0,"span",17),2&q){const _e=e.oxw(3).$implicit;e.Q6J("ngClass",_e.icon)("ngStyle",_e.iconStyle)}}function K(q,pe){if(1&q&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&q){const _e=e.oxw(3).$implicit;e.xp6(1),e.Oqu(_e.label)}}function H(q,pe){if(1&q&&e._UZ(0,"span",19),2&q){const _e=e.oxw(3).$implicit;e.Q6J("innerHTML",_e.label,e.oJD)}}function D(q,pe){if(1&q&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&q){const _e=e.oxw(3).$implicit;e.Q6J("ngClass",_e.badgeStyleClass),e.xp6(1),e.Oqu(_e.badge)}}function P(q,pe){1&q&&e._UZ(0,"span",24)}const Y=function(){return{exact:!1}};function re(q,pe){if(1&q){const _e=e.EpF();e.TgZ(0,"a",22),e.NdJ("keydown",function(ct){e.CHM(_e);const ot=e.oxw(3);return e.KtG(ot.onItemKeyDown(ct))})("click",function(ct){e.CHM(_e),e.oxw();const ot=e.MAs(1),Zt=e.oxw().$implicit,Dt=e.oxw();return e.KtG(Dt.itemClick(ct,Zt,ot))}),e.YNc(1,oe,1,2,"span",12),e.YNc(2,K,2,1,"span",13),e.YNc(3,H,1,1,"ng-template",null,14,e.W1O),e.YNc(5,D,2,2,"span",15),e.YNc(6,P,1,0,"span",23),e.qZA()}if(2&q){const _e=e.MAs(4),Xe=e.oxw(2).$implicit,ct=e.oxw();e.Q6J("routerLink",Xe.routerLink)("queryParams",Xe.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Xe.routerLinkActiveOptions||e.DdM(21,Y))("href",Xe.url,e.LSH)("target",Xe.target)("ngClass",e.VKq(22,V,Xe.disabled))("fragment",Xe.fragment)("queryParamsHandling",Xe.queryParamsHandling)("preserveFragment",Xe.preserveFragment)("skipLocationChange",Xe.skipLocationChange)("replaceUrl",Xe.replaceUrl)("state",Xe.state),e.uIk("title",Xe.title)("id",Xe.id)("tabindex",Xe.disabled||!ct.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",Xe.icon),e.xp6(1),e.Q6J("ngIf",!1!==Xe.escape)("ngIfElse",_e),e.xp6(3),e.Q6J("ngIf",Xe.badge),e.xp6(1),e.Q6J("ngIf",Xe.items)}}function j(q,pe){if(1&q&&e._UZ(0,"p-slideMenuSub",25),2&q){const _e=e.oxw(2).$implicit,Xe=e.oxw();e.Q6J("item",_e)("index",Xe.index+1)("menuWidth",Xe.menuWidth)}}const G=function(q,pe){return{"p-menuitem":!0,"p-menuitem-active":q,"p-hidden":pe}};function ie(q,pe){if(1&q&&(e.TgZ(0,"li",6,7),e.YNc(2,U,7,13,"a",8),e.YNc(3,re,7,24,"a",9),e.YNc(4,j,1,3,"p-slideMenuSub",10),e.qZA()),2&q){const _e=e.MAs(1),Xe=e.oxw().$implicit,ct=e.oxw();e.Tol(Xe.styleClass),e.Q6J("ngClass",e.WLB(8,G,_e==ct.activeItem,!1===Xe.visible))("tooltipOptions",Xe.tooltipOptions)("ngStyle",Xe.style),e.xp6(2),e.Q6J("ngIf",!Xe.routerLink),e.xp6(1),e.Q6J("ngIf",Xe.routerLink),e.xp6(1),e.Q6J("ngIf",Xe.items)}}function Te(q,pe){if(1&q&&(e.YNc(0,Q,1,3,"li",3),e.YNc(1,ie,5,11,"li",4)),2&q){const _e=pe.$implicit;e.Q6J("ngIf",_e.separator),e.xp6(1),e.Q6J("ngIf",!_e.separator)}}const Me=function(q,pe,_e){return{"p-slidemenu-rootlist":q,"p-submenu-list":pe,"p-active-submenu":_e}},de=["container"],te=["backward"],ce=["slideMenuContent"],J=function(q){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":q}},ve=function(q,pe){return{showTransitionParams:q,hideTransitionParams:pe}},be=function(q){return{value:"visible",params:q}};function Be(q,pe){if(1&q){const _e=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(ct){e.CHM(_e);const ot=e.oxw();return e.KtG(ot.onOverlayClick(ct))})("@overlayAnimation.start",function(ct){e.CHM(_e);const ot=e.oxw();return e.KtG(ot.onOverlayAnimationStart(ct))})("@overlayAnimation.done",function(ct){e.CHM(_e);const ot=e.oxw();return e.KtG(ot.onOverlayAnimationEnd(ct))}),e.TgZ(2,"div",3)(3,"div",4,5),e._UZ(5,"p-slideMenuSub",6),e.qZA(),e.TgZ(6,"a",7,8),e.NdJ("keydown.enter",function(ct){e.CHM(_e);const ot=e.oxw();return e.KtG(ot.onBackwardKeydown(ct))})("keydown.space",function(ct){e.CHM(_e);const ot=e.oxw();return e.KtG(ot.onBackwardKeydown(ct))})("click",function(){e.CHM(_e);const ct=e.oxw();return e.KtG(ct.goBack())}),e._UZ(8,"span",9),e.TgZ(9,"span"),e._uU(10),e.qZA()()()()}if(2&q){const _e=e.oxw();e.Tol(_e.styleClass),e.Q6J("ngClass",e.VKq(18,J,_e.popup))("ngStyle",_e.style)("@overlayAnimation",e.VKq(23,be,e.WLB(20,ve,_e.showTransitionOptions,_e.hideTransitionOptions)))("@.disabled",!0!==_e.popup),e.xp6(2),e.Udp("height",_e.left?_e.viewportHeight+"px":"auto")("width",_e.menuWidth+"px"),e.xp6(3),e.Q6J("item",_e.model)("index",0)("menuWidth",_e.menuWidth)("effectDuration",_e.effectDuration)("easing",_e.easing),e.xp6(1),e.Udp("display",_e.left?"block":"none"),e.xp6(4),e.Oqu(_e.backLabel)}}let we=(()=>{class q{constructor(_e){this.backLabel="Back",this.easing="ease-out",this.slideMenu=_e}itemClick(_e,Xe,ct){Xe.disabled?_e.preventDefault():(!Xe.url&&!Xe.routerLink&&_e.preventDefault(),Xe.command&&Xe.command({originalEvent:_e,item:Xe}),Xe.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=ct,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!Xe.items&&this.slideMenu.popup&&this.slideMenu.hide())}focusNextList(_e){if(!this.slideMenu.animating){let Xe=p.p.getFocusableElements(_e);Xe&&Xe.length>0&&Xe[0].focus(),this.unbindTransitionEndListener()}}onItemKeyDown(_e){let Xe=_e.currentTarget.parentElement;switch(_e.code){case"Space":case"Enter":Xe&&!p.p.hasClass(Xe,"p-disabled")&&(Xe.children[0].click(),this.transitionEndListener=this.focusNextList.bind(this,Xe),this.sublistViewChild.nativeElement.addEventListener("transitionend",this.transitionEndListener)),_e.preventDefault()}}unbindTransitionEndListener(){this.transitionEndListener&&this.sublistViewChild&&(this.sublistViewChild.nativeElement.removeEventListener("transitionend",this.transitionEndListener),this.transitionEndListener=null)}ngOnDestroy(){this.activeItem=null,this.unbindTransitionEndListener()}get isActive(){return-this.slideMenu.left==this.index*this.menuWidth}}return q.\u0275fac=function(_e){return new(_e||q)(e.Y36((0,e.Gpc)(()=>ke)))},q.\u0275cmp=e.Xpm({type:q,selectors:[["p-slideMenuSub"]],viewQuery:function(_e,Xe){if(1&_e&&e.Gf(F,5),2&_e){let ct;e.iGM(ct=e.CRH())&&(Xe.sublistViewChild=ct.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",backLabel:"backLabel",menuWidth:"menuWidth",effectDuration:"effectDuration",easing:"easing",index:"index"},decls:3,vars:16,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","tooltipOptions","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","tooltipOptions","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlRouteLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(_e,Xe){1&_e&&(e.TgZ(0,"ul",0,1),e.YNc(2,Te,2,2,"ng-template",2),e.qZA()),2&_e&&(e.Udp("width",Xe.menuWidth,"px")("left",Xe.root?Xe.slideMenu.left:Xe.slideMenu.menuWidth,"px")("transition-property",Xe.root?"left":"none")("transition-duration",Xe.effectDuration+"ms")("transition-timing-function",Xe.easing),e.Q6J("ngClass",e.kEZ(12,Me,Xe.root,!Xe.root,Xe.isActive)),e.xp6(2),e.Q6J("ngForOf",Xe.root?Xe.item:Xe.item.items))},dependencies:[u.mk,u.sg,u.O5,u.PC,x.yS,x.Od,b.u,q],encapsulation:2}),q})(),ke=(()=>{class q{constructor(_e,Xe,ct,ot,Zt){this.el=_e,this.renderer=Xe,this.cd=ct,this.config=ot,this.overlayService=Zt,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.left=0,this.animating=!1}ngAfterViewChecked(){!this.viewportUpdated&&!this.popup&&this.containerViewChild&&(this.updateViewPort(),this.viewportUpdated=!0)}set container(_e){this.containerViewChild=_e}set backward(_e){this.backwardViewChild=_e}set slideMenuContent(_e){this.slideMenuContentViewChild=_e}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-p.p.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(_e){this.visible?this.hide():this.show(_e),this.preventDocumentDefault=!0}show(_e){this.target=_e.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(_e){this.popup&&this.overlayService.add({originalEvent:_e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(_e){switch(_e.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),p.p.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(_e){"void"===_e.toState&&R.P9.clear(_e.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):p.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&R.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!p.p.isTouchDevice()&&this.hide()}goBack(){this.left+=this.menuWidth}onBackwardKeydown(_e){this.goBack(),this.left||setTimeout(()=>{let Xe=p.p.getFocusableElements(this.el.nativeElement);Xe&&Xe.length>0&&Xe[0].focus()},1),_e.preventDefault()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new p.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.left=0,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}}return q.\u0275fac=function(_e){return new(_e||q)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(s.b4),e.Y36(s.F0))},q.\u0275cmp=e.Xpm({type:q,selectors:[["p-slideMenu"]],viewQuery:function(_e,Xe){if(1&_e&&(e.Gf(de,5),e.Gf(te,5),e.Gf(ce,5)),2&_e){let ct;e.iGM(ct=e.CRH())&&(Xe.container=ct.first),e.iGM(ct=e.CRH())&&(Xe.backward=ct.first),e.iGM(ct=e.CRH())&&(Xe.slideMenuContent=ct.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],["tabindex","0",1,"p-slidemenu-backward","p-menuitem-link",3,"keydown.enter","keydown.space","click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(_e,Xe){1&_e&&e.YNc(0,Be,11,25,"div",0),2&_e&&e.Q6J("ngIf",!Xe.popup||Xe.visible)},dependencies:[u.mk,u.O5,u.PC,we],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute;top:0;left:0}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active),.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list{display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),q})(),X=(()=>{class q{}return q.\u0275fac=function(_e){return new(_e||q)},q.\u0275mod=e.oAB({type:q}),q.\u0275inj=e.cJS({imports:[u.ez,x.Bz,b.z,x.Bz,b.z]}),q})()},4776:(dn,pt,C)=>{"use strict";C.d(pt,{JH:()=>Y,iR:()=>P});var e=C(9808),d=C(5e3),u=C(2382),p=C(5730);const x=["sliderHandle"],R=["sliderHandleStart"],b=["sliderHandleEnd"],s=function(re,j){return{left:re,width:j}};function F(re,j){if(1&re&&d._UZ(0,"span",4),2&re){const G=d.oxw();d.Q6J("ngStyle",d.WLB(1,s,null!=G.offset?G.offset+"%":G.handleValues[0]+"%",G.diff?G.diff+"%":G.handleValues[1]-G.handleValues[0]+"%"))}}const O=function(re,j){return{bottom:re,height:j}};function Q(re,j){if(1&re&&d._UZ(0,"span",4),2&re){const G=d.oxw();d.Q6J("ngStyle",d.WLB(1,O,null!=G.offset?G.offset+"%":G.handleValues[0]+"%",G.diff?G.diff+"%":G.handleValues[1]-G.handleValues[0]+"%"))}}const N=function(re){return{height:re}};function T(re,j){if(1&re&&d._UZ(0,"span",4),2&re){const G=d.oxw();d.Q6J("ngStyle",d.VKq(1,N,G.handleValue+"%"))}}const y=function(re){return{width:re}};function w(re,j){if(1&re&&d._UZ(0,"span",4),2&re){const G=d.oxw();d.Q6J("ngStyle",d.VKq(1,y,G.handleValue+"%"))}}const k=function(re,j){return{left:re,bottom:j}};function V(re,j){if(1&re){const G=d.EpF();d.TgZ(0,"span",5,6),d.NdJ("keydown",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onHandleKeydown(Te))})("mousedown",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onMouseDown(Te))})("touchstart",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchStart(Te))})("touchmove",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchMove(Te))})("touchend",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchEnd(Te))}),d.qZA()}if(2&re){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(8,k,"horizontal"==G.orientation?G.handleValue+"%":null,"vertical"==G.orientation?G.handleValue+"%":null)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}const U=function(re){return{"p-slider-handle-active":re}};function oe(re,j){if(1&re){const G=d.EpF();d.TgZ(0,"span",7,8),d.NdJ("keydown",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onHandleKeydown(Te,0))})("mousedown",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onMouseDown(Te,0))})("touchstart",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchStart(Te,0))})("touchmove",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchMove(Te,0))})("touchend",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchEnd(Te))}),d.qZA()}if(2&re){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(9,k,G.rangeStartLeft,G.rangeStartBottom))("ngClass",d.VKq(12,U,0==G.handleIndex)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value?G.value[0]:null)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}function K(re,j){if(1&re){const G=d.EpF();d.TgZ(0,"span",7,9),d.NdJ("keydown",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onHandleKeydown(Te,1))})("mousedown",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onMouseDown(Te,1))})("touchstart",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchStart(Te,1))})("touchmove",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchMove(Te,1))})("touchend",function(Te){d.CHM(G);const Me=d.oxw();return d.KtG(Me.onTouchEnd(Te))}),d.qZA()}if(2&re){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(9,k,G.rangeEndLeft,G.rangeEndBottom))("ngClass",d.VKq(12,U,1==G.handleIndex)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value?G.value[1]:null)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}const H=function(re,j,G,ie){return{"p-slider p-component":!0,"p-disabled":re,"p-slider-horizontal":j,"p-slider-vertical":G,"p-slider-animate":ie}},D={provide:u.JU,useExisting:(0,d.Gpc)(()=>P),multi:!0};let P=(()=>{class re{constructor(G,ie,Te,Me){this.el=G,this.renderer=ie,this.ngZone=Te,this.cd=Me,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new d.vpe,this.onSlideEnd=new d.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(G,ie){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:ie,this.bindDragListeners(),G.target.focus(),G.preventDefault(),this.animate&&p.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(G,ie){if(!this.disabled){var Te=G.changedTouches[0];this.startHandleValue=this.range?this.handleValues[ie]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:ie,"horizontal"===this.orientation?(this.startx=parseInt(Te.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(Te.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&p.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),G.preventDefault()}}onTouchMove(G,ie){if(!this.disabled){var Me,Te=G.changedTouches[0];Me="horizontal"===this.orientation?Math.floor(100*(parseInt(Te.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(Te.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(G,Me),G.preventDefault()}}onTouchEnd(G,ie){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:G,values:this.values}:{originalEvent:G,value:this.value}),this.animate&&p.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),G.preventDefault())}onBarClick(G){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(G)),this.sliderHandleClick=!1)}onHandleKeydown(G,ie){this.disabled||(38==G.which||39==G.which?this.spin(G,1,ie):(37==G.which||40==G.which)&&this.spin(G,-1,ie))}spin(G,ie,Te){let Me=(this.step||1)*ie;this.range?(this.handleIndex=Te,this.updateValue(this.values[this.handleIndex]+Me),this.updateHandleValue()):(this.updateValue(this.value+Me),this.updateHandleValue()),G.preventDefault()}handleChange(G){let ie=this.calculateHandleValue(G);this.setValueFromHandle(G,ie)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const G=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(G,"mousemove",ie=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(ie)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(G,"mouseup",ie=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:ie,values:this.values}:{originalEvent:ie,value:this.value}),this.animate&&p.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(G,ie){this.sliderHandleClick=!1;let Te=this.getValueFromHandle(ie);this.range?this.step?this.handleStepChange(Te,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=ie,this.updateValue(Te,G)):this.step?this.handleStepChange(Te,this.value):(this.handleValue=ie,this.updateValue(Te,G)),this.cd.markForCheck()}handleStepChange(G,ie){let Te=G-ie,Me=ie;Te<0?Me=ie+Math.ceil(G/this.step-ie/this.step)*this.step:Te>0&&(Me=ie+Math.floor(G/this.step-ie/this.step)*this.step),this.updateValue(Me),this.updateHandleValue()}writeValue(G){this.range?this.values=G||[0,0]:this.value=G||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(G){this.onModelChange=G}registerOnTouched(G){this.onModelTouched=G}setDisabledState(G){this.disabled=G,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let G=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=G.left+p.p.getWindowScrollLeft(),this.initY=G.top+p.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(G){return"horizontal"===this.orientation?100*(G.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-G.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(G,ie){if(this.range){let Te=G;0==this.handleIndex?(Te<this.min?(Te=this.min,this.handleValues[0]=0):Te>this.values[1]&&Te>this.max&&(Te=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(Te>this.max?(Te=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):Te<this.min?(Te=this.min,this.handleValues[1]=0):Te<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(Te),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:ie,values:this.values})}else G<this.min?(G=this.min,this.handleValue=0):G>this.max&&(G=this.max,this.handleValue=100),this.value=this.getNormalizedValue(G),this.onModelChange(this.value),this.onChange.emit({event:ie,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(G){return G/100*(this.max-this.min)+this.min}getDecimalsCount(G){return G&&Math.floor(G)!==G&&G.toString().split(".")[1].length||0}getNormalizedValue(G){let ie=this.getDecimalsCount(this.step);return ie>0?+parseFloat(G.toString()).toFixed(ie):Math.floor(G)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return re.\u0275fac=function(G){return new(G||re)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(d.sBO))},re.\u0275cmp=d.Xpm({type:re,selectors:[["p-slider"]],viewQuery:function(G,ie){if(1&G&&(d.Gf(x,5),d.Gf(R,5),d.Gf(b,5)),2&G){let Te;d.iGM(Te=d.CRH())&&(ie.sliderHandle=Te.first),d.iGM(Te=d.CRH())&&(ie.sliderHandleStart=Te.first),d.iGM(Te=d.CRH())&&(ie.sliderHandleEnd=Te.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[d._Bn([D])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(G,ie){1&G&&(d.TgZ(0,"div",0),d.NdJ("click",function(Me){return ie.onBarClick(Me)}),d.YNc(1,F,1,4,"span",1),d.YNc(2,Q,1,4,"span",1),d.YNc(3,T,1,3,"span",1),d.YNc(4,w,1,3,"span",1),d.YNc(5,V,2,11,"span",2),d.YNc(6,oe,2,14,"span",3),d.YNc(7,K,2,14,"span",3),d.qZA()),2&G&&(d.Tol(ie.styleClass),d.Q6J("ngStyle",ie.style)("ngClass",d.l5B(11,H,ie.disabled,"horizontal"==ie.orientation,"vertical"==ie.orientation,ie.animate)),d.xp6(1),d.Q6J("ngIf",ie.range&&"horizontal"==ie.orientation),d.xp6(1),d.Q6J("ngIf",ie.range&&"vertical"==ie.orientation),d.xp6(1),d.Q6J("ngIf",!ie.range&&"vertical"==ie.orientation),d.xp6(1),d.Q6J("ngIf",!ie.range&&"horizontal"==ie.orientation),d.xp6(1),d.Q6J("ngIf",!ie.range),d.xp6(1),d.Q6J("ngIf",ie.range),d.xp6(1),d.Q6J("ngIf",ie.range))},dependencies:[e.mk,e.O5,e.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),re})(),Y=(()=>{class re{}return re.\u0275fac=function(G){return new(G||re)},re.\u0275mod=d.oAB({type:re}),re.\u0275inj=d.cJS({imports:[e.ez]}),re})()},9955:(dn,pt,C)=>{"use strict";C.d(pt,{l:()=>_e});var e=C(5e3),d=C(9808),u=C(845),p=C(3470),x=C(5787),R=C(4119);let ve=(()=>{class Xe{}return Xe.\u0275fac=function(ot){return new(ot||Xe)},Xe.\u0275mod=e.oAB({type:Xe}),Xe.\u0275inj=e.cJS({imports:[d.ez,p.Bz,x.T,R.z,p.Bz,R.z]}),Xe})(),_e=(()=>{class Xe{}return Xe.\u0275fac=function(ot){return new(ot||Xe)},Xe.\u0275mod=e.oAB({type:Xe}),Xe.\u0275inj=e.cJS({imports:[d.ez,u.hJ,ve,u.hJ,ve]}),Xe})()},8952:(dn,pt,C)=>{"use strict";C.d(pt,{YL:()=>Vs,xl:()=>_o,Wq:()=>vs,on:()=>os,jB:()=>rr,Ei:()=>Yi,fz:()=>zr,lQ:()=>Cs,iA:()=>Es,U$:()=>Pr});var e=C(1777),d=C(9808),u=C(5e3),p=C(2382),x=C(9783),R=C(845),b=C(5652),s=C(5730),F=C(4036),O=C(7010),Q=C(1424),N=C(4132),T=C(5871),y=C(7102);const w=function(St,hn,ne){return{"p-checkbox-label-active":St,"p-disabled":hn,"p-checkbox-label-focus":ne}};function k(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"label",7),u.NdJ("click",function(At){u.CHM(ne);const Ht=u.oxw(),kn=u.MAs(3);return u.KtG(Ht.onClick(At,kn))}),u._uU(1),u.qZA()}if(2&St){const ne=u.oxw();u.Q6J("ngClass",u.kEZ(3,w,null!=ne.value,ne.disabled,ne.focused)),u.uIk("for",ne.inputId),u.xp6(1),u.Oqu(ne.label)}}const V=function(St,hn){return{"p-checkbox p-component":!0,"p-checkbox-disabled":St,"p-checkbox-focused":hn}},U=function(St,hn,ne){return{"p-highlight":St,"p-disabled":hn,"p-focus":ne}},oe={provide:p.JU,useExisting:(0,u.Gpc)(()=>K),multi:!0};let K=(()=>{class St{constructor(ne){this.cd=ne,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(ne,Ue){!this.disabled&&!this.readonly&&(this.toggle(ne),this.focused=!0,Ue.focus())}onKeydown(ne){32==ne.keyCode&&ne.preventDefault()}onKeyup(ne){32==ne.keyCode&&!this.readonly&&(this.toggle(ne),ne.preventDefault())}toggle(ne){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:ne,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(ne){this.onModelChange=ne}registerOnTouched(ne){this.onModelTouched=ne}writeValue(ne){this.value=ne,this.cd.markForCheck()}setDisabledState(ne){this.disabled=ne,this.cd.markForCheck()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(u.sBO))},St.\u0275cmp=u.Xpm({type:St,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[u._Bn([oe])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(ne,Ue){if(1&ne){const At=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),u.NdJ("keyup",function(kn){return Ue.onKeyup(kn)})("keydown",function(kn){return Ue.onKeydown(kn)})("focus",function(){return Ue.onFocus()})("blur",function(){return Ue.onBlur()}),u.qZA()(),u.TgZ(4,"div",4),u.NdJ("click",function(kn){u.CHM(At);const En=u.MAs(3);return u.KtG(Ue.onClick(kn,En))}),u._UZ(5,"span",5),u.qZA()(),u.YNc(6,k,2,7,"label",6)}2&ne&&(u.Tol(Ue.styleClass),u.Q6J("ngStyle",Ue.style)("ngClass",u.WLB(14,V,Ue.disabled,Ue.focused)),u.xp6(2),u.Q6J("name",Ue.name)("readonly",Ue.readonly)("disabled",Ue.disabled),u.uIk("id",Ue.inputId)("tabindex",Ue.tabindex)("aria-labelledby",Ue.ariaLabelledBy),u.xp6(2),u.Q6J("ngClass",u.kEZ(17,U,null!=Ue.value,Ue.disabled,Ue.focused)),u.uIk("aria-checked",!0===Ue.value),u.xp6(1),u.Q6J("ngClass",!0===Ue.value?Ue.checkboxTrueIcon:!1===Ue.value?Ue.checkboxFalseIcon:""),u.xp6(1),u.Q6J("ngIf",Ue.label))},dependencies:[d.mk,d.O5,d.PC],encapsulation:2,changeDetection:0}),St})(),H=(()=>{class St{}return St.\u0275fac=function(ne){return new(ne||St)},St.\u0275mod=u.oAB({type:St}),St.\u0275inj=u.cJS({imports:[d.ez]}),St})();var D=C(5921),P=C(7579);const Y=["container"],re=["resizeHelper"],j=["reorderIndicatorUp"],G=["reorderIndicatorDown"],ie=["wrapper"],Te=["table"],Me=["thead"],de=["tfoot"],te=["scroller"];function ce(St,hn){if(1&St&&(u.TgZ(0,"div",15),u._UZ(1,"i"),u.qZA()),2&St){const ne=u.oxw();u.xp6(1),u.Tol("p-datatable-loading-icon pi-spin "+ne.loadingIcon)}}function J(St,hn){1&St&&u.GkF(0)}function ve(St,hn){if(1&St&&(u.TgZ(0,"div",16),u.YNc(1,J,1,0,"ng-container",17),u.qZA()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.captionTemplate)}}function be(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-paginator",18),u.NdJ("onPageChange",function(At){u.CHM(ne);const Ht=u.oxw();return u.KtG(Ht.onPageChange(At))}),u.qZA()}if(2&St){const ne=u.oxw();u.Q6J("rows",ne.rows)("first",ne.first)("totalRecords",ne.totalRecords)("pageLinkSize",ne.pageLinks)("alwaysShow",ne.alwaysShowPaginator)("rowsPerPageOptions",ne.rowsPerPageOptions)("templateLeft",ne.paginatorLeftTemplate)("templateRight",ne.paginatorRightTemplate)("dropdownAppendTo",ne.paginatorDropdownAppendTo)("dropdownScrollHeight",ne.paginatorDropdownScrollHeight)("currentPageReportTemplate",ne.currentPageReportTemplate)("showFirstLastIcon",ne.showFirstLastIcon)("dropdownItemTemplate",ne.paginatorDropdownItemTemplate)("showCurrentPageReport",ne.showCurrentPageReport)("showJumpToPageDropdown",ne.showJumpToPageDropdown)("showJumpToPageInput",ne.showJumpToPageInput)("showPageLinks",ne.showPageLinks)}}function Be(St,hn){1&St&&u.GkF(0)}const we=function(St,hn){return{$implicit:St,options:hn}};function ke(St,hn){if(1&St&&u.YNc(0,Be,1,0,"ng-container",22),2&St){const ne=hn.$implicit,Ue=hn.options;u.oxw(2);const At=u.MAs(10);u.Q6J("ngTemplateOutlet",At)("ngTemplateOutletContext",u.WLB(2,we,ne,Ue))}}const X=function(St){return{height:St}};function q(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-scroller",19,20),u.NdJ("onLazyLoad",function(At){u.CHM(ne);const Ht=u.oxw();return u.KtG(Ht.onLazyItemLoad(At))}),u.YNc(2,ke,1,5,"ng-template",21),u.qZA()}if(2&St){const ne=u.oxw();u.Akn(u.VKq(14,X,"flex"!==ne.scrollHeight?ne.scrollHeight:void 0)),u.Q6J("items",ne.processedData)("columns",ne.columns)("scrollHeight","flex"!==ne.scrollHeight?void 0:"100%")("itemSize",ne.virtualScrollItemSize||ne._virtualRowHeight)("step",ne.rows)("delay",ne.lazy?ne.virtualScrollDelay:0)("inline",!0)("lazy",ne.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",ne.loadingBodyTemplate)("options",ne.virtualScrollOptions)}}function pe(St,hn){1&St&&u.GkF(0)}const _e=function(St){return{columns:St}};function Xe(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,pe,1,0,"ng-container",22),u.BQk()),2&St){const ne=u.oxw(),Ue=u.MAs(10);u.xp6(1),u.Q6J("ngTemplateOutlet",Ue)("ngTemplateOutletContext",u.WLB(4,we,ne.processedData,u.VKq(2,_e,ne.columns)))}}function ct(St,hn){1&St&&u.GkF(0)}function ot(St,hn){1&St&&u.GkF(0)}function Zt(St,hn){if(1&St&&u._UZ(0,"tbody",31),2&St){const ne=u.oxw().options,Ue=u.oxw();u.Q6J("value",Ue.frozenValue)("frozenRows",!0)("pTableBody",ne.columns)("pTableBodyTemplate",Ue.frozenBodyTemplate)("frozen",!0)}}function Dt(St,hn){if(1&St&&u._UZ(0,"tbody",32),2&St){const ne=u.oxw().options;u.Akn("height: calc("+ne.spacerStyle.height+" - "+ne.rows.length*ne.itemSize+"px);")}}function Cn(St,hn){1&St&&u.GkF(0)}const Xt=function(St){return{$implicit:St}};function jt(St,hn){if(1&St&&(u.TgZ(0,"tfoot",33,34),u.YNc(2,Cn,1,0,"ng-container",22),u.qZA()),2&St){const ne=u.oxw().options,Ue=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",Ue.footerGroupedTemplate||Ue.footerTemplate)("ngTemplateOutletContext",u.VKq(2,Xt,ne.columns))}}const ht=function(St,hn,ne){return{"p-datatable-table":!0,"p-datatable-scrollable-table":St,"p-datatable-resizable-table":hn,"p-datatable-resizable-table-fit":ne}};function ut(St,hn){if(1&St&&(u.TgZ(0,"table",23,24),u.YNc(2,ct,1,0,"ng-container",22),u.TgZ(3,"thead",25,26),u.YNc(5,ot,1,0,"ng-container",22),u.qZA(),u.YNc(6,Zt,1,5,"tbody",27),u._UZ(7,"tbody",28),u.YNc(8,Dt,1,2,"tbody",29),u.YNc(9,jt,3,4,"tfoot",30),u.qZA()),2&St){const ne=hn.options,Ue=u.oxw();u.Akn(Ue.tableStyle),u.Tol(Ue.tableStyleClass),u.Q6J("ngClass",u.kEZ(20,ht,Ue.scrollable,Ue.resizableColumns,Ue.resizableColumns&&"fit"===Ue.columnResizeMode)),u.uIk("id",Ue.id+"-table"),u.xp6(2),u.Q6J("ngTemplateOutlet",Ue.colGroupTemplate)("ngTemplateOutletContext",u.VKq(24,Xt,ne.columns)),u.xp6(3),u.Q6J("ngTemplateOutlet",Ue.headerGroupedTemplate||Ue.headerTemplate)("ngTemplateOutletContext",u.VKq(26,Xt,ne.columns)),u.xp6(1),u.Q6J("ngIf",Ue.frozenValue||Ue.frozenBodyTemplate),u.xp6(1),u.Akn(ne.contentStyle),u.Q6J("ngClass",ne.contentStyleClass)("value",Ue.dataToRender(ne.rows))("pTableBody",ne.columns)("pTableBodyTemplate",Ue.bodyTemplate)("scrollerOptions",ne),u.xp6(1),u.Q6J("ngIf",ne.spacerStyle),u.xp6(1),u.Q6J("ngIf",Ue.footerGroupedTemplate||Ue.footerTemplate)}}function xe(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-paginator",35),u.NdJ("onPageChange",function(At){u.CHM(ne);const Ht=u.oxw();return u.KtG(Ht.onPageChange(At))}),u.qZA()}if(2&St){const ne=u.oxw();u.Q6J("rows",ne.rows)("first",ne.first)("totalRecords",ne.totalRecords)("pageLinkSize",ne.pageLinks)("alwaysShow",ne.alwaysShowPaginator)("rowsPerPageOptions",ne.rowsPerPageOptions)("templateLeft",ne.paginatorLeftTemplate)("templateRight",ne.paginatorRightTemplate)("dropdownAppendTo",ne.paginatorDropdownAppendTo)("dropdownScrollHeight",ne.paginatorDropdownScrollHeight)("currentPageReportTemplate",ne.currentPageReportTemplate)("showFirstLastIcon",ne.showFirstLastIcon)("dropdownItemTemplate",ne.paginatorDropdownItemTemplate)("showCurrentPageReport",ne.showCurrentPageReport)("showJumpToPageDropdown",ne.showJumpToPageDropdown)("showJumpToPageInput",ne.showJumpToPageInput)("showPageLinks",ne.showPageLinks)}}function De(St,hn){1&St&&u.GkF(0)}function We(St,hn){if(1&St&&(u.TgZ(0,"div",36),u.YNc(1,De,1,0,"ng-container",17),u.qZA()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.summaryTemplate)}}function gt(St,hn){1&St&&u._UZ(0,"div",37,38)}function Tt(St,hn){1&St&&u._UZ(0,"span",39,40)}function Ft(St,hn){1&St&&u._UZ(0,"span",41,42)}const Ot=function(St,hn,ne){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":St,"p-datatable-scrollable":hn,"p-datatable-flex-scrollable":ne}},Oe=function(St){return{maxHeight:St}},et=["pTableBody",""];function Ne(St,hn){1&St&&u.GkF(0)}const yt=function(St,hn,ne,Ue,At){return{$implicit:St,rowIndex:hn,columns:ne,editing:Ue,frozen:At}};function ee(St,hn){if(1&St&&(u.ynx(0,3),u.YNc(1,Ne,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.dt.groupHeaderTemplate)("ngTemplateOutletContext",u.qbA(2,yt,Ue,Ht.getRowIndex(At),Ht.columns,"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen))}}function Ze(St,hn){1&St&&u.GkF(0)}function Ce(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Ze,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ue?Ht.template:Ht.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.qbA(2,yt,Ue,Ht.getRowIndex(At),Ht.columns,"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen))}}function ft(St,hn){1&St&&u.GkF(0)}const an=function(St,hn,ne,Ue,At,Ht,kn){return{$implicit:St,rowIndex:hn,columns:ne,editing:Ue,frozen:At,rowgroup:Ht,rowspan:kn}};function Tn(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,ft,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ue?Ht.template:Ht.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.Hh0(2,an,Ue,Ht.getRowIndex(At),Ht.columns,"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen,Ht.shouldRenderRowspan(Ht.value,Ue,At),Ht.calculateRowGroupSize(Ht.value,Ue,At)))}}function qt(St,hn){1&St&&u.GkF(0)}function xt(St,hn){if(1&St&&(u.ynx(0,3),u.YNc(1,qt,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.dt.groupFooterTemplate)("ngTemplateOutletContext",u.qbA(2,yt,Ue,Ht.getRowIndex(At),Ht.columns,"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen))}}function Ct(St,hn){if(1&St&&(u.YNc(0,ee,2,8,"ng-container",2),u.YNc(1,Ce,2,8,"ng-container",0),u.YNc(2,Tn,2,10,"ng-container",0),u.YNc(3,xt,2,8,"ng-container",2)),2&St){const ne=hn.$implicit,Ue=hn.index,At=u.oxw(2);u.Q6J("ngIf",At.dt.groupHeaderTemplate&&!At.dt.virtualScroll&&"subheader"===At.dt.rowGroupMode&&At.shouldRenderRowGroupHeader(At.value,ne,Ue)),u.xp6(1),u.Q6J("ngIf","rowspan"!==At.dt.rowGroupMode),u.xp6(1),u.Q6J("ngIf","rowspan"===At.dt.rowGroupMode),u.xp6(1),u.Q6J("ngIf",At.dt.groupFooterTemplate&&!At.dt.virtualScroll&&"subheader"===At.dt.rowGroupMode&&At.shouldRenderRowGroupFooter(At.value,ne,Ue))}}function me(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Ct,4,4,"ng-template",1),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngForOf",ne.value)("ngForTrackBy",ne.dt.rowTrackBy)}}function lt(St,hn){1&St&&u.GkF(0)}const $e=function(St,hn,ne,Ue,At,Ht){return{$implicit:St,rowIndex:hn,columns:ne,expanded:Ue,editing:At,frozen:Ht}};function Lt(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,lt,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.template)("ngTemplateOutletContext",u.HTZ(2,$e,Ue,Ht.getRowIndex(At),Ht.columns,Ht.dt.isRowExpanded(Ue),"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen))}}function je(St,hn){1&St&&u.GkF(0)}function sn(St,hn){if(1&St&&(u.ynx(0,3),u.YNc(1,je,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.dt.groupHeaderTemplate)("ngTemplateOutletContext",u.HTZ(2,$e,Ue,Ht.getRowIndex(At),Ht.columns,Ht.dt.isRowExpanded(Ue),"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen))}}function fn(St,hn){1&St&&u.GkF(0)}function Gt(St,hn){1&St&&u.GkF(0)}function On(St,hn){if(1&St&&(u.ynx(0,3),u.YNc(1,Gt,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(2),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.dt.groupFooterTemplate)("ngTemplateOutletContext",u.HTZ(2,$e,Ue,Ht.getRowIndex(At),Ht.columns,Ht.dt.isRowExpanded(Ue),"row"===Ht.dt.editMode&&Ht.dt.isRowEditing(Ue),Ht.frozen))}}const Bt=function(St,hn,ne,Ue){return{$implicit:St,rowIndex:hn,columns:ne,frozen:Ue}};function rn(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,fn,1,0,"ng-container",4),u.YNc(2,On,2,9,"ng-container",2),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.dt.expandedRowTemplate)("ngTemplateOutletContext",u.l5B(3,Bt,Ue,Ht.getRowIndex(At),Ht.columns,Ht.frozen)),u.xp6(1),u.Q6J("ngIf",Ht.dt.groupFooterTemplate&&"subheader"===Ht.dt.rowGroupMode&&Ht.shouldRenderRowGroupFooter(Ht.value,Ue,Ht.getRowIndex(At)))}}function Hn(St,hn){if(1&St&&(u.YNc(0,Lt,2,9,"ng-container",0),u.YNc(1,sn,2,9,"ng-container",2),u.YNc(2,rn,3,8,"ng-container",0)),2&St){const ne=hn.$implicit,Ue=hn.index,At=u.oxw(2);u.Q6J("ngIf",!At.dt.groupHeaderTemplate),u.xp6(1),u.Q6J("ngIf",At.dt.groupHeaderTemplate&&"subheader"===At.dt.rowGroupMode&&At.shouldRenderRowGroupHeader(At.value,ne,At.getRowIndex(Ue))),u.xp6(1),u.Q6J("ngIf",At.dt.isRowExpanded(ne))}}function zn(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Hn,3,3,"ng-template",1),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngForOf",ne.value)("ngForTrackBy",ne.dt.rowTrackBy)}}function ri(St,hn){1&St&&u.GkF(0)}function Ci(St,hn){1&St&&u.GkF(0)}function Qi(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Ci,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw(),Ue=ne.$implicit,At=ne.index,Ht=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Ht.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",u.l5B(2,Bt,Ue,Ht.getRowIndex(At),Ht.columns,Ht.frozen))}}function oo(St,hn){if(1&St&&(u.YNc(0,ri,1,0,"ng-container",4),u.YNc(1,Qi,2,7,"ng-container",0)),2&St){const ne=hn.$implicit,Ue=hn.index,At=u.oxw(2);u.Q6J("ngTemplateOutlet",At.template)("ngTemplateOutletContext",u.HTZ(3,$e,ne,At.getRowIndex(Ue),At.columns,At.dt.isRowExpanded(ne),"row"===At.dt.editMode&&At.dt.isRowEditing(ne),At.frozen)),u.xp6(1),u.Q6J("ngIf",At.dt.isRowExpanded(ne))}}function $o(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,oo,2,10,"ng-template",1),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngForOf",ne.value)("ngForTrackBy",ne.dt.rowTrackBy)}}function Vt(St,hn){1&St&&u.GkF(0)}const Ye=function(St,hn){return{$implicit:St,frozen:hn}};function Ee(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Vt,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.WLB(2,Ye,ne.columns,ne.frozen))}}function Qe(St,hn){1&St&&u.GkF(0)}function dt(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Qe,1,0,"ng-container",4),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.dt.emptyMessageTemplate)("ngTemplateOutletContext",u.WLB(2,Ye,ne.columns,ne.frozen))}}function gn(St,hn){if(1&St&&(u.TgZ(0,"span",2),u._uU(1),u.qZA()),2&St){const ne=u.oxw();u.xp6(1),u.Oqu(ne.getBadgeValue())}}const xn=function(St,hn,ne){return{"pi-sort-amount-up-alt":St,"pi-sort-amount-down":hn,"pi-sort-alt":ne}};function yn(St,hn){1&St&&u.GkF(0)}function Zn(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,yn,1,0,"ng-container",1),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.inputTemplate)}}function $n(St,hn){1&St&&u.GkF(0)}function ti(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,$n,1,0,"ng-container",1),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.outputTemplate)}}const ai=["icon"];function Gi(St,hn){if(1&St&&u._UZ(0,"p-columnFilterFormElement",5),2&St){const ne=u.oxw();u.Q6J("type",ne.type)("field",ne.field)("filterConstraint",ne.dt.filters[ne.field])("filterTemplate",ne.filterTemplate)("placeholder",ne.placeholder)("minFractionDigits",ne.minFractionDigits)("maxFractionDigits",ne.maxFractionDigits)("prefix",ne.prefix)("suffix",ne.suffix)("locale",ne.locale)("localeMatcher",ne.localeMatcher)("currency",ne.currency)("currencyDisplay",ne.currencyDisplay)("useGrouping",ne.useGrouping)("showButtons",ne.showButtons)}}const Eo=function(St,hn){return{"p-column-filter-menu-button-open":St,"p-column-filter-menu-button-active":hn}};function Yo(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"button",6,7),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw();return u.KtG(At.toggleMenu())})("keydown",function(At){u.CHM(ne);const Ht=u.oxw();return u.KtG(Ht.onToggleButtonKeyDown(At))}),u._UZ(2,"span",8),u.qZA()}if(2&St){const ne=u.oxw();u.Q6J("ngClass",u.WLB(2,Eo,ne.overlayVisible,ne.hasFilter())),u.uIk("aria-expanded",ne.overlayVisible)}}const Co=function(St){return{"p-hidden-space":St}};function $i(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"button",9,7),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw();return u.KtG(At.clearFilter())}),u._UZ(2,"span",10),u.qZA()}if(2&St){const ne=u.oxw();u.Q6J("ngClass",u.VKq(1,Co,!ne.hasRowFilter()))}}function is(St,hn){1&St&&u.GkF(0)}const us=function(St){return{"p-highlight":St}};function _s(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"li",19),u.NdJ("click",function(){const Ht=u.CHM(ne).$implicit,kn=u.oxw(3);return u.KtG(kn.onRowMatchModeChange(Ht.value))})("keydown",function(At){u.CHM(ne);const Ht=u.oxw(3);return u.KtG(Ht.onRowMatchModeKeyDown(At))})("keydown.enter",function(){const Ht=u.CHM(ne).$implicit,kn=u.oxw(3);return u.KtG(kn.onRowMatchModeChange(Ht.value))}),u._uU(1),u.qZA()}if(2&St){const ne=hn.$implicit,Ue=hn.index,At=u.oxw(3);u.Q6J("ngClass",u.VKq(3,us,At.isRowMatchModeSelected(ne.value))),u.uIk("tabindex",0===Ue?"0":null),u.xp6(1),u.hij(" ",ne.label," ")}}function fo(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"ul",15),u.YNc(1,_s,2,5,"li",16),u._UZ(2,"li",17),u.TgZ(3,"li",18),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw(2);return u.KtG(At.onRowClearItemClick())})("keydown",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onRowMatchModeKeyDown(At))})("keydown.enter",function(){u.CHM(ne);const At=u.oxw(2);return u.KtG(At.onRowClearItemClick())}),u._uU(4),u.qZA()()}if(2&St){const ne=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",ne.matchModes),u.xp6(3),u.Oqu(ne.noFilterLabel)}}function Oo(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"div",27)(1,"p-dropdown",28),u.NdJ("ngModelChange",function(At){u.CHM(ne);const Ht=u.oxw(3);return u.KtG(Ht.onOperatorChange(At))}),u.qZA()()}if(2&St){const ne=u.oxw(3);u.xp6(1),u.Q6J("options",ne.operatorOptions)("ngModel",ne.operator)}}function Ti(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-dropdown",33),u.NdJ("ngModelChange",function(At){u.CHM(ne);const Ht=u.oxw().$implicit,kn=u.oxw(3);return u.KtG(kn.onMenuMatchModeChange(At,Ht))}),u.qZA()}if(2&St){const ne=u.oxw().$implicit,Ue=u.oxw(3);u.Q6J("options",Ue.matchModes)("ngModel",ne.matchMode)}}function Ks(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"button",34),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw().$implicit,Ht=u.oxw(3);return u.KtG(Ht.removeConstraint(At))}),u.qZA()}if(2&St){const ne=u.oxw(4);u.Q6J("label",ne.removeRuleButtonLabel)}}function ds(St,hn){if(1&St&&(u.TgZ(0,"div",29),u.YNc(1,Ti,1,2,"p-dropdown",30),u._UZ(2,"p-columnFilterFormElement",31),u.TgZ(3,"div"),u.YNc(4,Ks,1,1,"button",32),u.qZA()()),2&St){const ne=hn.$implicit,Ue=u.oxw(3);u.xp6(1),u.Q6J("ngIf",Ue.showMatchModes&&Ue.matchModes),u.xp6(1),u.Q6J("type",Ue.type)("field",Ue.field)("filterConstraint",ne)("filterTemplate",Ue.filterTemplate)("placeholder",Ue.placeholder)("minFractionDigits",Ue.minFractionDigits)("maxFractionDigits",Ue.maxFractionDigits)("prefix",Ue.prefix)("suffix",Ue.suffix)("locale",Ue.locale)("localeMatcher",Ue.localeMatcher)("currency",Ue.currency)("currencyDisplay",Ue.currencyDisplay)("useGrouping",Ue.useGrouping),u.xp6(2),u.Q6J("ngIf",Ue.showRemoveIcon)}}function mo(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"div",35)(1,"button",36),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw(3);return u.KtG(At.addConstraint())}),u.qZA()()}if(2&St){const ne=u.oxw(3);u.xp6(1),u.Q6J("label",ne.addRuleButtonLabel)}}function qo(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"button",37),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw(3);return u.KtG(At.clearFilter())}),u.qZA()}if(2&St){const ne=u.oxw(3);u.Q6J("label",ne.clearButtonLabel)}}function As(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw(3);return u.KtG(At.applyFilter())}),u.qZA()}if(2&St){const ne=u.oxw(3);u.Q6J("label",ne.applyButtonLabel)}}function Ls(St,hn){if(1&St&&(u.YNc(0,Oo,2,2,"div",20),u.TgZ(1,"div",21),u.YNc(2,ds,5,16,"div",22),u.qZA(),u.YNc(3,mo,2,1,"div",23),u.TgZ(4,"div",24),u.YNc(5,qo,1,1,"button",25),u.YNc(6,As,1,1,"button",26),u.qZA()),2&St){const ne=u.oxw(2);u.Q6J("ngIf",ne.isShowOperator),u.xp6(2),u.Q6J("ngForOf",ne.fieldConstraints),u.xp6(1),u.Q6J("ngIf",ne.isShowAddConstraint),u.xp6(2),u.Q6J("ngIf",ne.showClearButton),u.xp6(1),u.Q6J("ngIf",ne.showApplyButton)}}function Hs(St,hn){1&St&&u.GkF(0)}const ps=function(St){return{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":St}};function Dr(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"div",11),u.NdJ("click",function(){u.CHM(ne);const At=u.oxw();return u.KtG(At.onContentClick())})("@overlayAnimation.start",function(At){u.CHM(ne);const Ht=u.oxw();return u.KtG(Ht.onOverlayAnimationStart(At))})("@overlayAnimation.done",function(At){u.CHM(ne);const Ht=u.oxw();return u.KtG(Ht.onOverlayAnimationEnd(At))})("keydown.escape",function(){u.CHM(ne);const At=u.oxw();return u.KtG(At.onEscape())}),u.YNc(1,is,1,0,"ng-container",12),u.YNc(2,fo,5,2,"ul",13),u.YNc(3,Ls,7,5,"ng-template",null,14,u.W1O),u.YNc(5,Hs,1,0,"ng-container",12),u.qZA()}if(2&St){const ne=u.MAs(4),Ue=u.oxw();u.Q6J("ngClass",u.VKq(8,ps,"menu"===Ue.display))("@overlayAnimation","visible"),u.xp6(1),u.Q6J("ngTemplateOutlet",Ue.headerTemplate)("ngTemplateOutletContext",u.VKq(10,Xt,Ue.field)),u.xp6(1),u.Q6J("ngIf","row"===Ue.display)("ngIfElse",ne),u.xp6(3),u.Q6J("ngTemplateOutlet",Ue.footerTemplate)("ngTemplateOutletContext",u.VKq(12,Xt,Ue.field))}}const Da=function(St,hn){return{"p-column-filter-row":St,"p-column-filter-menu":hn}};function Hr(St,hn){1&St&&u.GkF(0)}const hr=function(St,hn){return{$implicit:St,filterCallback:hn}};function Po(St,hn){if(1&St&&(u.ynx(0),u.YNc(1,Hr,1,0,"ng-container",2),u.BQk()),2&St){const ne=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ne.filterTemplate)("ngTemplateOutletContext",u.WLB(2,hr,ne.filterConstraint.value,ne.filterCallback))}}function Ri(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"input",8),u.NdJ("input",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onModelChange(At.target.value))})("keydown.enter",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onTextInputEnterKeyDown(At))}),u.qZA()}if(2&St){const ne=u.oxw(2);u.Q6J("value",null==ne.filterConstraint?null:ne.filterConstraint.value),u.uIk("placeholder",ne.placeholder)}}function No(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-inputNumber",9),u.NdJ("ngModelChange",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onModelChange(At))})("onKeyDown",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onNumericInputKeyDown(At))}),u.qZA()}if(2&St){const ne=u.oxw(2);u.Q6J("ngModel",null==ne.filterConstraint?null:ne.filterConstraint.value)("showButtons",ne.showButtons)("minFractionDigits",ne.minFractionDigits)("maxFractionDigits",ne.maxFractionDigits)("prefix",ne.prefix)("suffix",ne.suffix)("placeholder",ne.placeholder)("mode",ne.currency?"currency":"decimal")("locale",ne.locale)("localeMatcher",ne.localeMatcher)("currency",ne.currency)("currencyDisplay",ne.currencyDisplay)("useGrouping",ne.useGrouping)}}function Li(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-triStateCheckbox",10),u.NdJ("ngModelChange",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onModelChange(At))}),u.qZA()}if(2&St){const ne=u.oxw(2);u.Q6J("ngModel",null==ne.filterConstraint?null:ne.filterConstraint.value)}}function Rs(St,hn){if(1&St){const ne=u.EpF();u.TgZ(0,"p-calendar",11),u.NdJ("ngModelChange",function(At){u.CHM(ne);const Ht=u.oxw(2);return u.KtG(Ht.onModelChange(At))}),u.qZA()}if(2&St){const ne=u.oxw(2);u.Q6J("placeholder",ne.placeholder)("ngModel",null==ne.filterConstraint?null:ne.filterConstraint.value)}}function Vr(St,hn){if(1&St&&(u.ynx(0,3),u.YNc(1,Ri,1,2,"input",4),u.YNc(2,No,1,13,"p-inputNumber",5),u.YNc(3,Li,1,1,"p-triStateCheckbox",6),u.YNc(4,Rs,1,2,"p-calendar",7),u.BQk()),2&St){const ne=u.oxw();u.Q6J("ngSwitch",ne.type),u.xp6(1),u.Q6J("ngSwitchCase","text"),u.xp6(1),u.Q6J("ngSwitchCase","numeric"),u.xp6(1),u.Q6J("ngSwitchCase","boolean"),u.xp6(1),u.Q6J("ngSwitchCase","date")}}let ws=(()=>{class St{constructor(){this.sortSource=new P.x,this.selectionSource=new P.x,this.contextMenuSource=new P.x,this.valueSource=new P.x,this.totalRecordsSource=new P.x,this.columnsSource=new P.x,this.resetSource=new P.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(ne){this.sortSource.next(ne)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(ne){this.contextMenuSource.next(ne)}onValueChange(ne){this.valueSource.next(ne)}onTotalRecordsChange(ne){this.totalRecordsSource.next(ne)}onColumnsChange(ne){this.columnsSource.next(ne)}}return St.\u0275fac=function(ne){return new(ne||St)},St.\u0275prov=u.Yz7({token:St,factory:St.\u0275fac}),St})(),Es=(()=>{class St{constructor(ne,Ue,At,Ht,kn,En){this.el=ne,this.zone=Ue,this.tableService=At,this.cd=Ht,this.filterService=kn,this.overlayService=En,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new u.vpe,this.selectionChange=new u.vpe,this.contextMenuSelectionChange=new u.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(pi,Zi)=>Zi,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new u.vpe,this.onRowUnselect=new u.vpe,this.onPage=new u.vpe,this.onSort=new u.vpe,this.onFilter=new u.vpe,this.onLazyLoad=new u.vpe,this.onRowExpand=new u.vpe,this.onRowCollapse=new u.vpe,this.onContextMenuSelect=new u.vpe,this.onColResize=new u.vpe,this.onColReorder=new u.vpe,this.onRowReorder=new u.vpe,this.onEditInit=new u.vpe,this.onEditComplete=new u.vpe,this.onEditCancel=new u.vpe,this.onHeaderCheckboxToggle=new u.vpe,this.sortFunction=new u.vpe,this.firstChange=new u.vpe,this.rowsChange=new u.vpe,this.onStateSave=new u.vpe,this.onStateRestore=new u.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,D.Th)()}get responsive(){return this._responsive}set responsive(ne){this._responsive=ne,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(ne){this._virtualRowHeight=ne,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ne=>{switch(ne.getType()){case"caption":this.captionTemplate=ne.template;break;case"header":this.headerTemplate=ne.template;break;case"headergrouped":this.headerGroupedTemplate=ne.template;break;case"body":this.bodyTemplate=ne.template;break;case"loadingbody":this.loadingBodyTemplate=ne.template;break;case"footer":this.footerTemplate=ne.template;break;case"footergrouped":this.footerGroupedTemplate=ne.template;break;case"summary":this.summaryTemplate=ne.template;break;case"colgroup":this.colGroupTemplate=ne.template;break;case"rowexpansion":this.expandedRowTemplate=ne.template;break;case"groupheader":this.groupHeaderTemplate=ne.template;break;case"rowspan":this.rowspanTemplate=ne.template;break;case"groupfooter":this.groupFooterTemplate=ne.template;break;case"frozenrows":this.frozenRowsTemplate=ne.template;break;case"frozenheader":this.frozenHeaderTemplate=ne.template;break;case"frozenbody":this.frozenBodyTemplate=ne.template;break;case"frozenfooter":this.frozenFooterTemplate=ne.template;break;case"frozencolgroup":this.frozenColGroupTemplate=ne.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=ne.template;break;case"emptymessage":this.emptyMessageTemplate=ne.template;break;case"paginatorleft":this.paginatorLeftTemplate=ne.template;break;case"paginatorright":this.paginatorRightTemplate=ne.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=ne.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(ne){ne.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=ne.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(ne.value.currentValue)),ne.columns&&(this._columns=ne.columns.currentValue,this.tableService.onColumnsChange(ne.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),ne.sortField&&(this._sortField=ne.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),ne.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),ne.sortOrder&&(this._sortOrder=ne.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),ne.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),ne.multiSortMeta&&(this._multiSortMeta=ne.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),ne.selection&&(this._selection=ne.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),ne.selectAll&&(this._selectAll=ne.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(ne){this._value=ne}get columns(){return this._columns}set columns(ne){this._columns=ne}get first(){return this._first}set first(ne){this._first=ne}get rows(){return this._rows}set rows(ne){this._rows=ne}get totalRecords(){return this._totalRecords}set totalRecords(ne){this._totalRecords=ne,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(ne){this._sortField=ne}get sortOrder(){return this._sortOrder}set sortOrder(ne){this._sortOrder=ne}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(ne){this._multiSortMeta=ne}get selection(){return this._selection}set selection(ne){this._selection=ne}get selectAll(){return this._selection}set selectAll(ne){this._selection=ne}get processedData(){return this.filteredValue||this.value||[]}dataToRender(ne){const Ue=ne||this.processedData;if(Ue&&this.paginator){const At=this.lazy?0:this.first;return Ue.slice(At,At+this.rows)}return Ue}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let ne of this._selection)this.selectionKeys[String(D.gb.resolveFieldData(ne,this.dataKey))]=1;else this.selectionKeys[String(D.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(ne){this.first=ne.first,this.rows=ne.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(ne){let Ue=ne.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===ne.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=ne.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let At=Ue.metaKey||Ue.ctrlKey,Ht=this.getSortMeta(ne.field);Ht?At?Ht.order=-1*Ht.order:(this._multiSortMeta=[{field:ne.field,order:-1*Ht.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!At||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:ne.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let ne=this.sortField||this.groupRowsBy,Ue=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(ne&&Ue){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:ne,order:Ue}):(this.value.sort((Ht,kn)=>{let En=D.gb.resolveFieldData(Ht,ne),pi=D.gb.resolveFieldData(kn,ne),Zi=null;return Zi=null==En&&null!=pi?-1:null!=En&&null==pi?1:null==En&&null==pi?0:"string"==typeof En&&"string"==typeof pi?En.localeCompare(pi):En<pi?-1:En>pi?1:0,Ue*Zi}),this._value=[...this.value]),this.hasFilter()&&this._filter());let At={field:ne,order:Ue};this.onSort.emit(At),this.tableService.onSort(At)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((ne,Ue)=>this.multisortField(ne,Ue,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(ne,Ue,At,Ht){const kn=D.gb.resolveFieldData(ne,At[Ht].field),En=D.gb.resolveFieldData(Ue,At[Ht].field);return 0===D.gb.compare(kn,En,this.filterLocale)?At.length-1>Ht?this.multisortField(ne,Ue,At,Ht+1):0:this.compareValuesOnSort(kn,En,At[Ht].order)}compareValuesOnSort(ne,Ue,At){return D.gb.sort(ne,Ue,At,this.filterLocale,this.sortOrder)}getSortMeta(ne){if(this.multiSortMeta&&this.multiSortMeta.length)for(let Ue=0;Ue<this.multiSortMeta.length;Ue++)if(this.multiSortMeta[Ue].field===ne)return this.multiSortMeta[Ue];return null}isSorted(ne){if("single"===this.sortMode)return this.sortField&&this.sortField===ne;if("multiple"===this.sortMode){let Ue=!1;if(this.multiSortMeta)for(let At=0;At<this.multiSortMeta.length;At++)if(this.multiSortMeta[At].field==ne){Ue=!0;break}return Ue}}handleRowClick(ne){let Ue=ne.originalEvent.target,At=Ue.nodeName,Ht=Ue.parentElement&&Ue.parentElement.nodeName;if("INPUT"!=At&&"BUTTON"!=At&&"A"!=At&&"INPUT"!=Ht&&"BUTTON"!=Ht&&"A"!=Ht&&!s.p.hasClass(ne.originalEvent.target,"p-clickable")){if(this.selectionMode){let kn=ne.rowData,En=ne.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&ne.originalEvent.shiftKey&&null!=this.anchorRowIndex)s.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(ne.originalEvent),this.rangeRowIndex=En,this.selectRange(ne.originalEvent,En);else{let pi=this.isSelected(kn);if(!pi&&!this.isRowSelectable(kn,En))return;let Zi=!this.rowTouched&&this.metaKeySelection,Ni=this.dataKey?String(D.gb.resolveFieldData(kn,this.dataKey)):null;if(this.anchorRowIndex=En,this.rangeRowIndex=En,Zi){let ki=ne.originalEvent.metaKey||ne.originalEvent.ctrlKey;if(pi&&ki){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let Is=this.findIndexInSelection(kn);this._selection=this.selection.filter((zs,Qr)=>Qr!=Is),this.selectionChange.emit(this.selection),Ni&&delete this.selectionKeys[Ni]}this.onRowUnselect.emit({originalEvent:ne.originalEvent,data:kn,type:"row"})}else this.isSingleSelectionMode()?(this._selection=kn,this.selectionChange.emit(kn),Ni&&(this.selectionKeys={},this.selectionKeys[Ni]=1)):this.isMultipleSelectionMode()&&(ki?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,kn],this.selectionChange.emit(this.selection),Ni&&(this.selectionKeys[Ni]=1)),this.onRowSelect.emit({originalEvent:ne.originalEvent,data:kn,type:"row",index:En})}else if("single"===this.selectionMode)pi?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ne.originalEvent,data:kn,type:"row",index:En})):(this._selection=kn,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ne.originalEvent,data:kn,type:"row",index:En}),Ni&&(this.selectionKeys={},this.selectionKeys[Ni]=1));else if("multiple"===this.selectionMode)if(pi){let ki=this.findIndexInSelection(kn);this._selection=this.selection.filter((Is,zs)=>zs!=ki),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ne.originalEvent,data:kn,type:"row",index:En}),Ni&&delete this.selectionKeys[Ni]}else this._selection=this.selection?[...this.selection,kn]:[kn],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ne.originalEvent,data:kn,type:"row",index:En}),Ni&&(this.selectionKeys[Ni]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(ne){this.rowTouched=!0}handleRowRightClick(ne){if(this.contextMenu){const Ue=ne.rowData,At=ne.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=Ue,this.contextMenuSelectionChange.emit(Ue),this.onContextMenuSelect.emit({originalEvent:ne.originalEvent,data:Ue,index:ne.rowIndex}),this.contextMenu.show(ne.originalEvent),this.tableService.onContextMenu(Ue);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let Ht=this.isSelected(Ue),kn=this.dataKey?String(D.gb.resolveFieldData(Ue,this.dataKey)):null;if(!Ht){if(!this.isRowSelectable(Ue,At))return;this.isSingleSelectionMode()?(this.selection=Ue,this.selectionChange.emit(Ue),kn&&(this.selectionKeys={},this.selectionKeys[kn]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,Ue]:[Ue],this.selectionChange.emit(this.selection),kn&&(this.selectionKeys[kn]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(ne.originalEvent),this.onContextMenuSelect.emit({originalEvent:ne,data:Ue,index:ne.rowIndex})}}}selectRange(ne,Ue){let At,Ht;this.anchorRowIndex>Ue?(At=Ue,Ht=this.anchorRowIndex):this.anchorRowIndex<Ue?(At=this.anchorRowIndex,Ht=Ue):(At=Ue,Ht=Ue),this.lazy&&this.paginator&&(At-=this.first,Ht-=this.first);let kn=[];for(let En=At;En<=Ht;En++){let pi=this.filteredValue?this.filteredValue[En]:this.value[En];if(!this.isSelected(pi)){if(!this.isRowSelectable(pi,Ue))continue;kn.push(pi),this._selection=[...this.selection,pi];let Zi=this.dataKey?String(D.gb.resolveFieldData(pi,this.dataKey)):null;Zi&&(this.selectionKeys[Zi]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ne,data:kn,type:"row"})}clearSelectionRange(ne){let Ue,At;this.rangeRowIndex>this.anchorRowIndex?(Ue=this.anchorRowIndex,At=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(Ue=this.rangeRowIndex,At=this.anchorRowIndex):(Ue=this.rangeRowIndex,At=this.rangeRowIndex);for(let Ht=Ue;Ht<=At;Ht++){let kn=this.value[Ht],En=this.findIndexInSelection(kn);this._selection=this.selection.filter((Zi,Ni)=>Ni!=En);let pi=this.dataKey?String(D.gb.resolveFieldData(kn,this.dataKey)):null;pi&&delete this.selectionKeys[pi],this.onRowUnselect.emit({originalEvent:ne,data:kn,type:"row"})}}isSelected(ne){return!(!ne||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[D.gb.resolveFieldData(ne,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(ne)>-1:this.equals(ne,this.selection))}findIndexInSelection(ne){let Ue=-1;if(this.selection&&this.selection.length)for(let At=0;At<this.selection.length;At++)if(this.equals(ne,this.selection[At])){Ue=At;break}return Ue}isRowSelectable(ne,Ue){return!(this.rowSelectable&&!this.rowSelectable({data:ne,index:Ue}))}toggleRowWithRadio(ne,Ue){if(this.preventSelectionSetterPropagation=!0,this.selection!=Ue){if(!this.isRowSelectable(Ue,ne.rowIndex))return;this._selection=Ue,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ne.originalEvent,index:ne.rowIndex,data:Ue,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(D.gb.resolveFieldData(Ue,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ne.originalEvent,index:ne.rowIndex,data:Ue,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(ne,Ue){this.selection=this.selection||[];let At=this.isSelected(Ue),Ht=this.dataKey?String(D.gb.resolveFieldData(Ue,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,At){let kn=this.findIndexInSelection(Ue);this._selection=this.selection.filter((En,pi)=>pi!=kn),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ne.originalEvent,index:ne.rowIndex,data:Ue,type:"checkbox"}),Ht&&delete this.selectionKeys[Ht]}else{if(!this.isRowSelectable(Ue,ne.rowIndex))return;this._selection=this.selection?[...this.selection,Ue]:[Ue],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ne.originalEvent,index:ne.rowIndex,data:Ue,type:"checkbox"}),Ht&&(this.selectionKeys[Ht]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(ne,Ue){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:ne,checked:Ue});else{const At=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let Ht=this.selectionPageOnly&&this._selection?this._selection.filter(kn=>!At.some(En=>this.equals(kn,En))):[];Ue&&(Ht=this.frozenValue?[...Ht,...this.frozenValue,...At]:[...Ht,...At],Ht=this.rowSelectable?Ht.filter((kn,En)=>this.rowSelectable({data:kn,index:En})):Ht),this._selection=Ht,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:ne,checked:Ue}),this.isStateful()&&this.saveState()}}equals(ne,Ue){return"equals"===this.compareSelectionBy?ne===Ue:D.gb.equals(ne,Ue,this.dataKey)}filter(ne,Ue,At){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(ne)?this.filters[Ue]&&delete this.filters[Ue]:this.filters[Ue]={value:ne,matchMode:At},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(ne,Ue){this.filter(ne,"global",Ue)}isFilterBlank(ne){return null==ne||"string"==typeof ne&&0==ne.trim().length||ne instanceof Array&&0==ne.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let ne;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");ne=this.globalFilterFields||this.columns}this.filteredValue=[];for(let Ue=0;Ue<this.value.length;Ue++){let En,At=!0,Ht=!1,kn=!1;for(let pi in this.filters)if(this.filters.hasOwnProperty(pi)&&"global"!==pi){kn=!0;let Zi=pi,Ni=this.filters[Zi];if(Array.isArray(Ni)){for(let ki of Ni)if(At=this.executeLocalFilter(Zi,this.value[Ue],ki),ki.operator===x.pg.OR&&At||ki.operator===x.pg.AND&&!At)break}else At=this.executeLocalFilter(Zi,this.value[Ue],Ni);if(!At)break}if(this.filters.global&&!Ht&&ne)for(let pi=0;pi<ne.length&&(Ht=this.filterService.filters[this.filters.global.matchMode](D.gb.resolveFieldData(this.value[Ue],ne[pi].field||ne[pi]),this.filters.global.value,this.filterLocale),!Ht);pi++);En=this.filters.global?kn?kn&&At&&Ht:Ht:kn&&At,En&&this.filteredValue.push(this.value[Ue])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(ne,Ue,At){let Ht=At.value,kn=At.matchMode||x.a6.STARTS_WITH,En=D.gb.resolveFieldData(Ue,ne);return(0,this.filterService.filters[kn])(En,Ht,this.filterLocale)}hasFilter(){let ne=!0;for(let Ue in this.filters)if(this.filters.hasOwnProperty(Ue)){ne=!1;break}return!ne}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(ne){return ne[this.exportHeader]||ne.header||ne.field}exportCSV(ne){let Ue,At="",Ht=this.columns;ne&&ne.selectionOnly?Ue=this.selection||[]:(Ue=this.filteredValue||this.value,this.frozenValue&&(Ue=Ue?[...this.frozenValue,...Ue]:this.frozenValue));for(let pi=0;pi<Ht.length;pi++){let Zi=Ht[pi];!1!==Zi.exportable&&Zi.field&&(At+='"'+this.getExportHeader(Zi)+'"',pi<Ht.length-1&&(At+=this.csvSeparator))}Ue.forEach((pi,Zi)=>{At+="\n";for(let Ni=0;Ni<Ht.length;Ni++){let ki=Ht[Ni];if(!1!==ki.exportable&&ki.field){let Is=D.gb.resolveFieldData(pi,ki.field);Is=null!=Is?this.exportFunction?this.exportFunction({data:Is,field:ki.field}):String(Is).replace(/"/g,'""'):"",At+='"'+Is+'"',Ni<Ht.length-1&&(At+=this.csvSeparator)}}});let kn=new Blob([At],{type:"text/csv;charset=utf-8;"}),En=document.createElement("a");En.style.display="none",document.body.appendChild(En),void 0!==En.download?(En.setAttribute("href",URL.createObjectURL(kn)),En.setAttribute("download",this.exportFilename+".csv"),En.click()):(At="data:text/csv;charset=utf-8,"+At,window.open(encodeURI(At))),document.body.removeChild(En)}onLazyItemLoad(ne){this.onLazyLoad.emit(Object.assign(Object.assign(Object.assign({},this.createLazyLoadMetadata()),ne),{rows:ne.last-ne.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(ne){this.virtualScroll&&this.scroller.scrollToIndex(ne)}scrollTo(ne){this.virtualScroll?this.scroller.scrollTo(ne):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(ne):(this.wrapperViewChild.nativeElement.scrollLeft=ne.left,this.wrapperViewChild.nativeElement.scrollTop=ne.top))}updateEditingCell(ne,Ue,At,Ht){this.editingCell=ne,this.editingCellData=Ue,this.editingCellField=At,this.editingCellRowIndex=Ht,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===s.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=ne=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(s.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:ne,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(ne){let Ue=String(D.gb.resolveFieldData(ne,this.dataKey));this.editingRowKeys[Ue]=!0}saveRowEdit(ne,Ue){if(0===s.p.find(Ue,".ng-invalid.ng-dirty").length){let At=String(D.gb.resolveFieldData(ne,this.dataKey));delete this.editingRowKeys[At]}}cancelRowEdit(ne){let Ue=String(D.gb.resolveFieldData(ne,this.dataKey));delete this.editingRowKeys[Ue]}toggleRow(ne,Ue){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let At=String(D.gb.resolveFieldData(ne,this.dataKey));null!=this.expandedRowKeys[At]?(delete this.expandedRowKeys[At],this.onRowCollapse.emit({originalEvent:Ue,data:ne})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[At]=!0,this.onRowExpand.emit({originalEvent:Ue,data:ne})),Ue&&Ue.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(ne){return!0===this.expandedRowKeys[String(D.gb.resolveFieldData(ne,this.dataKey))]}isRowEditing(ne){return!0===this.editingRowKeys[String(D.gb.resolveFieldData(ne,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(ne){let Ue=s.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=ne.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=ne.pageX-Ue+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(ne),ne.preventDefault()}onColumnResize(ne){let Ue=s.p.getOffset(this.containerViewChild.nativeElement).left;s.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=ne.pageX-Ue+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let ne=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,At=this.resizeColumnElement.offsetWidth+ne;if(At>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let En=this.resizeColumnElement.nextElementSibling.offsetWidth-ne;At>15&&En>15&&this.resizeTableCells(At,En)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+ne+"px"),this.resizeTableCells(At,null));this.onColResize.emit({element:this.resizeColumnElement,delta:ne}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",s.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(ne,Ue){let At=s.p.index(this.resizeColumnElement),Ht=[];const kn=s.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");s.p.find(kn,"tr > th").forEach(Zi=>Ht.push(s.p.getOuterWidth(Zi))),this.destroyStyleElement(),this.createStyleElement();let pi="";Ht.forEach((Zi,Ni)=>{let ki=Ni===At?ne:Ue&&Ni===At+1?Ue:Zi;pi+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Ni+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Ni+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Ni+1}) {\n                    width: ${ki}px !important; max-width: ${ki}px !important;\n                }\n            `}),this.styleElement.innerHTML=pi}onColumnDragStart(ne,Ue){this.reorderIconWidth=s.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=s.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=Ue,ne.dataTransfer.setData("text","b")}onColumnDragEnter(ne,Ue){if(this.reorderableColumns&&this.draggedColumn&&Ue){ne.preventDefault();let At=s.p.getOffset(this.containerViewChild.nativeElement),Ht=s.p.getOffset(Ue);if(this.draggedColumn!=Ue){let kn=s.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),En=s.p.indexWithinGroup(Ue,"preorderablecolumn"),pi=Ht.left-At.left,Ni=Ht.left+Ue.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=Ht.top-At.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=Ht.top-At.top+Ue.offsetHeight+"px",ne.pageX>Ni?(this.reorderIndicatorUpViewChild.nativeElement.style.left=pi+Ue.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=pi+Ue.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=pi-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=pi-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),En-kn==1&&-1===this.dropPosition||En-kn==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else ne.dataTransfer.dropEffect="none"}}onColumnDragLeave(ne){this.reorderableColumns&&this.draggedColumn&&(ne.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(ne,Ue){if(ne.preventDefault(),this.draggedColumn){let At=s.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),Ht=s.p.indexWithinGroup(Ue,"preorderablecolumn"),kn=At!=Ht;kn&&(Ht-At==1&&-1===this.dropPosition||At-Ht==1&&1===this.dropPosition)&&(kn=!1),kn&&Ht<At&&1===this.dropPosition&&(Ht+=1),kn&&Ht>At&&-1===this.dropPosition&&(Ht-=1),kn&&(D.gb.reorderArray(this.columns,At,Ht),this.onColReorder.emit({dragIndex:At,dropIndex:Ht,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(ne,Ue){this.rowDragging=!0,this.draggedRowIndex=Ue,ne.dataTransfer.setData("text","b")}onRowDragOver(ne,Ue,At){if(this.rowDragging&&this.draggedRowIndex!==Ue){let Ht=s.p.getOffset(At).top+s.p.getWindowScrollTop(),kn=ne.pageY,En=Ht+s.p.getOuterHeight(At)/2,pi=At.previousElementSibling;kn<En?(s.p.removeClass(At,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=Ue,pi?s.p.addClass(pi,"p-datatable-dragpoint-bottom"):s.p.addClass(At,"p-datatable-dragpoint-top")):(pi?s.p.removeClass(pi,"p-datatable-dragpoint-bottom"):s.p.addClass(At,"p-datatable-dragpoint-top"),this.droppedRowIndex=Ue+1,s.p.addClass(At,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(ne,Ue){let At=Ue.previousElementSibling;At&&s.p.removeClass(At,"p-datatable-dragpoint-bottom"),s.p.removeClass(Ue,"p-datatable-dragpoint-bottom"),s.p.removeClass(Ue,"p-datatable-dragpoint-top")}onRowDragEnd(ne){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(ne,Ue){if(null!=this.droppedRowIndex){let At=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;D.gb.reorderArray(this.value,this.draggedRowIndex,At),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:At})}this.onRowDragLeave(ne,Ue),this.onRowDragEnd(ne)}isEmpty(){let ne=this.filteredValue||this.value;return null==ne||0==ne.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const ne=this.getStorage();let Ue={};this.paginator&&(Ue.first=this.first,Ue.rows=this.rows),this.sortField&&(Ue.sortField=this.sortField,Ue.sortOrder=this.sortOrder),this.multiSortMeta&&(Ue.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(Ue.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(Ue),this.reorderableColumns&&this.saveColumnOrder(Ue),this.selection&&(Ue.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(Ue.expandedRowKeys=this.expandedRowKeys),ne.setItem(this.stateKey,JSON.stringify(Ue)),this.onStateSave.emit(Ue)}clearState(){const ne=this.getStorage();this.stateKey&&ne.removeItem(this.stateKey)}restoreState(){const Ue=this.getStorage().getItem(this.stateKey),At=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(Ue){let kn=JSON.parse(Ue,function(kn,En){return"string"==typeof En&&At.test(En)?new Date(En):En});this.paginator&&(void 0!==this.first&&(this.first=kn.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=kn.rows,this.rowsChange.emit(this.rows))),kn.sortField&&(this.restoringSort=!0,this._sortField=kn.sortField,this._sortOrder=kn.sortOrder),kn.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=kn.multiSortMeta),kn.filters&&(this.restoringFilter=!0,this.filters=kn.filters),this.resizableColumns&&(this.columnWidthsState=kn.columnWidths,this.tableWidthState=kn.tableWidth),kn.expandedRowKeys&&(this.expandedRowKeys=kn.expandedRowKeys),kn.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(kn.selection)),this.stateRestored=!0,this.onStateRestore.emit(kn)}}saveColumnWidths(ne){let Ue=[];s.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(Ht=>Ue.push(s.p.getOuterWidth(Ht))),ne.columnWidths=Ue.join(","),"expand"===this.columnResizeMode&&(ne.tableWidth=s.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(ne){this.tableViewChild.nativeElement.style.width=ne,this.tableViewChild.nativeElement.style.minWidth=ne}restoreColumnWidths(){if(this.columnWidthsState){let ne=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),D.gb.isNotEmpty(ne)){this.createStyleElement();let Ue="";ne.forEach((At,Ht)=>{Ue+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Ht+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Ht+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Ht+1}) {\n                            width: ${At}px !important; max-width: ${At}px !important\n                        }\n                    `}),this.styleElement.innerHTML=Ue}}}saveColumnOrder(ne){if(this.columns){let Ue=[];this.columns.map(At=>{Ue.push(At.field||At.key)}),ne.columnOrder=Ue}}restoreColumnOrder(){const Ue=this.getStorage().getItem(this.stateKey);if(Ue){let Ht=JSON.parse(Ue).columnOrder;if(Ht){let kn=[];Ht.map(En=>{let pi=this.findColumnByKey(En);pi&&kn.push(pi)}),this.columnOrderStateRestored=!0,this.columns=kn}}}findColumnByKey(ne){if(!this.columns)return null;for(let Ue of this.columns)if(Ue.key===ne||Ue.field===ne)return Ue}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ws),u.Y36(u.sBO),u.Y36(x.iZ),u.Y36(x.F0))},St.\u0275cmp=u.Xpm({type:St,selectors:[["p-table"]],contentQueries:function(ne,Ue,At){if(1&ne&&u.Suo(At,x.jx,4),2&ne){let Ht;u.iGM(Ht=u.CRH())&&(Ue.templates=Ht)}},viewQuery:function(ne,Ue){if(1&ne&&(u.Gf(Y,5),u.Gf(re,5),u.Gf(j,5),u.Gf(G,5),u.Gf(ie,5),u.Gf(Te,5),u.Gf(Me,5),u.Gf(de,5),u.Gf(te,5)),2&ne){let At;u.iGM(At=u.CRH())&&(Ue.containerViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.resizeHelperViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.reorderIndicatorUpViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.reorderIndicatorDownViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.wrapperViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.tableViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.tableHeaderViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.tableFooterViewChild=At.first),u.iGM(At=u.CRH())&&(Ue.scroller=At.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[u._Bn([ws]),u.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(ne,Ue){1&ne&&(u.TgZ(0,"div",0,1),u.YNc(2,ce,2,2,"div",2),u.YNc(3,ve,2,1,"div",3),u.YNc(4,be,1,17,"p-paginator",4),u.TgZ(5,"div",5,6),u.YNc(7,q,3,16,"p-scroller",7),u.YNc(8,Xe,2,7,"ng-container",8),u.YNc(9,ut,10,28,"ng-template",null,9,u.W1O),u.qZA(),u.YNc(11,xe,1,17,"p-paginator",10),u.YNc(12,We,2,1,"div",11),u.YNc(13,gt,2,0,"div",12),u.YNc(14,Tt,2,0,"span",13),u.YNc(15,Ft,2,0,"span",14),u.qZA()),2&ne&&(u.Tol(Ue.styleClass),u.Q6J("ngStyle",Ue.style)("ngClass",u.kEZ(16,Ot,Ue.rowHover||Ue.selectionMode,Ue.scrollable,Ue.scrollable&&"flex"===Ue.scrollHeight)),u.uIk("id",Ue.id),u.xp6(2),u.Q6J("ngIf",Ue.loading&&Ue.showLoader),u.xp6(1),u.Q6J("ngIf",Ue.captionTemplate),u.xp6(1),u.Q6J("ngIf",Ue.paginator&&("top"===Ue.paginatorPosition||"both"==Ue.paginatorPosition)),u.xp6(1),u.Q6J("ngStyle",u.VKq(20,Oe,Ue.virtualScroll?"":Ue.scrollHeight)),u.xp6(2),u.Q6J("ngIf",Ue.virtualScroll),u.xp6(1),u.Q6J("ngIf",!Ue.virtualScroll),u.xp6(3),u.Q6J("ngIf",Ue.paginator&&("bottom"===Ue.paginatorPosition||"both"==Ue.paginatorPosition)),u.xp6(1),u.Q6J("ngIf",Ue.summaryTemplate),u.xp6(1),u.Q6J("ngIf",Ue.resizableColumns),u.xp6(1),u.Q6J("ngIf",Ue.reorderableColumns),u.xp6(1),u.Q6J("ngIf",Ue.reorderableColumns))},dependencies:function(){return[d.mk,d.O5,d.tP,d.PC,N.D,x.jx,T.T,jo]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),St})(),jo=(()=>{class St{constructor(ne,Ue,At,Ht){this.dt=ne,this.tableService=Ue,this.cd=At,this.el=Ht,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(ne){this._value=ne,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(ne,Ue,At){let Ht=D.gb.resolveFieldData(Ue,this.dt.groupRowsBy),kn=ne[At-1];return!kn||Ht!==D.gb.resolveFieldData(kn,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(ne,Ue,At){let Ht=D.gb.resolveFieldData(Ue,this.dt.groupRowsBy),kn=ne[At+1];return!kn||Ht!==D.gb.resolveFieldData(kn,this.dt.groupRowsBy)}shouldRenderRowspan(ne,Ue,At){let Ht=D.gb.resolveFieldData(Ue,this.dt.groupRowsBy),kn=ne[At-1];return!kn||Ht!==D.gb.resolveFieldData(kn,this.dt.groupRowsBy)}calculateRowGroupSize(ne,Ue,At){let Ht=D.gb.resolveFieldData(Ue,this.dt.groupRowsBy),kn=Ht,En=0;for(;Ht===kn;){En++;let pi=ne[++At];if(!pi)break;kn=D.gb.resolveFieldData(pi,this.dt.groupRowsBy)}return 1===En?null:En}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=s.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let ne=s.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=ne+"px"}}getScrollerOption(ne,Ue){return this.dt.virtualScroll&&(Ue=Ue||this.scrollerOptions)?Ue[ne]:null}getRowIndex(ne){const Ue=this.dt.paginator?this.dt.first+ne:ne,At=this.getScrollerOption("getItemOptions");return At?At(Ue).index:Ue}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es),u.Y36(ws),u.Y36(u.sBO),u.Y36(u.SBq))},St.\u0275cmp=u.Xpm({type:St,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:et,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ne,Ue){1&ne&&(u.YNc(0,me,2,2,"ng-container",0),u.YNc(1,zn,2,2,"ng-container",0),u.YNc(2,$o,2,2,"ng-container",0),u.YNc(3,Ee,2,5,"ng-container",0),u.YNc(4,dt,2,5,"ng-container",0)),2&ne&&(u.Q6J("ngIf",!Ue.dt.expandedRowTemplate),u.xp6(1),u.Q6J("ngIf",Ue.dt.expandedRowTemplate&&!(Ue.frozen&&Ue.dt.frozenExpandedRowTemplate)),u.xp6(1),u.Q6J("ngIf",Ue.dt.frozenExpandedRowTemplate&&Ue.frozen),u.xp6(1),u.Q6J("ngIf",Ue.dt.loading),u.xp6(1),u.Q6J("ngIf",Ue.dt.isEmpty()&&!Ue.dt.loading))},dependencies:[d.sg,d.O5,d.tP],encapsulation:2}),St})(),os=(()=>{class St{constructor(ne){this.el=ne,this.alignFrozen="left",this._frozen=!0}get frozen(){return this._frozen}set frozen(ne){this._frozen=ne,this.updateStickyPosition()}ngAfterViewInit(){setTimeout(()=>{this.updateStickyPosition()},1e3)}updateStickyPosition(){if(this._frozen){if("right"===this.alignFrozen){let Ue=0,At=this.el.nativeElement.nextElementSibling;At&&(Ue=s.p.getOuterWidth(At)+(parseFloat(At.style.right)||0)),this.el.nativeElement.style.right=Ue+"px"}else{let Ue=0,At=this.el.nativeElement.previousElementSibling;At&&(Ue=s.p.getOuterWidth(At)+(parseFloat(At.style.left)||0)),this.el.nativeElement.style.left=Ue+"px"}let ne=this.el.nativeElement.parentElement.nextElementSibling;if(ne){let Ue=s.p.index(this.el.nativeElement);ne.children&&ne.children[Ue]&&(ne.children[Ue].style.left=this.el.nativeElement.style.left,ne.children[Ue].style.right=this.el.nativeElement.style.right)}}}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(u.SBq))},St.\u0275dir=u.lG2({type:St,selectors:[["","pFrozenColumn",""]],hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(ne,Ue){2&ne&&u.ekj("p-frozen-column",Ue.frozen)},inputs:{frozen:"frozen",alignFrozen:"alignFrozen"}}),St})(),Cs=(()=>{class St{constructor(ne){this.dt=ne,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(Ue=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(ne){this.isEnabled()&&!this.isFilterElement(ne.target)&&(this.updateSortState(),this.dt.sort({originalEvent:ne,field:this.field}),s.p.clearSelection())}onEnterKey(ne){this.onClick(ne)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(ne){return s.p.hasClass(ne,"pi-filter-icon")||s.p.hasClass(ne,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es))},St.\u0275dir=u.lG2({type:St,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(ne,Ue){1&ne&&u.NdJ("click",function(Ht){return Ue.onClick(Ht)})("keydown.enter",function(Ht){return Ue.onEnterKey(Ht)}),2&ne&&(u.uIk("tabindex",Ue.isEnabled()?"0":null)("role","columnheader")("aria-sort",Ue.sortOrder),u.ekj("p-sortable-column",Ue.isEnabled())("p-highlight",Ue.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),St})(),zr=(()=>{class St{constructor(ne,Ue){this.dt=ne,this.cd=Ue,this.subscription=this.dt.tableService.sortSource$.subscribe(At=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(ne){ne.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let ne=this.dt.getSortMeta(this.field);this.sortOrder=ne?ne.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let ne=this.dt._multiSortMeta,Ue=-1;if(ne&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||ne.length>1))for(let At=0;At<ne.length;At++){let Ht=ne[At];if(Ht.field===this.field||Ht.field===this.field){Ue=At;break}}return Ue}getBadgeValue(){let ne=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&ne>-1?ne:ne+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es),u.Y36(u.sBO))},St.\u0275cmp=u.Xpm({type:St,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(ne,Ue){1&ne&&(u._UZ(0,"i",0),u.YNc(1,gn,2,1,"span",1)),2&ne&&(u.Q6J("ngClass",u.kEZ(2,xn,1===Ue.sortOrder,-1===Ue.sortOrder,0===Ue.sortOrder)),u.xp6(1),u.Q6J("ngIf",Ue.isMultiSorted()))},dependencies:[d.mk,d.O5],encapsulation:2,changeDetection:0}),St})(),Yi=(()=>{class St{constructor(ne,Ue){this.dt=ne,this.tableService=Ue,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(ne){this.isEnabled()&&this.dt.handleRowClick({originalEvent:ne,rowData:this.data,rowIndex:this.index})}onTouchEnd(ne){this.isEnabled()&&this.dt.handleRowTouchEnd(ne)}onArrowDownKeyDown(ne){if(!this.isEnabled())return;const At=this.findNextSelectableRow(ne.currentTarget);At&&At.focus(),ne.preventDefault()}onArrowUpKeyDown(ne){if(!this.isEnabled())return;const At=this.findPrevSelectableRow(ne.currentTarget);At&&At.focus(),ne.preventDefault()}onEnterKeyDown(ne){!this.isEnabled()||this.dt.handleRowClick({originalEvent:ne,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.scroller.elementViewChild.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.scroller.elementViewChild.nativeElement.focus()}findNextSelectableRow(ne){let Ue=ne.nextElementSibling;return Ue?s.p.hasClass(Ue,"p-selectable-row")?Ue:this.findNextSelectableRow(Ue):null}findPrevSelectableRow(ne){let Ue=ne.previousElementSibling;return Ue?s.p.hasClass(Ue,"p-selectable-row")?Ue:this.findPrevSelectableRow(Ue):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es),u.Y36(ws))},St.\u0275dir=u.lG2({type:St,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(ne,Ue){1&ne&&u.NdJ("click",function(Ht){return Ue.onClick(Ht)})("touchend",function(Ht){return Ue.onTouchEnd(Ht)})("keydown.arrowdown",function(Ht){return Ue.onArrowDownKeyDown(Ht)})("keydown.arrowup",function(Ht){return Ue.onArrowUpKeyDown(Ht)})("keydown.enter",function(Ht){return Ue.onEnterKeyDown(Ht)})("keydown.shift.enter",function(Ht){return Ue.onEnterKeyDown(Ht)})("keydown.meta.enter",function(Ht){return Ue.onEnterKeyDown(Ht)})("keydown.pagedown",function(){return Ue.onPageDownKeyDown()})("keydown.pageup",function(){return Ue.onPageDownKeyDown()})("keydown.home",function(){return Ue.onPageDownKeyDown()})("keydown.end",function(){return Ue.onPageDownKeyDown()})("keydown.space",function(){return Ue.onSpaceKeydown()}),2&ne&&(u.uIk("tabindex",Ue.isEnabled()?0:void 0),u.ekj("p-selectable-row",Ue.isEnabled())("p-highlight",Ue.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),St})(),rr=(()=>{class St{constructor(ne){this.dt=ne}onClick(ne){this.isEnabled()&&(this.dt.toggleRow(this.data,ne),ne.preventDefault())}isEnabled(){return!0!==this.pRowTogglerDisabled}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es))},St.\u0275dir=u.lG2({type:St,selectors:[["","pRowToggler",""]],hostAttrs:[1,"p-element"],hostBindings:function(ne,Ue){1&ne&&u.NdJ("click",function(Ht){return Ue.onClick(Ht)})},inputs:{data:["pRowToggler","data"],pRowTogglerDisabled:"pRowTogglerDisabled"}}),St})(),vs=(()=>{class St{constructor(ne,Ue,At){this.dt=ne,this.el=Ue,this.zone=At}ngAfterViewInit(){this.isEnabled()&&s.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(ne){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,ne),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),s.p.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let Ue=s.p.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");Ue&&Ue.focus()},50)}),this.overlayEventListener=ne=>{this.el&&this.el.nativeElement.contains(ne.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(ne,Ue){ne?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Ue,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Ue,index:this.dt.editingCellRowIndex}),s.p.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(ne){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ne),ne.preventDefault())}onTabKeyDown(ne){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ne),ne.preventDefault())}onEscapeKeyDown(ne){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,ne),ne.preventDefault())}onShiftKeyDown(ne){this.isEnabled()&&(ne.shiftKey?this.moveToPreviousCell(ne):this.moveToNextCell(ne))}onArrowDown(ne){if(this.isEnabled()){let Ue=this.findCell(ne.target);if(Ue){let At=s.p.index(Ue),Ht=this.findNextEditableColumnByIndex(Ue,At);Ht&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ne),s.p.invokeElementMethod(ne.target,"blur"),s.p.invokeElementMethod(Ht,"click")),ne.preventDefault()}}}onArrowUp(ne){if(this.isEnabled()){let Ue=this.findCell(ne.target);if(Ue){let At=s.p.index(Ue),Ht=this.findPrevEditableColumnByIndex(Ue,At);Ht&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ne),s.p.invokeElementMethod(ne.target,"blur"),s.p.invokeElementMethod(Ht,"click")),ne.preventDefault()}}}onArrowLeft(ne){this.isEnabled()&&this.moveToPreviousCell(ne)}onArrowRight(ne){this.isEnabled()&&this.moveToNextCell(ne)}findCell(ne){if(ne){let Ue=ne;for(;Ue&&!s.p.hasClass(Ue,"p-cell-editing");)Ue=Ue.parentElement;return Ue}return null}moveToPreviousCell(ne){let Ue=this.findCell(ne.target);if(Ue){let At=this.findPreviousEditableColumn(Ue);At&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ne),s.p.invokeElementMethod(ne.target,"blur"),s.p.invokeElementMethod(At,"click"),ne.preventDefault())}}moveToNextCell(ne){let Ue=this.findCell(ne.target);if(Ue){let At=this.findNextEditableColumn(Ue);At&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ne),s.p.invokeElementMethod(ne.target,"blur"),s.p.invokeElementMethod(At,"click"),ne.preventDefault())}}findPreviousEditableColumn(ne){let Ue=ne.previousElementSibling;if(!Ue){let At=ne.parentElement.previousElementSibling;At&&(Ue=At.lastElementChild)}return Ue?s.p.hasClass(Ue,"p-editable-column")?Ue:this.findPreviousEditableColumn(Ue):null}findNextEditableColumn(ne){let Ue=ne.nextElementSibling;if(!Ue){let At=ne.parentElement.nextElementSibling;At&&(Ue=At.firstElementChild)}return Ue?s.p.hasClass(Ue,"p-editable-column")?Ue:this.findNextEditableColumn(Ue):null}findNextEditableColumnByIndex(ne,Ue){let At=ne.parentElement.nextElementSibling;if(At){let Ht=At.children[Ue];return Ht&&s.p.hasClass(Ht,"p-editable-column")?Ht:null}return null}findPrevEditableColumnByIndex(ne,Ue){let At=ne.parentElement.previousElementSibling;if(At){let Ht=At.children[Ue];return Ht&&s.p.hasClass(Ht,"p-editable-column")?Ht:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es),u.Y36(u.SBq),u.Y36(u.R0b))},St.\u0275dir=u.lG2({type:St,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(ne,Ue){1&ne&&u.NdJ("click",function(Ht){return Ue.onClick(Ht)})("keydown.enter",function(Ht){return Ue.onEnterKeyDown(Ht)})("keydown.tab",function(Ht){return Ue.onShiftKeyDown(Ht)})("keydown.escape",function(Ht){return Ue.onEscapeKeyDown(Ht)})("keydown.shift.tab",function(Ht){return Ue.onShiftKeyDown(Ht)})("keydown.meta.tab",function(Ht){return Ue.onShiftKeyDown(Ht)})("keydown.arrowdown",function(Ht){return Ue.onArrowDown(Ht)})("keydown.arrowup",function(Ht){return Ue.onArrowUp(Ht)})("keydown.arrowleft",function(Ht){return Ue.onArrowLeft(Ht)})("keydown.arrowright",function(Ht){return Ue.onArrowRight(Ht)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),St})(),bs=(()=>{class St{constructor(ne){this.el=ne}isEnabled(){return!0!==this.pEditableRowDisabled}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(u.SBq))},St.\u0275dir=u.lG2({type:St,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),St})(),Vs=(()=>{class St{constructor(ne,Ue,At){this.dt=ne,this.editableColumn=Ue,this.editableRow=At}ngAfterContentInit(){this.templates.forEach(ne=>{switch(ne.getType()){case"input":this.inputTemplate=ne.template;break;case"output":this.outputTemplate=ne.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es),u.Y36(vs,8),u.Y36(bs,8))},St.\u0275cmp=u.Xpm({type:St,selectors:[["p-cellEditor"]],contentQueries:function(ne,Ue,At){if(1&ne&&u.Suo(At,x.jx,4),2&ne){let Ht;u.iGM(Ht=u.CRH())&&(Ue.templates=Ht)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(ne,Ue){1&ne&&(u.YNc(0,Zn,2,1,"ng-container",0),u.YNc(1,ti,2,1,"ng-container",0)),2&ne&&(u.Q6J("ngIf",Ue.editing),u.xp6(1),u.Q6J("ngIf",!Ue.editing))},dependencies:[d.O5,d.tP],encapsulation:2}),St})(),_o=(()=>{class St{constructor(ne,Ue,At,Ht,kn){this.el=ne,this.dt=Ue,this.renderer=At,this.config=Ht,this.overlayService=kn,this.type="text",this.display="row",this.showMenu=!0,this.operator=x.pg.AND,this.showOperator=!0,this.showClearButton=!0,this.showApplyButton=!0,this.showMatchModes=!0,this.showAddButton=!0,this.hideOnClear=!1,this.maxConstraints=2,this.useGrouping=!0,this.showButtons=!0}ngOnInit(){this.dt.filters[this.field]||this.initFieldFilterConstraint(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.generateMatchModeOptions(),this.generateOperatorOptions()}),this.resetSubscription=this.dt.tableService.resetSource$.subscribe(()=>{this.initFieldFilterConstraint()}),this.generateMatchModeOptions(),this.generateOperatorOptions()}generateMatchModeOptions(){var ne;this.matchModes=this.matchModeOptions||(null===(ne=this.config.filterMatchModeOptions[this.type])||void 0===ne?void 0:ne.map(Ue=>({label:this.config.getTranslation(Ue),value:Ue})))}generateOperatorOptions(){this.operatorOptions=[{label:this.config.getTranslation(x.ws.MATCH_ALL),value:x.pg.AND},{label:this.config.getTranslation(x.ws.MATCH_ANY),value:x.pg.OR}]}ngAfterContentInit(){this.templates.forEach(ne=>{switch(ne.getType()){case"header":this.headerTemplate=ne.template;break;case"filter":default:this.filterTemplate=ne.template;break;case"footer":this.footerTemplate=ne.template}})}initFieldFilterConstraint(){let ne=this.getDefaultMatchMode();this.dt.filters[this.field]="row"==this.display?{value:null,matchMode:ne}:[{value:null,matchMode:ne,operator:this.operator}]}onMenuMatchModeChange(ne,Ue){Ue.matchMode=ne,this.showApplyButton||this.dt._filter()}onRowMatchModeChange(ne){this.dt.filters[this.field].matchMode=ne,this.dt._filter(),this.hide()}onRowMatchModeKeyDown(ne){let Ue=ne.target;switch(ne.key){case"ArrowDown":var At=this.findNextItem(Ue);At&&(Ue.removeAttribute("tabindex"),At.tabIndex="0",At.focus()),ne.preventDefault();break;case"ArrowUp":var Ht=this.findPrevItem(Ue);Ht&&(Ue.removeAttribute("tabindex"),Ht.tabIndex="0",Ht.focus()),ne.preventDefault()}}onRowClearItemClick(){this.clearFilter(),this.hide()}isRowMatchModeSelected(ne){return this.dt.filters[this.field].matchMode===ne}addConstraint(){this.dt.filters[this.field].push({value:null,matchMode:this.getDefaultMatchMode(),operator:this.getDefaultOperator()})}removeConstraint(ne){this.dt.filters[this.field]=this.dt.filters[this.field].filter(Ue=>Ue!==ne),this.dt._filter()}onOperatorChange(ne){this.dt.filters[this.field].forEach(Ue=>{Ue.operator=ne,this.operator=ne}),this.showApplyButton||this.dt._filter()}toggleMenu(){this.overlayVisible=!this.overlayVisible}onToggleButtonKeyDown(ne){switch(ne.key){case"Escape":case"Tab":this.overlayVisible=!1;break;case"ArrowDown":if(this.overlayVisible){let Ue=s.p.getFocusableElements(this.overlay);Ue&&Ue[0].focus(),ne.preventDefault()}else ne.altKey&&(this.overlayVisible=!0,ne.preventDefault())}}onEscape(){this.overlayVisible=!1,this.icon.nativeElement.focus()}findNextItem(ne){let Ue=ne.nextElementSibling;return Ue?s.p.hasClass(Ue,"p-column-filter-separator")?this.findNextItem(Ue):Ue:ne.parentElement.firstElementChild}findPrevItem(ne){let Ue=ne.previousElementSibling;return Ue?s.p.hasClass(Ue,"p-column-filter-separator")?this.findPrevItem(Ue):Ue:ne.parentElement.lastElementChild}onContentClick(){this.selfClick=!0}onOverlayAnimationStart(ne){switch(ne.toState){case"visible":this.overlay=ne.element,document.body.appendChild(this.overlay),D.P9.set("overlay",this.overlay,this.config.zIndex.overlay),s.p.absolutePosition(this.overlay,this.icon.nativeElement),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.overlayEventListener=Ue=>{this.overlay&&this.overlay.contains(Ue.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener);break;case"void":this.onOverlayHide(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}onOverlayAnimationEnd(ne){"void"===ne.toState&&D.P9.clear(ne.element)}getDefaultMatchMode(){return this.matchMode?this.matchMode:"text"===this.type?x.a6.STARTS_WITH:"numeric"===this.type?x.a6.EQUALS:"date"===this.type?x.a6.DATE_IS:x.a6.CONTAINS}getDefaultOperator(){return this.dt.filters?this.dt.filters[this.field][0].operator:this.operator}hasRowFilter(){return this.dt.filters[this.field]&&!this.dt.isFilterBlank(this.dt.filters[this.field].value)}get fieldConstraints(){return this.dt.filters?this.dt.filters[this.field]:null}get showRemoveIcon(){return!!this.fieldConstraints&&this.fieldConstraints.length>1}get showMenuButton(){return this.showMenu&&("row"!==this.display||"boolean"!==this.type)}get isShowOperator(){return this.showOperator&&"boolean"!==this.type}get isShowAddConstraint(){return this.showAddButton&&"boolean"!==this.type&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints}get applyButtonLabel(){return this.config.getTranslation(x.ws.APPLY)}get clearButtonLabel(){return this.config.getTranslation(x.ws.CLEAR)}get addRuleButtonLabel(){return this.config.getTranslation(x.ws.ADD_RULE)}get removeRuleButtonLabel(){return this.config.getTranslation(x.ws.REMOVE_RULE)}get noFilterLabel(){return this.config.getTranslation(x.ws.NO_FILTER)}hasFilter(){let ne=this.dt.filters[this.field];return!!ne&&(Array.isArray(ne)?!this.dt.isFilterBlank(ne[0].value):!this.dt.isFilterBlank(ne.value))}isOutsideClicked(ne){return!(this.overlay.isSameNode(ne.target)||this.overlay.contains(ne.target)||this.icon.nativeElement.isSameNode(ne.target)||this.icon.nativeElement.contains(ne.target)||s.p.hasClass(ne.target,"p-column-filter-add-button")||s.p.hasClass(ne.target.parentElement,"p-column-filter-add-button")||s.p.hasClass(ne.target,"p-column-filter-remove-button")||s.p.hasClass(ne.target.parentElement,"p-column-filter-remove-button"))}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Ue=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(Ue)&&this.hide(),this.selfClick=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}bindDocumentResizeListener(){this.documentResizeListener=()=>{this.overlayVisible&&!s.p.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new s.V(this.icon.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}hide(){this.overlayVisible=!1}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}clearFilter(){this.initFieldFilterConstraint(),this.dt._filter(),this.hideOnClear&&this.hide()}applyFilter(){this.dt._filter(),this.hide()}ngOnDestroy(){this.overlay&&(this.el.nativeElement.appendChild(this.overlay),D.P9.clear(this.overlay),this.onOverlayHide()),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.resetSubscription&&this.resetSubscription.unsubscribe(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(u.SBq),u.Y36(Es),u.Y36(u.Qsj),u.Y36(x.b4),u.Y36(x.F0))},St.\u0275cmp=u.Xpm({type:St,selectors:[["p-columnFilter"]],contentQueries:function(ne,Ue,At){if(1&ne&&u.Suo(At,x.jx,4),2&ne){let Ht;u.iGM(Ht=u.CRH())&&(Ue.templates=Ht)}},viewQuery:function(ne,Ue){if(1&ne&&u.Gf(ai,5),2&ne){let At;u.iGM(At=u.CRH())&&(Ue.icon=At.first)}},hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",display:"display",showMenu:"showMenu",matchMode:"matchMode",operator:"operator",showOperator:"showOperator",showClearButton:"showClearButton",showApplyButton:"showApplyButton",showMatchModes:"showMatchModes",showAddButton:"showAddButton",hideOnClear:"hideOnClear",placeholder:"placeholder",matchModeOptions:"matchModeOptions",maxConstraints:"maxConstraints",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",showButtons:"showButtons"},decls:5,vars:8,consts:[[1,"p-column-filter",3,"ngClass"],["class","p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons",4,"ngIf"],["type","button","class","p-column-filter-menu-button p-link","aria-haspopup","true",3,"ngClass","click","keydown",4,"ngIf"],["type","button","class","p-column-filter-clear-button p-link",3,"ngClass","click",4,"ngIf"],[3,"ngClass","click","keydown.escape",4,"ngIf"],[1,"p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons"],["type","button","aria-haspopup","true",1,"p-column-filter-menu-button","p-link",3,"ngClass","click","keydown"],["icon",""],[1,"pi","pi-filter-icon","pi-filter"],["type","button",1,"p-column-filter-clear-button","p-link",3,"ngClass","click"],[1,"pi","pi-filter-slash"],[3,"ngClass","click","keydown.escape"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-column-filter-row-items",4,"ngIf","ngIfElse"],["menu",""],[1,"p-column-filter-row-items"],["class","p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter",4,"ngFor","ngForOf"],[1,"p-column-filter-separator"],[1,"p-column-filter-row-item",3,"click","keydown","keydown.enter"],[1,"p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter"],["class","p-column-filter-operator",4,"ngIf"],[1,"p-column-filter-constraints"],["class","p-column-filter-constraint",4,"ngFor","ngForOf"],["class","p-column-filter-add-rule",4,"ngIf"],[1,"p-column-filter-buttonbar"],["type","button","pButton","","class","p-button-outlined p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["type","button","pButton","","class","p-button-sm","pRipple","",3,"label","click",4,"ngIf"],[1,"p-column-filter-operator"],["styleClass","p-column-filter-operator-dropdown",3,"options","ngModel","ngModelChange"],[1,"p-column-filter-constraint"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange",4,"ngIf"],[3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping"],["type","button","pButton","","icon","pi pi-trash","class","p-column-filter-remove-button p-button-text p-button-danger p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange"],["type","button","pButton","","icon","pi pi-trash","pRipple","",1,"p-column-filter-remove-button","p-button-text","p-button-danger","p-button-sm",3,"label","click"],[1,"p-column-filter-add-rule"],["type","button","pButton","","icon","pi pi-plus","pRipple","",1,"p-column-filter-add-button","p-button-text","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-outlined","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-sm",3,"label","click"]],template:function(ne,Ue){1&ne&&(u.TgZ(0,"div",0),u.YNc(1,Gi,1,15,"p-columnFilterFormElement",1),u.YNc(2,Yo,3,5,"button",2),u.YNc(3,$i,3,3,"button",3),u.YNc(4,Dr,6,14,"div",4),u.qZA()),2&ne&&(u.Q6J("ngClass",u.WLB(5,Da,"row"===Ue.display,"menu"===Ue.display)),u.xp6(1),u.Q6J("ngIf","row"===Ue.display),u.xp6(1),u.Q6J("ngIf",Ue.showMenuButton),u.xp6(1),u.Q6J("ngIf",Ue.showClearButton&&"row"===Ue.display),u.xp6(1),u.Q6J("ngIf",Ue.showMenu&&Ue.overlayVisible))},dependencies:function(){return[d.mk,d.sg,d.O5,d.tP,F.Lt,p.JJ,p.On,R.Hq,Or]},encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)(".12s cubic-bezier(0, 0, 0.2, 1)")]),(0,e.eR)(":leave",[(0,e.jt)(".1s linear",(0,e.oB)({opacity:0}))])])]}}),St})(),Or=(()=>{class St{constructor(ne,Ue){this.dt=ne,this.colFilter=Ue,this.useGrouping=!0}get showButtons(){return this.colFilter.showButtons}ngOnInit(){this.filterCallback=ne=>{this.filterConstraint.value=ne,this.dt._filter()}}onModelChange(ne){this.filterConstraint.value=ne,("boolean"===this.type||""===ne)&&this.dt._filter()}onTextInputEnterKeyDown(ne){this.dt._filter(),ne.preventDefault()}onNumericInputKeyDown(ne){"Enter"===ne.key&&(this.dt._filter(),ne.preventDefault())}}return St.\u0275fac=function(ne){return new(ne||St)(u.Y36(Es),u.Y36(_o))},St.\u0275cmp=u.Xpm({type:St,selectors:[["p-columnFilterFormElement"]],hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",filterConstraint:"filterConstraint",filterTemplate:"filterTemplate",placeholder:"placeholder",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["builtInElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["type","text","pInputText","",3,"value","input","keydown.enter",4,"ngSwitchCase"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"placeholder","ngModel","ngModelChange",4,"ngSwitchCase"],["type","text","pInputText","",3,"value","input","keydown.enter"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown"],[3,"ngModel","ngModelChange"],[3,"placeholder","ngModel","ngModelChange"]],template:function(ne,Ue){if(1&ne&&(u.YNc(0,Po,2,5,"ng-container",0),u.YNc(1,Vr,5,5,"ng-template",null,1,u.W1O)),2&ne){const At=u.MAs(2);u.Q6J("ngIf",Ue.filterTemplate)("ngIfElse",At)}},dependencies:[d.O5,d.tP,d.RF,d.n9,O.Rn,p.JJ,p.On,Q.o,b.f,K],encapsulation:2}),St})(),Pr=(()=>{class St{}return St.\u0275fac=function(ne){return new(ne||St)},St.\u0275mod=u.oAB({type:St}),St.\u0275inj=u.cJS({imports:[d.ez,N.U,Q.j,F.kW,p.u5,R.hJ,y.Qy,b._8,O.L$,H,T.v,x.m8,T.v]}),St})()},3725:(dn,pt,C)=>{"use strict";C.d(pt,{LU:()=>Me,x4:()=>ie,xf:()=>Te});var e=C(5e3),d=C(9808),u=C(4119),p=C(5787),x=C(9783),R=C(5730);function b(de,te){1&de&&e.GkF(0)}function s(de,te){if(1&de&&(e.ynx(0),e.YNc(1,b,1,0,"ng-container",3),e.BQk()),2&de){const ce=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ce.contentTemplate)}}function F(de,te){if(1&de&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,s,2,1,"ng-container",2),e.qZA()),2&de){const ce=e.oxw();e.Q6J("hidden",!ce.selected),e.uIk("id",ce.id)("aria-hidden",!ce.selected)("aria-labelledby",ce.id+"-label"),e.xp6(2),e.Q6J("ngIf",ce.contentTemplate&&(ce.cache?ce.loaded:ce.selected))}}const O=["*"],Q=["content"],N=["navbar"],T=["prevBtn"],y=["nextBtn"],w=["inkbar"];function k(de,te){if(1&de){const ce=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(ce);const ve=e.oxw();return e.KtG(ve.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function V(de,te){if(1&de&&e._UZ(0,"span",24),2&de){const ce=e.oxw(3).$implicit;e.Q6J("ngClass",ce.leftIcon)}}function U(de,te){if(1&de&&e._UZ(0,"span",25),2&de){const ce=e.oxw(3).$implicit;e.Q6J("ngClass",ce.rightIcon)}}function oe(de,te){if(1&de&&(e.ynx(0),e.YNc(1,V,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,U,1,1,"span",23),e.BQk()),2&de){const ce=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",ce.leftIcon),e.xp6(2),e.Oqu(ce.header),e.xp6(1),e.Q6J("ngIf",ce.rightIcon)}}function K(de,te){1&de&&e.GkF(0)}function H(de,te){if(1&de){const ce=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(ve){e.CHM(ce);const be=e.oxw(2).$implicit,Be=e.oxw();return e.KtG(Be.close(ve,be))}),e.qZA()}}const D=function(de,te){return{"p-highlight":de,"p-disabled":te}};function P(de,te){if(1&de){const ce=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(ve){e.CHM(ce);const be=e.oxw().$implicit,Be=e.oxw();return e.KtG(Be.open(ve,be))})("keydown.enter",function(ve){e.CHM(ce);const be=e.oxw().$implicit,Be=e.oxw();return e.KtG(Be.open(ve,be))}),e.YNc(2,oe,5,3,"ng-container",18),e.YNc(3,K,1,0,"ng-container",19),e.YNc(4,H,1,0,"span",20),e.qZA()()}if(2&de){const ce=e.oxw().$implicit;e.Tol(ce.headerStyleClass),e.Q6J("ngClass",e.WLB(16,D,ce.selected,ce.disabled))("ngStyle",ce.headerStyle),e.xp6(1),e.Q6J("pTooltip",ce.tooltip)("tooltipPosition",ce.tooltipPosition)("positionStyle",ce.tooltipPositionStyle)("tooltipStyleClass",ce.tooltipStyleClass),e.uIk("id",ce.id+"-label")("aria-selected",ce.selected)("aria-controls",ce.id)("aria-selected",ce.selected)("tabindex",ce.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!ce.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ce.headerTemplate),e.xp6(1),e.Q6J("ngIf",ce.closable)}}function Y(de,te){1&de&&e.YNc(0,P,5,19,"li",15),2&de&&e.Q6J("ngIf",!te.$implicit.closed)}function re(de,te){if(1&de){const ce=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(ce);const ve=e.oxw();return e.KtG(ve.navForward())}),e._UZ(2,"span",29),e.qZA()}}const j=function(de){return{"p-tabview p-component":!0,"p-tabview-scrollable":de}};let G=0,ie=(()=>{class de{constructor(ce,J,ve){this.viewContainer=J,this.cd=ve,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+G++,this.tabView=ce}ngAfterContentInit(){this.templates.forEach(ce=>{"header"===ce.getType()?this.headerTemplate=ce.template:this.contentTemplate=ce.template})}get selected(){return this._selected}set selected(ce){this._selected=ce,this.loaded||this.cd.detectChanges(),ce&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(ce){this._disabled=ce,this.tabView.cd.markForCheck()}get header(){return this._header}set header(ce){this._header=ce,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(ce){this._leftIcon=ce,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(ce){this._rightIcon=ce,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return de.\u0275fac=function(ce){return new(ce||de)(e.Y36((0,e.Gpc)(()=>Te)),e.Y36(e.s_b),e.Y36(e.sBO))},de.\u0275cmp=e.Xpm({type:de,selectors:[["p-tabPanel"]],contentQueries:function(ce,J,ve){if(1&ce&&e.Suo(ve,x.jx,4),2&ce){let be;e.iGM(be=e.CRH())&&(J.templates=be)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:O,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(ce,J){1&ce&&(e.F$t(),e.YNc(0,F,3,5,"div",0)),2&ce&&e.Q6J("ngIf",!J.closed)},dependencies:[d.O5,d.tP],encapsulation:2}),de})(),Te=(()=>{class de{constructor(ce,J){this.el=ce,this.cd=J,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(ce=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(ce,J){if(J.disabled)ce&&ce.preventDefault();else{if(!J.selected){let ve=this.findSelectedTab();ve&&(ve.selected=!1),this.tabChanged=!0,J.selected=!0;let be=this.findTabIndex(J);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(be),this.onChange.emit({originalEvent:ce,index:be}),this.updateScrollBar(be)}ce&&ce.preventDefault()}}close(ce,J){this.controlClose?this.onClose.emit({originalEvent:ce,index:this.findTabIndex(J),close:()=>{this.closeTab(J)}}):(this.closeTab(J),this.onClose.emit({originalEvent:ce,index:this.findTabIndex(J)})),ce.stopPropagation()}closeTab(ce){if(!ce.disabled){if(ce.selected){this.tabChanged=!0,ce.selected=!1;for(let J=0;J<this.tabs.length;J++){let ve=this.tabs[J];if(!ve.closed&&!ce.disabled){ve.selected=!0;break}}}ce.closed=!0}}findSelectedTab(){for(let ce=0;ce<this.tabs.length;ce++)if(this.tabs[ce].selected)return this.tabs[ce];return null}findTabIndex(ce){let J=-1;for(let ve=0;ve<this.tabs.length;ve++)if(this.tabs[ve]==ce){J=ve;break}return J}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(ce){this._activeIndex=ce,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(ce))}updateInkBar(){if(this.navbar){const ce=R.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!ce)return;this.inkbar.nativeElement.style.width=R.p.getWidth(ce)+"px",this.inkbar.nativeElement.style.left=R.p.getOffset(ce).left-R.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(ce){this.navbar.nativeElement.children[ce].scrollIntoView({block:"nearest"})}updateButtonState(){const ce=this.content.nativeElement,{scrollLeft:J,scrollWidth:ve}=ce,be=R.p.getWidth(ce);this.backwardIsDisabled=0===J,this.forwardIsDisabled=parseInt(J)===ve-be}onScroll(ce){this.scrollable&&this.updateButtonState(),ce.preventDefault()}getVisibleButtonWidths(){var ce,J;return[null===(ce=this.prevBtn)||void 0===ce?void 0:ce.nativeElement,null===(J=this.nextBtn)||void 0===J?void 0:J.nativeElement].reduce((ve,be)=>be?ve+R.p.getWidth(be):ve,0)}navBackward(){const ce=this.content.nativeElement,J=R.p.getWidth(ce)-this.getVisibleButtonWidths(),ve=ce.scrollLeft-J;ce.scrollLeft=ve<=0?0:ve}navForward(){const ce=this.content.nativeElement,J=R.p.getWidth(ce)-this.getVisibleButtonWidths(),ve=ce.scrollLeft+J,be=ce.scrollWidth-J;ce.scrollLeft=ve>=be?be:ve}}return de.\u0275fac=function(ce){return new(ce||de)(e.Y36(e.SBq),e.Y36(e.sBO))},de.\u0275cmp=e.Xpm({type:de,selectors:[["p-tabView"]],contentQueries:function(ce,J,ve){if(1&ce&&e.Suo(ve,ie,4),2&ce){let be;e.iGM(be=e.CRH())&&(J.tabPanels=be)}},viewQuery:function(ce,J){if(1&ce&&(e.Gf(Q,5),e.Gf(N,5),e.Gf(T,5),e.Gf(y,5),e.Gf(w,5)),2&ce){let ve;e.iGM(ve=e.CRH())&&(J.content=ve.first),e.iGM(ve=e.CRH())&&(J.navbar=ve.first),e.iGM(ve=e.CRH())&&(J.prevBtn=ve.first),e.iGM(ve=e.CRH())&&(J.nextBtn=ve.first),e.iGM(ve=e.CRH())&&(J.inkbar=ve.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:O,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(ce,J){1&ce&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,k,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(be){return J.onScroll(be)}),e.TgZ(5,"ul",5,6),e.YNc(7,Y,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,re,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&ce&&(e.Tol(J.styleClass),e.Q6J("ngClass",e.VKq(7,j,J.scrollable))("ngStyle",J.style),e.xp6(2),e.Q6J("ngIf",J.scrollable&&!J.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",J.tabs),e.xp6(3),e.Q6J("ngIf",J.scrollable&&!J.forwardIsDisabled))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.u,p.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),de})(),Me=(()=>{class de{}return de.\u0275fac=function(ce){return new(ce||de)},de.\u0275mod=e.oAB({type:de}),de.\u0275inj=e.cJS({imports:[d.ez,x.m8,u.z,p.T,x.m8]}),de})()},7773:(dn,pt,C)=>{"use strict";C.d(pt,{EV:()=>oe,FN:()=>U});var e=C(5e3),d=C(9808),u=C(9783),p=C(5921),x=C(5787),R=C(1777);const b=["container"],s=function(K,H,D,P){return{"pi-info-circle":K,"pi-exclamation-triangle":H,"pi-times-circle":D,"pi-check":P}};function F(K,H){if(1&K&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&K){const D=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(D.message.icon?" "+D.message.icon:"")),e.Q6J("ngClass",e.l5B(5,s,"info"==D.message.severity,"warn"==D.message.severity,"error"==D.message.severity,"success"==D.message.severity)),e.xp6(3),e.Oqu(D.message.summary),e.xp6(2),e.Oqu(D.message.detail)}}function O(K,H){1&K&&e.GkF(0)}function Q(K,H){if(1&K){const D=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(Y){e.CHM(D);const re=e.oxw();return e.KtG(re.onCloseIconClick(Y))})("keydown.enter",function(Y){e.CHM(D);const re=e.oxw();return e.KtG(re.onCloseIconClick(Y))}),e._UZ(1,"span",11),e.qZA()}}const N=function(K){return[K,"p-toast-message"]},T=function(K,H,D,P){return{showTransformParams:K,hideTransformParams:H,showTransitionParams:D,hideTransitionParams:P}},y=function(K){return{value:"visible",params:K}},w=function(K){return{$implicit:K}};function k(K,H){if(1&K){const D=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(Y){e.CHM(D);const re=e.oxw();return e.KtG(re.onMessageClose(Y))})("@toastAnimation.start",function(Y){e.CHM(D);const re=e.oxw();return e.KtG(re.onAnimationStart(Y))})("@toastAnimation.done",function(Y){e.CHM(D);const re=e.oxw();return e.KtG(re.onAnimationEnd(Y))}),e.qZA()}if(2&K){const D=H.$implicit,P=H.index,Y=e.oxw();e.Q6J("message",D)("index",P)("template",Y.template)("@toastAnimation",void 0)("showTransformOptions",Y.showTransformOptions)("hideTransformOptions",Y.hideTransformOptions)("showTransitionOptions",Y.showTransitionOptions)("hideTransitionOptions",Y.hideTransitionOptions)}}let V=(()=>{class K{constructor(D){this.zone=D,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(D){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),D.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return K.\u0275fac=function(D){return new(D||K)(e.Y36(e.R0b))},K.\u0275cmp=e.Xpm({type:K,selectors:[["p-toastItem"]],viewQuery:function(D,P){if(1&D&&e.Gf(b,5),2&D){let Y;e.iGM(Y=e.CRH())&&(P.containerViewChild=Y.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(D,P){1&D&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return P.onMouseEnter()})("mouseleave",function(){return P.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,F,7,10,"ng-container",3),e.YNc(4,O,1,0,"ng-container",4),e.YNc(5,Q,2,0,"button",5),e.qZA()()),2&D&&(e.Tol(P.message.styleClass),e.Q6J("ngClass",e.VKq(10,N,"p-toast-message-"+P.message.severity))("@messageState",e.VKq(17,y,e.l5B(12,T,P.showTransformOptions,P.hideTransformOptions,P.showTransitionOptions,P.hideTransitionOptions))),e.uIk("id",P.message.id),e.xp6(2),e.Q6J("ngClass",P.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!P.template),e.xp6(1),e.Q6J("ngTemplateOutlet",P.template)("ngTemplateOutletContext",e.VKq(19,w,P.message)),e.xp6(1),e.Q6J("ngIf",!1!==P.message.closable))},dependencies:[d.mk,d.O5,d.tP,x.H],encapsulation:2,data:{animation:[(0,R.X$)("messageState",[(0,R.SB)("visible",(0,R.oB)({transform:"translateY(0)",opacity:1})),(0,R.eR)("void => *",[(0,R.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,R.jt)("{{showTransitionParams}}")]),(0,R.eR)("* => void",[(0,R.jt)("{{hideTransitionParams}}",(0,R.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),K})(),U=(()=>{class K{constructor(D,P,Y){this.messageService=D,this.cd=P,this.config=Y,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,p.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(D=>{if(D)if(D instanceof Array){const P=D.filter(Y=>this.canAdd(Y));this.add(P)}else this.canAdd(D)&&this.add([D])}),this.clearSubscription=this.messageService.clearObserver.subscribe(D=>{D?this.key===D&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(D){this.messages=this.messages?[...this.messages,...D]:[...D],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...D]:[...D]),this.cd.markForCheck()}canAdd(D){let P=this.key===D.key;return P&&this.preventOpenDuplicates&&(P=!this.containsMessage(this.messages,D)),P&&this.preventDuplicates&&(P=!this.containsMessage(this.messagesArchieve,D)),P}containsMessage(D,P){return!!D&&null!=D.find(Y=>Y.summary===P.summary&&Y.detail==P.detail&&Y.severity===P.severity)}ngAfterContentInit(){this.templates.forEach(D=>{D.getType(),this.template=D.template})}onMessageClose(D){this.messages.splice(D.index,1),this.onClose.emit({message:D.message}),this.cd.detectChanges()}onAnimationStart(D){"void"===D.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&p.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(D){"void"===D.toState&&this.autoZIndex&&p.gb.isEmpty(this.messages)&&p.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let D="";for(let P in this.breakpoints){let Y="";for(let re in this.breakpoints[P])Y+=re+":"+this.breakpoints[P][re]+" !important;";D+=`\n                    @media screen and (max-width: ${P}) {\n                        .p-toast[${this.id}] {\n                           ${Y}\n                        }\n                    }\n                `}this.styleElement.innerHTML=D}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&p.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return K.\u0275fac=function(D){return new(D||K)(e.Y36(u.ez),e.Y36(e.sBO),e.Y36(u.b4))},K.\u0275cmp=e.Xpm({type:K,selectors:[["p-toast"]],contentQueries:function(D,P,Y){if(1&D&&e.Suo(Y,u.jx,4),2&D){let re;e.iGM(re=e.CRH())&&(P.templates=re)}},viewQuery:function(D,P){if(1&D&&e.Gf(b,5),2&D){let Y;e.iGM(Y=e.CRH())&&(P.containerViewChild=Y.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(D,P){1&D&&(e.TgZ(0,"div",0,1),e.YNc(2,k,1,8,"p-toastItem",2),e.qZA()),2&D&&(e.Tol(P.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+P.position)("ngStyle",P.style),e.xp6(2),e.Q6J("ngForOf",P.messages))},dependencies:[d.mk,d.sg,d.PC,V],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,R.X$)("toastAnimation",[(0,R.eR)(":enter, :leave",[(0,R.IO)("@*",(0,R.pV)())])])]},changeDetection:0}),K})(),oe=(()=>{class K{}return K.\u0275fac=function(D){return new(D||K)},K.\u0275mod=e.oAB({type:K}),K.\u0275inj=e.cJS({imports:[d.ez,x.T,u.m8]}),K})()},4119:(dn,pt,C)=>{"use strict";C.d(pt,{u:()=>R,z:()=>b});var e=C(5e3),d=C(9808),u=C(5730),p=C(5921),x=C(9783);let R=(()=>{class s{constructor(O,Q,N){this.el=O,this.zone=Q,this.config=N,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(O){this._disabled=O,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let O=this.getTarget(this.el.nativeElement);O.addEventListener("focus",this.focusListener),O.addEventListener("blur",this.blurListener)}})}ngOnChanges(O){O.tooltipPosition&&this.setOption({tooltipPosition:O.tooltipPosition.currentValue}),O.tooltipEvent&&this.setOption({tooltipEvent:O.tooltipEvent.currentValue}),O.appendTo&&this.setOption({appendTo:O.appendTo.currentValue}),O.positionStyle&&this.setOption({positionStyle:O.positionStyle.currentValue}),O.tooltipStyleClass&&this.setOption({tooltipStyleClass:O.tooltipStyleClass.currentValue}),O.tooltipZIndex&&this.setOption({tooltipZIndex:O.tooltipZIndex.currentValue}),O.escape&&this.setOption({escape:O.escape.currentValue}),O.showDelay&&this.setOption({showDelay:O.showDelay.currentValue}),O.hideDelay&&this.setOption({hideDelay:O.hideDelay.currentValue}),O.life&&this.setOption({life:O.life.currentValue}),O.positionTop&&this.setOption({positionTop:O.positionTop.currentValue}),O.positionLeft&&this.setOption({positionLeft:O.positionLeft.currentValue}),O.disabled&&this.setOption({disabled:O.disabled.currentValue}),O.text&&(this.setOption({tooltipLabel:O.text.currentValue}),this.active&&(O.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),O.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),O.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(O){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(O){this.deactivate()}onFocus(O){this.activate()}onBlur(O){this.deactivate()}onClick(O){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let O=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},O)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let O=document.createElement("div");O.className="p-tooltip-arrow",this.container.appendChild(O),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?u.p.appendChild(this.container,this.el.nativeElement):u.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),u.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?p.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&p.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let O=this.el.nativeElement.getBoundingClientRect();return{left:O.left+u.p.getWindowScrollLeft(),top:O.top+u.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let O=this.getHostOffset(),Q=O.left+u.p.getOuterWidth(this.el.nativeElement),N=O.top+(u.p.getOuterHeight(this.el.nativeElement)-u.p.getOuterHeight(this.container))/2;this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let O=this.getHostOffset(),Q=O.left-u.p.getOuterWidth(this.container),N=O.top+(u.p.getOuterHeight(this.el.nativeElement)-u.p.getOuterHeight(this.container))/2;this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let O=this.getHostOffset(),Q=O.left+(u.p.getOuterWidth(this.el.nativeElement)-u.p.getOuterWidth(this.container))/2,N=O.top-u.p.getOuterHeight(this.container);this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let O=this.getHostOffset(),Q=O.left+(u.p.getOuterWidth(this.el.nativeElement)-u.p.getOuterWidth(this.container))/2,N=O.top+u.p.getOuterHeight(this.el.nativeElement);this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}setOption(O){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),O)}getOption(O){return this._tooltipOptions[O]}getTarget(O){return u.p.hasClass(O,"p-inputwrapper")?u.p.findSingle(O,"input"):O}preAlign(O){this.container.style.left="-999px",this.container.style.top="-999px";let Q="p-tooltip p-component p-tooltip-"+O;this.container.className=this.getOption("tooltipStyleClass")?Q+" "+this.getOption("tooltipStyleClass"):Q}isOutOfBounds(){let O=this.container.getBoundingClientRect(),Q=O.top,N=O.left,T=u.p.getOuterWidth(this.container),y=u.p.getOuterHeight(this.container),w=u.p.getViewport();return N+T>w.width||N<0||Q<0||Q+y>w.height}onWindowResize(O){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new u.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let O=this.getTarget(this.el.nativeElement);O.removeEventListener("focus",this.focusListener),O.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):u.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&p.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return s.\u0275fac=function(O){return new(O||s)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(x.b4))},s.\u0275dir=e.lG2({type:s,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),s})(),b=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[d.ez]}),s})()},2629:(dn,pt,C)=>{"use strict";C.d(pt,{mp:()=>me,xc:()=>lt});var e=C(5e3),d=C(9808),u=C(9783),p=C(5921),x=C(5730),R=C(5787),b=C(5871);const s=function($e){return{"p-treenode-droppoint-active":$e}};function F($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPoint(fn,-1))})("dragover",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragOver(fn))})("dragenter",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragEnter(fn,-1))})("dragleave",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragLeave(fn))}),e.qZA()}if(2&$e){const je=e.oxw(2);e.Q6J("ngClass",e.VKq(1,s,je.draghoverPrev))}}const O=function($e){return{"p-checkbox-disabled":$e}},Q=function($e,Lt){return{"p-highlight":$e,"p-indeterminate":Lt}},N=function($e,Lt){return{"pi-check":$e,"pi-minus":Lt}};function T($e,Lt){if(1&$e&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"span",15),e.qZA()()),2&$e){const je=e.oxw(3);e.Q6J("ngClass",e.VKq(4,O,!1===je.node.selectable)),e.uIk("aria-checked",je.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(6,Q,je.isSelected(),je.node.partialSelected)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,N,je.isSelected(),je.node.partialSelected))}}function y($e,Lt){if(1&$e&&e._UZ(0,"span"),2&$e){const je=e.oxw(3);e.Tol(je.getIcon())}}function w($e,Lt){if(1&$e&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&$e){const je=e.oxw(3);e.xp6(1),e.Oqu(je.node.label)}}function k($e,Lt){1&$e&&e.GkF(0)}const V=function($e){return{$implicit:$e}};function U($e,Lt){if(1&$e&&(e.TgZ(0,"span"),e.YNc(1,k,1,0,"ng-container",16),e.qZA()),2&$e){const je=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",je.tree.getTemplateForNode(je.node))("ngTemplateOutletContext",e.VKq(2,V,je.node))}}function oe($e,Lt){if(1&$e&&e._UZ(0,"p-treeNode",19),2&$e){const je=Lt.$implicit,sn=Lt.first,fn=Lt.last,Gt=Lt.index,On=e.oxw(4);e.Q6J("node",je)("parentNode",On.node)("firstChild",sn)("lastChild",fn)("index",Gt)("itemSize",On.itemSize)("level",On.level+1)}}function K($e,Lt){if(1&$e&&(e.TgZ(0,"ul",17),e.YNc(1,oe,1,7,"p-treeNode",18),e.qZA()),2&$e){const je=e.oxw(3);e.Udp("display",je.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",je.node.children)("ngForTrackBy",je.tree.trackBy)}}const H=function($e,Lt){return["p-treenode",$e,Lt]},D=function($e){return{height:$e}},P=function($e,Lt,je){return{"p-treenode-selectable":$e,"p-treenode-dragover":Lt,"p-highlight":je}},Y=function($e,Lt){return{"pi-chevron-right":$e,"pi-chevron-down":Lt}};function re($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onNodeClick(fn))})("contextmenu",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onNodeRightClick(fn))})("touchend",function(){e.CHM(je);const fn=e.oxw(2);return e.KtG(fn.onNodeTouchEnd())})("drop",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropNode(fn))})("dragover",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropNodeDragOver(fn))})("dragenter",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropNodeDragEnter(fn))})("dragleave",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropNodeDragLeave(fn))})("dragstart",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDragStart(fn))})("dragend",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDragStop(fn))})("keydown",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onKeyDown(fn))}),e.TgZ(2,"button",7),e.NdJ("click",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.toggle(fn))}),e._UZ(3,"span",8),e.qZA(),e.YNc(4,T,3,12,"div",9),e.YNc(5,y,1,2,"span",3),e.TgZ(6,"span",10),e.YNc(7,w,2,1,"span",11),e.YNc(8,U,2,4,"span",11),e.qZA()(),e.YNc(9,K,2,4,"ul",12),e.qZA()}if(2&$e){const je=e.oxw(2);e.Akn(je.node.style),e.Q6J("ngClass",e.WLB(20,H,je.node.styleClass||"",je.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(23,D,je.itemSize+"px")),e.xp6(1),e.Udp("padding-left",je.level*je.indentation+"rem"),e.Q6J("draggable",je.tree.draggableNodes)("ngClass",e.kEZ(25,P,je.tree.selectionMode&&!1!==je.node.selectable,je.draghoverNode,je.isSelected())),e.uIk("tabindex",0)("aria-posinset",je.index+1)("aria-expanded",je.node.expanded)("aria-selected",je.isSelected())("aria-label",je.node.label),e.xp6(1),e.uIk("aria-label",je.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(29,Y,!je.node.expanded,je.node.expanded)),e.xp6(1),e.Q6J("ngIf","checkbox"==je.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",je.node.icon||je.node.expandedIcon||je.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!je.tree.getTemplateForNode(je.node)),e.xp6(1),e.Q6J("ngIf",je.tree.getTemplateForNode(je.node)),e.xp6(1),e.Q6J("ngIf",!je.tree.virtualScroll&&je.node.children&&je.node.expanded)}}function j($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPoint(fn,1))})("dragover",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragOver(fn))})("dragenter",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragEnter(fn,1))})("dragleave",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragLeave(fn))}),e.qZA()}if(2&$e){const je=e.oxw(2);e.Q6J("ngClass",e.VKq(1,s,je.draghoverNext))}}const G=function($e){return{"p-treenode-connector-line":$e}};function ie($e,Lt){if(1&$e&&(e.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),e._UZ(4,"td",27),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",27),e.qZA()()()()),2&$e){const je=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,G,!je.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,G,!je.lastChild))}}const Te=function($e,Lt){return{"pi-plus":$e,"pi-minus":Lt}};function Me($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"span",28),e.NdJ("click",function(fn){e.CHM(je);const Gt=e.oxw(3);return e.KtG(Gt.toggle(fn))}),e.qZA()}if(2&$e){const je=e.oxw(3);e.Q6J("ngClass",e.WLB(2,Te,!je.node.expanded,je.node.expanded)),e.uIk("aria-label",je.tree.togglerAriaLabel)}}function de($e,Lt){if(1&$e&&e._UZ(0,"span"),2&$e){const je=e.oxw(3);e.Tol(je.getIcon())}}function te($e,Lt){if(1&$e&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&$e){const je=e.oxw(3);e.xp6(1),e.Oqu(je.node.label)}}function ce($e,Lt){1&$e&&e.GkF(0)}function J($e,Lt){if(1&$e&&(e.TgZ(0,"span"),e.YNc(1,ce,1,0,"ng-container",16),e.qZA()),2&$e){const je=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",je.tree.getTemplateForNode(je.node))("ngTemplateOutletContext",e.VKq(2,V,je.node))}}function ve($e,Lt){if(1&$e&&e._UZ(0,"p-treeNode",32),2&$e){const sn=Lt.first,fn=Lt.last;e.Q6J("node",Lt.$implicit)("firstChild",sn)("lastChild",fn)}}function be($e,Lt){if(1&$e&&(e.TgZ(0,"td",29)(1,"div",30),e.YNc(2,ve,1,3,"p-treeNode",31),e.qZA()()),2&$e){const je=e.oxw(3);e.Udp("display",je.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",je.node.children)("ngForTrackBy",je.tree.trackBy)}}const Be=function($e){return{"p-treenode-collapsed":$e}},we=function($e,Lt){return{"p-treenode-selectable":$e,"p-highlight":Lt}};function ke($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,ie,7,6,"td",20),e.TgZ(4,"td",21)(5,"div",22),e.NdJ("click",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onNodeClick(fn))})("contextmenu",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onNodeRightClick(fn))})("touchend",function(){e.CHM(je);const fn=e.oxw(2);return e.KtG(fn.onNodeTouchEnd())})("keydown",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onNodeKeydown(fn))}),e.YNc(6,Me,1,5,"span",23),e.YNc(7,de,1,2,"span",3),e.TgZ(8,"span",10),e.YNc(9,te,2,1,"span",11),e.YNc(10,J,2,4,"span",11),e.qZA()()(),e.YNc(11,be,3,4,"td",24),e.qZA()()()}if(2&$e){const je=e.oxw(2);e.Tol(je.node.styleClass),e.xp6(3),e.Q6J("ngIf",!je.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,Be,!je.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,we,je.tree.selectionMode,je.isSelected())),e.xp6(1),e.Q6J("ngIf",!je.isLeaf()),e.xp6(1),e.Q6J("ngIf",je.node.icon||je.node.expandedIcon||je.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!je.tree.getTemplateForNode(je.node)),e.xp6(1),e.Q6J("ngIf",je.tree.getTemplateForNode(je.node)),e.xp6(1),e.Q6J("ngIf",je.node.children&&je.node.expanded)}}function X($e,Lt){if(1&$e&&(e.YNc(0,F,1,3,"li",1),e.YNc(1,re,10,32,"li",2),e.YNc(2,j,1,3,"li",1),e.YNc(3,ke,12,15,"table",3)),2&$e){const je=e.oxw();e.Q6J("ngIf",je.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!je.tree.horizontal),e.xp6(1),e.Q6J("ngIf",je.tree.droppableNodes&&je.lastChild),e.xp6(1),e.Q6J("ngIf",je.tree.horizontal)}}const q=["filter"],pe=["scroller"],_e=["wrapper"];function Xe($e,Lt){if(1&$e&&(e.TgZ(0,"div",9),e._UZ(1,"i"),e.qZA()),2&$e){const je=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+je.loadingIcon)}}function ct($e,Lt){1&$e&&e.GkF(0)}function ot($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"div",10)(1,"input",11,12),e.NdJ("keydown.enter",function(fn){return fn.preventDefault()})("input",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt._filter(fn.target.value))}),e.qZA(),e._UZ(3,"span",13),e.qZA()}if(2&$e){const je=e.oxw(2);e.xp6(1),e.uIk("placeholder",je.filterPlaceholder)}}function Zt($e,Lt){if(1&$e&&e._UZ(0,"p-treeNode",20),2&$e){const je=Lt.$implicit,sn=Lt.first,fn=Lt.last,Gt=Lt.index,On=e.oxw(2).options,Bt=e.oxw(3);e.Q6J("level",je.level)("rowNode",je)("node",je.node)("firstChild",sn)("lastChild",fn)("index",Bt.getIndex(On,Gt))("itemSize",On.itemSize)("indentation",Bt.indentation)}}function Dt($e,Lt){if(1&$e&&(e.TgZ(0,"ul",18),e.YNc(1,Zt,1,8,"p-treeNode",19),e.qZA()),2&$e){const je=e.oxw(),sn=je.options,fn=je.$implicit,Gt=e.oxw(3);e.Akn(sn.contentStyle),e.Q6J("ngClass",sn.contentStyleClass),e.uIk("aria-label",Gt.ariaLabel)("aria-labelledby",Gt.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",fn)("ngForTrackBy",Gt.trackBy)}}function Cn($e,Lt){1&$e&&e.YNc(0,Dt,2,7,"ul",17),2&$e&&e.Q6J("ngIf",Lt.$implicit)}function Xt($e,Lt){1&$e&&e.GkF(0)}const jt=function($e){return{options:$e}};function ht($e,Lt){if(1&$e&&e.YNc(0,Xt,1,0,"ng-container",22),2&$e){const je=Lt.options,sn=e.oxw(4);e.Q6J("ngTemplateOutlet",sn.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,jt,je))}}function ut($e,Lt){1&$e&&(e.ynx(0),e.YNc(1,ht,1,4,"ng-template",21),e.BQk())}function xe($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"p-scroller",14,15),e.NdJ("onScroll",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onScroll.emit(fn))})("onScrollIndexChange",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onScrollIndexChange.emit(fn))})("onLazyLoad",function(fn){e.CHM(je);const Gt=e.oxw(2);return e.KtG(Gt.onLazyLoad.emit(fn))}),e.YNc(2,Cn,1,1,"ng-template",16),e.YNc(3,ut,2,0,"ng-container",7),e.qZA()}if(2&$e){const je=e.oxw(2);e.Akn(e.VKq(7,D,je.scrollHeight)),e.Q6J("items",je.serializedValue)("itemSize",je.virtualScrollItemSize||je._virtualNodeHeight)("lazy",je.lazy)("options",je.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",je.loaderTemplate)}}function De($e,Lt){if(1&$e&&e._UZ(0,"p-treeNode",28),2&$e){const sn=Lt.first,fn=Lt.last,Gt=Lt.index;e.Q6J("node",Lt.$implicit)("firstChild",sn)("lastChild",fn)("index",Gt)("level",0)}}function We($e,Lt){if(1&$e&&(e.TgZ(0,"ul",26),e.YNc(1,De,1,5,"p-treeNode",27),e.qZA()),2&$e){const je=e.oxw(3);e.uIk("aria-label",je.ariaLabel)("aria-labelledby",je.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",je.getRootNode())("ngForTrackBy",je.trackBy)}}function gt($e,Lt){if(1&$e&&(e.ynx(0),e.TgZ(1,"div",23,24),e.YNc(3,We,2,4,"ul",25),e.qZA(),e.BQk()),2&$e){const je=e.oxw(2);e.xp6(1),e.Udp("max-height",je.scrollHeight),e.xp6(2),e.Q6J("ngIf",je.getRootNode())}}function Tt($e,Lt){if(1&$e&&(e.ynx(0),e._uU(1),e.BQk()),2&$e){const je=e.oxw(3);e.xp6(1),e.hij(" ",je.emptyMessageLabel," ")}}function Ft($e,Lt){1&$e&&e.GkF(0,null,31)}function Ot($e,Lt){if(1&$e&&(e.TgZ(0,"div",29),e.YNc(1,Tt,2,1,"ng-container",30),e.YNc(2,Ft,2,0,"ng-container",4),e.qZA()),2&$e){const je=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!je.emptyMessageTemplate)("ngIfElse",je.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",je.emptyMessageTemplate)}}function Oe($e,Lt){1&$e&&e.GkF(0)}const et=function($e,Lt,je,sn){return{"p-tree p-component":!0,"p-tree-selectable":$e,"p-treenode-dragover":Lt,"p-tree-loading":je,"p-tree-flex-scrollable":sn}};function Ne($e,Lt){if(1&$e){const je=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(fn){e.CHM(je);const Gt=e.oxw();return e.KtG(Gt.onDrop(fn))})("dragover",function(fn){e.CHM(je);const Gt=e.oxw();return e.KtG(Gt.onDragOver(fn))})("dragenter",function(){e.CHM(je);const fn=e.oxw();return e.KtG(fn.onDragEnter())})("dragleave",function(fn){e.CHM(je);const Gt=e.oxw();return e.KtG(Gt.onDragLeave(fn))}),e.YNc(1,Xe,2,2,"div",3),e.YNc(2,ct,1,0,"ng-container",4),e.YNc(3,ot,4,1,"div",5),e.YNc(4,xe,4,9,"p-scroller",6),e.YNc(5,gt,4,3,"ng-container",7),e.YNc(6,Ot,3,3,"div",8),e.YNc(7,Oe,1,0,"ng-container",4),e.qZA()}if(2&$e){const je=e.oxw();e.Tol(je.styleClass),e.Q6J("ngClass",e.l5B(11,et,je.selectionMode,je.dragHover,je.loading,"flex"===je.scrollHeight))("ngStyle",je.style),e.xp6(1),e.Q6J("ngIf",je.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",je.headerTemplate),e.xp6(1),e.Q6J("ngIf",je.filter),e.xp6(1),e.Q6J("ngIf",je.virtualScroll),e.xp6(1),e.Q6J("ngIf",!je.virtualScroll),e.xp6(1),e.Q6J("ngIf",!je.loading&&(null==je.getRootNode()||0===je.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",je.footerTemplate)}}function yt($e,Lt){1&$e&&e.GkF(0)}function ee($e,Lt){if(1&$e&&(e.TgZ(0,"div",34),e._UZ(1,"i"),e.qZA()),2&$e){const je=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+je.loadingIcon)}}function Ze($e,Lt){if(1&$e&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",35),e.qZA()),2&$e){const je=e.oxw(2);e.xp6(1),e.Q6J("node",je.value[0])("root",!0)}}function Ce($e,Lt){if(1&$e&&(e.ynx(0),e._uU(1),e.BQk()),2&$e){const je=e.oxw(3);e.xp6(1),e.hij(" ",je.emptyMessageLabel," ")}}function ft($e,Lt){1&$e&&e.GkF(0,null,31)}function an($e,Lt){if(1&$e&&(e.TgZ(0,"div",29),e.YNc(1,Ce,2,1,"ng-container",30),e.YNc(2,ft,2,0,"ng-container",4),e.qZA()),2&$e){const je=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!je.emptyMessageTemplate)("ngIfElse",je.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",je.emptyMessageTemplate)}}function Tn($e,Lt){1&$e&&e.GkF(0)}const qt=function($e){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":$e}};function xt($e,Lt){if(1&$e&&(e.TgZ(0,"div",32),e.YNc(1,yt,1,0,"ng-container",4),e.YNc(2,ee,2,2,"div",33),e.YNc(3,Ze,2,2,"table",7),e.YNc(4,an,3,3,"div",8),e.YNc(5,Tn,1,0,"ng-container",4),e.qZA()),2&$e){const je=e.oxw();e.Tol(je.styleClass),e.Q6J("ngClass",e.VKq(9,qt,je.selectionMode))("ngStyle",je.style),e.xp6(1),e.Q6J("ngTemplateOutlet",je.headerTemplate),e.xp6(1),e.Q6J("ngIf",je.loading),e.xp6(1),e.Q6J("ngIf",je.value&&je.value[0]),e.xp6(1),e.Q6J("ngIf",!je.loading&&(null==je.getRootNode()||0===je.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",je.footerTemplate)}}let Ct=(()=>{class $e{constructor(je){this.tree=je}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let je;return je=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,$e.ICON_CLASS+" "+je}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(je){this.node.expanded?this.collapse(je):this.expand(je)}expand(je){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:je,node:this.node})}collapse(je){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:je,node:this.node})}onNodeClick(je){this.tree.onNodeClick(je,this.node)}onNodeKeydown(je){13===je.which&&this.tree.onNodeClick(je,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(je){this.tree.onNodeRightClick(je,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(je,sn){je.preventDefault();let fn=this.tree.dragNode,Bt=this.tree.dragNodeTree!==this.tree||1===sn||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(fn,this.node,this.tree.dragNodeScope)&&Bt){let rn=Object.assign({},this.createDropPointEventMetadata(sn));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:je,dragNode:fn,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(rn)}}):(this.processPointDrop(rn),this.tree.onNodeDrop.emit({originalEvent:je,dragNode:fn,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(je){let sn=je.dropNode.parent?je.dropNode.parent.children:this.tree.value;je.dragNodeSubNodes.splice(je.dragNodeIndex,1);let fn=this.index;je.position<0?(fn=je.dragNodeSubNodes===sn?je.dragNodeIndex>je.index?je.index:je.index-1:je.index,sn.splice(fn,0,je.dragNode)):(fn=sn.length,sn.push(je.dragNode)),this.tree.dragDropService.stopDrag({node:je.dragNode,subNodes:je.dropNode.parent?je.dropNode.parent.children:this.tree.value,index:je.dragNodeIndex})}createDropPointEventMetadata(je){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:je}}onDropPointDragOver(je){je.dataTransfer.dropEffect="move",je.preventDefault()}onDropPointDragEnter(je,sn){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(sn<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(je){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(je){this.tree.draggableNodes&&!1!==this.node.draggable?(je.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):je.preventDefault()}onDragStop(je){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(je){je.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(je.preventDefault(),je.stopPropagation())}onDropNode(je){if(this.tree.droppableNodes&&!1!==this.node.droppable){let sn=this.tree.dragNode;if(this.tree.allowDrop(sn,this.node,this.tree.dragNodeScope)){let fn=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:je,dragNode:sn,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(fn)}}):(this.processNodeDrop(fn),this.tree.onNodeDrop.emit({originalEvent:je,dragNode:sn,dropNode:this.node,index:this.index}))}}je.preventDefault(),je.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(je){let sn=je.dragNodeIndex;je.dragNodeSubNodes.splice(sn,1),je.dropNode.children?je.dropNode.children.push(je.dragNode):je.dropNode.children=[je.dragNode],this.tree.dragDropService.stopDrag({node:je.dragNode,subNodes:je.dropNode.parent?je.dropNode.parent.children:this.tree.value,index:sn})}onDropNodeDragEnter(je){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(je){if(this.tree.droppableNodes){let sn=je.currentTarget.getBoundingClientRect();(je.x>sn.left+sn.width||je.x<sn.left||je.y>=Math.floor(sn.top+sn.height)||je.y<sn.top)&&(this.draghoverNode=!1)}}onKeyDown(je){const sn=je.target.parentElement.parentElement;if(!("P-TREENODE"!==sn.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(je.which){case 40:const fn=this.tree.droppableNodes?sn.children[1].children[1]:sn.children[0].children[1];if(fn&&fn.children.length>0)this.focusNode(fn.children[0]);else{const Gt=sn.nextElementSibling;if(Gt)this.focusNode(Gt);else{let On=this.findNextSiblingOfAncestor(sn);On&&this.focusNode(On)}}je.preventDefault();break;case 38:if(sn.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(sn.previousElementSibling));else{let Gt=this.getParentNodeElement(sn);Gt&&this.focusNode(Gt)}je.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(je),je.preventDefault();break;case 37:if(this.node.expanded)this.collapse(je);else{let Gt=this.getParentNodeElement(sn);Gt&&this.focusNode(Gt)}je.preventDefault();break;case 13:this.tree.onNodeClick(je,this.node),je.preventDefault()}}findNextSiblingOfAncestor(je){let sn=this.getParentNodeElement(je);return sn?sn.nextElementSibling?sn.nextElementSibling:this.findNextSiblingOfAncestor(sn):null}findLastVisibleDescendant(je){const fn=Array.from(je.children).find(Gt=>x.p.hasClass(Gt,"p-treenode")).children[1];return fn&&fn.children.length>0?this.findLastVisibleDescendant(fn.children[fn.children.length-1]):je}getParentNodeElement(je){const sn=je.parentElement.parentElement.parentElement;return"P-TREENODE"===sn.tagName?sn:null}focusNode(je){this.tree.droppableNodes?je.children[1].children[0].focus():je.children[0].children[0].focus()}}return $e.ICON_CLASS="p-treenode-icon ",$e.\u0275fac=function(je){return new(je||$e)(e.Y36((0,e.Gpc)(()=>me)))},$e.\u0275cmp=e.Xpm({type:$e,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(je,sn){1&je&&e.YNc(0,X,4,4,"ng-template",0),2&je&&e.Q6J("ngIf",sn.node)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,R.H,$e],encapsulation:2}),$e})(),me=(()=>{class $e{constructor(je,sn,fn){this.el=je,this.dragDropService=sn,this.config=fn,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.lazy=!1,this.indentation=1.5,this.trackBy=(Gt,On)=>On,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.onNodeContextMenuSelect=new e.vpe,this.onNodeDrop=new e.vpe,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this.onFilter=new e.vpe}get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(je){this._virtualNodeHeight=je,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(je=>{this.dragNodeTree=je.tree,this.dragNode=je.node,this.dragNodeSubNodes=je.subNodes,this.dragNodeIndex=je.index,this.dragNodeScope=je.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(je=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(je){je.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(u.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(je=>{switch(je.getType()){case"header":this.headerTemplate=je.template;break;case"empty":this.emptyMessageTemplate=je.template;break;case"footer":this.footerTemplate=je.template;break;case"loader":this.loaderTemplate=je.template;break;default:this._templateMap[je.name]=je.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(je,sn,fn,Gt){if(sn&&sn.length)for(let On of sn){On.parent=je;const Bt={node:On,parent:je,level:fn,visible:Gt&&(!je||je.expanded)};this.serializedValue.push(Bt),Bt.visible&&On.expanded&&this.serializeNodes(On,On.children,fn+1,Bt.visible)}}onNodeClick(je,sn){let fn=je.target;if(!x.p.hasClass(fn,"p-tree-toggler")&&!x.p.hasClass(fn,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===sn.selectable||this.hasFilteredNodes()&&!(sn=this.getNodeWithKey(sn.key,this.value)))return;let Gt=this.findIndexInSelection(sn),On=Gt>=0;if(this.isCheckboxSelectionMode())On?(this.propagateSelectionDown?this.propagateDown(sn,!1):this.selection=this.selection.filter((Bt,rn)=>rn!=Gt),this.propagateSelectionUp&&sn.parent&&this.propagateUp(sn.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:je,node:sn})):(this.propagateSelectionDown?this.propagateDown(sn,!0):this.selection=[...this.selection||[],sn],this.propagateSelectionUp&&sn.parent&&this.propagateUp(sn.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:je,node:sn}));else if(!this.nodeTouched&&this.metaKeySelection){let rn=je.metaKey||je.ctrlKey;On&&rn?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((Hn,zn)=>zn!=Gt),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:je,node:sn})):(this.isSingleSelectionMode()?this.selectionChange.emit(sn):this.isMultipleSelectionMode()&&(this.selection=rn&&this.selection||[],this.selection=[...this.selection,sn],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:je,node:sn}))}else this.isSingleSelectionMode()?On?(this.selection=null,this.onNodeUnselect.emit({originalEvent:je,node:sn})):(this.selection=sn,this.onNodeSelect.emit({originalEvent:je,node:sn})):On?(this.selection=this.selection.filter((rn,Hn)=>Hn!=Gt),this.onNodeUnselect.emit({originalEvent:je,node:sn})):(this.selection=[...this.selection||[],sn],this.onNodeSelect.emit({originalEvent:je,node:sn})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(je,sn){if(this.contextMenu){let fn=je.target;if(fn.className&&0===fn.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(sn)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(sn):this.selectionChange.emit([sn])),this.contextMenu.show(je),this.onNodeContextMenuSelect.emit({originalEvent:je,node:sn})}}findIndexInSelection(je){let sn=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())sn=this.selection.key&&this.selection.key===je.key||this.selection==je?0:-1;else for(let fn=0;fn<this.selection.length;fn++){let Gt=this.selection[fn];if(Gt.key&&Gt.key===je.key||Gt==je){sn=fn;break}}return sn}syncNodeOption(je,sn,fn,Gt){const On=this.hasFilteredNodes()?this.getNodeWithKey(je.key,sn):null;On&&(On[fn]=Gt||je[fn])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(je,sn){for(let fn of sn){if(fn.key===je)return fn;if(fn.children){let Gt=this.getNodeWithKey(je,fn.children);if(Gt)return Gt}}}propagateUp(je,sn){if(je.children&&je.children.length){let Gt=0,On=!1;for(let Bt of je.children)this.isSelected(Bt)?Gt++:Bt.partialSelected&&(On=!0);if(sn&&Gt==je.children.length)this.selection=[...this.selection||[],je],je.partialSelected=!1;else{if(!sn){let Bt=this.findIndexInSelection(je);Bt>=0&&(this.selection=this.selection.filter((rn,Hn)=>Hn!=Bt))}je.partialSelected=!!(On||Gt>0&&Gt!=je.children.length)}this.syncNodeOption(je,this.filteredNodes,"partialSelected")}let fn=je.parent;fn&&this.propagateUp(fn,sn)}propagateDown(je,sn){let fn=this.findIndexInSelection(je);if(sn&&-1==fn?this.selection=[...this.selection||[],je]:!sn&&fn>-1&&(this.selection=this.selection.filter((Gt,On)=>On!=fn)),je.partialSelected=!1,this.syncNodeOption(je,this.filteredNodes,"partialSelected"),je.children&&je.children.length)for(let Gt of je.children)this.propagateDown(Gt,sn)}isSelected(je){return-1!=this.findIndexInSelection(je)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(je){return 0!=je.leaf&&!(je.children&&je.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(je){return this._templateMap?je.type?this._templateMap[je.type]:this._templateMap.default:null}onDragOver(je){this.droppableNodes&&(!this.value||0===this.value.length)&&(je.dataTransfer.dropEffect="move",je.preventDefault())}onDrop(je){if(this.droppableNodes&&(!this.value||0===this.value.length)){je.preventDefault();let sn=this.dragNode;if(this.allowDrop(sn,null,this.dragNodeScope)){let fn=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:je,dragNode:sn,dropNode:null,index:fn,accept:()=>{this.processTreeDrop(sn,fn)}}):(this.onNodeDrop.emit({originalEvent:je,dragNode:sn,dropNode:null,index:fn}),this.processTreeDrop(sn,fn))}}}processTreeDrop(je,sn){this.dragNodeSubNodes.splice(sn,1),this.value.push(je),this.dragDropService.stopDrag({node:je})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(je){if(this.droppableNodes){let sn=je.currentTarget.getBoundingClientRect();(je.x>sn.left+sn.width||je.x<sn.left||je.y>sn.top+sn.height||je.y<sn.top)&&(this.dragHover=!1)}}allowDrop(je,sn,fn){if(je){if(this.isValidDragScope(fn)){let Gt=!0;if(sn)if(je===sn)Gt=!1;else{let On=sn.parent;for(;null!=On;){if(On===je){Gt=!1;break}On=On.parent}}return Gt}return!1}return!1}isValidDragScope(je){let sn=this.droppableScope;if(sn){if("string"==typeof sn){if("string"==typeof je)return sn===je;if(je instanceof Array)return-1!=je.indexOf(sn)}else if(sn instanceof Array){if("string"==typeof je)return-1!=sn.indexOf(je);if(je instanceof Array)for(let fn of sn)for(let Gt of je)if(fn===Gt)return!0}return!1}return!0}_filter(je){let sn=je;if(""===sn)this.filteredNodes=null;else{this.filteredNodes=[];const fn=this.filterBy.split(","),Gt=p.gb.removeAccents(sn).toLocaleLowerCase(this.filterLocale),On="strict"===this.filterMode;for(let Bt of this.value){let rn=Object.assign({},Bt),Hn={searchFields:fn,filterText:Gt,isStrictMode:On};(On&&(this.findFilteredNodes(rn,Hn)||this.isFilterMatched(rn,Hn))||!On&&(this.isFilterMatched(rn,Hn)||this.findFilteredNodes(rn,Hn)))&&this.filteredNodes.push(rn)}}this.updateSerializedValue(),this.onFilter.emit({filter:sn,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(je){this.virtualScroll&&this.scroller.scrollToIndex(je)}scrollTo(je){this.virtualScroll?this.scroller.scrollTo(je):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(je):(this.wrapperViewChild.nativeElement.scrollLeft=je.left,this.wrapperViewChild.nativeElement.scrollTop=je.top))}findFilteredNodes(je,sn){if(je){let fn=!1;if(je.children){let Gt=[...je.children];je.children=[];for(let On of Gt){let Bt=Object.assign({},On);this.isFilterMatched(Bt,sn)&&(fn=!0,je.children.push(Bt))}}if(fn)return je.expanded=!0,!0}}isFilterMatched(je,{searchFields:sn,filterText:fn,isStrictMode:Gt}){let On=!1;for(let Bt of sn)p.gb.removeAccents(String(p.gb.resolveFieldData(je,Bt))).toLocaleLowerCase(this.filterLocale).indexOf(fn)>-1&&(On=!0);return(!On||Gt&&!this.isNodeLeaf(je))&&(On=this.findFilteredNodes(je,{searchFields:sn,filterText:fn,isStrictMode:Gt})||On),On}getIndex(je,sn){const fn=je.getItemOptions;return fn?fn(sn).index:sn}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return $e.\u0275fac=function(je){return new(je||$e)(e.Y36(e.SBq),e.Y36(u.Y,8),e.Y36(u.b4))},$e.\u0275cmp=e.Xpm({type:$e,selectors:[["p-tree"]],contentQueries:function(je,sn,fn){if(1&je&&e.Suo(fn,u.jx,4),2&je){let Gt;e.iGM(Gt=e.CRH())&&(sn.templates=Gt)}},viewQuery:function(je,sn){if(1&je&&(e.Gf(q,5),e.Gf(pe,5),e.Gf(_e,5)),2&je){let fn;e.iGM(fn=e.CRH())&&(sn.filterViewChild=fn.first),e.iGM(fn=e.CRH())&&(sn.scroller=fn.first),e.iGM(fn=e.CRH())&&(sn.wrapperViewChild=fn.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","style","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],["styleClass","p-tree-wrapper",3,"items","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(je,sn){1&je&&(e.YNc(0,Ne,8,16,"div",0),e.YNc(1,xt,6,11,"div",1)),2&je&&(e.Q6J("ngIf",!sn.horizontal),e.xp6(1),e.Q6J("ngIf",sn.horizontal))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.jx,b.T,Ct],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}\n"],encapsulation:2}),$e})(),lt=(()=>{class $e{}return $e.\u0275fac=function(je){return new(je||$e)},$e.\u0275mod=e.oAB({type:$e}),$e.\u0275inj=e.cJS({imports:[d.ez,u.m8,R.T,b.v,u.m8,b.v]}),$e})()},5921:(dn,pt,C)=>{"use strict";C.d(pt,{P9:()=>x,Th:()=>u,gb:()=>e});class e{static equals(b,s,F){return F?this.resolveFieldData(b,F)===this.resolveFieldData(s,F):this.equalsByValue(b,s)}static equalsByValue(b,s){if(b===s)return!0;if(b&&s&&"object"==typeof b&&"object"==typeof s){var Q,N,T,F=Array.isArray(b),O=Array.isArray(s);if(F&&O){if((N=b.length)!=s.length)return!1;for(Q=N;0!=Q--;)if(!this.equalsByValue(b[Q],s[Q]))return!1;return!0}if(F!=O)return!1;var y=b instanceof Date,w=s instanceof Date;if(y!=w)return!1;if(y&&w)return b.getTime()==s.getTime();var k=b instanceof RegExp,V=s instanceof RegExp;if(k!=V)return!1;if(k&&V)return b.toString()==s.toString();var U=Object.keys(b);if((N=U.length)!==Object.keys(s).length)return!1;for(Q=N;0!=Q--;)if(!Object.prototype.hasOwnProperty.call(s,U[Q]))return!1;for(Q=N;0!=Q--;)if(!this.equalsByValue(b[T=U[Q]],s[T]))return!1;return!0}return b!=b&&s!=s}static resolveFieldData(b,s){if(b&&s){if(this.isFunction(s))return s(b);if(-1==s.indexOf("."))return b[s];{let F=s.split("."),O=b;for(let Q=0,N=F.length;Q<N;++Q){if(null==O)return null;O=O[F[Q]]}return O}}return null}static isFunction(b){return!!(b&&b.constructor&&b.call&&b.apply)}static reorderArray(b,s,F){b&&s!==F&&(F>=b.length&&(F%=b.length,s%=b.length),b.splice(F,0,b.splice(s,1)[0]))}static insertIntoOrderedArray(b,s,F,O){if(F.length>0){let Q=!1;for(let N=0;N<F.length;N++)if(this.findIndexInList(F[N],O)>s){F.splice(N,0,b),Q=!0;break}Q||F.push(b)}else F.push(b)}static findIndexInList(b,s){let F=-1;if(s)for(let O=0;O<s.length;O++)if(s[O]==b){F=O;break}return F}static contains(b,s){if(null!=b&&s&&s.length)for(let F of s)if(this.equals(b,F))return!0;return!1}static removeAccents(b){return b&&b.search(/[\xC0-\xFF]/g)>-1&&(b=b.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),b}static isEmpty(b){return null==b||""===b||Array.isArray(b)&&0===b.length||!(b instanceof Date)&&"object"==typeof b&&0===Object.keys(b).length}static isNotEmpty(b){return!this.isEmpty(b)}static compare(b,s,F,O=1){let Q=-1;const N=this.isEmpty(b),T=this.isEmpty(s);return Q=N&&T?0:N?O:T?-O:"string"==typeof b&&"string"==typeof s?b.localeCompare(s,F,{numeric:!0}):b<s?-1:b>s?1:0,Q}static sort(b,s,F=1,O,Q=1){return(1===Q?F:Q)*e.compare(b,s,O,F)}static merge(b,s){return null!=b&&"object"!=typeof b||null!=s&&"object"!=typeof s?null!=b&&"string"!=typeof b||null!=s&&"string"!=typeof s?s||b:[b||"",s||""].join(" "):Object.assign(Object.assign({},b||{}),s||{})}}var d=0;function u(){return"pr_id_"+ ++d}var x=function p(){let R=[];const O=Q=>Q&&parseInt(Q.style.zIndex,10)||0;return{get:O,set:(Q,N,T)=>{N&&(N.style.zIndex=String(((Q,N)=>{let T=R.length>0?R[R.length-1]:{key:Q,value:N},y=T.value+(T.key===Q?0:N)+1;return R.push({key:Q,value:y}),y})(Q,T)))},clear:Q=>{Q&&((Q=>{R=R.filter(N=>N.value!==Q)})(O(Q)),Q.style.zIndex="")},getCurrent:()=>R.length>0?R[R.length-1].value:0}}()},5861:(dn,pt,C)=>{"use strict";function e(u,p,x,R,b,s,F){try{var O=u[s](F),Q=O.value}catch(N){return void x(N)}O.done?p(Q):Promise.resolve(Q).then(R,b)}function d(u){return function(){var p=this,x=arguments;return new Promise(function(R,b){var s=u.apply(p,x);function F(Q){e(s,R,b,F,O,"next",Q)}function O(Q){e(s,R,b,F,O,"throw",Q)}F(void 0)})}}C.d(pt,{Z:()=>d})}},dn=>{dn(dn.s=8255)}]);