<ng-container [ngSwitch]="field?.type">

    <div *ngSwitchCase="'BOOLEAN'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <p-dropdown
                (ngModelChange)="onChange($event)"
                [(ngModel)]="controlValue"
                [options]="[
                    {label:'Да',value:true},
                    {label:'Нет',value:false},
                    {label:'Не выбрано',value:null}
                ]"
        ></p-dropdown>
    </div>

    <div *ngSwitchCase="'SMALL_TEXT'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)"
               [(ngModel)]="controlValue" pInputText>
    </div>

    <div *ngSwitchCase="'LARGE_TEXT'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)"
               [(ngModel)]="controlValue" pInputText>
    </div>

    <div *ngSwitchCase="'INTEGER'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <p-inputNumber (ngModelChange)="onChange($event)"
                       [(ngModel)]="controlValue"></p-inputNumber>
    </div>

    <div *ngSwitchCase="'FLOAT'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <p-inputNumber (ngModelChange)="onChange($event)"
                       [(ngModel)]="controlValue" [minFractionDigits]="1"></p-inputNumber>
    </div>

    <div *ngSwitchCase="'ADDRESS'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <app-address-input (ngModelChange)="onChange($event)" (onBlur)="onTouched()"
                           [(ngModel)]="controlValue"></app-address-input>
    </div>

    <div *ngSwitchCase="'LOGIN'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)"
               [(ngModel)]="controlValue" appRegexPatternChecker pInputText patternRx="^[\dA-z_]+$">
    </div>

    <div *ngSwitchCase="'AD_SOURCE'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <p-dropdown (onBlur)="onTouched()" (ngModelChange)="onChange($event)" placeholder="Рекламный источник" appendTo="body" [(ngModel)]="controlValue"
                    [options]="(adSources$ | async) ?? []" [showClear]="true"></p-dropdown>
    </div>

    <div *ngSwitchCase="'REQUEST_INITIATOR'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)"
               [(ngModel)]="controlValue" appRegexPatternChecker pInputText patternRx="^[\dA-z_]+$">
    </div>

    <div *ngSwitchCase="'IP'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)"
               [(ngModel)]="controlValue" appRegexPatternChecker pInputText patternRx="^[\d\.]+$">
    </div>

    <div *ngSwitchCase="'EQUIPMENTS'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <app-equipments-field-filter (ngModelChange)="onChange($event)"
                                    [(ngModel)]="controlValue"></app-equipments-field-filter>
    </div>

    <div *ngSwitchCase="'CONNECTION_SERVICES'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <app-connection-services-input (ngModelChange)="onChange($event)" (onBlur)="onTouched()"
                                       [(ngModel)]="controlValue"></app-connection-services-input>
    </div>

    <div *ngSwitchCase="'CONNECTION_TYPE'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <p-dropdown (onBlur)="onTouched()" (ngModelChange)="onChange($event)" placeholder="Тип подключения" appendTo="body" [(ngModel)]="controlValue"
                    [options]="(connectionTypes$ | async) ?? []" [showClear]="true"></p-dropdown>
    </div>

    <div *ngSwitchCase="'PHONE_ARRAY'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)" (blur)="onTouched()"
               [(ngModel)]="controlValue" appRegexPatternChecker pInputText patternRx="^[1-9]\d{0,10}$">
    </div>

    <div *ngSwitchCase="'COUNTING_LIVES'" class="input-label-wrapper">
        <ng-container *ngTemplateOutlet="label"></ng-container>
        <input (ngModelChange)="onChange($event)" (blur)="onTouched()"
               [(ngModel)]="controlValue" pInputText/>
    </div>

    <div *ngSwitchDefault [style.background-color]="'red'"></div>

</ng-container>

<ng-template #label>
    <label>
        {{field?.name}}
    </label>
</ng-template>
